<html>
<head>
<title>Proper Form Validation with Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用代码进行正确的形式验证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/proper-form-validation-with-code-ee7777bd2141?source=collection_archive---------9-----------------------#2022-03-15">https://javascript.plainenglish.io/proper-form-validation-with-code-ee7777bd2141?source=collection_archive---------9-----------------------#2022-03-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="fef6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何以更好、更安全的方式进行表单验证的指南。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b991a3e2b60a630c5eac574e31c7d6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LE6IufyBm_fyHizoWFmKkg.png"/></div></div></figure><p id="48f5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果你还不知道表单验证，那么你的网站就有风险。在本文中，我将向您展示如何以更好、更安全的方式进行表单验证。我会解释哪种方法有用，为什么有用。</p><p id="5637" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">注:</strong> <em class="lk">原载于2022年3月14日</em><a class="ae ll" href="https://uprightcodes.com/form-validation-with-code/" rel="noopener ugc nofollow" target="_blank"><em class="lk">【https://uprightcodes.com】</em></a><em class="lk">。</em></p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="f571" class="lr ls in ln b gy lt lu l lv lw"> <br/>· <a class="ae ll" href="#af5f" rel="noopener ugc nofollow">What is form validation?</a><br/>· <a class="ae ll" href="#9d15" rel="noopener ugc nofollow">Importance of form validation</a><br/>  ∘ <a class="ae ll" href="#64de" rel="noopener ugc nofollow">Client Side</a><br/>  ∘ <a class="ae ll" href="#b595" rel="noopener ugc nofollow">Server Side</a><br/>· <a class="ae ll" href="#168a" rel="noopener ugc nofollow">Writing the code</a><br/>  ∘ <a class="ae ll" href="#8f2d" rel="noopener ugc nofollow">Simple javascript form validation</a><br/>· <a class="ae ll" href="#bef3" rel="noopener ugc nofollow">Explanation</a><br/>· <a class="ae ll" href="#f010" rel="noopener ugc nofollow">Resources:</a></span></pre><h1 id="af5f" class="lx ls in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">什么是表单验证？</h1><p id="ef1b" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">表单验证是通过不让任何恶意代码进入您的网站来确保表单输入安全的一种方式。表单验证通过以您希望的方式处理输入来限制用户。这意味着，如果您有一个要求用户名的输入，而您的用户输入了恶意代码。如果你不检查用户输入了什么，那么这会给你带来问题。这种情况经常发生，有时用户是故意这样做的。为了防止这种情况，您必须检查用户是否输入了正确的信息。</p><h1 id="9d15" class="lx ls in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">表单验证的重要性</h1><p id="0b87" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">网站最脆弱的部分是表单。攻击者可以通过使用简单的表单输入来操纵整个网站。为了防止对您的网站的恶意攻击，您需要制定策略来保护输入并使您的表单不那么容易受到攻击，您可以通过适当的表单验证来做到这一点。没有经过适当验证的表单就像为攻击者打开了一扇大门，您宝贵的数据可能会面临风险。</p><p id="288b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一个具有适当形式验证的网站有助于防止许多攻击，如<a class="ae ll" href="https://en.wikipedia.org/wiki/Cross-site_scripting" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk"/></strong></a><a class="ae ll" href="https://en.wikipedia.org/wiki/SQL_injection" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">SQL注入</em></strong></a><strong class="kq io"><em class="lk"/></strong>等。这些攻击非常普遍，它们会损害用户的隐私。就像我上面提到的，用户可以通过你的表单输入故意向你的网站注入恶意代码。我很确定你不希望这种事发生。</p><p id="9675" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有两种类型的表单验证:</p><h2 id="64de" class="lr ls in bd ly mt mu dn mc mv mw dp mg kx mx my mi lb mz na mk lf nb nc mm nd bi translated"><strong class="ak">客户端</strong></h2><p id="2bef" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">客户端验证是用javascript完成的。这基本上意味着它发生在提交输入数据之前。当您希望用户立即知道他们输入了不正确的数据时，这很有帮助。例如，当用户在表单中输入一个值时，一旦他们犯了一个错误，他们就会得到一个错误。这有助于避免向服务器发出不必要的请求。</p><h2 id="b595" class="lr ls in bd ly mt mu dn mc mv mw dp mg kx mx my mi lb mz na mk lf nb nc mm nd bi translated"><strong class="ak">服务器端</strong></h2><p id="5bc6" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">当用户在向服务器发出请求后提交输入数据时，就会发生这种情况。这是最重要的验证类型。因为，如果攻击者通过了客户端的验证，他们一定无法通过服务器端的验证。您必须确保存储在数据库中的任何数据都是干净的。</p><h1 id="168a" class="lx ls in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">编写代码</h1><p id="5d7c" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">所以，现在你知道了表单验证的重要性，现在我来告诉你如何实现它。我将只做客户端验证。</p><p id="0508" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">做这件事有许多不同的方法。我在向你展示我是怎么做的。</p><h2 id="8f2d" class="lr ls in bd ly mt mu dn mc mv mw dp mg kx mx my mi lb mz na mk lf nb nc mm nd bi translated"><strong class="ak">简单的javascript表单验证</strong></h2><p id="5a91" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">假设我在一个网站上有一个简单的登录表单，下面是表单的HTML和CSS。</p><p id="9f38" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> HTML </strong></p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="060a" class="lr ls in ln b gy lt lu l lv lw">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;</span><span id="de6a" class="lr ls in ln b gy ne lu l lv lw">&lt;head&gt;<br/>  &lt;meta charset="UTF-8"&gt;<br/>  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br/>  &lt;title&gt;Document&lt;/title&gt;<br/>  &lt;link rel="stylesheet" href="style.css"&gt;<br/>&lt;/head&gt;</span><span id="a40e" class="lr ls in ln b gy ne lu l lv lw">&lt;body&gt;<br/>  &lt;div class="wrapper"&gt;<br/>    &lt;div class="form-wrapper"&gt;<br/>      &lt;h2 class="title"&gt;Login to Your Account&lt;/h2&gt;<br/>      &lt;form id="form" class="form"&gt;<br/>        &lt;div class="form-group"&gt;<br/>          &lt;label for="name"&gt;<br/>            Email:<br/>          &lt;/label&gt;<br/>          &lt;input id="email" type="email" placeholder="<a class="ae ll" href="mailto:someone@gmail.com" rel="noopener ugc nofollow" target="_blank">someone@gmail.com</a>" required&gt;<br/>          &lt;p id="emailError"&gt;&lt;/p&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="form-group"&gt;<br/>          &lt;label for="password"&gt;<br/>            Password:<br/>          &lt;/label&gt;<br/>          &lt;input id="password" type="password" placeholder="Enter Password" required&gt;<br/>          &lt;p id="passwordError"&gt;&lt;/p&gt;<br/>        &lt;/div&gt;<br/>        &lt;input type="submit" value="Login"&gt;<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="success-msg-container"&gt;<br/>      &lt;h2 id="msg" class="msg"&gt;You have provided the correct details and your form will be processed&lt;/h2&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>  &lt;script src="script.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;</span><span id="c6a5" class="lr ls in ln b gy ne lu l lv lw">&lt;/html&gt;</span></pre><p id="e559" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们还可以添加CSS来使表单在网页上看起来更好。</p><p id="baaf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> CSS </strong></p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="4753" class="lr ls in ln b gy lt lu l lv lw">@import url("https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;700&amp;display=swap");</span><span id="2991" class="lr ls in ln b gy ne lu l lv lw">* {</span><span id="50e1" class="lr ls in ln b gy ne lu l lv lw"> padding: 0;</span><span id="bbbf" class="lr ls in ln b gy ne lu l lv lw"> margin: 0;</span><span id="e760" class="lr ls in ln b gy ne lu l lv lw"> box-sizing: border-box;</span><span id="82ef" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="3f82" class="lr ls in ln b gy ne lu l lv lw">body {</span><span id="bf32" class="lr ls in ln b gy ne lu l lv lw"> font-family: "Roboto Slab", serif;</span><span id="f7e1" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="9ddd" class="lr ls in ln b gy ne lu l lv lw">.wrapper {</span><span id="5e2a" class="lr ls in ln b gy ne lu l lv lw"> width: 100%;</span><span id="e2e1" class="lr ls in ln b gy ne lu l lv lw"> min-height: 100vh;</span><span id="2b1f" class="lr ls in ln b gy ne lu l lv lw"> display: flex;</span><span id="7bb2" class="lr ls in ln b gy ne lu l lv lw"> justify-content: center;</span><span id="95f6" class="lr ls in ln b gy ne lu l lv lw"> align-items: center;</span><span id="1b97" class="lr ls in ln b gy ne lu l lv lw"> background-image: linear-gradient(</span><span id="e71d" class="lr ls in ln b gy ne lu l lv lw">   135deg,</span><span id="9052" class="lr ls in ln b gy ne lu l lv lw">   rgb(30, 250, 180),</span><span id="efa9" class="lr ls in ln b gy ne lu l lv lw">   rgb(180, 30, 250)</span><span id="e9d3" class="lr ls in ln b gy ne lu l lv lw">  );</span><span id="3cad" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="67f1" class="lr ls in ln b gy ne lu l lv lw">.form-wrapper {</span><span id="a245" class="lr ls in ln b gy ne lu l lv lw"> width: 100%;</span><span id="72f2" class="lr ls in ln b gy ne lu l lv lw"> max-width: 500px;</span><span id="cf10" class="lr ls in ln b gy ne lu l lv lw"> padding: 50px;</span><span id="0b34" class="lr ls in ln b gy ne lu l lv lw"> background-color: white;</span><span id="82f1" class="lr ls in ln b gy ne lu l lv lw"> box-shadow: 0 0 10px rgba(30, 250, 180, 0.4);</span><span id="b029" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="3cd7" class="lr ls in ln b gy ne lu l lv lw">.title {</span><span id="efa5" class="lr ls in ln b gy ne lu l lv lw"> margin-bottom: 50px;</span><span id="8d19" class="lr ls in ln b gy ne lu l lv lw"> font-weight: bold;</span><span id="03c0" class="lr ls in ln b gy ne lu l lv lw"> text-align: center;</span><span id="41c3" class="lr ls in ln b gy ne lu l lv lw"> font-size: 2em;</span><span id="af90" class="lr ls in ln b gy ne lu l lv lw"> color: black;</span><span id="bce2" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="56b1" class="lr ls in ln b gy ne lu l lv lw">.form-group {</span><span id="0ef3" class="lr ls in ln b gy ne lu l lv lw"> margin: 20px 0;</span><span id="d8da" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="74ce" class="lr ls in ln b gy ne lu l lv lw">input {</span><span id="de4c" class="lr ls in ln b gy ne lu l lv lw"> font-size: 30px;</span><span id="5e10" class="lr ls in ln b gy ne lu l lv lw"> padding: 10px 20px;</span><span id="1d13" class="lr ls in ln b gy ne lu l lv lw"> border-radius: 10px;</span><span id="798e" class="lr ls in ln b gy ne lu l lv lw"> border: none;</span><span id="8092" class="lr ls in ln b gy ne lu l lv lw"> outline: none;</span><span id="21c9" class="lr ls in ln b gy ne lu l lv lw"> margin: 5px 0;</span><span id="0cf1" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="7b78" class="lr ls in ln b gy ne lu l lv lw">label {</span><span id="4823" class="lr ls in ln b gy ne lu l lv lw"> font-size: 15px;</span><span id="7caa" class="lr ls in ln b gy ne lu l lv lw"> font-weight: bold;</span><span id="ca7a" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="6cb3" class="lr ls in ln b gy ne lu l lv lw">input:not([type="submit"]) {</span><span id="479e" class="lr ls in ln b gy ne lu l lv lw"> width: 100%;</span><span id="3596" class="lr ls in ln b gy ne lu l lv lw"> border: 2px solid rgba(0, 0, 0, 0.7);</span><span id="1b22" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="fd98" class="lr ls in ln b gy ne lu l lv lw">input[type="submit"] {</span><span id="6199" class="lr ls in ln b gy ne lu l lv lw"> background-color: rgb(8, 131, 92);</span><span id="4a59" class="lr ls in ln b gy ne lu l lv lw"> color: white;</span><span id="b32b" class="lr ls in ln b gy ne lu l lv lw"> font-size: 20px;</span><span id="9fb9" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="a94e" class="lr ls in ln b gy ne lu l lv lw">input[type="submit"]:hover {</span><span id="e6a0" class="lr ls in ln b gy ne lu l lv lw"> cursor: pointer;</span><span id="fb4d" class="lr ls in ln b gy ne lu l lv lw"> background-color: rgb(35, 235, 171);</span><span id="1f39" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="e4f5" class="lr ls in ln b gy ne lu l lv lw">input[type="submit"]:active {</span><span id="8568" class="lr ls in ln b gy ne lu l lv lw"> background-color: rgb(28, 80, 63);</span><span id="7a4e" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="a4ff" class="lr ls in ln b gy ne lu l lv lw">.error #emailError,</span><span id="3445" class="lr ls in ln b gy ne lu l lv lw">.error #passwordError {</span><span id="c656" class="lr ls in ln b gy ne lu l lv lw"> color: red;</span><span id="619b" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="890e" class="lr ls in ln b gy ne lu l lv lw">.error input {</span><span id="cb99" class="lr ls in ln b gy ne lu l lv lw"> border: 2px solid red;</span><span id="42b4" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="5bae" class="lr ls in ln b gy ne lu l lv lw">.msg {</span><span id="7dae" class="lr ls in ln b gy ne lu l lv lw"> display: none;</span><span id="1039" class="lr ls in ln b gy ne lu l lv lw">}</span></pre><p id="c769" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">添加HTML和CSS后，我们的网页看起来会像这样:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/0c03ad3cb1a4d284a20edeba63e0fc08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*FlN4WA6_zIzqeptBJyxImQ.png"/></div></figure><p id="1ecb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在HTML中，你可以看到我有一个简单的表单，有两个输入，要求输入电子邮件和密码。现在，我想做的是，如果用户输入了错误的电子邮件，它会显示一条消息<em class="lk">“请输入有效的电子邮件”</em>。同样，如果用户提交一个空表单，我会显示一条错误消息，告诉他们<em class="lk">“请填写详细信息”</em>。所以，现在是时候添加javascript了。</p><p id="05f6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> Javascript </strong></p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="6ab7" class="lr ls in ln b gy lt lu l lv lw">const email = document.getElementById("email");</span><span id="23e1" class="lr ls in ln b gy ne lu l lv lw">const password = document.getElementById("password");</span><span id="9144" class="lr ls in ln b gy ne lu l lv lw">const form = document.getElementById("form");</span><span id="455c" class="lr ls in ln b gy ne lu l lv lw">const msg = document.getElementById("msg");</span><span id="56ae" class="lr ls in ln b gy ne lu l lv lw">// Function to validate the email</span><span id="5475" class="lr ls in ln b gy ne lu l lv lw">const validateEmail = (inputEmail)=&gt; inputEmail.value.match(/^(([^&lt;&gt;()\[\]\\.,;:\s@"]+(\.[^&lt;&gt;()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);</span><span id="5d4f" class="lr ls in ln b gy ne lu l lv lw">// Function to validate password</span><span id="97fc" class="lr ls in ln b gy ne lu l lv lw">const validatePassword = (inputPassword) =&gt; inputPassword.value.match(/^(([^&lt;&gt;()\[\]\\.,;:\s@"]+(\.[^&lt;&gt;()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);</span><span id="6521" class="lr ls in ln b gy ne lu l lv lw">// Function used to display errors</span><span id="76dd" class="lr ls in ln b gy ne lu l lv lw">const generateError = (errorName, errorMsg) =&gt;{</span><span id="02a4" class="lr ls in ln b gy ne lu l lv lw">    const emailError = document.getElementById("emailError");</span><span id="efd7" class="lr ls in ln b gy ne lu l lv lw">    const passwordError = document.getElementById("passwordError");</span><span id="6fc3" class="lr ls in ln b gy ne lu l lv lw">    if(errorName == "email"){</span><span id="50cc" class="lr ls in ln b gy ne lu l lv lw">     emailError.innerText = errorMsg;</span><span id="a75f" class="lr ls in ln b gy ne lu l lv lw">    }else if(errorName == "password"){</span><span id="fd6f" class="lr ls in ln b gy ne lu l lv lw">     passwordError.innerText = errorMsg;</span><span id="990f" class="lr ls in ln b gy ne lu l lv lw">    }<br/>}</span><span id="d981" class="lr ls in ln b gy ne lu l lv lw">const formValidate = (inputEmail, inputPassword) =&gt;{</span><span id="51ad" class="lr ls in ln b gy ne lu l lv lw">    if(!validateEmail(inputEmail)){</span><span id="fd89" class="lr ls in ln b gy ne lu l lv lw">     emailError = "please enter a valid email address";</span><span id="991f" class="lr ls in ln b gy ne lu l lv lw">     generateError("email",emailError);</span><span id="7917" class="lr ls in ln b gy ne lu l lv lw">     return;</span><span id="fe59" class="lr ls in ln b gy ne lu l lv lw">    }</span><span id="63ec" class="lr ls in ln b gy ne lu l lv lw">    if(!validatePassword(inputPassword)){</span><span id="563c" class="lr ls in ln b gy ne lu l lv lw">     passwordError = "please enter correct password";</span><span id="5538" class="lr ls in ln b gy ne lu l lv lw">     generateError(generateError("password",passwordError));</span><span id="1e14" class="lr ls in ln b gy ne lu l lv lw">     return;</span><span id="7d3d" class="lr ls in ln b gy ne lu l lv lw">    }</span><span id="0717" class="lr ls in ln b gy ne lu l lv lw">    // This is where you can write your code that you want to run          once the user has entered the correct information.</span><span id="13da" class="lr ls in ln b gy ne lu l lv lw">}</span><span id="2f38" class="lr ls in ln b gy ne lu l lv lw">//triggers when user submits the form</span><span id="5a2e" class="lr ls in ln b gy ne lu l lv lw">form.addEventListener("submit",(e) =&gt; {</span><span id="5ab9" class="lr ls in ln b gy ne lu l lv lw">    e.preventDefault();</span><span id="7132" class="lr ls in ln b gy ne lu l lv lw">    formValidate(email, password);</span><span id="7366" class="lr ls in ln b gy ne lu l lv lw">});</span><span id="28be" class="lr ls in ln b gy ne lu l lv lw">// Focusout event listener. Triggers when the user clicks anywhere else besides the input</span><span id="784a" class="lr ls in ln b gy ne lu l lv lw">email.addEventListener("focusout", (e)=&gt;{</span><span id="5cea" class="lr ls in ln b gy ne lu l lv lw">  if(!validateEmail(email)){</span><span id="f2f4" class="lr ls in ln b gy ne lu l lv lw">   email.style.borderColor = "red";</span><span id="f0b5" class="lr ls in ln b gy ne lu l lv lw">   generateError("email", "Please enter a valid email");</span><span id="a667" class="lr ls in ln b gy ne lu l lv lw">   email.parentElement.classList.add("error");</span><span id="6a2d" class="lr ls in ln b gy ne lu l lv lw">  }</span><span id="2c3c" class="lr ls in ln b gy ne lu l lv lw">});</span><span id="18b6" class="lr ls in ln b gy ne lu l lv lw">// Focusout event listener. Triggers when the user clicks anywhere else besides the input</span><span id="ff63" class="lr ls in ln b gy ne lu l lv lw">password.addEventListener("focusout", (e)=&gt;{</span><span id="33ec" class="lr ls in ln b gy ne lu l lv lw">  if(!validatePassword(password)){</span><span id="0e21" class="lr ls in ln b gy ne lu l lv lw">    password.style.borderColor = "red";</span><span id="156c" class="lr ls in ln b gy ne lu l lv lw">    generateError("password", "Please enter a valid password");</span><span id="e968" class="lr ls in ln b gy ne lu l lv lw">    password.parentElement.classList.add("error");</span><span id="64ab" class="lr ls in ln b gy ne lu l lv lw">  }</span><span id="c625" class="lr ls in ln b gy ne lu l lv lw">});</span></pre><h1 id="bef3" class="lx ls in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">说明</h1><p id="dfac" class="pw-post-body-paragraph ko kp in kq b kr mo jo kt ku mp jr kw kx mq kz la lb mr ld le lf ms lh li lj ig bi translated">现在让我解释一下我在javascript中做了什么。首先，我们来谈谈邮件。很简单，我希望用户只输入电子邮件，而不是其他任何东西。一种简单的方法是输入<em class="lk"> type="email" </em>。</p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="299a" class="lr ls in ln b gy lt lu l lv lw">&lt;input id="email" type="email" placeholder="Enter email" required&gt;</span></pre><p id="581b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">对于密码，您必须使用输入<em class="lk"> type="password" </em>。</p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="ed9d" class="lr ls in ln b gy lt lu l lv lw">&lt;input id="password" type="password" placeholder="Enter password" required&gt;</span></pre><p id="3e60" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">接下来您可以做的是将用户是否输入了有效的电子邮件与regex代码进行匹配，以确保用户输入了有效的电子邮件地址。我还在输入标签中添加了<strong class="kq io"> " <em class="lk"> required" </em> </strong>属性，这不会让用户在不提供细节的情况下进行进一步处理。</p><p id="38af" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">函数<strong class="kq io"><em class="lk">validate email</em></strong>和<strong class="kq io"><em class="lk">validate password</em></strong>用正则表达式匹配表单值，并根据结果返回true或false。如果有错误，它将不再继续处理。</p><p id="cff0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要显示错误消息，我只需使用“<strong class="kq io"><em class="lk">generate error</em></strong>”函数选择我想要放置错误消息的特定元素。</p><pre class="kd ke kf kg gt lm ln lo lp aw lq bi"><span id="9760" class="lr ls in ln b gy lt lu l lv lw">emailError.innerText = errorMsg;</span></pre><p id="d450" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这将是它的样子:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/1cad7699e003161cfdf3ac5e639ade76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*uPLF61py8XcCWDWFc3783w.png"/></div></figure><p id="a2cb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">重要提示:有很多人没有正确地验证表单，这导致了对敏感数据的潜在威胁。因此，不仅要在客户端，还要在服务器端养成正确验证表单的习惯。服务器端验证非常重要！</p><p id="1ad1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你可以在Codepen上找到这个项目。如果您认为可以使代码看起来更好、更安全，请随意使用代码并做一些修改。这是我上面解释的代码的实际版本:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ng nh l"/></div><figcaption class="ni nj gj gh gi nk nl bd b be z dk">See the Pen <a class="ae ll" href="https://codepen.io/tamur20/pen/zYEJYWQ" rel="noopener ugc nofollow" target="_blank">Form validation in javascript </a>by <a class="ae ll" href="https://codepen.io/tamur20" rel="noopener ugc nofollow" target="_blank">Tamur</a></figcaption></figure><p id="86e6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在你知道了。感谢您的阅读。</p><p id="f95f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">更多内容请看</em><a class="ae ll" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">plain English . io</em></strong></a><em class="lk">。报名参加我们的</em> <a class="ae ll" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="lk">免费周报</em> </strong> </a> <em class="lk">。关注我们关于</em><a class="ae ll" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">Twitter</em></strong></a><em class="lk">和</em><a class="ae ll" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">LinkedIn</em></strong></a><em class="lk">。加入我们的</em> <a class="ae ll" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="lk">社区不和谐</em> </strong> </a> <em class="lk">。</em></p></div></div>    
</body>
</html>