<html>
<head>
<title>JavaScript Keywords In-Depth: A Comprehensive Guide on ‘let’, ‘var’, and ‘const’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript关键字深度:关于“let”、“var”和“const”的综合指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-var-and-const-in-javascript-4e0319dbf463?source=collection_archive---------9-----------------------#2022-02-05">https://javascript.plainenglish.io/lets-var-and-const-in-javascript-4e0319dbf463?source=collection_archive---------9-----------------------#2022-02-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="df68" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">探索三个最容易混淆的关键词——‘T0’，‘T1’和‘T2’，以及它们的范围和提升行为。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/865034393286d9bb4e569a6fcfda80b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u53a6sR-SkDm1sSfMKayqg.png"/></div></div></figure><p id="40b0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在过去几年中，像React、Angular和Vue.js这样的JavaScript框架的流行吸引了许多web开发人员向它们转移。虽然它们没有问题，但让我担心的一件事是，我看到有些人完全忽略了普通JavaScript的概念，仍然可以很好地使用框架。</p><p id="89b4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">当我看到一些奇怪的事情时，我正在为我的组织面试React Developer。我注意到有两年多React经验并对其有很好理解的人不知道JavaScript的基础知识，甚至不知道let、var和const之间的区别。我得到的一个有趣的回答是<code class="fe kc kd ke kf b">let</code>只是<code class="fe kc kd ke kf b">var</code>的新版本。</p><p id="fec8" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">接下来，让我们讨论三个关键词— <code class="fe kc kd ke kf b">let</code>、<code class="fe kc kd ke kf b">var</code>和<code class="fe kc kd ke kf b">const</code>它们的范围，以及它们的提升行为。</p><h1 id="180d" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">定义变量</h1><p id="9069" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">在ES6之前，var一切都很好，但是用<code class="fe kc kd ke kf b">var</code>关键字声明的变量有问题。我们先来了解一下var是如何表现的。</p><h2 id="f4e0" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">范围</h2><p id="8243" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">用var声明的变量在函数外部声明时是全局作用域的，在函数内部声明时是函数或块作用域的。参见下面的代码。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="9d81" class="ml lp in kf b gy nb nc l nd ne">var iAmGlobal = 'global scoped';</span><span id="de55" class="ml lp in kf b gy nf nc l nd ne">function func() {<br/>  var iAmBlock = 'bloack scoped';<br/>}</span><span id="402d" class="ml lp in kf b gy nf nc l nd ne">console.log(iAmBlock); // <strong class="kf io">error: iAmBlock is not defined</strong></span></pre><p id="66df" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在上面的例子中，变量<code class="fe kc kd ke kf b">iAmGlobal</code>是全局声明的，可以在代码中的任何地方使用，甚至可以在函数<code class="fe kc kd ke kf b">func</code>中使用，但是<code class="fe kc kd ke kf b">iAmBlock</code>的作用域只在函数<code class="fe kc kd ke kf b">func</code>中。所以当我们试图在函数外访问<code class="fe kc kd ke kf b">iAmBlock</code>时，JavaScript抛出一个错误，说它没有被定义。</p><h2 id="9fcc" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">提升</h2><p id="2f29" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">在执行代码之前，使用var声明的所有变量都被提升到其作用域的顶部。在函数的情况下，整个函数体被提升。参见下面的代码。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="223c" class="ml lp in kf b gy nb nc l nd ne">console.log(a); // undefined<br/>func(); // 'this function can execute even before declaration'</span><span id="e9db" class="ml lp in kf b gy nf nc l nd ne">var a = 10;<br/>var func = function () {<br/>  console.log('this function can execute even before declaration');<br/>};</span></pre><p id="9889" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在上面的例子中，变量<code class="fe kc kd ke kf b">a</code>和<code class="fe kc kd ke kf b">func</code>都是托管的，因此在声明之前就可以使用。然而，在<code class="fe kc kd ke kf b">a</code>的情况下，其提升值未定义。</p><p id="be8c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在从ES6引入的<code class="fe kc kd ke kf b">let</code>和<code class="fe kc kd ke kf b">const</code>开始之前，最好先了解一下<code class="fe kc kd ke kf b">var</code>的问题。</p><h2 id="601f" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">风险值的问题</h2><p id="8723" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated"><code class="fe kc kd ke kf b">var</code>的问题是变量可以被重新声明，这导致了代码的混乱。参见下面的示例。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="a013" class="ml lp in kf b gy nb nc l nd ne">var mesg = 'I am this message';</span><span id="8101" class="ml lp in kf b gy nf nc l nd ne">// many lines after</span><span id="4173" class="ml lp in kf b gy nf nc l nd ne">var mesg = 'I am updated to this';</span><span id="62d6" class="ml lp in kf b gy nf nc l nd ne">console.log(mesg); // <strong class="kf io">'I am updated to this'</strong></span></pre><p id="c0b1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">虽然如果我们知道我们在做什么，这不是问题，但是在现实世界中，许多开发人员处理同一个项目，有时处理同一个文件，这可能导致代码中的不一致。考虑到这一点，引入了<code class="fe kc kd ke kf b">let</code>和<code class="fe kc kd ke kf b">const</code>。</p><h1 id="e409" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">让</h1><p id="8df3" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated"><code class="fe kc kd ke kf b">let</code>解决了我们刚刚讨论过的问题。使用<code class="fe kc kd ke kf b">let</code>初始化的变量可以在其作用域内更新，但不能重新声明。</p><h2 id="23b3" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">范围</h2><p id="09c0" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated"><code class="fe kc kd ke kf b">let</code>是块范围的，这意味着任何被声明的变量只能在它被初始化的块内部被访问。参见下面的代码。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="7205" class="ml lp in kf b gy nb nc l nd ne">if(true){<br/>   let mesg = 'I am inside the if block only';<br/>   console.log(mesg); // <strong class="kf io">I am inside the if block only<br/></strong>}<br/>console.log(mesg); // <strong class="kf io">error: mesg is not defined</strong></span></pre><p id="e927" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在上面的例子中，变量<code class="fe kc kd ke kf b">mesg</code>是在<code class="fe kc kd ke kf b">if</code>块中声明的，因此当在外部访问时，它将抛出一个错误。</p><h2 id="2a26" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">提升</h2><p id="07e4" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">用<code class="fe kc kd ke kf b">let</code>声明的变量也在执行前被提升到代码的顶部，但没有初始化。因此，如果我们试图在它们声明之前访问它们，我们将得到一个引用错误。参见下面的代码。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="bfaf" class="ml lp in kf b gy nb nc l nd ne">console.lot(mesg); // <strong class="kf io">error: mesg is not defined</strong><br/>let mesg = 'You can't access me before this line';</span></pre><h1 id="5eb8" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">常数</h1><p id="d727" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated"><code class="fe kc kd ke kf b">const</code>变量类似于<code class="fe kc kd ke kf b">let</code>变量，但是既不能更新也不能重新声明。因此，它们在整个代码执行过程中保持不变的值。请参见下面的示例。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="8b18" class="ml lp in kf b gy nb nc l nd ne">const mesg = 'You can't update me';<br/>mesg = 'This won't work'; // <strong class="kf io">error: Assignment to constant variable</strong></span></pre><p id="377a" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">但是我们可以更新一个<code class="fe kc kd ke kf b">const</code>对象内部的值。请参见下面的示例。</p><pre class="kh ki kj kk gt mx kf my mz aw na bi"><span id="7acf" class="ml lp in kf b gy nb nc l nd ne">const user = { fname: 'shivam', lname: 'bhasin' };<br/>user.fname = 'updated name'; // <strong class="kf io">This is allowed and valid</strong></span></pre><h2 id="9b01" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">范围</h2><p id="beb6" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">就像let一样，const变量也是块范围的。因此可以在它们的声明块中访问它们。</p><h2 id="7a26" class="ml lp in bd lq mm mn dn lu mo mp dp ly lb mq mr ma lf ms mt mc lj mu mv me mw bi translated">主办；主持</h2><p id="c39a" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">同样，与let变量类似，const变量也被提升到顶部，但没有初始化。</p><p id="cc82" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果你错过了什么，这里有一个故事的简短修订。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ng"><img src="../Images/bab16999a64f4ae59dec78658a9091d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3z7PFKw1mznhIdIjszA-sA.png"/></div></div></figure><p id="4398" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果你是一名JavaScript开发人员，或者希望有一天成为一名开发人员，我强烈推荐你回来看看这个空间，因为我保证你会爱上JavaScript。</p><p id="1cf5" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="nh">更多内容看</em> <a class="ae ni" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="nh">说白了。报名参加我们的</em> <a class="ae ni" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="nh">免费周报</em> </strong> </a> <em class="nh">。在我们的</em> <a class="ae ni" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="nh">社区不和谐</em> </strong> </a> <em class="nh">获得独家获取写作机会和建议。</em></strong></a></p></div></div>    
</body>
</html>