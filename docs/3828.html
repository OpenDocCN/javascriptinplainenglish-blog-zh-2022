<html>
<head>
<title>Pass By Value vs. Pass By Reference in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中按值传递与按引用传递</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/pass-by-value-v-s-pass-by-reference-in-javascript-2f4b5fb494f1?source=collection_archive---------12-----------------------#2022-09-29">https://javascript.plainenglish.io/pass-by-value-v-s-pass-by-reference-in-javascript-2f4b5fb494f1?source=collection_archive---------12-----------------------#2022-09-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4234ea934319b5b89e1a0789b3457296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*llZDHwxfP5M-_I79wwqR5A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The above image is created by Divyojyoti Ghosh(me) on <a class="ae jz" href="http://www.canva.com/" rel="noopener ugc nofollow" target="_blank">www.canva.com</a> using different elements available for making designs.</figcaption></figure><p id="a4b4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript不支持按引用传递，它是一种按值传递的语言。但是，当我们传递对象时，传递的值实际上是它的引用地址。对象也称为引用类型值。</p><p id="24a3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在讨论按值传递和按引用传递之前，让我们了解一下基元类型值和引用类型值之间的区别。</p><h2 id="e728" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">原始类型</h2><p id="e781" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">Javascript是一种动态类型语言，这意味着变量可以有任何数据类型的值。变量的数据类型是根据它的值分配的，我们使用typeOf()运算符来知道数据类型。根据浏览器支持的ECMAScript标准，有5到7种原始数据类型。</p><ol class=""><li id="1e39" class="lw lx in kc b kd ke kh ki kl ly kp lz kt ma kx mb mc md me bi translated">布尔型</li><li id="5eb8" class="lw lx in kc b kd mf kh mg kl mh kp mi kt mj kx mb mc md me bi translated">线</li><li id="2417" class="lw lx in kc b kd mf kh mg kl mh kp mi kt mj kx mb mc md me bi translated">数字</li><li id="7a0e" class="lw lx in kc b kd mf kh mg kl mh kp mi kt mj kx mb mc md me bi translated">空</li><li id="5955" class="lw lx in kc b kd mf kh mg kl mh kp mi kt mj kx mb mc md me bi translated">不明确的</li><li id="eec2" class="lw lx in kc b kd mf kh mg kl mh kp mi kt mj kx mb mc md me bi translated">符号(ES2015)</li><li id="fb4f" class="lw lx in kc b kd mf kh mg kl mh kp mi kt mj kx mb mc md me bi translated">bigint (ES2020)</li></ol><h2 id="16e0" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">参考类型</h2><p id="f34e" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">除了基本数据类型之外，只有一种数据类型，即object，也称为reference type。引用类型变量有一组键值对，也称为变量/对象的属性。对象是用花括号中的属性定义的。下面的代码定义了一个对象，<code class="fe mk ml mm mn b">student </code>及其两个属性，<code class="fe mk ml mm mn b">name</code>和<code class="fe mk ml mm mn b">age</code></p><figure class="mo mp mq mr gt jo"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h2 id="bbfc" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">这些值存储在哪里？</h2><figure class="mo mp mq mr gt jo"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="1a37" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，<code class="fe mk ml mm mn b">num</code>、<strong class="kc io">、</strong>、<strong class="kc io">、</strong>、<strong class="kc io">、</strong>、<code class="fe mk ml mm mn b">num2</code>有原始类型值，<code class="fe mk ml mm mn b">student</code>有引用类型值。</p><p id="3849" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">引用类型值(对象)存储在堆内存中，不像基元类型值存储在调用堆栈的执行上下文中。对于对象，调用堆栈将其堆内存地址存储为一个值。</p><p id="196d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下图可以帮助我们理解值的存储-</p><figure class="mo mp mq mr gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mu"><img src="../Images/01a5427fa3a4880b79ffef4aa50a5656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SgXa3IzvgZqhpIl5MB2xkQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Fig 1: Primitive and Reference type value storage</figcaption></figure><h2 id="f8f5" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">按值传递和按引用传递</h2><p id="146f" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">在JavaScript中，我们只把值作为参数传递给函数，但是当我们传递一个对象时，我们把它的地址作为值传递。对基元类型参数所做的任何更改都不会影响原始值，但是对引用类型参数的属性所做的任何更改都会更改实际对象的属性值。</p><p id="3e00" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们借助下面的代码来理解这一点—</p><figure class="mo mp mq mr gt jo"><div class="bz fp l di"><div class="ms mt l"/></div></figure><figure class="mo mp mq mr gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mv"><img src="../Images/3d59affe42242079f9f362f32c9cf36d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-LJSkYbTaN4oZWW3XVCTzg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Pass of primitive type value and reference type value</figcaption></figure><p id="2e60" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe mk ml mm mn b">year</code>是一个原始类型值，当它被传递给一个函数时，函数对它所做的任何更改都不会影响原始值，因为该值的副本被传递给了该函数。因此，它的副本增加1。鉴于<code class="fe mk ml mm mn b">john</code>对象是一个引用类型，它的地址作为一个值传递给<code class="fe mk ml mm mn b">changeYear</code>函数，该函数直接对作为一个值传递的地址所指向的对象进行修改。因此age属性的值增加了1。</p><h2 id="f4b8" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">结论</h2><p id="6100" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated">JavaScript中没有按引用传递，但是当传递对象时，它们的堆内存地址作为一个值传递，因此，对对象的任何更改都是在原始对象上完成的，这与原始类型值不同。</p><h2 id="04a4" class="ky kz in bd la lb lc dn ld le lf dp lg kl lh li lj kp lk ll lm kt ln lo lp lq bi translated">资源</h2><p id="6cb9" class="pw-post-body-paragraph ka kb in kc b kd lr kf kg kh ls kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx ig bi translated"><a class="ae jz" href="https://www.javascripttutorial.net/javascript-data-types" rel="noopener ugc nofollow" target="_blank">https://www.javascripttutorial.net/javascript-data-types</a>/</p><p id="9221" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">https://www.udemy.com/course/the-complete-javascript-course<a class="ae jz" href="https://www.udemy.com/course/the-complete-javascript-course" rel="noopener ugc nofollow" target="_blank"/></p><p id="076b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">【https://gist.github.com/ T4】</p><p id="1379" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mw">更多内容看</em> <a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mw">说白了就是io </em> </strong> </a> <em class="mw">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mw">Twitter</em></strong></a>，<a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mw">LinkedIn</em></strong></a><strong class="kc io"><em class="mw">，</em></strong><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="mw">YouTube</em></strong></a><strong class="kc io"><em class="mw">，以及</em></strong><em class="mw"/><strong class="kc io"><em class="mw">不和</em> </strong>   <em class="mw">对成长黑客感兴趣？检查出</em> <a class="ae jz" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mw">电路</em> </strong> </a> <strong class="kc io"> <em class="mw">。</em>T73】</strong></p></div></div>    
</body>
</html>