<html>
<head>
<title>Get Started with Tyk API Gateway on Your Local Machine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在本地机器上开始使用Tyk API Gateway</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-tyk-open-source-on-your-local-machine-6468d1c4f7b?source=collection_archive---------4-----------------------#2022-01-09">https://javascript.plainenglish.io/getting-started-with-tyk-open-source-on-your-local-machine-6468d1c4f7b?source=collection_archive---------4-----------------------#2022-01-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="127e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">用Node.js和Express创建一个简单的API端点，然后创建一个本地TYK网关(开源)。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4ec0909a4ca8199e21b778b9bc222484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VU-EtyHqyTnRhMXu.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Source — <a class="ae ks" href="https://tyk.io/docs/img/diagrams/gateway4.png" rel="noopener ugc nofollow" target="_blank">T</a>YK Documentation</figcaption></figure><p id="916f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本文中，我们将使用Node.js和Express创建一个简单的API端点，然后创建一个本地Tyk网关(开源),它将在没有仪表板的情况下与这个API端点进行交互。</p><h1 id="abae" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">介绍</h1><p id="38a2" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Tyk API网关于2014年发布。它是用Golang写的，使用Golang自己的HTTP服务器。</p><p id="c4b9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Tyk提供了一个快速、可扩展的现代开源API网关。Tyk还提供了一个完整的生命周期API管理平台，包括API网关、API分析、开发人员门户和API管理仪表板。</p><p id="857c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Tyk提供许多与网关集成的<a class="ae ks" href="https://tyk.io/docs/apim/open-source/" rel="noopener ugc nofollow" target="_blank">开源产品</a>。Tyk是一个开源的企业API网关，支持REST、GraphQL、TCP和gRPC协议。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mm"><img src="../Images/facf1fda1e3642a84e798e82ba240f89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C5oYztGe1F_O7gNo.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Source — TYK Documentation</figcaption></figure><h1 id="2b6a" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">TYK建筑</h1><p id="2797" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Tyk网关可以完全独立运行，只需要一个Redis数据库，并且可以水平扩展:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mn"><img src="../Images/153d7f91a9102ed0a8a0c13af7088b41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XDxCH_u8xt1wSWQ9.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Source — TYK Documentation</figcaption></figure><h1 id="4a08" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated"><strong class="ak">开始安装开源软件</strong></h1><p id="7261" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">我们将使用docker-compose在本地安装tyk，这是最快的方法</p><p id="0b92" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤1 —克隆docker-compose库</strong></p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="00ac" class="mt lq in mp b gy mu mv l mw mx">git clone https://github.com/TykTechnologies/tyk-gateway-docker</span></pre><p id="ee57" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第2步—转到新目录</strong></p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="d592" class="mt lq in mp b gy mu mv l mw mx">cd tyk-gateway-docker</span></pre><p id="bdc8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤3 —部署Tyk网关和Redis </strong></p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="9d6f" class="mt lq in mp b gy mu mv l mw mx">docker-compose up -d</span><span id="e033" class="mt lq in mp b gy my mv l mw mx">OR</span><span id="db25" class="mt lq in mp b gy my mv l mw mx">docker-compose up</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/5ef33a18490f3b6a6fd141c514933c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aq9QtXelsjrlbQeXqh7qVA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Deploy Tyk Gateway and Redis</strong></figcaption></figure><p id="d00b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤4 —测试网关是否正在运行</strong></p><p id="04a4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">tyk网关API的Swagger文档可在此处获得<a class="ae ks" href="https://tyk.io/docs/tyk-gateway-api/" rel="noopener ugc nofollow" target="_blank">https://tyk.io/docs/tyk-gateway-api</a>。下一步，我们将使用TYK网关API，我们将使用p <a class="ae ks" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> ostman </a>客户端进行API调用。</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="075e" class="mt lq in mp b gy mu mv l mw mx">API - http://localhost:8080/hello<br/>METHOD - GET</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nb"><img src="../Images/9fadabc37b7be3fb05f669c82f81580d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ZPrp528M7UaRJPNYAWsgQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Test the Gateway is running or not</strong></figcaption></figure><p id="b604" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤5 —创建演示Node.js应用程序</strong></p><p id="7880" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于本文，我们将使用已经使用TypeScript和Express创建的<a class="ae ks" href="https://github.com/santoshshinde2012/node-boilerplate" rel="noopener ugc nofollow" target="_blank"> Node.js样板</a>代码。</p><div class="nc nd gp gr ne nf"><a href="https://github.com/santoshshinde2012/node-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">GitHub-Santosh shinde 2012/Node-Boilerplate:用于微服务的节点类型脚本样板…</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">微服务的节点类型脚本样板。用TypeScript编写的Node.js应用程序的框架(带有安装说明…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">github.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt km nf"/></div></div></a></div><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="1aff" class="mt lq in mp b gy mu mv l mw mx">// clone the application<br/>git clone https://github.com/santoshshinde2012/node-boilerplate.git<br/><br/>// change to the new directory<br/>cd node-boilerplate<br/><br/>// install the all modules<br/>npm install<br/><br/>// start the application<br/>npm start</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nu"><img src="../Images/4d815758f3df1562996145af4522efd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ld6_hxooE4pZkdyClQkLyQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Run Demo Node JS Application</strong></figcaption></figure><p id="4271" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有关更多信息，请参考以下文章:</p><div class="nc nd gp gr ne nf"><a rel="noopener  ugc nofollow" target="_blank" href="/skeleton-for-node-js-apps-written-in-typescript-444fa1695b30"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">用TypeScript编写的Node.js应用程序的框架</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">包含ESLint、Prettier和Husky的设置说明。</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="no l"><div class="nv l nq nr ns no nt km nf"/></div></div></a></div><p id="04d7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤6 —在公共URL上发布节点JS应用</strong></p><p id="d67b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">通过隧道(<a class="ae ks" href="https://ngrok.com/" rel="noopener ugc nofollow" target="_blank"> ngrok </a>)，我们将把本地主机暴露给互联网，ngrok是一个跨平台的应用程序，它使开发人员能够以最小的努力将本地开发服务器暴露给互联网。</p><p id="0984" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请使用以下命令在您的系统中全局安装<code class="fe nw nx ny mp b">ngrok</code>:</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="b475" class="mt lq in mp b gy mu mv l mw mx">npm install -g ngrok</span></pre><p id="71a9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">假设我们的应用程序运行在端口<code class="fe nw nx ny mp b">3146</code>上，那么我们只需要使用下面的命令在公共url上运行它:</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="200c" class="mt lq in mp b gy mu mv l mw mx">ngrok http 3146</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/f0a7041c0e91ef750d870da662c1abc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7oclGkCa1CMER2e-wveP9A.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Publish Node JS application on public URL</strong></figcaption></figure><div class="nc nd gp gr ne nf"><a href="https://community.tyk.io/t/http-proxy-error-dial-tcp-127-0-0-1-connect-connection-refused/5132" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">Http:代理错误:拨号tcp 127.0.0.1:3030: connect:连接被拒绝</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">我正在使用下面的存储库在本地设置tyk开源网关，但是我没有连接到节点…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">community.tyk.io</p></div></div><div class="no l"><div class="nz l nq nr ns no nt km nf"/></div></div></a></div><p id="6810" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第7步—添加/创建新的API </strong></p><p id="43b2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">确保我们知道我们的API secret，我们的Tyk网关API secret存储在您的tyk.conf文件中，该属性称为secret，您将需要使用它作为名为<strong class="kv io"> x-tyk-authorization </strong>的头来调用网关API。如果你正在使用Docker-compose，那么默认的secrete是<code class="fe nw nx ny mp b"><strong class="kv io">foo</strong></code>，它可以在Docker compose文件的environment部分找到。</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="2c7d" class="mt lq in mp b gy mu mv l mw mx">environment:<br/>      - TYK_GW_SECRET=foo</span></pre><p id="c630" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将使用POST API <code class="fe nw nx ny mp b">{{baseUrl}}/tyk/apis</code>创建一个API，这里的基本URL是<code class="fe nw nx ny mp b">http://localhost:8080</code>。带表头<code class="fe nw nx ny mp b">x-tyk-authorization: foo</code>和正文如下。</p><ul class=""><li id="f813" class="oa ob in kv b kw kx kz la lc oc lg od lk oe lo of og oh oi bi translated"><code class="fe nw nx ny mp b">proxy.listen_path</code>:监听的路径，如<code class="fe nw nx ny mp b">/api</code>或<code class="fe nw nx ny mp b">/</code>。在Tyk被配置为运行的端口上，任何进入主机的请求都将应用API定义中定义的规则。我们的演示将基于我们系统的状态API端点<code class="fe nw nx ny mp b"><a class="ae ks" href="http://21b1-103-109-12-32.ngrok.io/api/status/system" rel="noopener ugc nofollow" target="_blank">/api/status/system</a>.</code></li><li id="e8e2" class="oa ob in kv b kw oj kz ok lc ol lg om lk on lo of og oh oi bi translated"><code class="fe nw nx ny mp b">proxy.target_url</code>:这定义了如果请求通过了Tyk中的所有检查，它应该被代理到的目标URL。示例— <code class="fe nw nx ny mp b"><a class="ae ks" href="http://21b1-103-109-12-32.ngrok.io/api/status/system" rel="noopener ugc nofollow" target="_blank">http://21b1-103-109-12-32.ngrok.io/api/status/system</a>.</code></li></ul><div class="nc nd gp gr ne nf"><a href="https://tyk.io/docs/tyk-apis/tyk-gateway-api/api-definition-objects/proxy-settings/" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">API定义中的代理设置</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">代理部分概述了API代理功能。你可以定义Tyk应该在哪里听，以及Tyk应该在哪里…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">tyk.io</p></div></div><div class="no l"><div class="oo l nq nr ns no nt km nf"/></div></div></a></div><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="fec4" class="mt lq in mp b gy mu mv l mw mx">API - http://localhost:8080/tyk/apis<br/>HEADER - x-tyk-authorization: foo<br/>METHOD - POST<br/>Body -</span><span id="50e3" class="mt lq in mp b gy my mv l mw mx">{<br/>    "slug": "system-status",<br/>    "name": "system-status",<br/>    "api_id": "system-status",<br/>    "org_id": "1",<br/>    "auth": {<br/>        "auth_header_name": "Authorization"<br/>    },<br/>    "definition": {<br/>        "location": "header",<br/>        "key": "x-api-version"<br/>    },<br/>    "version_data": {<br/>        "not_versioned": true,<br/>        "versions": {<br/>            "Default": {<br/>                "name": "Default",<br/>                "use_extended_paths": true<br/>            }<br/>        }<br/>    },<br/>    "proxy": {<br/>        "listen_path": "/api/status/system",<br/>        "target_url": "http://21b1-103-109-12-32.ngrok.io/api/status/system",<br/>        "strip_listen_path": true<br/>    },<br/>    "active": true<br/>}</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi op"><img src="../Images/2e0e8ccfe57da00fc93b9c26f2e2ddbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1VpGbqrQrolx5Txj_E08HQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Add/Create new API</strong></figcaption></figure><p id="caff" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤8 —重启或热重装</strong></p><p id="2659" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一旦我们创建了API，我们将需要重新启动Tyk网关或发出一个热重新加载命令:</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="3508" class="mt lq in mp b gy mu mv l mw mx">API - http://localhost:8080/tyk/reload/group<br/>HEADER - `x-tyk-authorization: foo`<br/>METHOD - GET</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oq"><img src="../Images/6095ebf3731f02bbafab4de92529a237.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VnFjR445Us8qrpRY8tIMA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Restart or hot reload</strong></figcaption></figure><p id="60e0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤9——创建API密钥</strong></p><p id="c14f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">要创建一个API密匙，我们需要我们希望授予密匙访问权限的API ID，然后创建密匙是一个非常简单的对端点的API调用。</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="c6c6" class="mt lq in mp b gy mu mv l mw mx">API - http://localhost:8080/tyk/keys/create<br/>HEADER - `x-tyk-authorization: foo`<br/>METHOD - POST<br/>BODY -<br/><br/>{<br/>  "quota_max": 0,<br/>  "rate": 2,<br/>  "per": 5,<br/>  "org_id": "1",<br/>  "access_rights": {<br/>      "system-status": {<br/>          "api_name": "system-status",<br/>          "api_id": "system-status",<br/>          "versions": [<br/>              "Default"<br/>          ],<br/>          "allowed_urls": [],<br/>          "limit": null,<br/>          "allowance_scope": ""<br/>      }<br/>    }<br/>}</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi or"><img src="../Images/8d4dfb93471c412a7032c3a931af96ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1YcQmex0DcFCLdZJv0dBg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><strong class="bd na">Create API Key</strong></figcaption></figure><p id="0fb5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如，API将向我们返回以下响应:我们在JSON对象中收到的密钥，它是授权头。</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="1a1d" class="mt lq in mp b gy mu mv l mw mx">{<br/>    "key": "1d1e45a4ffae843d39833a4412ce80a97",<br/>    "status": "ok",<br/>    "action": "added",<br/>    "key_hash": "2be34067"<br/>}</span></pre><p id="9e6e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">步骤10 —通过网关访问API</strong></p><p id="a2a1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们现在可以通过Tyk网关访问REST API端点。这里我们需要从上一个API接收到的密钥。</p><p id="dd35" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们试图在没有授权头的情况下访问API，那么它将返回<strong class="kv io">未授权</strong>和<strong class="kv io"> 401 </strong>状态码。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi os"><img src="../Images/f476d4dc87e4871987ff1cb5cac959fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eiKBOnhlpFdt5-rROk554Q.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">API via gateway without an Authorization header</figcaption></figure><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="c06f" class="mt lq in mp b gy mu mv l mw mx">API - http://localhost:8080/api/status/system<br/>METHOD - GET<br/>Header - `Authorization: 1d1e45a4ffae843d39833a4412ce80a97`</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi op"><img src="../Images/0b9d50f309f93b1884f5abe4bf2bee25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OTSk_w6sYJIJQ5tmxcaimg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">API via gateway with Authorization header</figcaption></figure><p id="bcac" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢阅读，请分享你的评论，如果这个博客增加了你的学习价值，请鼓掌。</p><p id="8183" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ot">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ot">说白了就是io </em> </strong> </a> <em class="ot">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ot">免费周报</em> </strong> </a> <em class="ot">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ot">社区获得独家访问写作机会和建议</em> </strong> </a> <em class="ot">。</em></p></div></div>    
</body>
</html>