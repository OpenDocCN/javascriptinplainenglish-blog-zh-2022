<html>
<head>
<title>Transform Mapped Types from Snake_ to CamelCase in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在TypeScript中将映射类型从Snake_转换为CamelCase</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/transform-mapped-types-from-snake-to-camelcase-in-typescript-472a2a4843b9?source=collection_archive---------4-----------------------#2022-07-13">https://javascript.plainenglish.io/transform-mapped-types-from-snake-to-camelcase-in-typescript-472a2a4843b9?source=collection_archive---------4-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1bff" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">重新映射类型脚本映射类型</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1cbfc9c4d16f4a83d5c64fa33c98363d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PG_1fJhxBsgb7Nnk"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@mappingmegantravel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Meg Jerrard</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="defe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上周，我发表了我的系列文章<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-mapped-types-6825c7fc984a">“具有代码挑战的高级打字稿”</a>。在其中，我看了一下<strong class="ky ir">映射类型</strong>。一位读者的问题让我写了这篇文章来更深入地探讨这个话题。他的问题是:</p><blockquote class="ls lt lu"><p id="c26c" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">我想问一下大家是否知道一种方法可以把一个类型而不是“changeemail”重新映射到“changeEmail”。坦克。</p></blockquote></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="2af8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，让我们从最近文章中的例子开始。如果你想了解更多关于<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-mapped-types-6825c7fc984a">映射类型</a>，你可以在这里找到文章<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-mapped-types-6825c7fc984a">。</a></p><p id="925a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有一个<code class="fe mg mh mi mj b">AppConfig</code>类型，看起来像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="4f16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们想从<code class="fe mg mh mi mj b">AppConfig</code>中动态创建一个<code class="fe mg mh mi mj b">AppPermissions</code>类型，看起来应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="6404" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们通过<code class="fe mg mh mi mj b">as</code>使用键重映射来遍历我们的<code class="fe mg mh mi mj b">AppConfig</code>类型的键，并将它们的值改为<code class="fe mg mh mi mj b">boolean</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Key Re-mapping via <strong class="ak">as</strong></figcaption></figure><p id="3bac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以看到，我们成功地创建了一个权限类型，而没有复制任何代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/c033ef1a2cada039cd49eb6b2857a667.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*SOh2vllgS1sIjsJO8gQbjQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Key Re-mapping via <strong class="bd mn">as</strong></figcaption></figure><p id="d117" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，回到问题:<strong class="ky ir">我们怎样才能让钥匙成为驼色？</strong></p><p id="1ecb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我花了一段时间才想出解决办法。大概还有不同的更好的解决方案，<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/C4TwDgpgBAgmYGED2A7AZgSwOZQLxQG8AoKKCAWwEMMAbALigGdgAnDFLAbhKiveRpIWDZmw7dSAE0osA1gFkkkiAwBGSJDQiUU3AL7cioSFADKKSrIgAVJAkrkINe4wgAeANIQQZAB7AIFElGJlZ2LAA+PCgvHwh-QOCoAAMAEgJ2NAgWKAAxDBZmAAUZYD0AfXTM7LyC5gAZCGAAlj0q9Br6ymLSvWSeAH4U9PzC4BKWMvSAVXhsgGNu91GGppaItoJzSxs7BycXdy6eyY3+0gZYwyNwaDgwIuzyDEZGDFQQ-GJSAG0iliQkEmPnYUCsICQaFg8GQ6GwUG6ZgsVls9kcziWbmS8wAFjosBBKgR-oDsqA+hEALpqDRaHT6ThAA" rel="noopener ugc nofollow" target="_blank">这里</a>是我的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Key re-mapping to camelCase</figcaption></figure><p id="8c07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分析新的<code class="fe mg mh mi mj b">AppPermissions</code>类型表明，我们成功地将属性键重新映射到了camelCase:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/bf05d9a1e69c0d9d2443d29fd01dc2d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zmSPWZgJgrfHjqq_WHj8MA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Snake to camelCase re-mapping</figcaption></figure><p id="0fbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">诚然，这看起来非常复杂。理解一切的先决条件是您已经理解了四个TypeScript特性:</p><ul class=""><li id="c819" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-conditional-types-8dd4e63818a5"> <strong class="ky ir">条件类型</strong> </a></li><li id="4cda" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-infer-keyword-5ef686d77a3c"> <strong class="ky ir">推断式</strong> </a></li><li id="bfc4" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/advanced-typescript-generics-1b30d6b5dd49" rel="noopener"> <strong class="ky ir">仿制药</strong> </a></li><li id="83b5" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/advanced-typescript-with-code-challenges-template-literal-types-479f56496daa" rel="noopener"> <strong class="ky ir">模板文字类型</strong> </a></li></ul></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="caed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们更深入地看看解决方案。我们创建了一个名为<code class="fe mg mh mi mj b">SnakeToCamelCase</code>的新助手类型，将属性的键从snake重新映射到camelCase。为了使我们映射类型的键在snake_case中，我们在我们的<code class="fe mg mh mi mj b">as</code>重映射中的<code class="fe mg mh mi mj b">`change</code>和<code class="fe mg mh mi mj b">${Property}`</code>之间放了一个<code class="fe mg mh mi mj b">_</code>。现在，我们来分析一下助手类型<code class="fe mg mh mi mj b">SnakeToCamelCase</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="315a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将类型泛型化，并将其约束为类型<code class="fe mg mh mi mj b">string</code>。之后，我们使用<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-conditional-types-8dd4e63818a5">条件类型</a>来检查<code class="fe mg mh mi mj b">Key</code>是否遵循<strong class="ky ir"> snake_case </strong>约定。如果<code class="fe mg mh mi mj b">Key</code>没有，我们就返回它。如果关键是扩展一个<strong class="ky ir"> snake_case </strong>结构，我们推断三件事:<code class="fe mg mh mi mj b">FirstPart</code>、<code class="fe mg mh mi mj b">FirstLetter</code>和<code class="fe mg mh mi mj b">LastPart</code>。理解<code class="fe mg mh mi mj b">infer</code>关键字对于理解正在发生的事情是至关重要的。<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-infer-keyword-5ef686d77a3c">这里</a>是一篇关于它的文章。</p><p id="d4d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，已经推断出所有我们需要的类型，我们使用字符串<a class="ae kv" href="https://medium.com/@mariusbongarts/advanced-typescript-with-code-challenges-template-literal-types-479f56496daa" rel="noopener">模板文字类型</a>将它们放在一起进行<code class="fe mg mh mi mj b">as</code>重映射。我们照原样使用<code class="fe mg mh mi mj b">FirstPart</code>，并使用内置的实用程序类型<code class="fe mg mh mi mj b">Uppercase</code>将我们的字母<code class="fe mg mh mi mj b">FirstLetter</code>转换到<code class="fe mg mh mi mj b">_</code>之后。然后，我们使用我们的<code class="fe mg mh mi mj b">SnakeToCamelCase&lt;Key extends string&gt;</code>类型递归地转换<code class="fe mg mh mi mj b">LastPart</code>。</p><p id="a3a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">递归调用注意到我们也在转换带有多个<code class="fe mg mh mi mj b">_</code>的snake_case键。例如，如果我们希望我们的属性键是这样的<code class="fe mg mh mi mj b">`change_${Property}_to_boolean`</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="ad14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到它成功地映射了键，遵循了camelCase约定:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/eb7f2f4a9bc6b531fd87520f5364334d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*Nzx9ZCNStslAmXw3d9zdZw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Multiple ‘_’ in property</figcaption></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><p id="286d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您对更高级的TypeScript特性感兴趣，请查看我的其他文章:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mk ml l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="b7d7" class="ne nf iq bd ng nh ni nj nk nl nm nn no jw np jx nq jz nr ka ns kc nt kd nu nv bi translated">最后的想法</h1><p id="f2a0" class="pw-post-body-paragraph kw kx iq ky b kz nw jr lb lc nx ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">我总是乐于回答问题，并乐于接受批评。请随时联系我😊通过<a class="ae kv" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我，在<a class="ae kv" href="https://twitter.com/MariusBongarts" rel="noopener ugc nofollow" target="_blank"> Twitter </a>关注我，或者<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener">订阅</a>通过电子邮件获取我的故事。</p><p id="aaef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="ky ir">这里是无限制访问介质</strong> </a> <strong class="ky ir">上所有内容的链接。如果你使用此链接注册，我将免费为你赚一小笔钱。</strong></p><div class="ob oc gp gr od oe"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os kp oe"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="edb0" class="ne nf iq bd ng nh ni nj nk nl nm nn no jw np jx nq jz nr ka ns kc nt kd nu nv bi translated">关于作者</h1><p id="206e" class="pw-post-body-paragraph kw kx iq ky b kz nw jr lb lc nx ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">我是埃森哲软件工程分析师宋。最驱动我的是我想创造一些可能对他人有帮助并改变他人生活的东西的冲动。</p><p id="89ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比如你是否厌倦了浏览自己的历史来寻找前几天看到的信息？我的<a class="ae kv" href="https://chrome.google.com/webstore/detail/web-highlights-%20-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Web Highlights Chrome Extension</strong></a>覆盖了你，并将通过以结构化和高效的方式组织你的研究来提高你的生产力。就像你在书和文章上做的那样，突出显示任何网页或PDF上的文本。你的精彩片段会直接同步到web-highlights.com的网络应用上，你可以在任何地方找到它们。</p><div class="ob oc gp gr od oe"><a href="https://chrome.google.com/webstore/detail/web-highlights-pdf-web-hi/hldjnlbobkdkghfidgoecgmklcemanhm" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">Web亮点— PDF和Web荧光笔</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">在每个网站或PDF上创建亮点、书签、标签和文件夹。以结构化的方式组织您的想法和研究…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">chrome.google.com</p></div></div><div class="on l"><div class="ot l op oq or on os kp oe"/></div></div></a></div></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h2 id="8736" class="ou nf iq bd ng ov ow dn nk ox oy dp no lf oz pa nq lj pb pc ns ln pd pe nu pf bi translated">进一步阅读</h2><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-mapped-types-6825c7fc984a"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">具有代码挑战的高级类型脚本:映射类型</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">学习高级的TypeScript特性，并将它们应用到实际的代码练习中。</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="pg l op oq or on os kp oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a href="https://medium.com/@mariusbongarts/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">我的第一个9.99美元之旅与我的副业</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">Chrome扩展带来的被动收入</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="ph l op oq or on os kp oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/will-web-components-replace-frontend-frameworks-535891d779ba"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">Web组件会取代前端框架吗？</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">它们是为解决不同的问题而构建的。</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="pi l op oq or on os kp oe"/></div></div></a></div><p id="f1e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lv">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="lv">plain English . io</em></strong></a><em class="lv">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="lv">免费周报</em> </strong> </a> <em class="lv">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="lv">Twitter</em></strong></a><em class="lv">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="lv">LinkedIn</em></strong></a><em class="lv">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="lv">社区不和谐</em> </strong> </a> <em class="lv">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="lv">人才集体</em> </strong> </a> <em class="lv">。</em></p></div></div>    
</body>
</html>