<html>
<head>
<title>Deployment of MERN full-stack app on render.com</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在render.com部署MERN全栈应用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/deployment-of-mern-full-stack-app-on-render-com-f31820514b3a?source=collection_archive---------2-----------------------#2022-11-28">https://javascript.plainenglish.io/deployment-of-mern-full-stack-app-on-render-com-f31820514b3a?source=collection_archive---------2-----------------------#2022-11-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="3ce9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">随着最近Heroku的免费计划被否决，我们一直在寻找其他免费的替代方案，并找到了Render.com。</p><p id="a2a0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们看看如何通过Render.com部署全栈MERN应用。</p><p id="8576" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于这篇文章，我们将假设我们的应用程序的结构如下:</p><pre class="ki kj kk kl gt km kn ko bn kp kq bi"><span id="1653" class="kr ks in kn b be kt ku l kv kw">root<br/>        server<br/>            index.js<br/>            package.json<br/>        client<br/>            package.json<br/>        package.json</span></pre><p id="a71c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">server</code>和<code class="fe kx ky kz kn b">client</code>文件夹中的<code class="fe kx ky kz kn b">package.json</code>文件分别管理服务器和客户端的包。在根文件夹中，我们需要另一个<code class="fe kx ky kz kn b">package.json</code>文件来管理部署，类似于我们用Heroku 🪦:处理它的方式</p><pre class="ki kj kk kl gt km kn ko bn kp kq bi"><span id="d6eb" class="kr ks in kn b be kt ku l kv kw">{<br/>    "name": "nameofyourapp",<br/>    "version": "1.0.0",<br/>    "description": "some description",<br/>    "main": "./server/index.js",<br/>    "scripts": {<br/>      "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",<br/>      "start": "cd ./server &amp;&amp; node index.js"<br/>    },<br/>    "engines": {<br/>      "node": "16.x"<br/>    },<br/>    "keywords": [],<br/>    "author": "",<br/>    "license": "ISC",<br/>    "dependencies": {<br/>      "argon2": "^0.28.4",<br/>      "cors": "^2.8.5",<br/>      "dotenv": "^16.0.0",<br/>      "express": "^4.17.2",<br/>      "jsonwebtoken": "^8.5.1",<br/>      "mongoose": "^6.2.1",<br/>      "validator": "^13.7.0"<br/>    }<br/>  }</span></pre><p id="305e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们假设您的express服务器从<code class="fe kx ky kz kn b">client/build</code>文件夹为客户的生产版本提供服务。</p><p id="0041" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">"main"</code>键将拥有您的服务器的入口点文件的路径:</p><p id="c06f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">"main": "./server/index.js",</code></p><p id="9b57" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">并且<code class="fe kx ky kz kn b">start</code>脚本将执行命令进入<code class="fe kx ky kz kn b">server</code>文件夹(从根目录)，安装软件包并启动主服务器的文件:</p><p id="a0fc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe kx ky kz kn b">"start": "cd ./server &amp;&amp; node index.js"</code></p><p id="d5ac" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">从Render.com的仪表板上点击“新建+”按钮，然后选择“Web服务”。</p><figure class="ki kj kk kl gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi la"><img src="../Images/121b98fa2af7b174b12ef6f112420b24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IQhy24CMVhO_PcEM.png"/></div></div></figure><p id="4a61" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">通过链接到您的GitHub帐户并搜索repo的名称，连接到您想要使用的GitHub存储库。</p><p id="46bc" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一旦连接上，为这个项目提供一个名称，服务器所在的区域，选择你想要使用的分支，并指定根文件夹，如果服务器要为你的客户端的<code class="fe kx ky kz kn b">build</code>服务，这个根文件夹应该是我们的<code class="fe kx ky kz kn b">./server</code>。</p><p id="8b33" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">构建命令可能是这样的:</p><pre class="ki kj kk kl gt km kn ko bn kp kq bi"><span id="6be4" class="kr ks in kn b be kt ku l kv kw">npm i &amp;&amp; cd ../client &amp;&amp; npm i &amp;&amp; npm run build</span></pre><p id="3481" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这意味着在我们的例子中，我们将从根文件夹(<code class="fe kx ky kz kn b">/server</code>)安装服务器的所有包，然后转到<code class="fe kx ky kz kn b">client</code>文件夹，安装包并创建一个生产版本。</p><p id="b781" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对于开始命令，它可以是</p><pre class="ki kj kk kl gt km kn ko bn kp kq bi"><span id="11bf" class="kr ks in kn b be kt ku l kv kw">node index.js</span></pre><p id="a8dd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">启动我们的服务器。</p><figure class="ki kj kk kl gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi li"><img src="../Images/7931938912faf2e144510206224b4eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PlhQpukLkOwze6LX.png"/></div></div></figure><p id="366e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">选择free plan，并在页面底部用一个按钮创建项目。</p><p id="1b66" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">等待渲染生成项目，下载文件并设置环境。</p><figure class="ki kj kk kl gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lj"><img src="../Images/18382d49045717c1760ab180a5e278d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*a_aWbaQmn-QYMTj6.png"/></div></div></figure><p id="039d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在页面顶部完成后，您将看到已部署应用程序的URL。点击它检查是否一切顺利。</p><figure class="ki kj kk kl gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi la"><img src="../Images/f7ab141a7e6673823e7f91b1b5351e89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bMUkY1wb97AaPlQs.png"/></div></div></figure><p id="7cbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果在构建过程中发生了什么，你会在日志中看到，修复错误，将代码推送到GitHub，Render.com会自动获取并重复回复尝试。</p><p id="fbf3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">希望这有所帮助！</p><p id="c82a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="lk">更多内容请看</em><a class="ae ll" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="lk">plain English . io</em></strong></a><em class="lk">。报名参加我们的</em> <a class="ae ll" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="lk">免费周报</em> </strong> </a> <em class="lk">。关注我们上</em><a class="ae ll" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="lk">Twitter</em></strong></a><a class="ae ll" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="lk">LinkedIn</em></strong></a><strong class="jm io"><em class="lk"/></strong><a class="ae ll" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="lk">YouTube</em></strong></a><strong class="jm io"><em class="lk"/></strong><em class="lk">和</em> <a class="ae ll" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="lk">不和</em> </strong> </a>  <em class="lk">对成长黑客感兴趣？检查</em> <a class="ae ll" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="lk">电路</em> </strong> </a> <strong class="jm io"> <em class="lk">。</em> </strong></p></div></div>    
</body>
</html>