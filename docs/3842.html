<html>
<head>
<title>HeadlessUI: Disclosure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">披露</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/headlessui-disclosure-part-3-closing-disclosures-manually-94e3124dc8b0?source=collection_archive---------8-----------------------#2022-09-30">https://javascript.plainenglish.io/headlessui-disclosure-part-3-closing-disclosures-manually-94e3124dc8b0?source=collection_archive---------8-----------------------#2022-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f958" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第3部分:手动关闭披露</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/795a2099497a9ab6cdcdece641ea98fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fyNCyN6-1QL9-XHH"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@domenicoloia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Domenico Loia</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="kw kx l"/></div></figure><p id="9ddf" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在这一部分，我们将创建一个自定义组件作为披露按钮。</p><p id="c9d0" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">首先，在components文件夹下，创建MyLink.js</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="44c3" class="lz ma iq lv b gy mb mc l md me">import React from 'react'</span><span id="c8a9" class="lz ma iq lv b gy mf mc l md me">const MyLink = React.forwardRef(({ onClick, href }, ref) =&gt; {</span><span id="b56a" class="lz ma iq lv b gy mf mc l md me">return (</span><span id="ff70" class="lz ma iq lv b gy mf mc l md me">&lt;a href={href} onClick={onClick} ref={ref}&gt; MyLink&lt;/a&gt;</span><span id="e3b0" class="lz ma iq lv b gy mf mc l md me">)</span><span id="269c" class="lz ma iq lv b gy mf mc l md me">})</span><span id="1f2c" class="lz ma iq lv b gy mf mc l md me">export default MyLink</span></pre><p id="9bf2" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">然后在披露下。面板，添加披露。按钮并显示为<mylink>，href= "/home "</mylink></p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="cd3f" class="lz ma iq lv b gy mb mc l md me">&lt;Disclosure.Panel className="px-4 pt-4 pb-2 text-sm text-gray-500"&gt;</span><span id="23bf" class="lz ma iq lv b gy mf mc l md me">Yes! You can purchase a license that you can share with your entire</span><span id="5158" class="lz ma iq lv b gy mf mc l md me">team.</span><span id="d3ee" class="lz ma iq lv b gy mf mc l md me">&lt;Disclosure.Button as={MyLink} href="/home"&gt;</span><span id="1530" class="lz ma iq lv b gy mf mc l md me">Home</span><span id="9868" class="lz ma iq lv b gy mf mc l md me">&lt;/Disclosure.Button&gt;</span><span id="6c9a" class="lz ma iq lv b gy mf mc l md me">&lt;/Disclosure.Panel&gt;</span></pre><p id="9141" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在pages文件夹下，创建home.js</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="e6d9" class="lz ma iq lv b gy mb mc l md me">import React from 'react'</span><span id="e655" class="lz ma iq lv b gy mf mc l md me">const home = () =&gt; {</span><span id="dc3a" class="lz ma iq lv b gy mf mc l md me">return (</span><span id="db6b" class="lz ma iq lv b gy mf mc l md me">&lt;div&gt;home&lt;/div&gt;</span><span id="617a" class="lz ma iq lv b gy mf mc l md me">)</span><span id="04f8" class="lz ma iq lv b gy mf mc l md me">}</span><span id="294e" class="lz ma iq lv b gy mf mc l md me">export default home</span></pre><p id="92e6" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">所以当用户点击我的链接按钮时。它将关闭披露并转到主页。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/26fb70d204e9781bb6d7d8a01ebc4172.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Nt4aXMLE4akGKGhVARfXjA.gif"/></div></div></figure><p id="4121" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><code class="fe mh mi mj lv b">React.forwardRef</code>参考</p><div class="mk ml gp gr mm mn"><a href="https://stackoverflow.com/questions/66421459/warning-function-components-cannot-be-given-refs" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">警告:不能给函数组件引用</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">感谢贡献一个堆栈溢出的答案！请务必回答问题。提供详细信息并分享…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">stackoverflow.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kp mn"/></div></div></a></div><p id="068f" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">来自官方文档:<a class="ae kv" href="https://nextjs.org/docs/api-reference/next/link#if-the-child-is-a-function-component" rel="noopener ugc nofollow" target="_blank">if-the-child-is-a-function-component</a>展示了在<code class="fe mh mi mj lv b">Link</code>中包装自定义函数组件的正确方法。</p><ol class=""><li id="7385" class="nc nd iq la b lb lc le lf lh ne ll nf lp ng lt nh ni nj nk bi translated">在<code class="fe mh mi mj lv b">Link</code>中增加<code class="fe mh mi mj lv b">passHref</code>属性。</li><li id="bddd" class="nc nd iq la b lb nl le nm lh nn ll no lp np lt nh ni nj nk bi translated">用<code class="fe mh mi mj lv b">React.forwardRef</code>包装你的自定义函数组件。</li></ol><p id="373a" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">然而，<code class="fe mh mi mj lv b">NavbarBrand</code>不是你能操纵的部件。您可以创建一个定制组件来包装<code class="fe mh mi mj lv b">NavbarBrand</code>。这大概就像</p><pre class="kg kh ki kj gt lu lv lw lx aw ly bi"><span id="5f82" class="lz ma iq lv b gy mb mc l md me">const CustomNavbarBrand = React.forwardRef(({ onClick, href }, ref) =&gt; {<br/>  return (<br/>    &lt;NavbarBrand href={href} onClick={onClick} ref={ref}&gt;<br/>      Click Me<br/>    &lt;/NavbarBrand&gt;<br/>  )<br/>})<br/><br/>&lt;Link href="/"&gt;<br/>  &lt;CustomNavbarBrand&gt;{APP_NAME}&lt;/CustomNavbarBrand&gt;<br/>&lt;/Link&gt;</span></pre></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="f3b9" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">如果你喜欢这个故事，你可能也喜欢中等会员。一个月才5美元(一杯咖啡的价格！)但是它会在支持你最喜欢的作家的同时，给你无限的接触故事的机会。如果你注册使用<a class="ae kv" href="https://ckmobile.medium.com/membership" rel="noopener">这个链接</a>，我会赚一小笔佣金。谢谢！</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="8750" class="nx ma iq bd ny nz oa ob oc od oe of og jw oh jx oi jz oj ka ok kc ol kd om on bi translated">关注我们:<a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> YouTube </a>，<a class="ae kv" href="https://ckmobile.medium.com/" rel="noopener"> Medium </a>，<a class="ae kv" href="https://www.udemy.com/user/cyruschan2/" rel="noopener ugc nofollow" target="_blank"> Udemy </a>，<a class="ae kv" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>，<a class="ae kv" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae kv" href="https://www.instagram.com/ckmobile8050" rel="noopener ugc nofollow" target="_blank"> Instagram </a>，<a class="ae kv" href="https://app.gumroad.com/ckmobile" rel="noopener ugc nofollow" target="_blank"> Gumroad </a>，<a class="ae kv" href="https://ckmobile.quora.com/" rel="noopener ugc nofollow" target="_blank"> Quora </a>，<a class="ae kv" href="https://t.me/ckmobi" rel="noopener ugc nofollow" target="_blank"> Telegram </a></h1><p id="4981" class="pw-post-body-paragraph ky kz iq la b lb oo jr ld le op ju lg lh oq lj lk ll or ln lo lp os lr ls lt ij bi translated"><em class="ot">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="ot">plain English . io</em></strong></a><em class="ot">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la ir"> <em class="ot">免费周报</em> </strong> </a> <em class="ot">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="ot">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="ot">LinkedIn</em></strong></a><strong class="la ir"><em class="ot"/></strong><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="ot">YouTube</em></strong></a><strong class="la ir"><em class="ot">，以及</em></strong><em class="ot"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="ot">不和</em> </strong> </a>  <em class="ot">对成长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="la ir"> <em class="ot">电路</em> </strong> </a> <strong class="la ir"> <em class="ot">。</em> </strong></p></div></div>    
</body>
</html>