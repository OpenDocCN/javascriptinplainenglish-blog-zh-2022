<html>
<head>
<title>React: Building Dropdown Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React:构建下拉组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-building-dropdown-component-9dbab1966632?source=collection_archive---------9-----------------------#2022-08-12">https://javascript.plainenglish.io/react-building-dropdown-component-9dbab1966632?source=collection_archive---------9-----------------------#2022-08-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6dff" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在下拉组件中选择重复值</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e70a67b04dfc364446c272677d3447f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Xs-rIFhenT3_h9NlxZ8Vw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">fig(1): building dropdown component</figcaption></figure><h2 id="6484" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">介绍</h2><p id="9ede" class="pw-post-body-paragraph lo lp in lq b lr ls jo lt lu lv jr lw lb lx ly lz lf ma mb mc lj md me mf mg ig bi translated">在这篇博客中，我们将构建一个React组件，允许用户从下拉列表中选择值，然后处理值相同的情况。为了保持博客的简单，数据集被硬编码在组件中，但是在您的情况下，您可以从API获取这些数据，或者将它们作为道具接收。</p><h2 id="8898" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">动机</h2><p id="0d8e" class="pw-post-body-paragraph lo lp in lq b lr ls jo lt lu lv jr lw lb lx ly lz lf ma mb mc lj md me mf mg ig bi translated">我们的SPA允许用户在不同的组和子组之间复制内容，但是如果子组有相同的内容标题，那么我们的下拉列表总是默认为列表中的第一个值。这防止了用户复制第二内容。可能的解决方案是:</p><ul class=""><li id="b30b" class="mh mi in lq b lr mj lu mk lb ml lf mm lj mn mg mo mp mq mr bi translated">不允许用户创建具有相同内容标题的内容</li><li id="fc41" class="mh mi in lq b lr ms lu mt lb mu lf mv lj mw mg mo mp mq mr bi translated">不要再显示重复的内容标题</li><li id="89e8" class="mh mi in lq b lr ms lu mt lb mu lf mv lj mw mg mo mp mq mr bi translated">允许用户毫无问题地选择相同标题的内容</li></ul><h2 id="ab77" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">数据</h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><h2 id="8171" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">设计</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/b3f6d871a0eee3a485a971dda17aada7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*42gbN2A14yg80pFFJSu3rg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">fig(2): dropdown data flow design</figcaption></figure><h2 id="edf9" class="ks kt in bd ku kv kw dn kx ky kz dp la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">密码</h2><p id="5fbb" class="pw-post-body-paragraph lo lp in lq b lr ls jo lt lu lv jr lw lb lx ly lz lf ma mb mc lj md me mf mg ig bi translated">首先，我们将重点构建负责列出数据并允许用户选择感兴趣的值的组件。在后面的部分中，我们将修改同一个组件来处理重复值。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="8b69" class="pw-post-body-paragraph lo lp in lq b lr mj jo lt lu mk jr lw lb na ly lz lf nb mb mc lj nc me mf mg ig bi translated">请随意用上述代码替换代码沙盒代码，以重现该问题。如果你这样做，我们可以看到用户不能选择第二个重复的值(即数学问题)。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nd"><img src="../Images/242d3b79aebda27041074b1f6ef0149a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNgIu9PgwL-QIks1f0PTnw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">fig(3): listing data in dropbox with duplicates [issue replication]</figcaption></figure><p id="82a2" class="pw-post-body-paragraph lo lp in lq b lr mj jo lt lu mk jr lw lb na ly lz lf nb mb mc lj nc me mf mg ig bi translated">更新了代码以处理重复值:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="56c2" class="pw-post-body-paragraph lo lp in lq b lr mj jo lt lu mk jr lw lb na ly lz lf nb mb mc lj nc me mf mg ig bi translated">这里是<a class="ae ne" href="https://codesandbox.io/s/handle-select-with-duplicate-values-yyg95l?file=/src/components/Form.js:0-1173" rel="noopener ugc nofollow" target="_blank"> codesandbox </a>中的完整例子。</p><p id="544c" class="pw-post-body-paragraph lo lp in lq b lr mj jo lt lu mk jr lw lb na ly lz lf nb mb mc lj nc me mf mg ig bi translated"><strong class="lq io">奖励</strong>:我们可以采取额外的步骤，将下拉逻辑提取到它自己的组件中，这样它就可以发布到可重用组件库中。</p><p id="171c" class="pw-post-body-paragraph lo lp in lq b lr mj jo lt lu mk jr lw lb na ly lz lf nb mb mc lj nc me mf mg ig bi translated"><strong class="lq io">我之前的三篇博客:</strong> <br/> 1。<a class="ae ne" rel="noopener ugc nofollow" target="_blank" href="/react-spa-with-path-based-routing-in-aws-cloud-2e5b0e4739b6">React:AWS Cloud</a><br/>2中基于路径路由的SPA。<a class="ae ne" rel="noopener ugc nofollow" target="_blank" href="/react-search-component-design-6b0e618dbf5f"> React:搜索组件设计</a> <br/> 3。<a class="ae ne" href="https://citta-lab.medium.com/react-node-why-should-we-care-about-dependencies-a8d3e904689b" rel="noopener"> React | Node:为什么要关心依赖关系？</a></p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="fbc5" class="pw-post-body-paragraph lo lp in lq b lr mj jo lt lu mk jr lw lb na ly lz lf nb mb mc lj nc me mf mg ig bi translated"><em class="nm">更多内容请看</em><a class="ae ne" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lq io"><em class="nm">plain English . io</em></strong></a><em class="nm">。报名参加我们的</em> <a class="ae ne" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq io"> <em class="nm">免费周报</em> </strong> </a> <em class="nm">。关注我们关于</em><a class="ae ne" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lq io"><em class="nm">Twitter</em></strong></a><a class="ae ne" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lq io"><em class="nm">LinkedIn</em></strong></a><em class="nm">，以及</em> <a class="ae ne" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lq io"> <em class="nm">不和</em> </strong> </a> <em class="nm">。</em></p></div></div>    
</body>
</html>