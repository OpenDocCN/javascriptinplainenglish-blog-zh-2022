<html>
<head>
<title>How to Check if a String is a URL in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中检查一个字符串是否是URL</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-check-if-string-is-url-ddf98d50060a?source=collection_archive---------7-----------------------#2022-07-25">https://javascript.plainenglish.io/javascript-check-if-string-is-url-ddf98d50060a?source=collection_archive---------7-----------------------#2022-07-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/af73793c0f05adffaa1fc21efd7c71b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PV5CsfYJvcc87tmkEtTdDg.png"/></div></div></figure><p id="b285" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将研究多种方法来轻松检查一个字符串在JavaScript中是否是有效的URL。</p><h1 id="219a" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.从URL()构造函数捕获异常</h1><p id="49ff" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">要检查一个字符串是否是URL，将该字符串传递给<code class="fe lw lx ly lz b">URL()</code>构造函数。如果字符串是一个有效的URL，一个新的<code class="fe lw lx ly lz b">URL</code>对象将被成功创建。否则，将会引发错误。使用<code class="fe lw lx ly lz b">try...catch</code>块，我们可以处理错误，并在URL无效时执行适当的操作。</p><p id="ac51" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="bee6" class="mi ku in lz b gy mj mk l ml mm">function isValidUrl(string) {<br/>  try {<br/>    new URL(string);<br/>    return true;<br/>  } catch (err) {<br/>    return false;<br/>  }<br/>}</span><span id="dc67" class="mi ku in lz b gy mn mk l ml mm">console.log(isValidUrl('https://codingbeautydev.com')); // true<br/>console.log(isValidUrl('app://codingbeautydev.com')); // true<br/>console.log(isValidUrl('Coding Beauty')); // false</span></pre><p id="567f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了检查一个有效的<strong class="jx io"> HTTP </strong> URL，我们可以使用<code class="fe lw lx ly lz b">URL</code>对象的<code class="fe lw lx ly lz b">protocol</code>属性。</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="e4e1" class="mi ku in lz b gy mj mk l ml mm">function isValidHttpUrl(string) {<br/>  try {<br/>    const url = new URL(string);<br/>    return url.protocol === 'http:' || url.protocol === 'https:';<br/>  } catch (err) {<br/>    return false;<br/>  }<br/>}</span><span id="8294" class="mi ku in lz b gy mn mk l ml mm">console.log(isValidHttpUrl('https://codingbeautydev.com')); // true<br/>console.log(isValidHttpUrl('app://codingbeautydev.com')); // false<br/>console.log(isValidHttpUrl('Coding Beauty')); // false</span></pre><p id="6f27" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lz b">URL</code> <code class="fe lw lx ly lz b">protocol</code>属性返回一个表示URL协议方案的字符串，包括最后的冒号(<code class="fe lw lx ly lz b">:</code>)。HTTP URLs的<code class="fe lw lx ly lz b">protocol</code>要么是<code class="fe lw lx ly lz b">http:</code>要么是<code class="fe lw lx ly lz b">https:</code>。</p><h1 id="2c8b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2.正则表达式匹配</h1><p id="4145" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">或者，我们可以使用正则表达式检查字符串是否是URL。我们通过在一个<code class="fe lw lx ly lz b">RegExp</code>对象上调用<code class="fe lw lx ly lz b">test()</code>方法来实现，这个对象的模式与一个有效URL的字符串相匹配。</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="4264" class="mi ku in lz b gy mj mk l ml mm">function isValidUrl(str) {<br/>  const pattern = new RegExp(<br/>    '^([a-zA-Z]+:\\/\\/)?' + // protocol<br/>      '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name<br/>      '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address<br/>      '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path<br/>      '(\\?[;&amp;a-z\\d%_.~+=-]*)?' + // query string<br/>      '(\\#[-a-z\\d_]*)?$', // fragment locator<br/>    'i'<br/>  );<br/>  return pattern.test(str);<br/>}</span><span id="90ce" class="mi ku in lz b gy mn mk l ml mm">console.log(isValidUrl('https://codingbeautydev.com')); // true<br/>console.log(isValidUrl('app://codingbeautydev.com')); // true<br/>console.log(isValidUrl('Coding Beauty')); // false</span></pre><p id="1e4a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lz b">RegExp</code> <code class="fe lw lx ly lz b">test()</code>方法搜索正则表达式和字符串之间的匹配。如果找到匹配，它将返回<code class="fe lw lx ly lz b">true</code>。否则，返回<code class="fe lw lx ly lz b">false</code>。</p><p id="4d38" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了检查有效的<strong class="jx io"> HTTP </strong> URL，我们可以改变正则表达式中与URL协议匹配的部分:</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="da71" class="mi ku in lz b gy mj mk l ml mm">function isValidHttpUrl(str) {<br/>  const pattern = new RegExp(<br/>    '^(https?:\\/\\/)?' + // protocol<br/>      '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name<br/>      '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address<br/>      '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path<br/>      '(\\?[;&amp;a-z\\d%_.~+=-]*)?' + // query string<br/>      '(\\#[-a-z\\d_]*)?$', // fragment locator<br/>    'i'<br/>  );<br/>  return pattern.test(str);<br/>}</span><span id="52ba" class="mi ku in lz b gy mn mk l ml mm">console.log(isValidHttpUrl('https://codingbeautydev.com')); // true<br/>console.log(isValidHttpUrl('app://codingbeautydev.com')); // false<br/>console.log(isValidHttpUrl('Coding Beauty')); // false</span></pre><p id="3dc3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lz b">https?</code>:图案将只匹配<code class="fe lw lx ly lz b">http:</code>或<code class="fe lw lx ly lz b">https:</code>。</p><h1 id="becc" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">3.is-url和is-url-http NPM软件包</h1><p id="f524" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我们还可以使用<a class="ae mo" href="https://www.npmjs.com/package/is-url" rel="noopener ugc nofollow" target="_blank"> is-url </a> NPM包来快速检查一个字符串是否是有效的url。</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="fb6b" class="mi ku in lz b gy mj mk l ml mm">import isUrl from 'is-url';</span><span id="ee9e" class="mi ku in lz b gy mn mk l ml mm">console.log(isUrl('https://codingbeautydev.com')); // true<br/>console.log(isUrl('app://codingbeautydev.com')); // true<br/>console.log(isUrl('Coding Beauty')); // false</span></pre><p id="e1cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了快速检查一个字符串是否是有效的HTTP URL，我们可以使用NPM的is-url-http包。</p><pre class="ma mb mc md gt me lz mf mg aw mh bi"><span id="7804" class="mi ku in lz b gy mj mk l ml mm">import isUrlHttp from 'is-url-http';</span><span id="45c6" class="mi ku in lz b gy mn mk l ml mm">console.log(isUrlHttp('https://codingbeautydev.com')); // true<br/>console.log(isUrlHttp('app://codingbeautydev.com')); // false<br/>console.log(isUrlHttp('Coding Beauty')); // false</span></pre></div><div class="ab cl mp mq hr mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ig ih ii ij ik"><p id="7ef6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mw">更新于:</em><a class="ae mo" href="https://cbdev.link/fca25b" rel="noopener ugc nofollow" target="_blank"><em class="mw">codingbeautydev.com</em></a></p><h1 id="ef1b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="ma mb mc md gt jo gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae mo" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>