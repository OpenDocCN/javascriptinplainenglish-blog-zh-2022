<html>
<head>
<title>Typing Animation from a List of Phrases in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从“反应”中的短语列表中键入动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typing-animation-from-a-list-of-phrases-in-react-in-only-6-steps-c969955b0237?source=collection_archive---------15-----------------------#2022-08-24">https://javascript.plainenglish.io/typing-animation-from-a-list-of-phrases-in-react-in-only-6-steps-c969955b0237?source=collection_archive---------15-----------------------#2022-08-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="1432" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你一定看过那些很酷的动画，文字会自动输入到页面上？🤔有没有想过它是如何在《反应》中完成的？</p><p id="09d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里，我将一步一步地引导你<strong class="jm io"/>制作一个带有附加功能的打字动画，它<strong class="jm io">每2秒钟随机选择一个短语</strong>并打字。😋</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/46895794716dfbb178ccea218091586f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*bVcqBrmyPciFn1GjWxveBw.gif"/></div></figure></div><div class="ab cl kq kr hr ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ig ih ii ij ik"><h1 id="ad29" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h1><p id="ef66" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">反应钩子的基本知识，如useState和useEffect。</p><h1 id="08ef" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated">第一步</h1><p id="45fb" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">在组件中您想要动画的地方导入钩子。在这里，我们将使用<strong class="jm io"> useState </strong>和<strong class="jm io"> useEffect </strong>钩子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/75aa23f39ac6ea41229392b2063325a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sNgaP3TTdD0bxa3gh_qggw.png"/></div></div></figure><h1 id="fe0a" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated">第二步</h1><p id="33a1" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">我们将需要一个数组来存储我们想要使用的短语，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mk"><img src="../Images/00e8b78616b9942d84bd623d06e95c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Inzq48YgHEIPG3moUInDdw.png"/></div></div></figure><p id="ec0e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然后，我们需要几个州，它们是:</p><p id="de78" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">文本</strong>:页面上显示的当前文本</p><p id="f2eb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">全文</strong>:我们希望看到的最终文本</p><p id="56e1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">索引</strong>:是当前页面显示的字符的索引。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ml"><img src="../Images/b55de26c22fea4c29f7a2d37a6679660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AnYMzYo4xCCEjQXEgP5WaA.png"/></div></div></figure><h1 id="1fda" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated">第三步</h1><p id="946d" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">现在我们需要写我们的打字动画逻辑。</p><p id="64bb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">逻辑</strong>:随着<em class="mm">索引</em>的增加，我们将<em class="mm">全文</em>状态的下一个字符添加到<em class="mm">文本</em>状态，最终显示在我们的页面上。</p><p id="e867" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们想增加索引，比如每200毫秒增加一次，所以我们可以使用超时函数(内置于JS中)来实现，它将如下实现:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mn"><img src="../Images/07f5e0c336ca622cefb9362670b4f064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHHrdgtsj4u4WT5goM7bBQ.png"/></div></div></figure><h1 id="18e1" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated">第四步</h1><p id="8d2e" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">需要使用<strong class="jm io"> useEffect </strong>钩子，在每次索引的<strong class="jm io">值改变</strong>时，到<strong class="jm io">调用超时</strong>函数。</p><p id="1edd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">因此，在继续制作动画之前，我们检查<strong class="jm io">索引是否小于全文</strong>的长度。如果索引超过了长度，那么就不需要再动画了，因为我们的全文已经显示出来了😄</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mo"><img src="../Images/243841724ab61da41ea21571471a4f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kqe775IkiLftIgAAyO-MnQ.png"/></div></div></figure><h1 id="0f04" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated">第五步</h1><p id="a30d" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated">将全文改为<strong class="jm io">从我们的文本列表中随机选择一个短语</strong>。</p><p id="5eca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">只有当索引超过全文的长度时，才会发生这种情况(因为只有那时才会显示前面的全文)。所以这将是另一个条件😋</p><p id="a969" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这里，我们需要我们的文本列表的长度，这样我们就可以<strong class="jm io">为我们的全文选择一个介于0和l之间的随机索引</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mp"><img src="../Images/ce0eb47c186e94d07b99fead9b11b93a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hrYhgg9JGDklZ2fUFDTcDQ.png"/></div></div></figure><p id="0b1c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，需要做什么来随机选择一个新的短语，每2秒钟一次？</p><ol class=""><li id="8a4a" class="mq mr in jm b jn jo jr js jv ms jz mt kd mu kh mv mw mx my bi translated">我们需要<strong class="jm io">将<em class="mm">文本</em>状态的值改为空</strong>(" ")</li><li id="036d" class="mq mr in jm b jn mz jr na jv nb jz nc kd nd kh mv mw mx my bi translated">我们需要将全文的值更改为文本列表的<strong class="jm io">随机索引位置</strong>。</li><li id="976a" class="mq mr in jm b jn mz jr na jv nb jz nc kd nd kh mv mw mx my bi translated">我们需要<strong class="jm io">将索引设置为0 </strong>，使其从全文的初始位置开始。</li><li id="e0ea" class="mq mr in jm b jn mz jr na jv nb jz nc kd nd kh mv mw mx my bi translated">我们需要将所有这些<strong class="jm io">放入每2秒触发一次的超时</strong>功能中</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ne"><img src="../Images/2151c6249a5757423324f9897c252573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5kmLB7nWLWiHrUQC0Xi2A.png"/></div></div></figure><p id="aa6f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">将第5步代码<strong class="jm io">放入您在第4步中创建的useEffect </strong>钩子的else条件中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ne"><img src="../Images/e955394803aae408df10ba1839b12ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LxhU9DU1E_tnQjNmZTMhGw.png"/></div></div></figure><h1 id="3aef" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated">步骤6</h1><p id="95e2" class="pw-post-body-paragraph jk jl in jm b jn lv jp jq jr lw jt ju jv lx jx jy jz ly kb kc kd lz kf kg kh ig bi translated"><strong class="jm io">在您想要显示的位置呈现</strong>文本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/c3d00c9040cc485041b52847fd11ead5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*MnDSauwhGmrJDp35TowHYQ.png"/></div></figure><h1 id="00e3" class="kx ky in bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu bi translated"><strong class="ak">最终代码:</strong></h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ng"><img src="../Images/8a09939e795085616cbfc67125939640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqH5ebMU2ZSawKCYZcT3SQ.png"/></div></div></figure><p id="a329" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">瞧啊。你有你的酷打字动画。🥳</p><p id="c9d5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">一定要跟着我上<a class="ae nh" href="https://medium.com/@subhanu12" rel="noopener">媒体</a>！我每周都用JavaScript写一些很酷的东西。😋</p><p id="eeb5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> PS: </strong>如果你喜欢这篇文章，请务必在<a class="ae nh" href="https://www.linkedin.com/in/subhanu-sankar-roy" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我，认可我的技能。🥰</p><p id="b1f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">干杯！🥂</p><p id="faed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mm">更多内容看</em> <a class="ae nh" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mm">说白了。报名参加我们的</em> <a class="ae nh" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mm">免费周报</em> </strong> </a> <em class="mm">。关注我们关于</em> <a class="ae nh" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mm">推特</em> </strong> </a>，<a class="ae nh" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mm">LinkedIn</em></strong></a><em class="mm">，</em><a class="ae nh" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mm">YouTube</em></strong></a><em class="mm">，以及</em> <a class="ae nh" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mm">不和</em> </strong> </a> <em class="mm">。</em></strong></a></p></div></div>    
</body>
</html>