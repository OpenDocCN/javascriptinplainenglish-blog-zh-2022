<html>
<head>
<title>My 7 Most-Used JavaScript Utility Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我最常用的7个JavaScript实用函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/my-7-most-used-javascript-utility-functions-86afd61ad76c?source=collection_archive---------2-----------------------#2022-09-15">https://javascript.plainenglish.io/my-7-most-used-javascript-utility-functions-86afd61ad76c?source=collection_archive---------2-----------------------#2022-09-15</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="bb1b" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">将数字转换为货币，测量函数性能，等等。</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/a384ccc8f22f8572c218aba6517eb88b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1I6YIO1Y9s3_OyO3RFLSeA.jpeg"/></div></div></figure><p id="7aef" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">JavaScript实用函数是有用的、可重用的片段，可以在许多不同的项目中重用。它们的目的是为常见任务提供一致而有效的答案，并帮助提高代码的一致性。</p><p id="f375" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">在本文中，我想强调我在许多项目中使用的7个实用函数，并解释它们的用途。</p><h2 id="f222" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">1.将数字转换成货币</h2><p id="097c" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">在JavaScript中处理货币时，事情会变得复杂。尤其是当您需要处理显示不同类型的货币时。<br/> <br/> JavaScript提供了<a class="ae mm" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat" rel="noopener ugc nofollow" target="_blank"> Intl。NumberFormat </a>对象，允许你以一种语言敏感的方式格式化数字。它提供的选项之一是将数字格式化为货币。</p><p id="c050" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">该函数接受3个参数:</p><ol class=""><li id="3335" class="mn mo ir ku b kv kw ky kz lb mp lf mq lj mr ln ms mt mu mv bi translated"><strong class="ku is"> num </strong> —要格式化的数字。</li><li id="4c62" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is"> currency </strong> —要格式化的货币——默认设置为'<em class="nb"> EUR </em>'，因为我主要处理基于欧元的价格。</li><li id="97a4" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is">locale</strong>—默认设置为“<em class="nb"> nl-NL </em>”，因为我经常处理荷兰显示的价格。</li></ol><p id="5708" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">您可以使用下面代码栏中的值。例如，您会看到将区域设置更改为"<em class="nb"> en-US </em>"会将十进制符号从逗号更改为点。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the <code class="fe nj nk nl nm b">convertToCurrency utility function</code></figcaption></figure><h2 id="a74d" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">2.将HTML字符串转换为DOM对象</h2><p id="8b99" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">在许多情况下，您可能会收到HTML字符串而不是HTML元素。例如，当从API接收JSON响应中的HTML时，或者当通过像<a class="ae mm" href="https://mozilla.github.io/nunjucks/" rel="noopener ugc nofollow" target="_blank"> Nunjucks </a>这样的模板解析器呈现模板时。<br/> <br/>您可以通过innerHTML属性将这个HTML字符串直接注入到dom中，但有时您希望将这个字符串转换成HTML对象，以便进行额外的转换、验证或更具体的DOM注入。</p><p id="07ae" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">该函数接受两个参数:</p><ol class=""><li id="9504" class="mn mo ir ku b kv kw ky kz lb mp lf mq lj mr ln ms mt mu mv bi translated"><strong class="ku is">内容</strong> —要转换成对象的HTML字符串。</li><li id="d970" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is">选择器</strong>——您想要接收的内容的选择器DOMParser对象将创建一个完整的HTMLObject，包括一个&lt; html &gt;和&lt; body &gt;标签。如果你只是想要一个特定的元素，你可以传入选择器，比如“section ”,你就会收到这个元素。</li></ol><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the parseStringAsHtml<code class="fe nj nk nl nm b"> utility function</code></figcaption></figure><h2 id="3a8e" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">3.去抖</h2><p id="fcf5" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">在JavaScript中，去抖函数将确保您的函数在每次用户输入时只被触发一次，或者至少在wait参数中指定的时间段内不超过一次。</p><p id="013c" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">例如，假设我们想根据搜索查询向用户显示建议，我们可以在用户键入时显示建议，并在键入每个字母后刷新，但这对用户来说可能很烦人。例如，在输入一个键之后，通常至少要等待300毫秒才能显示建议，以确保用户已经完成输入。</p><p id="d49c" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">这个函数有3个参数:</p><ol class=""><li id="fb01" class="mn mo ir ku b kv kw ky kz lb mp lf mq lj mr ln ms mt mu mv bi translated"><strong class="ku is"> fn </strong> —要执行的功能。</li><li id="7f13" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is">等待</strong> —功能执行前等待的时间。</li><li id="b3d3" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is">立即</strong> —一个布尔值，指示第一次调用函数时是否应立即调用。</li></ol><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the debounce<code class="fe nj nk nl nm b"> utility function</code></figcaption></figure><h2 id="949e" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">4.日期验证</h2><p id="91ea" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">有时，您从代码、用户输入或API中的某个地方接收到一个日期字符串，您将它转换为一个日期对象，并尝试编辑或显示日期，但收到一个日期无效的错误。</p><p id="992c" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">使用这个简单的实用方法，您可以验证新构造的date对象实际上是否是有效的date对象。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the isDateValid<code class="fe nj nk nl nm b"> utility function</code></figcaption></figure><h2 id="d423" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">5.将FormData转换为JSON</h2><p id="5310" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">当创建一个<a class="ae mm" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-the-formdata-object-430ba5f94629"> FormData对象</a>时，将它转换成类似JSON的对象有时会很有用。例如，当您发送数据的API只接受JSON请求时。</p><p id="b7e7" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">在大多数情况下，FormData对象可以很容易地映射到一个对象，但当处理复选框的多选时，事情会变得混乱。因为每个复选框都有相同的名称，所以对象的键值对会互相覆盖。</p><p id="5bd9" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">这个简单的实用方法将FormData转换为一个对象，并确保多选值映射到一个数组，而不是每次都覆盖该值。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the convertFormdataToJsonObject<code class="fe nj nk nl nm b"> utility function</code></figcaption></figure><div class="nn no gq gs np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-use-the-formdata-object-430ba5f94629"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd is gz z fq nv fs ft nw fv fx iq bi translated">如何使用FormData对象</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">了解如何在JavaScript/Typescript中使用FormData对象</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe kq nq"/></div></div></a></div><h2 id="a897" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">6.衡量功能的性能</h2><p id="b812" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">有时你想知道你的应用程序的哪一部分降低了你的站点的速度，这对于调试函数需要多长时间来执行是很有用的。</p><p id="adc9" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">幸运的是，浏览器提供了本地支持来帮助你计算这个。但是您不需要将这些控制台方法添加到每个函数中，而是希望每次都进行测试，您可以简单地调用这个有用的实用方法。</p><p id="6919" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">该函数接受两个或更多参数:</p><ol class=""><li id="c404" class="mn mo ir ku b kv kw ky kz lb mp lf mq lj mr ln ms mt mu mv bi translated"><strong class="ku is">名称</strong> —标签的名称显示在控制台中。</li><li id="960e" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is"> fn </strong> —要测量其性能的函数。</li><li id="865a" class="mn mo ir ku b kv mw ky mx lb my lf mz lj na ln ms mt mu mv bi translated"><strong class="ku is">任何附加参数</strong> —您正在调用的函数的参数。</li></ol><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the measurePerformance<code class="fe nj nk nl nm b"> utility function</code></figcaption></figure><h2 id="5497" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">7.从数组中删除重复项</h2><p id="674c" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">我经常发现自己需要从数组中删除可能的重复项。该方法只是在将数组转换为集合后返回一个新数组。</p><p id="d0a2" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">集合是一个简单的对象，它存储只能出现一次的值，因此是对数组进行重复数据消除的一种简单方法。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nc nd l"/></div></figure><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nd l"/></div><figcaption class="nf ng gk gi gj nh ni bd b be z dk">Demo of the removeDuplicates<code class="fe nj nk nl nm b"> utility function</code></figcaption></figure><h2 id="759e" class="lo lp ir bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">结论</h2><p id="76aa" class="pw-post-body-paragraph ks kt ir ku b kv mh js kx ky mi jv la lb mj ld le lf mk lh li lj ml ll lm ln ik bi translated">我希望这些实用的方法对你有用。请在评论中告诉我，如果他们是，或者如果你有任何伟大的分享自己！</p><p id="c7fc" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">感谢阅读。如果你对此有想法，一定要留下评论！</p><p id="377b" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果你喜欢我的内容，并想支持我的努力，考虑通过<a class="ae mm" href="https://medium.com/@WesleySmits/membership" rel="noopener">我的会员链接</a>成为一个媒体订阅者。这不会花费你任何额外的费用，但Medium会把部分收益给我，让我推荐你。</p><p id="6f0a" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果你愿意，你可以在<a class="ae mm" href="https://www.linkedin.com/in/wesley-robert-smits/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae mm" href="https://twitter.com/iamwesleysmits" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上联系我！</p><div class="nn no gq gs np nq"><a href="https://medium.com/@WesleySmits/membership" rel="noopener follow" target="_blank"><div class="nr ab fp"><div class="ns ab nt cl cj nu"><h2 class="bd is gz z fq nv fs ft nw fv fx iq bi translated">通过我的推荐链接加入Medium-Wesley Smits</h2><div class="nx l"><h3 class="bd b gz z fq nv fs ft nw fv fx dk translated">阅读韦斯利·斯密特(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="ny l"><p class="bd b dl z fq nv fs ft nw fv fx dk translated">medium.com</p></div></div><div class="nz l"><div class="of l ob oc od nz oe kq nq"/></div></div></a></div></div><div class="ab cl og oh hv oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ik il im in io"><p id="aaca" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated"><em class="nb">更多内容看</em> <a class="ae mm" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="nb">说白了就是io </em> </strong> </a> <em class="nb">。报名参加我们的</em> <a class="ae mm" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们关于</em> <a class="ae mm" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="nb">推特</em> </strong> </a>，<a class="ae mm" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="nb">领英</em> </strong> </a> <em class="nb">，</em><a class="ae mm" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="nb">YouTube</em></strong></a><em class="nb"/><a class="ae mm" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="nb">不和</em> </strong> </a> <em class="nb">。对增长黑客感兴趣？检查</em> <a class="ae mm" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="nb">电路</em> </strong> </a> <em class="nb">。</em></p></div></div>    
</body>
</html>