<html>
<head>
<title>Best Way How To Install NPM Packages With an Exact Version</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何安装精确版本的NPM软件包的最佳方式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-install-npm-packages-with-an-exact-version-558599f0aa5b?source=collection_archive---------2-----------------------#2022-01-29">https://javascript.plainenglish.io/how-to-install-npm-packages-with-an-exact-version-558599f0aa5b?source=collection_archive---------2-----------------------#2022-01-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5b0d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为什么要在包中使用精确的包版本</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/09904868bf97b095abc2a42f6cc36b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bWxfouUTJWWMEr45"/></div></div></figure><h1 id="fb90" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">1.安装npm软件包的精确版本</h1><p id="482e" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如果你来这里是因为npm默认的semver range运算符给你带来了麻烦，而你正在寻找一条出路，我不会延迟回答。但是，如果您也想知道<em class="mf">为什么</em>应该在<em class="mf"> package.json </em>中保留精确的包版本，请继续阅读。</p><h2 id="3dd4" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated">答:按照以下步骤安装精确版本</h2><ol class=""><li id="1123" class="ms mt iq ll b lm ln lp lq ls mu lw mv ma mw me mx my mz na bi translated">在项目根文件夹中创建<code class="fe nb nc nd ne b"><strong class="ll ir">.npmrc</strong></code>文件。</li><li id="145b" class="ms mt iq ll b lm nf lp ng ls nh lw ni ma nj me mx my mz na bi translated">将<code class="fe nb nc nd ne b"><strong class="ll ir">save-exact=true</strong></code>添加到<code class="fe nb nc nd ne b"><strong class="ll ir">.npmrc</strong></code>文件中。</li><li id="c32c" class="ms mt iq ll b lm nf lp ng ls nh lw ni ma nj me mx my mz na bi translated">利润！所有未来的npm软件包都将安装精确的版本。</li></ol><h2 id="370d" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated"><strong class="ak">备选:</strong></h2><p id="9de2" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">不建议，但是如果您想只安装具有精确版本的特定npm包，出于某种原因，您可以使用<code class="fe nb nc nd ne b">install</code>命令的<code class="fe nb nc nd ne b">save-exact</code>配置参数指定它，即<code class="fe nb nc nd ne b"><strong class="ll ir">npm install --save-exact react</strong></code>。也可与<em class="mf">纱:</em> <code class="fe nb nc nd ne b"><strong class="ll ir">yarn add --exact react</strong></code>纱配合使用。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="55d0" class="kr ks iq bd kt ku nr kw kx ky ns la lb jw nt jx ld jz nu ka lf kc nv kd lh li bi translated">2.语义版本控制(semver)</h1><p id="fda0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">为了更好地理解<code class="fe nb nc nd ne b">package.json</code>中的包版本和<code class="fe nb nc nd ne b">npm install</code>的默认行为，理解用于npm包的版本控制系统是很重要的——称为<em class="mf">语义版本控制(sever)</em>。最好的解释，尤其是对于本文，可以在<a class="ae nw" href="https://bytearcher.com/articles/semver-explained-why-theres-a-caret-in-my-package-json/" rel="noopener ugc nofollow" target="_blank"> <em class="mf">中找到——为什么在我的包中有一个插入符号(^)。</em> </a></p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="ccf0" class="kr ks iq bd kt ku nr kw kx ky ns la lb jw nt jx ld jz nu ka lf kc nv kd lh li bi translated">3.为什么要安装一个精确的版本</h1><p id="8380" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">总之，您对安装的软件包版本有了更多的确定性、可预测性和控制。</p><p id="fb0a" class="pw-post-body-paragraph lj lk iq ll b lm nx jr lo lp ny ju lr ls nz lu lv lw oa ly lz ma ob mc md me ij bi translated">想象一个潜在的场景:你使用了npm的默认semver range操作符(<code class="fe nb nc nd ne b">"<strong class="ll ir">^</strong>”</code>，这样你就有了<em class="mf"> package.json中的<code class="fe nb nc nd ne b">"react": "<strong class="ll ir">^</strong>16.1.0"</code>。</em>然后，又有了<em class="mf"> react的新版本:</em> <code class="fe nb nc nd ne b">v16.<strong class="ll ir">2</strong>.0</code>。所以当你运行<code class="fe nb nc nd ne b">npm install</code>时，你实际上会得到<code class="fe nb nc nd ne b">v16.<strong class="ll ir">2</strong>.0</code>，这通常是好的。然而，在这种情况下，新的<em class="mf"> react </em>版本包含一个会让你的应用崩溃的bug。因为<em class="mf"> package.json </em>说的是<code class="fe nb nc nd ne b">"react": "<strong class="ll ir">^</strong>16.1.0"</code>而不是<code class="fe nb nc nd ne b">"react": "16.2.0"</code>，所以不容易识别出包更新是导致app崩溃的原因。另一方面，如果您使用确切的版本，您可以在单独更新<em class="mf"> react </em>包时发现错误。</p><h2 id="daba" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated"><strong class="ak">如果你喜欢这篇文章，请关注我，了解更多关于React、JavaScript、TypeScript等开发的技巧:】</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/c5c5223511b66daedf7d7a68e5ab6095.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/0*BIp2XUPQwoILtvQ-.gif"/></div></figure><h2 id="6b31" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated">成为会员</h2><p id="a982" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><em class="mf">如果你喜欢阅读这样的故事，并想支持我成为一名作家，</em> <a class="ae nw" href="https://jakub-kozak.medium.com/membership" rel="noopener"> <em class="mf">考虑报名成为一名中等会员</em> </a> <em class="mf">。一个月5美元，你可以无限制地阅读媒体上的故事。如果你</em> <a class="ae nw" href="https://jakub-kozak.medium.com/membership" rel="noopener"> <em class="mf">用我的链接</em> </a> <em class="mf">注册，我会赚一小笔佣金</em>🙌</p><div class="od oe gp gr of og"><a href="https://jakub-kozak.medium.com/membership" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">通过我的推荐链接加入Medium雅各布·科萨克</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">阅读雅各布·科萨克(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">jakub-kozak.medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kp og"/></div></div></a></div><h2 id="9303" class="mg ks iq bd kt mh mi dn kx mj mk dp lb ls ml mm ld lw mn mo lf ma mp mq lh mr bi translated">工作机会——来加入我吧</h2><p id="355f" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我在Tjekvik 的团队正在寻找更多的开发者！你有使用React和Ruby on Rails的经验吗？那就不要犹豫，马上申请吧:<a class="ae nw" href="https://www.tjekvik.com/careers" rel="noopener ugc nofollow" target="_blank">https://www.tjekvik.com/careers</a>。你可以在欧洲的任何地方工作！🌍</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt og"><a href="https://jakub-kozak.medium.com/stop-using-for-conditional-rendering-in-react-a0f7b96200f8" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">停止在React中使用“&amp;&amp;”进行条件渲染</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">通过在React组件中不使用` &amp;&amp; '来避免错误</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">jakub-kozak.medium.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kp og"/></div></div></a></div><div class="od oe gp gr of og"><a rel="noopener  ugc nofollow" target="_blank" href="/react-hooks-when-to-use-uselayouteffect-instead-of-useeffect-3271a96d881a"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">React挂钩—何时使用useLayoutEffect而不是useEffect</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">useEffect和useLayoutEffect的区别——用一个真实的例子来解释。</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="op l"><div class="ow l or os ot op ou kp og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://medium.com/swlh/how-to-build-a-chrome-extension-with-react-typescript-and-webpack-92e806ce2e16" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">如何使用React、TypeScript和Webpack构建Chrome扩展</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">从创建样板文件到发布Chrome网络商店的完整扩展</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="ox l or os ot op ou kp og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://medium.com/swlh/best-moment-js-alternatives-5dfa6861a1eb" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">最佳时刻。JS替代方案</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">比较大小、性能、类型脚本支持等</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="oy l or os ot op ou kp og"/></div></div></a></div><p id="3156" class="pw-post-body-paragraph lj lk iq ll b lm nx jr lo lp ny ju lr ls nz lu lv lw oa ly lz ma ob mc md me ij bi translated"><em class="mf">更多内容请看</em><a class="ae nw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="mf">plain English . io</em></strong></a><em class="mf">。报名参加我们的</em> <a class="ae nw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="mf">免费周报</em> </strong> </a> <em class="mf">。在我们的</em> <a class="ae nw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="mf">社区</em> </strong> </a> <em class="mf">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>