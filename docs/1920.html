<html>
<head>
<title>How You Should Use a Recursive Function in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用递归函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-you-should-use-a-recursive-function-in-javascript-619b3306cbab?source=collection_archive---------7-----------------------#2022-04-29">https://javascript.plainenglish.io/how-you-should-use-a-recursive-function-in-javascript-619b3306cbab?source=collection_archive---------7-----------------------#2022-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e60a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">小心超过调用堆栈！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9fe587bff019d07f5928399c465c04ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kQ18JIxtgRpm5eW3lpC8wQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by author and <a class="ae kv" href="https://unsplash.com/photos/wQRCaurCX3k" rel="noopener ugc nofollow" target="_blank">Mulyadi</a> at <a class="ae kv" href="https://unsplash.com/photos/wQRCaurCX3k" rel="noopener ugc nofollow" target="_blank">unsplash</a></figcaption></figure><p id="6fd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">通过在</strong><a class="ae kv" href="https://twitter.com/antondevv" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">【https://twitter.com/antondevv】</strong></a><strong class="ky ir">的Twitter上关注我，保持反应和打字的前沿。</strong></p><p id="849e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">递归函数是调用自身的函数。虽然您可能不相信这有任何可行的用例，但我将向您展示一个完美的用例。</p><p id="379b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是到底什么是递归函数呢？根据定义，它是一个调用自身的函数，但是如果我们这样做了，它永远不会返回，调用栈最终会被填满，我们的程序会停止。递归函数必须在某个时刻返回。</p><p id="7ac8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，这个递归函数会导致我们的应用程序崩溃:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="02ba" class="lx ly iq lt b gy lz ma l mb mc">function recursive(){<br/>console.log("i invoke my self")<br/>recursive()<br/>}</span></pre><p id="3827" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，当一个函数到达函数作用域的末尾时，它会返回undefined，除非您显式定义一个return语句，所以这里发生的情况是，它永远不会到达末尾，因为它一直在调用自己。</p><h2 id="a762" class="lx ly iq bd md me mf dn mg mh mi dp mj lf mk ml mm lj mn mo mp ln mq mr ms mt bi translated">递归函数有什么好的用例？</h2><p id="1e46" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf mw lh li lj mx ll lm ln my lp lq lr ij bi translated">运行文件夹并获取文件的函数是一个合适的用例。</p><p id="5c59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我到底是什么意思？假设您有一个函数，它需要返回目录中的每个文件名，但是目录包含文件和包含文件的文件夹。你不能只循环遍历目录并返回文件，因为有些文件在目录内的目录中。</p><p id="f36e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们如何确保该函数搜索所有目录并返回它找到的所有文件？递归函数就是答案。</p><p id="988d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目标是有一个函数，它接受一个目录路径，遍历入口点，检查它是否是一个目录，然后从内部调用该函数并传递目录路径，否则将文件名添加到文件数组中。</p><p id="4748" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这是我们将这个概念写入代码后得到的结果:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1385" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的一个客户的项目中，我有一个使用<code class="fe nb nc nd lt b">fs</code> &amp; <code class="fe nb nc nd lt b">path</code>节点模块的函数，它试图在一个文件夹中找到所有的<code class="fe nb nc nd lt b">.scss</code>文件，将它们编译成CSS。这是代码看起来的样子，它几乎和上面的代码一样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="e304" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ne">你好，如果你想体验灵媒，请考虑支持我和所有其他作家，注册成为</em> <a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir"> <em class="ne">会员</em> </strong> </a> <em class="ne">每月5美元，以保持独立写作，在这里注册；)</em>  </p><p id="b632" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了支持他人，Medium还可以通过写作和在这里找到家的强大、积极参与的社区来支持你。</p><h1 id="e0c7" class="nf ly iq bd md ng nh ni mg nj nk nl mj jw nm jx mm jz nn ka mp kc no kd ms np bi translated">如果你喜欢这件作品，我希望你也会喜欢:</h1><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/4-killer-ways-to-write-typescript-with-react-6a66b32764f1"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">用React编写打字稿的4种黑仔方法</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">4个黑仔打字稿，带反馈提示+ 1个额外提示</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oc l"><div class="od l oe of og oc oh kp nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/5-typescript-lessons-that-will-pay-off-911d35974c8"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">将会有回报的5堂打字课</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">你知道第五条吗？</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oc l"><div class="oi l oe of og oc oh kp nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/stop-learning-from-react-tutorials-that-suck-5e2031d9bdc7"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">停止从糟糕的React教程中学习</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">不受欢迎的观点</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oc l"><div class="oj l oe of og oc oh kp nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://betterprogramming.pub/callbacks-vs-promises-vs-async-await-a-step-by-step-guide-f93d13447604" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">回调vs .承诺vs .异步Await:逐步指南</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">引擎盖下也有点。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">better编程. pub</p></div></div><div class="oc l"><div class="ok l oe of og oc oh kp nt"/></div></div></a></div><p id="f8b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ne">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">免费周报</em> </strong> </a> <em class="ne">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ne">Twitter</em></strong></a><em class="ne">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ne">LinkedIn</em></strong></a><em class="ne">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">社区</em> </strong> </a> <em class="ne">。</em></strong></a></p></div></div>    
</body>
</html>