<html>
<head>
<title>How to Use .env Environment Variables in Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用。Vue.js中的env环境变量</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-env-environment-variables-in-vue-js-790cdc10f7aa?source=collection_archive---------7-----------------------#2022-08-17">https://javascript.plainenglish.io/how-to-use-env-environment-variables-in-vue-js-790cdc10f7aa?source=collection_archive---------7-----------------------#2022-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8cf4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本指南中，我们将讨论如何使用。Vue中的env变量，以及如何在？每个环境的env文件。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b27426f000c7f2a975aa10d6f78a16f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-mebo7bcERKHcFqyYdJGw.png"/></div></div></figure><p id="e976" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们创建Node.js应用程序时，通常我们还会创建一个存储所有环境变量的<code class="fe ln lo lp lq b">.env</code>文件。这个文件通常是私有的，可以用来存储API键、URL和其他特定于一个环境的东西。</p><p id="b4f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Vue.js也允许我们使用<code class="fe ln lo lp lq b">.env</code>变量，但是它的工作方式略有不同。那么我们来看看如何在Vue.js中使用<code class="fe ln lo lp lq b">.env</code>变量</p><p id="184e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意</strong>:在本指南中，我假设你已经安装了<code class="fe ln lo lp lq b">vue-cli-service</code>。您可以使用<code class="fe ln lo lp lq b">npm install -g @vue/cli</code>将它安装到您的项目中。Vue CLI ( <code class="fe ln lo lp lq b">vue-cli-service</code>)让我们能够在运行应用程序时使用<code class="fe ln lo lp lq b">.env</code>。</p><h1 id="f8da" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">使用。Vue.js中的env变量</h1><p id="c180" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">在Vue CLI中，<code class="fe ln lo lp lq b">.env</code>的工作方式与您预期的差不多。在您的基本目录中，您可以制作一个<code class="fe ln lo lp lq b">.env</code>文件，如下所示:</p><h1 id="1e92" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">典型的Vue.js文件夹结构。包封/包围（动词envelop的简写）</h1><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="b648" class="ms ls iq lq b gy mt mu l mv mw">|- public &lt;-- Our public folder<br/>|- src &lt;-- Our src folder <br/>|- .env &lt;-- Our .env file</span></pre><p id="642a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的<code class="fe ln lo lp lq b">.env</code>文件本身中，我们可以开始定义我们的<code class="fe ln lo lp lq b">.env</code>变量。Vue CLI实际上支持<code class="fe ln lo lp lq b">.env</code>文件的几种不同名称:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="42fb" class="ms ls iq lq b gy mt mu l mv mw">.env                # loaded on all projects<br/>.env.local          # loaded on all projects, but ignored by git by default<br/>.env.[mode]         # only loaded in a specific mode<br/>.env.[mode].local   # only loaded in a specific mode, but ignored by git by default</span></pre><p id="ccc7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可能会注意到，我们上面有这个<strong class="kt ir">模式</strong>的概念。Vue CLI中的模式是您正在使用的环境。在特定模式下构建Vue.js应用程序的最简单方法是像这样运行<code class="fe ln lo lp lq b">vue-cli-service</code>:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="4a46" class="ms ls iq lq b gy mt mu l mv mw">vue-cli-service build --mode development</span></pre><p id="b45d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们运行这个命令，那么Vue.js将加载<code class="fe ln lo lp lq b">.env</code>、<code class="fe ln lo lp lq b">.env.local</code>、<code class="fe ln lo lp lq b">.env.development</code>、<code class="fe ln lo lp lq b">.env.development.local</code>——假设它们可用。这意味着我们可以拥有一个定制的<code class="fe ln lo lp lq b">.env</code>文件，这取决于我们配置代码的环境。</p><p id="8a9d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">除此之外，很高兴知道Vue CLI有3种标准的触发方式<code class="fe ln lo lp lq b">test</code>、<code class="fe ln lo lp lq b">development</code>和<code class="fe ln lo lp lq b">production</code>:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="8f73" class="ms ls iq lq b gy mt mu l mv mw">vue-cli-service serve     # mode will be 'development'<br/>vue-cli-service test:unit # mode will be 'test'<br/>vue-cli-service build     # mode will be 'production</span></pre><h1 id="f7c7" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">用你的。环境文件</h1><p id="3a69" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">现在已经清楚了如何制作<code class="fe ln lo lp lq b">.env</code>文件，以及它们放在哪里，让我们来看看它们的内容。普通Node.js <code class="fe ln lo lp lq b">.env</code>和Vue CLI的区别在于Vue.js只会加载以<code class="fe ln lo lp lq b">VUE_APP_</code>开头的变量。所以如果我们的<code class="fe ln lo lp lq b">.env</code>内容看起来像这样:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="c97b" class="ms ls iq lq b gy mt mu l mv mw">VUE_APP_API_KEY = 123-123-123-123<br/>VUE_APP_API_BASE = https://some-app.fjolt.com/api/<br/>topSecretCode = someSecretName</span></pre><p id="f2e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么只有<code class="fe ln lo lp lq b">VUE_APP_API_KEY</code>和<code class="fe ln lo lp lq b">VUE_APP_API_BASE</code>可以在我们的Vue.js应用程序中使用。<strong class="kt ir">所有其他变量将被忽略</strong>。除了任何以<code class="fe ln lo lp lq b">VUE_APP_</code>开头的变量，您还可以访问:</p><ul class=""><li id="7246" class="mx my iq kt b ku kv kx ky la mz le na li nb lm nc nd ne nf bi translated"><code class="fe ln lo lp lq b">NODE_ENV</code> -取决于使用哪个<code class="fe ln lo lp lq b">--mode</code>的环境。</li><li id="285e" class="mx my iq kt b ku ng kx nh la ni le nj li nk lm nc nd ne nf bi translated"><code class="fe ln lo lp lq b">BASE_URL</code> -在<code class="fe ln lo lp lq b">vue.config.js</code>中的<code class="fe ln lo lp lq b">publicPath</code>变量中配置的URL。</li></ul><h1 id="a3d1" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">用你的。Vue.js应用程序中的env变量</h1><p id="cbfe" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">现在我们知道了如何创建我们的<code class="fe ln lo lp lq b">.env</code>文件的内容，在我们的文件中使用它们是非常容易的。您可以通过<code class="fe ln lo lp lq b">process.env</code>从您的<code class="fe ln lo lp lq b">.env</code>文件中访问任何有效变量。因此，如果您想在代码中使用<code class="fe ln lo lp lq b">VUE_APP_API_KEY</code>，您可以用JavaScript编写:</p><pre class="kg kh ki kj gt mo lq mp mq aw mr bi"><span id="2eb9" class="ms ls iq lq b gy mt mu l mv mw">console.log(process.env.VUE_APP_API_KEY)</span></pre><p id="0e92" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">记住</strong> —所有的<code class="fe ln lo lp lq b">.env</code>变量都需要前面的<code class="fe ln lo lp lq b">VUE_APP_</code>才能工作。因此，如果有些东西似乎没有运行，仔细检查你有那个。</p><h1 id="0b24" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">结论</h1><p id="73d7" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated"><code class="fe ln lo lp lq b">.env</code>文件是按环境存储应用数据的好方法，使用Vue CLI这样的工具非常简单。我希望你喜欢Vue.js中的这个<code class="fe ln lo lp lq b">.env</code>指南。如果你想要更多的Vue.js内容，请在这里查看我的所有文章:</p><div class="nl nm gp gr nn no"><a href="https://fjolt.com/category/vue" rel="noopener  ugc nofollow" target="_blank"><div class="np ab fo"><div class="nq ab nr cl cj ns"><h2 class="bd ir gy z fp nt fr fs nu fu fw ip bi translated">Fjolt - Vue</h2><div class="nv l"><h3 class="bd b gy z fp nt fr fs nu fu fw dk translated">Vue的内容和教程</h3></div><div class="nw l"><p class="bd b dl z fp nt fr fs nu fu fw dk translated">fjolt.com</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc kp no"/></div></div></a></div></div><div class="ab cl od oe hu of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="ij ik il im in"><p id="caa5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ok">更多内容请看</em> <a class="ae ol" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ok">说白了就是</em> </strong> </a> <em class="ok">。报名参加我们的</em> <a class="ae ol" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ok">免费每周简讯</em> </strong> </a> <em class="ok">。关注我们关于</em><a class="ae ol" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="ok">Twitter</em></strong></a>，<a class="ae ol" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="ok">LinkedIn</em></strong></a><em class="ok">，</em><a class="ae ol" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="ok">YouTube</em></strong></a><em class="ok">，以及</em> <a class="ae ol" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ok">不和</em></strong></a><em class="ok"><em class="ok">。</em></em></p></div></div>    
</body>
</html>