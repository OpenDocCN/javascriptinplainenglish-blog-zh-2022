# 5 ä¸ªå¯èƒ½å·²ç»å­˜åœ¨äº JavaScript ä»£ç ä¸­çš„ä»£ç å‘³é“ç¤ºä¾‹

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/5-code-smell-examples-that-are-probably-already-in-your-javascript-code-9292a9ba1f68?source=collection_archive---------4----------------------->

## å¦‚æœä½ æƒ³å†™æ›´å¥½çš„ä»£ç ï¼Œé¿å…è¿™äº›ç»†èŠ‚

![](img/859adb74906685b81fd57ec96bb33887.png)

Photo by [Mohammad Rahmani](https://unsplash.com/@afgprogrammer?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

ä½œä¸ºä¸€ååˆçº§å¼€å‘äººå‘˜ï¼Œæˆ‘çŠ¯äº†å¾ˆå¤šé”™è¯¯ã€‚

ç›®å‰ï¼Œæˆ‘åœ¨åšæˆ‘çš„ç¬¬ä¸€ä»½å·¥ä½œï¼Œæˆ‘è¿˜æœ‰å¾ˆå¤šä¸œè¥¿è¦å­¦ã€‚å¦‚æœä½ çœ‹æˆ‘çš„ä»£ç ï¼Œå¾ˆå¯èƒ½**ä½ ä¼šå‘ç°ä¸€äº›ä»£ç å‘³é“**ã€‚

æˆ‘çŸ¥é“æ˜¯å› ä¸ºæˆ‘æ£€æµ‹åˆ°äº†ã€‚æˆ‘åˆ†æäº†æˆ‘çš„ä»£ç ï¼Œå‘ç°äº† 5 ä¸ªè¢«è®¤ä¸ºæ˜¯ä»£ç å‘³é“çš„å°ç»†èŠ‚ã€‚æˆ‘å‘ç°é€šè¿‡æ”¹å˜è¿™å‡ ä»¶äº‹**ï¼Œæˆ‘å¯ä»¥å¤§å¤§æé«˜æˆ‘ä»£ç **çš„è´¨é‡ã€‚

ä½ å‡†å¤‡å¥½é€šè¿‡æ”¹å˜ä¸€äº›ç»†èŠ‚æ¥æ”¹è¿›ä½ çš„ä»£ç äº†å—ï¼Ÿ

# è§£é‡Šä»£ç çš„æ³¨é‡Š

> ä¸è¦è¯„è®ºç³Ÿç³•çš„ä»£ç â€”â€”é‡å†™å®ƒã€‚

å¦‚æœä½ å¿…é¡»ç”¨æ³¨é‡Šæ¥è§£é‡Šä½ çš„ä»£ç ï¼Œé‚£æ˜¯å› ä¸º**æ˜¯åä»£ç **ã€‚

ä½ çš„ä»£ç åº”è¯¥æ˜¯**è‡ªè§£é‡Šçš„**ã€‚ä»»ä½•äººéƒ½åº”è¯¥æ‹¿ç€ä½ çš„ä»£ç ï¼Œæ¯«ä¸æ€€ç–‘åœ°ä¸€ç›®äº†ç„¶ã€‚

ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µå—ï¼Ÿé‚£ä¹ˆå°±æ„å‘³ç€**ä½ å†™äº†å¤æ‚çš„ä»£ç ï¼Œå¾ˆéš¾ç†è§£**ï¼Œå¯¹äºå¯ç»´æŠ¤æ€§å’Œå¯ä¼¸ç¼©æ€§æ¥è¯´æ˜¯å¦‚æ­¤ç—›è‹¦ã€‚

æ³¨é‡Šæ²¡æœ‰å¥½åä¹‹åˆ†ï¼Œå®ƒä»¬æ˜¯æˆ‘ä»¬åœ¨ç¼–ç æ—¶å¯ä»¥ä½¿ç”¨çš„å·¥å…·ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¸å¾—ä¸å¼ºåˆ¶ä½¿ç”¨å®ƒä»¬ï¼Œ**è¿™æ˜¯ä¸€ç§ä»£ç æ°”å‘³**å®ƒå¯ä»¥è¯†åˆ«å‡ºä¸€äº›å¯ä»¥åšå¾—æ›´å¥½çš„ä¸œè¥¿ã€‚

å½“æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°æˆ–å˜é‡æ—¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä½¿ç”¨æ³¨é‡Šã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œåªæœ‰æœ‰äº†æ­£ç¡®çš„å‘½åï¼Œæˆ‘ä»¬æ‰èƒ½åˆ é™¤æ³¨é‡Šã€‚

![](img/fb7e9922e00a777de524025acbed6260.png)

An example of a bad code with comments

æˆ‘ä»¬å¯ä»¥ç”¨å¾ˆå¤šæ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¾‹å¦‚åº”ç”¨å¹²å‡€çš„ä»£ç å®è·µ

[](/clean-codes-3-most-useful-practices-using-javascript-examples-e80721ad3d4) [## ä½¿ç”¨ JavaScript ç¤ºä¾‹æ¸…ç†ä»£ç çš„ 3 ä¸ªæœ€æœ‰ç”¨çš„å®è·µ

### æé«˜ä»£ç è´¨é‡çš„ 3 ä¸ªå®è·µ:æ­£ç¡®å‘½åå˜é‡ï¼Œä¿æŒå‚æ•°æ•°é‡æœ€å°‘

javascript.plainenglish.io](/clean-codes-3-most-useful-practices-using-javascript-examples-e80721ad3d4) 

# é‡å¤ä»£ç 

å¤åˆ¶ä»£ç è¢«è®¤ä¸ºæ˜¯ä¸€ç§**åæ¨¡å¼**(åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¥åä¼šè§£é‡Šä»€ä¹ˆæ˜¯åæ¨¡å¼)ã€‚æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½åœ°é¿å…å®ƒï¼Œä»¥ä¿æŒä»£ç çš„æ•´æ´ã€‚

ç¼–ç¨‹è¯­è¨€ä¸ºæˆ‘ä»¬æä¾›äº†è®¸å¤šé¿å…é‡å¤ä»£ç çš„å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥**å®ç°å‡½æ•°**ï¼Œæˆ‘ä»¬å¯ä»¥**å£°æ˜å˜é‡**å’Œæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥**åœ¨ç±»ä¸­å°è£…ä¿¡æ¯**â€¦å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬å¤åˆ¶ä»£ç æ˜¯å› ä¸ºæˆ‘ä»¬æƒ³è¦(åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ€»æ˜¯æœ‰ä¾‹å¤–)ã€‚

æœ‰æ—¶ï¼Œå¦‚æœæˆ‘ä»¬é¢ä¸´ä¸€ä¸ªç‹­çª„çš„æœŸé™ï¼Œæˆ‘ä»¬å¯ä»¥å…è®¸é‡å¤çš„ä»£ç ã€‚ä½†æ˜¯æ¥ä¸‹æ¥ï¼Œ**æˆ‘ä»¬åº”è¯¥é‡æ„å¹¶ä¿®å¤è¿™ä¸ªé‡å¤**ï¼Œå®ƒä¸å¯èƒ½æ˜¯æ°¸è¿œçš„ä¸œè¥¿ã€‚

å¦‚æœæˆ‘ä»¬æƒ³ä¿æŒä»£ç **æ›´çŸ­**å’Œ**æ›´ç®€å•**çš„ç»“æ„ï¼Œæˆ‘ä»¬åº”è¯¥åˆå¹¶ä»£ç ä¸­çš„é‡å¤éƒ¨åˆ†ã€‚

![](img/be96438d32f5d362ba117d0f45dcdd80.png)

An example of a big code smell because thereâ€™s code duplicated

ä¾‹å¦‚ï¼Œåœ¨å‰é¢çš„å›¾ç‰‡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åªä½¿ç”¨ä¸€ä¸ªå¾ªç¯æ¥é‡æ„é‡å¤çš„ä»£ç ã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ˜æ˜¾çš„ä»£ç å‘³é“ã€‚

# é­”æ³•å¸¸æ•°

ä½ æ˜¯å¦åœ¨ä»£ç ä¸­åŒ…å«äº†**æ•°å­—ï¼Œå´æ²¡æœ‰è§£é‡Šå®ƒä»¬æ¥è‡ªäº**ï¼Ÿé‚£ä½ å°±æ˜¯åœ¨çŠ¯ä»£ç æ°”å‘³ã€‚

å½“ä½ é˜…è¯»ä¸€æ®µä»£ç æ—¶ï¼Œä½ å¿…é¡»**å®Œå…¨äº†è§£å®ƒçš„ç›®çš„å’Œä¸Šä¸‹æ–‡**ï¼Œæ‰€ä»¥ä½ ä¸èƒ½åŒ…å«å­¤ç‹¬çš„æ–‡å­—ï¼Œå› ä¸ºæ˜¯çš„ã€‚ä½ å¿…é¡»**æ­£ç¡®ä½¿ç”¨å˜é‡**ç»™æ•°å­—ä¸€ä¸ªè§£é‡Šï¼Œè¯´æ˜è¿™ä¸ªå€¼çš„æ„æ€ï¼Œä»¥åŠå®ƒä¸ºä»€ä¹ˆå‡ºç°åœ¨ä»£ç ä¸­ã€‚

![](img/345943210dfa5b4cb8975002cbda4de6.png)

A magic constant example inside a code

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºç¥å¥‡å¸¸æ•°çš„çŸ¥è¯†ä»¥åŠä¸ºä»€ä¹ˆä¸åº”è¯¥ä½¿ç”¨å®ƒä»¬ï¼Œè¯·æŸ¥çœ‹è¿™ç¯‡æ–‡ç« 

[](/do-you-want-to-keep-your-fantastic-job-then-do-not-use-magic-constants-2dac70989a5d) [## ä½ æƒ³ä¿ä½ä½ çš„å¥½å·¥ä½œå—ï¼Ÿâ€”é‚£ä¹ˆå°±ä¸è¦ä½¿ç”¨ç¥å¥‡çš„å¸¸æ•°

### åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ä½¿ç”¨ç¥å¥‡çš„å¸¸é‡æ˜¯ä¸€ç§ç³Ÿç³•çš„ç¼–ç¨‹å®è·µï¼Œå¦‚æœæˆ‘ä»¬æƒ³æˆä¸ºä¸€ä¸ªâ€¦

javascript.plainenglish.io](/do-you-want-to-keep-your-fantastic-job-then-do-not-use-magic-constants-2dac70989a5d) 

# éš¾ä»¥ç†è§£çš„åå­—

æˆ‘ä»¬åœ¨ç¼–ç¨‹æ—¶é‡åˆ°çš„è®¸å¤šé—®é¢˜éƒ½æ˜¯ä¸€ä¸ª**å‘½åé—®é¢˜**ã€‚æˆ‘ä»¬éå¸¸å–œæ¬¢ä½¿ç”¨æŠ½è±¡çš„åå­—æˆ–è€…éå¸¸çŸ­çš„åå­—ï¼Œè¿™äº›åå­—ä¸èƒ½è¡¨è¾¾å˜é‡æˆ–è€…å‡½æ•°çš„æ„å›¾ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸å¥½çš„ä¹ æƒ¯ã€‚

å½“æˆ‘ä»¬ç»™ä¸€ä¸ªå˜é‡å‘½åæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ç”¨ä¸€ç§**æè¿°æ€§çš„**ã€**æ¸…æ™°çš„**å’Œ**ç®€æ´çš„**æ¥æ€è€ƒï¼Œä¸è¦å†™é”™ï¼Œé¿å…ä¸è¯­è¨€çš„ä¿ç•™å­—å†²çªã€‚

åç§°å¿…é¡»æ˜¯**ä¸è¨€è‡ªæ˜çš„**ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿé€šè¿‡é˜…è¯»å®ƒæ¥ç†è§£ç›®çš„ä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚

![](img/35ae08b6bae13b3317150bf39ad2e8cd.png)

An example of naming bad a variable

ä¹Ÿè®¸ä½ ç”¨ä¸å¥½çš„åå­—å†™å˜é‡ï¼Œå› ä¸ºä½ æ˜¯åˆçº§å¼€å‘äººå‘˜ã€‚é‚£ä½ åº”è¯¥æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ª

[](https://medium.com/codex/youre-a-junior-developer-calm-down-no-one-expects-anything-from-you-95ab6a8c3918) [## ä½ æ˜¯ä¸€ååˆçº§å¼€å‘äººå‘˜â€”â€”å†·é™ç‚¹ï¼Œæ²¡äººæŒ‡æœ›ä½ åšä»€ä¹ˆ

### å¦‚æœä½ æ˜¯ä¸€ååˆçº§å¼€å‘äººå‘˜ï¼Œå¾ˆå¯èƒ½ä½ æ­£æ‰¿å—ç€å¾ˆå¤§çš„å‹åŠ›ã€‚ä½ å¿…é¡»æ”¹å˜ä½ çš„å¿ƒæ€â€¦

medium.com](https://medium.com/codex/youre-a-junior-developer-calm-down-no-one-expects-anything-from-you-95ab6a8c3918) 

# æ­»ä»£ç 

è¿™å¯èƒ½æ˜¯æˆ‘ç»å¸¸çŠ¯çš„ä»£ç é”™è¯¯ã€‚

å½“æˆ‘ä»¬ç¼–ç¨‹æ—¶ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€ç§æ–¹æ³•ä¸­ä½¿ç”¨äº†ä¾èµ–å…³ç³»ã€å‡½æ•°å’Œå˜é‡**,ä½†æ˜¯å½“æˆ‘ä»¬æ”¹è¿›æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ—¶ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨æ›´å¤šçš„**ã€‚

å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬åº”è¯¥åˆ é™¤è¿™äº›ä¸ç”¨çš„çº¿â€¦ä¸æ˜¯å—ï¼Ÿåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå®ƒä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œå› ä¸ºæˆ‘ä»¬å¿˜è®°äº†å®ƒã€‚å½“æˆ‘ä»¬é¢ä¸´æˆªæ­¢æ—¥æœŸæ—¶ï¼Œæ²¡æœ‰äººæœ‰æ—¶é—´æ¸…ç†æ—§ä»£ç ã€‚

ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¸åˆ é™¤å®ƒ**ï¼Œæˆ‘ä»¬å°†ä¼šç§¯ç´¯ä¸åšä»»ä½•äº‹æƒ…çš„ä»£ç è¡Œ**ã€‚å¦‚æœæˆ‘ä»¬çƒ­çˆ±æˆ‘ä»¬çš„ä»£ç ï¼Œæˆ‘ä»¬å¿…é¡»å…³æ³¨ç»†èŠ‚ï¼Œæˆ‘ä»¬ä¸èƒ½è®©è‡ªå·±æœ‰è¿™ç§ä»£ç å‘³é“ã€‚

![](img/5874db747e248b07df35f11ced677d2a.png)

Dead code example

# äº†è§£æ›´å¤šä¿¡æ¯çš„èµ„æº

æœç´¢è¡¥å……æœ¬æ–‡æ‰€å†™çš„ä¿¡æ¯æˆ‘å‘ç°äº†ä¸€äº›éå¸¸æ£’çš„èµ„æºï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹:

*   [Refactoring.guru](https://refactoring.guru/refactoring/smells)
*   [ä»€ä¹ˆæ˜¯ç å‘³](https://linearb.io/blog/what-is-a-code-smell/)ï¼Ÿ

# æœ€åçš„æƒ³æ³•

ä»£ç æ°”å‘³**å¹¶ä¸æ˜¯ç»å¯¹çœŸç†**ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¸­çš„è®¸å¤šå¹¶ä¸è¡¨æ˜ä»£ç æ˜¯åçš„ã€‚ä½†æ˜¯ï¼Œå¦ä¸€æ–¹é¢ï¼Œæœ‰ä¸€äº›**æ˜ç¡®æŒ‡å‡ºä»£ç å¯ä»¥æ”¹è¿›**ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä½ åˆ†äº«äº† 5 ç§ä»£ç å‘³é“ï¼Œæˆ‘è®¤ä¸ºä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨ä½ çš„ä»£ç ä¸­æ‰¾åˆ°å®ƒä»¬ï¼Œå› ä¸ºæˆ‘åœ¨è‡ªå·±çš„ä»£ç ä¸­æ‰¾åˆ°äº†å®ƒä»¬ã€‚æ­¤å¤–ï¼Œæˆ‘è®¤ä¸ºå®ƒä»¬æ˜¯åˆå­¦è€…å¼€å‘äººå‘˜çŠ¯çš„å…¸å‹é”™è¯¯ã€‚

æˆ‘å¸Œæœ›å®ƒä»¬å¯¹ä½ æœ‰ç”¨ï¼Œå¹¶ä¸”å¸®åŠ©ä½ æ”¹è¿›ä½ çš„ä»£ç å¹¶äº§ç”Ÿæ›´é«˜è´¨é‡çš„ä»£ç ã€‚

*æ‚¨æ˜¯å¦åœ¨ä»£ç ä¸­å‘ç°äº†ä»»ä½•ä»£ç å‘³é“ï¼Ÿä½ è®¤ä¸ºå…¶ä»–ä»£ç æœ‰ä»€ä¹ˆå‘³é“æ˜¯çœŸçš„ï¼Ÿ*

> *ä½ åœ¨è€ƒè™‘ä¹°ä¸€ä¸ª* [*ä¸­ç­‰ä¼šå‘˜*](https://medium.com/@jesuslagares/membership) *ï¼Ÿå¦‚æœä½ æƒ³åœ¨åª’ä½“ä¸Šè·å¾—æœ€å¥½çš„å†…å®¹ï¼Œè€ƒè™‘ä¸€ä¸‹* [*ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥*](https://medium.com/@jesuslagares/membership) *ã€‚åŒæ ·çš„ä»·æ ¼ï¼Œä½ ä¼šæ”¯æŒæˆ‘çš„å·¥ä½œã€‚*

# ç»“è®ºğŸ‘‹

è°¢è°¢å¤§å®¶ï¼éå¸¸æ„Ÿè°¢æ‚¨é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºæŠ€æœ¯å’Œå‘å±•çš„çŸ¥è¯†ï¼Œåˆ«å¿˜äº†è·Ÿæˆ‘æ¥ã€‚æˆ‘å¾ˆæƒ³çŸ¥é“ä½ å¯¹æ­¤çš„çœ‹æ³•ï¼Œæ‰€ä»¥ä¸è¦èŠ±èŠ±å…¬å­**å†™åœ¨è¯„è®ºé‡Œ**ï¼Œæˆ‘ä¼šè¯»ç»™ä½ å¬ã€‚

å¦‚æœè¿™ç¯‡æ–‡ç« å·²ç»å¸®ä½ è®°ä½äº†ï¼Œä½ å¯ä»¥**é¼“æŒ**åˆ†äº«ç»™ä½ çš„æˆ˜å‹ã€‚

# å…³äºä½œè€…ğŸ¤“

å—¨ï¼å¾ˆé«˜å…´è§åˆ°ä½ ï¼æˆ‘æ˜¯**æ°è¥¿Â·æ‹‰åŠ é›·æ–¯**ã€‚ç›®å‰ï¼Œæˆ‘æ˜¯ä¸€ååç«¯è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œæ­£åœ¨åŠ çš„æ–¯å¤§å­¦å®Œæˆæˆ‘çš„è®¡ç®—æœºç§‘å­¦å­¦ä½ã€‚

æˆ‘çš„ä¸¤å¤§çˆ±å¥½æ˜¯**æŠ€æœ¯**å’Œ**äº¤æµ**ï¼Œæ‰€ä»¥æˆ‘ä¼šæŠ“ä½ä¸€åˆ‡æœºä¼šè°ˆè®ºæˆ–æ’°å†™å…³äºæŠ€æœ¯çš„æ–‡ç« ã€‚æˆ‘å–œæ¬¢æŠŠå¤æ‚çš„æ¦‚å¿µè½¬æ¢æˆæ¯ä¸ªäººéƒ½èƒ½ç†è§£çš„ç®€å•æ¦‚å¿µã€‚

# æƒ³è¦è¿æ¥å—ï¼ŸğŸ“²

ğŸ“¸[**Instagram**](https://instagram.com/jesuslagares_)**|**ğŸ’¼[**LinkedIn**](https://www.linkedin.com/in/jesus-lagares/)**|**ğŸ“¹[YoutubeT16)|ğŸ¦](https://www.youtube.com/c/Jes%C3%BAsLagares) [**æ¨ç‰¹**](https://twitter.com/jesuslagares_)

ğŸ“©**jesuslagaresgalan@gmail.com**

è°¢è°¢ï¼â£ï¸

*æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](https://plainenglish.io/)*ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹æ¯å‘¨ç®€è®¯***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬* [***æ¨ç‰¹***](https://twitter.com/inPlainEngHQ) ï¼Œ[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ï¼Œ*[***YouTube***](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*ï¼Œ* [***ä¸å’Œ***](https://discord.gg/GtDtUAvyhW) *ã€‚å¯¹å¢é•¿é»‘å®¢æ„Ÿå…´è¶£ï¼Ÿæ£€æŸ¥å‡º* [***ç”µè·¯***](https://circuit.ooo/) *ã€‚*