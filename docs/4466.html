<html>
<head>
<title>Vite 4 Beta is out !</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vite 4 Beta出来了！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vite-4-beta-is-out-5f2233c6dbd6?source=collection_archive---------7-----------------------#2022-12-06">https://javascript.plainenglish.io/vite-4-beta-is-out-5f2233c6dbd6?source=collection_archive---------7-----------------------#2022-12-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8c3c79854eee998cbe2381fee5272455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R1zBQLozhTIpMW-q.png"/></div></div></figure><h1 id="e19d" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="6cc7" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">如果你是前端开发人员，或者对前端开发感兴趣，你大概会听说过Vite。</p><p id="70a7" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">Vite是一个前端构建工具，具有即时服务器启动和丰富的功能。Vite刚刚宣布了Vite 4 Beta，我将总结一下它的变化</p><h1 id="54e6" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">累计3</h1><p id="385a" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">Vite现在使用的是<a class="ae lw" href="https://github.com/vitejs/vite/issues/9870" rel="noopener ugc nofollow" target="_blank"> Rollup 3 </a>，它允许我们简化Vite的内部资产处理，并且有很多改进。</p><p id="5f8c" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">Rollup 3提供了更多的功能和修复的bug，你可以在这里查看详情<a class="ae lw" href="https://github.com/rollup/rollup/releases?page=2" rel="noopener ugc nofollow" target="_blank"/></p><h2 id="6ca7" class="lx jw in bd jx ly lz dn kb ma mb dp kf le mc md kj li me mf kn lm mg mh kr mi bi translated">开发期间使用SWC的新React插件</h2><p id="1038" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">SWC(或称Speedy Web Compiler)是一个可扩展的基于Rust的平台，用于下一代快速开发工具。它被Next.js、Parcel和Deno等工具以及Vercel、字节跳动、腾讯、Shopify等公司使用。</p><p id="1b3a" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">在Vite 4中，有两个插件可用于React项目，具有不同的权衡:</p><ul class=""><li id="e6bd" class="mj mk in kv b kw lr la ls le ml li mm lm mn lq mo mp mq mr bi translated">@vitejs/plugin-react</li><li id="d5ca" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">@vitejs/plugin-react-swc</li></ul><p id="42c5" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">Vite认为这两种方法在这一点上都值得支持，并将在未来继续探索对这两种插件的改进。</p><h2 id="5125" class="lx jw in bd jx ly lz dn kb ma mb dp kf le mc md kj li me mf kn lm mg mh kr mi bi translated">将CSS作为字符串导入</h2><p id="cc5c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在Vite 3中，导入默认导出的<code class="fe mx my mz na b">.css</code>文件可能会导致CSS的双重加载。</p><pre class="nb nc nd ne gt nf na ng bn nh ni bi"><span id="d515" class="nj jw in na b be nk nl l nm nn">import cssString from './global.css';</span></pre><p id="2804" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">因为<code class="fe mx my mz na b">.css</code>文件将被发出，但是CSS字符串也可能被应用程序代码使用，例如，被框架运行时注入。从Vite 4开始，<code class="fe mx my mz na b">.css</code>默认导出<a class="ae lw" href="https://github.com/vitejs/vite/issues/11094" rel="noopener ugc nofollow" target="_blank">已经被弃用</a>。在这种情况下，需要使用<code class="fe mx my mz na b">?inline</code>查询后缀修饰符，因为它不会发出导入的<code class="fe mx my mz na b">.css</code>样式。</p><pre class="nb nc nd ne gt nf na ng bn nh ni bi"><span id="f750" class="nj jw in na b be nk nl l nm nn">import stuff from './global.css?inline'</span></pre><h1 id="5317" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">其他东西</h1><p id="66dd" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">在Vite 4中还有许多其他的东西:</p><ul class=""><li id="1649" class="mj mk in kv b kw lr la ls le ml li mm lm mn lq mo mp mq mr bi translated">默认支持<code class="fe mx my mz na b">safari14</code></li><li id="0a76" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">支持环境文件中的多行值</li><li id="f6db" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">将@types/node更新到版本18</li><li id="64f6" class="mj mk in kv b kw ms la mt le mu li mv lm mw lq mo mp mq mr bi translated">支持修补程序包</li></ul><p id="a254" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated">还有很多很多其他的事情，比如漏洞修复、改进和优化，你可以在这里查看<a class="ae lw" href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md#vitejsplugin-react-swc-new" rel="noopener ugc nofollow" target="_blank">变更日志</a></p><p id="902b" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><em class="no">更多内容看</em> <a class="ae lw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">说白了就是</em> </strong> </a> <em class="no">。</em></p><p id="60b4" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><em class="no">报名参加我们的</em> <a class="ae lw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">免费周报</em> </strong> </a> <em class="no">。关注我们上</em> <a class="ae lw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">推特</em> </strong> </a>，<a class="ae lw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">领英</em> </strong> </a> <strong class="kv io"> <em class="no">，</em></strong><a class="ae lw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="no">YouTube</em></strong></a><strong class="kv io"><em class="no">，以及</em></strong><em class="no"/><a class="ae lw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="no">不和</em> </strong> </a>T47】</p><p id="8700" class="pw-post-body-paragraph kt ku in kv b kw lr ky kz la ls lc ld le lt lg lh li lu lk ll lm lv lo lp lq ig bi translated"><strong class="kv io"> <em class="no">想看看你的软件启动规模</em> </strong> <em class="no">？检查</em> <a class="ae lw" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">电路</em> </strong> </a> <em class="no">。</em></p></div></div>    
</body>
</html>