<html>
<head>
<title>Advanced TypeScript: Type-Level Nested Object Paths</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é«˜çº§ç±»å‹è„šæœ¬:ç±»å‹çº§åµŒå¥—å¯¹è±¡è·¯å¾„</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/advanced-typescript-type-level-nested-object-paths-7f3d8901f29a?source=collection_archive---------0-----------------------#2022-03-21">https://javascript.plainenglish.io/advanced-typescript-type-level-nested-object-paths-7f3d8901f29a?source=collection_archive---------0-----------------------#2022-03-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9f64" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">æ¡ä»¶ç±»å‹ã€ç±»å‹æ¨ç†ã€æ¨¡æ¿æ–‡å­—ç±»å‹å’Œé€’å½’çš„çœŸå®ç”¨ä¾‹ã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a2d16bbd2085b6c3f2ff3aada0a9b3e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPypx95OYL_Bm8OWadUU9A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Nested Object Paths</figcaption></figure><h1 id="77f4" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">ç›®å½•</h1><p id="a6f3" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated"><a class="ae mj" href="#7501" rel="noopener ugc nofollow"> â“é—®é¢˜</a> <br/> <a class="ae mj" href="#4b40" rel="noopener ugc nofollow"> âœ…ç»“æœ</a> <br/> <a class="ae mj" href="#4d33" rel="noopener ugc nofollow">ğŸ“è§£é‡Š</a><br/>âˆ˜<a class="ae mj" href="#762c" rel="noopener ugc nofollow">nested paths</a><br/>âˆ˜<a class="ae mj" href="#0bdf" rel="noopener ugc nofollow">typefrompath</a><br/><a class="ae mj" href="#1915" rel="noopener ugc nofollow">ğŸ’¡ç”¨ä¾‹</a> <br/> âˆ˜ <a class="ae mj" href="#278a" rel="noopener ugc nofollow">ç¿»è¯‘</a> <br/> âˆ˜ <a class="ae mj" href="#65f9" rel="noopener ugc nofollow"> Reduxé€‰æ‹©å™¨</a> <br/> <a class="ae mj" href="#6aac" rel="noopener ugc nofollow">ğŸ‘‹ç»“è®º</a> <br/> <a class="ae mj" href="#866a" rel="noopener ugc nofollow">ğŸ™†ğŸ»â€â™‚ï¸å…³äºä½œè€…</a></p><h1 id="7501" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">â“çš„é—®é¢˜</h1><p id="6a12" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">å¯¹äº<em class="mk">å¯¹è±¡è·¯å¾„</em>ï¼Œæˆ‘æŒ‡çš„æ˜¯ä¸€ä¸ª<em class="mk">ç‚¹æ ¼</em>å­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºå¯¹è±¡å†…éƒ¨æŸä¸ªå€¼çš„è·¯å¾„ï¼Œä¾‹å¦‚:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="c893" class="mq kw iq mm b gy mr ms l mt mu">const object = {<br/>  a: {                     // &lt;-- 'a'<br/>    b: "My path is 'a.b'", // &lt;-- 'a.b'<br/>    c: "My path is 'a.c'", // &lt;-- 'a.c'<br/>  },<br/>  d: "My path is just 'd'" // &lt;-- 'd'<br/>}</span></pre><p id="5426" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åˆ°<code class="fe na nb nc mm b">My path is â€˜a.bâ€™</code>çš„è·¯å¾„æ˜¯<code class="fe na nb nc mm b">a.b</code>ï¼Œè¿™ä¸ªå¯¹è±¡æ‰€æœ‰å¯èƒ½è·¯å¾„çš„é›†åˆæ˜¯:<code class="fe na nb nc mm b">'a', 'a.b', 'a.c' and â€˜dâ€™</code>ã€‚</p><p id="5d8e" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ç»å¸¸éœ€è¦ä¸€ç§æ–¹æ³•æ¥äº†è§£ç±»å‹çº§å¯¹è±¡çš„æ‰€æœ‰å¯èƒ½è·¯å¾„ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„ä¾‹å­æœ‰åŠ©äºç†è§£ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„åœºæ™¯ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œäº†è§£ç±»å‹çº§çš„æ‰€æœ‰å¯èƒ½è·¯å¾„å¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…æ— ç”¨çš„æƒ…å†µæˆ–å¯èƒ½çš„é”™è¯¯:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="f11f" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘å¦‚ä½•çŸ¥é“<code class="fe na nb nc mm b"><em class="mk">homepage.header.title</em></code>è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Ÿå³ä½¿å®ƒå­˜åœ¨ï¼Œæˆ‘æ€ä¹ˆèƒ½ç¡®å®šå®ƒæŒ‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å‘¢ï¼Ÿ</p><p id="eb15" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">å½“ç„¶ï¼Œæˆ‘å¯ä»¥ç®€å•åœ°æ”¾ä¸€ä¸ª<em class="mk"> if </em>è¯­å¥ï¼Œä½†æ˜¯æˆ‘æƒ³è¦æ›´æ™ºèƒ½çš„<strong class="lp ir"/>ã€<strong class="lp ir">è‡ªåŠ¨</strong>å’Œ<strong class="lp ir">ç±»å‹æ£€æŸ¥</strong>ï¼</p><p id="b27a" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å‡†å¤‡å¥½çš„å¯ä»¥ä»¥é€‚å½“çš„æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘å†³å®šè‡ªå·±æ¥åšï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ æ€ä¹ˆåšï¼</p><h1 id="4b40" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">âœ…ç»“æœ</h1><p id="54d2" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">ä¸‹ä¸€ç« ï¼Œæˆ‘ä¼šç»™ä½ ä¸€ä¸ªæˆ‘æƒ³å‡ºçš„è§£å†³æ–¹æ¡ˆçš„<strong class="lp ir">è¯¦ç»†</strong> <strong class="lp ir">è§£é‡Š</strong>ï¼Œä½†é¦–å…ˆï¼Œæˆ‘è¦ç»™ä½ çœ‹ç»“æœï¼â€” <em class="mk">å¦‚æœä½ å¯¹è§£é‡Šä¸æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œåœä¸‹æ¥ï¼Œå¤åˆ¶&amp;ç²˜è´´ç‰‡æ®µï¼Œä½ å°±å¯ä»¥å¼€å§‹äº†ï¼</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/29a77af6f085201a7e414473c17a2b7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*XZK-idfauVNXMF38bZ4rUw.gif"/></div></div></figure><p id="8f36" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">å¼•æ“ç›–ä¸‹ä½¿ç”¨çš„ç±»å‹æœ‰:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="f3aa" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ä½ æ²¡æƒ³åˆ°ä¼šè¿™ä¹ˆå¤æ‚ï¼Œæ˜¯å—ï¼Ÿ<strong class="lp ir"> </strong>æˆ‘ä¹Ÿæ˜¯ï¼Œè¯´å®è¯â€”â€”ä½†æ˜¯<strong class="lp ir">è¿™æ ·æ˜¯æœ‰åŸå› çš„ï¼æ¬²çŸ¥ç¼˜ç”±ï¼Œä¸”å¬ä¸‹å›åˆ†è§£ã€‚</strong></p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="4d33" class="kv kw iq bd kx ky nn la lb lc no le lf jw np jx lh jz nq ka lj kc nr kd ll lm bi translated">ğŸ“è§£é‡Šè§£å†³æ–¹æ¡ˆ</h1><h2 id="762c" class="mq kw iq bd kx ns nt dn lb nu nv dp lf lw nw nx lh ma ny nz lj me oa ob ll oc bi translated">åµŒå¥—è·¯å¾„</h2><p id="7d28" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">è®©æˆ‘ä»¬ä»ç±»å‹<em class="mk">åµŒå¥—è·¯å¾„</em>å¼€å§‹â€”â€”æˆ‘ä¸å¾—ä¸è¯´<strong class="lp ir">å¯ä»¥ç”¨æ›´ç®€å•çš„æ–¹å¼åˆ¶ä½œ</strong>ï¼Œæ¯”å¦‚è¿™æ ·:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="90e1" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è¿™ç§æ–¹æ³•æ›´çŸ­ã€æ›´ç®€æ´ï¼Œä½†æ˜¯â€¦â€¦è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªè­¦å‘Š:</p><p id="04a2" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ä¸¤ç§è§£å†³æ–¹æ¡ˆéƒ½ä½¿ç”¨äº†<code class="fe na nb nc mm b"><a class="ae mj" href="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html" rel="noopener ugc nofollow" target="_blank">Conditional Types</a></code>ã€<code class="fe na nb nc mm b"><a class="ae mj" href="https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html" rel="noopener ugc nofollow" target="_blank">Template Literal Types</a></code>å’Œ<code class="fe na nb nc mm b"><a class="ae mj" href="https://www.typescriptlang.org/play#example/recursive-type-references" rel="noopener ugc nofollow" target="_blank">Recursive Type Reference</a></code>â€”â€”å°½ç®¡æœ‰ä¸€ç‚¹ç‚¹ä½†å¾ˆå…³é”®çš„åŒºåˆ«ï¼Œè¿™ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬ä¸æ˜¯<a class="ae mj" href="https://en.wikipedia.org/wiki/Tail_call" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir">å°¾é€’å½’</strong> </a> <strong class="lp ir">ã€‚</strong></p><p id="a9ff" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ç®€è€Œè¨€ä¹‹ï¼Œä¸€ä¸ªå‡½æ•°(<em class="mk">æˆ–è€…ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç±»å‹</em>)æ˜¯å°¾é€’å½’çš„<strong class="lp ir">ï¼Œå¦‚æœå®ƒé€šè¿‡è¿”å›é€’å½’è°ƒç”¨</strong>çš„å€¼è€Œç»“æŸï¼›<br/>åœ¨è¿™ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬ä¸­ï¼Œäº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¸æ˜¯ç›´æ¥è°ƒç”¨é€’å½’ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ª<em class="mk">æ¨¡æ¿æ–‡å­—ç±»å‹</em>å†…è°ƒç”¨ä¸€ä¸ª<em class="mk">è”åˆç±»å‹</em>å†…çš„é€’å½’:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="3708" class="mq kw iq mm b gy mr ms l mt mu">K | `${K}.${<strong class="mm ir"><em class="mk">NestedPaths</em></strong>&lt;T[K]&gt;}`</span></pre><p id="3480" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ä¸ºä»€ä¹ˆç±»å‹æ˜¯å°¾éƒ¨é€’å½’çš„å¾ˆé‡è¦ï¼Ÿ</p><p id="045c" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">å› ä¸ºTypescriptå¯¹ç±»å‹å¯ä»¥é€’å½’è°ƒç”¨è‡ªèº«çš„æ¬¡æ•°è®¾ç½®äº†ä¸€ä¸ª<strong class="lp ir">é™åˆ¶</strong>ï¼Œå¦‚æœä¸æ˜¯å°¾é€’å½’çš„ï¼Œè¿™ä¸ªé™åˆ¶ç›¸å½“å°ï¼</p><p id="678b" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><em class="mk">æœ‰å¤šå°ï¼Ÿä»¥å‰æ˜¯9ä¸ªï¼Œç°åœ¨å¤§æ¦‚æ˜¯20æˆ–50ä¸ªï¼Œæˆ‘ä¸è®°å¾—å…·ä½“æ•°å­—äº†ï¼Œä½†ä¸æ˜¯å¾ˆå¤šï¼›å¦‚æœä½ çŸ¥é“ï¼Œè¯·å‘è¡¨è¯„è®ºï¼Œæˆ‘ä¼šæ›´æ–°æ–‡ç« ï¼</em></p><p id="ec0b" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">å¦‚æœç±»å‹æ˜¯<strong class="lp ir">å°¾é€’å½’</strong>è€Œä¸æ˜¯<strong class="lp ir">ï¼Œè¿™ä¸ªé™åˆ¶å°±é«˜å¤šäº†ï¼</strong>(<a class="ae mj" href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-5.html#tail-recursion-elimination-on-conditional-types" rel="noopener ugc nofollow" target="_blank"><em class="mk">å®˜æ–¹æ‰“å­—ç¨¿æ–‡æ¡£</em> </a> <em class="mk">ä»–ä»¬åªæ˜¯è¯´å®ƒâ€œæ¯”è¾ƒå¤§æ–¹â€</em>)ã€‚</p><p id="4470" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ç°åœ¨ä¸€åˆ‡éƒ½æ¸…æ¥šäº†ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å°¾éƒ¨é€’å½’ç‰ˆæœ¬ã€‚</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="aff0" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><em class="mk">è”åˆ</em>å’Œ<em class="mk">è¿æ¥</em>æ˜¯å®ç”¨ç¨‹åºç±»å‹ï¼Œå¯ä»¥é¿å…<em class="mk">å­—ç¬¦ä¸²</em>å’Œ<em class="mk">æœªå®šä¹‰</em>ä¹‹é—´ä¸å¿…è¦çš„è”åˆæˆ–è¿æ¥ï¼Œå¹¶ä½¿ç±»å‹æ›´å…·å¯è¯»æ€§:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="3bf4" class="mq kw iq mm b gy mr ms l mt mu">Union&lt;'a', 'b'&gt;;      // --&gt; 'a' | 'b'<br/>Union&lt;undefined, 'b'&gt; // --&gt; 'b'<br/>Union&lt;'a', undefined&gt; // --&gt; 'a'</span><span id="0c76" class="mq kw iq mm b gy od ms l mt mu">Join&lt;'a', 'b'&gt;        // --&gt; 'a.b'<br/>Join&lt;undefined, 'b'&gt;  // --&gt; 'b'<br/>Join&lt;'a', undefined&gt;  // --&gt; 'a'</span></pre><p id="b93a" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">çŸ¥é“äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘å°†æŠŠå®ƒä»¬ä»ä¸‹ä¸€ä¸ªä»£ç ç‰‡æ®µä¸­å»æ‰ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°å…³æ³¨<em class="mk"> NestedPaths </em>ç±»å‹:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="040a" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="c08e" class="mq kw iq mm b gy mr ms l mt mu">type Paths = NestedPaths&lt;{<br/>  a: {            // &lt;-- a<br/>    b: {          // &lt;-- a.b<br/>      c: string;  // &lt;-- a.b.c<br/>    }<br/>    d: string;    // &lt;-- a.d<br/>  }<br/>}&gt;</span></pre><p id="e991" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬é¢„è®¡è¯¥å¯¹è±¡çš„å¯èƒ½è·¯å¾„æ˜¯:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="b9d9" class="mq kw iq mm b gy mr ms l mt mu">"a" | "a.b" | "a.b.c" | "a.d"</span></pre><p id="6334" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬ä¸€è½®</strong></p><p id="cbe8" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åœ¨é€’å½’çš„ç¬¬ä¸€ä¸ªå¾ªç¯ä¹‹åï¼Œè¿™æ˜¯è¯¥ç±»å‹çš„æ ·å­:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="9c22" class="mq kw iq mm b gy mr ms l mt mu">type Paths = {<br/>  a: NestedPaths&lt;{<br/>   b: { c: string },<br/>   d: string<br/>  },  undefined, "a"&gt;<br/>}['a']</span></pre><p id="a580" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è¿™æ˜¯å› ä¸º<code class="fe na nb nc mm b">keyof T</code>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»…ä»…æ˜¯<code class="fe na nb nc mm b">a</code>â€”â€”å¯¹äºé”®<code class="fe na nb nc mm b">a</code>æˆ‘ä»¬æœ‰:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="c355" class="mq kw iq mm b gy mr ms l mt mu">T['a'] = { b: { c: string }, d: string }<br/>// Which means that<br/>T['a'] extends GenericObject ? <strong class="mm ir">yes</strong></span></pre><p id="e800" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬åœ¨æ¡ä»¶çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ä¸­ï¼Œæ‰€ä»¥:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="efc8" class="mq kw iq mm b gy mr ms l mt mu">// Prev = undefined<br/>// Path = undefined</span><span id="819d" class="mq kw iq mm b gy od ms l mt mu">NestedPaths&lt;T['a'], Union&lt;Prev, Path&gt;, Join&lt;Path, 'a'&gt;&gt;</span><span id="54fa" class="mq kw iq mm b gy od ms l mt mu">// Is equal to:<br/>NestedPaths&lt;T['a'], Union&lt;undefined, undefined&gt;, Join&lt;undefined, 'a'&gt;&gt;</span><span id="d383" class="mq kw iq mm b gy od ms l mt mu">// Which is just:<br/>NestedPaths&lt;T['a'], undefined, 'a'&gt; // Prev = undefined, Path = 'a'</span></pre><p id="6db2" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬äºŒè½®</strong></p><p id="de59" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åœ¨é€’å½’çš„ç¬¬äºŒä¸ªå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="6a9a" class="mq kw iq mm b gy mr ms l mt mu">type Paths = {<br/>  a: {<br/>   b: NestedPaths&lt;{ c: string },  "a", "a.b"&gt;,<br/>   d: "a" | "a.d",<br/>  }['b' | 'd']<br/>}['a']</span></pre><p id="46d4" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åœ¨è¿™ä¸ªå¾ªç¯ä¸­ï¼Œ<code class="fe na nb nc mm b">keyof T</code>å°±æ˜¯<code class="fe na nb nc mm b">b | d</code>ã€‚<br/>å¯¹äºå­å¯¹è±¡<code class="fe na nb nc mm b">a</code>ä¸‹çš„å…³é”®ç‚¹<code class="fe na nb nc mm b">b</code>ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤ä¹‹å‰çš„ç›¸åŒè¿‡ç¨‹(æˆ‘ä»¬åœ¨æ¡ä»¶çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯:<code class="fe na nb nc mm b">T['b'] extends GenericObject</code>)ï¼›<br/>å¯¹äºé”®<code class="fe na nb nc mm b">d</code>ç›¸åï¼Œæ¡ä»¶<code class="fe na nb nc mm b">T['d'] extends GenericObject</code>ä¸º<strong class="lp ir">å‡</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="5dd3" class="mq kw iq mm b gy mr ms l mt mu">// Prev = undefined<br/>// Path = 'a'</span><span id="a716" class="mq kw iq mm b gy od ms l mt mu">d: Union&lt;Union&lt;Prev, Path&gt;, Join&lt;Path, 'd'&gt;&gt;;</span><span id="8214" class="mq kw iq mm b gy od ms l mt mu">d: Union&lt;Union&lt;undefined, 'a'&gt;, Join&lt;'a', 'd'&gt;&gt;;</span><span id="4b65" class="mq kw iq mm b gy od ms l mt mu">d: Union&lt;'a', 'a.d'&gt; --&gt; 'a' | 'a.d'</span></pre><p id="9538" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬ä¸‰è½®</strong></p><p id="bbb9" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ç°åœ¨äº‹æƒ…å¼€å§‹å˜å¾—æœ‰è¶£äº†â€¦æˆ‘ä»¬åŸºæœ¬ä¸Šæ‹¥æœ‰äº†æ‰€éœ€çš„ä¸€åˆ‡:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="ad07" class="mq kw iq mm b gy mr ms l mt mu">type Paths = {<br/>  a: {<br/>   b: { c: "a" | "a.b" | "a.b.c" }["c"],<br/>   d: "a" | "a.d",<br/>  }['b' | 'd']<br/>}['a']</span></pre><p id="d0ff" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><code class="fe na nb nc mm b">b</code>ä¸‹çš„<code class="fe na nb nc mm b">c</code>é”®æ˜¯è¿™æ ·è§£æçš„:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="8b77" class="mq kw iq mm b gy mr ms l mt mu">c: T['c'] extends GenericObject ? nope!</span><span id="bf5b" class="mq kw iq mm b gy od ms l mt mu">c: Union&lt;Union&lt;Prev, Path&gt;, Join&lt;Path, 'c'&gt;&gt;</span><span id="9d0a" class="mq kw iq mm b gy od ms l mt mu">// Where:<br/>// Prev = 'a'<br/>// Path = 'a.b'</span><span id="7d9e" class="mq kw iq mm b gy od ms l mt mu">c: Union&lt;Union&lt;'a', 'a.b'&gt;, Join&lt;'a.b', 'c'&gt;&gt;<br/>c: Union&lt;'a' | 'a.b', 'a.b.c'&gt;<br/>c: 'a' | 'a.b' | 'a.b.c'</span></pre><p id="2e14" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç»ˆäº</strong></p><p id="6bc0" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">é€’å½’å®Œæˆåï¼Œæˆ‘ä»¬åªéœ€ä»¥ä¸åŒçš„æ–¹å¼ç¼–å†™ç±»å‹:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="cf63" class="mq kw iq mm b gy mr ms l mt mu">type Paths = {<br/>  a: {<br/>   b: { c: "a" | "a.b" | "a.b.c" }["c"],<br/>   d: "a" | "a.d",<br/>  }['b' | 'd']<br/>}['a']</span><span id="4594" class="mq kw iq mm b gy od ms l mt mu">// Is equal to:<br/>type Paths = {<br/>  a: {<br/>   b: "a" | "a.b" | "a.b.c",<br/>   d: "a" | "a.d",<br/>  }["b" | "d"]<br/>}['a']</span><span id="cad5" class="mq kw iq mm b gy od ms l mt mu">// Which is also equal to:<br/>type Paths = {<br/>  a: "a" | "a.b" | "a.b.c" | "a.d"<br/>}["a"]</span><span id="c2ca" class="mq kw iq mm b gy od ms l mt mu">// ğŸ‰ Which is just what we expected ğŸ‰:<br/>type Paths = "a" | "a.b" | "a.b.c" | "a.d"</span></pre><p id="b12e" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ä½¿ç”¨ç±»å‹<em class="mk"> NestedPathsï¼Œ</em>æˆ‘ä»¬å¯ä»¥è·å¾—ä»»ä½•å¯¹è±¡çš„æ‰€æœ‰è·¯å¾„ï¼</p><p id="a651" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">â€¦ä½†è¿™åªæ˜¯æˆ‘æƒ³è§£å†³çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼</p><h2 id="0bdf" class="mq kw iq bd kx ns nt dn lb nu nv dp lf lw nw nx lh ma ny nz lj me oa ob ll oc bi translated">TypeFromPath</h2><p id="88a3" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">äº‹å®ä¸Šï¼Œé™¤äº†è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è·¯å¾„ï¼Œæˆ‘è¿˜æƒ³æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥è·å–è¿™äº›è·¯å¾„å¼•ç”¨çš„ç±»å‹ï¼Œæˆ‘æ˜¯è¿™æ ·åšçš„:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ef1b" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥çœ‹çœ‹è¿™ç§ç±»å‹æ˜¯å¦‚ä½•å·¥ä½œçš„:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="3579" class="mq kw iq mm b gy mr ms l mt mu">type Result = TypeFromPath&lt;{<br/>  <strong class="mm ir">a</strong>: {<br/>    <strong class="mm ir">b</strong>: {<br/>      <strong class="mm ir">c</strong>: { foo: 'bar' }; // &lt;-- 'a.b.c'<br/>    }<br/>    d: string;<br/>  }<br/>// We are asking for the type referred by the path 'a.b.c'<br/>}, <strong class="mm ir">'a.b.c'</strong>&gt;</span></pre><p id="82e6" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬é¢„è®¡<code class="fe na nb nc mm b">type Result</code>å°†ç­‰äº<code class="fe na nb nc mm b">{ foo: 'bar' }</code>ã€‚</p><p id="91d9" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬ä¸€è½®</strong></p><p id="d55d" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è¿™æ˜¯æˆ‘ä»¬åœ¨ç¬¬ä¸€è½®é€’å½’ä¸­å¾—åˆ°çš„ç»“æœ:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="11fb" class="mq kw iq mm b gy mr ms l mt mu">type Result = {<br/> 'a.b.c': <em class="mk">TypeFromPath</em>&lt;{<br/>    b: {<br/>     c: { foo: 'bar' };<br/>    }<br/>    d: string;<br/>  }, 'b.c'&gt;<br/>}['a.b.c']</span></pre><p id="b156" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆ:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="ea85" class="mq kw iq mm b gy mr ms l mt mu">// The generic type Path is equal to 'a.b.c' so<br/>// Path = 'a.b.c'</span><span id="0a5e" class="mq kw iq mm b gy od ms l mt mu">{<br/>  [K in Path]: ???<br/>}[Path]</span><span id="9295" class="mq kw iq mm b gy od ms l mt mu">// Is just<br/>{<br/> [K in 'a.b.c']: ???<br/>}['a.b.c']</span></pre><p id="5ff9" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬æœ‰ä»€ä¹ˆæ¥ä»£æ›¿<code class="fe na nb nc mm b">???</code>ï¼Ÿ<br/>çŸ¥é“<code class="fe na nb nc mm b">K</code>ç­‰äº<em class="mk">â€˜a . b . câ€™ï¼Œ</em>æˆ‘ä»¬æœ‰:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="846b" class="mq kw iq mm b gy mr ms l mt mu">// T = { a: { ... }, d: string }<br/>// Does <em class="mk">K</em> extends keyof <em class="mk">T</em>?<br/>// No it doesn't, the keys of T are '<em class="mk">a</em>' and '<em class="mk">d</em>' and <em class="mk">K</em> is '<em class="mk">a.b.c</em>'<br/>// so we are in the second branch of the condition</span><span id="3208" class="mq kw iq mm b gy od ms l mt mu">{<br/> [K in 'a.b.c']: K extends `${infer P}.${infer S}` ? TypeFromPath&lt;T[P], S&gt; : never<br/>}['a.b.c']</span></pre><p id="c6eb" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir"> <em class="mk"> Kå»¶ä¼¸ä»€ä¹ˆ` ${infer P}ã€‚${infer S}` </em> </strong>æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<br/>æˆ‘ä»¬è¯¢é—®Typescriptæ˜¯å¦<em class="mk"> `a.b.c` </em>æ‰©å±•äº†ä¸€ä¸ªç±»ä¼¼äº<code class="fe na nb nc mm b">{Prefix}.{Suffix}</code>çš„å­—ç¬¦ä¸²ï¼›<br/>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯<strong class="lp ir">çœŸ</strong>ï¼Œäº‹å®ä¸Šï¼ŒKæ˜¯` a.b.c `,æˆ‘ä»¬å¯ä»¥æŠŠ` a.b.c `çœ‹æˆ<code class="fe na nb nc mm b">${'a'}.${'b.c'}</code>ã€‚</p><p id="cb6e" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æ‰€ä»¥ï¼Œæœ€åï¼Œæˆ‘ä»¬å¾—åˆ°äº†:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="18d2" class="mq kw iq mm b gy mr ms l mt mu">{<br/> ['a.b.c']: TypeFromPath&lt;T['a'], 'b.c'&gt;;<br/>}['a.b.c']</span></pre><p id="c042" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬äºŒè½®</strong></p><p id="227e" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åœ¨é€’å½’çš„ç¬¬äºŒä¸ªå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="ee32" class="mq kw iq mm b gy mr ms l mt mu">type Result = {<br/> 'a.b.c': {<br/>   'b.c': <em class="mk">TypeFromPath</em>&lt;{<br/>      c: { foo: 'bar' };<br/>   }, 'c'&gt;<br/> }['b.c']<br/>}['a.b.c'];</span></pre><p id="36d0" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åœ¨è¿™ä¸ªå‘¨æœŸä¸­ï¼Œæˆ‘ä»¬æ‹¥æœ‰çš„ä¸œè¥¿ä¸ä¹‹å‰åŸºæœ¬ç›¸åŒï¼Œå› æ­¤:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="3679" class="mq kw iq mm b gy mr ms l mt mu">// Path = 'b.c'<br/>// T = { b: { c: { foo: 'bar' } } }; </span><span id="8305" class="mq kw iq mm b gy od ms l mt mu">{<br/>  [K in 'b.c']: TypeFromPath&lt;T['b'], 'c'&gt;;<br/>}['b.c']</span><span id="b69c" class="mq kw iq mm b gy od ms l mt mu">// All together:<br/>{<br/>  ['a.b.c']: {<br/>    ['b.c']: TypeFromPath&lt;T['b'], 'c'&gt;;<br/>  }['b.c']<br/>}['a.b.c']</span></pre><p id="7e81" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬ä¸‰è½®</strong></p><p id="ff87" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è¿™é‡Œæˆ‘ä»¬ç»ˆäºæœ‰äº†ä¸åŒçš„ä¸œè¥¿:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="000d" class="mq kw iq mm b gy mr ms l mt mu">type Result = {<br/> 'a.b.c': {<br/>   'b.c': {<br/>      c: { foo: 'bar' };<br/>   }['c']<br/> }['b.c']<br/>}['a.b.c'];</span></pre><p id="9df8" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬æ˜¯è¿™æ ·å¾—åˆ°å®ƒçš„:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="d494" class="mq kw iq mm b gy mr ms l mt mu">// Path = 'c'<br/>// T = { c: { foo: 'bar' } };</span><span id="9699" class="mq kw iq mm b gy od ms l mt mu">{<br/>  [K in 'c']: K extends keyof T ? <strong class="mm ir">yes!</strong><br/>}['b.c']</span><span id="6899" class="mq kw iq mm b gy od ms l mt mu">{<br/>  [K in 'c']: T['c'] --&gt; { foo: 'bar' }<br/>}</span><span id="08bf" class="mq kw iq mm b gy od ms l mt mu">// All together:<br/>{<br/>  ['a.b.c']: {<br/>    ['b.c']: {<br/>      ['c']: { foo: 'bar' }<br/>    }['c]<br/>  }['b.c']<br/>}['a.b.c']</span></pre><p id="5ce2" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><strong class="lp ir">ç¬¬å››è½®</strong></p><p id="40b5" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬ç°åœ¨å·²ç»æ‹¥æœ‰äº†è·å–â€œa.b.câ€æ‰€å¼•ç”¨çš„ç±»å‹æ‰€éœ€çš„ä¸€åˆ‡:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="ced1" class="mq kw iq mm b gy mr ms l mt mu">type Result = {<br/> 'a.b.c': {<br/>   'b.c': { foo: 'bar' };<br/> }['b.c']<br/>}['a.b.c'];</span><span id="f8df" class="mq kw iq mm b gy od ms l mt mu"><strong class="mm ir">// Which is equal to</strong><br/>type Result = {<br/> 'a.b.c': { foo: 'bar' };<br/>}['a.b.c'];</span><span id="e839" class="mq kw iq mm b gy od ms l mt mu"><strong class="mm ir">// And finally</strong><br/>type Result = { foo: 'bar' };</span></pre><p id="2303" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æ­£å¦‚æˆ‘ä»¬æ‰€æ–™ï¼Œ<code class="fe na nb nc mm b">type Result = { foo: 'bar' };</code>ï¼</p><h1 id="1915" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">ğŸ’¡ç”¨ä¾‹</h1><p id="40d3" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">æˆ‘è®¤ä¸ºè¿™äº›ç±»å‹åœ¨ä¸åŒçš„åœºæ™¯ä¸­éƒ½å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œ<strong class="lp ir">ç¿»è¯‘</strong>å’Œ<strong class="lp ir">å†—ä½™é€‰æ‹©å™¨</strong>:</p><h2 id="278a" class="mq kw iq bd kx ns nt dn lb nu nv dp lf lw nw nx lh ma ny nz lj me oa ob ll oc bi translated">ç¿»è¯‘</h2><p id="12ef" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">é€šå¸¸ï¼Œæˆ‘ä»¬å°†ç¿»è¯‘å­˜å‚¨åœ¨å¦‚ä¸‹æ‰€ç¤ºçš„å¯¹è±¡ä¸­:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="0e08" class="mq kw iq mm b gy mr ms l mt mu">const translations = {<br/>  homePage: {<br/>    title: 'Hello!',<br/>    ...,<br/>  },<br/>  profilePage: {<br/>    menu: {<br/>      settings: 'Settings',<br/>      ...,<br/>    },<br/>  },<br/>  ...,<br/>}</span></pre><p id="3650" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">ç„¶åæˆ‘ä»¬é€šå¸¸é€šè¿‡ä¸€ä¸ªé’©å­æ¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚ä¸‹é¢çš„<code class="fe na nb nc mm b">useTranslations</code>ï¼Œå®ƒè¿”å›<code class="fe na nb nc mm b">t</code>å‡½æ•°â€”â€”è¿™ä¸ªå‡½æ•°ä»¥ä¸€ä¸ªè·¯å¾„ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ç›¸åº”çš„ç¿»è¯‘:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="8373" class="mq kw iq mm b gy mr ms l mt mu">const HomePageTitle = () =&gt; {<br/>  const { t } = useTranslation();<br/>  <br/>  return &lt;h1&gt;{t('homePage.title')}&lt;/h1&gt;;<br/>}</span></pre><p id="f412" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">è¿™æ˜¯å¤§å¤šæ•°i18nåº“çš„å·¥ä½œæ–¹å¼ï¼Œä¾‹å¦‚<code class="fe na nb nc mm b">i18next</code> ( <code class="fe na nb nc mm b">react-i18next</code>)æˆ–<code class="fe na nb nc mm b">react-intl</code>ã€‚</p><p id="d1e6" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">æˆ‘ä»¬å¯ä»¥å°†<code class="fe na nb nc mm b">useTranslation</code>åŒ…è£…åˆ°ä¸€ä¸ªè‡ªå®šä¹‰é’©å­ä¸­ï¼Œå¹¶ä½¿ç”¨ç±»å‹<em class="mk"> NestedPaths </em>å’Œ<em class="mk"> TypeFromPath </em>æ¥æ­£ç¡®åœ°å¯¹ä¼ é€’ç»™<em class="mk"> tå‡½æ•°çš„è·¯å¾„è¿›è¡Œç±»å‹æ£€æŸ¥:</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">useTranslations custom hook</figcaption></figure><p id="8237" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">å°±è¿™æ ·ï¼Œé€šè¿‡ä½¿ç”¨è¿™ä¸ªæ–°çš„é’©å­ï¼Œæˆ‘ä»¬å°†<strong class="lp ir">å§‹ç»ˆ</strong>ç¡®ä¿ä¼ é€’ç»™tå‡½æ•°çš„è·¯å¾„æ˜¯translationså¯¹è±¡çš„<strong class="lp ir">æœ‰æ•ˆè·¯å¾„</strong>ï¼Œå¹¶ä¸”è¿”å›çš„ç±»å‹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²:</p><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="5a70" class="mq kw iq mm b gy mr ms l mt mu">const <strong class="mm ir"><em class="mk">HomePageTitle</em></strong> = () =&gt; {<br/>  const { t } = useTranslation();<br/>  <br/>  // Looks good<br/>  return &lt;h1&gt;{t('homePage.title')}&lt;/h1&gt;;<br/>}</span><span id="a52b" class="mq kw iq mm b gy od ms l mt mu">const <strong class="mm ir"><em class="mk">WrongHomePageTitle</em></strong> = () =&gt; {<br/>  const { t } = useTranslation();<br/>  <br/>  // We will have an error saying that <strong class="mm ir">homePage.wrongPath</strong><br/>  // is not a valid path<br/>  return &lt;h1&gt;{t('homePage.wrongPath')}&lt;/h1&gt;;<br/>}</span><span id="958e" class="mq kw iq mm b gy od ms l mt mu">const <strong class="mm ir"><em class="mk">AnotherWrongHomePageTitle</em></strong> = () =&gt; {<br/>  const { t } = useTranslation();<br/>  <br/>  // We will have an error saying that <strong class="mm ir">t('homePage')</strong><br/>  // is not a valid React child (<em class="mk">because is an object</em>)<br/>  return &lt;h1&gt;{t('homePage')}&lt;/h1&gt;;<br/>}</span></pre><h2 id="65f9" class="mq kw iq bd kx ns nt dn lb nu nv dp lf lw nw nx lh ma ny nz lj me oa ob ll oc bi translated">å†—ä½™é€‰æ‹©å™¨</h2><p id="df84" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">å¦ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹æ˜¯å°†è¿™äº›ç±»å‹ä¸<code class="fe na nb nc mm b">react-redux</code>çš„é’©å­<code class="fe na nb nc mm b">useSelector</code>ç»“åˆèµ·æ¥ï¼Œä¾‹å¦‚:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">usePathSelector custom hook</figcaption></figure><h1 id="6aac" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">ğŸ‘‹ç»“è®º</h1><p id="0a7d" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å¸Œæœ›å®ƒå¯¹ä½ æœ‰ç”¨ã€‚æˆ‘å¯¹æ„å»ºè¿™äº›ç±»å‹çš„å…¶ä»–æ–¹æ³•å¾ˆæ„Ÿå…´è¶£ï¼Œå¦‚æœä½ çŸ¥é“å…¶ä¸­ä¸€äº›ï¼Œæˆ–è€…ä½ è®¤ä¸ºå®ƒä»¬å¯ä»¥æ”¹è¿›ï¼Œè¯·ç•™è¨€å‘Šè¯‰æˆ‘ä½ ä¼šæ€ä¹ˆåšã€‚</p><h1 id="866a" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">ğŸ™†ğŸ»â€â™‚ï¸å…³äºä½œè€…</h1><p id="b8ef" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">æˆ‘æ˜¯<a class="ae mj" href="https://www.linkedin.com/company/vlk-studio/?source=about_page----------------------------------------" rel="noopener ugc nofollow" target="_blank"> VLKå·¥ä½œå®¤</a>çš„ä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œç›®å‰æ­£åœ¨ä»äº‹ä¸€ä¸ªåä¸º<a class="ae mj" href="https://morfeo.dev/?source=about_page----------------------------------------" rel="noopener ugc nofollow" target="_blank"> Morfeoçš„å¼€æºé¡¹ç›®ã€‚</a></p><p id="5578" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">åªè¦æˆ‘èƒ½ï¼Œæˆ‘å°±åœ¨åª’ä½“ä¸Šåˆ†äº«ä¸€äº›æˆ‘çŸ¥é“çš„ä¸œè¥¿ã€‚</p><p id="85f9" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated">å¦‚æœä½ å–œæ¬¢æˆ‘åšçš„äº‹æƒ…ï¼Œè¯·éšæ—¶æ”¯æŒæˆ‘çš„å·¥ä½œ:<a class="ae mj" href="https://medium.com/@mauro.erta/membership?source=about_page----------------------------------------" rel="noopener">https://medium.com/@mauro.erta/membership</a></p><p id="9f31" class="pw-post-body-paragraph ln lo iq lp b lq mv jr ls lt mw ju lv lw mx ly lz ma my mc md me mz mg mh mi ij bi translated"><em class="mk">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae mj" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="mk">plain English . io</em></strong></a><em class="mk">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae mj" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="mk">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="mk">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae mj" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="mk">Twitter</em></strong></a><em class="mk">å’Œ</em><a class="ae mj" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="mk">LinkedIn</em></strong></a><em class="mk">ã€‚åŠ å…¥æˆ‘ä»¬çš„</em> <a class="ae mj" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="mk">ç¤¾åŒºä¸å’Œè°</em> </strong> </a> <em class="mk">ã€‚</em></p></div></div>    
</body>
</html>