<html>
<head>
<title>How to Use SVG Elegantly in Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Vue.js中优雅地使用SVG</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-svg-elegantly-in-vue-js-b79e43510b35?source=collection_archive---------3-----------------------#2022-08-03">https://javascript.plainenglish.io/how-to-use-svg-elegantly-in-vue-js-b79e43510b35?source=collection_archive---------3-----------------------#2022-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f37f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在Vue.js中优雅地使用SVG</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e80a710ffe54aee4c7b607b2d2a86018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8MMSGNquwIQjZFvIcdnJGA.png"/></div></div></figure><h1 id="91a0" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">1.安装和配置</h1><h2 id="5b86" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated">1.1安装svg-sprite-loader</h2><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="d3c0" class="lj ks iq lz b gy md me l mf mg">npm i svg-sprite-loader</span></pre><p id="be0a" class="pw-post-body-paragraph mh mi iq mj b mk ml jr mm mn mo ju mp lo mq mr ms lr mt mu mv lu mw mx my mz ij bi translated">安装svg-sprite加载程序。默认情况下，通过vue-cli搭建创建的项目将使用url-loader来处理SVG，因此需要对其进行处理。</p><h2 id="bf61" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated">1.2在webpack.base.conf中配置svg依赖项和加载器</h2><p id="c516" class="pw-post-body-paragraph mh mi iq mj b mk na jr mm mn nb ju mp lo nc mr ms lr nd mu mv lu ne mx my mz ij bi translated">用include，include，img来区分。然后修改webpack.base.conf.js配置，使svg-sprite-loader只处理我们指定的src/icons下的文件。</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="ec56" class="lj ks iq lz b gy md me l mf mg">//vue-cli 2.x<br/>{<br/>   test: /\.svg$/,<br/>   loader: 'svg-sprite-loader',  //Configure the loader to process svg files<br/>   include: [resolve('src/icons')],  //Specify the folder processed by the loader, and later we will put the svg file in the src/icon folder<br/>   options: {<br/>       symbolId: 'icon-[name]' //correspond&lt;use:xlink:href="iconName"/&gt;<br/>   }<br/>},<br/>{<br/>   test: /\.(png|jpe?g|gif|svg)(\?.*)?$/,<br/>   loader: 'url-loader',<br/>   exclude: [resolve('src/icons')],   //url-loader Do not process this folder<br/>   options: {<br/>     limit: 10000,<br/>     name: utils.assetsPath('img/[name].[hash:7].[ext]')<br/>   }<br/>}  <br/>//vue-cli 3.x<br/>//Create a new vue.config.js file in the root directory<br/>const path = require('path');<br/>const { config } = require('process');<br/>function resolve(dir) {<br/>    return path.join(__dirname, dir)<br/>}<br/>module.exports = {<br/>    //base path<br/>    publicPath: './',  //The default '/' is an absolute path, if you are not sure about the root path, change it to a relative path './'<br/>    // output file directory<br/>    outputDir: 'dist',<br/>    assetsDir: 'static',<br/>    chainWebpack: (config) =&gt; {<br/>         //Configure aliases<br/>            config.resolve.alias<br/>              .set('@', resolve('src'))<br/>              .set('assets', resolve('src/assets'))<br/>              .set('components', resolve('src/components'))<br/>              .set('utils', resolve('src/utils'));<br/>            config.module  <br/>              .rule('svg')<br/>              .exclude.add(resolve('src/icons'))<br/>              .end();<br/>            config.module<br/>              .rule('icons')   <br/>              .test(/\.svg$/)<br/>              .include.add(resolve('src/icons'))<br/>              .end()<br/>              .use('svg-sprite-loader')<br/>              .loader('svg-sprite-loader')<br/>              .options({<br/>               symbolId: 'icon-[name]'<br/>              })<br/>              .end();<br/>        },<br/>};</span></pre><h2 id="8093" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated">1.3创建的文件目录(在src文件夹下创建一个图标文件夹)</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/948a7a5402eda599921304f9f19fcec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/0*tvr0IwGKTso4-pHZ.png"/></div></figure><h1 id="5fe4" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">2.使用</h1><h2 id="54fd" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated"><strong class="ak"> 2.1注册一个感兴趣的组件</strong></h2><p id="2dfa" class="pw-post-body-paragraph mh mi iq mj b mk na jr mm mn nb ju mp lo nc mr ms lr nd mu mv lu ne mx my mz ij bi translated">在components下创建SvgIcon文件夹，并创建Svg.vue文件</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="a026" class="lj ks iq lz b gy md me l mf mg">&lt;template&gt;<br/>  &lt;svg :class="svgClass" aria-hidden="true" v-on="$listeners"&gt;<br/>    &lt;use :xlink:href="iconName"/&gt;<br/>  &lt;/svg&gt;<br/>&lt;/template&gt;</span><span id="26eb" class="lj ks iq lz b gy ng me l mf mg">&lt;script&gt;<br/>export default {<br/>  name: 'SvgIcon',<br/>  props: {<br/>    //&lt;svg-icon icon&gt;<br/>    iconClass: {  <br/>      type: String,<br/>      required: true<br/>    },<br/>    className: {<br/>      type: String,<br/>      default: ''<br/>    }<br/>  },<br/>  computed: {<br/>    iconName() {<br/>      return `#icon-${this.iconClass}`   //icon-class='.svg file name' ==&gt; '#icon-.svg file name'<br/>    },<br/>    svgClass() {<br/>      if (this.className) {<br/>        return 'svg-icon ' + this.className  //className for the added style<br/>      } else {<br/>        return 'svg-icon'<br/>      }<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span><span id="3b68" class="lj ks iq lz b gy ng me l mf mg">&lt;style scoped&gt;<br/>.svg-icon {<br/>  width: 1em;<br/>  height: 1em;<br/>  vertical-align: -0.15em;<br/>  fill: currentColor;<br/>  overflow: hidden;<br/>}<br/>&lt;/style&gt;</span></pre><h2 id="52ea" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated">2.2在图标下写入index.js</h2><p id="830c" class="pw-post-body-paragraph mh mi iq mj b mk na jr mm mn nb ju mp lo nc mr ms lr nd mu mv lu ne mx my mz ij bi translated">使用require.context自动导入文件，而无需逐个导入</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="a3d7" class="lj ks iq lz b gy md me l mf mg">import Vue from 'vue'<br/>import SvgIcon from '@/components/SvgIcon' // svg component</span><span id="567f" class="lj ks iq lz b gy ng me l mf mg"><strong class="lz ir">// register globally</strong><br/>Vue.component('svg-icon', SvgIcon)</span><span id="ba00" class="lj ks iq lz b gy ng me l mf mg">const requireAll = requireContext =&gt; requireContext.keys().map(requireContext)<br/>const req = require.context('./svg', false, /\.svg$/)<br/>requireAll(req)</span></pre><h2 id="9954" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated">2.3在main.js中引入图标</h2><p id="5c5e" class="pw-post-body-paragraph mh mi iq mj b mk na jr mm mn nb ju mp lo nc mr ms lr nd mu mv lu ne mx my mz ij bi translated">介绍main.js中的index.js文件</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="ca6e" class="lj ks iq lz b gy md me l mf mg">import '@/icons' // icon</span></pre><h2 id="a3ba" class="lj ks iq bd kt lk ll dn kx lm ln dp lb lo lp lq ld lr ls lt lf lu lv lw lh lx bi translated">2.4在页面中使用组件</h2><p id="309d" class="pw-post-body-paragraph mh mi iq mj b mk na jr mm mn nb ju mp lo nc mr ms lr nd mu mv lu ne mx my mz ij bi translated">每次使用图标都很方便，你只需要一行代码就知道了</p><pre class="kg kh ki kj gt ly lz ma mb aw mc bi"><span id="8f01" class="lj ks iq lz b gy md me l mf mg">&lt;svg-icon icon-class="user" /&gt;</span></pre><p id="e7d8" class="pw-post-body-paragraph mh mi iq mj b mk ml jr mm mn mo ju mp lo mq mr ms lr mt mu mv lu mw mx my mz ij bi translated">就这些，谢谢。</p><p id="8da0" class="pw-post-body-paragraph mh mi iq mj b mk ml jr mm mn mo ju mp lo mq mr ms lr mt mu mv lu mw mx my mz ij bi translated"><em class="nh">更多内容看</em> <a class="ae ni" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="mj ir"> <em class="nh">说白了。报名参加我们的</em> <a class="ae ni" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="mj ir"> <em class="nh">免费周报</em> </strong> </a> <em class="nh">。关注我们关于</em> <a class="ae ni" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="mj ir"> <em class="nh">推特</em></strong></a><a class="ae ni" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="mj ir"><em class="nh">领英</em> </strong> </a> <em class="nh">和</em> <a class="ae ni" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="mj ir"> <em class="nh">不和</em> </strong> </a> <strong class="mj ir"> <em class="nh">。</em> </strong></strong></a></p></div></div>    
</body>
</html>