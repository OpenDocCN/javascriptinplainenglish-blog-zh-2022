<html>
<head>
<title>Advanced TypeScript With Code Challenges: Method Decorators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有代码挑战的高级类型脚本:方法装饰器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/advanced-typescript-with-code-challenges-method-decorators-dd87b0897d5e?source=collection_archive---------8-----------------------#2022-09-26">https://javascript.plainenglish.io/advanced-typescript-with-code-challenges-method-decorators-dd87b0897d5e?source=collection_archive---------8-----------------------#2022-09-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9841" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">装饰器提供了一种为类声明和成员添加注释的方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5b698621cee9ace700561513eecd9cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jUBpz0DE_5DSUvDOk_3ZJg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo template by <a class="ae kv" href="https://www.pexels.com/de-de/@rachel-claire?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Rachel Claire</a> from <a class="ae kv" href="https://www.pexels.com/de-de/foto/natur-feld-trocken-tier-4577793/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="27a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将学习打字稿<strong class="ky ir">方法</strong> <strong class="ky ir">装饰器</strong>。Decorator遵循同名结构软件<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9">的设计原则<strong class="ky ir"> Decorator </strong>和</a>为扩展功能提供了子类化的灵活替代方案。</p><p id="9936" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要了解关于高级TypeScript特性的更多信息，请查看我的其他文章。以下是一个概述:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Overview TypeScript Features</figcaption></figure><div class="lu lv gp gr lw lx"><a href="https://web-highlights.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Web亮点— PDF和Web荧光笔</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Web Highlights是一个在Web上突出显示文本的工具，可以更有效地组织您的研究。提升你的…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">web-highlights.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="bf95" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">装饰者</h1><p id="0bfe" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated"><strong class="ky ir">结构</strong> <strong class="ky ir">装饰</strong>模式非常强大，帮助我们防止子类的<strong class="ky ir">爆炸。</strong></p><p id="d5a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰模式的目的是动态地给一个对象附加额外的责任，并为扩展功能提供一个灵活的子类化替代方案。</p><p id="2903" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰模式在许多用例中被广泛使用和应用。只要您想，就使用该模式:</p><ul class=""><li id="d088" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr nv nw nx ny bi translated">创建大量的子类。有时太多的子类是不切实际的，并导致子类<strong class="ky ir">的爆炸</strong>来支持每一种组合。</li><li id="e361" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated">在不影响其他对象的情况下，动态地为单个对象<strong class="ky ir">添加职责</strong>。</li><li id="2698" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated">在运行时给对象分配额外的行为，而不破坏使用这些对象的代码。</li></ul><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">带有类型脚本示例的软件设计模式:装饰器</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">装饰模式为扩展功能提供了子类化的灵活替代方案</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mg l"><div class="oe l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="a1ff" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">打字稿装饰者</h1><p id="9bbb" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">由于类是在Typescript和ES6中引入的，Typescript也想提供支持用Decorators注释或修改类和类成员的可能性。</p><p id="8384" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实验性的Typescript Decorator特性帮助我们修饰<strong class="ky ir">类</strong>、<strong class="ky ir">方法</strong>、<strong class="ky ir">属性</strong>、<strong class="ky ir">访问器</strong>和<strong class="ky ir">参数</strong>。</p><blockquote class="of og oh"><p id="48d0" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">注释装饰器是一个实验性的特性，在未来的版本中可能会改变。——<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="56f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于这个特性仍然是实验性的，我们首先需要通过在我们的<code class="fe om on oo op b">tsconfig.json</code>的<code class="fe om on oo op b">compilerOptions</code>中设置<code class="fe om on oo op b">experimentalDecorators</code>到<code class="fe om on oo op b">true</code>来启用它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="bc6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦这个额外的设置完成，我们就可以创建装饰函数，可以在它前面加一个<code class="fe om on oo op b">@</code>来使用。</p><blockquote class="of og oh"><p id="e45f" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">装饰者使用形式<code class="fe om on oo op b"><em class="iq">@expression</em></code>，其中<code class="fe om on oo op b"><em class="iq">expression</em></code>必须计算出一个函数，这个函数将在运行时用被装饰声明的信息来调用。—<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="79b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于初学者来说，这里有一个非常简单的例子，说明如何创建一个名为<code class="fe om on oo op b">logMessage</code>的<strong class="ky ir">方法</strong> <strong class="ky ir">装饰</strong>函数，该函数将返回一个内部函数，以便在调用该函数后简单地打印出一个<code class="fe om on oo op b">message</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="d38c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">外部函数<code class="fe om on oo op b">logMessage</code>是我们的装饰工厂，它使我们能够传递一些参数。我们的装饰工厂简单地接受一个<code class="fe om on oo op b">message</code>参数，并将其传递给内部函数，该函数将在运行时被装饰器调用。</p><blockquote class="of og oh"><p id="b7c4" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated"><strong class="ky ir">装饰工厂</strong>是一个返回装饰者的函数。—<a class="ae kv" href="https://blog.logrocket.com/a-practical-guide-to-typescript-decorators/" rel="noopener ugc nofollow" target="_blank">blog . log rocket . com/a-practical-guide-to-typescript-decorators/</a></p></blockquote><p id="2ace" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰器接受三个参数:</p><p id="2f72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.<code class="fe om on oo op b"><strong class="ky ir">target</strong></code> = <code class="fe om on oo op b">User</code>类</p><p id="ea63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.<code class="fe om on oo op b"><strong class="ky ir">propertyKey</strong></code>是“更新电子邮件”</p><p id="5697" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.<code class="fe om on oo op b"><strong class="ky ir">descriptor</strong></code>是我们的<code class="fe om on oo op b">PropertyDescriptor</code></p><p id="40b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe om on oo op b">PropertyDescriptor</code>界面如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/1882339b5ed0930cc9462cc8e2b9cf62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*WO-czEfLs4xuM8Rt3cuTzQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">PropertyDescriptor interface</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="07ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以使用<code class="fe om on oo op b">@logMessage('some Message')</code>注释任何方法。假设我们有一个<code class="fe om on oo op b">User</code>类，我们像这样使用装饰器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="b1bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每次我们对用户调用<code class="fe om on oo op b">setEmail</code>时，我们都会在控制台中看到一条新消息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/9e5b210619974754a704626223a831a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*mDKDixEeTpxzkya_bSLvUQ.png"/></div></figure><p id="7439" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里是上面例子的打字稿playground 。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="4490" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个非常简单的例子。但是Typescript decorators可能更有用，也更复杂。有五种装饰者:</p><ul class=""><li id="3485" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr nv nw nx ny bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-class-decorators-afd9043d41f6"> <strong class="ky ir">类装修工</strong> </a></li><li id="adc7" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">方法装饰者</strong></li><li id="5e6a" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><a class="ae kv" href="https://medium.com/p/88c757cd3435" rel="noopener"> <strong class="ky ir">访问者装饰者</strong> </a></li><li id="7257" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">物业装修工</strong></li><li id="bda7" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">参数装饰器</strong></li></ul><p id="70ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我看来，详细查看每种类型的装饰器是有意义的，因为Typescript装饰器是更复杂的特性之一。在本文中，我们将仔细观察<strong class="ky ir">方法装饰者</strong>和<strong class="ky ir"> </strong>做一个代码挑战来内在化这个特性。</p><p id="5468" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在接下来的文章中，我们将会看到我在这里链接的其他类型的装饰者。你也可以直接<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>我的故事，这样就不会错过了。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="eb9b" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">方法装饰者</h1><p id="4699" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">在前面的例子中，我们已经看到了一个非常简单的方法装饰器。让我们创建一个更有用的。</p><p id="55d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想在赋值之前先验证我们的<code class="fe om on oo op b">email</code>。验证是decorators的常见用例之一，有许多验证库使用这种方法。</p><p id="020d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们构建自己的<code class="fe om on oo op b">@validateEmail</code>装饰器来检查给定的电子邮件是否有效:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Validate Email Decorator</figcaption></figure><p id="f938" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，我们再次用一个<strong class="ky ir">装饰工厂</strong>包装原始函数。这一次，它不包含任何参数。棘手的部分是我们通过访问<code class="fe om on oo op b">PropertyDescriptor</code>值来修改原来的<code class="fe om on oo op b">updateEmail</code>方法。从它的参数中，我们得到给定的电子邮件地址，并在电子邮件无效的情况下打印一个错误。否则，我们只需将给定的参数应用于原始方法。</p><p id="395d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以通过用<code class="fe om on oo op b">@validateEmail()</code>注释我们的<code class="fe om on oo op b">setEmail</code>函数来使用装饰函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="b331" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当我们在任何<code class="fe om on oo op b">User</code>对象上调用<code class="fe om on oo op b">updateEmail(some@email.de)</code>时，它首先检查电子邮件的有效性。如果电子邮件有效，它将被分配给私有的<code class="fe om on oo op b">email</code>属性。否则，一个错误会被打印到控制台，并且用户的<code class="fe om on oo op b">email</code>属性不会改变。</p><p id="9415" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，如果我们创建一个用户并执行以下两个<code class="fe om on oo op b">updateEmail</code>调用:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="0679" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">日志如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/830fa0f1a94f61074af566b4e0f243eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4MssCvBB-tl_HDOd36i5PA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Logs</figcaption></figure><p id="014e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/FAegVGwARlDKBLAtgBwDYIGYIKYBMockBDBNKAN2Iz2IBcEB7AOwDppYOoBhACxwDGAawDOUTIwBOUOrwRiU9OjknMAXFGLMAniLqSEzAOYABLbv2Gjrc3oPGOIYJgCuzAQxZR5AURJkANWoEPAAKIlI0DTsrAEooAG9oSmJpSRwoAF4oEAAdOABqE3yC3NYSkABuZPS6F1UodNZlPXD-NFjqgF9gZzcPJmYUmnocP0jQ+KSoRpw6htd3TyHQulSjOY1zABooFElGFBU6bQBpHG1oy2NdvBwRAQMUOikNAAUDo8kTgBF7x4QzykU2SMwELD0UCkCCMhmoAFk5rxGARsncHk8XpJWFQ0C4cNVQVB0QCgdjcfisuJ+ssoKFWAz1iINABtGLGAC6IJmPKg4OYkIiZCpTJZAAYOYTeTMsHSAIS+dpBGhtSKxbnSsEQxhoHCsFQHSShAAGAHEEBQcEMheRQgASBI2rrxPCMe5QZiMOhQEh0AS8PZKFRDADktmupnD9msUasIdYxs6RN5tXqzGqmp6mtTDWhsOYCKRKJsKHQ2lWchEuyZSaJXQzUHrwB6fSWgygaEYRkRIhExA2oSQ9z7Gyu0Y1OaGiwGXlW602mh0u32h2OZwuY6st3+mNeUA+q++2j+GMBWI1WoFOr1naMg+H-ZwSZmTZbAjQxF7UAAqiIVIlkhtOVN2MKUoBMXEQlGcYyEmZITFvHsRxwE1vxQWgGGMQh2kTZIXHQ6D2lCZgcAAdxgqIoHZIwLxkSt9XaKkSPI9oG0vERr1YW8TTgFwBAEYdXDQNBtCgfCMPwbDIhkRgNAdWR5AYyIulwl9m16flIRcP9pGyZifx0yZqm0lRWHEwiJhDAArFgTEMSC8BDJMTOxczlAo0JrNslo6FYcEkCc6ogA" rel="noopener ugc nofollow" target="_blank">这里是class decorator示例的类型脚本playground </a>。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="b246" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">代码挑战💻</h1><p id="82cf" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我们已经为我们的类创建了一个<code class="fe om on oo op b">validateEmail</code>装饰器。现在我们给我们的<code class="fe om on oo op b">User</code>类添加了一个新的<code class="fe om on oo op b">password</code>属性。对于这个新属性，我们想要创建一个<code class="fe om on oo op b">@validatePassword(minLength)</code>装饰器，它简单地检查给定的密码是否具有最小字符长度:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="6dec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">小旁注</strong>:在生产环境中存储密码时，有两个简单的规则:</p><ol class=""><li id="b83d" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr ot nw nx ny bi translated">不要以纯文本格式存储密码</li><li id="c847" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr ot nw nx ny bi translated">不要以纯文本格式存储密码</li></ol><p id="69eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总是在数据库中散列密码。但是让我们忽略这个简单的例子。继续，创建<code class="fe om on oo op b">validatePassword</code>装饰函数并解决所有的类型脚本错误。</p><h2 id="0e17" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">密码</h2><p id="1386" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">下面是该练习的<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/GYVwdgxgLglg9mABDAzgUQLYEMYBsBqWuMAJgBQCm2eAXIilAE4xgDmAlIgN4BQiiANyyNEjCogC8iAPQAdAMoBqAAILFsgHRrpAbj6iKUEIyRiNUCg0rVc7PQF8ePUJFgJBRUlguYcuMpy8-GJGJogu0PBIZFDCrIZ0WGAAngA0iAAOjHAZFIxQyQDSFMl0DMxs6SSWEMwZUHCMdAAK2bn5yQAiNXUNjIH6-BAIDIiNMKwsRACyhgAWcCSSiNUotTD1jRpCuCAUeoMrPRt920R7yxFu0Rq3cSh0ANrlLKwAugP8X4jDYKNUfmW90eAAY3gdvvwYMBEGQAISoXx4QjEcgAvDsT6QoYjOC4CgaPLZRhkAAGAHEYAIKEh0bhYQASLh0+ycEhwSyIMBwKCIbBQCBzTLeCxhADkSWSLzYykl0tYGjlTFeYo0pLsh2+IWMYD02Mc2O1YXGkzAM3mi0VGQyuGSMTmqHS9w1h3sesQbp4jmc4Ei7lwcFYsxQKCw8TIGEsofiZWVbCxRqQVyisNijHiUESKXSWRyeQKxVK9DjrCqx02TUQrTzHW6a16jSxOL+eIJAdYEajYYoGv4nu9EFwWBDiAAqig8tx9HS4bGKqx3RlhygAO6NEiz4vziGIZQ7LwWZrLteMcgARhB7H0ynbwejFDJo4yJG8r0QdPV+hAz+8FCPIZPcglwA9c51eJtECgB0UA0YDV3XZY4MA91mxQVsNHbMl5BACAICjUBcFtRBvxfCwliQhCGjoJkoNQWDj3XexPz7Jx+D3TxSIoJF-CvNjby7cNSSfUi3w-XjiJ-HwbDIMAKBXbiwPjKdvlomC6WWWT5JsFCflxfEMMDLCcLwkMCKIkjfyWdSqMQGjoMJGwmPExwBxGXkQAnEQpE0sdPICPQPLyDQLKkvwyDFAArBBlBYfcSDFDVAsYYLJK46TIuiiwGA0YYMASg4kpSzj-3g09woo098p4QqQr-BiyrFCqSHkJgEFYNBuRAVg5jPAAmABmKqgA" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">起始码</strong> </a>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Starter code</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="73aa" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">解决办法</h2><p id="f185" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">下面是<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/GYVwdgxgLglg9mABDAzgUQLYEMYBsBqWuMAJgBQCm2eAXIilAE4xgDmAlIgN4BQiiANyyNEjCogC8iAPQAdAMoBqAAILFsgHRrpAbj6iKUEIyRiNUCg0rVc7PQF8ePUJFgJBRUlguYcuMpy8-GJGJogu0PBIZFDCrIZ0WGAAngA0iAAOjHAZFIxQyQDSFMl0DMxs6SSWEMwZUHCMdAAK2bn5yQAiNXUNjIH6-BAIDIiNMKwsRACyhgAWcCSSiNUotTD1jRpCuCAUeoMrPRt920R7yxFu0Rq3cSh0ANrlLKwAugP8X4jDYKNUfmW90eAAY3gdvvwYMBEGQAISoXx4QjEcgAvDsT6QoYjOC4CgaPLZRhkAAGAHEYAIKEh0bhYQASLh0+ycEhwSyIMBwKCIbBQCBzTLeCxhADkSWSLzYykl0tYGjlTFeYo0pLsh2+IWMYD02Mc2O1YXGkzAM3mi0VGQyuGSMTmqHS9w1h3sesQbp4jmc4Ei7h2XgszSwKBQAHdGuQMCwADI01hQOZ0MAgDAAIzyWKNSCuUVhsUY8SgiRS6SyOTyBWKpXoysqRzWvUaLTala6x02-W4h1+oxNU1ws0Ti2Wq3WnbOu32Tm+Y6bjEnFykufcZFuisLD0Qzzr7yx317vIyIfDkaBm9B4JnkMPwtDEcYJAAkigUaRlsf75GNPi2InEAAfFI0ZgHGf5zBCkLQrCcKfqej4vm+JD7jeuL4oSjDEmSlLUkgcEPksZBMvhkassgKBcjytbZGwiA0nAICsHMUCquq7qGoYOrsV8BqQtmYzMKa5rDiQVo2naiaOogzqQfwnpyQ4TgrkguBwKwsyhlg8RkBglgoFpFBlLuWacWEyn5nECTSaWmSth01ZGRUrBVB2fQthWHTdI2JyNChvZ4gSqmsDpekGRqClek4EC4CeiAAKooHk3b8HScKOa87okY+aXURl17KAGJDeBQwZfo+ZAAIwguw+jKEFGn6dppJxRkRWwLRpXwSQ6r6CArXFZ1BFkFlJDpWwKGSSgGgjR+J4Edx-noUFZLyCAEAQHpoC4LaiB9W1FBLDNDR0Eyk3TXNpE9XJ+WFcVSL+DV-B1WpDUGWSLVta8dE2Fdu39T4NhkGAFBhvdY0cMlXxnXSyzA6DNgLWhgVqSta0baGW07XtxVLDDx2IKdDpTSyv2ON6t4gIlIhSHD8VUwEeiU3kGjYwDfhkGKABWCDKCwhVihqTMLqzFD3Rz3NgMoFgMBowwYALBxCyz-0lRd5ViiNCs8ErIuDZGHMjfITAIKwaDcoxcwVQATAAzFrQA" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">解</strong> </a>为练习题:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Solution Code</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="f8fd" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">最后的想法</h1><p id="4696" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我希望你喜欢阅读这篇文章。我总是乐于回答问题，并乐于接受批评。随时欢迎联系我！通过<strong class="ky ir"/><a class="ae kv" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir">，</strong>关注我<strong class="ky ir"/><a class="ae kv" href="https://twitter.com/MariusBongarts" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Twitter</strong></a>或<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>通过电子邮件获取我的故事。</p><p id="7d66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="ky ir">这里是无限制访问</strong> </a>媒体上每一个内容的链接。如果你注册使用这个链接，我会赚一小笔钱，不需要你额外付费。</p><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pg l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="4bee" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">关于作者</h2><p id="206e" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我是埃森哲软件工程分析师宋。我们一直在寻找最好的开发人员，所以如果你有兴趣加入我们，请随时联系我们！</p><p id="3fe5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最驱动我的是我想创造一些对他人有帮助和改变生活的东西的冲动🙌比如你是否厌倦了浏览自己的历史来寻找前几天看到的信息？我的<a class="ae kv" href="https://chrome.google.com/webstore/detail/web-highlights-%20-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">网站重点介绍Chrome扩展</strong> </a>覆盖了你，并将通过以结构化和高效的方式组织你的研究来提高你的生产力。就像你在书和文章上做的那样，突出显示任何网页或PDF上的文本。你的精彩片段会直接同步到web-highlights.com的网络应用上，你可以在任何地方找到它们。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="c891" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">进一步阅读</h2><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-class-decorators-afd9043d41f6"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">具有代码挑战的高级类型脚本:类装饰器</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">装饰器提供了一种为类声明和成员添加注释的方法。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mg l"><div class="ph l mi mj mk mg ml kp lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">我的第一个9.99美元之旅与我的副业</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Chrome扩展带来的被动收入</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pi l mi mj mk mg ml kp lx"/></div></div></a></div><p id="e8b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oi">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">plain English . io</em></strong></a><em class="oi">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">免费周报</em> </strong> </a> <em class="oi">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">LinkedIn</em></strong></a><strong class="ky ir"><em class="oi"/></strong><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">YouTube</em></strong></a><strong class="ky ir"><em class="oi">，以及</em></strong><em class="oi"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">不和</em> </strong> </a>T55】</p></div></div>    
</body>
</html>