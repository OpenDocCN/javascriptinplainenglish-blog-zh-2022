<html>
<head>
<title>CSS Animated Bottom Border</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS动画下边框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/css-animated-bottom-border-17bd012bfd53?source=collection_archive---------8-----------------------#2022-07-12">https://javascript.plainenglish.io/css-animated-bottom-border-17bd012bfd53?source=collection_archive---------8-----------------------#2022-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6610" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">让我们使用React和CSS来制作标签和导航栏的动画。</em></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/1cbb46d2cf9b12964cb44a691819dddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WCddQldzpkqpy-YL"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Photo by <a class="ae lc" href="https://unsplash.com/@johnschno?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">John Schnobrich</a> on <a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bb88" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇文章中，我想和你一起建立一个动画底部边框:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ld"><img src="../Images/037c8b385861ef92c4184649a4bb4241.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qhllwCO6f0QQm0fiFiuuSA.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">CSS Bottom Border animation</figcaption></figure><p id="3fa5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将几乎只用CSS来构建它。我们将只需要JS来切换活动项目。我将使用React来制作UI，这样我们将获得一个可重用的React组件。</p><p id="a5aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完整的源代码可以在底部找到。在章节中，我将只分享重要的片段，并告诉你代码背后的想法。</p><h2 id="8386" class="le lf iq bd lg lh li dn lj lk ll dp lm jy ln lo lp kc lq lr ls kg lt lu lv lw bi translated">TabNav组件</h2><p id="6059" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">TabNav组件负责呈现“底部边框”，这是一个div。我把它命名为“滑块”，因为这是我们在这里播放的基本动画。</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="89ed" class="le lf iq md b gy mh mi l mj mk">&lt;div className={styles.slider} role="presentation" /&gt;</span></pre><p id="b640" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，关于CSS，只有两件事值得关注。</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="0f43" class="le lf iq md b gy mh mi l mj mk">transition: inset-inline-start var(--tab-nav-transition-timing);</span></pre><p id="e1bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是“左”的逻辑表达方式通常，您会转换一个转换，因为它更具性能。不幸的是，转换还没有确定方向的逻辑方法。关于这一点，在关于解决方案灵活性的章节中有更多的介绍。我也给了你一个使用变换的解决方案。要启用它，只需取消对该行的注释</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="1e6b" class="le lf iq md b gy mh mi l mj mk"><em class="kl">/* transform: translateX(calc(100% * var(--tab-nav-current-item))); */</em></span></pre><p id="f785" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并将转换触发器从<code class="fe ml mm mn md b">inset-inline-start</code>改为<code class="fe ml mm mn md b">transform</code>。</p><p id="0235" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一个有趣的方面是CSS变量的使用:</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="6fb1" class="le lf iq md b gy mh mi l mj mk">:root {<br/>  --tab-nav-items: 3;<br/>  --tab-nav-slider-thickness: 2px;<br/>  --tab-nav-slider-color: violet;<br/>  --tab-nav-transition-timing: 0.25s;<br/>  --tab-nav-current-item: 0;<br/>}</span></pre><p id="3f24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe ml mm mn md b">--tab-nav-items</code>取决于孩子传递给我们<code class="fe ml mm mn md b">TabNav</code>的分量。它是自动计算的。<code class="fe ml mm mn md b">--tab-nav-current-item</code>确定当前选择的项目。我们只需在点击一个项目时进行调整。在现实世界的应用程序中，你可以将它与你的路由器或你的状态(取决于你在使用什么)对齐。</p><p id="9756" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">CSS和JS加在一起，我们的组件只有大约50行代码。我相信我们甚至可以找到一个更简单的解决方案。尽管简洁，但它是一个相对灵活的解决方案。</p><h2 id="e700" class="le lf iq bd lg lh li dn lj lk ll dp lm jy ln lo lp kc lq lr ls kg lt lu lv lw bi translated">用法</h2><p id="ed29" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">下面是如何使用TabNav组件:</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="a49c" class="le lf iq md b gy mh mi l mj mk">&lt;TabNav className="tab-nav"&gt;<br/>  &lt;a<br/>    href="#1"<br/>    className={active === 0 ? "active" : ""}<br/>    onClick={handleNavItemClick(0)}<br/>  &gt;<br/>    First Tab<br/>  &lt;/a&gt;<br/>  &lt;a<br/>    href="#2"<br/>    className={active === 1 ? "active" : ""}<br/>    onClick={handleNavItemClick(1)}<br/>  &gt;<br/>    Second Tab<br/>  &lt;/a&gt;<br/>  &lt;a<br/>    href="#3"<br/>    className={active === 2 ? "active" : ""}<br/>    onClick={handleNavItemClick(2)}<br/>  &gt;<br/>    Third Tab<br/>  &lt;/a&gt;<br/>&lt;/TabNav&gt;</span></pre><p id="9f51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我附加了类<code class="fe ml mm mn md b">tab-nav</code>来从外部修改导航链接的样式。我们也可以通过给每个锚点提供一个类名来实现，但是这有点多余。</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="e29d" class="le lf iq md b gy mh mi l mj mk">a {<br/>  color: black;<br/>  text-decoration: none;<br/>}</span><span id="7d7d" class="le lf iq md b gy mo mi l mj mk">.tab-nav &gt; a {<br/>  padding: 1rem;<br/>  text-align: center;<br/>}</span></pre><p id="7f70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">其他一切都可以开箱即用，非常棒！</p><p id="b2f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们想调整边框的颜色或粗细，我们只需调整这些变量:</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="24a6" class="le lf iq md b gy mh mi l mj mk">--tab-nav-slider-thickness: 2px;<br/>--tab-nav-slider-color: violet;</span></pre><h2 id="3e43" class="le lf iq bd lg lh li dn lj lk ll dp lm jy ln lo lp kc lq lr ls kg lt lu lv lw bi translated">解决方案的灵活性</h2><p id="d8db" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">TabNav非常灵活，可以用在链接到路由或选项卡容器的导航栏上。原因是我们只依赖于变量。只要你能调整变量，这个解决方案就能发挥作用。</p><p id="5bc1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我们使用了像<code class="fe ml mm mn md b">inline-size</code>这样的逻辑属性，所以我们可以改变文档的书写模式:</p><pre class="kn ko kp kq gt mc md me mf aw mg bi"><span id="b3ec" class="le lf iq md b gy mh mi l mj mk">writing-mode: vertical-lr;</span></pre><p id="e444" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导航仍然可以使用它的动画。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/2d20afca06f2582f9737b387ef3a6a7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/1*O9NdgJxzD7hExmJa8Z_m_w.gif"/></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Vertical tab navigation with animation</figcaption></figure><p id="a3c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这在使用过渡变换时不起作用。根据书写模式，我们必须考虑方向并使用translateX或translateY。</p><p id="0e74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，它远非完美，需要一些调整。但是，作为一个橱窗，已经足够好了。</p><p id="e8d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个解决方案还有一个缺点:它不能处理不同大小的标签。所以每个标签应该占据相同的区域。</p><h2 id="adb0" class="le lf iq bd lg lh li dn lj lk ll dp lm jy ln lo lp kc lq lr ls kg lt lu lv lw bi translated">决赛成绩</h2><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="f0f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就这些了，伙计们！非常感谢您的阅读！</p><p id="86a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这是一个有趣的阅读给你。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="37b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">更多内容请看</em><a class="ae lc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">plain English . io</em></strong></a><em class="kl">。报名参加我们的</em> <a class="ae lc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">免费周报</em> </strong> </a> <em class="kl">。关注我们关于</em><a class="ae lc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">Twitter</em></strong></a><em class="kl">和</em><a class="ae lc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="kl">LinkedIn</em></strong></a><em class="kl">。查看我们的</em> <a class="ae lc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">社区不和谐</em> </strong> </a> <em class="kl">加入我们的</em> <a class="ae lc" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kl">人才集体</em> </strong> </a> <em class="kl">。</em></p></div></div>    
</body>
</html>