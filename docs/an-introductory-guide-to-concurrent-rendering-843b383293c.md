# 并发渲染入门指南

> 原文：<https://javascript.plainenglish.io/an-introductory-guide-to-concurrent-rendering-843b383293c?source=collection_archive---------15----------------------->

![](img/e77b1837f90a68cec0dd83df3cfbefe3.png)

React 领域目前最热门的话题是 React 18 的发布。特别是，该版本将引入一组所谓的并发渲染功能。这些特性允许开发人员从 React 中选择并发呈现机制。这种机制为 React 开发人员控制和优化最终用户的体验打开了一个全新的机会世界。这绝对是自 hooks 以来我们在 React 世界中收到的最激动人心的东西之一。

正因为如此，你很可能听说过并发渲染。也许是关于它的文章，围绕它的 API，或者 React 18 将为它带来什么。然而，您可能会对并发渲染的基础感到疑惑。什么是并发渲染，为什么我们真的需要它？

为了帮助你理解基本原理，本文将讨论这些问题。通过研究它的目的、它试图解决什么问题以及它是如何解决的，您将获得关于并发渲染主题的坚实知识基础。

# 为什么我们需要并发渲染？

React 当前形式的一个问题是所有状态更新都是同步的。这意味着 React 只能逐个处理它们。在许多用例以及现实生活场景中，这完全没问题，不会对用户体验造成任何限制。

但是在 React 想要获得不同于它当前正在处理的状态更新的场景中，现在这显然是不可能的。React 无法在更新开始后中断、暂停或丢弃渲染，这是一个被阻止的过程。

本质上，这给优化用户体验的过程设置了上限。虽然这是一个很高的目标，但仍然存在一个极限。每一次状态更新都同等重要，即使这对用户体验来说不成立。某些更新可能比其他更新更优先或更紧急。不能这样做实际上会对用户体验产生巨大的负面影响，这是次优的。

# 什么是并发渲染？

这正是并发渲染的用武之地。并发呈现是一组特性，允许 React 项目选择所谓的可中断呈现。与之前 React 被阻塞的渲染过程相反，这使得渲染过程可以从 React 端中断。

这为 React 开发人员进一步增强 React 应用程序的用户体验开辟了许多新的可能性。

它允许 React 一次处理多个状态更新。但是，这并不意味着 React 会突然同时执行所有排队的状态更新。相反，选择并发渲染允许 React 考虑其最佳行动方案。幸运的是，这也是我们作为开发人员可以控制的。

假设 React 当前正在进行状态更新，并且有一个不同的状态更新进来，那么 React 可以根据各种因素做出不同的决定。如果新的传入状态更新被标记为同等紧急或较不紧急，那么与先前的呈现过程相比，什么都不会改变。React 将像平常一样继续更新当前状态。完成后，它将获得新的状态更新。

但是，如果新的传入状态更新被标记为更紧急，那么 React 可以决定暂停当前状态更新，并首先处理传入状态更新。在完成新的和更紧急的状态更新后，React 将返回到原始状态更新。如果它确定有必要恢复它，它会这样做。如果结果是状态更新现在无关紧要，它可以决定完全放弃它。

# 下一步是什么

本文简要介绍了 React 18 将为 React 开发领域带来的最激动人心的特性之一，即并发渲染，并让您快速了解整个主题。使用本文中的知识，您应该知道什么是并发渲染，理解它试图解决什么问题，并对其工作原理有一个概述。

幸运的是，并发渲染并没有就此停止。虽然并发渲染有很多方面需要理解或深入，但本文只是进入整个主题的介绍，并允许您从这里开始进一步探索 React 18。

给你一些提示:

*   我之前的这篇文章回顾了 React 18 中引入的三个新 API。所有这些都是钩子，允许某些开发人员在某些场景中选择并发渲染。
*   [React 18 官方公告](https://reactjs.org/blog/2021/06/08/the-plan-for-react-18.html)是一个了解 React 18 更多信息的好地方，不同的功能，如何采用它，以及关于即将到来的 React 版本你需要知道的一切。
*   [React 工作组知识库](https://github.com/reactwg/react-18/discussions)是一个很好的地方，您可以从中了解更多技术方面的知识，获得更多的指导，了解不同 API 和特性背后的思维过程，并从总体上更深入地了解 React 18 中的一切。

就这些了！既然您已经对并发渲染这一主题有了深入的了解，那么一个全新的世界将为您打开，让您在 React 18 中探索。走出去，探索，并享受这一新的冒险！

如果你喜欢这篇文章，可以考虑看看[不寻常反应](https://www.getrevue.co/profile/chakshunyu)时事通讯和我的[推特](https://twitter.com/keraito)中的其他条目，以便将来更新。

*更多内容看* [***说白了就是***](https://plainenglish.io/) *。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于*[***Twitter***](https://twitter.com/inPlainEngHQ)*和*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*。加入我们的* [***社区***](https://discord.gg/GtDtUAvyhW) *。*