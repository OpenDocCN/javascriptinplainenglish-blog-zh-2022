<html>
<head>
<title>The Entire Picture Behind a Covid Spike in a Maryland County</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">马里兰州一个Covid尖峰背后的全貌</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/showing-the-whole-picture-cc7fa266d993?source=collection_archive---------26-----------------------#2022-01-24">https://javascript.plainenglish.io/showing-the-whole-picture-cc7fa266d993?source=collection_archive---------26-----------------------#2022-01-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5826" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">分析和提供隐藏在独立数字背后的数据。</h2></div><p id="ce52" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">2021年12月下旬，随着新的omicron变种的引入，covid spike袭击了马里兰州的蒙哥马利县。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/43b51a32393f2550eb20132bc04ff079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z4XZ96zkjHAWCwABLxxJeg.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">A massive spike from only a few cases to thousands in the span of a month. Source: <a class="ae lo" href="https://www.nytimes.com/interactive/2020/us/maryland-coronavirus-cases.html" rel="noopener ugc nofollow" target="_blank">The New York Times</a></figcaption></figure><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lp"><img src="../Images/06566c0a5f3001585743d65bfff099a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pugu5JTHsqmp-0eiaBi49g.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">A table of cases to total population at schools in MCPS.</figcaption></figure><p id="48c2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我所在的蒙哥马利县公立学校(MCPS)通过一种基于学校感染人数百分比的颜色编码系统来应对这种新的冠状病毒威胁。许多学生和家长依靠该系统来了解他们学校的总体covid情况，以及过渡到虚拟环境的可能性。</p><p id="d4af" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">超过5%的“红色级别”学校将考虑转向虚拟，但该县几乎每所学校都在几天内越过了这一门槛。紧接着，该县取消了5%的门槛，并停止提供每所学校covid阳性人口的总百分比数据。</p><p id="3754" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每个人——家长、老师、学生——都被激怒了。看起来好像国家不再关心社区的健康和安全，把虚拟化的决定留给了武断的“指导方针”。</p><p id="c9f1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我很好奇我们不知道的我们县covid的真实统计数据。该县创建的官方仪表板从来都不准确或不及时，所以我决定和我的一个好朋友Saraansh一起制作自己的仪表板。</p><p id="2be8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我知道我在web开发方面有自己的优势，所以我想和能够帮助我进行数据解析和分析的人一起工作。借助Python和<em class="lq"> pandas </em>库的力量，我们开始了。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lr"><img src="../Images/99b770f4bb8e825a4ea2ea16ec5319a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DwIs9SBcoYf1_76m02vB0A.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">What the PDF would look like.</figcaption></figure><p id="57bf" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些数据是从每天发布在官方仪表板上的每日PDF中收集的PDF是一个表格，其中包含每个学校按员工和学生划分的总案例。这个PDF然后被转换成一个Excel电子表格，可以很容易地解析然后分析。</p><p id="dd2f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Saraansh创建了一个包含每所学校及其总人口的数据库。该脚本将学校名称与新案例相匹配，并能够创建大量有用的新数据。我们的数据基于县指导方针，即如果无症状，员工可以在测试阳性5天后返回，学生可以在测试阳性10天后返回。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Example of data that was outputted.</figcaption></figure><p id="f478" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">是我开始创建前端的时候了，它最终会被托管在一个网站上供人们使用。因为我是创建数据可视化的新手，所以我想使用一个简单且易于启动的库。我决定使用ApexCharts，它有一个非常简单的API。</p><p id="338f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我过去几年的开发经历中，我学到了很多关于代码组织的知识。我的第一个项目都是在没有任何面向对象原则的情况下创建的，它们很乱，通常都合并到一个文件中。我知道，如果我想快速创建这个项目并在未来维持下去，我必须保持有组织性。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">A simple object-oriented structure for each module.</figcaption></figure><p id="4be2" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我知道我会有很多不同的模块，所以我为每个模块创建了一个单独的文件，为每个模块创建了一个单独的类。在主驱动程序脚本中，我希望它很简单:只需为每个类创建一个新实例，并在需要时调用适当的函数。</p><p id="ed5f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我可以使用我的数据可视化之前，我需要一种方法来始终访问正在生成的数据。我们决定采用一种简单的方法来实现这一点，那就是使用Github actions并直接向生成的JSON文件发出请求。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="f1c1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">GitHub动作检查<code class="fe lu lv lw lx b">server/data</code>目录中的更新，并在更新后创建一个Github托管的Ubuntu容器。在为Python脚本安装了<code class="fe lu lv lw lx b">requirements.txt</code>中指定的依赖项之后，容器运行脚本，GitHub Actions推送对JSON文件所做的所有更改。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="34a4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，我加载了我创建的所有不同的可视化类。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="23c8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我开始创建前端之前，我用<a class="ae lo" href="https://www.figma.com/" rel="noopener ugc nofollow" target="_blank"> Figma </a>创建了一个我可能希望它看起来像什么的原型设计。我还计划好了如何编写一个过滤特性。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ly"><img src="../Images/cf40f1efacdbbac59115b68a5dff0361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NM2dNpxJXRJsyt2Ig8o4UQ.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Prototyping with Figma.</figcaption></figure><p id="915d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我知道正确使用搜索功能很重要，所以我决定创建一个动态更新的页面。我希望主驱动程序脚本检查URL查询，如果有，它将根据需要更新页面。拥有这个URL查询是很重要的，因为它允许人们共享特定学校的URL，而不需要增加额外的步骤来要求用户学习如何使用该网站。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Applying filters to a chart.</figcaption></figure><p id="9985" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我想添加的另一个特性是一个数字指示器，它可以预测学校虚拟化的可能性。我知道能够有这样的东西将是一个引人注目的功能，会让用户重新访问我们的网站，并与他们的同行分享。</p><p id="dee7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我创建了一个简单的加权因子算法，该算法将产生一个数字，该数字可以给出COVID影响级别的概述。</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="e2b9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我根据某些虚拟学校的先例，以及对MCPS所面临的问题的总体理解来考虑这些因素。了解到总体的教职员工和代课教师短缺意味着教职员工的流失和教职员工测试呈阳性的趋势将对学校产生极大的影响。</p><p id="b1ab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">没有HTML的网站就不是网站。没什么特别的，如果你愿意，你可以在这里<a class="ae lo" href="https://github.com/jamxu88/mocovid/blob/main/website/index.html" rel="noopener ugc nofollow" target="_blank">看一看。我在设计它的时候充分考虑了移动UI，在创建它的时候使用Chromium的Devtools在桌面和移动视图之间切换。</a></p><p id="d0ee" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">经过大约一周的计划、原型制作、开发和测试，我们终于准备好部署并让每个人使用我们的网站。</p><p id="c725" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我只花了几美元就买下了我们的域名，并用Netlify来托管它。我有很多由<a class="ae lo" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>主持的网站，这个过程总是又快又容易。我还选择了使用<a class="ae lo" href="https://cloudflare.com/" rel="noopener ugc nofollow" target="_blank"> Cloudflare </a>，不是因为我担心我们的网站宕机，而是我希望能够查看分析并提高整体性能。</p><p id="beeb" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">终于，人们可以在MCPS看到COVID的全貌。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi lz"><img src="../Images/b0f589ea4fd30fb9335447fddceadba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LExby8AxQgUp42NR5kc--w.png"/></div></div></figure><div class="kz la lb lc gt ab cb"><figure class="ma ld mb mc md me mf paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/285ff31f8b47679073b908918a47955f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*0zD9c2Nx0080DN1GSFC2dQ.png"/></div></figure><figure class="ma ld mg mc md me mf paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><img src="../Images/f8ad49abeb2b3a1b5b909e266551827d.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*4zSH8hewK_kaAb0q-YNoXg.png"/></div></figure></div><p id="8311" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一些发布后的统计数据:在发布后的24小时内，在Instagram、Discord和脸书上推广后，有超过700个独立访客。COVID峰值是暂时的，随着活动案例总数的日益下降，它已不再成为大多数人的担忧。我们网站的访客总数每天都在下降。</p><p id="35b3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是一次宝贵的经历，我终于能够将我在过去几年中学到的概念应用到一个人们可以使用的项目中，并与其他人合作，以如此快速地推出这一项目。它的速度快得让人感觉像是一场黑客马拉松，尤其是因为我们必须平衡学校和这项工作。</p><p id="d83d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以在这里查看我们的Github回购<a class="ae lo" href="https://github.com/jamxu88/mocovid" rel="noopener ugc nofollow" target="_blank">，在这里</a>亲自访问网站<a class="ae lo" href="https://mcpscovid.co" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="8a68" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢您的阅读。</p><p id="7a4f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="lq">更多内容看</em> <a class="ae lo" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="lq">说白了。报名参加我们的</em> <a class="ae lo" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="lq">免费周报</em> </strong> </a> <em class="lq">。在我们的</em> <a class="ae lo" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="lq">社区不和谐</em> </strong> </a> <em class="lq">获得独家获取写作机会和建议。</em></strong></a></p></div></div>    
</body>
</html>