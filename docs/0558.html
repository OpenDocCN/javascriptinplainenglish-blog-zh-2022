<html>
<head>
<title>Vue 3 GitHub Actions in a Nutshell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue 3 GitHub的简单动作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-3-github-actions-in-a-nutshell-d207de6f122e?source=collection_archive---------13-----------------------#2022-01-31">https://javascript.plainenglish.io/vue-3-github-actions-in-a-nutshell-d207de6f122e?source=collection_archive---------13-----------------------#2022-01-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b40c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">GitHub将CI/CD添加到Vue 3项目的操作。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9c73648a48993dce617c37b18e32c307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nPl_823wvgb6O2Hc.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://itnext.io/github-github-actions-overview-and-argocd-deployment-example-b6cf0cf6f832" rel="noopener ugc nofollow" target="_blank">GitHub Actions logo with header.</a></figcaption></figure><h2 id="2cc5" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在本地测试GitHub操作工作流</h2><p id="1cd0" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">要为GitHub动作工作流启用测试驱动开发，您需要能够在本地测试GitHub动作。使你能够做到这一点。</p><h2 id="47e0" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">阻止提交和推进主分支</h2><p id="3093" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">在GitHub中，可以设置<strong class="lu ir"> </strong> <a class="ae kv" href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/managing-a-branch-protection-rule" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir">分支保护规则</strong> </a>，该规则提供了一个选项<em class="mp">“限制谁可以推送至匹配分支”</em>，该选项允许防止有人直接推送至主分支。</p><p id="b7af" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated">但是<em class="mp"/>“受保护分支”仅在非免费产品中可用。此外，也不妨碍有人误闯当地的<code class="fe ml mm mn mo b">main</code>分支，搞乱当地的<code class="fe ml mm mn mo b">git</code>历史。通过<code class="fe ml mm mn mo b">git config branch.master.pushRemote no_push</code>改变本地<code class="fe ml mm mn mo b">git</code>配置，可以<strong class="lu ir">禁止推入本地</strong>T3。</p><h2 id="7b3b" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">类型检查<code class="fe ml mm mn mo b">.vue</code>文件</h2><div class="mv mw gp gr mx my"><a href="https://github.com/marketplace/actions/vue-tsc-action" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">vue-TSC-行动- GitHub市场</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">Github动作这个GitHub动作运行vue-tsc。vue文件并显示在整个代码库中发现的错误…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm kp my"/></div></div></a></div><p id="df86" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated">如果将单个文件组件与TypeScript一起使用，您需要确保TypeScript代码是有效的。要将它构建成一个工作流，你可能想看看GitHub的动作<strong class="lu ir"><em class="mp">【vue-TSC-Action】</em></strong>。</p><h2 id="51e3" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">谷歌灯塔审计</h2><div class="mv mw gp gr mx my"><a href="https://github.com/marketplace/actions/lighthouse-ci-action" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">灯塔CI行动- GitHub市场</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">使用Lighthouse审计URL并使用Lighthouse CI测试性能。此动作将灯塔CI与Github整合…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="nn l nj nk nl nh nm kp my"/></div></div></a></div><p id="ec91" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated"><a class="ae kv" href="https://developers.google.com/web/tools/lighthouse" rel="noopener ugc nofollow" target="_blank"> <em class="mp"> Lighthouse </em> </a>是谷歌的一个工具，它“(……)对性能、可访问性、渐进式网络应用、搜索引擎优化等进行审计”。使用<strong class="lu ir"><em class="mp">“light house CI Action”</em></strong>将其集成到GitHub Action工作流中。或者，你也可以看看<a class="ae kv" href="https://github.com/marketplace/actions/lighthouse-check" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> <em class="mp">【灯塔检查】</em> </strong> </a>。</p><h2 id="7e57" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">用棉绒整理文件</h2><div class="mv mw gp gr mx my"><a href="https://github.com/marketplace/actions/hadolint-action" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">Hadolint Action - GitHub市场</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">GitHub操作运行Hadolint Dockerfile林挺工具的GitHub操作。将以下步骤添加到您的工作流程中…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="no l nj nk nl nh nm kp my"/></div></div></a></div><p id="af2d" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated">如果在一个<em class="mp"> Docker </em>容器中部署一个<em class="mp"> Vue </em>项目，确保当<em class="mp">Docker文件</em>被添加和/或修改后<em class="mp"> Docker </em>构建(见下面的操作)仍然通过可能会有所帮助。Hadolint是一个著名的Dockerfiles分析器，可以通过GitHub动作<strong class="lu ir"><em class="mp">【Hadolint动作】</em> </strong>集成到工作流中。</p><div class="mv mw gp gr mx my"><a href="https://github.com/marketplace/actions/get-all-changed-files" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">获取所有更改的文件- GitHub Marketplace</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">GitHub动作在拉请求或推提交中获取所有更改/修改的文件。您可以选择获取所有…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="np l nj nk nl nh nm kp my"/></div></div></a></div><p id="755b" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated">要仅在Dockerfile已更改时执行该检查，您可能需要使用GitHub动作<strong class="lu ir"> <em class="mp">“获取所有已更改的文件”</em> </strong>来有条件地执行该动作。BTW: <strong class="lu ir">这个GitHub动作也可以在很多其他场景中用于条件动作执行。</strong></p><h2 id="8587" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">构建到Docker容器中</h2><div class="mv mw gp gr mx my"><a href="https://github.com/marketplace/actions/build-and-push-docker-images" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">构建和推送Docker图片- GitHub市场</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">GitHub Action使用Buildx构建和推送Docker图像，完全支持莫比BuildKit提供的功能…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="nq l nj nk nl nh nm kp my"/></div></div></a></div><p id="4341" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated">您可以将<a class="ae kv" href="https://vuejs.org/v2/cookbook/dockerize-vuejs-app.html" rel="noopener ugc nofollow" target="_blank">Vue Cookbook recipe<em class="mp">“Dockerize Vue . js App”</em></a>与GitHub动作<strong class="lu ir"> <em class="mp">“构建并推送Docker映像”</em> </strong>结合起来，将<em class="mp"> Vue </em>项目包装成Docker映像，并将其部署到容器(映像)注册表中。支持的注册表有:</p><ul class=""><li id="00a2" class="nr ns iq lu b lv mq ly mr lf nt lj nu ln nv mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/build-push-action/blob/master/docs/advanced/local-registry.md" rel="noopener ugc nofollow" target="_blank">本地注册表</a></li><li id="ca25" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#docker-hub" rel="noopener ugc nofollow" target="_blank">码头中心</a></li><li id="e128" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#github-container-registry" rel="noopener ugc nofollow" target="_blank"> GitHub容器注册表</a></li><li id="2045" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#gitlab" rel="noopener ugc nofollow" target="_blank"> GitLab注册表</a></li><li id="b757" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#azure-container-registry-acr" rel="noopener ugc nofollow" target="_blank"> Azure容器注册表</a></li><li id="b502" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#google-container-registry-gcr" rel="noopener ugc nofollow" target="_blank">谷歌容器注册表</a></li><li id="d3de" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#google-artifact-registry-gar" rel="noopener ugc nofollow" target="_blank">谷歌神器注册表</a></li><li id="aeb4" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#aws-elastic-container-registry-ecr" rel="noopener ugc nofollow" target="_blank"> AWS弹性容器注册(ECR) </a></li><li id="955f" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#aws-public-elastic-container-registry-ecr" rel="noopener ugc nofollow" target="_blank"> AWS公共弹性集装箱登记处</a></li><li id="979e" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#oci-oracle-cloud-infrastructure-registry-ocir" rel="noopener ugc nofollow" target="_blank"> OCI甲骨文云基础设施注册中心(OCIR) </a></li><li id="309a" class="nr ns iq lu b lv oa ly ob lf oc lj od ln oe mk nw nx ny nz bi translated"><a class="ae kv" href="https://github.com/docker/login-action#quayio" rel="noopener ugc nofollow" target="_blank"> Quay.io </a></li></ul><h2 id="a476" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">将Vue项目部署到GitHub页面</h2><div class="mv mw gp gr mx my"><a href="https://github.com/marketplace/actions/vue-to-github-pages" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">Vue到Github页面- GitHub市场</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">此操作将构建您的Vue项目，并将其部署到Github页面</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">github.com</p></div></div><div class="nh l"><div class="of l nj nk nl nh nm kp my"/></div></div></a></div><p id="a5aa" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated">动作<strong class="lu ir"><em class="mp">“Vue到GitHub页面”</em> </strong>用<a class="ae kv" href="https://github.com/xRealNeon/VuePagesAction/blob/main/action.yml#L42" rel="noopener ugc nofollow" target="_blank"> npm或yarn </a>构建Vue.js项目，<a class="ae kv" href="https://github.com/xRealNeon/VuePagesAction/blob/main/action.yml#L51" rel="noopener ugc nofollow" target="_blank">将项目部署为GitHub页面</a>。例如，我如何使用GitHub动作将我的Vue.js站点自动部署到GitHub页面<a class="ae kv" href="https://dev.to/juniordevforlife/how-i-use-github-actions-to-auto-deploy-my-vue-js-site-to-github-pages-49bf" rel="noopener ugc nofollow" target="_blank"> <em class="mp">和相应的<a class="ae kv" href="https://github.com/JasonFritsche/weather-vue" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>。</em></a></p><p id="5828" class="pw-post-body-paragraph ls lt iq lu b lv mq jr lx ly mr ju ma lf ms mc md lj mt mf mg ln mu mi mj mk ij bi translated"><em class="mp">更多内容看</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> <em class="mp">说白了就是</em> </strong> </a> <em class="mp">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> <em class="mp">免费每周简讯</em> </strong> </a> <em class="mp">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> <em class="mp">社区</em> </strong> </a> <em class="mp">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>