<html>
<head>
<title>7 RxJS Operators You Should Know About in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2022年你应该知道的7个RxJS运营商</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-rxjs-operators-you-should-know-about-in-2022-b561786e5915?source=collection_archive---------0-----------------------#2022-05-19">https://javascript.plainenglish.io/7-rxjs-operators-you-should-know-about-in-2022-b561786e5915?source=collection_archive---------0-----------------------#2022-05-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f517" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不要忽视这些有用的RxJS算子，它们可能是您角度应用的救星。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/77916916011f2e96fc3b7c4180d6e244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pwp0u_a14e1rSnCBatqmtA.png"/></div></div></figure><p id="6480" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我之前关于<strong class="kt ir"> RxJS </strong>的文章中，我分享了一些最常用的RxJS操作符，每个Angular开发者都应该知道。这些都是关键和必要的，你不能错过你的角度应用。如果你还没有看过这篇文章，一定要看看。</p><div class="ln lo gp gr lp lq"><a rel="noopener  ugc nofollow" target="_blank" href="/angular-rxjs-dont-let-it-be-your-enemy-make-it-your-best-friend-22e90640d0c1"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">遇见RxJS:2022年你在Angular最好的朋友</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">详细查看最常用的RxJS运算符。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kp lq"/></div></div></a></div><p id="a993" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇文章中，我将介绍一些最容易被忽视的操作符，Angular开发者没有充分利用这些操作符，但是它们有巨大的能力让Angular应用程序变得更好。</p><h1 id="345f" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">1.叉连接</h1><p id="d0bd" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">需要同时调用多个API来取静态数据并一起得到结果？您可以将它们合并到一个forkJoin操作符中，作为一个整体来管理响应，而不是调用单独的HTTP调用并分别管理它们。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/f057e99a19e95fd00359ce51c913d197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*dlt1fuNpvh7Buq5vpNWxfA.png"/></div></figure><p id="bd9f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想在对象中的标签下标记您的API请求，您可以将对象而不是数组传递给forkJoin操作符。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/718aa253ce3ee7d61865fcc7d0a6e9c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*b-81gjkBYrxfvYXTMrgHcg.png"/></div></figure><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/combination/forkjoin" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">叉连接</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">forkJoin错误如果您不执行以下操作，将会丢失任何其他本应完成或已经完成的观察值</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="ne l mb mc md lz me kp lq"/></div></div></a></div><h1 id="8f66" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">2.人种</h1><p id="9de4" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">你是否面临这样的情况:你需要比较两个可观察结果的时间戳，以确定哪个是第一个结果，并显示在你的网站上？您可以使用race operator返回发出结果的第一个可观察对象，而不是要求您的后端在您的API响应中包含时间戳或为每个API调用计时。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/24be3a232a0053104a6ae53c3d0b532e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2PlxFzoP0Z_pSVCDYRjnBw.png"/></div></div></figure><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/combination/race" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">人种</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">编辑描述</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="ng l mb mc md lz me kp lq"/></div></div></a></div><h1 id="4b7e" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">3.成对地</h1><p id="8bdd" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">是否需要将之前的可观察结果与当前的可观察结果进行比较来执行某些操作？别担心，你不需要声明和<code class="fe nh ni nj nk b">previous</code>和<code class="fe nh ni nj nk b">current</code>变量来比较它们。您可以使用成对运算符来获得数组中可观察对象的先前和当前结果，并直接比较它们。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/2ec10ed2504376dcf12d5596d969a7e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ohpBi4fsVaHIy3jiwZ_w5g.png"/></div></div></figure><p id="b63e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">💡这里有一个小提示，如果您已经将一个排放分配给一个可观察变量，以便在模板中使用异步管道来显示某些结果，您可以使用<code class="fe nh ni nj nk b">tap</code>或<code class="fe nh ni nj nk b">map</code>或其他条件运算符(<code class="fe nh ni nj nk b">distinct</code> / <code class="fe nh ni nj nk b">distinctUntilChanged</code> / <code class="fe nh ni nj nk b">distinctUntilKeyChanged</code>)来帮助您比较结果。</p><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/combination/pairwise" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">成对地</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">将以前和当前的值作为数组发出。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="nm l mb mc md lz me kp lq"/></div></div></a></div><h1 id="6b2c" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">4.减少</h1><p id="9256" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">您是否有这样的API响应，它要求您在返回结果之前做一些加法或数学运算，但您仍然希望遵守Angular遵循的可观察模式？您可以选择这两种方法，而不是传统的订阅结果的方法，并将值赋给一个变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/acacb649eb6bbd17509d4349da17a74f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q29DO229WI4Qt_0vh45leQ.png"/></div></div></figure><p id="498d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这两种方法都允许您不订阅结果，而只使用模板上的<code class="fe nh ni nj nk b">async</code>管道来获得您在显示中需要的结果。😀</p><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/transformation/reduce" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">减少</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">将源可观察值减少为源完成时发出的单个值。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="no l mb mc md lz me kp lq"/></div></div></a></div><h1 id="fb09" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">5.完成</h1><p id="4af6" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">您是否有一些需要在API调用成功时运行的代码，以及一些需要在异常发生时在catch error块中运行的代码？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a951bfcd675c4c52cc2231ede5bf6f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*jDaDINlXA0tquH2CvnO7zg.png"/></div></figure><p id="c10b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你的感觉和我一样吗？成功和错误块中有太多重复代码。在上面的例子中，我只管理了1个<code class="fe nh ni nj nk b">isLoading</code>变量。假设您在两个代码块中都要处理多个状态。更好的方法是使用<code class="fe nh ni nj nk b">finalize</code>，删除成功和错误块中的重复代码，并将这些代码放在<code class="fe nh ni nj nk b">finalize</code>块中，以便在API调用完成时运行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/8e9a8fc8a751b2a0de58d0298e8052cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*EMfcSpAAdzNuxdhLVgXLSw.png"/></div></figure><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/utility/finalize" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">最终确定</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">编辑描述</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="nr l mb mc md lz me kp lq"/></div></div></a></div><h1 id="6206" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">6.开关图</h1><p id="fa48" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">您是否有多个观察对象与获取最新客户记录列表的请求相关联？例如，将过滤器观察值、分页观察值或其他状态观察值放入一个<code class="fe nh ni nj nk b">combineLatest</code>中，根据所有不同的参数获取最新的记录列表。<code class="fe nh ni nj nk b">switchMap</code>可能是您在应用中需要的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/3b9edd1fdd0d37729d9844d58595d1cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*De5hWmCVZ3pHbMg7R7hvSA.png"/></div></div></figure><p id="53e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用<code class="fe nh ni nj nk b">switchMap</code>，在API调用完成之前对<code class="fe nh ni nj nk b">combineLatest</code>中任何参数的任何更新都将取消同一API调用的先前正在进行的网络请求。</p><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/transformation/switchmap" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">开关图</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">switchMap一次只维护一个内部订阅，这在</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="nt l mb mc md lz me kp lq"/></div></div></a></div><h1 id="e661" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">7.合并地图</h1><p id="c735" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">根据上面关于<code class="fe nh ni nj nk b">switchMap</code>的讨论，如果相反，当参数改变时，您的应用程序不想取消先前的API调用，您可以使用<code class="fe nh ni nj nk b">mergeMap</code>来确保所有活动的API调用将被完成，即使参数在<code class="fe nh ni nj nk b">combineLatest</code>块中改变。这个场景的用例是，如果您有多个将更新某个度量、日志或数据的侦听器，那么您会希望记录每个更改(每个更新API调用都要完成)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/824a1431d51526b03e8546d1723ca7b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PM470eeQ6X5Bb4ANeTOMFg.png"/></div></div></figure><div class="ln lo gp gr lp lq"><a href="https://www.learnrxjs.io/learn-rxjs/operators/transformation/mergemap" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">合并地图/平面地图</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">mergeMap同时维护多个活动的内部订阅，这有可能通过长时间的…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">www.learnrxjs.io</p></div></div><div class="lz l"><div class="nv l mb mc md lz me kp lq"/></div></div></a></div><h1 id="db5f" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">摘要</h1><p id="54a3" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">希望这篇文章拓宽了你的知识面，激发了你对<strong class="kt ir"> RxJS </strong>运算符的兴趣。你可能不知道在<strong class="kt ir"> RxJS </strong>的帮助下，你的应用程序中的一些东西可以被简化或变得更容易。学习曲线真的很陡，但是你的应用程序在更干净的代码和更好的性能方面的回报会更加明显。如果有其他<strong class="kt ir"> RxJS </strong>操作符经常被忽略但很有用，请在下面的评论中告诉我，我很想了解一下。干杯。</p><div class="ln lo gp gr lp lq"><a href="https://medium.com/@devjo/membership" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">用我的推荐链接- DevJo加入媒体</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">medium.com</p></div></div><div class="lz l"><div class="nw l mb mc md lz me kp lq"/></div></div></a></div><p id="5854" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nx">更多内容看</em> <a class="ae ny" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">说白了就是io </em> </strong> </a> <em class="nx">。报名参加我们的</em> <a class="ae ny" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">免费周报</em> </strong> </a> <em class="nx">。关注我们关于</em><a class="ae ny" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nx">Twitter</em></strong></a><em class="nx">和</em><a class="ae ny" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nx">LinkedIn</em></strong></a><em class="nx">。查看我们的</em> <a class="ae ny" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">社区不和谐</em> </strong> </a> <em class="nx">加入我们的</em> <a class="ae ny" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">人才集体</em> </strong> </a> <em class="nx">。</em></p></div></div>    
</body>
</html>