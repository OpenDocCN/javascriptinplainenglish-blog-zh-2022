<html>
<head>
<title>How Gatsby Works: A Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">盖茨比如何工作:指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-gatsby-works-9877b1b551c9?source=collection_archive---------15-----------------------#2022-01-05">https://javascript.plainenglish.io/how-gatsby-works-9877b1b551c9?source=collection_archive---------15-----------------------#2022-01-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/e4f92cbc412288c19b3d4b54af719398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*mCwIknpRXZt_q9j9yHEKlg.jpeg"/></div></figure><h1 id="a3d2" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">介绍</h1><p id="82ff" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">Gatsby是一个静态站点生成器和web应用程序。这是一个基于React的开源框架。我们想知道盖茨比是如何工作的。在以下情况下使用非常合适:</p><ul class=""><li id="9fb5" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">我们正在建立投资组合网站</li><li id="0ccc" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">博客</li><li id="43a1" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">公司主页。</li></ul><p id="6ad3" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated">下面是Gatsby中用于编译站点的两种模式。</p><ol class=""><li id="7346" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm mg lv lw lx bi translated"><strong class="kr io">开发:</strong>在开发模式下，我们用<code class="fe mh mi mj mk b">gatsby develop</code>命令运行</li><li id="6c58" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm mg lv lw lx bi translated"><strong class="kr io">构建:</strong>在构建模式下，我们用<code class="fe mh mi mj mk b">gatsby build</code>运行</li></ol><p id="356f" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated">Gatsby使开发人员能够从几乎任何内容或数据源快速获取和呈现内容。我们可以和盖茨比一起建网站；</p><ul class=""><li id="5b52" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">单一堆栈</li><li id="f6f0" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">无论我们的内容生活在哪里。</li><li id="4007" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">这使我们能够利用CMS的丰富内容工作流。</li><li id="2492" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">因此，它不会被锁定在特定于CMS的开发生态系统中。</li><li id="4500" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">不记得代码冻结</li><li id="6d88" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">Gatsby将内容和数据变更从开发工作流中分离出来。</li></ul><p id="cf7a" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated">在本帖中，我们将解释Gatsby的生命周期是如何工作的，以及Gatsby特定文件的用途。</p><h1 id="8863" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">描述</h1><p id="926f" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated"><a class="ae ml" href="https://www.technologiesinindustry4.com/" rel="noopener ugc nofollow" target="_blank"> Gatsby从我们提供的资源中提取数据，并为我们生成一个网站或应用程序。</a>需要安装节点来运行引导程序和构建序列。Gatsby利用Webpack构建并启动了一个开发服务器。盖茨比有三个阶段</p><ol class=""><li id="e577" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm mg lv lw lx bi translated">收集数据源</li><li id="ee13" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm mg lv lw lx bi translated">建筑物</li><li id="a806" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm mg lv lw lx bi translated">部署</li></ol><h1 id="c1eb" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">收集阶段</h1><ul class=""><li id="ca57" class="ln lo in kr b ks kt kw kx la mm le mn li mo lm lu lv lw lx bi translated"><a class="ae ml" href="https://www.technologiesinindustry4.com/" rel="noopener ugc nofollow" target="_blank">在此阶段，it将从来源收集数据。</a></li><li id="5049" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">来源是<code class="fe mh mi mj mk b">Databases/XML files/CSV</code> / <code class="fe mh mi mj mk b">Text files/JSON</code> / <code class="fe mh mi mj mk b">WordPress</code>什么的。</li></ul><h1 id="dbd5" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">建筑阶段</h1><ul class=""><li id="2830" class="ln lo in kr b ks kt kw kx la mm le mn li mo lm lu lv lw lx bi translated">一旦收集了数据，我们就可以在GraphQL的帮助下从源代码中访问它。</li><li id="44ad" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">我们可能不会改变现有的数据</li></ul><h1 id="e202" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">部署阶段</h1><ul class=""><li id="0131" class="ln lo in kr b ks kt kw kx la mm le mn li mo lm lu lv lw lx bi translated">我们可以建立开发后的应用程序。</li><li id="9945" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">我们可以在任何静态网站托管构建文件，如:</li><li id="99a1" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">亚马逊S3</li><li id="15ec" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">网络生活</li><li id="264f" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">Github页面</li><li id="2b2e" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">现在。上海和许多其他地方。</li></ul><p id="3840" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><strong class="kr io">盖茨比的生命周期</strong></p><p id="65f4" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated">以下三个序列组成了盖茨比的生命周期。</p><ol class=""><li id="6c7e" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm mg lv lw lx bi translated"><a class="ae ml" href="https://www.technologiesinindustry4.com/" rel="noopener ugc nofollow" target="_blank">自举</a></li><li id="682a" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm mg lv lw lx bi translated">建设</li><li id="6c68" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm mg lv lw lx bi translated">浏览器</li></ol><h1 id="4be9" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">主要特征</h1><ul class=""><li id="6941" class="ln lo in kr b ks kt kw kx la mm le mn li mo lm lu lv lw lx bi translated">支持Reactjs:  Gatsby支持Reactjs，这将帮助我们构建可重用的组件，并使事情更容易控制。</li><li id="132d" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io"> Webpack: </strong>这将有助于创建缩小和优化的捆绑包。</li><li id="b625" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io"> SCSS和CSS-in-JS: </strong> Gatsby支持SCSS，CSS-in-JavaScript库，允许我们更好地管理样式。</li><li id="4eac" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io">响应图像:</strong>调整由设备组成的图像的大小。</li><li id="ec6f" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io">600多个盖茨比插件:</strong>有很多盖茨比插件可供<code class="fe mh mi mj mk b">data sources/responsive-images/offline support/Mdx</code>和<code class="fe mh mi mj mk b">analytics</code>等使用。</li><li id="5ec2" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io">支持react和npm包:</strong>我们可以安装任何<code class="fe mh mi mj mk b">npm</code>包，可以在app中使用。</li><li id="016f" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io"> GraphQL: </strong> Gatsby从数据源收集数据，并通过GraphQL使其可用。数据源可以是任何东西<code class="fe mh mi mj mk b">databases/json/XML/wordpress</code>或<code class="fe mh mi mj mk b">text files</code>等。</li><li id="4d03" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><strong class="kr io">为用户提供更流畅的体验:</strong>它将通过其功能为应用程序增加流畅度，旨在借鉴PWA的完整应用程序式体验。</li></ul><h1 id="3689" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">盖茨比特定文件</h1><p id="e6b5" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated"><strong class="kr io">盖茨比-config.js </strong></p><ul class=""><li id="d14c" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">放置所有站点配置的地方，例如插件、元数据和聚合填充。</li><li id="c3e7" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">这个文件是我们应用程序的蓝图。</li><li id="0799" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">gatsby-config.js是我们运行<em class="mp"> $ gatsby develop </em>或<em class="mp"> $ gatsby build </em>时要读取和验证的初始文件</li></ul><p id="7b7f" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><strong class="kr io">盖茨比-node.js </strong></p><ul class=""><li id="c648" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">当我们开发或建立网站时，盖茨比会运行一个节点流程</li><li id="be95" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">它使用Webpack来启动一个带有热重载的开发服务器。</li><li id="9f5f" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">Gatsby会在节点进程中加载插件。</li><li id="2d0b" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">它将分析缓存、引导网站并构建数据模式。</li><li id="dc57" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">它将类似地创建页面，并处理不同的配置和数据管理。</li><li id="0bda" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">在引导和构建序列过程中发生的一切都在gatsby-node.js中观察到。</li><li id="7b09" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">这是动态创建由来自源插件的数据组成的页面的合适位置。</li></ul><p id="48dd" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><strong class="kr io">盖茨比-ssr.js </strong></p><ul class=""><li id="35d2" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">考虑服务器端呈现意味着我们会想到接受请求的服务器。</li><li id="2df2" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">动态构建页面并将它们发送给客户端。</li><li id="bd5e" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">盖茨比不执行。尽管它在服务器端渲染上执行。</li><li id="76e1" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">它在构建时创建所有页面。</li><li id="5f4c" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">Gatsby-ssr.js使开发人员能够进入这个生命周期。</li><li id="21df" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">大多数用例属于将CSS、HTML或Redux状态信息注入到创建的输出中。</li></ul><p id="30cb" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><strong class="kr io">盖茨比浏览器. js </strong></p><ul class=""><li id="1494" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">Gatsby是一个静态站点，在第一次加载后加载一个动态应用程序。</li><li id="55e0" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">这意味着我们在web应用程序中获得了静态站点的优势。</li><li id="b26f" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">gatsby-browser.js给出了处理app加载的便捷钩子。</li><li id="d822" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">它还提供路线更新、服务人员更新、滚动定位等等。</li><li id="f389" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">静态站点加载后发生的每一件事都可能在gatsby-browser.js中被钩住。</li></ul><h1 id="e842" class="jr js in bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">盖茨比入门</h1><p id="38d2" class="pw-post-body-paragraph kp kq in kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated"><strong class="kr io">先决条件</strong></p><ul class=""><li id="2585" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">Nodejs</li><li id="661e" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><a class="ae ml" href="https://www.technologiesinindustry4.com/" rel="noopener ugc nofollow" target="_blank">从https://nodejs.org/en/download/</a>下载</li></ul><p id="e015" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><strong class="kr io">安装gatsby cli </strong></p><pre class="mq mr ms mt gt mu mk mv mw aw mx bi"><span id="09ad" class="my js in mk b gy mz na l nb nc">npm i -g gatsby-cli</span></pre><ul class=""><li id="3e79" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">在创建一个网站之前，我们应该先了解盖茨比。</li><li id="d784" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">开胃菜只是样板。</li><li id="96c9" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">盖茨比的官方网站上有数百个样板或开胃菜。</li><li id="c401" class="ln lo in kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><a class="ae ml" href="https://www.technologiesinindustry4.com/" rel="noopener ugc nofollow" target="_blank">我们可以选择Gatsby starter作为；</a></li></ul><p id="6024" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><strong class="kr io">从starter创建新的gatsby站点</strong></p><pre class="mq mr ms mt gt mu mk mv mw aw mx bi"><span id="3bd4" class="my js in mk b gy mz na l nb nc">gatsby new {name_of_your_site} {starter-repo-link}</span></pre><ul class=""><li id="2d28" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">当<code class="fe mh mi mj mk b"> gatsby new</code>完成后，运行以下命令</li></ul><pre class="mq mr ms mt gt mu mk mv mw aw mx bi"><span id="24e2" class="my js in mk b gy mz na l nb nc">cd {name_of_your_site}<br/>gatsby develop</span></pre><ul class=""><li id="4215" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">项目结构如下所示:</li></ul><pre class="mq mr ms mt gt mu mk mv mw aw mx bi"><span id="1347" class="my js in mk b gy mz na l nb nc">/<br/>|-- /.cache<br/>|-- /plugins<br/>|-- /public<br/>|-- /src<br/>    |-- /pages<br/>|-- /static<br/>|-- gatsby-config.js<br/>|-- gatsby-node.js<br/>|-- gatsby-browser.js</span></pre><ul class=""><li id="762a" class="ln lo in kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">最后，现在我们可以检查我们的网站在本地主机:8000。</li></ul><p id="5746" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated">更多详情请访问:<a class="ae ml" href="https://www.technologiesinindustry4.com" rel="noopener ugc nofollow" target="_blank">https://www.technologiesinindustry4.com</a></p><p id="b48d" class="pw-post-body-paragraph kp kq in kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm ig bi translated"><em class="mp">更多内容请看</em><a class="ae ml" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="mp">plain English . io</em></a><em class="mp">。报名参加我们的</em> <a class="ae ml" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mp">免费每周简讯</em> </a> <em class="mp">。在我们的</em> <a class="ae ml" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="mp">社区不和谐</em> </a> <em class="mp">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>