<html>
<head>
<title>A Step-by-Step Guide to Git Branches</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git分支的分步指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-step-by-step-guide-to-git-branches-411baefd0104?source=collection_archive---------14-----------------------#2022-10-24">https://javascript.plainenglish.io/a-step-by-step-guide-to-git-branches-411baefd0104?source=collection_archive---------14-----------------------#2022-10-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5c2b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Git分支让我们管理新特性、错误修复和测试，与我们的主代码分开。让我们看看它们是如何工作的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7670fb2f47b20928dde1614ed7987245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjwGBYnww-mNePMUVvvG0Q.png"/></div></div></figure><p id="6e7c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我之前的git入门指南中，我简要介绍了git分支是如何工作的。例如，您可以使用<code class="fe lo lp lq lr b">git branch</code>命令创建新的分支。在本指南中，我们将深入探讨分支，以及如何有效地使用<code class="fe lo lp lq lr b">git branch</code>。</p><h1 id="d9d0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Git中的分支是什么？</h1><p id="4717" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">git中的分支基本上是指向一项开发工作的指针。他们让你从当前的代码基础中分支出来，这样你就可以从已经存在的代码中独立工作。下面，每个圆圈代表一个提交。每个分支都可以有自己的提交，并且它们都可以彼此独立地开发:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/1f85b6434df377d6960772b0c2d9eac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yqMXUg75CUHypVSJ.png"/></div></div></figure><p id="2d49" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上面，我们有两个分支，都是从主分支上的不同提交分支的。您的主分支是您在git项目中开始的第一个分支。分支基本上让你拿着你的工作，复制它，并单独工作。通过运行<code class="fe lo lp lq lr b">git branch x</code>，可以在提交历史中的任何时间点创建分支，其中<code class="fe lo lp lq lr b">x</code>是分支的名称:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="f543" class="mu lt iq lr b gy mv mw l mx my">git branch my-new-branch</span></pre><p id="8153" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在你发展的某个阶段，你可能会有很多分支。在这些情况下，您可以通过运行<code class="fe lo lp lq lr b">git branch --list</code>找到您的所有分支:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="64d7" class="mu lt iq lr b gy mv mw l mx my">git branch --list</span></pre><p id="d2b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意</strong>通过创建一个分支，你不会自动进入那个分支。要切换到一个分支，您必须使用<code class="fe lo lp lq lr b">git switch</code>显式地切换到它:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="d77d" class="mu lt iq lr b gy mv mw l mx my">git switch my-new-branch</span></pre><h1 id="8250" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">删除git中的分支</h1><p id="84b0" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">到最后，你可能会意识到你不再需要一个分支了。要删除一个分支，使用<code class="fe lo lp lq lr b">-d</code>选项。比如<code class="fe lo lp lq lr b">git branch -d my-branch</code>会删除<code class="fe lo lp lq lr b">my-branch</code>。</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="6c75" class="mu lt iq lr b gy mv mw l mx my">git branch -d my-branch</span></pre><h1 id="2c56" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">在git中重命名分支</h1><p id="55e3" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">您可以使用<code class="fe lo lp lq lr b">-m</code>命令重命名git中的一个分支。这将把当前的分支<strong class="kt ir">重命名为<code class="fe lo lp lq lr b">-m</code>之后的分支。例如，<code class="fe lo lp lq lr b">git branch -m new-branch</code>将当前分支重命名为<code class="fe lo lp lq lr b">new-branch</code>。</strong></p><h1 id="5bf5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">设置和删除远程分支</h1><p id="c34b" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">当您创建一个新分支并试图使用<code class="fe lo lp lq lr b">git push</code>推送到您的上游时，您可能会遇到问题，因为没有设置上游分支。您可以在这里做两件事:</p><ul class=""><li id="02eb" class="mz na iq kt b ku kv kx ky la nb le nc li nd lm ne nf ng nh bi translated">添加一个新的上游分支，将您的分支推到您的远程存储库。</li><li id="438b" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated">将本地计算机上的更改推送到已经存在的分支的上游。</li></ul><p id="f8c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这两种选择都适合你的情况。要在远程存储库上创建新的分支，只需运行<code class="fe lo lp lq lr b">git remote add</code>:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="661a" class="mu lt iq lr b gy mv mw l mx my">git remote add my-remote-branch <a class="ae ln" href="https://github.com/smpnjn/effective-guacamole.git" rel="noopener ugc nofollow" target="_blank">https://github.com/smpnjn/effective-guacamole.git</a></span></pre><p id="660f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将在您的远程存储库上创建一个名为<code class="fe lo lp lq lr b">my-new-branch</code>的分支。如果您本地计算机上的分支叫做<code class="fe lo lp lq lr b">my-branch</code>，您可以通过运行以下命令将<code class="fe lo lp lq lr b">my-branch</code>推送到您的远程分支<code class="fe lo lp lq lr b">my-remote-branch</code>:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="afab" class="mu lt iq lr b gy mv mw l mx my">git push --set-upstream my-remote-branch my-branch</span></pre><p id="2003" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您还可以通过运行以下命令来删除远程分支:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="4992" class="mu lt iq lr b gy mv mw l mx my">git push origin --delete my-remote-branch</span></pre><h1 id="7337" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">将分支合并到主分支中</h1><p id="6ae8" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">一旦您对您的分支进行了多次提交，您可能想要将它合并回主分支。为此，您应该首先使用<code class="fe lo lp lq lr b">git add</code>和<code class="fe lo lp lq lr b">git commit</code>向您的分支提交任何更改:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="aa69" class="mu lt iq lr b gy mv mw l mx my">git add -A<br/>git commit -m "My commit"</span></pre><p id="ff3b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，切换或检查回到主界面:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="9266" class="mu lt iq lr b gy mv mw l mx my">git checkout main</span></pre><p id="52f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可能想从远程获取任何东西，首先使用<code class="fe lo lp lq lr b">git pull</code>，但是最终在<code class="fe lo lp lq lr b">main</code>上我们可以使用<code class="fe lo lp lq lr b">git merge</code>合并代码。如果您的分支是<code class="fe lo lp lq lr b">my-branch</code>，您可以这样做:</p><pre class="kg kh ki kj gt mq lr mr ms aw mt bi"><span id="7cc1" class="mu lt iq lr b gy mv mw l mx my">git merge my-branch</span></pre><p id="5c33" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这可能会导致一些合并冲突，您需要检查并手动修复这些冲突，但是大多数现代代码编辑器(如Visual Studio Code)都有一个GUI来帮助您完成这些工作。否则，如果遇到合并冲突，您可以运行<code class="fe lo lp lq lr b">git diff</code>来诊断问题。有许多方法可以解决合并冲突，我们将在<code class="fe lo lp lq lr b">git merge</code>中介绍。如果你对解决<a class="ae ln" href="https://fjolt.com/article/git-merge-conflicts" rel="noopener ugc nofollow" target="_blank"> git合并冲突感兴趣，你可以在这里</a>了解更多。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="49a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">更多内容请看</em><a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">plain English . io</em></strong></a><em class="nu">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">免费周报</em> </strong> </a> <em class="nu">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">Twitter</em></strong></a><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">LinkedIn</em></strong></a><em class="nu"/><a class="ae ln" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">YouTube</em></strong></a><em class="nu"/><a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">不和</em> </strong> </a> <em class="nu">。对增长黑客感兴趣？检查</em> <a class="ae ln" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">电路</em> </strong> </a> <em class="nu">。</em></p></div></div>    
</body>
</html>