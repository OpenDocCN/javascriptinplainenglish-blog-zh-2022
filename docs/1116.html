<html>
<head>
<title>A Simple Way To Use Path Aliases in NestJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在NestJS中使用路径别名的简单方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-simple-way-to-use-path-aliases-in-nestjs-ab0db1be1545?source=collection_archive---------1-----------------------#2022-03-04">https://javascript.plainenglish.io/a-simple-way-to-use-path-aliases-in-nestjs-ab0db1be1545?source=collection_archive---------1-----------------------#2022-03-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f711" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用NestJS的路径别名(2022)</h2></div><p id="ac08" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在今天的文章中，我想简单解释一下如何在不破坏构建和测试的情况下在NestJS中使用路径别名。请记住，我会保持这个项目尽可能简单。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/ae6ff9c70afc1d776dc5a3048263a28d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCbIvAEwbHCT62CBLgfZxg.png"/></div></div></figure><p id="4144" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你不知道我在说什么:</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="cd84" class="ls lt iq lo b gy lu lv l lw lx"><strong class="lo ir">Original:</strong><br/>import CatModule from '../../cat/cat.module.ts'</span><span id="e00e" class="ls lt iq lo b gy ly lv l lw lx"><strong class="lo ir">Alias Path:</strong><br/>import CatModule from '@/cat/cat.module.ts'</span></pre><p id="ffae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如你所看到的，进口的路径变得更加清晰。</p><h1 id="53e2" class="lz lt iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">先决条件</h1><p id="45a4" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">需要对Node.js、TypeScript和PostgreSQL有一个基本的了解，它们已经安装在您的机器上。我会选择<a class="ae mv" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a>作为我的代码编辑器。你可以用你喜欢的任何东西。</p><h1 id="86da" class="lz lt iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">Nest.js应用程序</h1><p id="efdc" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">还是继续NestJS吧！我们将安装NestJS CLI，因此打开您选择的终端并键入:</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="164f" class="ls lt iq lo b gy lu lv l lw lx">$ npm i -g @nestjs/cli</span></pre><p id="5094" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用它的CLI初始化一个新的NestJS项目。这可能需要一分钟。“-p npm”标志意味着我们将选择npm作为我们的软件包管理器。如果你想选择另一个包管理器，只需去掉这个标志。</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="eb6a" class="ls lt iq lo b gy lu lv l lw lx">$ nest new nest-alias -p npm</span></pre><p id="76bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我们正在不同的目的地创建PlayerModule、PlayerController和helper函数。</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="fb05" class="ls lt iq lo b gy lu lv l lw lx">$ nest g mo player &amp;&amp; nest g co player --no-spec<br/>$ mkdir src/common &amp;&amp; mkdir src/common/helper<br/>$ touch src/common/helper/utils.helper.ts</span></pre><p id="a7d0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完成该命令后，您可以在代码编辑器中打开您的项目。由于我使用Visual Studio代码，我将通过键入以下命令打开项目:</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="7678" class="ls lt iq lo b gy lu lv l lw lx">$ cd nest-alias<br/>$ code .</span></pre><p id="8936" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的项目在VSCode (Visual Studio代码)中是这样的:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mw"><img src="../Images/303792109a737927dd7acd35303556ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yM97Ck79dC8fU-uD_pKArw.png"/></div></div></figure><p id="0b06" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，在修改PlayerModule之前，我们需要分三步调整Nest.js应用程序的配置。</p><h1 id="dfd8" class="lz lt iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">步骤1:在tsconfig.json中添加路径</h1><p id="4de0" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">首先，我们需要添加路径到我们的<code class="fe mx my mz lo b">tsconfig.json</code>文件，您可以在我们的根文件夹中找到它。因此，我们将把这个文件从:</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">tsconfig.json</figcaption></figure><p id="b51b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">tsconfig.json</figcaption></figure><p id="fecc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如你所见，我们只在底部添加了四行。现在我们需要为我们的测试配置做一些同样的事情。</p><h1 id="bf7e" class="lz lt iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">步骤2:将映射器添加到jest配置中</h1><p id="256e" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">其次，我们需要调整我们的<code class="fe mx my mz lo b">package.json</code>文件。</p><blockquote class="ng nh ni"><p id="70c3" class="kf kg nj kh b ki kj jr kk kl km ju kn nk kp kq kr nl kt ku kv nm kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>我只给你看package.json文件的JEST部分！不要改变那里的任何东西。</p></blockquote><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="3cd4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div></figure><h1 id="c627" class="lz lt iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">步骤3:将映射器添加到jest e2e配置中</h1><p id="926a" class="pw-post-body-paragraph kf kg iq kh b ki mq jr kk kl mr ju kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">最后但同样重要的是，我们需要调整我们的<code class="fe mx my mz lo b">test/jest-e2e.json</code>文件。让我们把它从:</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="1842" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">到</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="fa24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很好，现在我们完成了配置。现在，让我们通过赋予我们的应用程序一点生命来测试它。</p><p id="5160" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">前面，我们已经创建了一个名为<code class="fe mx my mz lo b">src/common/helper/utils.helpers.ts</code>的文件，让我们添加两个函数。函数<code class="fe mx my mz lo b">wait</code>只是一个延迟函数，函数<code class="fe mx my mz lo b">randomInt</code>返回一个整数。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">src/common/helper/utils.helpers.ts</figcaption></figure><p id="f6a3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们将在<code class="fe mx my mz lo b">src/player/player.controller.ts</code>中创造奇迹，这里我们以两种不同的方式添加两个助手函数，基于我们刚刚添加到Nest.js应用程序中的路径&amp;映射器配置。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">src/player/player.controller.ts</figcaption></figure><p id="b95f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如你所见，随机函数的实际路径是这样的:</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="542d" class="ls lt iq lo b gy lu lv l lw lx"><em class="nj">import { randomInt } from '../common/helper/utils.helper';</em></span></pre><p id="9597" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但现在是这样的:</p><pre class="lc ld le lf gt ln lo lp lq aw lr bi"><span id="a6e5" class="ls lt iq lo b gy lu lv l lw lx">import { randomInt } from '@Helper/utils.helper';</span></pre><p id="ae72" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们完了！别名路径更容易阅读，对吗？我已经在<a class="ae mv" href="https://github.com/hellokvn/medium-nest-alias-path" rel="noopener ugc nofollow" target="_blank"> Github </a>上传了这个应用。</p><p id="3630" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢你阅读我关于如何在Nest.js中添加路径别名的简短教程。我希望你能学到一些新东西。</p><p id="c2e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">干杯！</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="973e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我希望你喜欢读这篇文章。如果你愿意支持我成为一名作家，可以考虑注册<a class="ae mv" href="https://medium.com/@hellokevinvogel/membership" rel="noopener">成为</a>的媒体成员。每月只需5美元，你就可以无限制地使用Medium。</p><p id="4cc3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想支持我？<a class="ae mv" href="https://www.buymeacoffee.com/hellokevinvogel" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡。</a></p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h2 id="9dab" class="ls lt iq bd ma nu nv dn me nw nx dp mi ko ny nz mk ks oa ob mm kw oc od mo oe bi translated">接下来阅读</h2><div class="of og gp gr oh oi"><a href="https://blog.bitsrc.io/how-to-update-nest-js-ecd0e9466165" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">如何更新Nest.js</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">如何用你需要安装的两个包更新Nest.js？</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">blog.bitsrc.io</p></div></div><div class="or l"><div class="os l ot ou ov or ow ll oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://betterprogramming.pub/nest-js-project-with-typeorm-and-postgres-ce6b5afac3be" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">用TypeORM和Postgres构建Nest.js应用程序</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">使用Nest.js &amp; TypeORM创建可扩展的应用程序</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">better编程. pub</p></div></div><div class="or l"><div class="ox l ot ou ov or ow ll oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://betterprogramming.pub/how-to-use-data-transfer-objects-dto-for-validation-in-nest-js-7ff95309f650" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">如何在Nest.js中使用数据传输对象(DTO)进行验证</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">知道DTO是如何工作的吗</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">better编程. pub</p></div></div><div class="or l"><div class="oy l ot ou ov or ow ll oi"/></div></div></a></div><div class="of og gp gr oh oi"><a href="https://blog.bitsrc.io/solid-principles-in-typescript-153e6923ffdb" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">打字稿中的坚实原则</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">TypeScript对用JavaScript编写干净的代码产生了巨大的影响。但是总有办法…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">blog.bitsrc.io</p></div></div><div class="or l"><div class="oz l ot ou ov or ow ll oi"/></div></div></a></div><p id="ab02" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nj">更多内容看</em> <a class="ae mv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="nj">说白了就是io </em> </strong> </a> <em class="nj">。报名参加我们的</em> <a class="ae mv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="nj">免费周报</em> </strong> </a> <em class="nj">。关注我们关于</em><a class="ae mv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="nj">Twitter</em></strong></a><em class="nj">和</em><a class="ae mv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="nj">LinkedIn</em></strong></a><em class="nj">。加入我们的</em> <a class="ae mv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="nj">社区</em> </strong> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>