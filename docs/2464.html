<html>
<head>
<title>Understanding Template Variables in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解角度模板变量</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/understanding-template-variables-in-angular-506ae98d29?source=collection_archive---------4-----------------------#2022-06-09">https://javascript.plainenglish.io/understanding-template-variables-in-angular-506ae98d29?source=collection_archive---------4-----------------------#2022-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/c608e3e3d0eb9a91a2ababd38c8217ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCLo_Rp6tsiCTpr4_9J7bA.png"/></div></figure><div class=""/><p id="e1c9" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">模板变量是标记组件模板各部分的一种方式，以便它可以在模板的其他部分被引用。它们的工作方式类似于JavaScript中变量的工作方式，只存在于它们定义的范围内，并且能够引用几种类型的模板对象。</p><h2 id="d1b4" class="ks kt ix bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">定义模板变量</h2><p id="d245" class="pw-post-body-paragraph ju jv ix jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">要定义模板变量，只需使用散列符号:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="c268" class="ks kt ix lv b gy lz ma l mb mc">&lt;input #firstName type="text" placeholder="First Name"&gt;</span></pre><p id="1edb" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这个例子中，我们给了元素<code class="fe md me mf lv b">&lt;input&gt;</code>一个名字<code class="fe md me mf lv b">firstName</code>,我们可以用它在模板的其他部分引用它:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="55b4" class="ks kt ix lv b gy lz ma l mb mc">&lt;div&gt;Your name is: {{firstName.value}}&lt;/div&gt;</span></pre><p id="3fc6" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这将呈现输入元素的当前值，而不需要获取输入的值，或者将它存储在组件变量中。</p><p id="2706" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然而，模板变量不仅仅可以用于HTML元素。如果在组件上分配了一个变量，则可以使用该变量来引用组件实例。例如，将一个模板变量赋给一个<code class="fe md me mf lv b">ContactCard</code>组件将让我们在模板的其他部分引用它的可公开访问的属性:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="519e" class="ks kt ix lv b gy lz ma l mb mc">&lt;contact-card #myCard&gt;&lt;/contact-card&gt;<br/>&lt;div&gt;My name is: {{myCard.firstName}}&lt;/div&gt;</span></pre><p id="fb16" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">您也可以将一个分配给一个<code class="fe md me mf lv b">&lt;ng-template&gt;</code>，以便引用一个<code class="fe md me mf lv b">TemplateRef</code>。</p><h2 id="90a1" class="ks kt ix bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">指定名称的变量</h2><p id="46c7" class="pw-post-body-paragraph ju jv ix jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">在变量的右边指定一个名字允许我们引用带有那个<code class="fe md me mf lv b">exportAs</code>名字的指令。请考虑以下情况:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="38b8" class="ks kt ix lv b gy lz ma l mb mc">&lt;form id="myForm" #contactForm="ngForm"&gt;<br/>  ...<br/>&lt;/form&gt;<br/>&lt;div class="error-message"&gt;<br/>  The form is {{!contactForm.form.valid ? "not" : ""}} valid<br/>&lt;/div&gt;</span></pre><p id="54d5" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果没有在模板变量中指定“ngForm”，那么<code class="fe md me mf lv b">contactForm</code>将引用一个<code class="fe md me mf lv b">HTMLElement</code>。但是在这个例子中，它引用导出的<code class="fe md me mf lv b">ngForm</code>，允许我们调用<code class="fe md me mf lv b">contactForm.form.valid</code>来检查表单是否处于有效状态。</p><h2 id="def8" class="ks kt ix bd ku kv kw dn kx ky kz dp la kf lb lc ld kj le lf lg kn lh li lj lk bi translated">模板变量范围</h2><p id="b0f8" class="pw-post-body-paragraph ju jv ix jw b jx ll jz ka kb lm kd ke kf ln kh ki kj lo kl km kn lp kp kq kr ij bi translated">与JavaScript变量一样，模板变量也受到其定义范围的限制。范围存在于声明它们的模板中。然而，结构指令也创建了一个新的嵌套作用域。为了理解为什么，让我们看看Angular是如何解析指令的。考虑一个简单明了的<code class="fe md me mf lv b">ngFor</code>:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="ad41" class="ks kt ix lv b gy lz ma l mb mc">&lt;nav&gt;<br/>  &lt;ul&gt;<br/>    &lt;li *ngFor="let item of navItems"&gt;{{item.name}}&lt;/li&gt;<br/>  &lt;/ul&gt;<br/>&lt;/nav&gt;</span></pre><p id="7cc6" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这实际上是<code class="fe md me mf lv b">ngFor</code>指令的简写版本。查看长格式版本，我们可以看到这个指令是如何被分解成嵌套的<code class="fe md me mf lv b">ng-template</code>:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="e089" class="ks kt ix lv b gy lz ma l mb mc">&lt;nav&gt;<br/>  &lt;ul&gt;<br/>    &lt;ng-template ngFor let-item [ngForOf]="navItems"&gt;<br/>      &lt;li&gt;{{item.name}}&lt;/li&gt;<br/>    &lt;/ng-template&gt;<br/>  &lt;/ul&gt;<br/>&lt;/nav</span></pre><p id="d933" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，该指令中的模板变量将<strong class="jw iy">而不是</strong>在它之外是可访问的，如下例所示:</p><pre class="lq lr ls lt gt lu lv lw lx aw ly bi"><span id="7701" class="ks kt ix lv b gy lz ma l mb mc">&lt;input #navRef *ngIf="navItems.length &gt; 0" type="text"&gt;<br/>&lt;span&gt;{{navRef.value}}&lt;/span&gt;</span></pre><p id="98c5" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这个<strong class="jw iy">没有</strong>起作用，因为<code class="fe md me mf lv b">navRef</code>是在输入上的<code class="fe md me mf lv b">ngIf</code>创建的模板中声明的，因此在该指令之外是不可访问的。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="b738" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我希望这篇文章能为您提供开始有效使用模板变量所需的内容。欲了解更多信息:</p><div class="ip iq gp gr ir mn"><a href="https://angular.io/guide/template-reference-variables" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd iy gy z fp ms fr fs mt fu fw iw bi translated">有角的</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">Angular是一个构建移动和桌面web应用程序的平台。加入数百万开发者的社区…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">angular.io</p></div></div></div></a></div><p id="5260" class="pw-post-body-paragraph ju jv ix jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="mw">更多内容请看</em><a class="ae mx" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jw iy"><em class="mw">plain English . io</em></strong></a><em class="mw">。报名参加我们的</em> <a class="ae mx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jw iy"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae mx" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jw iy"><em class="mw">Twitter</em></strong></a><em class="mw">和</em><a class="ae mx" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jw iy"><em class="mw">LinkedIn</em></strong></a><em class="mw">。查看我们的</em> <a class="ae mx" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jw iy"> <em class="mw">社区不和谐</em> </strong> </a> <em class="mw">加入我们的</em> <a class="ae mx" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jw iy"> <em class="mw">人才集体</em> </strong> </a> <em class="mw">。</em></p></div></div>    
</body>
</html>