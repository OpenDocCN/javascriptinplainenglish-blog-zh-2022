<html>
<head>
<title>An Easier Way to Manage HTML DOM using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript管理HTML DOM的更简单方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/an-easier-way-to-manage-html-dom-using-javascript-14e23a9cd4e1?source=collection_archive---------11-----------------------#2022-04-18">https://javascript.plainenglish.io/an-easier-way-to-manage-html-dom-using-javascript-14e23a9cd4e1?source=collection_archive---------11-----------------------#2022-04-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e03b" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">为什么您应该将HTML代码生成方法作为最后的手段</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/66239e4375e70c843e4329e940cb3851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PKng2MIOcExrB24lQ1iBGQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@halacious?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Hal Gatewood</a> on <a class="ae ks" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9f23" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们雇佣新人，并在<a class="ae ks" href="http://freshbits.in" rel="noopener ugc nofollow" target="_blank"> Freshbits </a>对他们进行内部培训。很多我们自己的学习发生在我们教他们基本知识的时候。</p><p id="0c8c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">除此之外，我今天想分享的一个随机的<a class="ae ks" href="https://blog.freshbits.in/the-correct-way-to-pass-methods-as-event-handlers-in-javascript" rel="noopener ugc nofollow" target="_blank">基本事情</a>是关于使用JavaScript的HTML代码生成。</p><h2 id="f073" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">例句</strong></h2><p id="817f" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">我们让初学者给他们用JavaScript构建的HTML页面添加一些交互性。可能是:</p><ul class=""><li id="dd77" class="mn mo in kv b kw kx kz la lc mp lg mq lk mr lo ms mt mu mv bi translated">添加到电子商务页面上的购物车功能。</li><li id="fe6f" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">产品列表页面上的删除项目功能。</li><li id="107a" class="mn mo in kv b kw mw kz mx lc my lg mz lk na lo ms mt mu mv bi translated">在结帐页面上添加地址功能等。</li></ul><p id="f9a2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">像React、Vue或Angular这样的JavaScript框架还不在他们的教学大纲中。他们使用jQuery或普通JS进行这类开发。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/61796601452649eedcd90ded41e3a035.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/1*2WFEAfmEmcyBtSSv-uyp9w.gif"/></div></figure><p id="a4b1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有了手头的新机会和有限的工作经验，他们通常会兴奋地去争取，并想出如下的东西。</p><h2 id="8ff8" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">走老路💩</strong></h2><p id="e571" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">我将以我们最新的团队成员Utsav完成的代码为例。他的任务是编写<em class="nc">添加到购物车</em>功能的代码。正如我们所料，他是这样编写功能的:</p><pre class="kd ke kf kg gt nd ne nf ng aw nh bi"><span id="581f" class="lp lq in ne b gy ni nj l nk nl">function displayCart() {<br/>    // Abbreviating other stuff to focus on the core topic...<br/><br/>    for (let i = 0; i &lt; cart.length; i++) {<br/>        var imageTag = document.createElement('img');<br/>        imageTag.src = cart[i].img;<br/>        imageTag.setAttribute('class', 'w-10 h-10 object-cover rounded-md');<br/>        document.getElementById('cart-item-' + i).appendChild(imageTag);<br/><br/>        var nameTag = document.createElement('span');<br/>        nameTag.setAttribute('class', 'ml-4 font-semibold text-sm');<br/>        nameTag.innerHTML = cart[i].name;<br/>        document.getElementById('cart-item-' + id).appendChild(nameTag);<br/><br/>        var priceTag = document.createElement('div');<br/>        priceTag.innerHTML = cart[i].price;<br/>        document.getElementById('cart-item-' + id).appendChild(priceTag);<br/><br/>        var deleteTag = document.createElement('button');<br/>        deleteTag.setAttribute('class', 'px-3 py-1 rounded-md bg-red-300 text-white');<br/>        deleteTag.setAttribute('onclick', 'removeFromCart(' + cart[i].id + ')');<br/>        deleteTag.innerHTML = "x";<br/>        document.getElementById('cart-item-' + id).appendChild(deleteTag);<br/><br/>        // ...<br/>    }<br/>}</span></pre><p id="e97b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这种方法没有错。它只是<strong class="kv io">可读性和可维护性更差</strong>。如果我们想在这个购物车中添加更多的元素呢？如果我们想改变风格呢？</p><p id="5ac3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有些人可能认为jQuery可以让它变得更好。虽然那些长长的代码行会更短，但主要问题仍然存在:<em class="nc">管理最终HTML输出的变化</em></p><p id="b54e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">直接阅读和修改HTML更容易。让我们看看怎么做。</p><h2 id="e992" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">另一种方式🙅</strong></h2><p id="724f" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">我们可以将相同的示例重写如下:</p><pre class="kd ke kf kg gt nd ne nf ng aw nh bi"><span id="e5b9" class="lp lq in ne b gy ni nj l nk nl">function displayCart() {<br/>    // Abbreviating other stuff to focus on the core topic...<br/><br/>    for (let i = 0; i &lt; cart.length; i++) {<br/>        var cartItemHtml = [<br/>            '&lt;div id="cart-item-' + i + '"&gt;',<br/>                '&lt;img class="w-10 h-10 object-cover rounded-md" src="' + cart[i].img + '" /&gt;',<br/>                '&lt;span class="ml-4 font-semibold text-sm"&gt;' + cart[i].name + '&lt;/span&gt;',<br/>                '&lt;div&gt;' + cart[i].price + '&lt;/div&gt;',<br/>                '&lt;button class="px-3 py-1 rounded-md bg-red-300 text-white" onclick="removeFromCart(' + cart[i].id + ')"&gt;x&lt;/button&gt;',<br/>            '&lt;/div&gt;'<br/>        ].join("\n");<br/><br/>        // ...<br/>    }<br/>}</span></pre><p id="493d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在有了更好的可读性。我们可以看到最终的HTML会是什么样子。但是，HTML代码被合并到JavaScript中，所以我们不得不经常使用这些引用。更进一步是使HTML代码独立。</p><h2 id="1df8" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">更好的办法🤗</strong></h2><p id="b5d9" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">有一个<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template" rel="noopener ugc nofollow" target="_blank">模板</a> HTML标签默认不显示在页面上。我们可以用它来托管我们的HTML代码，比如:</p><pre class="kd ke kf kg gt nd ne nf ng aw nh bi"><span id="8714" class="lp lq in ne b gy ni nj l nk nl">&lt;template id="cart-item"&gt;<br/>    &lt;div&gt;<br/>        &lt;img class="w-10 h-10 object-cover rounded-md <!-- -->cart-item-image<!-- -->" /&gt;<br/>        &lt;span class="ml-4 font-semibold text-sm <!-- -->cart-item-name<!-- -->"&gt;&lt;/span&gt;<br/>        &lt;div class="<!-- -->cart-item-price<!-- -->"&gt;&lt;/div&gt;<br/>        &lt;button class="px-3 py-1 rounded-md bg-red-300 text-white <!-- -->cart-item-delete<!-- -->"&gt;x&lt;/button&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="18b4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">看起来代码很容易维护，对吗？现在我们如何在你问的JavaScript中使用它？</p><pre class="kd ke kf kg gt nd ne nf ng aw nh bi"><span id="d7d1" class="lp lq in ne b gy ni nj l nk nl">function displayCart() {<br/>    // Abbreviating other stuff to focus on the core topic...</span><span id="ea25" class="lp lq in ne b gy nm nj l nk nl">    var template = document.getElementById('cart-item');</span><span id="5089" class="lp lq in ne b gy nm nj l nk nl">for (let i = 0; i &lt; cart.length; i++) {<br/>        var cartItemTag = template.content.cloneNode(true);<br/><br/>        cartItemTag.querySelector("img.<!-- -->cart-item-image<!-- -->").src = cart[i].img; <br/>        cartItemTag.querySelector("span.<!-- -->cart-item-name<!-- -->").innerHTML = cart[i].name;<br/>        cartItemTag.querySelector("div.<!-- -->cart-item-price<!-- -->").innerHTML = cart[i].price;<br/>        cartItemTag.querySelector("button.<!-- -->cart-item-delete<!-- -->").onclick = function() { removeFromCart(cart[i].id) };<br/>    }<br/>}</span></pre><p id="5a8b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这样，我们的JavaScript可以直接针对模板内的每个元素，分别设置属性和内容。</p><p id="3a66" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有什么方法可以更进一步吗？如果你有任何想法，请分享。</p><h2 id="85c8" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">上发条</strong></h2><p id="3d97" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">这种学习主要是针对初学HTML和JavaScript的初学者。随着他们的发展，有更多的选择，比如使用<a class="ae ks" href="https://colorlib.com/wp/top-templating-engines-for-javascript" rel="noopener ugc nofollow" target="_blank">模板引擎</a>或者使用成熟的<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks" rel="noopener ugc nofollow" target="_blank"> JS框架</a>，在那里你管理数据，框架通过反应性来处理DOM更新。</p><p id="9aa8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">就是这样。如果您有一些生成HTML的JS代码，今天就尝试一下模板标签，让我们知道它的进展如何。另一边见。</p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><p id="1151" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nc">原发布于</em><a class="ae ks" href="https://blog.freshbits.in/an-easier-way-to-manage-html-dom-using-javascript" rel="noopener ugc nofollow" target="_blank"><em class="nc">https://blog . fresh bits . in</em></a><em class="nc">。</em></p><p id="8850" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nc">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nc">说白了。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。关注我们</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nc">Twitter</em></strong></a><em class="nc">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nc">LinkedIn</em></strong></a><em class="nc">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nc">社区</em> </strong> </a> <em class="nc">。</em></strong></a></p></div></div>    
</body>
</html>