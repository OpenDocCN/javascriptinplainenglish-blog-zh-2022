<html>
<head>
<title>How Web Page Sharing Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网页共享的工作原理</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-web-page-sharing-works-80ef78bd2e90?source=collection_archive---------15-----------------------#2022-08-30">https://javascript.plainenglish.io/how-web-page-sharing-works-80ef78bd2e90?source=collection_archive---------15-----------------------#2022-08-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a5f2af9a7f058143e757ffc284204880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z4kt_aCJNm4PoUzeVepdZA.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@sebastiandumitru" rel="noopener ugc nofollow" target="_blank">Sebastian Dumitru</a> on <a class="ae jz" href="https://unsplash.com/s/photos/hands" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d4ef" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">网络浏览就是把人们联系起来，就像诺基亚的标语一样。因此，我们经常有朋友互相分享好奇的页面。</p><p id="fdbe" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">分享页面链接可以有很多不同的方式，例如，鸽子邮件，但我猜你可能更喜欢一些messenger或社交网络应用程序。</p></div><div class="ab cl ky kz hr la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ig ih ii ij ik"><p id="9c72" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">应用程序为你的保留而战，这意味着一个人分享的链接应该是好奇的，漂亮的，有信息的。为此，应用程序会检测你信息中的链接，并尝试为它们创建预览。</p><figure class="lg lh li lj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lf"><img src="../Images/d5ac49ae1738084db9e4597af4e2c048.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpqldYG854C3v2fIaIBxCw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Naked Cake in Apps from <a class="ae jz" href="https://socialsharepreview.com/" rel="noopener ugc nofollow" target="_blank">https://socialsharepreview.com/</a></figcaption></figure><p id="56be" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这对你的网站有好处，因为它增加了点击和链接导航。</p><p id="f351" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一个正确的HTML文档已经有了一些元标签、标签标题等，它们在页面的标签上显示为标题。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="626a" class="lp lq in ll b gy lr ls l lt lu">&lt;title&gt;Medium&lt;/title&gt;</span></pre><figure class="lg lh li lj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lv"><img src="../Images/efb3a3f3fc414b6d55fca8291171cbf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kQHN2WWZe2jnqJkJ3D2wnw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Medium title</figcaption></figure><p id="21c2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">HTML也有元标签，比如描述、作者等等。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="b00b" class="lp lq in ll b gy lr ls l lt lu">&lt;meta name="description" content="In its most basic form, a story on Medium consists of a title and a body text."&gt;</span></pre><p id="4d29" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些标签在主场景—网页视图中是不可见的。它们只是为了元的目的，用于预览共享链接，屏幕阅读器等。</p><p id="7f46" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">每个meta标签都有一个名称和内容属性，就像JavaScript中的键/值对一样。</p><p id="4118" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了改善用户体验，已经使用<a class="ae jz" href="https://ogp.me/" rel="noopener ugc nofollow" target="_blank">开放图协议</a>开发了预览链接。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="0be5" class="lp lq in ll b gy lr ls l lt lu">&lt;meta property="og:title" content="The Rock" /&gt;<br/>&lt;meta property="og:type" content="video.movie" /&gt;<br/>&lt;meta property="og:url" content="https://www.imdb.com/title/tt0117500/" /&gt;<br/>&lt;meta property="og:image" content="https://ia.media-imdb.com/images/rock.jpg" /&gt;</span></pre><p id="1812" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是网络的发展比协议更快，足够大的应用程序可以拥有扩展的基本HTML和开放的图形标签，例如，<a class="ae jz" href="https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/abouts-cards" rel="noopener ugc nofollow" target="_blank">“Twitter:card”</a>或“vk:image”属性。</p><pre class="lg lh li lj gt lk ll lm ln aw lo bi"><span id="d386" class="lp lq in ll b gy lr ls l lt lu">...<br/>&lt;meta name="twitter:description" content="In its most basic form, a story on Medium consists of a title and a body text."&gt;<br/>&lt;meta name="twitter:site" content="<a class="ae jz" href="http://twitter.com/Medium" rel="noopener ugc nofollow" target="_blank">@Medium</a>"&gt;<br/>...</span></pre><figure class="lg lh li lj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/01da4f90dd3f8c0ab36135803eac6a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_W9UnynmV9Qi5kfkOW6SCA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">From <a class="ae jz" href="https://dinojoaocosta.medium.com/how-to-make-twitter-preview-your-website-links-5b20db98ac4f" rel="noopener">https://dinojoaocosta.medium.com/how-to-make-twitter-preview-your-website-links-5b20db98ac4f</a></figcaption></figure><h2 id="310a" class="lp lq in bd lx ly lz dn ma mb mc dp md kl me mf mg kp mh mi mj kt mk ml mm mn bi translated">因此，给你的站点添加链接预览的简单算法是:</h2><ol class=""><li id="1b73" class="mo mp in kc b kd mq kh mr kl ms kp mt kt mu kx mv mw mx my bi translated">添加HTML meta标签(标题、描述)；</li><li id="6959" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx mv mw mx my bi translated">为你的站点添加尽可能多的<a class="ae jz" href="https://ogp.me/" rel="noopener ugc nofollow" target="_blank">开放图元标签</a>(你可能不想支持每个场景或者没有足够的数据给某人，比如视频、音频、文章等)；</li><li id="f896" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx mv mw mx my bi translated">创建要维护的应用程序列表；</li><li id="e6dc" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx mv mw mx my bi translated">测试并向这些应用程序添加自定义标签。</li></ol><h1 id="8aef" class="ne lq in bd lx nf ng nh ma ni nj nk md nl nm nn mg no np nq mj nr ns nt mm nu bi translated"><strong class="ak">如何测试HTML预览？</strong></h1><p id="a403" class="pw-post-body-paragraph ka kb in kc b kd mq kf kg kh mr kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ig bi translated">测试HTML预览是很棘手的，因为要测试你的下一个HTML版本，你需要在网络中发布这个HTML(机器人无法到达你的localhost)。</p><p id="03ff" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">另一方面，如果你只是在生产中测试，机器人可以缓存你的坏预览，在修复这个问题后，你不能为地球上的每个应用程序重置缓存。</p><h2 id="96af" class="lp lq in bd lx ly lz dn ma mb mc dp md kl me mf mg kp mh mi mj kt mk ml mm mn bi translated">如何清除App的HTML解析缓存？</h2><p id="e37e" class="pw-post-body-paragraph ka kb in kc b kd mq kf kg kh mr kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ig bi translated">为了清除缓存，应用程序通常有自己的API。但是这些都不是标准化的，每个app都有它的机制。</p><h2 id="fb06" class="lp lq in bd lx ly lz dn ma mb mc dp md kl me mf mg kp mh mi mj kt mk ml mm mn bi translated">那又怎样？</h2><p id="a821" class="pw-post-body-paragraph ka kb in kc b kd mq kf kg kh mr kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ig bi translated">要开发和测试HTML链接预览，您可以只在与您在生产中使用的主机不同的主机上发布带有meta标签的空HTML。</p><h2 id="5828" class="lp lq in bd lx ly lz dn ma mb mc dp md kl me mf mg kp mh mi mj kt mk ml mm mn bi translated">工具？</h2><p id="483c" class="pw-post-body-paragraph ka kb in kc b kd mq kf kg kh mr kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ig bi translated">是啊！幸运的是，人类创造了扩展。其中一些向网络发布你的本地主机的元标签一小段时间，例如<a class="ae jz" href="https://chrome.google.com/webstore/detail/localhost-open-graph-chec/gcbnmkhkglonipggglncobhklaegphgn" rel="noopener ugc nofollow" target="_blank"> open graph checker </a>。</p><h1 id="db67" class="ne lq in bd lx nf ng nh ma ni nj nk md nl nm nn mg no np nq mj nr ns nt mm nu bi translated">JavaScript呢？</h1><p id="e755" class="pw-post-body-paragraph ka kb in kc b kd mq kf kg kh mr kj kk kl nv kn ko kp nw kr ks kt nx kv kw kx ig bi translated">社交网络和messenger应用程序不会从您的页面执行JavaScript。因此，如果您使用SPA(单页面应用程序)和JavaScript客户端执行(没有服务器端渲染)，那么您的JavaScript添加的漂亮的meta对爬虫程序来说是不可见的。你只能在你的HTML模板中添加一些静态的公共元。</p><p id="c439" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这对于一些有不同“对象”的网页来说是非常坏的消息，比如文章、电影、歌曲等，因为每个对象都有其独特的元，但是会有相同描述和图像的预览！</p><p id="d848" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">幸运的是，对于这个问题，我们有一些不同的酷的解决方案！</p><p id="db19" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些解决方案我们将在下一篇文章中考虑！敬请期待！</p><p id="d1d1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要在没有客户端JavaScript的情况下检查任何网页的HTML，您可以在<a class="ae jz" href="https://developer.chrome.com/docs/devtools/overview/" rel="noopener ugc nofollow" target="_blank"> ChromeDevTools </a>、(尝试F12)设置(然后尝试F1)、调试器部分—禁用JavaScript标志中禁用JavaScript。重新加载页面并检查HTML。</p><figure class="lg lh li lj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ny"><img src="../Images/6d106149736a8eb09f30e9ce17bf32e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-GUjUhFR7SxToCv8B-91w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Chrome Dev Tools</figcaption></figure><figure class="lg lh li lj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nz"><img src="../Images/a940c511732a72613c69c0c1afdaab0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyRb1buttlUiYT_Hm2b7BQ.png"/></div></div></figure><h1 id="0f47" class="ne lq in bd lx nf ng nh ma ni nj nk md nl nm nn mg no np nq mj nr ns nt mm nu bi translated">资源</h1><ul class=""><li id="a0b5" class="mo mp in kc b kd mq kh mr kl ms kp mt kt mu kx oa mw mx my bi translated">medium.com<a class="ae jz" href="http://medium.com" rel="noopener"/></li><li id="da81" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx oa mw mx my bi translated"><a class="ae jz" href="https://dinojoaocosta.medium.com/how-to-make-twitter-preview-your-website-links-5b20db98ac4f" rel="noopener">https://dinojoaocosta . medium . com/how-to-make-Twitter-preview-your-website-links-5b 20 db 98 AC 4f</a></li><li id="83a6" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx oa mw mx my bi translated"><a class="ae jz" href="https://socialsharepreview.com/" rel="noopener ugc nofollow" target="_blank">https://socialsharepreview.com/</a></li><li id="36ab" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx oa mw mx my bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Learn/HTML/Introduction _ to _ HTML/The _ head _ metadata _ in _ HTML</a></li><li id="4a84" class="mo mp in kc b kd mz kh na kl nb kp nc kt nd kx oa mw mx my bi translated"><a class="ae jz" href="https://ogp.me/" rel="noopener ugc nofollow" target="_blank">https://ogp.me/</a></li></ul><p id="4696" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">日安！</p><p id="efa2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ob">更多内容请看</em><a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ob">plain English . io</em></strong></a><em class="ob">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ob">免费周报</em> </strong> </a> <em class="ob">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ob">Twitter</em></strong></a><a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ob">LinkedIn</em></strong></a><em class="ob"/><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ob">YouTube</em></strong></a><em class="ob"/><a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ob">不和</em> </strong> </a> <em class="ob">。</em></p></div></div>    
</body>
</html>