<html>
<head>
<title>Declarative Codemods with ğŸŠPutout</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å£°æ˜æ€§ä»£ç æ¨¡å—ğŸŠè¾“å‡º</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/declarative-codemods-f9958a99e85e?source=collection_archive---------11-----------------------#2022-08-25">https://javascript.plainenglish.io/declarative-codemods-f9958a99e85e?source=collection_archive---------11-----------------------#2022-08-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/569bf780260c3a19a44c6cb8b390f840.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LH68hBRtC08RR6NKSw8XUQ.png"/></div></div></figure><p id="73f4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å—¨ä¼™è®¡ä»¬ï¼</p><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi kt"><img src="../Images/4930bd68c1bbc2932c665713fda97493.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/0*dL7ZSFedCRZ4y2rB.gif"/></div></figure><p id="9696" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æœ¬æ–‡åŸºäºæƒŠäººçš„<a class="ae ky" href="https://www.toptal.com/javascript/write-code-to-rewrite-your-code" rel="noopener ugc nofollow" target="_blank">â€œç¼–å†™ä»£ç é‡å†™æ‚¨çš„ä»£ç â€</a>æ–‡ç« ã€‚å®ƒå‘Šè¯‰æˆ‘ä»¬å…³äºâ€œ<strong class="jx io"> jscodeshift </strong>â€ï¼Œè¿™ä¸ªå·¥å…·æœ‰å¤šå¥½ï¼Œä»¥åŠå¦‚ä½•ç”¨å®ƒç¼–å†™<strong class="jx io"> codemods </strong>ã€‚</p><p id="dfe0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">â€œjscodeshiftâ€å¾ˆæ£’ï¼Œå®ƒåœ¨è®©<strong class="jx io"> codemods </strong>æµè¡Œèµ·æ¥æ–¹é¢åšå¾—å¾ˆå¥½ï¼Œä½†ç°åœ¨æ˜¯æ–°äººç™»åœºçš„æ—¶å€™äº†â€”â€ğŸŠ<a class="ae ky" href="https://github.com/coderaiser/putout" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">è¾“å‡º</strong> </a>ğŸ˜ã€‚</p><p id="f7c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">çœ‹çœ‹å§ï¼</p><h1 id="a11c" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">ç»ƒä¹ 1:åˆ é™¤å¯¹æ§åˆ¶å°çš„å‘¼å«</h1><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/b0d56494278c49872f0456e8ad575aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/0*tsP5fjWqTtR7FPJs.gif"/></div></figure><p id="ef2d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«å¤§é‡æ—¥å¿—çš„ä»£ç :</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="758e" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export</strong> <strong class="lz io">const</strong> sum = (a, b) =&gt; {<br/>  console.log('calling sum with', arguments);<br/>  <strong class="lz io">return</strong> a + b;<br/>};<br/>  <br/><strong class="lz io">export</strong> <strong class="lz io">const</strong> multiply = (a, b) =&gt; {<br/>  console.warn('calling multiply with',<br/>    arguments);<br/>  <strong class="lz io">return</strong> a * b;<br/>};<br/><br/><strong class="lz io">export</strong> <strong class="lz io">const</strong> divide = (a, b) =&gt; {<br/>  console.error(`calling divide with ${ arguments }`);<br/>  <strong class="lz io">return</strong> a / b;<br/>};<br/><br/><strong class="lz io">export</strong> <strong class="lz io">const</strong> average = (a, b) =&gt; {<br/>  console.log('calling average with ' + arguments);<br/>  <strong class="lz io">return</strong> divide(sum(a, b), 2);<br/>};</span></pre><p id="31eb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬æƒ³åˆ é™¤æ‰€æœ‰çš„<code class="fe mi mj mk lz b">console.log</code>è°ƒç”¨è¡¨è¾¾å¼ï¼Œå¹¶ä½¿ç”¨jscodeshiftæ¥å®ç°è¿™ä¸ªç›®çš„:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="9c0f" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export</strong> <strong class="lz io">default</strong> (fileInfo, api) =&gt; {<br/>  <strong class="lz io">const</strong> j = api.jscodeshift;<br/><br/>  <strong class="lz io">const</strong> root = j(fileInfo.source)<br/><br/>  <strong class="lz io">const</strong> callExpressions = root.find(j.CallExpression, {<br/>      callee: {<br/>        type: 'MemberExpression',<br/>        object: { type: 'Identifier', name: 'console' },<br/>      },<br/>    }<br/>  );<br/><br/>  callExpressions.remove();<br/><br/>  <strong class="lz io">return</strong> root.toSource();<br/>};</span></pre><p id="2d6d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¥½äº†ï¼Œç°åœ¨ğŸŠ<a class="ae ky" href="https://github.com/coderaiser/putout" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">è¾“å‡º</strong> </a>:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="cd88" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export const</strong> replace = () =&gt; ({<br/>    'console.__a(__args)': '',<br/>});</span></pre><p id="d06b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™å°±æ˜¯<a class="ae ky" href="https://github.com/coderaiser/putout/tree/master/packages/engine-runner#replacer" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> Replacer </strong> </a>ï¼Œdeclarativeçš„å†™æ³•codemodsã€‚å®ƒæœ‰ä»¥ä¸‹æ¨¡æ¿å˜é‡ğŸ¦<strong class="jx io">è¾“å‡ºè„šæœ¬</strong>:</p><ul class=""><li id="68b2" class="ml mm in jx b jy jz kc kd kg mn kk mo ko mp ks mq mr ms mt bi translated"><code class="fe mi mj mk lz b">__a</code> â€”æ˜¯è¯æ˜<code class="fe mi mj mk lz b">property</code>åœ¨<a class="ae ky" href="https://github.com/coderaiser/putout/blob/master/docs/the-book-of-ast.md#memberexpression" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">æˆå‘˜è¡¨è¾¾å¼</strong> </a>ä¸­çš„ä½ç½®çš„ä»»ä½•æ­£ç¡®ä»£ç ï¼›</li><li id="7272" class="ml mm in jx b jy mu kc mv kg mw kk mx ko my ks mq mr ms mt bi translated"><code class="fe mi mj mk lz b">__args</code> â€”ä»»ä½•ç±»å‹çš„ä»»ä½•æ•°é‡çš„è‡ªå˜é‡ï¼›</li></ul><p id="33e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å®ƒæ‰€åšçš„æ˜¯å°†å·¦ä¾§çš„<strong class="jx io">è¡¨è¾¾å¼</strong>æˆ–<strong class="jx io">è¯­å¥</strong>è½¬æ¢ä¸ºå³ä¾§çš„<strong class="jx io"> AST </strong>å¹¶è½¬æ¢ä¸ºå³ä¾§çš„<strong class="jx io"> AST </strong>ã€‚åœ¨å½“å‰æƒ…å†µä¸‹-åˆ é™¤èŠ‚ç‚¹ã€‚</p><blockquote class="mz na nb"><p id="207d" class="jv jw nc jx b jy jz ka kb kc kd ke kf nd kh ki kj ne kl km kn nf kp kq kr ks ig bi translated">ğŸ¦<a class="ae ky" href="https://github.com/coderaiser/putout/blob/master/docs/putout-script.md" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">è¾“å‡ºè„šæœ¬</strong> </a> â€”å…¼å®¹JavaScriptçš„è¯­è¨€ï¼Œä¸ºAST-templateä¸­çš„<code class="fe mi mj mk lz b"><a class="ae ky" href="https://github.com/coderaiser/putout/blob/master/docs/the-book-of-ast.md#identifier" rel="noopener ugc nofollow" target="_blank">Identifiers</a></code>å¢åŠ äº†é¢å¤–çš„å«ä¹‰ã€‚</p></blockquote><p id="b866" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å’Œç»“æœ:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="433e" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export const</strong> sum = (a, b) =&gt; {<br/>  return a + b;<br/>};<br/>  <br/><strong class="lz io">export const</strong> multiply = (a, b) =&gt; {<br/>  return a * b;<br/>};</span><span id="9dde" class="md la in lz b gy ng mf l mg mh"><strong class="lz io">export const</strong> divide = (a, b) =&gt; {<br/>  return a / b;<br/>};</span><span id="0d23" class="md la in lz b gy ng mf l mg mh"><strong class="lz io">export const</strong> average = (a, b) =&gt; {<br/>  return divide(sum(a, b), 2);<br/>};</span></pre><p id="7662" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨ä»¥ä¸‹ä½ç½®ç­¾å‡ºğŸŠ<a class="ae ky" href="https://putout.cloudcmd.io/#/gist/3c6af7f297a9e3712cfdde46c93ca648/00386b52a3476079a512756172ee585cf0a4c0f5" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">è¾“å‡ºç¼–è¾‘å™¨</strong> </a>å’Œè¾“å…¥<a class="ae ky" href="https://github.com/coderaiser/putout/tree/master/packages/plugin-remove-console#readme" rel="noopener ugc nofollow" target="_blank">@è¾“å‡º/æ’ä»¶-ç§»é™¤-æ§åˆ¶å°</a>ã€‚</p><h1 id="0996" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">ç»ƒä¹ 2:æ›¿æ¢å¯¼å…¥çš„æ–¹æ³•è°ƒç”¨</h1><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/aa5361019330a3e303f906dacad6ee64.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/0*BPFgWoMbH1vnE-Wh"/></div></figure><p id="0210" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç°åœ¨è®©æˆ‘ä»¬è§‚å¯Ÿè°ƒç”¨<code class="fe mi mj mk lz b">g.circleArea()</code>çš„ä»£ç :</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="3437" class="md la in lz b gy me mf l mg mh"><strong class="lz io">import</strong> g from 'geometry';<br/><strong class="lz io">import</strong> otherModule from 'otherModule';</span><span id="179c" class="md la in lz b gy ng mf l mg mh"><strong class="lz io">const</strong> radius = 20;<br/><strong class="lz io">const</strong> area = <strong class="lz io">g</strong>.<strong class="lz io">circleArea</strong>(radius);</span><span id="24a7" class="md la in lz b gy ng mf l mg mh">console.log(area === Math.pow(g.getPi(), 2) * radius);<br/>console.log(area === otherModule.circleArea(radius));</span></pre><p id="1fce" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬æƒ³æŠŠ<code class="fe mi mj mk lz b">circleArea</code>æ”¹æˆ<code class="fe mi mj mk lz b">getCircleArea</code>ã€‚ä»¥ä¸‹æ˜¯<strong class="jx io"> jscodeshift </strong>å¯ä»¥ç»™å‡ºçš„å»ºè®®:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="4f3c" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export</strong> <strong class="lz io">default</strong> (fileInfo, api) =&gt; {<br/>  <strong class="lz io">const</strong> j = api.jscodeshift;<br/>  <strong class="lz io">const</strong> root = j(fileInfo.source);<br/><br/>  <em class="nc">// find declaration for "geometry" import</em><br/>  <strong class="lz io">const</strong> importDeclaration = root.find(j.ImportDeclaration, {<br/>    source: {<br/>      type: 'Literal',<br/>      value: 'geometry',<br/>    },<br/>  });<br/><br/>  <em class="nc">// get the local name for the imported module</em><br/>  <strong class="lz io">const</strong> localName =<br/>    <em class="nc">// find the Identifiers</em><br/>    importDeclaration.find(j.Identifier)<br/>    <em class="nc">// get the first NodePath from the Collection</em><br/>    .get(0)<br/>    <em class="nc">// get the Node in the NodePath and grab its "name"</em><br/>    .node.name;<br/><br/>  <strong class="lz io">return</strong> root.find(j.MemberExpression, {<br/>      object: {<br/>        name: localName,<br/>      },<br/>      property: {<br/>        name: 'circleArea',<br/>      },<br/>    })<br/><br/>    .replaceWith(nodePath =&gt; {<br/>      <em class="nc">// get the underlying Node</em><br/>      <strong class="lz io">const</strong> { node } = nodePath;<br/>      <em class="nc">// change to our new prop</em><br/>      node.property.name = 'getCircleArea';<br/>      <em class="nc">// replaceWith should return a Node, not a NodePath</em><br/>      <strong class="lz io">return</strong> node;<br/>    })<br/><br/>    .toSource();<br/>};</span></pre><p id="8bc6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™æ˜¯ğŸŠ<strong class="jx io">è¾“å‡º</strong>ç‰ˆæœ¬:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="681c" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export const</strong> replace = () =&gt; ({<br/>    '__a.circleArea(__args)': '__a.getCircleArea(__args)',<br/>});</span></pre><p id="5dfa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦‚æœæˆ‘ä»¬éœ€è¦æ›´å¤šä¸å˜é‡å<code class="fe mi mj mk lz b">g</code>ç›¸å…³çš„æ£€æŸ¥:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="38a9" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export const</strong> match = () =&gt; ({<br/>    '__a.circleArea(__args)': ({__a}, path) =&gt; {<br/>        if (__a.name !== 'g')<br/>            return false;<br/>        <br/>        return true;<br/>    }<br/>});</span><span id="93b3" class="md la in lz b gy ng mf l mg mh"><strong class="lz io">export const</strong> replace = () =&gt; ({<br/>    '__a.circleArea(__args)': '__a.getCircleArea(__args)',<br/>});</span></pre><p id="7551" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe mi mj mk lz b">match</code>æ¡ä»¶åœ¨<code class="fe mi mj mk lz b">replace</code>ä¹‹å‰èµ·ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰è½¬æ¢çš„å‰ææ¡ä»¶ã€‚</p><p id="e814" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä»¥åŠæ£€æŸ¥<code class="fe mi mj mk lz b">import</code>ç»‘å®šçš„<code class="fe mi mj mk lz b">1 x 1</code> varianï¼Œç„¶å<a class="ae ky" href="https://github.com/coderaiser/putout/tree/master/packages/compare" rel="noopener ugc nofollow" target="_blank">æ¯”è¾ƒ</a>èŠ‚ç‚¹ã€‚</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="0b9a" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export const</strong> match = () =&gt; ({<br/>    '__a.circleArea(__args)': ({__a}, path) =&gt; {<br/>        const binding = path.scope.bindings[__a.name];<br/>        return compare(binding.path.parentPath, 'import __a from "geometry"');<br/>    }<br/>});</span><span id="c4d6" class="md la in lz b gy ng mf l mg mh"><strong class="lz io">export const</strong> replace = () =&gt; ({<br/>    '__a.circleArea(__args)': '__a.getCircleArea(__args)',<br/>});</span></pre><p id="6c89" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¯·æŸ¥çœ‹ğŸŠ<a class="ae ky" href="https://putout.cloudcmd.io/#/gist/3c6af7f297a9e3712cfdde46c93ca648/afe502ed2a184f781d44006450ce8198cf4dcf48" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">è¾“å‡ºç¼–è¾‘</strong> </a>ã€‚</p><p id="39af" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç»“æœå¦‚ä¸‹:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="3705" class="md la in lz b gy me mf l mg mh"><strong class="lz io">import</strong> g from 'geometry';<br/><strong class="lz io">import</strong> otherModule from 'otherModule';</span><span id="4d16" class="md la in lz b gy ng mf l mg mh"><strong class="lz io">const</strong> radius = 20;<br/><strong class="lz io">const</strong> area = <strong class="lz io">g</strong>.<strong class="lz io">getCircleArea</strong>(radius);</span><span id="54d7" class="md la in lz b gy ng mf l mg mh">console.log(area === Math.pow(g.getPi(), 2) * radius);<br/>console.log(area === otherModule.circleArea(radius));</span></pre><h1 id="4bcf" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">ç»ƒä¹ 3:æ›´æ”¹æ–¹æ³•ç­¾å</h1><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/d3d64497b7313dcd470867304eddf37a.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/0*NX5X6mT83DoSOCG2"/></div></figure><p id="01fc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è€Œä¸æ˜¯<code class="fe mi mj mk lz b">car.factory('white', 'Kia', 'Sorento', 2010, 50000, null, true);</code></p><p id="5830" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬æƒ³çœ‹çœ‹</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="6f38" class="md la in lz b gy me mf l mg mh"><strong class="lz io">const</strong> suv = car.factory({<br/>  color: 'white',<br/>  make: 'Kia',<br/>  model: 'Sorento',<br/>  year: 2010,<br/>  miles: 50000,<br/>  bedliner: null,<br/>  alarm: true,<br/>});</span></pre><p id="a91d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä»¥ä¸‹æ˜¯jscodeshiftå¯ä»¥ç»™å‡ºçš„å»ºè®®:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="5cf1" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export</strong> <strong class="lz io">default</strong> (fileInfo, api) =&gt; {<br/>  <strong class="lz io">const</strong> j = api.jscodeshift;<br/>  <strong class="lz io">const</strong> root = j(fileInfo.source);<br/><br/>  <em class="nc">// find declaration for "car" import</em><br/>  <strong class="lz io">const</strong> importDeclaration = root.find(j.ImportDeclaration, {<br/>    source: {<br/>      type: 'Literal',<br/>      value: 'car',<br/>    },<br/>  });<br/><br/>  <em class="nc">// get the local name for the imported module</em><br/>  <strong class="lz io">const</strong> localName =<br/>    importDeclaration.find(j.Identifier)<br/>    .get(0)<br/>    .node.name;<br/><br/>  <em class="nc">// current order of arguments</em><br/>  <strong class="lz io">const</strong> argKeys = [<br/>    'color',<br/>    'make',<br/>    'model',<br/>    'year',<br/>    'miles',<br/>    'bedliner',<br/>    'alarm',<br/>  ];<br/><br/>  <em class="nc">// find where `.factory` is being called</em><br/>  <strong class="lz io">return</strong> root.find(j.CallExpression, {<br/>      callee: {<br/>        type: 'MemberExpression',<br/>        object: {<br/>          name: localName,<br/>        },<br/>        property: {<br/>          name: 'factory',<br/>        },<br/>      }<br/>    })<br/>    .replaceWith(nodePath =&gt; {<br/>      <strong class="lz io">const</strong> { node } = nodePath;<br/><br/>      <em class="nc">// use a builder to create the ObjectExpression</em><br/>      <strong class="lz io">const</strong> argumentsAsObject = j.objectExpression(<br/><br/>        <em class="nc">// map the arguments to an Array of Property Nodes</em><br/>        node.arguments.map((arg, i) =&gt;<br/>          j.property(<br/>            'init',<br/>            j.identifier(argKeys[i]),<br/>            j.literal(arg.value)<br/>          )<br/>        )<br/>      );<br/><br/>      <em class="nc">// replace the arguments with our new ObjectExpression</em><br/>      node.arguments = [argumentsAsObject];<br/><br/>      <strong class="lz io">return</strong> node;<br/>    })<br/><br/>    <em class="nc">// specify print options for recast</em><br/>    .toSource({ quote: 'single', trailingComma: true });<br/>};</span></pre><p id="e41a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™æ˜¯ä¸€ä¸ªç®€çŸ­çš„å£°æ˜ğŸŠ<strong class="jx io">è¾“å‡º</strong>å˜é‡:</p><pre class="ku kv kw kx gt ly lz ma mb aw mc bi"><span id="ad65" class="md la in lz b gy me mf l mg mh"><strong class="lz io">export const</strong> replace = () =&gt; ({<br/>    'car.factory(__a, __b, __c, __d, __e, __f, __g)': `car.factory({<br/>        color: __a,<br/>        make: __b,<br/>        model: __c,<br/>        year: __d,<br/>        miles: __e,<br/>        badliner: __f,<br/>        alarm: __g,<br/>     })`<br/>});</span></pre><p id="1f09" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨ä»¥ä¸‹ä½ç½®ç­¾å‡ºğŸŠ<a class="ae ky" href="https://putout.cloudcmd.io/#/gist/f9161353c8bbcbbf98e1851c4d212190/20bd5886e2234a2bb680b667ab68e8e599d35735" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">è¾“å‡ºç¼–è¾‘</strong> </a>ã€‚</p><h1 id="2a95" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">é³</strong></h1><figure class="ku kv kw kx gt jo gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/835f7ea91ecad958886c43b90b1fbaae.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/0*KKoiOGszdcGUoD8q.gif"/></div></figure><p id="2872" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ­£å¦‚æ‚¨çœ‹åˆ°çš„ğŸŠåœ¨å£°æ˜æ€§ä»£ç æ¨¡å—çš„æ”¯æŒä¸‹ï¼Œè¾“å‡ºä¸ºä½ æä¾›äº†æ›´å¥½çš„ä½“éªŒã€‚å®ƒè¿˜å¸®åŠ©æ‚¨æµ‹è¯•æ‚¨çš„codemodså¹¶åœ¨ESLintç¯å¢ƒä¸­è¿è¡Œå®ƒä»¬ã€‚</p><p id="41e6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">â˜ï¸follow me on medium/@<a class="ae ky" href="https://medium.com/u/47c05fa2893e?source=post_page-----1782c6625d77--------------------------------" rel="noopener">code raiser</a>ï¼Œäº†è§£å¦‚ä½•æé«˜æ‚¨çš„ç¼–ç æŠ€èƒ½ğŸ˜ã€‚</p><p id="b629" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">â˜ï¸åœ¨GitHubä¸Šå¢åŠ äº†æ˜æ˜Ÿâ­ï¸ï¼Œè¿™å¾ˆæ¿€åŠ±äººï¼</p><p id="78a5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦‚æœä½ å–œæ¬¢æˆ‘æ­£åœ¨åšçš„äº‹æƒ…ï¼Œâ˜ï¸æ”¯æŒæˆ‘ã€‚</p><p id="8bc9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">â˜ï¸And:è®°ä½ï¼Œæˆ‘ä¼šä¸€ç›´åœ¨è¿™é‡Œè§£å†³ä½ å¯¹æˆ‘æå‡ºçš„ä»£ç çš„ä»»ä½•é—®é¢˜ğŸ˜‹ã€‚</p><p id="2747" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œç¥æ‚¨æœ‰ç¾å¥½çš„ä¸€å¤©ğŸ˜¸ï¼</p><p id="1848" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae ky" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">plain English . io</em></strong></a><em class="nc">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae ky" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nc">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="nc">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae ky" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">Twitter</em></strong></a><a class="ae ky" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">LinkedIn</em></strong></a><em class="nc"/><a class="ae ky" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">YouTube</em></strong></a><em class="nc"/><a class="ae ky" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">ä¸å’Œ</em> </strong> </a> <em class="nc">ã€‚</em></p></div></div>    
</body>
</html>