<html>
<head>
<title>More Stores to Save the Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ›´å¤šå•†åº—æ¥ä¿å­˜æ•°æ®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/more-stores-to-save-the-data-in-putout-plugins-2c014c5dda3?source=collection_archive---------29-----------------------#2022-01-27">https://javascript.plainenglish.io/more-stores-to-save-the-data-in-putout-plugins-2c014c5dda3?source=collection_archive---------29-----------------------#2022-01-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9578" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">äº†è§£è¿™ä¸ªä»£ç è½¬æ¢å™¨çš„æ’ä»¶ã€‚</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/7fbb2ab3831898b4edb68d5ec327921c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*U5iKapC68v9BR1XW.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk"><em class="ko">I hear the song of the nightingale.<br/>The sun is warm, the wind is mild,<br/>willows are green along the shore -<br/>Here no Ox can hide!<br/>What artist can draw that massive head,<br/>those majestic horns?<br/>Â© Zen Ten Bulls</em></figcaption></figure><p id="673b" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">å—¨ä¼™è®¡ä»¬ï¼<br/>ä»Šå¤©æˆ‘ä»¬æ¥è°ˆè°ˆä¸‡èƒ½ä»£ç è½¬æ¢å™¨çš„æ’ä»¶ã€‚</p><h1 id="1b43" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">ğŸ’ªé‡ç”¨-å¤åˆ¶-åˆå§‹åŒ–ç°åœ¨æ”¯æŒ<code class="fe md me mf mg b">MemberExpression</code></h1><p id="21e4" class="pw-post-body-paragraph kp kq in kr b ks mh jo ku kv mi jr kx ky mj la lb lc mk le lf lg ml li lj lk ig bi translated">ğŸŠ<a class="ae mm" href="https://github.com/coderaiser/putout" rel="noopener ugc nofollow" target="_blank"> <strong class="kr io">è¾“å‡º</strong> </a>è§„åˆ™<a class="ae mm" href="https://github.com/coderaiser/putout/tree/v24.5.0/packages/plugin-reuse-duplicate-init#putoutplugin-reuse-duplicate-init-" rel="noopener ugc nofollow" target="_blank"> <strong class="kr io">é‡ç”¨-å¤åˆ¶-åˆå§‹åŒ–</strong> </a>ç°åœ¨æ”¯æŒ<a class="ae mm" href="https://babeljs.io/docs/en/babel-types#memberexpression" rel="noopener ugc nofollow" target="_blank"> <strong class="kr io">æˆå‘˜è¡¨è¾¾å¼</strong> </a>ã€‚è¿˜æœ‰è¿™æ ·çš„ä»£ç :</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="779b" class="mr lm in mg b gy ms mt l mu mv">const {operator} = require('putout');<br/>const {replaceWith} = require('putout').operator</span></pre><p id="7d6d" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">å®ƒå°†å¾ˆå®¹æ˜“è½¬åŒ–ä¸º:</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="e676" class="mr lm in mg b gy ms mt l mu mv">const {operator} = require('putout');<br/>const {replaceWith} = operator</span></pre><h1 id="94f1" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">å•†åº—è¡—çš„æ–°äºº</h1><p id="1015" class="pw-post-body-paragraph kp kq in kr b ks mh jo ku kv mi jr kx ky mj la lb lc mk le lf lg ml li lj lk ig bi translated">å½“æ‚¨éœ€è¦å­˜å‚¨éå†æ•°æ®ä»¥å¤‡å°†æ¥å¤„ç†ï¼Œå¹¶å¸Œæœ›æ­£ç¡®å¤„ç†æ—¶:ä½¿ç”¨<code class="fe md me mf mg b"><a class="ae mm" href="https://github.com/coderaiser/putout/blob/master/packages/engine-runner/README.md#stores" rel="noopener ugc nofollow" target="_blank">Stores</a></code>ï¼Œè¿™æ˜¯é¦–é€‰çš„ä¿å­˜æ–¹å¼ğŸŠ<code class="fe md me mf mg b">Putout</code>æ•°æ®ã€‚<code class="fe md me mf mg b">traverse</code> initå‡½æ•°åªè°ƒç”¨ä¸€æ¬¡ï¼Œå…¶ä»–ä»»ä½•å¤„ç†å˜é‡çš„æ–¹å¼éƒ½å¾ˆå¯èƒ½å¯¼è‡´bugã€‚</p><p id="13ad" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">æœ‰ä¸¤ç§ç±»å‹çš„å•†åº—:</p><ul class=""><li id="b4c7" class="mw mx in kr b ks kt kv kw ky my lc mz lg na lk nb nc nd ne bi translated"><code class="fe md me mf mg b">âœ…<a class="ae mm" href="https://github.com/coderaiser/putout/tree/v23.2.0/packages/engine-runner#store" rel="noopener ugc nofollow" target="_blank">store</a></code> -å‘å¯¹è±¡å­˜å‚¨ç®€å•çš„å€¼ï¼›</li><li id="f019" class="mw mx in kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated"><code class="fe md me mf mg b">âœ…<a class="ae mm" href="https://github.com/coderaiser/putout/tree/v23.2.0/packages/engine-runner#liststore" rel="noopener ugc nofollow" target="_blank">listStore</a></code>å­˜å‚¨æ•°ç»„é¡¹ï¼›</li></ul><p id="805e" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†<code class="fe md me mf mg b"><a class="ae mm" href="https://github.com/coderaiser/putout/tree/v23.2.0/packages/engine-runner#upstore" rel="noopener ugc nofollow" target="_blank">upstore</a></code>ï¼Œå®ƒèƒ½å¤Ÿæ ¹æ®æ‚¨æä¾›çš„åç§°æ›´æ–°æ‚¨è¾“å…¥çš„ä¿¡æ¯ã€‚</p><p id="3361" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">ä¸‹é¢å°±æ¥åˆ†åˆ«è¯´ä¸€ä¸‹ã€‚</p><h1 id="cf07" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated"><code class="fe md me mf mg b">listStore</code></h1><p id="8655" class="pw-post-body-paragraph kp kq in kr b ks mh jo ku kv mi jr kx ky mj la lb lc mk le lf lg ml li lj lk ig bi translated">ä½¿ç”¨<code class="fe md me mf mg b">listStore</code>ä¿å­˜åˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚è®©æˆ‘ä»¬å‡è®¾æ‚¨æœ‰è¿™æ ·çš„ä»£ç :</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="9335" class="mr lm in mg b gy ms mt l mu mv">debugger;<br/>const hello = '';<br/>debugger;<br/>const world = '';</span></pre><p id="11f7" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">æˆ‘ä»¬æ¥å¤„ç†ä¸€ä¸‹ï¼</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="7ca8" class="mr lm in mg b gy ms mt l mu mv">module.exports.traverse = ({listStore}) =&gt; ({<br/>    'debugger'(path) {<br/>        listStore('x');<br/>    },<br/>    <br/>    Program: {<br/>        exit() {<br/>            console.log(listStore());<br/>            // returns<br/>            ['x', 'x'];<br/>            // for code<br/>            'debugger; debugger';<br/>        },<br/>    },<br/>});</span></pre><h1 id="44bf" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated"><code class="fe md me mf mg b">store</code></h1><p id="34a6" class="pw-post-body-paragraph kp kq in kr b ks mh jo ku kv mi jr kx ky mj la lb lc mk le lf lg ml li lj lk ig bi translated">å½“ä½ éœ€è¦<code class="fe md me mf mg b">key-value</code>æ—¶ï¼Œä½¿ç”¨<code class="fe md me mf mg b">store</code>:</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="c001" class="mr lm in mg b gy ms mt l mu mv">module.exports.traverse = ({push, store}) =&gt; ({<br/>    'debugger'(path) {<br/>        store('hello', 'world');<br/>        push(path);<br/>    },<br/>    <br/>    Program: {<br/>        exit() {<br/>            store();<br/>            // returns<br/>            ['world'];<br/>            <br/>            store.entries();<br/>            // returns<br/>            [['hello', 'world']];<br/>            <br/>            store('hello');<br/>            // returns<br/>            'world';<br/>        },<br/>    },<br/>});</span></pre><h1 id="fff1" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated"><code class="fe md me mf mg b">upstore</code></h1><p id="8be0" class="pw-post-body-paragraph kp kq in kr b ks mh jo ku kv mi jr kx ky mj la lb lc mk le lf lg ml li lj lk ig bi translated">å½“æ‚¨éœ€è¦æ›´æ–°å·²ç»ä¿å­˜çš„å€¼æ—¶ï¼Œä½¿ç”¨<code class="fe md me mf mg b">upstore</code>:</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="0a56" class="mr lm in mg b gy ms mt l mu mv">module.exports.traverse = ({push, store}) =&gt; ({<br/>    TSTypeAliasDeclaration(path) {<br/>        if (path.parentPath.isExportNamedDeclaration())<br/>            return;<br/>        <br/>        store(path.node.id.name, {<br/>            path,<br/>        });<br/>    },<br/>    <br/>    ObjectProperty(path) {<br/>        const {value} = path.node;<br/>        const {name} = value;<br/>        <br/>        store(name, {<br/>            used: true,<br/>        });<br/>    },<br/>    <br/>    Program: {<br/>        exit() {<br/>            for (const {path, used} of store()) {<br/>                if (used)<br/>                    continue;<br/>                <br/>                push(path);<br/>            }<br/>        },<br/>    },<br/>});</span></pre><h1 id="279d" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated"><code class="fe md me mf mg b">not-rule-</code>å‰ç¼€ä¸º<code class="fe md me mf mg b">Rules</code></h1><p id="39f1" class="pw-post-body-paragraph kp kq in kr b ks mh jo ku kv mi jr kx ky mj la lb lc mk le lf lg ml li lj lk ig bi translated">å½“æ‚¨ä½¿ç”¨ç‰¹å®šäºæ‚¨çš„é¡¹ç›®çš„<a class="ae mm" href="https://github.com/coderaiser/putout#rulesdir" rel="noopener ugc nofollow" target="_blank">è§„åˆ™</a>ï¼Œå¹¶ä¸”æ‚¨ä¸æƒ³å‘å¸ƒå®ƒä»¬(ä½†æ˜¯æƒ³å°†å®ƒä»¬ä¿å­˜åœ¨å­˜å‚¨åº“ä¸­)â€”â€”ä½¿ç”¨<code class="fe md me mf mg b">--rulesdir</code>:</p><pre class="kd ke kf kg gt mn mg mo mp aw mq bi"><span id="d4b1" class="mr lm in mg b gy ms mt l mu mv">putout --rulesdir rules</span></pre><p id="7d19" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">ç±»ä¼¼äºå®ƒåœ¨ğŸŠ<code class="fe md me mf mg b">Putout</code>ç›®å½•ä¸­çš„çŸ¥è¯†åº“<code class="fe md me mf mg b"><a class="ae mm" href="https://github.com/coderaiser/putout/tree/master/rules" rel="noopener ugc nofollow" target="_blank">/rules</a></code>ğŸ‰</p><p id="3d92" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">å½“ä½ éœ€è¦é‡ç”¨æŸäº›ä¸œè¥¿æ—¶ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰å‰ç¼€<strong class="kr io"> not-rule- </strong>çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¾‹å¦‚<strong class="kr io"> not-rule-common </strong>ï¼Œå®ƒå°†åœ¨å¤„ç†é€‰é¡¹é˜¶æ®µè¢«å¿½ç•¥ã€‚</p><p id="f157" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated">é‚£éƒ½æ˜¯ä¹¡äº²ä»¬ï¼ç¥ä½ æ„‰å¿«ï¼ŒğŸ¥³ï¼</p><p id="06ef" class="pw-post-body-paragraph kp kq in kr b ks kt jo ku kv kw jr kx ky kz la lb lc ld le lf lg lh li lj lk ig bi translated"><em class="nk">æ›´å¤šå†…å®¹çœ‹</em> <a class="ae mm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kr io"> <em class="nk">è¯´ç™½äº†ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae mm" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kr io"> <em class="nk">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="nk">ã€‚åœ¨æˆ‘ä»¬çš„</em> <a class="ae mm" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kr io"> <em class="nk">ç¤¾åŒºä¸å’Œè°</em> </strong> </a> <em class="nk">è·å¾—ç‹¬å®¶è·å–å†™ä½œæœºä¼šå’Œå»ºè®®ã€‚</em></strong></a></p></div></div>    
</body>
</html>