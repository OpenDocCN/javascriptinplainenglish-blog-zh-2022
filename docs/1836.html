<html>
<head>
<title>How to Set Time Delay in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中设置时间延迟？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-set-time-delay-in-javascript-4dc6d4ca5463?source=collection_archive---------1-----------------------#2022-04-23">https://javascript.plainenglish.io/how-to-set-time-delay-in-javascript-4dc6d4ca5463?source=collection_archive---------1-----------------------#2022-04-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a0d7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何在延迟后运行JavaScript代码的指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f1949b6cca4f970584bceff967ef3901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TvTkjYOSdcxNKHU_"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jonecohen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Johnny Cohen</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8702" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，我们希望在延迟之后运行一些JavaScript代码。</p><p id="e500" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解如何在JavaScript中设置时间延迟。</p><h1 id="a1d2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用setTimeout方法</h1><p id="f845" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以使用<code class="fe mp mq mr ms b">setTimeout</code>方法在延迟一段时间后运行代码。</p><p id="7f8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="e6b2" class="mx lt iq ms b gy my mz l na nb">setTimeout(() =&gt; {<br/>  console.log('hello world')<br/>}, 1000);</span></pre><p id="203e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将延迟后运行的回调作为第一个参数传入。</p><p id="7990" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将等待回调运行的延迟以毫秒为单位作为第二个参数。</p><p id="7d01" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们应该看到1秒钟后记录的<code class="fe mp mq mr ms b">'hello world'</code>。</p><h1 id="d081" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">在承诺中使用setTimeout函数</h1><p id="7454" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以在一个承诺中使用<code class="fe mp mq mr ms b">setTimeout</code>函数，这样我们就可以很容易地连续多次使用<code class="fe mp mq mr ms b">setTimeout</code>。</p><p id="1a6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们写道:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="a569" class="mx lt iq ms b gy my mz l na nb">const sleep = (ms) =&gt; {<br/>  return new Promise(resolve =&gt; setTimeout(resolve, ms));<br/>}</span><span id="affb" class="mx lt iq ms b gy nc mz l na nb">(async () =&gt; {<br/>  console.log("Hello");<br/>  await sleep(2000)<br/>  console.log("world");<br/>})()</span></pre><p id="50f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们创建了<code class="fe mp mq mr ms b">sleep</code>函数，它返回用<code class="fe mp mq mr ms b">Promise</code>构造函数创建的承诺。</p><p id="524e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们传入一个接受<code class="fe mp mq mr ms b">resolve</code>函数并使用<code class="fe mp mq mr ms b">resolve</code>函数调用<code class="fe mp mq mr ms b">setTimeout</code>的回调，以便解析承诺。</p><p id="9d2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">ms</code>是等待<code class="fe mp mq mr ms b">resolve</code>运行的延迟时间，单位为毫秒。</p><p id="e6d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以在下面的<code class="fe mp mq mr ms b">async</code>函数中使用它。</p><p id="4cf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们应该首先看到记录的<code class="fe mp mq mr ms b">'Hello'</code>。</p><p id="9b88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2秒钟后，<code class="fe mp mq mr ms b">'world'</code>被记录。</p><h1 id="67e4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="93b4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以用<code class="fe mp mq mr ms b">setTimeout</code>方法运行有时间延迟的代码。</p><p id="56db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要按顺序使用，我们可以把它包在一个承诺里。</p><p id="7b97" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">说白了就是</em> </strong> </a> <em class="nd">。报名参加我们的</em><strong class="ky ir"><em class="nd"/></strong><a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">免费每周简讯</em> </strong> </a> <em class="nd">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">Twitter</em></strong></a><em class="nd">和</em><strong class="ky ir"><em class="nd"/></strong><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">LinkedIn</em></strong></a><em class="nd">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">社区不和谐</em> </strong> </a> <em class="nd">。</em></p></div></div>    
</body>
</html>