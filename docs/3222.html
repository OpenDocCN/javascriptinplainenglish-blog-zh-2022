<html>
<head>
<title>Get the Week of the Year of a Given Date in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">获取JavaScript中给定日期的一年中的第几周</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-the-week-of-year-of-a-given-date-in-javascript-c8fe0d764b5d?source=collection_archive---------2-----------------------#2022-08-10">https://javascript.plainenglish.io/how-to-get-the-week-of-year-of-a-given-date-in-javascript-c8fe0d764b5d?source=collection_archive---------2-----------------------#2022-08-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f121" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本文中，我们将看看如何用JavaScript获取给定日期的星期。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/db29bf9d425d00bc9b20ef2706baac60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oDwrIvGQvu3XjkcF"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@tishkinakaterina?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ekaterina Tishkina</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0f46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，我们希望得到给定日期的一年中的星期。</p><p id="0e46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看看如何用JavaScript获取给定日期的星期。</p><h1 id="722d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用本地JavaScript日期方法</h1><p id="3170" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">获取给定日期的一年中的第几周的一种方法是使用JavaScript date方法来计算给定日期的一年中的第几周。</p><p id="f2a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="ea22" class="mu lt iq mq b gy mv mw l mx my">const now = new Date(2021, 3, 1);<br/>const onejan = new Date(now.getFullYear(), 0, 1);<br/>const week = Math.ceil((((now.getTime() - onejan.getTime()) / 86400000) + onejan.getDay() + 1) / 7);<br/>console.log(week)</span></pre><p id="7311" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有一个<code class="fe mz na nb mq b">now</code>日期，我们想从中获得一周中的哪一年。</p><p id="fafb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们创建<code class="fe mz na nb mq b">onejan</code>日期，与<code class="fe mz na nb mq b">now</code>是同一年的1月1日。</p><p id="cbd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们通过减去<code class="fe mz na nb mq b">now</code>和<code class="fe mz na nb mq b">onejan</code>的时间戳来计算一年中的星期。</p><p id="3c74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们用它除以86400000，得到两个日期之间的天数差。</p><p id="a185" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将一周中的某一天加上1，得到实际的天数差。</p><p id="d6ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们除以7，得到周数差。</p><p id="d8df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们用<code class="fe mz na nb mq b">Math.ceil</code>将这个数字四舍五入到最接近的整数。</p><p id="2407" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，<code class="fe mz na nb mq b">week</code>为14。</p><h1 id="a79a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用Moment.js</h1><p id="5a70" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">从给定日期获取一年中的周数的一个更简单的方法是使用moment.js。</p><p id="5e4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了使用它，我们写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="a08a" class="mu lt iq mq b gy mv mw l mx my">const now = new Date(2021, 3, 1);<br/>const week = moment(now).format('W')<br/>console.log(week)</span></pre><p id="553d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将<code class="fe mz na nb mq b">now</code>日期传递给<code class="fe mz na nb mq b">moment</code>来创建一个moment对象。</p><p id="9537" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们调用带有<code class="fe mz na nb mq b">'W'</code>格式化标签的<code class="fe mz na nb mq b">format</code>来获取<code class="fe mz na nb mq b">now</code>年中的星期。</p><p id="2448" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">向下取整，所以<code class="fe mz na nb mq b">week</code>是13。</p><h1 id="d580" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="38a2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以使用JavaScript日期方法或moment.js来获取一年中的星期。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="d6e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nj">更多内容请看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">免费周报</em> </strong> </a> <em class="nj">。关注我们关于</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">推特</em> </strong> </a>，<a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">领英</em> </strong> </a> <em class="nj">，</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">不和</em> </strong> </a> <em class="nj">。</em></strong></a></p></div></div>    
</body>
</html>