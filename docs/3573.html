<html>
<head>
<title>Building a Circle Packing Chart with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript构建圆形包装图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-circle-packing-chart-with-javascript-2ec9d4e51dc6?source=collection_archive---------10-----------------------#2022-09-08">https://javascript.plainenglish.io/building-a-circle-packing-chart-with-javascript-2ec9d4e51dc6?source=collection_archive---------10-----------------------#2022-09-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a116b5029255b379c83b7230e1648ace.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*slg0Ro5BdTVxF_pI.png"/></div></div></figure><p id="10ef" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">圆形包装图</strong>是一种常见的数据可视化技术，用于通过嵌套的圆形来表示分层组织的数据。由于与使用嵌套矩形的<a class="ae kt" href="https://www.anychart.com/chartopedia/chart-type/treemap/" rel="noopener ugc nofollow" target="_blank">树形图</a>相似，有时它被称为圆形树形图。美国数学家威廉·瑟斯顿于1985年将圆填充引入数据分析，它极大地揭示了数据的层次结构。</p><p id="b4a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我想展示如何在JavaScript的帮助下轻松构建一个优雅的交互式圆形包装图！在这个循序渐进的教程中，我们将根据福布斯亿万富翁排行榜，按国家和行业列出2022年世界上最富有的100个人。所以，收拾好你的行李，做好准备，因为你的大脑会变得稍微丰富一些！</p><h1 id="8918" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">圈出将要创建的包装图</h1><p id="7d75" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">让我演示一下我们的JavaScript circle包装图完成后的样子。而且会互动！一旦你完成本教程，你将完全有能力在你自己的圆形包装图中快速可视化你自己的数据。</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/7cf2f9ec0635b68a1a7252e09b398528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mYen17jSX-9LRxa4.png"/></div></div></figure><p id="2cb1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，让我们开始制作吧！</p><h1 id="e35d" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">用JavaScript实现基本圆形包装图</h1><p id="a58c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">尽管这不是必需的，但是掌握一些HTML、CSS和JavaScript的知识会让你更容易理解这些概念。不过，就算你是个彻头彻尾的新手，也没必要慌张。当我们完成时，你将学会如何自己制作圆形包装图，因为我们将深入检查每个步骤。</p><p id="63c5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">任何JavaScript图表，包括我们的圆形包装图，都可以通过四个常规步骤创建:</p><ol class=""><li id="eef4" class="mc md in jx b jy jz kc kd kg me kk mf ko mg ks mh mi mj mk bi translated">准备一个网页。</li><li id="46c4" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">包括所有必要的JS文件。</li><li id="eb4d" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">加载您的数据。</li><li id="74d2" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">写一些JavaScript图表代码。</li></ol><p id="abd6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们更详细地探索这些步骤，以准备一个惊人的基于JS的交互式圆形包装图。</p><h2 id="f9c3" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">1.准备网页</h2><p id="e549" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">首先，我们需要一个圆形包装图的位置。</p><p id="e6c6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你还没有网页，就建立一个。在那里，通过添加一个具有唯一ID的HTML块元素来创建一个容器。此外，为该元素指定一些CSS规则，以定义图表的显示方式。</p><p id="de06" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以下是我的HTML页面的外观:</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="07a2" class="mq kv in nd b gy nh ni l nj nk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;Circle Packing Chart in JavaScript&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; <br/>        height: 100%; <br/>        margin: 0; <br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="e736" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我的例子中，block元素是<code class="fe nl nm nn nd b">&lt;div&gt;</code>。它的ID是<code class="fe nl nm nn nd b">container</code>。将<code class="fe nl nm nn nd b">width</code>和<code class="fe nl nm nn nd b">height</code>属性设置为100%，将<code class="fe nl nm nn nd b">margin</code>和<code class="fe nl nm nn nd b">padding</code>设置为0，会使圆形包装图出现在整个页面中；但是你可以根据自己的情况来定义所有你认为合适的东西。</p><h2 id="65d1" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">2.包括所有必要的JS文件</h2><p id="9d06" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">接下来，我们需要在<code class="fe nl nm nn nd b">&lt;head&gt;</code>部分引用所有必要的JavaScript文件。</p><p id="3d42" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当你<a class="ae kt" href="https://www.anychart.com/blog/2017/03/05/how-to-choose-the-right-javascript-charting-component-10-factors-you-have-to-consider/" rel="noopener ugc nofollow" target="_blank">利用正确的数据可视化工具</a>时，创建一个圆形包装图将不会像想象中那么困难或耗时。对于本教程，我选择使用<a class="ae kt" href="https://www.anychart.com/" rel="noopener ugc nofollow" target="_blank"> AnyChart JS图表</a>。它是少数几个支持开箱即用的circle packing charts的JavaScript图表库之一，并且对初学者友好，因为它提供了大量现成可用的<a class="ae kt" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank">示例</a>，并且有完整的<a class="ae kt" href="https://docs.anychart.com/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="4c40" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要添加所需的JavaScript文件，我们有两种选择:本地下载或从内容交付网络(CDN)使用。让我们选择第二个。添加用于制图的<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Modules#core" rel="noopener ugc nofollow" target="_blank">核心</a>和<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Modules#circle_packing" rel="noopener ugc nofollow" target="_blank">圆包装</a>脚本。此外，如果您要可视化文件中的数据，就像我在这种情况下一样，包括<a class="ae kt" href="https://docs.anychart.com/Working_with_Data/Data_Adapter/Overview" rel="noopener ugc nofollow" target="_blank">数据适配器</a>模块以方便数据加载。JS代码本身将被放在<code class="fe nl nm nn nd b">&lt;body&gt;</code>部分的<code class="fe nl nm nn nd b">&lt;script&gt;</code>标签中(也可以在<code class="fe nl nm nn nd b">&lt;head&gt;</code>部分设置)。</p><p id="82ca" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是我当前的HTML页面:</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="9633" class="mq kv in nd b gy nh ni l nj nk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;Circle Packing Chart in JavaScript&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-circle-packing.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; <br/>        height: 100%; <br/>        margin: 0; <br/>        padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="nd io"><em class="no">      // The JS Circle Packing Chart’s code will be written here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="d8e3" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">3.加载您的数据</h2><p id="4001" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">现在是添加数据的时候了。</p><p id="459c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我想可视化福布斯最富有的人的排名数据，<a class="ae kt" href="https://www.forbes.com/billionaires/" rel="noopener ugc nofollow" target="_blank">福布斯亿万富翁2022 </a>，其中包括他们的净资产，国家，财富来源和行业的信息。我已经从上面的链接中提取了100个最富有的人的数据，并保存在一个<a class="ae kt" href="https://gist.githubusercontent.com/awanshrestha/ff3ae5c08238b1f4f950f022aaad2f6f/raw/3766915befaeea7a32f3d41fdc2ece110e7543d7/circle-packing-chart.json" rel="noopener ugc nofollow" target="_blank"> JSON文件</a>中。(可以随意使用其他<a class="ae kt" href="https://docs.anychart.com/Working_with_Data/Supported_Data_Formats" rel="noopener ugc nofollow" target="_blank">支持的数据格式</a>，只要确保数据的设置方式符合<a class="ae kt" href="https://docs.anychart.com/Basic_Charts/Circle_Packing_Chart#data" rel="noopener ugc nofollow" target="_blank">圆形包装图</a>的数据说明。)</p><p id="5214" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了正确加载数据，准备使用<code class="fe nl nm nn nd b">anychart.data.loadJsonFile()</code>功能。像这样:</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="8c65" class="mq kv in nd b gy nh ni l nj nk">anychart.data.loadJsonFile('https://gist.githubusercontent.com/awanshrestha/ff3ae5c08238b1f4f950f022aaad2f6f/raw/3766915befaeea7a32f3d41fdc2ece110e7543d7/circle-packing-chart.json');</span></pre><p id="ccc9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，只剩下几行JavaScript代码来完成圆形包装图！</p><h2 id="b428" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">4.编写一些JavaScript图表代码</h2><p id="ae3b" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">最后，我们需要一些JavaScript代码来创建圆形包装图。</p><p id="9766" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">添加<code class="fe nl nm nn nd b">anychart.onDocumentReady()</code>函数，它将包含整个图表的JS代码。它确保代码在页面完全加载之前不会运行。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="09da" class="mq kv in nd b gy nh ni l nj nk">&lt;script&gt;<br/>   anychart.onDocumentReady(function () {<br/>  <strong class="nd io"><em class="no">   // The JS Circle Packing Chart's code will be written here.<br/></em></strong>&lt;/script&gt;</span></pre><p id="605b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如步骤3所示加载JSON数据文件，并添加数据。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="2df5" class="mq kv in nd b gy nh ni l nj nk">&lt;script&gt;<br/> <br/>  anychart.onDocumentReady(function () {<br/>  <br/><strong class="nd io"><em class="no">    // load a json data file<br/></em></strong>anychart.data.loadJsonFile('https://gist.githubusercontent.com/awanshrestha/ff3ae5c08238b1f4f950f022aaad2f6f/raw/3766915befaeea7a32f3d41fdc2ece110e7543d7/circle-packing-chart.json',<br/>      function(data) {<br/> <br/><strong class="nd io"><em class="no">        // add the data<br/></em></strong>        var treeData = anychart.data.tree(data, 'as-table');<br/> <br/>      }<br/>    );</span><span id="3f0f" class="mq kv in nd b gy np ni l nj nk">  });</span><span id="298e" class="mq kv in nd b gy np ni l nj nk">&lt;/script&gt;</span></pre><p id="76f9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<code class="fe nl nm nn nd b">circlePacking()</code>函数创建一个圆形包装图实例，将数据集传递给它。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="dd1f" class="mq kv in nd b gy nh ni l nj nk"><strong class="nd io"><em class="no">// create a circle packing chart instance<br/></em></strong>var chart = anychart.circlePacking(treeData);</span></pre><p id="f021" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，给图表一个标题，将它放入之前指定的容器中，并使用<code class="fe nl nm nn nd b">draw()</code>命令显示它。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="93f4" class="mq kv in nd b gy nh ni l nj nk"><strong class="nd io"><em class="no">// add a chart title<br/></em></strong>chart.title("Forbes Top 100 Richest people");<br/><strong class="nd io"><em class="no">// specify the container element id<br/></em></strong>chart.container('container')<br/><strong class="nd io"><em class="no">// initiate the drawing of the chart<br/></em></strong>chart.draw();</span></pre><p id="7156" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Tada！基于JavaScript的圆形包装图准备好了！</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/76923d9c2908416ba99c5e74b46c8deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DIzHZSZd8Mp8aYDAlTXI1A.png"/></div></div></figure><p id="2a32" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在<a class="ae kt" href="https://playground.anychart.com/U15jLGZ6" rel="noopener ugc nofollow" target="_blank"> AnyChart Playground </a>图表上找到这个简单的JavaScript圆形包装图的交互版本以及源代码。请随意尝试。</p><p id="06fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了您的方便，我还会将完整的圆形包装图代码放在下面。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="8846" class="mq kv in nd b gy nh ni l nj nk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;Circle Packing Chart in JavaScript&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-circle-packing.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="8bab" class="mq kv in nd b gy np ni l nj nk">      anychart.onDocumentReady(function () {<br/>  <br/><strong class="nd io"><em class="no">        // load a json data file<br/></em></strong>anychart.data.loadJsonFile('https://gist.githubusercontent.com/awanshrestha/ff3ae5c08238b1f4f950f022aaad2f6f/raw/3766915befaeea7a32f3d41fdc2ece110e7543d7/circle-packing-chart.json',<br/>          function(data) {<br/> <br/><strong class="nd io"><em class="no">            // add the data<br/></em></strong>            var treeData = anychart.data.tree(data, 'as-table');<br/> <br/><strong class="nd io"><em class="no">            // create a circle packing chart instance<br/></em></strong>            var chart = anychart.circlePacking(treeData);<br/>    <br/><strong class="nd io"><em class="no">            // add a chart title<br/></em></strong>            chart.title("Forbes Top 100 Richest people");<br/>      <br/><strong class="nd io"><em class="no">            // specify the container element id<br/></em></strong>            chart.container('container');<br/>    <br/><strong class="nd io"><em class="no">            // initiate the drawing of the chart<br/></em></strong>            chart.draw();<br/>    <br/>          }<br/>        );</span><span id="0d87" class="mq kv in nd b gy np ni l nj nk">      });<br/> <br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="7c3b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以立即从圆形包装图中推断出，大多数顶级亿万富翁来自美国，其次是中国。与此类似，我们也可以获得有关行业和净值金额的见解。</p><p id="2c44" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是，这只是JS圈包装图的基础版。图形可以进一步定制，看起来更好(仍然没有太多的麻烦)</p><h1 id="6d06" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JavaScript高级圆形包装图</h1><p id="d19f" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">到目前为止用JS创建的圆形包装图看起来已经很顺眼了。但偶尔，体面是不够的。此外，在某些情况下，您可能需要调整图表的外观和功能。</p><p id="67e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">幸运的是，您可以轻松定制圆形包装图表，以满足您的需求和口味。现在，我将演示一些您可能也想进行的快速定制，以改善可视化效果:</p><p id="f122" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">A.自定义工具提示。</p><p id="efeb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">B.自定义外观。</p><p id="5baa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">C.自定义标题。</p><p id="7163" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">D.自定义标签。</p><h2 id="a347" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">A.自定义工具提示</h2><p id="b4ad" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">当我们将鼠标悬停在圆圈上时，会显示净值。让我们自定义工具提示，使其包含更多信息。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="3e31" class="mq kv in nd b gy nh ni l nj nk">chart<br/>  .tooltip()<br/>  .useHtml(true)<br/>  .format(function () {<br/>    var src = this.item.get('industry');<br/>    if (src) {<br/>      return '&lt;div&gt;'<br/>        + '&lt;span&gt;Name: ' + this.name + '&lt;/span&gt;&lt;br/&gt;'<br/>        + '&lt;span&gt;Net worth in billions USD:' + this.value + '&lt;/span&gt;&lt;br/&gt;'<br/>        + '&lt;span&gt;Source: ' + this.item.get('source') + '&lt;/span&gt;'<br/>        + '&lt;/div&gt;'<br/>    }<br/>    return '&lt;span&gt;Total net worth: ' + this.value.toFixed(2) + ' billion USD&lt;/span&gt;';<br/>  });</span></pre><p id="1f71" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们可以清楚地看到亿万富翁圈子的名字、净值和财富来源，以及行业和国家集团的总净值。</p><h2 id="5854" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">B.自定义外观</h2><p id="d4f6" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">默认情况下，图表的背景颜色是白色。我们换成灰色吧。使用<code class="fe nl nm nn nd b">background()</code>功能很容易做到这一点。</p><p id="b1c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们使用<code class="fe nl nm nn nd b">stroke()</code>函数稍微增加圆形边框的厚度。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="7256" class="mq kv in nd b gy nh ni l nj nk"><strong class="nd io"><em class="no">// customize the background<br/></em></strong>chart.background('#f6f6f6');<br/><strong class="nd io"><em class="no">// customize the stroke<br/></em></strong>chart<br/>  .stroke(function () {<br/>    return {<br/>      thickness: 1,<br/>    };<br/>  });<br/><strong class="nd io"><em class="no">// customize the stroke in the hovered state<br/></em></strong>chart<br/>  .hovered()<br/>  .stroke(function () {<br/>    return {<br/>      thickness: 2,<br/>    };<br/>  });</span></pre><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/caf7342a415479e82b7a17cbf9502f75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udbi3IS4UXnJ1sVRYF1aJA.png"/></div></div></figure><p id="f02a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这款JS圈包装的互动版在<a class="ae kt" href="https://playground.anychart.com/ZwCauFfE" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>有售。根据你的喜好改变颜色。</p><h2 id="7151" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">C.自定义标题</h2><p id="13f7" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">图表标题很容易增强。跟着我，我只需启用HTML并更改字体颜色、大小和粗细:</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="3763" class="mq kv in nd b gy nh ni l nj nk">chart<br/>  .title()<br/>  .enabled(true)<br/>  .useHtml(true)<br/>  .text(<br/>    '&lt;span style = "color: #112B3C; font-weight: 600; font-size: 18px;"&gt;100 Richest People, According to Forbes&lt;/span&gt;'<br/>  );</span></pre><p id="5c10" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是标题增强后圆形包装图的外观:</p><h2 id="e8ce" class="mq kv in bd kw mr ms dn la mt mu dp le kg mv mw li kk mx my lm ko mz na lq nb bi translated">D.自定义标签</h2><p id="c05e" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">目前，国家名称以默认格式显示。让我们自定义它们，使它们以更优雅的方式出现在框中:</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="f5e6" class="mq kv in nd b gy nh ni l nj nk">chart<br/>  .labels()<br/>  .fontSize('14')<br/>  .fontColor('#696969')<br/>  .textShadow('none')<br/>  .anchor('center-top').offsetY('-3%');<br/> <br/>chart.labels()<br/>  .background()<br/>  .enabled(true)<br/>  .fill("#f6f6f6 0.8")<br/>  .stroke("#888888")<br/>  .corners(5);</span></pre><p id="f584" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">圆形包装图现在看起来非常经典漂亮。为什么不会呢？毕竟，它正被用来可视化拥有数十亿资产的人！</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lx"><img src="../Images/7cf2f9ec0635b68a1a7252e09b398528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mYen17jSX-9LRxa4.png"/></div></div></figure><p id="9356" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个最终的JavaScript circle包装图的完整源代码可以在下面找到，也可以在<a class="ae kt" href="https://playground.anychart.com/UFPukRgn" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>上找到。</p><pre class="ly lz ma mb gt nc nd ne nf aw ng bi"><span id="161a" class="mq kv in nd b gy nh ni l nj nk">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;Circle Packing Chart in JavaScript&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-circle-packing.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-data-adapter.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;<br/>      html,<br/>      body,<br/>      #container {<br/>        width: 100%;<br/>        height: 100%;<br/>        margin: 0;<br/>        padding: 0;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>      &lt;script&gt;<br/> <br/>anychart.onDocumentReady(function () {<br/>  <br/><strong class="nd io"><em class="no">  // load a json data file<br/></em></strong>anychart.data.loadJsonFile('https://gist.githubusercontent.com/awanshrestha/ff3ae5c08238b1f4f950f022aaad2f6f/raw/3766915befaeea7a32f3d41fdc2ece110e7543d7/circle-packing-chart.json',<br/>    function(data) {<br/> <br/><strong class="nd io"><em class="no">      // add the data<br/></em></strong>      var treeData = anychart.data.tree(data, 'as-table');<br/> <br/><strong class="nd io"><em class="no">      // create a circle packing chart instance<br/></em></strong>      var chart = anychart.circlePacking(treeData);<br/>    <br/><strong class="nd io"><em class="no">      // customize the tooltip<br/></em></strong>      chart<br/>        .tooltip()<br/>        .useHtml(true)<br/>        .format(function () {<br/>          var src = this.item.get('industry');<br/>          if (src) {<br/>            return '&lt;div&gt;'<br/>              + '&lt;span&gt;Name: ' + this.name + '&lt;/span&gt; &lt;br/&gt;'<br/>              + '&lt;span&gt;Net worth in Billions: ' + this.value + '&lt;/span&gt; &lt;br/&gt;'<br/>              + '&lt;span&gt;Source: ' + this.item.get('source') + '&lt;/span&gt;'<br/>              + '&lt;/div&gt;' <br/>          }<br/>          return '&lt;span&gt;' + this.value.toFixed(2) + ' Billion Dollars &lt;/span&gt;';<br/>        );<br/> <br/><strong class="nd io"><em class="no">      // add a chart title<br/></em></strong>      chart<br/>      .title()<br/>      .enabled(true)<br/>      .useHtml(true)<br/>      .text(<br/>        '&lt;span style = "color: #112B3C;font-weight:600;font-size:18px;"&gt;Forbes Top 100 Richest People&lt;/span&gt;'<br/>      );<br/>    <br/><strong class="nd io"><em class="no">      // customize the appearance<br/></em></strong>      chart.background('#f6f6f6');<br/>      chart<br/>        .hovered()<br/>        .stroke(function () {<br/>          return {<br/>            thickness: 2,<br/>          };<br/>        });<br/>      chart<br/>        stroke(function () {<br/>          return {<br/>            thickness: 1,<br/>          };<br/>        });<br/>    <br/><strong class="nd io"><em class="no">      // customize the labels (country names)<br/></em></strong>      chart<br/>        .labels()<br/>        .fontSize('14')<br/>        .fontColor('#696969')<br/>        .textShadow('none')<br/>        .anchor('center-top').offsetY('-3%');<br/> <br/>      chart.labels()<br/>         .background()<br/>         .enabled(true)<br/>         .fill("#f6f6f6 0.8")<br/>         .stroke("#888888")<br/>         .corners(5); <br/>      <br/><strong class="nd io"><em class="no">      // specify the container element id<br/></em></strong>      chart.container('container');<br/>    <br/><strong class="nd io"><em class="no">      // initiate the drawing of the chart<br/></em></strong>      chart.draw();<br/>    <br/>    }<br/>  );</span><span id="436c" class="mq kv in nd b gy np ni l nj nk">});<br/> <br/>    &lt;/body&gt;<br/>  &lt;/script&gt;<br/>&lt;/html&gt;</span></pre><h1 id="ef1c" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h1><p id="ccf2" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">太棒了。我们的JavaScript圆形包装图已经构建好了。这个过程很简单，对吧？现在，开始创建您自己的JavaScript圆形包装图可视化吧！<a class="ae kt" href="https://docs.anychart.com/Basic_Charts/Circle_Packing_Chart" rel="noopener ugc nofollow" target="_blank">圆形包装图文档</a>和<a class="ae kt" href="https://www.anychart.com/products/anychart/gallery/Circle_Packing/" rel="noopener ugc nofollow" target="_blank">圆形包装图示例</a>分别为您提供进一步的指导和启发。</p><p id="4366" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此外，还有大量其他的<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Supported_Charts_Types" rel="noopener ugc nofollow" target="_blank">图表类型</a>可供使用，不要害怕查看它们。你会惊奇地发现，你也可以轻松地用JS构建它们！</p><p id="14cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，请不要犹豫询问或提出建议。我期待着看到您将创建的JavaScript circle包装图表！</p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><p id="1b95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="no">感谢Awan Shrestha贡献了这个超赞的圆形包装图教程！</em> </strong></p><p id="cee6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="no">不要错过我们的</em></strong><a class="ae kt" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">JavaScript图表教程</em> </strong> </a> <strong class="jx io"> <em class="no">其他图表类型。</em>T19】</strong></p><p id="0b8d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">准备好为我们的博客写一篇这样酷的客座博文了吗？请  <a class="ae kt" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="no">取得联系</em> </strong> </a> <strong class="jx io"> <em class="no">告诉我们你的想法！</em> </strong></p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><p id="07f4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="no">原载于</em><a class="ae kt" href="https://www.anychart.com/blog/2022/09/08/circle-packing-chart/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">www.anychart.com</em></strong></a><em class="no">2022年9月8日。</em></p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><p id="d085" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="no">更多内容请看</em><a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">plain English . io</em></strong></a><em class="no">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="no">免费周报</em> </strong> </a> <em class="no">。关注我们关于</em><a class="ae kt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">Twitter</em></strong></a><a class="ae kt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">LinkedIn</em></strong></a><strong class="jx io"><em class="no"/></strong><a class="ae kt" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">YouTube</em></strong></a><strong class="jx io"><em class="no">，以及</em></strong><em class="no"/><a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="no">不和</em> </strong> </a>  <em class="no">对成长黑客感兴趣？检查</em> <a class="ae kt" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="no">电路</em> </strong> </a> <strong class="jx io"> <em class="no">。</em> </strong></p></div></div>    
</body>
</html>