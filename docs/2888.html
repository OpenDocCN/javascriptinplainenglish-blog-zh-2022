<html>
<head>
<title>Why HTTP Dropped TCP and Adopted UDP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HTTP为什么放弃TCP而采用UDP</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-http-dropped-tcp-and-adopted-udp-7a1c49b24c68?source=collection_archive---------0-----------------------#2022-07-13">https://javascript.plainenglish.io/why-http-dropped-tcp-and-adopted-udp-7a1c49b24c68?source=collection_archive---------0-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="540e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTTP/1.1 vs . HTTP/2 vs . HTTP/3</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/b5ac314cf5d53f2d6cee99f7044b160e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkMn0UJdJm-W8oNon7_HvA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Image by <a class="ae lb" href="https://pixabay.com/users/simon-3/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=76517" rel="noopener ugc nofollow" target="_blank">Simon</a> from Pixabay</figcaption></figure><p id="9726" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">超文本传输协议或HTTP用于在我们称之为万维网或互联网上交换数据。</p><p id="b432" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从一开始，HTTP总是和它旁边的一个数字联系在一起，表示版本。最常用的版本是1.1，然后是2.0，但拥有显著速度和性能改进的最新版本是HTTP/3。在本文中，我们将探讨一些与HTTP的出现以及后来的改进相关的话题。</p><h2 id="b018" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">涵盖的主题</h2><ol class=""><li id="b427" class="lv lw iq jp b jq lx ju ly jy lz kc ma kg mb kk mc md me mf bi translated">什么是HTTP/1.1？是HTTP的第一个版本吗？</li><li id="c0a7" class="lv lw iq jp b jq mg ju mh jy mi kc mj kg mk kk mc md me mf bi translated">HTTP/2做了哪些改变？</li><li id="0ed5" class="lv lw iq jp b jq mg ju mh jy mi kc mj kg mk kk mc md me mf bi translated">HTTP/3会有哪些变化？</li></ol><p id="88df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上一篇文章中，我们讨论了<a class="ae lb" rel="noopener ugc nofollow" target="_blank" href="/how-to-learn-complex-technologies-using-a-simple-mind-shift-12b9bc22fd1b"> HTTP和TCP/IP模型</a>的基础。这是一篇简短而有趣的读物，可以快速地温习HTTP基础知识。</p><h2 id="ae8d" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">什么是HTTP/1.1？是HTTP的第一个版本吗？</h2><p id="88d5" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">1.1并不是HTTP的第一个发布版本，尽管它是适应性最强的版本。HTTP 0.9和1.0是在1.1之前发布的，构成了严重的挑战。为通信建立的连接将在响应发送回客户端后立即终止。</p><p id="33a4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当连接对于多个请求和响应保持活动时，这个问题后来在1.1中得到修复。因此，可以通过HTTP向服务器发送多个请求。</p><p id="7358" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTTP/1.1面临的最大挑战仍然是行首阻塞问题。</p><p id="ec17" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是队列头阻塞问题？</strong></p><p id="18db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTTP 1.1要求按顺序响应。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mo"><img src="../Images/2a53050ae27ba09bf2a3f179e2d0dd32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6RIFZhgNLGeUvsDjYHsJg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">HTTP 1.1 head of line blocking</figcaption></figure><p id="53cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果请求1正在等待延迟或丢失的响应，那么请求2将被阻塞。这是一个行首阻塞问题。</p><h2 id="77c8" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">HTTP/2做了哪些改变？</h2><p id="b8ed" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">HTTP/2通过在同一个TCP连接上多路复用请求，解决了上面提到的阻塞问题。请记住，HTTP是应用层协议，位于OSI和TCP/IP模型的传输层之上。</p><p id="50a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTTP/2为解决行首阻塞问题而提供的解决方案是在应用层引入的。结果，线路头问题没有完全解决，因为TCP在传输层执行错误检查，如果一个数据包被延迟或丢失，这可能再次导致拥塞。</p><p id="91e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">HTTP/2的另一个功能是可以使用一个TCP连接发出大量请求。在以前的版本中，只能进行有限数量的连接。</p><p id="3063" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过要求所有连接都使用TLS，安全性也被嵌入到HTTP/2中。</p><h2 id="2c75" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">HTTP/3会有哪些变化？</h2><p id="efe3" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">HTTP/1.1和HTTP/2都遵循TCP/IP模型，但不是HTTP/3。</p><p id="e4b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了解决使用TCP协议引入的行首阻塞，HTTP/3采用了UDP。</p><p id="b56d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">UDP是一种无连接的协议，这使得它成为一种“一劳永逸”的协议。与需要握手来建立连接并确认收到的数据的TCP不同，UDP将数据包发送到目的地，然后忘记它。这解决了以前的HTTP版本中普遍存在的速度问题。</p><p id="da5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果只使用UDP，我们将会失去TCP提供的最大优势——容错。由于大多数应用需要可靠的数据传输，所以容错是通信中的一个必需特性。</p><p id="cb5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了解决这个问题，HTTP/3模型通过在应用层引入QUIC来改变现有的TCP/IP和OSI模型。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mp"><img src="../Images/e7d448aafa1c37b9c35356b2b1a533b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3RN_oFY_RlFlPFqk2NGK8Q.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">OSI vs TCP/IP vs HTTP/3 model</figcaption></figure><p id="a40b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">QUIC为HTTP提供了UDP无法提供的容错能力。因此，UDP / QUIC组合提供了互联网通信所需的速度和容错能力。</p><p id="fc4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">回到最初的问题HTTP为什么放弃了TCP？因为需要速度。UDP提供了TCP无法提供的速度，而QUIC确保了UDP无法提供的容错能力。</p><h2 id="7b90" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="eea1" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">到目前为止，所有主流浏览器都支持HTTP/3，但是服务器端的采用还没有加快。脸书和谷歌服务器是HTTP/3协议的早期采用者。预计未来几年将有更多的服务器采用这种协议。</p><p id="4cdd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mq">更多内容请看</em><a class="ae lb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="mq">plain English . io</em></strong></a><em class="mq">。报名参加我们的</em> <a class="ae lb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="mq">免费周报</em> </strong> </a> <em class="mq">。关注我们关于</em><a class="ae lb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="mq">Twitter</em></strong></a><em class="mq">和</em><a class="ae lb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="mq">LinkedIn</em></strong></a><em class="mq">。查看我们的</em> <a class="ae lb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="mq">社区不和谐</em> </strong> </a> <em class="mq">加入我们的</em> <a class="ae lb" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="mq">人才集体</em> </strong> </a> <em class="mq">。</em></p></div></div>    
</body>
</html>