<html>
<head>
<title>From Redux to Redux Toolkit in a Snap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Redux到Redux工具包</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/from-redux-to-redux-toolkit-in-a-snap-4b05206193ef?source=collection_archive---------18-----------------------#2022-06-08">https://javascript.plainenglish.io/from-redux-to-redux-toolkit-in-a-snap-4b05206193ef?source=collection_archive---------18-----------------------#2022-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3b62" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我很容易地更新了一个React Redux代码库</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/209bfc2bb559b65535006aa87a508e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4W3gYb4olm138sVQIlQ7yQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jomer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">jom jakkid</a> on <a class="ae kv" href="https://unsplash.com/s/photos/snap?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="42fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Redux是React广泛使用的状态管理库，有助于保持应用程序代码的整洁。</p><p id="c11d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一次发布可以追溯到2015年，从那以后它就随着React逐渐改进。值得一提的一个重大改进是引入了React挂钩，而不是使用React类组件。</p><p id="d8dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天，React Redux开发人员可以比以往任何时候都更容易地编写单页应用程序(spa)。</p><p id="587a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">截至2022年，React Hooks和Redux绝对是创建单页面应用的好方法，但还有更多。如果你想进一步用最简单的方式编写Redux应用程序，你可以看看Redux Toolkit。</p><p id="6922" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这正是我所做的。</p><p id="3a66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">顾名思义，Redux Toolkit (RTK)为您提供了创建React Redux应用程序通常需要的现成工具集，其中包括Redux DevTools扩展以及中间件和thunk函数。</p><p id="4958" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要错过了解更多内容的机会。</p><div class="ls lt gp gr lu lv"><a href="https://redux.js.org/introduction/why-rtk-is-redux-today" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">为什么Redux Toolkit是今天如何使用Today | Redux</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">Redux Toolkit(也简称为“RTK”)是我们官方推荐的编写Redux逻辑的方法。的…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">redux.js.org</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="0a96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但不仅如此，在我看来更有趣的是Redux Toolkit还附带了一系列关于如何正确编写代码的指南。</p><div class="ls lt gp gr lu lv"><a href="https://redux.js.org/faq/code-structure" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">代码结构| Redux</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">由于Redux只是一个数据存储库，它对如何构建您的项目没有直接的意见。</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">redux.js.org</p></div></div><div class="me l"><div class="mk l mg mh mi me mj kp lv"/></div></div></a></div><p id="1bbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你已经熟悉Redux，你可能知道一切都可以归结为将你的代码组织成<code class="fe ml mm mn mo b">actionTypes</code>、<code class="fe ml mm mn mo b">actions</code>和<code class="fe ml mm mn mo b">reducers</code>，它们通常保存在单独的文件和文件夹中。虽然这是一个非常有效的方法，但ducks模式允许将这三个部分写在一个名为slice的文件中。因此，样板代码的数量显著减少。</p><div class="ls lt gp gr lu lv"><a href="https://github.com/erikras/ducks-modular-redux" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">GitHub-Erik ras/ducks-modular-redux:捆绑减速器、作用类型和作用的建议…</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">我发现当我构建redux应用程序时，一次一个功能，我一直需要添加{actionTypes…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">github.com</p></div></div><div class="me l"><div class="mp l mg mh mi me mj kp lv"/></div></div></a></div><p id="b92d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我不会详细讲述如何用Redux Toolkit编写React Redux应用程序。让我向你展示我是如何更新<a class="ae kv" href="https://github.com/chesslablab/redux-chess" rel="noopener ugc nofollow" target="_blank"> Redux Chess </a>代码库，以遵循Redux Toolkit的最佳软件开发实践的。</p><p id="2672" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我不得不说这比我原先预期的要容易。</p><h1 id="5677" class="mq mr iq bd ms mt mu mv mw mx my mz na jw nb jx nc jz nd ka ne kc nf kd ng nh bi translated">让我们开门见山吧</h1><p id="2f10" class="pw-post-body-paragraph kw kx iq ky b kz ni jr lb lc nj ju le lf nk lh li lj nl ll lm ln nm lp lq lr ij bi translated">我做的第一件事是安装RTK。</p><pre class="kg kh ki kj gt nn mo no np aw nq bi"><span id="0940" class="nr mr iq mo b gy ns nt l nu nv">$ npm i <a class="ae kv" href="http://twitter.com/reduxjs/toolkit" rel="noopener ugc nofollow" target="_blank">@reduxjs/toolkit</a></span></pre><p id="aa39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我写了下面这个<code class="fe ml mm mn mo b">src/store.js</code>文件。</p><pre class="kg kh ki kj gt nn mo no np aw nq bi"><span id="e9b3" class="nr mr iq mo b gy ns nt l nu nv">import { configureStore } from '@reduxjs/toolkit';<br/>import rootReducer from './reducers/rootReducer';</span><span id="583b" class="nr mr iq mo b gy nw nt l nu nv">const store = configureStore({<br/>  reducer: rootReducer,<br/>});</span><span id="cb03" class="nr mr iq mo b gy nw nt l nu nv">export default store;</span></pre><p id="e846" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很简单，不是吗？</p><p id="0763" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如前所述，Redux Toolkit开箱即用，提供了一套方便的工具来帮助您设置Redux store:Redux dev tools扩展、中间件等等。</p><p id="9db2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，基本上我不得不将<code class="fe ml mm mn mo b">createStore</code>替换为<code class="fe ml mm mn mo b">configureStore</code>。</p><p id="076d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，这意味着也要从我的<code class="fe ml mm mn mo b">src/reducers/rootReducer.js</code>文件中删除<code class="fe ml mm mn mo b">combineReducers</code>助手函数，因为现在有了Redux Toolkit，<code class="fe ml mm mn mo b">configureStore</code>函数会自动调用<code class="fe ml mm mn mo b">combineReducers</code>。</p><pre class="kg kh ki kj gt nn mo no np aw nq bi"><span id="25f5" class="nr mr iq mo b gy ns nt l nu nv">import boardReducer from './boardReducer';<br/>import historyReducer from './historyReducer';</span><span id="bc7c" class="nr mr iq mo b gy nw nt l nu nv">...</span><span id="6767" class="nr mr iq mo b gy nw nt l nu nv">import gameTableReducer from './gameTableReducer';<br/>import watchDialogReducer from './watchDialogReducer';</span><span id="3914" class="nr mr iq mo b gy nw nt l nu nv">const rootReducer = {<br/>  board: boardReducer,<br/>  history: historyReducer,</span><span id="60c2" class="nr mr iq mo b gy nw nt l nu nv">...</span><span id="2f0b" class="nr mr iq mo b gy nw nt l nu nv">gameTable: gameTableReducer,<br/>  watchDialog: watchDialogReducer<br/>};</span><span id="2335" class="nr mr iq mo b gy nw nt l nu nv">export default rootReducer;</span></pre><p id="ea45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上就是这样！</p><p id="2e24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，不要忘记做一些清理工作，并删除未使用的包，在我的情况下，这些包如下所述。</p><pre class="kg kh ki kj gt nn mo no np aw nq bi"><span id="4f4e" class="nr mr iq mo b gy ns nt l nu nv">$ npm uninstall redux redux-devtools-extension redux-thunk</span></pre><p id="902c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从那时起，我能够一点一点地开始重构过程。</p><p id="a270" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，根据推荐的文件夹结构，将<code class="fe ml mm mn mo b">src/reducers/rootReducer.js</code>移至<code class="fe ml mm mn mo b">src/app/rootReducer.js</code>并将<code class="fe ml mm mn mo b">src/store.js</code>移至<code class="fe ml mm mn mo b">src/app/store.js</code>。</p><p id="1c96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于Redux Chess如何更新以遵守使用Redux Toolkit的最佳实践的更多细节，您可能想点击下面的PR链接。</p><div class="ls lt gp gr lu lv"><a href="https://github.com/chesslablab/redux-chess/issues/317" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">使用Redux Toolkit问题#317更新代码库以遵循最佳实践…</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">应该更新代码库，以遵循Redux Toolkit的最佳软件开发实践。现代Redux确实…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">github.com</p></div></div><div class="me l"><div class="nx l mg mh mi me mj kp lv"/></div></div></a></div><p id="2327" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非常感谢您的阅读，祝您学习和编码愉快。</p><p id="ad5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ny">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">免费周报</em> </strong> </a> <em class="ny">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">Twitter</em></strong></a><em class="ny">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">LinkedIn</em></strong></a><em class="ny">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">社区不和谐</em> </strong> </a> <em class="ny">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">人才集体</em> </strong> </a> <em class="ny">。</em></strong></a></p></div></div>    
</body>
</html>