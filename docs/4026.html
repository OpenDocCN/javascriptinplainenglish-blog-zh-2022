<html>
<head>
<title>As a Front-end Engineer, 10 JavaScript Tricks And Tips You Should Know About</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为前端工程师，您应该知道的10个JavaScript技巧和提示</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/as-a-front-end-engineer-10-javascript-tricks-and-tips-you-should-know-about-6f4df0082407?source=collection_archive---------0-----------------------#2022-10-19">https://javascript.plainenglish.io/as-a-front-end-engineer-10-javascript-tricks-and-tips-you-should-know-about-6f4df0082407?source=collection_archive---------0-----------------------#2022-10-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7395" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">请一定要学会这些技巧。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d2040e0b3d892c805bf9fabb61873145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hz7YvRJBpkjPAeqd.png"/></div></div></figure><h1 id="c70a" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">前言</h1><p id="8999" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">以前写了很多垃圾代码，现在<strong class="ll ir">那个看起来很可怕。</strong></p><p id="6a95" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">当我再次看到那些代码片段的时候，我甚至怀疑自己是否适合做程序员。</p><p id="a93c" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">所以，这里有10个JavaScript技巧来帮助你避免写我曾经写过的那种垃圾代码。</p><h1 id="1373" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">1.承诺回调地狱</h1><p id="dfa6" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><strong class="ll ir">承诺</strong>提供了一种优雅的方式来处理JavaScript中的异步操作。这也是避免“<strong class="ll ir">回调地狱</strong>”的解决方案之一。但是我没有真正理解它的意思，所以我写了这个代码片段。</p><p id="a4eb" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">我做了这些事情:</p><ol class=""><li id="cf09" class="mk ml iq ll b lm mf lp mg ls mm lw mn ma mo me mp mq mr ms bi translated">先获取用户的基本信息。</li><li id="9d66" class="mk ml iq ll b lm mt lp mu ls mv lw mw ma mx me mp mq mr ms bi translated">通过用户信息获取所有文章的简要摘要。</li><li id="3dc7" class="mk ml iq ll b lm mt lp mu ls mv lw mw ma mx me mp mq mr ms bi translated">通过文章简单获取文章细节。</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="adaf" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">我一点也没有利用承诺。我们应该像下面的代码片段一样处理它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="a033" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">2.不处理错误消息</h1><p id="fe48" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我经常只写成功请求的代码逻辑，而忽略失败的请求。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="90ce" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">这是没有经验的，我们应该给出一个用户友好的提示，而不是什么都不做。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="7863" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">3.为一个函数设置太多参数。</h1><p id="1f1a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">当一个函数有太多的参数时，它会变得可读性更差，甚至让我们想知道如何正确地传递参数。</p><p id="e742" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated"><strong class="ll ir">示例</strong></p><p id="17a9" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">我们想获得用户的一些基本信息，如<strong class="ll ir">姓名</strong>、<strong class="ll ir">性别</strong>、<strong class="ll ir">年龄</strong>、<strong class="ll ir">等</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="ba18" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">太可怕了。如果你的同事这样写代码，你会揍他一顿吗？</p><p id="0066" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">事实上，当函数参数过多时，应该使用对象来传递所需的信息，这样其可读性和可扩展性都会得到提高。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="b5af" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">4.幻数</h1><p id="6f52" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">朋友们，你们写过这样的代码吗？很多地方用数字做逻辑判断似乎很正常。是的，我搞不清楚<code class="fe na nb nc nd b">1</code>、<code class="fe na nb nc nd b">2</code>、<code class="fe na nb nc nd b">3</code>到底是什么意思。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="0277" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">我们最好将这些数字定义为常数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="a6f2" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">5.使用。l <code class="fe na nb nc nd b">ength</code>判断字符串的长度</h1><p id="645d" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">大多数时候，我们使用<code class="fe na nb nc nd b">.length</code>来判断字符串的长度是安全的，但是在表单输入的情况下，你应该小心。</p><p id="4b94" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">当我们键入<code class="fe na nb nc nd b">🍫</code>时，<code class="fe na nb nc nd b">nameLen</code>的值是2 —这不奇怪吗？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/f9285ddbbd7590da3c791ce913cf044f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K3E3xcCutOTDoEyi.gif"/></div></div></figure><p id="3d77" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">是的，这是有原因的，你猜怎么着？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/850e3bf957d5901cffbe3e3754211e66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0frxz9fV8cLvCqKI.gif"/></div></div></figure><h1 id="29c6" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">6.永远不要写代码注释</h1><p id="fdd8" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我们经常向别人抱怨“为什么不写代码注释？”但实际上，我从来不写！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="c930" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">天哪，你知道‘DPR’是什么意思吗？我从来没想过它的意思是<code class="fe na nb nc nd b">window devicePixelRatio</code>.</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="63e0" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">7.无意义的代码注释</h1><p id="57ff" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">与其不写代码注释，不如写无意义的代码注释，因为浪费你的时间。</p><p id="cd06" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">你不妨解释一下“a”是什么意思，或者使用有意义的变量名！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="a3ce" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">8.随机命名</h1><p id="e24b" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">过去，我常常编写一些笨拙的代码片段，随机命名变量。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="a31a" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">朋友们，请不要学我。你应该给变量一个合适的有意义的名字。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div></figure><h1 id="68c8" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">9.不要删除不推荐使用的代码</h1><p id="1d11" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">很多时候，我们的网站会不断调整功能，有新的，有弃用的功能，但我总是担心以后会用到，所以只是评论，而不是删除。</p><p id="2f8b" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">其实这种担心完全没有必要，因为以后用上的可能性非常小。即使将来会用到，也可以通过‘git’追溯。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/5ecd2ff91ae3ed816b76bc7e09db7835.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FfODXoEyOEcvmEdD.png"/></div></div></figure><h1 id="0cfd" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">10.超过一千行组件代码</h1><p id="910a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我在一个组件中写了一千多行代码。这太糟糕了，我们应该将组件的功能进一步分割成更小的组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/9a4cd9eb5bcbac69a692663d8b65981b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XBejUrJJn2tF104d.png"/></div></div></figure><h1 id="0927" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">最后</h1><p id="f09b" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated"><strong class="ll ir">感谢阅读。</strong>我期待<strong class="ll ir"> </strong>期待您的关注和阅读更多高质量的文章。</p><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/interviewer-can-a-1-a-2-a-3-ever-evaluate-to-true-in-javascript-d2329e693cde"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">记者:在JavaScript中(a==1 &amp;&amp; a==2 &amp;&amp; a==3)能计算为真吗？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">是的，这可能是真的，而且有6种方式——太神奇了！</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/i-lost-a-job-opportunity-just-because-of-promise-all-be396f6efe87"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">“我失去了一个工作机会，只是因为承诺。所有”</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">一次让我好难过的面试经历。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/interviewer-what-happened-to-npm-run-xxx-cdcb37dbaf44"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">采访者:“npm跑xxx”怎么了？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">一个大多数人都不知道的秘密。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="oa l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/interviewer-can-x-x-return-true-in-javascript-7e1d1fa7b5cd"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">面试官:可以“x！== x "在JavaScript中返回True？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">你可能不知道的五个神奇的JavaScript知识点！</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="ob l nv nw nx nt ny kp nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/its-2022-don-t-abuse-the-arrow-function-anymore-905862a9c668"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">现在是2022年，不要再滥用箭头功能了</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">不应该使用箭头函数的4种情况。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nt l"><div class="oc l nv nw nx nt ny kp nk"/></div></div></a></div><p id="3110" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated"><em class="od">更多内容请看</em><a class="ae oe" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="od">plain English . io</em></strong></a><em class="od">。报名参加我们的</em> <a class="ae oe" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="od">免费周报</em> </strong> </a> <em class="od">。关注我们关于</em><a class="ae oe" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="od">Twitter</em></strong></a><a class="ae oe" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="od">LinkedIn</em></strong></a><strong class="ll ir"><em class="od"/></strong><a class="ae oe" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="od">YouTube</em></strong></a><strong class="ll ir"><em class="od">，以及</em></strong><em class="od"/><a class="ae oe" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="od">不和</em> </strong> </a>  <em class="od">对成长黑客感兴趣？检查</em> <a class="ae oe" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="od">电路</em> </strong> </a> <strong class="ll ir"> <em class="od">。</em> </strong></p></div></div>    
</body>
</html>