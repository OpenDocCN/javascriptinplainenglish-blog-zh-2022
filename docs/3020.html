<html>
<head>
<title>5 Angular Performance Enhancements in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2022年5项角度性能增强</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-angular-performance-enhancements-in-2022-fc17c3777173?source=collection_archive---------0-----------------------#2022-07-23">https://javascript.plainenglish.io/5-angular-performance-enhancements-in-2022-fc17c3777173?source=collection_archive---------0-----------------------#2022-07-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1ae7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习5种方法，你可以改善你的落后和缓慢的应用程序的性能。</h2></div><p id="7758" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想知道为什么你的角度应用的某些部分仍然很慢吗？本文将向您展示增强应用程序性能的方法。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/263652e2a2728725f14e21c608593c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rkljvSYzUfXj2PjfMV3OmA.png"/></div></div></figure><p id="b3ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您是否发现您的角度应用程序滞后且缓慢，但您不知道如何增强它们？让我们直接进入这篇文章，了解提高应用程序性能的5种方法。🔥</p><h1 id="c384" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">1.ngZone</h1><p id="f868" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">许多开发人员错过了这项由Angular团队提供的服务，该服务旨在增强他们的应用程序性能。默认情况下，所有的<strong class="kh ir">异步</strong>操作如<strong class="kh ir"> setTimeout </strong>、<strong class="kh ir"> requestAnimationFrame </strong>等。在角度区域内，这意味着它将触发组件上的<strong class="kh ir">变化检测</strong>，如果组件很大，将会降低网站的速度。因此，如果您拥有的<strong class="kh ir">异步</strong>函数不需要在DOM上进行变更检测，那么您可以在<code class="fe mk ml mm mn b">ngZone</code>服务中运行<strong class="kh ir">异步</strong>函数，方法是调用<code class="fe mk ml mm mn b">runOutsideAngular</code>回调函数。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/7dff60c653d2856dd5451e41828d1a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*cmeTLFlcv2AFOzYl4ONiHg.png"/></div></figure><h1 id="0af9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">2.拆分组件</h1><p id="ed51" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">如果您的组件由一个活动(智能)部分和一个非活动(非智能)部分组成，您应该考虑重构并将它们分成智能和非智能组件。例如，在下面的例子中，</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/0a6b9df8bbcdd0d1cf4bca9675abd6a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*N1NeTZRhdg8CwVdVWSHa7A.png"/></div></figure><p id="ba7f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我有一个输入和一列数据。当用户输入时，输入部分将继续触发键事件动作，并且它触发整个组件的变化检测检查，即使没有对列表部分做任何事情。想象一下，列表是一个复杂的列表，对它进行更改检测的成本很高。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/63d2f27704e8765989c44c09b79dfcfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*DgVzfJK1w7-aVBz4RH7U8g.png"/></div></figure><p id="c917" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，更好的方法是将输入部分和列表部分分成两个独立的组件，并将其放在父组件下。这样，InputComponent中的键事件将不会影响和触发ListComponent上的更改检测。如果您的列表数据很大并且包含大量复杂的计算，那么它可以大大节省性能。🌈</p><h1 id="facd" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">3.onPush</h1><p id="907c" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">除了上面提到的拆分组件点，你还可以调整你的组件的<strong class="kh ir"> changeDetection策略</strong>来提高组件的性能。默认情况下，当您使用<strong class="kh ir"> Angular CLI </strong>创建一个组件时，默认的<strong class="kh ir"> changeDetection </strong>策略将会是<code class="fe mk ml mm mn b">OnDefault</code>，这使得每当组件中的数据发生变化时，您的DOM都会更新。角度检查组件树中的更改。因此，如果您的父元素或根元素发生变化，它将触发其子组件和孙组件的DOM更新。</p><p id="15ec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以将您的list component<strong class="kh ir">change detection</strong>策略更新为<code class="fe mk ml mm mn b">OnPush</code>，这样Angular将只在您调用它时检查和更新DOM。</p><p id="1577" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将<strong class="kh ir"><em class="mr">changeedetorref</em></strong>注入到您的组件构造函数中，调用<strong class="kh ir"> <em class="mr"> markForCheck() </em> </strong>方法，强制您的组件及其下的子组件检查变更，并相应更新DOM。此外，如果在这个父/根组件的组件树中有不需要DOM更新而不管数据变化的子组件(哑组件)，您可以选择通过使用<strong class="kh ir"> detach() </strong>方法从组件中分离<strong class="kh ir"> changeDetector </strong>。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/39fe8fb9786ee467c331e29e07da5658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LwrPl9uHSf6mYgOQ.png"/></div></figure><p id="d2e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将changeDetectorRef注入到组件中:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mt"><img src="../Images/32c050dd020410d3b503c21e3123c03c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/0*8jJpMu0nJbJMV-zt.png"/></div></div></figure><p id="3b82" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在构造函数中调用<code class="fe mk ml mm mn b">detach</code>方法，将组件从变更检测中分离出来。这个小小的改变可以让你节省大量的内存，优化组件的重新渲染周期。</p><h1 id="6ac3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">4.使用管道而不是方法</h1><p id="1b8d" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">Angular模板绑定太棒了，你可以绑定变量，也可以绑定它的模板。你们中的许多人和我一样，使用一个<strong class="kh ir">函数调用</strong>来转换数据，因为它方便且易于实现。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/53bd1e4a8f68a81c954e39c899c61f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*PWl1Qw86zto1cAqk4zag7w.png"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Example: Input adding item into a list</figcaption></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="ab gu cl mz"><img src="../Images/195eb8b17dfc409c6831e04ebc2188d5.png" data-original-src="https://miro.medium.com/v2/format:webp/0*ci6GbrDriPWHAlPu.png"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">function call</figcaption></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi na"><img src="../Images/321dd980b5b6573538e9ec16a31cf441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*vBI3Al4MSFhyorHzMjI5Ag.png"/></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Pipe Implementation</figcaption></figure><p id="55ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看上面这个简单的例子，你不会注意到任何不同。但是你知道吗，每当一个新的项目被添加到列表中时，列表中的每个项目都会被调用<strong class="kh ir">函数调用</strong>，但是<strong class="kh ir">管道</strong>只会在列表中的项目值改变时被调用。所以，除非你知道你真正在做什么，否则请避免在你的模板中进行<strong class="kh ir">函数调用</strong>，而是选择创建你自己的<strong class="kh ir">自定义纯管道</strong>来处理数据转换。</p><h1 id="962f" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">5.对于较长的数据集列表，使用虚拟滚动或无限滚动或分页</h1><p id="6a2c" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">您是否有一长串需要向管理员用户或客户显示的项目？您的浏览器在您的web应用程序中呈现100多个DOM项目是否需要太长时间？是时候考虑在你的web应用中使用虚拟滚动或无限滚动策略了。虚拟和无限滚动有助于在浏览器中重用和回收DOM元素，以显示用户可查看的项目。列表中隐藏的项目不会出现在DOM中，因此有助于节省web应用程序的渲染时间。这些策略有助于优化在一个给定的长项目列表中向用户显示多少DOM元素，并且不呈现那些在滚动时不在视图中的项目。我不会用这里的细节来烦你。</p><p id="7f2a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以使用<a class="ae nb" href="https://material.angular.io/cdk/scrolling/overview" rel="noopener ugc nofollow" target="_blank"> Angular Material </a>或<a class="ae nb" href="https://www.npmjs.com/package/ngx-virtual-scroller" rel="noopener ugc nofollow" target="_blank"> ngx-virtual-scroll </a>了解更多关于虚拟滚动的信息。你也可以使用<a class="ae nb" href="https://www.npmjs.com/package/ngx-infinite-scroll" rel="noopener ugc nofollow" target="_blank"> ngx-infinite-scroll </a>找到更多关于无限滚动的信息。或者，你可以访问下面的网站，找到更多的插件和工具来优化你长长的可滚动项目列表。👍</p><div class="nc nd gp gr ne nf"><a href="https://openbase.com/categories/js/best-angular-infinite-scroll-libraries" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd ir gy z fp nk fr fs nl fu fw ip bi translated">2022年10大最佳角度无限卷轴库| Openbase</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">2022年10大最佳角度无限卷轴库对比:ngx-scrollspy，od-virtualscroll…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">openbase.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt ll nf"/></div></div></a></div><h1 id="88c4" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">奖金🎉</h1><p id="5df6" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">你知道吗，你可以安装<strong class="kh ir"> Angular Devtools </strong> Chrome扩展，这样你就可以在测试和开发组件时，在浏览器中测量组件的性能。</p><div class="nc nd gp gr ne nf"><a href="https://chrome.google.com/webstore/detail/angular-devtools/ienfalfjdbdpebioblfackkekamfmbnh?hl=en&amp;authuser=0" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd ir gy z fp nk fr fs nl fu fw ip bi translated">角度开发工具</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">Angular DevTools扩展了Chrome DevTools，增加了特定于Angular的调试和分析功能。</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">chrome.google.com</p></div></div><div class="no l"><div class="nu l nq nr ns no nt ll nf"/></div></div></a></div><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nv"><img src="../Images/3d3bb307ad556611c49edf2e76a34b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hp_Hnjl69M_T_6ahz2POAA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Angular devtools</figcaption></figure><p id="2ab8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦你安装了扩展，你可以打开你的chrome开发工具，在chrome开发工具的标签列表中寻找Angular。您可以在您的应用程序中开始记录和执行一个操作，然后停止记录以分析哪个操作有性能改进。</p><h1 id="2535" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">摘要</h1><p id="6a84" class="pw-post-body-paragraph kf kg iq kh b ki mf jr kk kl mg ju kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">希望这篇文章能为您提供一些关于如何增强Angular应用程序性能的线索。使用上面的5点Angular devtools扩展来识别应用程序中的性能障碍。💯</p><p id="88ff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你有其他有助于优化角度应用的性能提升技巧，请在下面的评论中告诉我。我也很想了解一下。干杯！</p><div class="nc nd gp gr ne nf"><a href="https://medium.com/@devjo/membership" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd ir gy z fp nk fr fs nl fu fw ip bi translated">用我的推荐链接- DevJo加入媒体</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">阅读DevJo的每一个故事(以及Medium上成千上万的其他作者)。你的会员费直接支持DevJo和…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="nw l nq nr ns no nt ll nf"/></div></div></a></div></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><p id="e468" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mr">更多内容请看</em><a class="ae nb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="mr">plain English . io</em></strong></a><em class="mr">。报名参加我们的</em> <a class="ae nb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mr">免费周报</em> </strong> </a> <em class="mr">。关注我们关于</em><a class="ae nb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="mr">Twitter</em></strong></a><em class="mr">和</em><a class="ae nb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="mr">LinkedIn</em></strong></a><em class="mr">。查看我们的</em> <a class="ae nb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mr">社区不和谐</em> </strong> </a> <em class="mr">加入我们的</em> <a class="ae nb" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mr">人才集体</em> </strong> </a> <em class="mr">。</em></p></div></div>    
</body>
</html>