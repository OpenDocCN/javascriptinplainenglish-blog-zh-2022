<html>
<head>
<title>How to Send WhatsApp Messages From Your React App Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从React应用程序轻松发送WhatsApp消息</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/send-whatsapp-web-messages-in-react-easily-3bf2a82a2eb2?source=collection_archive---------0-----------------------#2022-03-20">https://javascript.plainenglish.io/send-whatsapp-web-messages-in-react-easily-3bf2a82a2eb2?source=collection_archive---------0-----------------------#2022-03-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="936e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">React中在WhatsApp web上发送消息的一个非常简单的方法。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/f6c0d18e1c9f5f2c5ca4aa525591c0ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4XUY4oWrZIpeYuJAy33v3Q.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@alexbemore?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Alexander Shatov</a> on <a class="ae ks" href="https://unsplash.com/s/photos/messages?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="3122" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">简介:</h1><p id="403b" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">想知道如何在不使用Whatsapp API的情况下从React应用程序发送WhatsApp消息吗？</p><p id="ddfe" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">在这篇文章中，我们将探索一种非常简单的在WhatsApp web上用React发送消息的方法。</p><p id="d4a8" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mm">发送WhatsApp消息的应用:</em></p><ol class=""><li id="5b00" class="mn mo in ln b lo mh lr mi lu mp ly mq mc mr mg ms mt mu mv bi translated">与客户沟通。</li><li id="c124" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated">自动短信。</li></ol><p id="c0c2" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mm">要求:初级</em></p><ol class=""><li id="3a69" class="mn mo in ln b lo mh lr mi lu mp ly mq mc mr mg ms mt mu mv bi translated">JavaScript基础知识</li><li id="54b0" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated">Node.js基础知识</li></ol><p id="2794" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">查看应用程序:</p><div class="nb nc gp gr nd ne"><a href="https://whatsapp-react-messages.herokuapp.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd io gy z fp nj fr fs nk fu fw im bi translated">发送Whatsapp消息</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">从React向Whatsapp发送消息的简单网络应用</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">whatsapp-react-messages.herokuapp.com</p></div></div></div></a></div><p id="7fed" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">手续办完了，我们开始吧！</p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><h2 id="72d5" class="nu ku in bd kv nv nw dn kz nx ny dp ld lu nz oa lf ly ob oc lh mc od oe lj of bi translated">启动程序:</h2><p id="d531" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">克隆这个<a class="ae ks" href="https://github.com/aunshx/whatsapp-messages-react.git" rel="noopener ugc nofollow" target="_blank"> <strong class="ln io"> <em class="mm"> repo </em> </strong> </a>得到基本代码。克隆后，在终端中使用<code class="fe og oh oi oj b">npm i</code>命令安装所需的依赖项。</p><p id="ab0e" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">克隆安装后，使用<code class="fe og oh oi oj b">npm run start</code> <em class="mm"> </em>启动app。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ok"><img src="../Images/15241dc157ce73aca39409b087559e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HWz9GYGr9wuM1ZkWL781qg.png"/></div></div></figure><p id="cb24" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">这是你打开<em class="mm"> localhost:3000后看到的。</em></p><p id="7a8d" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mm">注意:项目的设计、验证和样式已经完成，因为本文的重点只是学习如何发送消息。</em></p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><h2 id="7139" class="nu ku in bd kv nv nw dn kz nx ny dp ld lu nz oa lf ly ob oc lh mc od oe lj of bi translated">相互了解:</h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ol"><img src="../Images/fb76bc3510bd8e508ca8cfabb3980c01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UqSe9wTI7rnaum8vqS6aXw.png"/></div></div></figure><p id="179f" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">以下是运行React脚本后屏幕的外观。</p><p id="2319" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">这些文件如下:</p><ol class=""><li id="3b26" class="mn mo in ln b lo mh lr mi lu mp ly mq mc mr mg ms mt mu mv bi translated"><em class="mm"> index.js: </em>用于将“<em class="mm"> App </em>组件加载到<em class="mm">index.html</em>文件中id为<em class="mm">‘root’</em>的HTML元素中。</li><li id="b621" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated"><em class="mm">app . CSS:</em>app的样式表。</li><li id="8aa0" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated"><em class="mm">app . js:</em>React中的主容器组件。</li><li id="070e" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated"><em class="mm">组件</em>文件夹:包含用户将与之交互的所有组件的文件夹。</li><li id="1101" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated"><strong class="ln io"><em class="mm">sendmessage . js</em></strong><em class="mm">:</em><strong class="ln io"><em class="mm"/>我们将要与之交互的主文件。</strong></li><li id="7343" class="mn mo in ln b lo mw lr mx lu my ly mz mc na mg ms mt mu mv bi translated"><em class="mm">布局</em>文件夹:创建者凭证和页脚(无需更改)。</li></ol><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi om"><img src="../Images/d918f723cd01c9533d9ea711c6bbd3bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:354/format:webp/1*78u0JaajLenTcyayc6Gzcg.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Folder Structure</figcaption></figure><p id="9767" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mm"> SendMessage.js </em>组件的详细信息:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="90f4" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">通过WhatsApp web发送消息的API如下:</p><p id="38bb" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">"<em class="mm">https://web.whatsapp.com/send?phone=</em><strong class="ln io"><em class="mm">编号</em> </strong> <em class="mm"> &amp;正文= </em> <strong class="ln io"> <em class="mm">消息</em></strong><em class="mm">&amp;app _ absent = 0</em>"</p><p id="6fb0" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">因此，我们使用文本字段来捕获数字和消息，我们将把它们附加到URL上。输入手机号码时，请务必输入国家代码。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi op"><img src="../Images/22d916daaef60612c96ad48898b1ab14.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/1*vmGe8KOyMBajKdD_bGNaNA.gif"/></div></figure><p id="0f59" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">点击'<em class="mm">发送'</em>按钮，我们调用'<em class="mm"> onSubmit' </em>功能，该功能验证消息长度和手机号码长度是否大于1，以便不发送空文本。</p><p id="62d6" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">如果一切正常，那么我们调用带有URL的<em class="mm"> window.open() </em>方法，在一个新标签中打开Whatsapp，这将打开我们输入的号码所属的人的聊天。</p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><h2 id="4e5d" class="nu ku in bd kv nv nw dn kz nx ny dp ld lu nz oa lf ly ob oc lh mc od oe lj of bi translated">正在生成URL:</h2><p id="f36e" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在<em class="mm"> onSubmit </em>函数的<em class="mm"> else </em>部分，我们将使用regex删除号码中所有非字母数字的字符，然后将手机号码附加到URL上。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="96e3" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">类似地，在对消息进行编码后，将其附加到URL。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="ecc7" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">最后，浏览器中会打开一个新标签页，该标签页会重定向到WhatsApp web并打开该人的聊天记录，其中包含输入的电话号码和要发送的消息。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="6015" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">就是这样！</p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><h2 id="31d9" class="nu ku in bd kv nv nw dn kz nx ny dp ld lu nz oa lf ly ob oc lh mc od oe lj of bi translated">结论:</h2><p id="8190" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">在本文中，我们看到了如何从React应用程序向Whatsapp发送消息</p><p id="2653" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">链接到一个工作示例:</p><div class="nb nc gp gr nd ne"><a href="https://whatsapp-react-messages.herokuapp.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd io gy z fp nj fr fs nk fu fw im bi translated">发送Whatsapp消息</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">从React向Whatsapp发送消息的简单网络应用</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">whatsapp-react-messages.herokuapp.com</p></div></div></div></a></div><p id="e529" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">干杯！</p><p id="3e01" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="mm">更多内容请看</em><strong class="ln io"><em class="mm"/></strong><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"><em class="mm">说白了。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ln io"> <em class="mm">免费周报</em> </strong> </a> <em class="mm">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"><em class="mm">Twitter</em></strong></a><em class="mm">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"><em class="mm">LinkedIn</em></strong></a><em class="mm">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ln io"> <em class="mm">社区不和谐</em> </strong> </a> <em class="mm">。</em></strong></a></p></div></div>    
</body>
</html>