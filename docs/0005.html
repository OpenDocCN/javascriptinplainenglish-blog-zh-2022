<html>
<head>
<title>FABs, Dialogs &amp; Forms | Adding New Tasks | Vuetify To-Do List App Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FABs、对话框和表单|添加新任务|验证待办事项应用程序教程</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-beautiful-to-do-list-app-with-vuetify-adding-new-tasks-63839dc462c8?source=collection_archive---------4-----------------------#2022-01-01">https://javascript.plainenglish.io/create-a-beautiful-to-do-list-app-with-vuetify-adding-new-tasks-63839dc462c8?source=collection_archive---------4-----------------------#2022-01-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="3cf0" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用fab、对话框和表单控件在待办事项列表应用程序中添加新任务。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/21f6ff9e0f10935f7c0cfd8544671965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gtbLc8DzLdmGqWfOBb7Pgw.png"/></div></div></figure><p id="2b70" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">大家好，欢迎回到我们正在进行的教程系列，我们将从头到尾使用Vuetify和Vue JS构建一个todo应用程序。在我们的<a class="ae lk" rel="noopener ugc nofollow" target="_blank" href="/create-a-beautiful-to-do-list-app-in-vuetify-displaying-the-list-of-tasks-lists-margins-cc0fde2ed2c1">上一集</a>中，我们学习了如何使用Vuetify <code class="fe ll lm ln lo b">v-list</code>组件显示样本待办事项列表数据。今天，我们将添加一些功能，使用户能够用新任务填充列表。完成这项工作后，我们将不再需要上次创建的模拟任务数据。让我们马上开始吧！</p><p id="3a82" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">刚开始使用Vuetify？看看这篇<a class="ae lk" href="https://codingbeautydev.com/blog/getting-started-with-vuetify/" rel="noopener ugc nofollow" target="_blank">文章</a>。</p><h2 id="7ebe" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">展示晶圆厂</h2><p id="cbcd" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">我们将使用一个浮动的操作按钮来允许用户添加新任务，因为这是我们应用程序中的主要操作。我们可以通过在虚拟化<code class="fe ll lm ln lo b">v-btn</code>组件上设置<code class="fe ll lm ln lo b">fab</code>属性来创建一个FAB。</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="9fa0" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="b023" class="lp lq in lo b gy mv ms l mt mu">&lt;template&gt;<br/>  &lt;v-app&gt;<br/>    &lt;v-card&gt;<br/>      &lt;v-toolbar color="primary" elevation="3" dark rounded="0"&gt;<br/>        &lt;v-toolbar-title&gt;Tasks&lt;/v-toolbar-title&gt;<br/>      &lt;/v-toolbar&gt;<br/>    &lt;/v-card&gt;<br/>    &lt;v-card class="ma-4"&gt;<br/>      &lt;v-list&gt;<br/>        &lt;v-list-item<br/>          v-for="(task, index) in tasks"<br/>          :key="index"<br/>          v-bind:class="{ 'task-completed': task.isCompleted }"<br/>          two-line<br/>        &gt;<br/>          &lt;v-checkbox<br/>            hide-details<br/>            v-model="task.isCompleted"<br/>            class="mt-0 mr-2"<br/>          &gt;&lt;/v-checkbox&gt;<br/>          &lt;v-list-item-content&gt;<br/>            &lt;v-list-item-title&gt;{{ task.title }}&lt;/v-list-item-title&gt;<br/>            &lt;v-list-item-subtitle&gt;{{ task.note }}&lt;/v-list-item-subtitle&gt;<br/>          &lt;/v-list-item-content&gt;<br/>        &lt;/v-list-item&gt;<br/>      &lt;/v-list&gt;<br/>    &lt;/v-card&gt;<br/><strong class="lo io">    &lt;v-btn fab fixed right bottom color="primary"&gt;<br/>    &lt;/v-btn&gt;</strong><br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;<br/>...</span></pre><p id="74b8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe ll lm ln lo b">fixed</code>、<code class="fe ll lm ln lo b">right</code>和<code class="fe ll lm ln lo b">bottom</code>道具应该是不言自明的——它们一起将FAB固定在视口的右下角:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/4ffc2ef27e6dcaea8bdb0a4fb9a44641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*twJm9E7XEqBeBV3d7ncgNQ.png"/></div></div></figure><p id="7c89" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该按钮将显示材料设计加号图标，以表明其用于添加任务:</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="3751" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="3fca" class="lp lq in lo b gy mv ms l mt mu">&lt;template&gt;<br/>  &lt;v-app&gt;<br/>    &lt;v-card&gt;<br/>      &lt;v-toolbar color="primary" elevation="3" dark rounded="0"&gt;<br/>        &lt;v-toolbar-title&gt;Tasks&lt;/v-toolbar-title&gt;<br/>      &lt;/v-toolbar&gt;<br/>    &lt;/v-card&gt;<br/>    &lt;v-card class="ma-4"&gt;<br/>      &lt;v-list&gt;<br/>        &lt;v-list-item<br/>          v-for="(task, index) in tasks"<br/>          :key="index"<br/>          v-bind:class="{ 'task-completed': task.isCompleted }"<br/>          two-line<br/>        &gt;<br/>          &lt;v-checkbox<br/>            hide-details<br/>            v-model="task.isCompleted"<br/>            class="mt-0 mr-2"<br/>          &gt;&lt;/v-checkbox&gt;<br/>          &lt;v-list-item-content&gt;<br/>            &lt;v-list-item-title&gt;{{ task.title }}&lt;/v-list-item-title&gt;<br/>            &lt;v-list-item-subtitle&gt;{{ task.note }}&lt;/v-list-item-subtitle&gt;<br/>          &lt;/v-list-item-content&gt;<br/>        &lt;/v-list-item&gt;<br/>      &lt;/v-list&gt;<br/>    &lt;/v-card&gt;<br/>    &lt;v-btn fab fixed right bottom color="primary"&gt;<br/>      <strong class="lo io">&lt;v-icon&gt;mdi-plus&lt;/v-icon&gt;</strong><br/>    &lt;/v-btn&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;<br/>...</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/36646729884bd79da8501861196c047d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6I4JuvoZf8RoTxsiTiD9uw.png"/></div></div></figure></div><div class="ab cl mx my hr mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ig ih ii ij ik"><h1 id="0142" class="ne lq in bd lr nf ng nh lu ni nj nk lx jt nl ju ma jw nm jx md jz nn ka mg no bi translated">获取此应用程序的源代码</h1><p id="17fe" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">在此注册<a class="ae lk" href="https://mailchi.mp/e784cee7e19a/todo-list-app-source-code" rel="noopener ugc nofollow" target="_blank">获得这个伟大应用的最新源代码！</a></p></div><div class="ab cl mx my hr mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ig ih ii ij ik"><h2 id="907a" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">显示添加新任务的对话框</h2><p id="eca7" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">现在让我们使用<code class="fe ll lm ln lo b">v-dialog</code>组件来创建一个对话框:</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="c6c7" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="310c" class="lp lq in lo b gy mv ms l mt mu">&lt;template&gt;<br/>  &lt;v-app&gt;<br/>    ...<br/>    &lt;v-btn fab fixed right bottom color="primary" <strong class="lo io">@click="showNewTaskDialog = true"</strong>&gt;<br/>      &lt;v-icon&gt;mdi-plus&lt;/v-icon&gt;<br/>    &lt;/v-btn&gt;<br/><strong class="lo io">    &lt;v-dialog v-model="showNewTaskDialog" width="500"&gt;<br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;</strong><br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;</span><span id="1368" class="lp lq in lo b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: 'App',<br/>  data: () =&gt; ({<br/>    tasks: [...Array(10)].map((value, index) =&gt; ({<br/>      id: `task${index + 1}`,<br/>      title: `Task ${index + 1}`,<br/>      note: `Some things to note about task ${index + 1}`,<br/>      isCompleted: false,<br/>    })),<br/><strong class="lo io">    showNewTaskDialog: false,</strong><br/>  }),<br/>};<br/>&lt;/script&gt;<br/>...</span></pre><p id="1b45" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">使用<code class="fe ll lm ln lo b">v-model</code>指令，我们在对话框的当前打开/关闭状态和我们创建的一个新的<code class="fe ll lm ln lo b">showNewTaskDialog</code>变量之间建立了一个双向绑定。</p><p id="cf67" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们使用<code class="fe ll lm ln lo b">v-card</code>来创建对话框的主体，并使用<code class="fe ll lm ln lo b">v-card-title</code>来设置它的标题，我们已经使用一些Vuetify类对其进行了样式化。</p><p id="c5f0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们可以通过将晶圆厂放置在<code class="fe ll lm ln lo b">v-dialog</code>的<code class="fe ll lm ln lo b">activator</code>插槽中来自动设置，而不是像上面那样在晶圆厂的<code class="fe ll lm ln lo b">@click</code>事件处理程序中手动设置<code class="fe ll lm ln lo b">showNewTaskDialog</code>到<code class="fe ll lm ln lo b">true</code>。这样做给了FAB对两个槽道具<code class="fe ll lm ln lo b">on</code>和<code class="fe ll lm ln lo b">attrs</code>的访问权，这两个槽道具设置了FAB的道具和事件(使用<code class="fe ll lm ln lo b">v-on</code>和<code class="fe ll lm ln lo b">v-bind</code>):</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="ba3e" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="1f3c" class="lp lq in lo b gy mv ms l mt mu">&lt;template&gt;<br/>  &lt;v-app&gt;<br/>  ...   <br/>    &lt;v-dialog v-model="showNewTaskDialog" width="500"&gt;<br/><strong class="lo io">      &lt;template v-slot:activator="{ on, attrs }"&gt;<br/>        &lt;v-btn fab fixed right bottom color="primary" v-on="on" v-bind="attrs"&gt;<br/>          &lt;v-icon&gt;mdi-plus&lt;/v-icon&gt;<br/>        &lt;/v-btn&gt;<br/>      &lt;/template&gt;</strong><br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;<br/>...</span></pre><p id="43dd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，当用户点击FAB时，会显示以下内容:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/20f024677f79614c285c3eeca96300ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVOJP3twffLtYV5m7O6sUQ.png"/></div></div></figure><h2 id="5549" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">创建表单</h2><p id="117f" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">我们将使用Vuetify <code class="fe ll lm ln lo b">v-form</code>组件构建表单。为了获得标题的输入，我们将设置另一个双向绑定，这次是在一个新的<code class="fe ll lm ln lo b">v-text-field</code>组件和一个新对象的<code class="fe ll lm ln lo b">title</code>属性之间，我们创建这个新对象是为了临时保存新的任务数据(<code class="fe ll lm ln lo b">newTask</code>):</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="19ab" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="03e8" class="lp lq in lo b gy mv ms l mt mu">&lt;template&gt;<br/>  &lt;v-app&gt;<br/>    ...<br/>    &lt;v-dialog v-model="showNewTaskDialog" width="500"&gt;<br/>      &lt;template v-slot:activator="{ on, attrs }"&gt;<br/>        &lt;v-btn fab fixed right bottom color="primary" v-on="on" v-bind="attrs"&gt;<br/>          &lt;v-icon&gt;mdi-plus&lt;/v-icon&gt;<br/>        &lt;/v-btn&gt;<br/>      &lt;/template&gt;<br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/><strong class="lo io">        &lt;v-form class="mx-4 mt-4"&gt;<br/>          &lt;v-text-field<br/>            v-model="newTask.title"<br/>            label="Title"<br/>            required<br/>          &gt;&lt;/v-text-field&gt;<br/>        &lt;/v-form&gt;</strong><br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;</span><span id="aec4" class="lp lq in lo b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: 'App',<br/>  data: () =&gt; ({<br/>    ...<br/><strong class="lo io">    newTask: {<br/>      title: '',<br/>    },</strong><br/>  }),<br/>};<br/>&lt;/script&gt;<br/>...</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/19d697344ba72b326b447bbac1c34e70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n66mwFOCzjJApEB0Ftl6Cg.png"/></div></div></figure><p id="b1a7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们使用<code class="fe ll lm ln lo b">v-textarea</code>创建一个文本区域，用于输入任务注释，因为我们预计它的大小会相当大。</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="c974" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="6301" class="lp lq in lo b gy mv ms l mt mu">...<br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/>        &lt;v-form class="mx-4 mt-4"&gt;<br/>          &lt;v-text-field<br/>            v-model="newTask.title"<br/>            label="Title"<br/>            required<br/>          &gt;&lt;/v-text-field&gt;<br/>          <strong class="lo io">&lt;v-textarea label="Note" v-model="newTask.note"&gt;&lt;/v-textarea&gt;</strong><br/>        &lt;/v-form&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;</span><span id="73a2" class="lp lq in lo b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: 'App',<br/>  data: () =&gt; ({<br/>    ...<br/>    newTask: {<br/>      title: '',<br/>      <strong class="lo io">note: '',</strong><br/>    },<br/>  }),<br/>};<br/>&lt;/script&gt;<br/>...</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/6cccc72c0277637fa84c73e578eac3ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nJ1sW9RDBLsjmUYu0LMvWA.png"/></div></div></figure><p id="172d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们可以改变Vuetify中文本区域和文本字段的设计。文本输入有3种变体:非框体(默认)、填充和轮廓化变体(非框体变体已被弃用，在官方材料设计指南中不再提及，尽管如此，Vuetify等材料设计框架仍继续支持它)。让我们调整一下:</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="78c1" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong><br/>    <br/>...<br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/>        &lt;v-form class="mx-4 mt-4"&gt;<br/>          &lt;v-text-field<br/>            v-model="newTask.title"<br/>            label="Title"<br/>            required<br/>            <strong class="lo io">outlined</strong><br/>          &gt;&lt;/v-text-field&gt;<br/>          &lt;v-textarea label="Note" v-model="newTask.note" <strong class="lo io">outlined</strong>&gt;&lt;/v-textarea&gt;<br/>        &lt;/v-form&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;<br/>...</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi np"><img src="../Images/d5b524c3c2da9fcbb1487080ae13441d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3AmQmw0ON266YjLkGePLw.png"/></div></div></figure><h2 id="2184" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">创建表单按钮</h2><p id="964d" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">该表单需要两个按钮:一个用于取消添加新任务并关闭对话框，另一个用于提交表单输入并创建任务。<code class="fe ll lm ln lo b">Cancel</code>按钮为普通型，而<code class="fe ll lm ln lo b">Add</code>按钮为凸起型:</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="8abd" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="4302" class="lp lq in lo b gy mv ms l mt mu">...<br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/>        &lt;v-form class="mx-4 mt-4 <strong class="lo io">pb-4</strong>"&gt;<br/>          &lt;v-text-field<br/>            v-model="newTask.title"<br/>            label="Title"<br/>            required<br/>            outlined<br/>          &gt;&lt;/v-text-field&gt;<br/>          &lt;v-textarea label="Note" v-model="newTask.note" outlined&gt;&lt;/v-textarea&gt;<br/><strong class="lo io">          &lt;div class="d-flex justify-end"&gt;<br/>            &lt;v-btn plain class="mr-2"&gt;Cancel&lt;/v-btn&gt;<br/>            &lt;v-btn color="primary"&gt;Add&lt;/v-btn&gt;<br/>          &lt;/div&gt;</strong><br/>        &lt;/v-form&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;<br/>...</span></pre><p id="6908" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">请注意，我们使用了一些Vuetify flex辅助类来将两个按钮向右对齐。我们还用<code class="fe ll lm ln lo b">mr-2</code>助手类在它们之间添加了一些空间:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/b8e5605a2270deb2e0e7fca36e7c9ac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aokVrQQ_kx91qrNXzu_1KA.png"/></div></div></figure><h2 id="626d" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">重置表单输入</h2><p id="83b6" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">除了在点击<code class="fe ll lm ln lo b">Cancel</code>按钮时关闭对话框之外，我们还需要清除所有表单输入并重置任何验证错误。为此，我们可以使用<code class="fe ll lm ln lo b">reset()</code>方法，可通过在表单组件上设置ref来访问:</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="cd06" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="6dd1" class="lp lq in lo b gy mv ms l mt mu">...<br/>      &lt;v-card&gt;<br/>        &lt;v-card-title class="text-h5 grey lighten-2"&gt;Add New Task&lt;/v-card-title&gt;<br/>        &lt;v-form class="mx-4 mt-4 pb-4" <strong class="lo io">ref="form"</strong>&gt;<br/>          &lt;v-text-field<br/>            v-model="newTask.title"<br/>            label="Title"<br/>            required<br/>            outlined<br/>          &gt;&lt;/v-text-field&gt;<br/>          &lt;v-textarea label="Note" v-model="newTask.note" outlined&gt;&lt;/v-textarea&gt;<br/>          &lt;div class="d-flex justify-end"&gt;<br/>            &lt;v-btn plain class="mr-2" <strong class="lo io">@click="cancelButtonClick"</strong>&gt;Cancel&lt;/v-btn&gt;<br/>            &lt;v-btn color="primary"&gt;Add&lt;/v-btn&gt;<br/>          &lt;/div&gt;<br/>        &lt;/v-form&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;</span><span id="ce31" class="lp lq in lo b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: 'App',<br/>  data: () =&gt; ({<br/>    ...<br/>  }),<br/><strong class="lo io">  methods: {<br/>    cancelButtonClick() {<br/>      this.showNewTaskDialog = false;<br/>      this.$refs.form.reset();<br/>    }<br/>  }</strong><br/>};<br/>&lt;/script&gt;<br/>...</span></pre><h2 id="2d03" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">提交时验证表单输入</h2><p id="44b6" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">现在，让我们在创建任务之前确保表单数据是有效的。我们在表单上设置了<code class="fe ll lm ln lo b">lazy-validation</code>属性，这意味着在我们调用表单ref上的<code class="fe ll lm ln lo b">validate()</code>方法之前，不会检查其输入的有效性。此外，我们监听<code class="fe ll lm ln lo b">submit</code>事件，并使用Vue的<code class="fe ll lm ln lo b">.prevent</code>事件修饰符来阻止页面在提交发生时被重新加载。</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="b644" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="7506" class="lp lq in lo b gy mv ms l mt mu">...<br/>        &lt;v-form<br/>          class="mx-4 mt-4 pb-4"<br/>          ref="form"<br/>          <strong class="lo io">@submit.prevent="newTaskFormSubmit"</strong><br/>          <strong class="lo io">lazy-validation</strong><br/>        &gt;<br/>          &lt;v-text-field<br/>            v-model="newTask.title"<br/>            label="Title"<br/>            required<br/>            outlined<br/>            <strong class="lo io">:rules="titleRules"</strong><br/>          &gt;&lt;/v-text-field&gt;<br/>          &lt;v-textarea label="Note" v-model="newTask.note" outlined&gt;&lt;/v-textarea&gt;<br/>          &lt;div class="d-flex justify-end"&gt;<br/>            &lt;v-btn plain class="mr-2" @click="cancelButtonClick"&gt;Cancel&lt;/v-btn&gt;<br/>            &lt;v-btn color="primary" <strong class="lo io">type="submit"</strong>&gt;Add&lt;/v-btn&gt;<br/>          &lt;/div&gt;<br/>        &lt;/v-form&gt;<br/>      &lt;/v-card&gt;<br/>    &lt;/v-dialog&gt;<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;</span><span id="3bad" class="lp lq in lo b gy mv ms l mt mu">&lt;script&gt;<br/>export default {<br/>  name: 'App',<br/>  data: () =&gt; ({<br/>    ...<br/>    newTask: {<br/>      title: '',<br/>      note: '',<br/>    },<br/><strong class="lo io">    titleRules: [(value) =&gt; Boolean(value) || 'Enter a title'],</strong><br/>  }),<br/>  methods: {<br/>    cancelButtonClick() {<br/>      this.showNewTaskDialog = false;<br/>      this.$refs.form.reset();<br/>    },<br/><strong class="lo io">    newTaskFormSubmit() {<br/>      if (this.$refs.form.validate()) {<br/>        // add new task<br/>      }<br/>    },</strong><br/>  },<br/>};<br/>&lt;/script&gt;<br/>...</span></pre><p id="5248" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Vuetify中的文本输入组件使用一个<code class="fe ll lm ln lo b">rules</code>道具进行验证。这个prop接受一个混合数组，它的元素可以是函数、字符串或布尔值。每个元素代表一个规则。我们在数组中创建的单个函数接受当前输入的值，并返回一个布尔值或字符串。如果函数的返回值是<code class="fe ll lm ln lo b">true</code>(在这种情况下，这意味着已经输入了一个标题，并且输入字符串不再正确)，那么验证被判定为成功。但是如果函数的返回值是<code class="fe ll lm ln lo b">false</code>或者一个字符串(包含一个错误消息)，那么验证失败，表单输入进入错误状态。</p><p id="6352" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">所以当用户没有输入标题并点击<code class="fe ll lm ln lo b">Add</code>时:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/4fda6f275eb246597d49f95b1454e329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2mPY9bTfywukXPtY8AZ32A.png"/></div></div></figure><h2 id="813e" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated">成功验证时添加任务</h2><p id="d88a" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">剩下的就是向<code class="fe ll lm ln lo b">tasks</code>添加一个新项目，关闭对话框，并在成功验证后重置表单输入:</p><pre class="kd ke kf kg gt mn lo mo mp aw mq bi"><span id="176f" class="lp lq in lo b gy mr ms l mt mu"><strong class="lo io">src/App.js</strong></span><span id="b2e3" class="lp lq in lo b gy mv ms l mt mu">&lt;template&gt;<br/>  &lt;v-app&gt;<br/>    &lt;v-card&gt;<br/>      &lt;v-toolbar color="primary" elevation="3" dark rounded="0"&gt;<br/>        &lt;v-toolbar-title&gt;Tasks&lt;/v-toolbar-title&gt;<br/>      &lt;/v-toolbar&gt;<br/>    &lt;/v-card&gt;<br/>    &lt;v-card class="ma-4"<strong class="lo io"> v-show="tasks.length &gt; 0"</strong>&gt;    &lt;!-- Hide card if there are no tasks --&gt;<br/>      ...<br/>    &lt;/v-card&gt;<br/>    ...<br/>  &lt;/v-app&gt;<br/>&lt;/template&gt;</span><span id="6a50" class="lp lq in lo b gy mv ms l mt mu">&lt;script&gt;<br/><strong class="lo io">import { v4 } from 'uuid';</strong>    // Add the "uuid" module for random task ID generation</span><span id="78d1" class="lp lq in lo b gy mv ms l mt mu">export default {<br/>  name: 'App',<br/>  data: () =&gt; ({<br/>    <strong class="lo io">tasks: [],</strong> // We don't need sample data anymore<br/>    showNewTaskDialog: false,<br/>    newTask: {<br/>      title: '',<br/>      note: '',<br/>    },<br/>    titleRules: [(value) =&gt; Boolean(value) || 'Enter a title'],<br/>  }),<br/>  methods: {<br/>    cancelButtonClick() {<br/>      this.showNewTaskDialog = false;<br/>      this.$refs.form.reset();<br/>    },<br/>    newTaskFormSubmit() {<br/>      if (this.$refs.form.validate()) {<br/><strong class="lo io">        this.tasks.push({<br/>          id: v4(),<br/>          title: this.newTask.title,<br/>          note: this.newTask.note,<br/>          isCompleted: false,<br/>        });<br/>        this.showNewTaskDialog = false;<br/>        this.$refs.form.reset();</strong><br/>      }<br/>    },<br/>  },<br/>};<br/>&lt;/script&gt;<br/>...</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nq"><img src="../Images/974e449ea18b58fd36f8aaf5aed7d597.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ewzd-v6uBXheTb_lnLP5HA.png"/></div></div><figcaption class="nr ns gj gh gi nt nu bd b be z dk">A new task added with the form</figcaption></figure><h1 id="aa22" class="ne lq in bd lr nf nv nh lu ni nw nk lx jt nx ju ma jw ny jx md jz nz ka mg no bi translated">未完待续…</h1><p id="6318" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">今天我们学习了如何使用FABs、对话框、表单、文本输入和按钮来允许用户创建他们自己的任务。我们还遇到了一些来自Vuetify的有用的表单方法，用于验证和重置输入。</p><p id="523c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">请继续关注我们的下一集，我们将使用这个奇妙的材料设计框架，从头到尾一起构建这个待办事项列表应用程序。</p><p id="6571" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="oa">更多内容请看</em><a class="ae lk" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><em class="oa">plain English . io</em></a><em class="oa">。报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="oa">免费周报</em> </a> <em class="oa">。在我们的</em> <a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="oa">社区不和谐</em> </a> <em class="oa">获取独家写作机会和建议。</em></p></div></div>    
</body>
</html>