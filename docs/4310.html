<html>
<head>
<title>How to Utilize Web Storage in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中利用Web存储</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-utilize-web-storage-in-javascript-18e9c4718e75?source=collection_archive---------2-----------------------#2022-11-19">https://javascript.plainenglish.io/how-to-utilize-web-storage-in-javascript-18e9c4718e75?source=collection_archive---------2-----------------------#2022-11-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ee1e39aaba7735c7b8cfb9bdd22acdbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RxKytVgZZ8pkIdaos7R8EQ.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Image by <a class="ae jz" href="https://pixabay.com/ko/users/valdasmiskinis-12049839/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4203677" rel="noopener ugc nofollow" target="_blank">Valdas Miskinis</a> from <a class="ae jz" href="https://pixabay.com/ko//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4203677" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="1a46" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在web开发中，即使是最简单的应用程序也需要在某个地方存储数据。在这种情况下，通常，数据存储在数据库(DB)服务器上，如<em class="ky"> MySQL </em>或<em class="ky"> MongoDB </em>。但是，如果存储的数据不是非常重要，那么将数据发送到服务器可能会浪费资源。这篇文章将着眼于允许你在客户端或浏览器上存储数据的JavaScript Web存储API。</p><h1 id="e981" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">本地存储与会话存储</h1><p id="745c" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">Web存储包括两种类型:<code class="fe mc md me mf b">localStorage</code>和<code class="fe mc md me mf b">sessionStorage</code>。这两者的区别在于数据保留和持续的时间。</p><ul class=""><li id="93f1" class="mg mh in kc b kd ke kh ki kl mi kp mj kt mk kx ml mm mn mo bi translated">在<strong class="kc io">会话存储</strong>中，当浏览器或标签关闭时，存储的数据被删除。</li><li id="9ce6" class="mg mh in kc b kd mp kh mq kl mr kp ms kt mt kx ml mm mn mo bi translated">在<strong class="kc io">本地存储器</strong>中，数据甚至在会话结束后仍然存在。仅当通过JavaScript清除或用户删除浏览器数据或缓存时。</li></ul><p id="b5ea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">由于基本的API语法对于<code class="fe mc md me mf b">localStorage</code>和<code class="fe mc md me mf b">sessionStorage</code>是相同的，我将提供基于<code class="fe mc md me mf b">localStorage</code>的例子。当应用会话存储时，只需用<code class="fe mc md me mf b">sessionStorage</code>替换<code class="fe mc md me mf b">localStorage</code>关键字。</p><h1 id="fab8" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">存储和检索数据</h1><p id="047f" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">存储数据的语法是<code class="fe mc md me mf b"><em class="ky">window.localStorage.setItem(</em><strong class="kc io"><em class="ky">&lt;variable&gt;</em></strong><em class="ky">, </em><strong class="kc io"><em class="ky">&lt;data&gt;</em></strong><em class="ky">)</em></code>或<code class="fe mc md me mf b">window.<em class="ky">localStorage.</em><strong class="kc io"><em class="ky">&lt;variable&gt;</em></strong><em class="ky"> = </em><strong class="kc io"><em class="ky">&lt;data&gt;</em></strong></code>。检索存储数据的语法是<code class="fe mc md me mf b">window.localStorage.getItem(<strong class="kc io">&lt;variable&gt;</strong>)</code>或<code class="fe mc md me mf b">window.localStorage.<strong class="kc io">&lt;variable&gt;</strong></code>。</p><blockquote class="mu mv mw"><p id="d6e5" class="ka kb ky kc b kd ke kf kg kh ki kj kk mx km kn ko my kq kr ks mz ku kv kw kx ig bi translated"><em class="in">注意</em> <code class="fe mc md me mf b"><em class="in">window</em></code> <em class="in">部分可以忽略，就像其他许多窗口功能一样。</em></p></blockquote><figure class="nb nc nd ne gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/1a1f9bc0c5417cc5dc63be3e91467e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*posdG47FZzDLp1tCiYZcjw.png"/></div></div></figure><h2 id="f693" class="nf la in bd lb ng nh dn lf ni nj dp lj kl nk nl ln kp nm nn lr kt no np lv nq bi translated">❗️Caution: Web存储将数据存储为字符串类型</h2><p id="33fd" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">注意，<code class="fe mc md me mf b">numHats</code>数字数据和<code class="fe mc md me mf b">isSmart</code>布尔数据被保存为<strong class="kc io">字符串</strong>。web存储API将所有数据存储为字符串，因此如果您将任何非字符串数据写入本地存储并再次重新读取，您将看到以下字符串形式的输出。</p><p id="0c48" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">✅ ️To重用上面的两个变量，我们将需要使用函数来解析它们，比如对整数类型使用<code class="fe mc md me mf b">parseInt()</code>和对布尔类型使用恒等运算符<code class="fe mc md me mf b">=== 'true'</code>。</p><p id="520d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">✅对于数组、对象等特殊的对象类型，数据不会像下面这个例子预期的那样被正确保存，所以我们可以使用JSON <code class="fe mc md me mf b">stringify()</code>和<code class="fe mc md me mf b">parse()</code>方法来解决这个问题。</p><figure class="nb nc nd ne gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/dcba0e4fe575360e233dff1f1e0178fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vSxe9OHZUnYWZv42b7jkcQ.png"/></div></div></figure><h1 id="a252" class="kz la in bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">删除数据</h1><p id="2766" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">要删除数据项，使用<code class="fe mc md me mf b">window.localStorage.removeItem(&lt;variable&gt;)</code>语法。要删除本地存储器中的所有项目或完全清除存储器，使用<code class="fe mc md me mf b">window.localStorage.clear()</code>。</p><figure class="nb nc nd ne gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi na"><img src="../Images/b450cae032987d1a8f38011438597ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5ITK-1u9MnItMFO7CGs2w.png"/></div></div></figure><p id="19ce" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">还可以获取<code class="fe mc md me mf b">localStorage.length</code>来获取<code class="fe mc md me mf b">localStorage</code>中存储的项目数。注意，我用这个来检查<code class="fe mc md me mf b">localStorage</code>是否如预期的那样被完全清除。</p></div><div class="ab cl nr ns hr nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ig ih ii ij ik"><h1 id="cc3d" class="kz la in bd lb lc ny le lf lg nz li lj lk oa lm ln lo ob lq lr ls oc lu lv lw bi translated">好了</h1><p id="e9eb" class="pw-post-body-paragraph ka kb in kc b kd lx kf kg kh ly kj kk kl lz kn ko kp ma kr ks kt mb kv kw kx ig bi translated">现在我们有了。我希望您发现这有助于理解web存储在JavaScript中是如何工作的。这个API覆盖了高达5MB的存储空间，所以如果你需要客户端存储，它会派上用场。感谢您的阅读！</p><p id="7b09" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">点击此处了解更多信息:</p><ul class=""><li id="d41e" class="mg mh in kc b kd ke kh ki kl mi kp mj kt mk kx ml mm mn mo bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/Window/local storage</a></li><li id="0e56" class="mg mh in kc b kd mp kh mq kl mr kp ms kt mt kx ml mm mn mo bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" rel="noopener ugc nofollow" target="_blank">https://developer . Mozilla . org/en-US/docs/Web/API/Window/session storage</a></li><li id="8a59" class="mg mh in kc b kd mp kh mq kl mr kp ms kt mt kx ml mm mn mo bi translated"><a class="ae jz" href="https://www.youtube.com/watch?v=nmLwQyWzkXU" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=nmLwQyWzkXU</a></li></ul><p id="71a7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更物在</em> <a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">素朴</em></strong> </a> <em class="ky">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">免费周报</em> </strong> </a> <em class="ky">。</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ky">Twitter</em></strong></a><a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ky">LinkedIn</em></strong></a><strong class="kc io"><em class="ky"/></strong><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ky">YouTube</em></strong><strong class="kc io"><em class="ky"/></strong><em class="ky">和</em></a><a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><em class="ky">不和</em>  </a>  <em class="ky">对Growth Hacking感兴趣吗？查看</em> <a class="ae jz" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">电路</em> </strong> </a> <strong class="kc io"> <em class="ky">。</em> </strong></p></div></div>    
</body>
</html>