<html>
<head>
<title>How to Remove Query String Parameters in URL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何删除URL中的查询字符串参数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-remove-query-string-parameters-in-url-c3cb35421083?source=collection_archive---------3-----------------------#2022-11-07">https://javascript.plainenglish.io/how-to-remove-query-string-parameters-in-url-c3cb35421083?source=collection_archive---------3-----------------------#2022-11-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5986" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">有没有比正则表达式更好的方法？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/75b81924253e3aac4d5422a037906457.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a7S6ASUiueTHxLqD"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@melocokr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sam Pak</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b188" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想用JavaScript删除一个URL的参数时，你可能会首先想到使用正则表达式，但是写起来很烦人。有没有更好的方法来避免为此使用regex？</p><p id="7b40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，如果你使用的是现代浏览器，用<code class="fe ls lt lu lv b">URLSearchParams</code>很容易做到这一点:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/f785b9c79d054db33b8867e3479f6641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K3It-bJNdRBKsPbNRBqsIw.png"/></div></div></figure><p id="4435" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更进一步，我们可以创建一个方法来处理这个问题:</p><pre class="kg kh ki kj gt lx lv ly lz aw ma bi"><span id="a6c3" class="mb mc iq lv b gy md me l mf mg"><strong class="lv ir">function removeParamFromURL(url, param) {<br/>  const urlObj = new URL(url);</strong></span><span id="317c" class="mb mc iq lv b gy mh me l mf mg"><strong class="lv ir">  urlObj.searchParams.delete(param);<br/>  return urlObj.toString();<br/>}</strong></span></pre><p id="b5b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是老浏览器不支持:<a class="ae kv" href="https://caniuse.com/?search=URLSearchParams" rel="noopener ugc nofollow" target="_blank">https://caniuse.com/?search=URLSearchParams</a></p><p id="5868" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以选择使用polyfill，但是最好编写一个更兼容的方法:</p><pre class="kg kh ki kj gt lx lv ly lz aw ma bi"><span id="6c0a" class="mb mc iq lv b gy md me l mf mg"><strong class="lv ir">function removeParamFromURL(url, param) {<br/>  const [path, searchParams] = url.split('?');</strong></span><span id="d2da" class="mb mc iq lv b gy mh me l mf mg"><strong class="lv ir">  const newSearchParams = searchParams<br/>    ?.split('&amp;')<br/>    .filter((p) =&gt; !(p === param || p.startsWith(`${param}=`)))<br/>    .join('&amp;');</strong></span><span id="dee8" class="mb mc iq lv b gy mh me l mf mg"><strong class="lv ir">  return newSearchParams ? `${path}?${newSearchParams}` : path;<br/>}</strong></span></pre><p id="17c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">仅此而已，这里有一个用例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="a922" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不是中等会员？<a class="ae kv" href="https://medium.com/@hibrandonevans/membership" rel="noopener">在这里支持我</a>成为其中一员。</p><p id="35b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="a046" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mr">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">说白了就是io </em> </strong> </a> <em class="mr">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">免费周报</em> </strong> </a> <em class="mr">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">Twitter</em></strong></a>，<a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">LinkedIn</em></strong></a><em class="mr">，</em><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">YouTube</em></strong></a><em class="mr">，</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">不和</em> </strong> </a> <em class="mr">。对增长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">电路</em> </strong> </a> <em class="mr">。</em></p></div></div>    
</body>
</html>