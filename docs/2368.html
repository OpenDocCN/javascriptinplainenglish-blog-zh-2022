<html>
<head>
<title>What I Learned from Google and 2 Developers with Bad Programming Practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我从谷歌和2个编程实践糟糕的开发者那里学到了什么</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-i-learned-from-google-and-2-developers-with-bad-programming-practices-f5e043dd6712?source=collection_archive---------3-----------------------#2022-06-02">https://javascript.plainenglish.io/what-i-learned-from-google-and-2-developers-with-bad-programming-practices-f5e043dd6712?source=collection_archive---------3-----------------------#2022-06-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1e88" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个开发者复制粘贴，另一个不文档化。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/613eb44b6ab18228a9b126cccac115d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u4nU5_ZqNCEmxD7S"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@rswebsols?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Souvik Banerjee</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="56db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由此产生的代码(以冗余和扭曲的方式运行)是来自两个主要来源的许多同时发生的不良实践的汇合结果:开发者和巨头谷歌。</p><p id="b9ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了帮助你理解，有必要对代码进行反汇编，并推断出它的历史，我试着总结一下:</p><ul class=""><li id="0765" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">最初的程序(一个铃声生成器)是在2013年由一个开发者开始的，比如说，<strong class="ky ir">乔。</strong></li><li id="1fbe" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir"> Joe有一个坏习惯(很时髦):</strong>从Stack Overflow复制粘贴，不用太担心字体。虽然剪切粘贴是合理的，但是错的是<strong class="ky ir">在做代码的时候完全没有文档和推理。匆忙通常是一个糟糕的顾问。</strong></li><li id="000b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">当时安卓的版本是KitKat，内部安全设计还处于初级阶段。结果，<strong class="ky ir"> Android本身就存在诸多安全缺陷。</strong></li><li id="8f8e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">2015年，Joe停止开发代码，去了另一家公司。然而，该程序已经运行了一段时间。</li><li id="26ca" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">开发任务就委托给了<strong class="ky ir">瑞安</strong>，他还有一个坏习惯。当他看到他处理过的代码时，他让代码保持不变，而不用担心文档或请求文档。他知道这行得通，但有些概念对他来说是陌生的。如果代码有问题，他将已经设法用他已经知道的来修复它。</li><li id="4ed2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">谷歌继续Android开发并发布了6.0版本(棉花糖)，引入了<strong class="ky ir">运行时权限。</strong>简而言之，新版Android更安全，<strong class="ky ir">将多个权限的决定权委托给用户交互:</strong></li><li id="718f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们从这里通过(安装应用程序时要求所有权限)</li><li id="c0ee" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">这是一个重要的细节:<strong class="ky ir">它迫使开发人员重新思考应用程序，并添加额外的代码来处理快速授予或拒绝权限的情况。</strong>这是安全方面的一大进步，<strong class="ky ir">谷歌将这种新模式的解决方案委托给了开发者。标准的做法是开发人员负责解决这些事件(这不是谷歌的权力:微软、甲骨文和其他公司也有他们的)。</strong>也就是说，在安全性方面前进了一步，但由于变更的破坏性而后退了一步。成千上万的(运行良好的)应用程序将不得不被重新编程以符合新的标准。否则<strong class="ky ir">从Android 6开始就不行了。</strong></li><li id="318c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们回到<strong class="ky ir"> Ryan </strong>的话题:现在越来越多的人发现这个应用程序不能在新设备上运行。不管怎样，你都得想办法。<strong class="ky ir"> Joe </strong>很久没有开发这个应用程序了，他可能也不知道这个问题。</li><li id="4f9e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">因此<strong class="ky ir"> Ryan </strong>做了任何开发人员都会做的事情:开始研究问题并尽快寻找解决方案。</li><li id="fe21" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">由于对主题了解甚少，他做了一个<strong class="ky ir">‘补丁’或‘修复’</strong>:如果设备是安卓6以下，做一件事。如果是旧的，再做一个。它<strong class="ky ir">工作正常，除了“以防万一”复制了大量代码。</strong>这是另一个影响许多开发的问题:<strong class="ky ir">对问题的部分分析会导致冗余代码和长期问题。</strong></li><li id="669e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">一路上，Ryan跳过了记录。毕竟，他能记住整个解决方案。为什么记录？许多程序员都有“完美记忆”情结，他们认为他们能记住所有的事情，因此没有必要做记录。时间总是负责证明他们是错的。</li><li id="eb6c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">当你开始复制代码时，你需要复制做相同事情或者几乎相同事情的功能。这“几乎”要求你开始“调整”变量并创建新代码。最后，Ryan将以大量“手工”代码结束<strong class="ky ir">，以避免根据新的变化重新分析情况。</strong></li><li id="3604" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">2017年年中:谷歌推出Android 8，在安全层面有了新的变化，<strong class="ky ir">再次对完全可操作的应用产生负面影响。</strong></li><li id="0ebb" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">同样，该应用程序不能在Android 8及以上版本上运行。瑞安已经掌握了代码:如果Android大于8，就做一件事。如果小于8，再做一次。不对不对，如果安卓大于6和&lt; 6我也得。好吧，我会看看如何适应自己。</li><li id="2c9f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Ryan的代码开始看起来像一个7头的hydra，在这里复制代码，在那里复制代码，并试图使所有代码作为一个应用程序工作。</li><li id="c830" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">过了一段时间，Ryan换了工作，去了另一家公司做程序设计。不幸的是，他留下了一堆难以理解的代码。</li><li id="a4f4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">不幸的是现在必须维护代码的人。剩下的是一个可以工作的程序<strong class="ky ir">，但是没有文档的话，不知道为什么有些东西会工作，顺序是什么。</strong></li></ul><h1 id="49c1" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">在这个故事中，我们可以指出一些寓意:</h1><ul class=""><li id="e154" class="ls lt iq ky b kz my lc mz lf na lj nb ln nc lr lx ly lz ma bi translated">即使有完美的代码，开发人员的工作也很少完成。所有应用程序都依赖于它们之间的交互方式，并由操作系统支持。所以除了在非常狭窄的环境中，<strong class="ky ir">‘完美’</strong>的概念并不存在。剩下的就是<strong class="ky ir">可完善的代码</strong>，<strong class="ky ir">一个“活的”存在，我们对它进行建模，以便它以某种方式适应它的环境。</strong></li><li id="930b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><strong class="ky ir">当咨询公司改变其“范式”时，会有紧张的工作时期。它就像一股无声的巨浪，影响着成千上万的应用程序，让它们无法运行。大公司将责任委托给程序员<strong class="ky ir">已经成为一种规范，一种强制承担的责任，</strong>而这种(灾难性的)做法的含义很难被理解。它被认为是“该应用程序在新版操作系统中无法工作”或“这些应用程序停止工作”或“它在我的新手机上无法工作”。<strong class="ky ir">责任人落在开发商身上。</strong></strong></li><li id="59a9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">糟糕的开发实践会放大并留下可操作的代码，这些代码会在我们眼皮底下爆炸。这是一个“传递烫手山芋”的例子，没有人对代码变得有缺陷和没有文档记录的后果负责。</li></ul><p id="e1bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> PS: </strong>人名纯属虚构。没有乔/瑞安在这个故事中受到伤害。</p><p id="cc03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nd">更多内容看</em> </strong> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">说白了就是</em> </strong> </a> <strong class="ky ir"> <em class="nd">。报名参加我们的</em> </strong> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">免费每周简讯</em> </strong> </a> <strong class="ky ir"> <em class="nd">。关注我们关于</em></strong><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">Twitter</em></strong></a><strong class="ky ir"><em class="nd">和</em></strong><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">LinkedIn</em></strong></a><strong class="ky ir"><em class="nd">。查看我们的</em> </strong> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">社区不和谐</em> </strong> </a> <strong class="ky ir"> <em class="nd">加入我们的</em> </strong> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">人才集体</em> </strong> </a> <strong class="ky ir"> <em class="nd">。</em> </strong></p></div></div>    
</body>
</html>