<html>
<head>
<title>Build a Chatbot &amp; Add to Your Express Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建聊天机器人并添加到您的Express框架中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-chatbot-add-to-your-express-framework-f05b416e8860?source=collection_archive---------14-----------------------#2022-10-17">https://javascript.plainenglish.io/build-a-chatbot-add-to-your-express-framework-f05b416e8860?source=collection_archive---------14-----------------------#2022-10-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9545e23f8b30da68f859757256221bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2gzebCpxUr3xul9u.jpg"/></div></div></figure><p id="0365" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Express.js，或简称Express，是Node.js后端web应用框架。这是一个轻量级、适应性强的Node.js web应用程序框架，为web和移动应用程序提供了一套全面的特性。</p><p id="0797" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我将让您很容易理解如何将聊天机器人集成到Express项目中。</p><h1 id="0d0c" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">先决条件</h1><ul class=""><li id="8803" class="lr ls in jx b jy lt kc lu kg lv kk lw ko lx ks ly lz ma mb bi translated">本教程使用Node.js。您必须熟悉JavaScript并对Node.js有基本的了解。在开始之前，请确保您的计算机上安装了Node.js。</li><li id="06bc" class="lr ls in jx b jy mc kc md kg me kk mf ko mg ks ly lz ma mb bi translated">除此之外，您还需要一个预构建的聊天机器人，它可以随时部署到您的Express项目中。在本教程中，我们将使用来自<a class="ae mh" href="https://www.kommunicate.io/product/kompose-bot-builder" rel="noopener ugc nofollow" target="_blank"> Kompose </a>的预建聊天机器人。</li><li id="4ad1" class="lr ls in jx b jy mc kc md kg me kk mf ko mg ks ly lz ma mb bi translated">如果你还没有聊天机器人，这里的<a class="ae mh" href="https://www.kommunicate.io/blog/how-to-make-a-chatbot/" rel="noopener ugc nofollow" target="_blank"/>是一个一步一步的教程，让你不用任何编码就能创建自己的聊天机器人。</li></ul><h1 id="8ce4" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">以下是将聊天机器人添加到快速框架的3个快速步骤。</h1><ol class=""><li id="6387" class="lr ls in jx b jy lt kc lu kg lv kk lw ko lx ks mi lz ma mb bi translated">设置您的快速应用程序</li><li id="7e75" class="lr ls in jx b jy mc kc md kg me kk mf ko mg ks mi lz ma mb bi translated">创建快速应用程序生成器</li><li id="9285" class="lr ls in jx b jy mc kc md kg me kk mf ko mg ks mi lz ma mb bi translated">将聊天机器人与Express集成</li></ol><p id="ce73" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们来详细讨论一下。</p><h1 id="1c61" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.设置您的快速应用程序</h1><p id="bd62" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">要开始创建应用程序，请在终端中键入以下几行。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="2915" class="mv ku in mr b gy mw mx l my mz">$ mkdir myapp<br/>$ cd myapp<br/>$ npm init<br/>$ npm install express --save</span></pre><p id="c595" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">将以下代码添加到myapp目录下的app.js文件中。由于这个简单的配置，现在我们有一个Node.js应用程序运行在express框架中。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="d8eb" class="mv ku in mr b gy mw mx l my mz">const express = require('express')<br/>const app = express()<br/>const port = 3000</span><span id="48e2" class="mv ku in mr b gy na mx l my mz">app.get('/', (req, res) =&gt; {<br/>  res.send('Hello World!')<br/>})<br/>app.listen(port, () =&gt; {<br/>  console.log(`Example app listening at http://localhost:${port}`)<br/>})</span></pre><h1 id="87d0" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2.创建快速应用程序生成器</h1><p id="5174" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">Express-generator是一个应用程序生成器工具，用于快速创建应用程序框架。这将有助于安装所有的依赖项，并允许我们以更结构化的方式运行静态JS/CSS文件。使用以下代码将应用程序生成器安装为全局npm包，然后启动它。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="118a" class="mv ku in mr b gy mw mx l my mz">$ npm install -g express-generator<br/>$ express</span></pre><p id="e2fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">注意:</strong>生成器生成的app结构只是组织Express apps的众多选项之一。请随意使用或修改此结构，以最大限度地满足您的需求。</p><p id="5ffd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该应用程序将创建在当前工作目录的一个文件夹中，视图引擎将设置为Pug。并使用以下命令运行项目。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="4c8e" class="mv ku in mr b gy mw mx l my mz">DEBUG=myapp:* npm start</span></pre><h1 id="25a5" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">3.将通讯聊天机器人与Express项目集成</h1><p id="5c47" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mj ki kj kk mk km kn ko ml kq kr ks ig bi translated">要将kommunicate与Express集成，在public JavaScript文件夹中创建一个单独的脚本文件，并使用layout.pug文件上的script标记调用它。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="59de" class="mv ku in mr b gy mw mx l my mz">(function(d, m){<br/>    var kommunicateSettings = <br/>        {"appId":"YOUR_APP_ID","popupWidget":true,"automaticChatOpenOnNavigation":true};<br/>    var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;<br/>    s.src = "https://widget.kommunicate.io/v2/kommunicate.app";<br/>    var h = document.getElementsByTagName("head")[0]; h.appendChild(s);<br/>    window.kommunicate = m; m._globals = kommunicateSettings;<br/>})(document, window.kommunicate || {});</span></pre><p id="3299" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Express使用express.static内置中间件函数来提供静态文件，如图像、CSS文件和JavaScript文件。检查app.js文件中是否添加了以下函数签名:</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="2352" class="mv ku in mr b gy mw mx l my mz">app.use(express.static(path.join(__dirname, 'public')));</span></pre><p id="50c2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您可以使用layout.pug文件脚本标记来访问Kommunicate脚本文件。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="2510" class="mv ku in mr b gy mw mx l my mz">doctype html<br/>html<br/>  head<br/>    title= title<br/>    link(rel='stylesheet', href='/stylesheets/style.css')<br/>    script(src="javascripts/kommunicate.js")<br/>  body<br/>    block content</span></pre><p id="8cf9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">既然我们已经指定了要在应用程序中使用的自定义JavaScript文件，那么让我们来看看它们在应用程序中是如何出现的。在浏览器中加载<a class="ae mh" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>来查看输出。</p><figure class="mm mn mo mp gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c289dac3ea51eb1e53cb679e42b2bbed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T_AEuaJexIxZt8nM.png"/></div></div></figure><p id="42ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你运行浏览器，你应该看到一个聊天窗口弹出，这意味着你的聊天机器人准备好了。这就是你如何将Kommunicate聊天工具集成到Express应用程序中。</p><p id="d349" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最初发表于2022年6月8日https://www.kommunicate.io/的<a class="ae mh" href="https://www.kommunicate.io/blog/express-js-chatbot/" rel="noopener ugc nofollow" target="_blank"/></p><p id="d390" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nb">更多内容看</em> <a class="ae mh" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nb">说白了就是</em> </strong> </a> <em class="nb">。报名参加我们的</em> <a class="ae mh" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们关于</em> <a class="ae mh" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nb">推特</em> </strong> </a>，<a class="ae mh" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nb">领英</em> </strong> </a> <strong class="jx io"> <em class="nb">，</em></strong><a class="ae mh" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nb">YouTube</em></strong></a><strong class="jx io"><em class="nb">，以及</em></strong><em class="nb"/><a class="ae mh" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nb">不和</em> </strong> </a>  <em class="nb">对成长黑客感兴趣？检查出</em> <a class="ae mh" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nb">电路</em> </strong> </a> <strong class="jx io"> <em class="nb">。</em>T71】</strong></p></div></div>    
</body>
</html>