# ä½¿ç”¨ Capacitor å°†æ‚¨çš„ç½‘ç«™è½¬æ¢ä¸º Android åº”ç”¨ç¨‹åº

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/convert-your-website-into-an-android-app-using-capacitor-8d3ff7e84566?source=collection_archive---------13----------------------->

## å…³äºå¦‚ä½•å°†ç½‘ç«™æˆ– web åº”ç”¨ç¨‹åºè½¬æ¢ä¸ºå¯ä»¥åœ¨ Android Play å•†åº—ä¸Šéƒ¨ç½²çš„ Android åº”ç”¨ç¨‹åºçš„æ•™ç¨‹ã€‚

![](img/5de00c1f704cb74eb3d078c6e809ea8d.png)

æ ¹æ®é˜¿ç‰¹ä¼å¾·å®šå¾‹ï¼Œâ€œä»»ä½•å¯ä»¥ç”¨ JavaScript ç¼–å†™çš„åº”ç”¨ç¨‹åºï¼Œæœ€ç»ˆéƒ½ä¼šç”¨ JavaScript ç¼–å†™ã€‚â€

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Ionic çš„ä¸€ä¸ªåä¸º Capacitor çš„åº“ï¼Œå°†ç½‘ç«™æˆ– web åº”ç”¨ç¨‹åºè½¬æ¢ä¸ºå¯ä»¥éƒ¨ç½²åœ¨ android play å•†åº—æˆ–å®‰è£…åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šçš„ Android åº”ç”¨ç¨‹åºã€‚åœ¨è¿™ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ Reactï¼Œä½†æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–æ¡†æ¶ï¼Œç”šè‡³æ˜¯æ™®é€šçš„æ—§ JavaScriptã€‚

# å…ˆå†³æ¡ä»¶

*   ç”Ÿäº§ç”Ÿæˆæ–‡ä»¶å¤¹ã€‚å¤§å¤šæ•°æ¡†æ¶éƒ½æœ‰ä¸€ä¸ª build å‘½ä»¤æ¥ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªæ„å»ºæ–‡ä»¶å¤¹ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æ™®é€š JavaScriptï¼Œè¯·å°†æ‚¨çš„æ‰€æœ‰èµ„æºå’Œæ–‡ä»¶æ·»åŠ åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚
*   å®‰å“å·¥ä½œå®¤

# æ­¥éª¤ 1:åˆ›å»ºä¸€ä¸ª React åº”ç”¨ç¨‹åºã€‚

æˆ‘ä»¬å°†é¦–å…ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ª React åº”ç”¨ç¨‹åºã€‚å¦‚æœæ‚¨å·²ç»æœ‰ä¸€ä¸ªç°æœ‰çš„é¡¹ç›®å’Œæ„å»ºæ–‡ä»¶å¤¹ï¼Œå¯ä»¥è·³è¿‡æ­¥éª¤ 1 å’Œ 2ã€‚

```
npx create-react-app my-app 
cd my-app
```

ç°åœ¨ï¼Œä¸ºäº†è¿è¡Œ React åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤:

```
npm start
```

æˆ‘ä»¬çš„æ¼”ç¤ºåº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:

![](img/8fa30ac5b32b9804332b269eff4713c6.png)

Demo App

# æ­¥éª¤ 2:ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ„å»ºæ–‡ä»¶å¤¹ã€‚

åœ¨å°† React åº”ç”¨ç¨‹åºè½¬æ¢ä¸º Android åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œæ„å»ºæ–‡ä»¶å¤¹è‡³å…³é‡è¦ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä¸º React åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ„å»ºæ–‡ä»¶å¤¹ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨å¦ä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒå¯èƒ½æœ‰ä¸åŒçš„å‘½ä»¤ï¼Œæ‰€ä»¥æˆ‘å»ºè®®é˜…è¯»æ‚¨æ­£åœ¨ä½¿ç”¨çš„æ¡†æ¶çš„æ–‡æ¡£ã€‚å¦‚æœæ‚¨ä½¿ç”¨æ™®é€š JavaScriptï¼Œè¯·åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰æ–‡ä»¶å’Œèµ„æºçš„æ–‡ä»¶å¤¹ã€‚

```
npm run build
```

# ç¬¬ä¸‰æ­¥:å®‰è£…ç”µå®¹å™¨

è¦åˆ›å»ºæˆ‘ä»¬çš„ android åº”ç”¨ç¨‹åºï¼Œè®©æˆ‘ä»¬é¦–å…ˆå®‰è£… capacitor CLI åŠå…¶æ ¸å¿ƒåº“ã€‚

```
npm install @capacitor/cli @capacitor/core 
npx cap init
```

ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯è¾“å…¥åº”ç”¨ç¨‹åºçš„åç§°ï¼Œç¬¬äºŒä¸ªé—®é¢˜æ˜¯è¾“å…¥åº”ç”¨ç¨‹åº com.yourAppName.android çš„åŒ… idã€‚

![](img/6f22c51072abbf4cfc3a17855ad04e12.png)

Capacitor CLI

ç°åœ¨ï¼Œåœ¨ webDir ä¸­æ‰“å¼€ capacitor.config.ts æ–‡ä»¶ï¼Œå¹¶è¾“å…¥æ‚¨çš„æ„å»ºæ–‡ä»¶å¤¹çš„åç§°(å¦‚æœå®ƒä¸åŒçš„è¯)ã€‚

![](img/741b306bce10c64bd02f311422ad9c7e.png)

capacitor.config.ts

# æ­¥éª¤ 4:åˆ›å»ºæ‚¨çš„ Android åº”ç”¨ç¨‹åº

è¦åˆ›å»º Android åº”ç”¨ç¨‹åºï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»æ­£ç¡®å®‰è£…å’Œé…ç½®äº† android studioã€‚

å‡è®¾ä¸Šé¢çš„ä¸€åˆ‡éƒ½å·²è®¾ç½®å¥½ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
npm install @capacitor/android 
npx cap add android
```

ä½¿ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬å°†æŠŠ Capacitor Android åº“ä¸‹è½½åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬å°†ç”Ÿæˆ Android ä»£ç ã€‚
ç°åœ¨ï¼Œæ˜¯æ—¶å€™ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“å¼€ Android studio äº†:

```
npx cap open android
```

æˆ–è€…ï¼Œå¯ä»¥æ‰“å¼€ Android Studioï¼Œå°† Android ç›®å½•ä½œä¸º Android Studio é¡¹ç›®å¯¼å…¥ã€‚
æ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦ä¸€äº›æ—¶é—´æ‰èƒ½æ‰“å¼€ï¼Œä½†ä¸€æ—¦å‡†å¤‡å°±ç»ªï¼Œå®ƒåº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·:

![](img/424f7706be393653db2194ed101e1fe1.png)

Android studio

é€šè¿‡ç‚¹å‡» Android studio ä¸­çš„æ’­æ”¾æŒ‰é’®ï¼Œæ‚¨ç°åœ¨å¯ä»¥è¿è¡Œæ‚¨çš„ Android åº”ç”¨ç¨‹åºã€‚

![](img/dc076e8e56a579d095002464cae1430e.png)

å‡ºäºæŸç§åŸå› ï¼Œæˆ‘çš„åœŸè±†ç¬”è®°æœ¬ç”µè„‘ä¸Šçš„æ¨¡æ‹Ÿå™¨å±å¹•å®Œå…¨é»‘äº†ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æœ‰å’Œæˆ‘ä¸€æ ·çš„é—®é¢˜ï¼Œåˆ›å»ºä¸€ä¸ª APKï¼Œç„¶ååœ¨ Android æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œå®ƒï¼Œæ¯”å¦‚ Noxplayer for Windowsï¼Œæˆ–è€…åœ¨å®é™…çš„ Android è®¾å¤‡ä¸Šè¿è¡Œå®ƒã€‚

![](img/f48ffb1df465fa04b89fc99dc96f2f58.png)

ç‚¹å‡» Build > > Build Bundle(s)/APK(s)> > Build APK(s)ï¼Œç”Ÿæˆä¸€ä¸ªå¯å®‰è£…çš„è°ƒè¯• APK æ–‡ä»¶ã€‚

è¦å°†åº”ç”¨æäº¤åˆ° Play Storeï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç­¾ååŒ…ï¼Œä½†ç°åœ¨æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªè°ƒè¯•åº”ç”¨è¿›è¡Œæµ‹è¯•ã€‚
å¦‚æœæˆåŠŸå»ºé€ ï¼Œå®ƒä¼šåœ¨å³ä¸‹è§’æ˜¾ç¤ºç±»ä¼¼çš„æ¶ˆæ¯ã€‚

![](img/6a76b5068850b546b12f89a417759ae7.png)

ç‚¹å‡»å®šä½æ–‡ä»¶å¤¹æˆ–å¯¼èˆªè‡³ android\app\build\outputs\apkã€‚ç°åœ¨ä½ å¯ä»¥åœ¨ä½ çš„ Android æ‰‹æœºæˆ–è€…åƒ Noxplayer è¿™æ ·çš„ Android æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œä½ çš„åº”ç”¨ã€‚

![](img/7a522eb52ef53f912854642d781c232c.png)

Our Demo App

ä¸‡å²ï¼è¿™åœ¨ğŸ¥³ğŸ¥³ğŸ¥³.è¡Œå¾—é€š

# å¥–åŠ±éƒ¨åˆ†:ä¸ºä½ çš„ Android åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„é—ªå±

æ²¡æœ‰å®šåˆ¶çš„é—ªå±å’Œå›¾æ ‡ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºæ˜¯ä¸å®Œæ•´çš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªé—ªå±å’Œè‡ªå®šä¹‰å›¾æ ‡ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆå®‰è£…ç”µå®¹æ’ä»¶ã€‚

```
npm install -g cordova-res
```

`cordova-res`æœŸæœ›ä¸€ä¸ªç±»ä¼¼ Cordova çš„ç»“æ„:å°†ä¸€ä¸ªå›¾æ ‡å’Œä¸€ä¸ªé—ªå±æ–‡ä»¶æ”¾åœ¨é¡¹ç›®çš„é¡¶å±‚`resources`æ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
resources/
â”œâ”€â”€ android/
	â””â”€â”€ icon-background.png
	â””â”€â”€ icon-foreground.png
â”œâ”€â”€ icon.png
â””â”€â”€ splash.png
```

![](img/494a9cf131d47cb1cf96545206c7da40.png)

æˆ‘æ­£åœ¨ä½¿ç”¨æˆ‘å·¥ä½œäº†ä¸¤ä¸ªæœˆçš„é¡¹ç›®ä¸­çš„å›¾æ ‡å’Œæ°´èŠ±ã€‚é€šè¿‡æˆ‘çš„æ–°é¡¹ç›®ï¼Œæ–°æ‰‹åŠ å¯†è´§å¸æŠ•èµ„è€…å°†èƒ½å¤Ÿæ¯«æ— é£é™©åœ°å°è¯•æŠ•èµ„åŠ å¯†è´§å¸ã€‚å¦‚æœä½ æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œè¯·è®¢é˜…æˆ‘çš„æ—¶äº‹é€šè®¯ï¼Œäº†è§£å…³äº[https://blog.webdrip.in/](https://blog.webdrip.in/)çš„æœ€æ–°æ¶ˆæ¯

æ¥ä¸‹æ¥ï¼Œè¿è¡Œä»¥ä¸‹ç¨‹åºï¼Œä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºç”Ÿæˆä¸åŒå¤§å°çš„å›¾æ ‡å’Œé—ªå±:

```
cordova-res android --skip-config --copy
```

è¯¥å‘½ä»¤åº”è¯¥ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶å¤¹å›¾æ ‡å’Œä¸€ä¸ª splashã€‚æ‚¨ä¸éœ€è¦é…ç½®ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ç”Ÿæˆçš„æ‰€æœ‰èµ„äº§éƒ½å°†è¢«å¤åˆ¶åˆ°æ‚¨çš„ Android ä»£ç æ–‡ä»¶å¤¹ä¸­ã€‚

![](img/5cf70093b465118701d3711de5f19388.png)

Folder structure of icon

ç°åœ¨ï¼Œå†æ¬¡æŒ‰ç…§æ­¥éª¤ 4 æµ‹è¯•æˆ‘ä»¬çš„é—ªå±ã€‚

![](img/44d9f6903036064e9edfb5f76e289f6b.png)

# å‚è€ƒ

1> [ç”µå®¹å™¨æ–‡ä»¶](https://capacitorjs.com/docs)

![](img/8201a6505b03164166a4d82d83363fd8.png)

æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« æ˜¯æœ‰ç›Šçš„ã€‚ğŸ’ªğŸ¾å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶è¯„è®ºæˆ–è”ç³»æˆ‘ã€‚åœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„ç”µå®¹å™¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ¨é€é€šçŸ¥åŠŸèƒ½ã€‚

å¦‚æœä½ æƒ³æ”¯æŒæˆ‘çš„å·¥ä½œï¼Œä½ å¯ä»¥ç»™æˆ‘ä¹°æ¯â¤ï¸â¤ï¸.å’–å•¡

æ›´å¤šè¿™æ ·çš„è§è§£ï¼Œè¯·æŸ¥çœ‹æˆ‘çš„åšå®¢ç½‘ç«™ [blog.webdrip.in](http://blog.webdrip.in/)

*åŸè½½äº 2022 å¹´ 6 æœˆ 9 æ—¥*[*https://dev . to*](https://dev.to/narottam04/convert-your-website-into-an-android-app-using-capacitor--5bh2)*ã€‚*

*æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](https://plainenglish.io/)*ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬å…³äº*[***Twitter***](https://twitter.com/inPlainEngHQ)*å’Œ*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ã€‚æŸ¥çœ‹æˆ‘ä»¬çš„* [***ç¤¾åŒºä¸å’Œè°***](https://discord.gg/GtDtUAvyhW) *åŠ å…¥æˆ‘ä»¬çš„* [***äººæ‰é›†ä½“***](https://inplainenglish.pallet.com/talent/welcome) *ã€‚*