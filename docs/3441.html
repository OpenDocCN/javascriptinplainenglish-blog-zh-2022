<html>
<head>
<title>CSS Container Queries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS容器查询</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/css-container-queries-3393fbeb6ea8?source=collection_archive---------1-----------------------#2022-08-28">https://javascript.plainenglish.io/css-container-queries-3393fbeb6ea8?source=collection_archive---------1-----------------------#2022-08-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7eb5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">什么是容器查询，它们解决了哪些问题？</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/8e0fd872a381afee1a78fd347e0b76d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mnbLFxKMIUpNFNjD"/></div></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">CHUTTERSNAP</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5bf2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">CSS容器查询将于2022年8月30日登陆Chrome。这使得Chrome成为第一个在其稳定版本中实现期待已久的功能的浏览器。Safari可能会在今年晚些时候推出。Safari 16预览版中已经有了。不幸的是，我找不到关于Firefox的信息，所以如果你知道他们的计划，请在评论中告诉我们。</p><p id="59f3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果你要开始一个新的项目或者编写一个新的设计系统，并且迫不及待地想要使用容器查询，你可能想要利用一个poly fill(<a class="ae kw" href="https://github.com/GoogleChromeLabs/container-query-polyfill" rel="noopener ugc nofollow" target="_blank">https://github . com/Google chrome labs/Container-query-poly fill</a>)。</p><p id="a190" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这里是caniuse页面的链接，这样你就可以跟踪浏览器的兼容性:<a class="ae kw" href="https://caniuse.com/?search=Container%20Queries" rel="noopener ugc nofollow" target="_blank">https://caniuse.com/?search=Container%20Queries</a></p><h2 id="31fb" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">CSS中的容器查询是什么？</h2><p id="dbf8" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">容器查询是“本地媒体查询”，应该用于微布局(单个组件的自包含布局)。</p><p id="1291" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">想象一下，你正在设计一个带有长文本的按钮，并且你在你的网站的多个地方重复使用这个按钮。目前，您可能会像这样使用媒体查询:</p><pre class="kh ki kj kk gt mr ms mt mu aw mv bi"><span id="6cf1" class="lt lu iq ms b gy mw mx l my mz">@media (max-width: 420px) {<br/>  .button {<br/>    ...<br/>  }<br/>}</span></pre><p id="dbec" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">问题是该查询依赖于当前视口的宽度。你不知道保存按钮的容器有多宽。</p><p id="0d36" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">将来，你会写出这样的东西:</p><pre class="kh ki kj kk gt mr ms mt mu aw mv bi"><span id="6f7a" class="lt lu iq ms b gy mw mx l my mz">@container (width &lt; 420px) {<br/>  .button {<br/>    ...<br/>  }<br/>}</span></pre><p id="b0a7" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">与媒体查询相比，容器查询取决于元素可用的实际大小。</p><h2 id="975a" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">如何使用CSS容器查询？</h2><p id="a9d6" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">这里有一个简单的代码示例来理解容器查询:</p><pre class="kh ki kj kk gt mr ms mt mu aw mv bi"><span id="84cd" class="lt lu iq ms b gy mw mx l my mz">div {<br/>  <strong class="ms ir">container-type: inline-size;</strong><br/>  width: 20%;<br/>}</span><span id="c088" class="lt lu iq ms b gy na mx l my mz">.button {<br/>  padding: .5rem 1rem;<br/>  border: 0;<br/>  background: rebeccapurple;<br/>  color: #fff;<br/>}</span><span id="328b" class="lt lu iq ms b gy na mx l my mz"><a class="ae kw" href="http://twitter.com/container" rel="noopener ugc nofollow" target="_blank"><strong class="ms ir">@container</strong></a><strong class="ms ir"> (width &lt; 120px)</strong> {<br/>  .button &gt; span {<br/>     display: none;<br/>  }<br/>}</span></pre><p id="de36" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">(这是一个骗局，目前只在chrome预览版中工作，或者在Chrome中激活标志“容器查询”和“实验性网络平台功能”时://flags/:<a class="ae kw" href="https://jsfiddle.net/Lr081cn9/" rel="noopener ugc nofollow" target="_blank">https://jsfiddle.net/Lr081cn9/</a>)</p><p id="69ca" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我强调了两行:</p><p id="c76a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们必须在父元素上设置容器类型。第一个突出显示的行是父div上的一个属性(我们的按钮是这个元素的子元素)。容器类型告诉CSS应该查询哪个属性。在这种情况下，它是宽度(因为宽度决定了元素的行内大小)。</p><p id="24af" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><code class="fe nb nc nd ms b">container-type</code>的其他可能值有:</p><ul class=""><li id="c726" class="ne nf iq kz b la lb ld le lg ng lk nh lo ni ls nj nk nl nm bi translated">大小-内联查询和块大小。</li><li id="4b80" class="ne nf iq kz b la nn ld no lg np lk nq lo nr ls nj nk nl nm bi translated">样式(默认)—查询特定的样式(可用于查询黑暗模式、辅助功能支持等)</li></ul><p id="7ec8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">可用的容器类型可能取决于使用的浏览器/聚合填充。不幸的是，规范还没有完成，所以这是可以改变的。您可能会读到其他容器类型，如<code class="fe nb nc nd ms b">state</code>或<code class="fe nb nc nd ms b">block-size</code>，但它们已经从规范中删除了<strong class="kz ir"><em class="ns"/></strong><em class="ns"/>(预计它们将在规范的未来版本中再次添加)。旧的聚合填充可能仍会实现它们。</p><p id="3eb0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">突出显示的第二行是实际的查询。这看起来像一个媒体查询，但是我使用了新的范围语法。我写了另一篇关于语法的文章，也将很快提供给媒体查询！您可以在这里找到它:</p><div class="nt nu gp gr nv nw"><a rel="noopener  ugc nofollow" target="_blank" href="/new-css-media-query-range-syntax-2b41fab34fa5"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd ir gy z fp ob fr fs oc fu fw ip bi translated">新的CSS媒体查询范围语法</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">新语法于本月早些时候登陆Chrome</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="of l"><div class="og l oh oi oj of ok kq nw"/></div></div></a></div><h2 id="2059" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">容器可以被命名</h2><p id="3a5a" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">除了我之前提到的最简单的用例，容器查询还提供了命名容器。看一下下面的例子:</p><pre class="kh ki kj kk gt mr ms mt mu aw mv bi"><span id="334b" class="lt lu iq ms b gy mw mx l my mz">div {<br/>  container-type: inline-size;<br/>  <strong class="ms ir">container-name: my-sidebar;</strong><br/>  width: 20%;<br/>}</span><span id="24ec" class="lt lu iq ms b gy na mx l my mz">.button {<br/>  padding: .5rem 1rem;<br/>  border: 0;<br/>  background: rebeccapurple;<br/>  color: #fff;<br/>}</span><span id="3af5" class="lt lu iq ms b gy na mx l my mz"><a class="ae kw" href="http://twitter.com/container" rel="noopener ugc nofollow" target="_blank"><strong class="ms ir">@container</strong></a><strong class="ms ir"> my-sidebar (width &lt; 120px)</strong> {<br/>  .button &gt; span {<br/>     display: none;<br/>  }<br/>}</span></pre><p id="4094" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">之前，我们查询了每个容器类型为<code class="fe nb nc nd ms b">inline-size</code>的容器。在这种情况下，我们只查询类型为<code class="fe nb nc nd ms b">inline-size</code>和名称为<code class="fe nb nc nd ms b">my-sidebar</code>的容器。</p><h2 id="9d7e" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">容器查询速记语法</h2><p id="fbcc" class="pw-post-body-paragraph kx ky iq kz b la mm jr lc ld mn ju lf lg mo li lj lk mp lm ln lo mq lq lr ls ij bi translated">和许多其他CSS属性一样:容器查询有自己的简写语法。<code class="fe nb nc nd ms b">container</code>属性只需要名称和类型，用正斜杠分隔:</p><pre class="kh ki kj kk gt mr ms mt mu aw mv bi"><span id="f829" class="lt lu iq ms b gy mw mx l my mz">div {<br/>  <strong class="ms ir">container: my-sidebar / inline-size;</strong><br/>  width: 20%;<br/>}</span><span id="4e33" class="lt lu iq ms b gy na mx l my mz">.button {<br/>  padding: .5rem 1rem;<br/>  border: 0;<br/>  background: rebeccapurple;<br/>  color: #fff;<br/>}</span><span id="8f58" class="lt lu iq ms b gy na mx l my mz"><a class="ae kw" href="http://twitter.com/container" rel="noopener ugc nofollow" target="_blank"><strong class="ms ir">@container</strong></a><strong class="ms ir"> my-sidebar (width &lt; 120px)</strong> {<br/>  .button &gt; span {<br/>     display: none;<br/>  }<br/>}</span></pre><p id="f18f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">就这些了，伙计们！</p><p id="7b09" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">容器查询是一个相对简单的功能，类似于大多数部件的媒体查询。</p></div><div class="ab cl ol om hu on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ij ik il im in"><p id="1e71" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="ns">更多内容看</em> <a class="ae kw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="ns">说白了。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="ns">免费周报</em> </strong> </a> <em class="ns">。关注我们关于</em><a class="ae kw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir"><em class="ns">Twitter</em></strong></a>，<a class="ae kw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir"><em class="ns">LinkedIn</em></strong></a><em class="ns">，</em><a class="ae kw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kz ir"><em class="ns">YouTube</em></strong></a><em class="ns">，以及</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir"> <em class="ns">不和</em> </strong> </a> <em class="ns">。</em></strong></a></p></div></div>    
</body>
</html>