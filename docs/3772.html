<html>
<head>
<title>For a 2D Metaverse in JavaScript: Add a Chatbot in a Multiplayer Game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对于JavaScript中的2D·元宇宙:在多人游戏中添加聊天机器人</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/for-a-2d-metaverse-in-javascript-add-a-chatbot-in-a-multiplayer-game-f291f22fe9d1?source=collection_archive---------4-----------------------#2022-09-24">https://javascript.plainenglish.io/for-a-2d-metaverse-in-javascript-add-a-chatbot-in-a-multiplayer-game-f291f22fe9d1?source=collection_archive---------4-----------------------#2022-09-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/1afca975b8347cad62998191e760e6ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1y9mR-nzekTv4zA7Kt6IIQ.png"/></div></div></figure><div class=""/><h1 id="9d8d" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="11a3" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我开发了聊天机器人和游戏，我想:我们能不能把两者都放在一个游戏里:一个聊天机器人？现在有很多关于元宇宙的讨论，也许这个想法并不愚蠢:带着开放性的问题与一个非玩家角色交谈</p><h1 id="61a3" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">堆</h1><p id="5b9e" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">我用一个框架来创建2D游戏:RPGJS。这里有你的介绍:<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/create-an-rpg-mmorpg-game-in-javascript-in-a-few-minutes-with-rpgjs-8a86a713c2fe">https://JavaScript . plain English . io/create-an-RPG-MMORPG-game-in-JavaScript-in-a-rpgjs-8a 86 a 713 C2 Fe</a></p><p id="dc72" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">这里，我将使用一个Node.js包:node-nlp。目标是:建立一个NLP(自然语言处理)系统</p><h1 id="68fd" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">开始</h1><h1 id="df52" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">先决条件</h1><p id="138d" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">您必须拥有Node.js 14版本。该框架在版本15+上不工作。</p><h1 id="e9b7" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">装置</h1><p id="df0c" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">打开终端，运行以下命令行:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="e717" class="mg jw iy mc b gy mh mi l mj mk">npx degit rpgjs/starter my-rpg-game<br/>cd my-rpg-game<br/>npm install<br/>npm install node-nlp # NLP installation<br/>npm run dev</span></pre><p id="1249" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">安装需要一点时间。别担心。然后去<a class="ae lr" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>看第一张渲染图。</p><h1 id="01a5" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">创建聊天机器人</h1><h2 id="54b1" class="mg jw iy bd jx ml mm dn kb mn mo dp kf le mp mq kj li mr ms kn lm mt mu kr mv bi translated">第1部分—创建GUI</h2><figure class="lx ly lz ma gt ip gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/40de2e164bd6d57600a9405d2e006a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*w-vFp_eyNopN_s5w_EIgsQ.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Talking with the chatbot: put “hello</figcaption></figure><p id="f762" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">首先，我们将创建菜单。我们会用Vue.js来做，别担心，挺快的</p><p id="ad4c" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">创建这个新文件:<em class="nb">src/modules/main/client/GUI/prompt . vue</em></p><figure class="lx ly lz ma gt ip"><div class="bz fp l di"><div class="nc nd l"/></div></figure><ol class=""><li id="a068" class="ne nf iy kv b kw ls la lt le ng li nh lm ni lq nj nk nl nm bi translated">第3行:我们已经使用了一个名为“<em class="nb"> rpg-window </em>”的组件。它已经包含模块<a class="ae lr" href="http://twitter.com/rpgjs/default-gui" rel="noopener ugc nofollow" target="_blank"><em class="nb">@ rpgjs/default-gu</em></a><em class="nb">I</em>中存在的设计</li><li id="fe3d" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第15行:作为输入，我们有一个<em class="nb">文本</em>属性。该文本是服务器发送的起始消息</li><li id="9782" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第16行:我们用name属性给菜单命名。它将用于打开菜单</li><li id="6ecf" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第17行:我们使用RPGJS引擎的两个实例:<em class="nb"> rpgKeyPress </em>和<em class="nb"> rpgGuiClose </em></li><li id="66ef" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第24行:<em class="nb"> rpgKeyPress </em>允许看到按键被按下。我们用一个可观察的来听不同的键。为什么我们不用Javascript直接监听，还要经过<em class="nb"> rpgKeyPress </em>？因为<em class="nb"> rpgKeyPress </em>还会监听一个操纵杆或者其他未来潜在的控制器。此外，这里我们听到的是动作键(默认情况下是Enter或Space ),但是开发者或玩家可以通过菜单来改变它</li><li id="73a3" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第26行:然后，如果玩家按下action键，当前菜单被关闭，输入的文本被发送到服务器</li><li id="8043" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第40行:在CSS中，我放置了一个绝对位置来显示地图上的菜单</li></ol><p id="d4b7" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">接下来，记得在模块中添加新菜单:</p><p id="1aab" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">在<em class="nb">src/modules/main/client/index . ts</em>中:</p><figure class="lx ly lz ma gt ip"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h2 id="780f" class="mg jw iy bd jx ml mm dn kb mn mo dp kf le mp mq kj li mr ms kn lm mt mu kr mv bi translated">第2部分—在村民中添加NLP</h2><p id="a651" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">现在，我们将创建一个事件(服务器端)1。打开菜单<br/> 2。将玩家的请求传递给NLP <br/> 3。显示答案(NLG)</p><figure class="lx ly lz ma gt ip gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/c0603b3644d1b4a49d8db0f43a3a5ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*RJa_re-UMlQD8c7RoomgZw.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk">The chatbot responds to “hello”.</figcaption></figure><p id="2515" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">转到现有文件:<em class="nb">src/modules/main/server/events/village . ts</em></p><p id="b633" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">这是代码:</p><figure class="lx ly lz ma gt ip"><div class="bz fp l di"><div class="nc nd l"/></div></figure><ol class=""><li id="1ae8" class="ne nf iy kv b kw ls la lt le ng li nh lm ni lq nj nk nl nm bi translated">第4行:我们使用节点NLP训练句子和答案(来自https://github.com/axa-group/nlp.js#example-of-use的<a class="ae lr" href="https://github.com/axa-group/nlp.js#example-of-use" rel="noopener ugc nofollow" target="_blank">的例子)</a></li><li id="eeee" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第36行:我们在事件初始化时(当地图开始时)进行训练</li><li id="444a" class="ne nf iy kv b kw nn la no le np li nq lm nr lq nj nk nl nm bi translated">第39和40行:我们打开名为“<em class="nb">提示</em>”的菜单(在第1部分中一起创建时)。我们得到玩家发送的数据<em class="nb">提示文本</em></li></ol><p id="168a" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="nb"> 1。</em><strong class="kv iz"><em class="nb">waiting action</em></strong><em class="nb">参数允许在继续指令列表之前等待玩家按下动作键(即，直到承诺被解决)<br/> 2。</em> <strong class="kv iz"> <em class="nb">区块玩家输入</em> </strong> <em class="nb">参数防止玩家在菜单打开时在地图上移动</em></p><p id="84a3" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">4.第46和47行:聊天机器人的响应是根据玩家的输入得到的。如果没有找到结果，聊天机器人会说“什么”缺席</p><p id="82b5" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">5.第48行:对话框显示在屏幕上(如上图)</p><p id="f7e1" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="nb"/><strong class="kv iz"><em class="nb">talk with</em></strong><em class="nb">参数表示对话框打开时角色会转向玩家(会更自然)</em></p><h1 id="4816" class="jv jw iy bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="c5d2" class="pw-post-body-paragraph kt ku iy kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">正如您所看到的，设置这种类型的功能非常快。也许是为了2D·元宇宙？</p><p id="d068" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">文档:<a class="ae lr" href="https://docs.rpgjs.dev/" rel="noopener ugc nofollow" target="_blank"> https://docs.rpgjs.dev </a></p><p id="4baa" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated">帮助:<a class="ae lr" href="https://community.rpgjs.dev/" rel="noopener ugc nofollow" target="_blank">https://community . rpgjs . dev</a></p></div><div class="ab cl nt nu hr nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ig ih ii ij ik"><p id="b394" class="pw-post-body-paragraph kt ku iy kv b kw ls ky kz la lt lc ld le lu lg lh li lv lk ll lm lw lo lp lq ig bi translated"><em class="nb">更多内容请看</em><a class="ae lr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv iz"><em class="nb">plain English . io</em></strong></a><em class="nb">。报名参加我们的</em> <a class="ae lr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv iz"> <em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们关于</em><a class="ae lr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv iz"><em class="nb">Twitter</em></strong></a><a class="ae lr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv iz"><em class="nb">LinkedIn</em></strong></a><em class="nb"/><a class="ae lr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv iz"><em class="nb">YouTube</em></strong></a><em class="nb"/><a class="ae lr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv iz"><em class="nb">不和</em> </strong> </a> <em class="nb">。对增长黑客感兴趣？检查</em> <a class="ae lr" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv iz"> <em class="nb">电路</em> </strong> </a> <em class="nb">。</em></p></div></div>    
</body>
</html>