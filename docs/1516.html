<html>
<head>
<title>Angular: Using different ToolTip Templates for every column in an Ag-Grid Table</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度:对Ag-Grid表格中的每一列使用不同的工具提示模板</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-using-different-tooltip-templates-for-every-column-in-an-ag-grid-table-without-using-546a40300969?source=collection_archive---------3-----------------------#2022-03-30">https://javascript.plainenglish.io/angular-using-different-tooltip-templates-for-every-column-in-an-ag-grid-table-without-using-546a40300969?source=collection_archive---------3-----------------------#2022-03-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9176" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">不使用引导</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1bfe217650afa568df0292a279badd6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PjXrSUz5D-G8YwuF"/></div></div></figure><p id="fb1c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">使用<strong class="kq io">自定义工具提示组件</strong>向Ag-Grid表格添加工具提示非常简单，在文档中已经提到过。我想通过给表格中的每一列添加不同的<strong class="kq io">工具提示模板</strong>来分享一些更有趣的东西。</p><p id="0314" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我已经写了一个关于使用Bootstrap而不是自定义工具提示组件向Ag-Grid表格添加工具提示和弹出窗口的故事。如果你对弹出窗口和工具提示使用Bootstrap更感兴趣，你可以看看下面的故事。</p><div class="lk ll gp gr lm ln"><a href="https://medium.com/geekculture/angular-adding-bootstrap-popovers-and-tooltips-with-dynamic-data-to-an-ag-grid-table-f6b386b78279" rel="noopener follow" target="_blank"><div class="lo ab fo"><div class="lp ab lq cl cj lr"><h2 class="bd io gy z fp ls fr fs lt fu fw im bi translated">Angular:将带有动态数据的引导弹出窗口和工具提示添加到Ag-Grid表中</h2><div class="lu l"><h3 class="bd b gy z fp ls fr fs lt fu fw dk translated">我一直倾向于使用ngx-bootstrap npm模块来为我的Angular应用添加任何引导组件。的…</h3></div><div class="lv l"><p class="bd b dl z fp ls fr fs lt fu fw dk translated">medium.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb km ln"/></div></div></a></div><p id="7ad1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在我开始这个故事之前，我想澄清一下，这个故事要求读者了解Ag-Grid表格和使用<ng-template>在表格上显示数据的基本知识。如果你对这个概念不熟悉，你可以看看下面的故事。</ng-template></p><div class="lk ll gp gr lm ln"><a rel="noopener  ugc nofollow" target="_blank" href="/creating-a-reusable-component-for-using-templates-in-ag-grid-tables-6d9a8dfc88e3"><div class="lo ab fo"><div class="lp ab lq cl cj lr"><h2 class="bd io gy z fp ls fr fs lt fu fw im bi translated">Angular:如何创建一个在Ag-Grid表格中使用模板的可重用组件</h2><div class="lu l"><h3 class="bd b gy z fp ls fr fs lt fu fw dk translated">如果你想让一个Ag-Grid表格与你的应用程序交互，在表格中插入模板是非常有用的。</h3></div><div class="lv l"><p class="bd b dl z fp ls fr fs lt fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="lw l"><div class="mc l ly lz ma lw mb km ln"/></div></div></a></div><p id="2da4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了演示这个例子，我将使用在不同运动中获得奖牌的运动员的数据集。因为这是一个巨大的JSON，所以我没有展示要点，而是展示了这个数组中的一个对象的示例，以便您理解其结构。</p><pre class="kd ke kf kg gt md me mf mg aw mh bi"><span id="f3ba" class="mi mj in me b gy mk ml l mm mn">{<br/><strong class="me io">“athlete”</strong>:”Michael Phelps”,<br/><strong class="me io">”age”</strong>:23,<br/><strong class="me io">”country”</strong>:”United States”,<br/><strong class="me io">”year”</strong>:2008,<strong class="me io">”date”</strong>:”24/08/2008",<strong class="me io">”sport”</strong>:”Swimming”,<strong class="me io">”gold”</strong>:8,”silver”:0,<strong class="me io">”bronze”</strong>:0,<strong class="me io">”total”</strong>:8<br/>}</span></pre><p id="88d0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我给你一个我们的应用程序会是什么样子的想法。我们已经在Ag-Grid表中填充了JSON数据，如下所示。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mo"><img src="../Images/344fc21e4bcc8452d2dbbe9563bd0b17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6M5Me5_CWcGLTDO43VBPuQ.png"/></div></div></figure><p id="f369" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们对下面的<strong class="kq io">金牌、银牌、铜牌和奖牌总数栏</strong>使用相同的工具提示模板。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mp"><img src="../Images/1c6a89664cf635a3791c353344212e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y7sbnfgvWbE51O4WvHZyEA.png"/></div></div></figure><p id="a677" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们将为下面的<strong class="kq io">运动员栏</strong>使用不同的工具提示模板。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mq"><img src="../Images/67f1444407e1d6ae6ec18c6a24ad7505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dkl-ugu5scJEWK75EsiiCw.png"/></div></div></figure><p id="63fd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们从<strong class="kq io"> AppComponent模板</strong>开始。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="5e93" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有两个带引用的模板:<strong class="kq io"> toolTipTemplate </strong>和<strong class="kq io"> anotherToolTipTemplate </strong>，在工具提示的组件中定义。</p><p id="33ee" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们使用参考模板<strong class="kq io">工具提示模板</strong>用于列:<strong class="kq io">金牌、银牌、铜牌和奖牌总数。</strong>引用<strong class="kq io"> anotherToolTipTemplate </strong>的模板用于<strong class="kq io">运动员栏。</strong></p><p id="645c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们将在后面看到如何在模板中访问JSON数据。</p><p id="bd24" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，组件模板中还有Ag-Grid表。</p><p id="a82e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，让我们转到<strong class="kq io"> AppComponent类</strong>。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mr ms l"/></div></figure><pre class="kd ke kf kg gt md me mf mg aw mh bi"><span id="16b2" class="mi mj in me b gy mk ml l mm mn">public <strong class="me io">rowData </strong>= atheletes;<br/>@ViewChild(‘toolTipTemplate’, { static: true })<strong class="me io">toolTipTemplate</strong>: TemplateRef&lt;any&gt;;</span><span id="94e0" class="mi mj in me b gy mt ml l mm mn">@ViewChild(‘anotherToolTipTemplate’, { static: true })<strong class="me io">anotherToolTipTemplate</strong>: TemplateRef&lt;any&gt;;</span><span id="4e8c" class="mi mj in me b gy mt ml l mm mn">public <strong class="me io">gridApi</strong>: any;<br/>public <strong class="me io">frameworkComponents </strong>= <strong class="me io">{ toolTip: CustomToolTipComponent };</strong></span><span id="a2d3" class="mi mj in me b gy mt ml l mm mn">public <strong class="me io">defaultColDef </strong>= {<br/>autoHeight: true,<br/>resizable: true,<br/><strong class="me io">tooltipComponent: ‘toolTip’,</strong><br/>};</span><span id="160a" class="mi mj in me b gy mt ml l mm mn">public <strong class="me io">columnDefs </strong>= [];</span></pre><p id="e3b1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> rowData </strong>是从<strong class="kq io"> athletes.ts </strong>导出的JSON数据，用于Ag-Grid表。</p><p id="5b5b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> CustomToolTipComponent </strong>是显示工具提示模板的组件。</p><p id="ee62" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们已经更新了<strong class="kq io">ngafterviewit()</strong>中<strong class="kq io"> columnDefs </strong>的值，以便访问工具提示模板引用:<strong class="kq io"> toolTipTemplate </strong>和<strong class="kq io"> anotherToolTipTemplate。</strong></p><p id="d29e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们首先看看工具提示模板引用<strong class="kq io"> toolTipTemplate </strong>将如何用于显示<strong class="kq io">运动员姓名列</strong>的工具提示。下面是<strong class="kq io">运动员姓名列</strong>的列定义。在<strong class="kq io"> tooltipValueGetter </strong>属性中，我们已经返回了在工具提示上显示数据所需的所有信息。</p><p id="5e6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">返回一个具有两个属性的对象:<strong class="kq io"> ngTemplate </strong>和<strong class="kq io"> data </strong>。ngTemplate 将包含模板引用，而<strong class="kq io"> data </strong>将包含我想要在工具提示上显示的信息。</p><pre class="kd ke kf kg gt md me mf mg aw mh bi"><span id="5729" class="mi mj in me b gy mk ml l mm mn">{<br/><strong class="me io">headerName</strong>: ‘Athlete Name’,<br/><strong class="me io">field</strong>: ‘athlete’,<br/><strong class="me io">tooltipValueGetter</strong>: function (params) {<br/>return {<br/><strong class="me io">ngTemplate</strong>: that.anotherToolTipTemplate,<br/>data: {<br/><strong class="me io">athleteName</strong>: params.data.athlete,<br/>},<br/>};<br/>}<br/>}</span></pre><p id="c249" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">同样，让我们看看<strong class="kq io">金牌数栏</strong>的配置。其他3栏也将使用类似的方法:<strong class="kq io">银牌、铜牌和总奖牌</strong>。</p><pre class="kd ke kf kg gt md me mf mg aw mh bi"><span id="21cc" class="mi mj in me b gy mk ml l mm mn">{<br/><strong class="me io">headerName</strong>: ‘Gold Medals’,<br/><strong class="me io">field</strong>: ‘gold’,<br/><strong class="me io">tooltipValueGetter</strong>: function (params) {<br/>return {<br/><strong class="me io">ngTemplate</strong>: that.toolTipTemplate,<br/><strong class="me io">data</strong>: {<br/>athleteName: params.data.athlete,<br/>type: params.colDef.field,<br/>count: params.data.gold,<br/>sport: params.data.sport,<br/>},<br/>};<br/>},<br/>},</span></pre><p id="cb44" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，让我们检查一下<strong class="kq io">自定义工具提示组件</strong>如何帮助显示这个工具提示。</p><p id="2eb3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">模板非常简单。<strong class="kq io"> ngTemplateOutlet </strong>将包含已经讨论过的工具提示模板引用，而<strong class="kq io">ngTemplateOutletContext</strong>将包含要显示的信息。</p><pre class="kd ke kf kg gt md me mf mg aw mh bi"><span id="ebde" class="mi mj in me b gy mk ml l mm mn">&lt;ng-container<br/><strong class="me io">[ngTemplateOutlet]=”template”</strong><br/><strong class="me io">[ngTemplateOutletContext]=”context”</strong><br/>&gt;&lt;/ng-container&gt;</span></pre><p id="4265" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">下面是班级。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="d023" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在<strong class="kq io"> setTemplateAndParams() </strong>中，Params参数的<strong class="kq io"> value属性将包含返回到前面讨论的列定义中的<strong class="kq io"> tooltipValueGetter </strong>属性的整个对象。</strong></p><pre class="kd ke kf kg gt md me mf mg aw mh bi"><span id="5ae6" class="mi mj in me b gy mk ml l mm mn">this.<strong class="me io">template </strong>= <strong class="me io">params.value.ngTemplate</strong>;<br/>this.<strong class="me io">context </strong>= {<br/>rowInfo: {<br/>rowData: <strong class="me io">params.value.data</strong>,<br/>},<br/>};</span></pre><p id="2c3e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们正在从<strong class="kq io"> params.value </strong>访问<strong class="kq io"> ngTemplate </strong>属性和<strong class="kq io"> data </strong>属性，并分别将其分配给<strong class="kq io">模板和上下文属性</strong>。</p><p id="dc09" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">模板属性</strong>被分配给<strong class="kq io">ngtemplateeoutlet</strong>，而<strong class="kq io">上下文属性</strong>被分配给<strong class="kq io">ngtemplateeutletcontext。</strong></p><p id="b9d6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您可以查看下面的完整工作示例。</p><div class="lk ll gp gr lm ln"><a href="https://stackblitz.com/edit/angular-mccaua?file=src/app/app.component.ts" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab fo"><div class="lp ab lq cl cj lr"><h2 class="bd io gy z fp ls fr fs lt fu fw im bi translated">角形(叉形)堆叠</h2><div class="lu l"><h3 class="bd b gy z fp ls fr fs lt fu fw dk translated">一个基于rxjs，tslib，core-js，zone.js，@angular/core，@angular/forms，@angular/common的angular-cli项目…</h3></div><div class="lv l"><p class="bd b dl z fp ls fr fs lt fu fw dk translated">stackblitz.com</p></div></div><div class="lw l"><div class="mu l ly lz ma lw mb km ln"/></div></div></a></div><p id="80d8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="mv">更多内容请看</em><a class="ae mw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mv">plain English . io</em></strong></a><em class="mv">。报名参加我们的</em> <a class="ae mw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们关于</em><a class="ae mw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mv">Twitter</em></strong></a><em class="mv">和</em><a class="ae mw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mv">LinkedIn</em></strong></a><em class="mv">。加入我们的</em> <a class="ae mw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mv">社区不和谐</em> </strong> </a> <em class="mv">。</em></p></div></div>    
</body>
</html>