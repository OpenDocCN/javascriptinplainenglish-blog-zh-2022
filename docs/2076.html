<html>
<head>
<title>Getting Started with Events in Svelte</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">苗条事件入门</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-started-with-events-in-svelte-89f0ab228c71?source=collection_archive---------15-----------------------#2022-05-11">https://javascript.plainenglish.io/getting-started-with-events-in-svelte-89f0ab228c71?source=collection_archive---------15-----------------------#2022-05-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ccab98f943bd22e8f422e9d01f7316ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZGw-tfxigmIqDqR4SiV-Jw.png"/></div></div></figure><p id="1a6a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">事件在苗条是非常直观和容易使用的。在本指南中，我们将看看如何开始苗条的事件。假设您对本指南中的<a class="ae kt" href="https://fjolt.com/series/learn-javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>有很好的理解。如果你是一个全新的苗条者，在开始之前阅读我的关于创建你的第一个苗条应用的指南可能是有意义的。</p><h1 id="e35c" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">苗条事件</h1><p id="bda7" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">当我们在Svelte中创建新组件时，我们通常会希望它们在用户与它们交互时做某些事情——例如，悬停在它们上面，或者点击它们。Svelte允许您通常在普通Javascript中找到的所有事件。<a class="ae kt" href="https://fjolt.com/article/javascript-events" rel="noopener ugc nofollow" target="_blank">关于Javascript事件的更多信息，请点击此处</a>。</p><p id="39de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">先说一个基本的例子。下面的组件摘自我关于<a class="ae kt" href="https://fjolt.com/article/svelte-how-to-create-components" rel="noopener ugc nofollow" target="_blank">创建苗条组件</a>的文章，并创建了一个简单的计数器:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="f77f" class="mg kv in mc b gy mh mi l mj mk">&lt;script&gt;<br/>    // we write export let to say that this is a property<br/>    // that means we can change it later!<br/>    let x = 0;<br/>    const addToCounter = function() {<br/>        ++x;<br/>    }<br/>&lt;/script&gt;</span><span id="d99c" class="mg kv in mc b gy ml mi l mj mk">&lt;button id="counter"&gt;{x}&lt;/button&gt;</span></pre><p id="2ddb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">每当用户点击按钮时，我们希望<code class="fe mm mn mo mc b">addToCounter</code>触发，这将使<code class="fe mm mn mo mc b">x</code>增加1，并显示在按钮本身内。为此，我们添加了一个事件。下面是当用户点击按钮时我们需要添加的事件:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="07a0" class="mg kv in mc b gy mh mi l mj mk">&lt;button id="counter" on:click={addToCounter}&gt;{x}&lt;/button&gt;</span></pre><p id="f0da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们用Svelte中的<code class="fe mm mn mo mc b">{}</code>来表示这个属性的值是Javascript。任何<strong class="jx io">有效的</strong> Javascript事件都可以用来代替<code class="fe mm mn mo mc b">click</code>。例如，每当鼠标移动到<code class="fe mm mn mo mc b">button</code>上时，下面的代码将增加计数器:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="d81c" class="mg kv in mc b gy mh mi l mj mk">&lt;button id="counter" on:mouseover={addToCounter}&gt;{x}&lt;/button&gt;</span></pre><p id="b8f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">同样，您可以使用其他Javascript事件，如<code class="fe mm mn mo mc b">click</code>、<code class="fe mm mn mo mc b">scroll</code>、<code class="fe mm mn mo mc b">hover</code>、<code class="fe mm mn mo mc b">mouseup</code>、<code class="fe mm mn mo mc b">pointerup</code>、<code class="fe mm mn mo mc b">pointerdown</code>、<code class="fe mm mn mo mc b">mousedown</code>等。这些只是例子——但是您想要使用的任何Javascript事件都可以使用。</p><h1 id="3611" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在您的苗条事件中访问事件数据</h1><p id="cd7a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">有时，当用户与我们的组件交互时，我们希望访问<code class="fe mm mn mo mc b">e</code>或<code class="fe mm mn mo mc b">event</code>数据。<code class="fe mm mn mo mc b">event</code>对象携带了许多关于被触发事件的有用信息。要做到这一点，我们只需将我们的处理程序改为一个函数。</p><p id="224b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，让我们检索按钮的点击位置，并向用户显示这一次。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="8e3c" class="mg kv in mc b gy mh mi l mj mk">&lt;script&gt;<br/>    // we write export let to say that this is a property<br/>    // that means we can change it later!<br/>    let x = 0;<br/>    let click = [0, 0]</span><span id="b2a4" class="mg kv in mc b gy ml mi l mj mk">    const addToCounter = function(e) {<br/>        click[0] = e.clientX;<br/>        click[1] = e.clientY;<br/>        ++x;<br/>    }<br/>&lt;/script&gt;</span><span id="e856" class="mg kv in mc b gy ml mi l mj mk">&lt;button id="counter" on:click={(e) =&gt; { addToCounter(e) }}&gt;<br/>    Clicked {x} times, last at {click[0]}, {click[1]}<br/>&lt;/button&gt;</span></pre><p id="1915" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里，我们将<code class="fe mm mn mo mc b">e.clientX</code>和<code class="fe mm mn mo mc b">e.clientY</code>存储在一个变量中，并在用户点击按钮时显示出来。对于那些不知道的人来说，<code class="fe mm mn mo mc b">e.clientX</code>和<code class="fe mm mn mo mc b">e.clientY</code>都是指事件被触发时光标位置的一个方面。Svelte天生就是<a class="ae kt" href="https://fjolt.com/article/svelte-handling-reactivity" rel="noopener ugc nofollow" target="_blank">反应型</a>，所以无论何时点击，按钮都会自动更新最新数据。</p><h1 id="ccae" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">苗条事件转发</h1><p id="ae9f" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">事件转发是指每当用户触发子组件上的事件时，我们希望在父组件中处理该事件。本质上是说这个组件可以有一个特定的事件，但是这里不处理。看一下前面的例子，我们可以通过设置可以在子组件上转发的事件来设置事件转发。假设我们在一个名为<code class="fe mm mn mo mc b">Comp.svelte</code>的文件中创建了一个组件，如下图所示。<strong class="jx io">一个按钮</strong>可点击，另一个不可点击。</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="dc78" class="mg kv in mc b gy mh mi l mj mk">&lt;button on:click&gt;<br/>    Click me, I am a button<br/>&lt;/button&gt;<br/>&lt;button&gt;<br/>    I am unclickable. Ignore me.<br/>&lt;/button&gt;</span></pre><p id="1001" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们说第一个按钮有一个有效的<code class="fe mm mn mo mc b">on:click</code>事件。这很有用，因为它允许我们用可以向上转发的有效事件来定义组件中的某些元素。然后，在我们的父节点中，我们可以导入我们的按钮，就像这样:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4b4b" class="mg kv in mc b gy mh mi l mj mk">&lt;script&gt;<br/>    import Comp from './Comp.svelte';</span><span id="a570" class="mg kv in mc b gy ml mi l mj mk">    let x = 0;<br/>    const addToCounter = () =&gt; {<br/>        ++x;<br/>    }<br/>&lt;/script&gt;</span><span id="bf24" class="mg kv in mc b gy ml mi l mj mk">&lt;Comp on:click={addToCounter} /&gt;</span></pre><p id="d3aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，当用户点击<code class="fe mm mn mo mc b">Comp</code>中的第一个<code class="fe mm mn mo mc b">button</code>时，它将触发<code class="fe mm mn mo mc b">on:click</code>事件并运行<code class="fe mm mn mo mc b">addToCounter</code>函数。如果我们将<code class="fe mm mn mo mc b">on:click</code>从<code class="fe mm mn mo mc b">Comp.svelte</code>中完全移除，那么尽管在我们的<strong class="jx io"> Comp </strong>组件上定义了<code class="fe mm mn mo mc b">on:click</code>，也不会触发任何事件。这意味着我们不仅可以定义一个子组件应该附加一个事件，还可以通过将事件添加到子组件本身来定义哪些特定的<strong class="jx io">元素具有该事件。这给了我们很大的灵活性。</strong></p><h1 id="a674" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">最后的想法</h1><p id="0cd0" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">苗条事件使用起来很简单，事实上它们遵循与普通Javascript事件相同的命名约定，这使得它们使用起来非常简单。在本指南中，我们已经介绍了基础知识，因此您可以开始使用。<a class="ae kt" href="https://fjolt.com/category/svelte" rel="noopener ugc nofollow" target="_blank">想了解更多苗条的内容，试试我在这里的其他文章</a></p><p id="e37a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mp">更多内容请看</em><a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">plain English . io</em></strong></a><em class="mp">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">免费周报</em> </strong> </a> <em class="mp">。关注我们关于</em><a class="ae kt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">Twitter</em></strong></a><em class="mp">和</em><a class="ae kt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">LinkedIn</em></strong></a><em class="mp">。加入我们的</em> <a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">社区不和谐</em> </strong> </a> <em class="mp">。</em></p></div></div>    
</body>
</html>