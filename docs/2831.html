<html>
<head>
<title>How to Get the Substring Between 2 Characters in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中获取两个字符之间的子串</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-get-substring-between-two-characters-d9cf76e41fe4?source=collection_archive---------9-----------------------#2022-07-07">https://javascript.plainenglish.io/javascript-get-substring-between-two-characters-d9cf76e41fe4?source=collection_archive---------9-----------------------#2022-07-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="bab8" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">学习在JavaScript中获取两个字符之间的子字符串的多种方法。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4053a64d307d7951c01ef8d23864398a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_MeuWRAdupdCJCrR9Qwvw.png"/></div></div></figure><h1 id="20c9" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">1.String substring()、indexOf()和lastIndexOf()方法</h1><p id="89fc" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">要在JavaScript中获取字符串中两个字符之间的子字符串，请对字符串调用<code class="fe mc md me mf b">slice()</code>方法，将第一个字符第一次出现后的索引作为第一个参数，将第二个字符最后一次出现的索引作为第二个参数。例如:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="e8b6" class="mk kp in mf b gy ml mm l mn mo">function getSubstring(str, char1, char2) {<br/>  return str.substring(<br/>    str.indexOf(char1) + 1,<br/>    str.lastIndexOf(char2)<br/>  );<br/>}</span><span id="8ff0" class="mk kp in mf b gy mp mm l mn mo">const str1 = 'one:two;three';<br/>const substr1 = getSubstring(str1, ':', ';');<br/>console.log(substr1); // two</span><span id="dbf4" class="mk kp in mf b gy mp mm l mn mo">const str2 = 'one?two!three';<br/>const substr2 = getSubstring(str2, '?', '!');<br/>console.log(substr2); // two</span></pre><p id="5c78" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">String</code> <code class="fe mc md me mf b">indexOf()</code>方法返回一个值在字符串中第一次出现的位置。另一方面，<code class="fe mc md me mf b">lastIndexOf()</code>返回一个值在字符串中最后一次出现的位置。</p><p id="4f0d" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">String</code> <code class="fe mc md me mf b">substring()</code>方法返回开始和结束索引之间的字符串部分，分别由第一个和第二个参数指定。我们将<code class="fe mc md me mf b">1</code>添加到<code class="fe mc md me mf b">indexOf()</code>的结果中，因为我们不希望第一个字符包含在我们试图获取的子字符串中。但是我们不需要从<code class="fe mc md me mf b">lastIndexOf()</code>的结果中减去<code class="fe mc md me mf b">1</code>，因为<code class="fe mc md me mf b">substring()</code>已经排除了指定结束索引处的字符。</p><p id="bfbb" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">如果字符串中不存在该值，<code class="fe mc md me mf b">indexOf()</code>和<code class="fe mc md me mf b">lastIndexOf()</code>都将返回<code class="fe mc md me mf b">-1</code>。这意味着当字符串中不存在第一个字符时，从第二个字符开始到最后一个字符出现的所有字符串都将包含在字符串中。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="b320" class="mk kp in mf b gy ml mm l mn mo">const str1 = 'one:two;three';<br/>const substr1 = getSubstring(str1, '-', ';');<br/>console.log(substr1); // one:two</span></pre><p id="81f4" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">此外，当第二个字符不存在时，从第一个字符开始到第一次出现的所有字符串都将包含在该字符串中。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="17ee" class="mk kp in mf b gy ml mm l mn mo">const str1 = 'one:two;three';<br/>const substr1 = getSubstring(str1, ':', '-');<br/>console.log(substr1); // one</span></pre><p id="5112" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">根据我们的用例，这可能不是我们想要的。如果我们希望在两个字符都不存在的情况下返回一个空字符串(<code class="fe mc md me mf b">''</code>)，我们需要明确检查这一点:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="aa3b" class="mk kp in mf b gy ml mm l mn mo">function getSubstring(str, char1, char2) {<br/>  const char1Index = str.indexOf(char1);<br/>  const char2Index = str.lastIndexOf(char2);<br/>  if (char1Index === -1) return '';<br/>  if (char2Index === -1) return '';<br/>  return str.substring(char1Index, char2Index);<br/>}</span><span id="176c" class="mk kp in mf b gy mp mm l mn mo">const str1 = 'one:two;three';<br/>const substr1 = getSubstring(str1, '-', ';');<br/>console.log(substr1); // '' (empty string)</span><span id="17e3" class="mk kp in mf b gy mp mm l mn mo">const substr2 = getSubstring(str1, ':', '-');<br/>console.log(substr2); // '' (empty string)</span></pre><h1 id="1ad6" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">2.String split()，Array slice()和Array join()方法</h1><p id="ab22" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">下面是另一种获取字符串中两个字符之间的子字符串的方法:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="20e8" class="mk kp in mf b gy ml mm l mn mo">function getSubstring(str, char1, char2) {<br/>  return str<br/>    .split(char1)<br/>    .slice(1)<br/>    .join('')<br/>    .split(char2)<br/>    .slice(0, -1)<br/>    .join('');<br/>}</span><span id="d694" class="mk kp in mf b gy mp mm l mn mo">const str1 = 'one:two;three';<br/>const substr1 = getSubstring(str1, ':', ';');<br/>console.log(substr1); // two</span><span id="6f22" class="mk kp in mf b gy mp mm l mn mo">const str2 = 'one?two!three';<br/>const substr2 = getSubstring(str2, '?', '!');<br/>console.log(substr2); // two</span></pre><p id="937f" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">String</code> <code class="fe mc md me mf b">split()</code>方法使用指定的分隔符分割字符串。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="e492" class="mk kp in mf b gy ml mm l mn mo">const str1 = 'one:two;three';</span><span id="e2dc" class="mk kp in mf b gy mp mm l mn mo">// [ 'one', 'two;three' ]<br/>console.log(str1.split(':'));</span></pre><p id="4bbf" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">Array</code> <code class="fe mc md me mf b">slice()</code>方法提取开始和结束索引之间的数组元素，分别由第一个和第二个参数指定。我们将<code class="fe mc md me mf b">1</code>作为第一个参数传递，而没有指定第二个参数，所以<code class="fe mc md me mf b">slice()</code>从索引<code class="fe mc md me mf b">1</code>处的元素中提取到字符串的末尾。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="21af" class="mk kp in mf b gy ml mm l mn mo">// ['two;three'];<br/>console.log([ 'one', 'two;three' ].slice(1));</span></pre><p id="0f41" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">我们对<code class="fe mc md me mf b">slice()</code>的结果调用<code class="fe mc md me mf b">Array</code> <code class="fe mc md me mf b">join()</code>方法，将数组的元素连接成一个字符串。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="5a60" class="mk kp in mf b gy ml mm l mn mo">const str1 = 'one:two;three';</span><span id="1e9d" class="mk kp in mf b gy mp mm l mn mo">// two;three<br/>console.log(['two;three'].join(''));</span></pre><p id="7501" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">我们再次分割这个结果，这次是通过第二个字符。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="6cb2" class="mk kp in mf b gy ml mm l mn mo">// ['two', 'three'];<br/>console.log('two;three'.split(';'));</span></pre><p id="a036" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">我们在这个拆分产生的数组上调用<code class="fe mc md me mf b">slice()</code>，传递<code class="fe mc md me mf b">0</code>和<code class="fe mc md me mf b">-1</code>作为参数，将除最后一个元素之外的所有数组元素复制到一个新数组中。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="544b" class="mk kp in mf b gy ml mm l mn mo">// [ 'two' ]<br/>console.log(['two', 'three'].slice(0, -1));</span></pre><p id="7eb9" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">最后，我们对这个结果调用<code class="fe mc md me mf b">join()</code>来获得两个字符之间的字符串。</p><p id="6656" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">与第一种方法不同，这种方法通过返回一个空字符串来处理其中一个字符不在字符串中的情况。</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="c7a5" class="mk kp in mf b gy ml mm l mn mo">function getSubstring(str, char1, char2) {<br/>  return str<br/>    .split(char1)<br/>    .slice(1)<br/>    .join('')<br/>    .split(char2)<br/>    .slice(0, -1)<br/>    .join('');<br/>}</span><span id="69c4" class="mk kp in mf b gy mp mm l mn mo">const str1 = 'one:two;three';<br/>const substr1 = getSubstring(str1, '-', ';');<br/>console.log(substr1); // '' (empty string)</span><span id="92be" class="mk kp in mf b gy mp mm l mn mo">const substr2 = getSubstring(str1, ':', '-');<br/>console.log(substr2); // '' (empty string)</span></pre></div><div class="ab cl mv mw hr mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ig ih ii ij ik"><p id="416b" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><em class="nc">更新于:</em><a class="ae nd" href="https://cbdev.link/5d82a5" rel="noopener ugc nofollow" target="_blank"><em class="nc">codingbeautydev.com</em></a></p><h1 id="35f7" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><a class="ae nd" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="li io">报名</strong> </a>立即免费领取一份。</p><p id="233f" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><em class="nc">更多内容请看</em><a class="ae nd" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="li io"><em class="nc">plain English . io</em></strong></a><em class="nc">。报名参加我们的</em> <a class="ae nd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。关注我们关于</em><a class="ae nd" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="li io"><em class="nc">Twitter</em></strong></a><strong class="li io"><em class="nc"/></strong><em class="nc">和</em><a class="ae nd" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="li io"><em class="nc">LinkedIn</em></strong></a><em class="nc">。查看我们的</em> <a class="ae nd" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="nc">社区不和谐</em> </strong> </a> <em class="nc">加入我们的</em> <a class="ae nd" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="nc">人才集体</em> </strong> </a> <em class="nc">。</em></p></div></div>    
</body>
</html>