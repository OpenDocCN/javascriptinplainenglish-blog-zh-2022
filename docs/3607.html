<html>
<head>
<title>How to Add Weeks to a Date in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中给日期添加周数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-date-add-weeks-3fe96d520647?source=collection_archive---------1-----------------------#2022-09-11">https://javascript.plainenglish.io/javascript-date-add-weeks-3fe96d520647?source=collection_archive---------1-----------------------#2022-09-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/dfaf37bcbf36fdb7acd986bed876f96f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LgBRKfyuK1t5-61O1uRHMQ.png"/></div></div></figure><p id="5c96" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将学习如何在JavaScript中轻松地给一个<code class="fe kt ku kv kw b">Date</code>对象添加任意周数。</p><h1 id="e1ba" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">1.Date setDate()和getDate()方法</h1><p id="fec9" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">在JavaScript中将星期添加到<code class="fe kt ku kv kw b">Date</code>中:</p><ol class=""><li id="2171" class="ma mb in jx b jy jz kc kd kg mc kk md ko me ks mf mg mh mi bi translated">使用<code class="fe kt ku kv kw b">Date</code>上的<code class="fe kt ku kv kw b">getDate()</code>方法获得<code class="fe kt ku kv kw b">Date</code>的月份日期。</li><li id="173a" class="ma mb in jx b jy mj kc mk kg ml kk mm ko mn ks mf mg mh mi bi translated">将<code class="fe kt ku kv kw b">getDate()</code>到<code class="fe kt ku kv kw b">7</code>的结果乘以要相加的周数相加。</li><li id="b85a" class="ma mb in jx b jy mj kc mk kg ml kk mm ko mn ks mf mg mh mi bi translated">用这个总和作为参数调用<code class="fe kt ku kv kw b">setDate()</code>方法。</li></ol><p id="4d59" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="mo mp mq mr gt ms kw mt mu aw mv bi"><span id="8e2e" class="mw ky in kw b gy mx my l mz na">function addWeeks(date, weeks) {<br/>  date.setDate(date.getDate() + 7 * weeks);</span><span id="7607" class="mw ky in kw b gy nb my l mz na">  return date;<br/>}</span><span id="a3c9" class="mw ky in kw b gy nb my l mz na">// May 20, 2022<br/>const date = new Date('2022-05-20T00:00:00.000Z');</span><span id="88c6" class="mw ky in kw b gy nb my l mz na">const newDate = addWeeks(date, 1);</span><span id="ffc9" class="mw ky in kw b gy nb my l mz na">// May 27, 2022<br/>console.log(newDate); // 2022-05-27T00:00:00.000Z</span></pre><p id="8c9f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的<code class="fe kt ku kv kw b">addDays()</code>函数将一个<code class="fe kt ku kv kw b">Date</code>对象和要添加的天数作为参数，并返回相同的<code class="fe kt ku kv kw b">Date</code>对象和新添加的天数。</p><p id="130b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">Date</code> <code class="fe kt ku kv kw b">getDate()</code>方法返回一个介于1和31之间的数字，表示特定日期是一个月中的哪一天。</p><p id="6239" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">Date</code> <code class="fe kt ku kv kw b">setDate()</code>方法将<code class="fe kt ku kv kw b">Date</code>对象中的日期更改为作为参数传递的数字。</p><p id="bb73" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您指定的数字会改变<code class="fe kt ku kv kw b">Date</code>的月份或年份，<code class="fe kt ku kv kw b">setDate()</code>会自动更新<code class="fe kt ku kv kw b">Date</code>信息以反映这一点。</p><pre class="mo mp mq mr gt ms kw mt mu aw mv bi"><span id="9144" class="mw ky in kw b gy mx my l mz na">function addWeeks(date, weeks) {<br/>  date.setDate(date.getDate() + 7 * weeks);</span><span id="96da" class="mw ky in kw b gy nb my l mz na">  return date;<br/>}</span><span id="20dd" class="mw ky in kw b gy nb my l mz na">// May 20, 2022<br/>const date = new Date('2022-05-20T00:00:00.000Z');</span><span id="7c7c" class="mw ky in kw b gy nb my l mz na">const newDate = addWeeks(date, 3);</span><span id="762b" class="mw ky in kw b gy nb my l mz na">// June 10, 2022<br/>console.log(newDate); // 2022-06-10T00:00:00.000Z</span></pre><p id="cbed" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">加3周加21天(20 + 21 = 41天)，但5月只有31天，所以月加<code class="fe kt ku kv kw b">1</code>，日设为<code class="fe kt ku kv kw b">10</code> (41 - 31)。</p><h2 id="a1ec" class="mw ky in bd kz nc nd dn ld ne nf dp lh kg ng nh ll kk ni nj lp ko nk nl lt nm bi translated">避免副作用</h2><p id="016e" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated"><code class="fe kt ku kv kw b">setDate()</code>方法改变了它所调用的<code class="fe kt ku kv kw b">Date</code>对象。这给我们的<code class="fe kt ku kv kw b">addDays()</code>函数带来了一个副作用。为了避免修改传递的<code class="fe kt ku kv kw b">Date</code>并创建一个纯函数，制作一个<code class="fe kt ku kv kw b">Date</code>的副本并在这个副本上调用<code class="fe kt ku kv kw b">setDate()</code>，而不是原始的。</p><pre class="mo mp mq mr gt ms kw mt mu aw mv bi"><span id="8959" class="mw ky in kw b gy mx my l mz na">function addWeeks(date, weeks) {<br/>  const dateCopy = new Date(date);</span><span id="c46c" class="mw ky in kw b gy nb my l mz na">  dateCopy.setDate(dateCopy.getDate() + 7 * weeks);</span><span id="ca9a" class="mw ky in kw b gy nb my l mz na">  return dateCopy;<br/>}</span><span id="28a0" class="mw ky in kw b gy nb my l mz na">const date = new Date('2022-05-20T00:00:00.000Z');</span><span id="63a6" class="mw ky in kw b gy nb my l mz na">const newDate = addWeeks(date, 3);</span><span id="2867" class="mw ky in kw b gy nb my l mz na">console.log(newDate); // 2022-06-10T00:00:00.000Z</span><span id="6261" class="mw ky in kw b gy nb my l mz na">// Original not modified<br/>console.log(date); // 2022-05-20T00:00:00.000Z</span></pre><p id="32b4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不修改外部状态的函数(即纯函数)更容易预测，也更容易推理，因为它们对于特定的输入总是给出相同的输出。这使得限制代码中副作用的数量成为一个很好的实践。</p><h1 id="a087" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2.date-fns addWeeks()函数</h1><p id="4144" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">或者，您可以使用<a class="ae nn" href="https://www.npmjs.com/package/date-fns" rel="noopener ugc nofollow" target="_blank"> date-fns </a> NPM包中的纯<code class="fe kt ku kv kw b">addWeeks()</code>函数来快速将星期添加到<code class="fe kt ku kv kw b">Date</code>中。它的工作方式类似于我们的<code class="fe kt ku kv kw b">addWeeks()</code>函数。</p><pre class="mo mp mq mr gt ms kw mt mu aw mv bi"><span id="d45b" class="mw ky in kw b gy mx my l mz na">import { addWeeks } from 'date-fns';</span><span id="d58a" class="mw ky in kw b gy nb my l mz na">const date = new Date('2022-05-20T00:00:00.000Z');</span><span id="ad65" class="mw ky in kw b gy nb my l mz na">const newDate = addWeeks(date, 3);</span><span id="7446" class="mw ky in kw b gy nb my l mz na">console.log(newDate); // 2022-06-10T00:00:00.000Z</span><span id="46dd" class="mw ky in kw b gy nb my l mz na">// Original not modified<br/>console.log(date); // 2022-05-20T00:00:00.000Z</span></pre></div><div class="ab cl no np hr nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ig ih ii ij ik"><p id="ee56" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nv">原载于</em><a class="ae nn" href="https://cbdev.link/1b9ae5" rel="noopener ugc nofollow" target="_blank"><em class="nv"/></a></p><h1 id="1c9f" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="mo mp mq mr gt jo gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae nn" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>