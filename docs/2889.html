<html>
<head>
<title>7 Important React Hooks No Course Will Tell You About</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">没有课程会告诉你的7个重要反应</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-important-react-hooks-no-course-will-tell-you-about-64dd9a68de34?source=collection_archive---------1-----------------------#2022-07-13">https://javascript.plainenglish.io/7-important-react-hooks-no-course-will-tell-you-about-64dd9a68de34?source=collection_archive---------1-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c545" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">#3是游戏规则的改变者。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c63b65472bbee7056590dd166f66b481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XOulROLunbYV1GHX"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@grzegorzwalczak?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Grzegorz Walczak</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a184" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在线课程改变了网络开发的场景。</p><p id="64d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我认识的大部分开发人员都是从一门免费或付费的课程中学到web开发的。</p><p id="a419" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些课程倾向于提供最新的指南和最佳实践，通常是面向绝对的初学者。</p><p id="614e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为它们是为初学者设计的，所以它们必须在一门课程中涵盖很多内容，同时确保这门课程不会过于庞大。</p><p id="e4cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">向每一个课程创造者致敬——我非常感谢你们分享你们的技能并教育大众！</p><p id="5087" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数开发人员一行一行地遵循课程，并按照课程中显示的那样构建项目，他们从来不会对此进行第二次思考。</p><p id="24bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些课程没有涵盖所有的基本细节，因为这将使课程对目标受众产生威胁，并可能影响他们的收入。</p><p id="0501" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然这听起来不错，但是一旦你开始构建多个项目(尤其是当你构建一个投资组合或者自由职业者的时候)，你会想要一个更快的方法来构建一些公共功能。</p><p id="968a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，使用React hooks，您只需几行代码就可以添加一些最常见的方法和特性，而且不会影响可读性。</p><p id="2e35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我整理的7个定制挂钩，可以增强你的应用程序:</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="3697" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#1.<a class="ae kv" href="https://usehooks.com/useHover/" rel="noopener ugc nofollow" target="_blank">使用悬停</a></h2><p id="31fe" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">悬停事件是传达信息的重要媒介。</p><p id="41c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，当用户悬停在受限链接上时，您可以显示一个禁用的标志，或者您可以突出显示一个按钮来传达用户光标所在的按钮。</p><p id="0706" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通常，您可以使用如下所示的<code class="fe mx my mz na b">onMouseOver</code> &amp; <code class="fe mx my mz na b">onMouseOut</code>来处理悬停事件(当光标悬停时以及当光标最终离开时):</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="5b33" class="lz ma iq na b gy nf ng l nh ni">import React from "react";<br/>import "./styles.css";<br/><br/><br/>export default function App() {<br/>   let [over,setOver]=React.useState(false);<br/><br/>   let buttonstyle={<br/>    backgroundColor:''<br/>  }<br/><br/>  if(over){<br/>    buttonstyle.backgroundColor="green";<br/>  }<br/>  else{<br/>    buttonstyle.backgroundColor='';<br/>  }<br/><br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;button style={buttonstyle}<br/>      onMouseOver={()=&gt;setOver(true)} <br/>      onMouseOut={()=&gt;setOver(false)}<br/>      &gt;Hover over me!&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="5c67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有这些只是为了处理悬停事件。</p><p id="54bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe mx my mz na b">useHover</code>，您只需一行代码就可以做到这一点，并在您希望处理悬停事件的组件上设置ref属性。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="c739" class="lz ma iq na b gy nf ng l nh ni">// Usage<br/>function App() {<br/>  const [hoverRef, isHovered] = useHover();<br/>  return &lt;div ref={hoverRef}&gt;{isHovered ? "😁" : "☹️"}&lt;/div&gt;;<br/>}</span></pre><p id="8206" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是不是很酷？</p><p id="1c6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">自定义挂钩的代码如下所示。您可以将其复制到一个新文件中，然后在需要悬停挂钩时导入该文件。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="5883" class="lz ma iq na b gy nf ng l nh ni">function useHover() {<br/>  const [value, setValue] = useState(false);<br/>  const ref = useRef(null);</span><span id="c81f" class="lz ma iq na b gy nj ng l nh ni"><br/>  const handleMouseOver = () =&gt; setValue(true);<br/>  const handleMouseOut = () =&gt; setValue(false);</span><span id="e2e8" class="lz ma iq na b gy nj ng l nh ni"><br/>  useEffect(<br/>    () =&gt; {<br/>      const node = ref.current;<br/>      if (node) {<br/>        node.addEventListener("mouseover", handleMouseOver);<br/>        node.addEventListener("mouseout", handleMouseOut);<br/>        return () =&gt; {<br/>          node.removeEventListener("mouseover", handleMouseOver);<br/>          node.removeEventListener("mouseout", handleMouseOut);<br/>        };<br/>      }<br/>    },<br/>    [ref.current] // Recall only if ref changes<br/>  );<br/>  return [ref, value];<br/>}</span></pre><p id="c5f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">代码解释:</strong></p><p id="a144" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如你所见，我们使用<code class="fe mx my mz na b">useRef()</code>创建了一个ref对象，然后我们添加了事件监听器来监听鼠标悬停和鼠标离开事件，并使用<code class="fe mx my mz na b">useEffect()</code>钩子相应地更新值。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="faf7" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#2.<a class="ae kv" href="https://usehooks.com/useLocalStorage/" rel="noopener ugc nofollow" target="_blank">使用本地存储</a></h2><p id="a5b8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果您的应用程序处理大量的表单字段，那么访问您的状态并将其复制到本地存储可以创建一种客户端友好的体验。</p><p id="7a37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我在构建<a class="ae kv" href="https://usewildfire.com/" rel="noopener ugc nofollow" target="_blank"> Wildfire </a>的时候，我必须处理本地存储，这样即使作者在写博客的时候不小心关闭了标签，他的工作也是安全的。</p><p id="30fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mx my mz na b">useLocalStorage</code>是一个方便的钩子，可以让您轻松地访问和存储本地存储中的值。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="a7ee" class="lz ma iq na b gy nf ng l nh ni">function App() {<br/>// First arg is key to the value in local storage.</span><span id="9b2a" class="lz ma iq na b gy nj ng l nh ni">  const [name, setName] = useLocalStorage("name", "Bob");<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;input<br/>        type="text"<br/>        placeholder="Enter your name"<br/>        value={name}<br/>        onChange={(e) =&gt; setName(e.target.value)}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="52c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，“name”是键，默认值是“Bob”。可以用这个代替<code class="fe mx my mz na b">useState()</code>。它提供了类似的功能，同时还增加了本地存储持久性。</p><p id="144b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">挂钩的代码附在下面。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="5cde" class="lz ma iq na b gy nf ng l nh ni">import { useState } from "react";</span><span id="076b" class="lz ma iq na b gy nj ng l nh ni"><br/>// Hook<br/>function useLocalStorage(key, initialValue) {<br/>  // State to store our value<br/>  // Pass initial state function to useState so logic is only //executed once</span><span id="2eb9" class="lz ma iq na b gy nj ng l nh ni"><br/>  const [storedValue, setStoredValue] = useState(() =&gt; {<br/>    if (typeof window === "undefined") {<br/>      return initialValue;<br/>    }<br/>    try {<br/>      // Get from local storage by key<br/>      const item = window.localStorage.getItem(key);<br/>      // Parse stored json or if none return initialValue<br/>      return item ? JSON.parse(item) : initialValue;<br/>    } catch (error) {<br/>      // If error also return initialValue<br/>      console.log(error);<br/>      return initialValue;<br/>    }<br/>  });</span><span id="81d7" class="lz ma iq na b gy nj ng l nh ni"><br/>  // Return a wrapped version of useState's setter function that ...<br/>  // ... persists the new value to localStorage.<br/>  const setValue = (value) =&gt; {<br/>    try {<br/>      // Allow value to be a function so we have same API as useState<br/>      const valueToStore =<br/>        value instanceof Function ? value(storedValue) : value;<br/>      // Save state<br/>      setStoredValue(valueToStore);<br/>      // Save to local storage<br/>      if (typeof window !== "undefined") {<br/>        window.localStorage.setItem(key, JSON.stringify(valueToStore));<br/>      }<br/>    } catch (error) {<br/>      // A more advanced implementation would handle the error case<br/>      console.log(error);<br/>    }<br/>  };</span><span id="3a0a" class="lz ma iq na b gy nj ng l nh ni"><br/>  return [storedValue, setValue];<br/>}</span></pre><p id="c58e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">代码解释:</strong></p><p id="0a61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用<code class="fe mx my mz na b">useState()</code>来管理我们的键值对的状态。如这个钩子的使用代码片段所示，我们接受了两个参数作为键和初始值。</p><p id="1935" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这些参数，我们在<code class="fe mx my mz na b">useState()</code>中创建了一个函数，从本地存储中获取数据，如果存在就返回，否则我们将返回初始值。</p><p id="20f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不能直接使用<code class="fe mx my mz na b">setStoredValue()</code>,因为那样只会更新值而不会更新本地存储，因此我们创建了一个新函数<code class="fe mx my mz na b">setValue</code>,它检查窗口是否未定义(也就是说，我们正在浏览器中运行),并使用<code class="fe mx my mz na b">setStoredValue()</code>更新本地存储和值。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="feab" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#3.<a class="ae kv" href="https://github.com/ava/use-http" rel="noopener ugc nofollow" target="_blank">使用-http </a></h2><p id="b3bd" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">这是一个非常棒的钩子，我怎么推荐都不为过。</p><p id="c2d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在构建前端应用程序时，访问API是一种常见的用法，但是编写全面的获取代码(也就是说，包括错误处理和重试选项)不仅单调，而且非常令人沮丧。</p><p id="4002" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个包提供了一种直观的方式来处理你的获取操作</p><p id="ba81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">SSR支持也包括在内。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="a9e3" class="lz ma iq na b gy nf ng l nh ni">import useFetch from 'use-http'<br/><br/>function Todos() {<br/>  const [todos, setTodos] = useState([])<br/>  const {get, post, response, loading, error} = useFetch('https://example.com',<br/>{<br/>   retries: 1,<br/>    retryOn: [305],<br/>    // OR<br/>    retryOn: async ({ attempt, error, response }) =&gt; {<br/>      // returns true or false to determine whether to retry<br/>      return error || response &amp;&amp; response.status &gt;= 300<br/>    },<br/><br/>    retryDelay: 3000<br/>});<br/><br/>  useEffect(() =&gt; { initializeTodos() }, []) // componentDidMount<br/>  <br/>  async function initializeTodos() {<br/>    const initialTodos = await get('/todos')<br/>    if (response.ok) setTodos(initialTodos)<br/>  }<br/><br/>  async function addTodo() {<br/>    const newTodo = await post('/todos', { title: 'my new todo' })<br/>    if (response.ok) setTodos([...todos, newTodo])<br/>  }<br/><br/>  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={addTodo}&gt;Add Todo&lt;/button&gt;<br/>      {error &amp;&amp; 'Error!'}<br/>      {loading &amp;&amp; 'Loading...'}<br/>      {todos.map(todo =&gt; (<br/>        &lt;div key={todo.id}&gt;{todo.title}&lt;/div&gt;<br/>      ))}<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><p id="454d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有标准操作(GET和POST)以及必要的加载和错误状态都可以用<code class="fe mx my mz na b">use-http()</code>轻松处理。</p><p id="df1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，在上面提供的代码片段中，您还可以看到重试逻辑。</p><p id="7304" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我想不出更简单的方法来处理获取操作。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="911b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#4.<a class="ae kv" href="https://github.com/alex-cory/react-useportal" rel="noopener ugc nofollow" target="_blank">使用门户</a></h2><p id="e3d2" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">顾名思义，如果您没有使用任何UI库，并且想要创建门户、工具提示、下拉菜单、全局消息通知和其他类似的项目，那么这个包是非常好的。</p><p id="0618" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就我个人而言，我还没有使用这个包，因为我使用的是Chakra UI，它为我提供了现成的模态和工具提示，但尽管如此，这个包应该在列表中占有一席之地。</p><p id="34e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在下面看到使用这个包创建一个带动画的门户有多快:</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="81fe" class="lz ma iq na b gy nf ng l nh ni">import usePortal from 'react-useportal'<br/><br/>const App = () =&gt; {<br/>  const { openPortal, closePortal, isOpen, Portal } = usePortal()<br/>  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={openPortal}&gt;<br/>        Open Portal<br/>      &lt;/button&gt;<br/>      &lt;Portal&gt;<br/>        &lt;p className={isOpen ? 'animateIn' : 'animateOut'}&gt;<br/>          This Portal handles its own state.{' '}<br/>          &lt;button onClick={closePortal}&gt;Close me!&lt;/button&gt;, hit ESC or<br/>          click outside of me.<br/>        &lt;/p&gt;<br/>      &lt;/Portal&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><p id="91e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其他功能，如在外部单击时关闭模态，支持服务器端呈现和类型脚本，都内置在这个包中。</p><p id="d7f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通常，从头开始创建一个门户或模型需要很多代码，这个包非常适合这样的用例。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="1bed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nk">如果你喜欢这篇文章并觉得它很有帮助，可以考虑使用</em> </strong> <a class="ae kv" href="https://medium.com/@anuragkanoria/membership" rel="noopener"> <strong class="ky ir"> <em class="nk">我的推荐链接</em> </strong> </a> <strong class="ky ir"> <em class="nk">，这样你就可以无限制地访问我的博客以及其他作者的博客，只需点击</em> </strong> <a class="ae kv" href="https://medium.com/@anuragkanoria/membership" rel="noopener"> <strong class="ky ir"> <em class="nk">这里</em> </strong> </a> <strong class="ky ir"> <em class="nk">。</em> </strong></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="691d" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#5.<a class="ae kv" href="https://github.com/kitze/react-hanger" rel="noopener ugc nofollow" target="_blank">反应悬挂器</a></h2><p id="65b2" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">React-hanger是那些当你开始使用它们的时候，你真正欣赏的工具之一。</p><p id="9f65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是目前为止我用过的最有效的钩子，我希望我能早点知道。</p><p id="e368" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它是一组有用的钩子，处理基本类型和它们变化的状态。</p><p id="f1f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过提供助手函数来处理常见的使用模式，它可以极大地简化值的创建和更新。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="3766" class="lz ma iq na b gy nf ng l nh ni">import React, { Component } from 'react';<br/><br/>import { useInput, useBoolean, useNumber, useArray, useOnMount, useOnUnmount } from 'react-hanger';<br/><br/>const App = () =&gt; {<br/>  const newTodo = useInput('');<br/>  const showCounter = useBoolean(true);<br/>  const limitedNumber = useNumber(3, { lowerLimit: 0, upperLimit: 5 });<br/>  const counter = useNumber(0);<br/>  const todos = useArray(['hi there', 'sup', 'world']);<br/><br/>  const rotatingNumber = useNumber(0, {<br/>    lowerLimit: 0,<br/>    upperLimit: 4,<br/>    loop: true,<br/>  });<br/><br/>  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={showCounter.toggle}&gt; toggle counter &lt;/button&gt;<br/>      &lt;button onClick={() =&gt; counter.increase()}&gt; increase &lt;/button&gt;<br/>      {showCounter.value &amp;&amp; &lt;span&gt; {counter.value} &lt;/span&gt;}<br/>      &lt;button onClick={() =&gt; counter.decrease()}&gt; decrease &lt;/button&gt;<br/>      &lt;button onClick={todos.clear}&gt; clear todos &lt;/button&gt;<br/>      &lt;input type="text" value={newTodo.value} onChange={newTodo.onChange} /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="c08c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，您可以看到如何快速切换布尔值，在<code class="fe mx my mz na b">newTodo</code>变量中接受用户输入，以及如何处理数组<code class="fe mx my mz na b">todos</code>。</p><p id="cf49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您还可以在标准原语中获得一些特殊的附加内容，如旋转数(一旦达到上限，它将重置为下限)。</p><p id="0910" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的下一个项目中尝试这个包，看看它有多有用。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="14b3" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#6.<a class="ae kv" href="https://github.com/streamich/use-media" rel="noopener ugc nofollow" target="_blank">使用媒体</a></h2><p id="cf59" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">极其直观而强大的软件包。</p><p id="4f20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个钩子帮助React处理CSS媒体查询。</p><p id="2d99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">给出了处理CSS媒体查询改变的标准方式:</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="7f84" class="lz ma iq na b gy nf ng l nh ni">import React, { useState, useEffect } from 'react';<br/><br/>const App = () =&gt; {<br/>  const [matches, setMatches] = useState(<br/>    window.matchMedia("(min-width: 768px)").matches<br/>  )<br/><br/>  useEffect(() =&gt; {<br/>    window<br/>    .matchMedia("(min-width: 768px)")<br/>    .addEventListener('change', e =&gt; setMatches( e.matches ));<br/>  }, []);<br/><br/>  return (<br/>    &lt;div &gt;<br/>      {matches &amp;&amp; (&lt;h1&gt;Big Screen&lt;/h1&gt;)}<br/>      {!matches &amp;&amp; (&lt;h3&gt;Small Screen&lt;/h3&gt;)}<br/>    &lt;/div&gt;<br/>  );<br/>}<br/><br/>export default App;</span></pre><p id="06d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，有了他的包，它变得相当易读和简单。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="970a" class="lz ma iq na b gy nf ng l nh ni">import useMedia from 'use-media';</span><span id="30e5" class="lz ma iq na b gy nj ng l nh ni"><br/>const Demo = () =&gt; {<br/>  <br/>  const isWide = useMedia({minWidth: '1000px'});<br/><br/>  return (<br/>    &lt;div&gt;<br/>      Screen is wide: {isWide ? '😃' : '😢'}<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="1ad4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个包也有助于使用上下文跨组件处理<a class="ae kv" href="https://github.com/streamich/use-media#storing-in-context" rel="noopener ugc nofollow" target="_blank">媒体变化。</a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="c76a" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">#7.<a class="ae kv" href="https://github.com/xnimorz/use-debounce" rel="noopener ugc nofollow" target="_blank">使用去抖</a></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/75d386090398563edbfce79f21fd7676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*M4MY0OprzJgMzdJg8AZCRg.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: Author</figcaption></figure><p id="381f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用自动保存功能？这个包裹是你的救命稻草。</p><p id="fe4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mx my mz na b">use-debounce</code>钩子提供了一种简单的去抖动值的方法。</p><p id="02cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">去抖基本上意味着一个限制调用频率的功能。</p><p id="5be1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的媒体中，您可以看到当实际值更新时，去抖值没有立即更新。反而过一段时间就更新了。</p><p id="0b10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你的应用有句子/字数统计或自动保存功能，这个功能就很有用。</p><pre class="kg kh ki kj gt nb na nc nd aw ne bi"><span id="e69f" class="lz ma iq na b gy nf ng l nh ni">import { useDebounce } from "use-debounce";</span><span id="caba" class="lz ma iq na b gy nj ng l nh ni">function Input() {<br/>  const [text, setText] = useState("Hello");<br/>  const [debouncedText] = useDebounce(text, 1000);</span><span id="8d93" class="lz ma iq na b gy nj ng l nh ni">  return (<br/>    &lt;div&gt;<br/>      &lt;input<br/>        defaultValue={"Hello"}<br/>        onChange={(e) =&gt; {<br/>          setText(e.target.value);<br/>        }}<br/>      /&gt;<br/>      &lt;p&gt;Actual value: {text}&lt;/p&gt;<br/>      &lt;p&gt;Debounced value: {debouncedText}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="54d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，您可以看到使用特定的定时器将去抖添加到任何值是多么容易。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="7a53" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">最后的想法…</h2><p id="3a2b" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">React让我成为了功能组件及其优势的粉丝。</p><p id="592a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">React hooks极大地简化了组件生活方式事件，并引入了大量简化构建web应用程序的方法。</p><p id="bd37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上面的列表中，您可以看到hooks如何通过让您只关注重要的逻辑来为您的项目增压并帮助您削减开发时间。</p><p id="1b69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望你喜欢阅读这篇文章。</p><p id="5d13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我定期发表这样的博客，你可以看看我最近在动画图书馆发表的关于React:</p><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/6-animations-library-for-your-next-react-project-9b1d45fcb8e2"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd ir gy z fp nu fr fs nv fu fw ip bi translated">为您的下一个React项目提供6个动画库</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">#3是我现在的最爱之一。</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od kp np"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="186b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nk">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nk">plain English . io</em></strong></a><em class="nk">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nk">免费周报</em> </strong> </a> <em class="nk">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nk">Twitter</em></strong></a><em class="nk">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nk">LinkedIn</em></strong></a><em class="nk">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nk">社区不和谐</em> </strong> </a> <em class="nk">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nk">人才集体</em> </strong> </a> <em class="nk">。</em></p></div></div>    
</body>
</html>