<html>
<head>
<title>React Authentication from Scratch with Firebase, Redux, Formik, React Router V6, and Material UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Firebase、Redux、Formik、React Router V6和Material UI从头开始进行React身份验证</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-authentication-from-scratch-with-firebase-redux-formik-react-router-v6-and-material-ui-dc719739a9d6?source=collection_archive---------3-----------------------#2022-05-24">https://javascript.plainenglish.io/react-authentication-from-scratch-with-firebase-redux-formik-react-router-v6-and-material-ui-dc719739a9d6?source=collection_archive---------3-----------------------#2022-05-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="aa53" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated"><strong class="ak"> <em class="kc">在这篇博客中，我们将使用Firebase、Redux和Material UI实现React认证。</em> </strong></h2></div><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi kd"><img src="../Images/9d162aa0c9e50863a7f0af11013a638d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P1hrJmyjHQLB1Ncv"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Photo by <a class="ae kt" href="https://unsplash.com/@daria_shevtsova?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Daria Shevtsova</a> on <a class="ae kt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6463" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io"> <em class="lq"> Firebase </em> </strong>用于后端认证。<strong class="kw io"> <em class="lq"> Redux </em> </strong>用于存储整个app的认证状态。<strong class="kw io"> <em class="lq">材质UI </em> </strong>用于美观的签到和注册屏幕，<strong class="kw io"> <em class="lq"> Formik </em> </strong>用于维护表单状态。</p><p id="dd13" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><strong class="kw io">你会学到:</strong></p><ul class=""><li id="be10" class="lr ls in kw b kx ky la lb ld lt lh lu ll lv lp lw lx ly lz bi translated">如何在React.js app中实现一个<strong class="kw io"> <em class="lq">认证</em> </strong>机制？</li><li id="a0de" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">如何在React.js app中使用<a class="ae kt" href="https://firebase.google.com/docs/reference/rest/auth" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="lq">Firebase REST API</em></strong></a>进行认证？</li><li id="ce9c" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">如何使用<a class="ae kt" href="https://react-redux.js.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="lq">Redux</em></strong></a>在React.js app中<strong class="kw io"> <em class="lq">存储和维护认证状态</em> </strong>。</li><li id="5990" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">如何创建<strong class="kw io"> <em class="lq">保护路由</em> </strong>和使用路由与<a class="ae kt" href="https://reactrouter.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">反应路由器V6 </em> </strong>。</a></li><li id="3c19" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">如何<strong class="kw io"> <em class="lq">构建</em> </strong>，<strong class="kw io">验证</strong>，<strong class="kw io"> <em class="lq">维护</em> </strong>表单状态使用<a class="ae kt" href="https://formik.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="lq">Formik</em></strong></a><strong class="kw io"><em class="lq">。</em>T74】</strong></li><li id="8724" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">如何<strong class="kw io"> <em class="lq">设计漂亮的</em> </strong>使用<a class="ae kt" href="https://mui.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">素材UI进行签到和报名屏幕。</em>T83</strong></a></li></ul></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="eebc" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">我们开始吧。</h2><h2 id="5287" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤1 —初始设置和所需的软件包安装</h2><p id="456e" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">使用<a class="ae kt" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">创建React App</em></strong></a><em class="lq">:</em><br/><code class="fe nk nl nm nn b">npx create-react-app auth-react</code>设置React.js项目</p><p id="38bf" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><code class="fe nk nl nm nn b">cd auth-project</code></p><p id="8505" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><code class="fe nk nl nm nn b">npm start</code></p><p id="079f" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">首先，<strong class="kw io"> <em class="lq">安装</em> </strong>本项目中<strong class="kw io"> <em class="lq">所需的软件包</em> </strong>。</p><p id="73ec" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><code class="fe nk nl nm nn b">npm i @mui/material @emotion/react @emotion/styled formik axios js-cookie react-redux</code></p></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="e783" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤2 —建立Firebase项目</h2><ol class=""><li id="2404" class="lr ls in kw b kx nf la ng ld no lh np ll nq lp nr lx ly lz bi translated">前往:<a class="ae kt" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.firebase.google.com/</a></li><li id="e08b" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp nr lx ly lz bi translated">设置完成后，从<strong class="kw io"> <em class="lq">项目设置</em> </strong>中抓取<strong class="kw io"> <em class="lq"> Web API键</em> </strong></li></ol><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi ns"><img src="../Images/a2708fc24e287e7fa09bf77bf8b33d6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bhmHAcI5R8rd2EdvDiepdw.png"/></div></div></figure><p id="30a7" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">3.现在进入认证菜单，并启用来自签名提供商的电子邮件/密码。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi nt"><img src="../Images/85506a49191762e131a2686f791c155b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vw87m33-wbSsoOOVq-dErA.png"/></div></div></figure></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="7779" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤3—认证服务</h2><p id="936a" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">接下来，编写我们的认证服务代码。这些将保存HTTP请求。</p><p id="79f9" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">此外，在sessionStorage中存储令牌。</p><ul class=""><li id="585b" class="lr ls in kw b kx ky la lb ld lt lh lu ll lv lp lw lx ly lz bi translated">在<code class="fe nk nl nm nn b">src</code>中创建一个名为<code class="fe nk nl nm nn b">services</code>的新目录。</li><li id="ac9e" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">在<code class="fe nk nl nm nn b">services</code>目录下，创建<code class="fe nk nl nm nn b">AuthService.js</code>文件。</li></ul><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/16084db85e27d1ba6aa9d68af9ba5702.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*wAcpXm8I4l4FlUrx778UeQ.png"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">AuthService.js</figcaption></figure><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/services/AuthService.js</figcaption></figure><h2 id="beb5" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤4 —设置Redux商店</h2><ul class=""><li id="843a" class="lr ls in kw b kx nf la ng ld no lh np ll nq lp lw lx ly lz bi translated">在<code class="fe nk nl nm nn b">src.</code>中新建一个名为<code class="fe nk nl nm nn b">store</code>的目录</li><li id="e694" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">在<code class="fe nk nl nm nn b">store</code>目录下，创建<code class="fe nk nl nm nn b">action, reducers</code>目录。</li><li id="ad37" class="lr ls in kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">同样，在同一个<code class="fe nk nl nm nn b">store</code>目录中，创建<code class="fe nk nl nm nn b">index.js</code>。</li></ul><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/845ecf4f19740405ced2b767524346fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*dSFIinSNGLj1L42CR02xrQ.png"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Store Directory</figcaption></figure><p id="50b7" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在，让我们创建一些动作常数，</p><p id="ea24" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">actions</code>目录中，创建<code class="fe nk nl nm nn b">authActions.js .</code></p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/store/actions/authActions.js</figcaption></figure><p id="a073" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">reducers</code>目录中，创建<code class="fe nk nl nm nn b">authReducers.js</code>，它将保存redux状态更新功能和初始状态所需的所有代码。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/store/reducers/authReducers.js</figcaption></figure><p id="2674" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们将在项目中使用更多的减速器，因此我们需要使用<code class="fe nk nl nm nn b">combineReducers() .</code>将它们组合起来</p><p id="371b" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">接下来，在同一个<code class="fe nk nl nm nn b">reducers</code>目录中创建<code class="fe nk nl nm nn b">index.js</code>。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/store/reducers/index.js</figcaption></figure><p id="e1ca" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在，我们可以创建基于API请求更新身份验证状态的操作。</p><p id="b267" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在此之前，创建一个用于格式化错误的函数。</p><p id="9b22" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">src</code>中，创建一个<code class="fe nk nl nm nn b">utils</code>目录，放入<code class="fe nk nl nm nn b">index.js</code>文件。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/13354ec735af51aa92515f41be6720cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*oElJwQ0iX5G4miBB3sR8uQ.png"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/utils/index.js</figcaption></figure><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/utils/index.js</figcaption></figure><p id="1f3e" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">开始行动吧，</p><p id="697f" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">这里，我们使用<code class="fe nk nl nm nn b">authService</code>来执行API请求。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/store/actions/authActions.js</figcaption></figure><p id="9e2f" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在我们可以配置我们的商店，</p><p id="eba4" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">src/store</code>目录中，创建<code class="fe nk nl nm nn b">index.js</code>文件来存放商店和中间件。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/store/index.js</figcaption></figure><p id="5f81" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">接下来，将<code class="fe nk nl nm nn b">store</code>传递给应用程序</p><p id="27f4" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">首先，我们需要从<code class="fe nk nl nm nn b">react-redux</code>导入<code class="fe nk nl nm nn b">Provider</code>组件</p><p id="f199" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">确保您正在导入<code class="fe nk nl nm nn b">store</code></p><p id="b1ed" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">然后用<code class="fe nk nl nm nn b">Provider</code>把所有JSX包起来，通过<code class="fe nk nl nm nn b">store</code>作为道具。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/index.js</figcaption></figure></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="9e11" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤5 —自定义反应挂钩</h2><p id="c1b7" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">我们将实现一个React钩子来检查用户的认证状态。</p><p id="b99e" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们将在<code class="fe nk nl nm nn b">sessionToken</code>中检查<code class="fe nk nl nm nn b">token</code>是否存在。</p><p id="ccfb" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">自定义钩子的主要优点是我们可以在多个组件之间重用它。</p><p id="3aa3" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">src</code>中创建一个<code class="fe nk nl nm nn b">hooks</code>目录，并新建一个文件名为<code class="fe nk nl nm nn b">useAuth</code>的文件</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/hooks/useAuth.js</figcaption></figure></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="4908" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤5-注册组件</h2><p id="419b" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">现在让我们实现不同的组件，如<code class="fe nk nl nm nn b">Signup</code>、<code class="fe nk nl nm nn b">Signin</code>、<code class="fe nk nl nm nn b">Header</code>、<code class="fe nk nl nm nn b">Protected Route</code>和<code class="fe nk nl nm nn b">Dashboard</code>。</p><p id="ca76" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">可以免费下载背景图片:<a class="ae kt" href="https://undraw.co/" rel="noopener ugc nofollow" target="_blank">https://undraw.co/</a></p><p id="7450" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">先从<strong class="kw io"> <em class="lq">报名组件说起。</em> </strong></p><p id="a28d" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">src/components.</code>中创建<code class="fe nk nl nm nn b">Signup</code>目录</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/cccf0368df74399ee22250a7e1d2549b.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/1*ZxkGujQX6cWmq_KsxHU-qA.png"/></div></figure><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/Components/Signup/Signup.js</code></figcaption></figure><p id="d189" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在这一步中，我们创建了一个注册组件。我们有两个文本输入，一个用于电子邮件，一个用于密码。我们使用Formik来处理和验证表单数据。一旦用户提交了电子邮件和密码，我们将发送<code class="fe nk nl nm nn b">signUpAction.</code>该操作将调用来自<code class="fe nk nl nm nn b">AuthService,</code>的API。如果服务器响应成功，我们将重定向到登录页面，否则将显示一条错误消息。</p><p id="9ebb" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在，导出这个组件。</p><p id="f2cb" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在同一目录下创建新的<code class="fe nk nl nm nn b">index.js </code>即<code class="fe nk nl nm nn b">components/Signup/index.js</code>。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/Components/Signup/index.js</code></figcaption></figure></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="c9d3" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤6-登录组件</h2><p id="9922" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">同样，我们有一个<strong class="kw io"> <em class="lq">的签到组件。</em> </strong></p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/Components/Signin/Signin.js</code></figcaption></figure><p id="d790" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们有与注册相同的组件，但这里我们在成功认证后发送<code class="fe nk nl nm nn b">signInAction,</code>，我们将重定向到仪表板。</p></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="d99c" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤7-创建受保护的路由</h2><p id="c5a2" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">现在在<code class="fe nk nl nm nn b">src/Components/ProtectedRoute/ProtectedRoute.js</code>中创建<strong class="kw io"> <em class="lq">保护路由</em> </strong>组件</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/components/ProtectedRoute/ProtectedRoute.js</code></figcaption></figure><p id="af9c" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">使用自定义钩子，我们检查认证状态，如果用户没有登录，我们重定向到登录页面，否则我们呈现一个受保护的路由。</p><p id="e97f" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">应该在父路由元素中使用一个<code class="fe nk nl nm nn b">&lt;Outlet&gt;</code>来呈现它们的子路由元素。这允许在呈现子路线时显示嵌套的UI。</p></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="1b10" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">第8步—设计其余组件</h2><p id="95ba" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">还有两个组件<strong class="kw io"> <em class="lq"> Dashboard、Header </em> </strong>和一个<strong class="kw io"> <em class="lq">容器</em> </strong>页面。</p><p id="3bf1" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe nk nl nm nn b">src/pages/Container/Container.js</code>中创建目录。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/pages/Container/Container.js</code></figcaption></figure><p id="5ed6" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">让我们快速设计它们。</p><p id="5d76" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">他们两人，分别居住在<code class="fe nk nl nm nn b">src/Components/Dashboard/Dashboard.jsx</code>和<code class="fe nk nl nm nn b">src/Components/Header.jsx</code>。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/Components/Dashboard/Dashboard.jsx</code></figcaption></figure><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/Components/Header.jsx</code></figcaption></figure><p id="e80d" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在标题中，我们根据身份验证状态更改菜单。</p><p id="f7f3" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">不要忘记导入组件。</p><p id="3649" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><code class="fe nk nl nm nn b">src/Components/Dashboard/index.js</code></p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk"><code class="fe nk nl nm nn b">src/Components/Dashboard/index.js</code></figcaption></figure><p id="2c0d" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><code class="fe nk nl nm nn b">src/Components/Header/index.js</code></p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/Components/Header/index.js</figcaption></figure></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><h2 id="e203" class="mm mn in bd mo mp mq dn mr ms mt dp mu ld mv mw mx lh my mz na ll nb nc nd ne bi translated">步骤9-路由和App.js设置</h2><p id="9cc2" class="pw-post-body-paragraph ku kv in kw b kx nf jo kz la ng jr lc ld nh lf lg lh ni lj lk ll nj ln lo lp ig bi translated">现在我们来到了项目的最后一部分！</p><p id="41a9" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">创建一个名为<code class="fe nk nl nm nn b">src/helpers/helpers.js</code>的新文件</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/helpers/helpers.js</figcaption></figure><p id="ed99" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">让我们在<code class="fe nk nl nm nn b">App.js</code>中实现路由。</p><figure class="ke kf kg kh gt ki"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">src/App.js</figcaption></figure><p id="547c" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在，使用<code class="fe nk nl nm nn b">npm start</code>运行应用程序。</p><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi oa"><img src="../Images/c4db3c5a9db0c13cafeccbae57e97c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Ac8a-itgw3a9OjXUTfv_Q.png"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Sign in</figcaption></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi oa"><img src="../Images/232f816f1fa5f3918aa12b64145bc87b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bxgxP8tyoC6z8l1HscBLMQ.png"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Sign up</figcaption></figure><figure class="ke kf kg kh gt ki gh gi paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gh gi oa"><img src="../Images/533eef5d6ab097777b964d772186af4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCEhFZly5KyAqn0CxKNMuA.png"/></div></div><figcaption class="kp kq gj gh gi kr ks bd b be z dk">Dashboard</figcaption></figure></div><div class="ab cl mf mg hr mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ig ih ii ij ik"><p id="eb0d" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><em class="lq">更多内容请看</em> <a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">说白了就是</em> </strong> </a> <em class="lq">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">免费每周简讯</em> </strong> </a> <em class="lq">。关注我们</em><a class="ae kt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="lq">Twitter</em></strong></a><em class="lq">和</em><a class="ae kt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="lq">LinkedIn</em></strong></a><em class="lq">。查看我们的</em> <a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">社区不和谐</em> </strong> </a> <em class="lq">加入我们的</em> <a class="ae kt" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="lq">人才集体</em> </strong> </a> <em class="lq">。</em></p></div></div>    
</body>
</html>