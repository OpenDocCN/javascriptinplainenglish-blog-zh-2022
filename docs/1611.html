<html>
<head>
<title>Think Again Before Using Vue.js for Your Next Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在您的下一个项目中使用Vue.js之前，请三思</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/think-again-before-using-vue-for-your-next-project-999bb8c556bf?source=collection_archive---------3-----------------------#2022-04-06">https://javascript.plainenglish.io/think-again-before-using-vue-for-your-next-project-999bb8c556bf?source=collection_archive---------3-----------------------#2022-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/dce0d0adf642d15bab8f0ec716a00c1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*m-E6gstaC0wzcCxw"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Source: Wikimedia Commons</figcaption></figure><p id="915c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">早在2014年，与AngularJS等现有解决方案相比，Vue.js作为一种更轻、更快、更简单的水疗中心开发方法进入了NPM生态系统。</p><p id="ce8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从那时起，它已经证明了它有能力为现代企业开发强大的应用程序。像阿里巴巴、任天堂和Gitlab这样的公司已经将它用于他们的一些服务。</p><p id="7a8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于新的网络项目来说，这也是一个受欢迎的选择。我最近的三个软件开发职位——其中两个是在初创公司——都大量使用了Vue.js。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kw"><img src="../Images/f197d998eb26402952b7d1d7a1027d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*URdnI8aZsLJUk6cG.jpeg"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Source: <a class="ae lf" href="https://www.freecodecamp.org/news/angular-react-vue/" rel="noopener ugc nofollow" target="_blank">Mohammad Kermani</a></figcaption></figure><p id="a783" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不幸的是，我的经历并不完全乐观。</p><p id="d10c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不久前我写了一篇文章，讨论了我对React和Vue的看法。剧透:我更喜欢React。虽然我知道我当时的观点，但我的观点在那篇文章中并没有被考虑，这和我对反应的偏好没有任何关系。</p><p id="d366" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">事实上，我在生产应用中使用Vue的令人失望的经历并不是因为框架本身的缺点，而是因为使用(和滥用)它的开发人员。</p><p id="5da9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是在我开始之前，先介绍一下spa和基于组件的web开发。</p><h1 id="deac" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">现在已经不是2000年了</h1><p id="44b0" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">二十年前，web开发要简单得多。服务器将接收带有一些参数的请求，并返回一个基于某个模板的HTML页面，其中填充了动态内容。</p><p id="00c9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这有两个明显的问题:任何新内容都需要重新加载页面，更重要的是，几乎不可能写出简洁明了的HTML。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi mj"><img src="../Images/572ee840d39b695cb1be075712d53136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5qSBB4qyv1S3i-Xb.png"/></div></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">What HTML development used to look like (source: <a class="ae lf" href="https://programminghistorian.org/en/lessons/viewing-html-files" rel="noopener ugc nofollow" target="_blank">Programming Historian</a>)</figcaption></figure><p id="f995" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">单页应用程序解决了定义中的第一个问题。他们也很容易解决第二个问题，因为开发人员意识到，如果页面完全是Javascript，他们也可以使用Javascript来动态生成可以组合成更大页面的组件。</p><p id="3d25" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">组件让网站变得更好的原因和模块让软件变得更好的原因一样。它们可重复使用，更容易概念化和推理，添加、删除或替换也毫不费力。</p><p id="8f42" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是模块化有一个重要的指导原则，尽管基本上是不言自明的，但即使是有经验的程序员也经常忽略或忘记它。更小、更通用的组件比更大的组件更具可重用性，并提供更多的功能。</p><p id="8e8e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我使用Vue的职业经历中，这是我经常看到违反的原则。但是为什么与其他SPA框架相比，Vue经常被违反呢？</p><h1 id="0629" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">这不是Vue的错…或者是吗？</h1><p id="b196" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">在Vue中编写小且高度可重用的组件并不困难。也有可能编写大而笨拙的React组件。把使用Vue的开发者的错误归咎于Vue，这公平吗？</p><p id="7ab1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它不是。实际上，与其说这是对Vue的谴责，不如说这是一个假设，解释了为什么这个库比React(和其他一些框架)更容易编写大型的防干燥组件。</p><p id="8e11" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与此相关，一个类似的论点经常被用来批评Javascript。我一直坚持认为，一种容易被滥用的语言不一定会变坏——只是一种需要额外努力才能正确使用的语言。当涉及到Vue时，应用同样的原则是公平的。</p><p id="6a67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是为什么在Vue中更容易写出不好的组件呢？我很快想到了几个主要原因。</p><h2 id="79de" class="mk lh iq bd li ml mm dn lm mn mo dp lq kj mp mq lu kn mr ms ly kr mt mu mc mv bi translated">模板语法</h2><p id="aec6" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">Vue的模板系统简单易用。很容易切换组件的存在，或者从一个列表中生成一堆组件，或者使用任何其他常见的模板模式，只需简单的指令，如<code class="fe mw mx my mz b">v-if</code>和<code class="fe mw mx my mz b">v-for</code>。</p><p id="7600" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在React中，这并不容易，也不美观——这些模式需要Javascript逻辑，比如三元运算符(<code class="fe mw mx my mz b">?</code>和<code class="fe mw mx my mz b">.map</code>)。</p><p id="ce51" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这一切意味着什么？在React中，不断向组件添加东西比在Vue中要难得多。</p><p id="a152" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这使得开发对于初学者来说更加容易，对于快速原型开发来说更好。但是对于更大的应用程序，这意味着开发人员更有可能使用<code class="fe mw mx my mz b">v-something</code>黑客来使他们的代码正常工作，而不是重构他们的组件来使他们的代码更干燥，使组件更小。</p><h2 id="2e84" class="mk lh iq bd li ml mm dn lm mn mo dp lq kj mp mq lu kn mr ms ly kr mt mu mc mv bi translated">组件定义</h2><p id="469f" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">Vue组件使用一种特殊的文件格式——<code class="fe mw mx my mz b">.vue</code>——这也促使开发人员编写越来越大的组件，并避免重构。</p><p id="5400" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">大多数现代的React应用程序使用功能组件，这些组件必须计算它们所有的内部逻辑，并在单个函数范围内返回一个React节点。当向React功能组件添加行为或内容时，这会导致回报迅速减少(并增加技术债务)。</p><p id="7bde" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Vue恰恰相反。(Vue支持功能组件，但实际上很少用到。)逻辑基本上与模板分离，继续添加越来越多的方法和计算函数非常容易。</p><p id="07da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，对于初学者和快速原型制作来说，这没有问题，甚至是一件好事。但是当在一个更大的代码库上工作时，试图最大化他们冲刺速度的开发人员会说“去他妈的”，只是在现有的组件上添加一堆方法，而不是将常见的行为重构到更小的组件中。</p><p id="7773" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这一切的最终结果？Vue组件长达数千行，每一行都有几十个方法和计算函数，还有一个带有足够多XML缩进的模板，让您眼花缭乱。几乎不可能理解组件的所有功能和工作原理。但是它太大了(对整个应用程序来说太关键了)，以至于不值得花时间去重构这个千行组件。</p><p id="51ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据我的经验，这种不愿将代码重构为更小、更可重用的模块是技术债务的最大原因。</p><p id="f7ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然这个问题肯定不是Vue独有的，但Vue的设计也没有帮助你避免这种技术债务。</p><p id="99d4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些都不是不使用Vue的好理由，尤其是如果你的团队由经验丰富的软件工程师组成，他们了解过大模块的危险以及经常和尽早重构的重要性。</p><p id="617a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但是，如果你管理的开发人员有偷工减料的倾向，或者缺乏避免沉重的技术债务的远见，这当然是重新考虑你为下一个SPA选择哪个库的理由。</p><p id="d819" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="na">更多内容请看</em><a class="ae lf" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="na">plain English . io</em></strong></a><em class="na">。报名参加我们的</em> <a class="ae lf" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="na">免费周报</em> </strong> </a> <em class="na">。关注我们关于</em><a class="ae lf" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="na">Twitter</em></strong></a><em class="na">和</em><a class="ae lf" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="na">LinkedIn</em></strong></a><em class="na">。加入我们的</em> <a class="ae lf" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="na">社区不和谐</em> </strong> </a> <em class="na">。</em></p></div></div>    
</body>
</html>