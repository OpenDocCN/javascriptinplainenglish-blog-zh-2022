<html>
<head>
<title>How the TypeScript Record Type Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript记录类型如何工作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-the-typescript-record-type-works-4f659c1af9ad?source=collection_archive---------9-----------------------#2022-04-07">https://javascript.plainenglish.io/how-the-typescript-record-type-works-4f659c1af9ad?source=collection_archive---------9-----------------------#2022-04-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/924d6a8be8b7cf22dd7193efca6af3ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dSClcu8kC8NLlgImtV05gQ.png"/></div></div></figure><p id="a4a5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当尝试实现更复杂的数据类型时，TypeScript记录是确保一致性的一个好方法。它们强制键值，并允许您为这些值创建自定义接口。</p><p id="e127" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这听起来令人困惑，但让我们看看它在实践中是如何工作的。</p><h1 id="2a9e" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">实用程序类型</h1><p id="0416" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">记录是一种实用工具类型，这意味着它是一种由TypeScript专门定义的类型，用于帮助解决某个问题。</p><h1 id="58da" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">Typescript记录类型如何工作</h1><p id="8254" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">假设您有这样一个数据集:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="2a4e" class="mf ku in mb b gy mg mh l mi mj">const myData = {<br/>    "123-123-123" : { firstName: "John", lastName: "Doe" },<br/>    "124-124-124" : { firstName: "Sarah", lastName: "Doe" },<br/>    "125-125-125" : { firstName: "Jane", lastName: "Smith" }<br/>}</span></pre><p id="2ad2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的数据集有一个ID作为它的键，类型为string。所有的值都有相同的格式，也就是说，它们有名字和姓氏。</p><p id="93cb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于这种数据结构，记录是最好的实用类型。我们可以如下定义我们的数据结构类型:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="967e" class="mf ku in mb b gy mg mh l mi mj">type User = {<br/>    firstName: string,<br/>    lastName: string<br/>}</span><span id="fbd6" class="mf ku in mb b gy mk mh l mi mj">const myData:Record&lt;string, User&gt; = {<br/>    "123-123-123" : { firstName: "John", lastName: "Doe" },<br/>    "124-124-124" : { firstName: "Sarah", lastName: "Doe" },<br/>    "125-125-125" : { firstName: "Jane", lastName: "Smith" }<br/>}</span></pre><p id="df95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">记录的形式是<code class="fe ml mm mn mb b">Record&lt;K, T&gt;</code>，其中<code class="fe ml mm mn mb b">K</code>是键的类型，<code class="fe ml mm mn mb b">T</code>是值的类型。</p><p id="f656" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面，我们为我们的值定义了一个新的类型User，并将我们的键设置为string类型。</p><h1 id="d727" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">记录类型和联合类型</h1><p id="674e" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">有时，我们可以有一个对象，它有一组预定义的可能的键。从API调用时尤其如此。例如:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f2e2" class="mf ku in mb b gy mg mh l mi mj">const myData = {<br/>    "uk" : { firstName: "John", lastName: "Doe" },<br/>    "france" : { firstName: "Sarah", lastName: "Doe" },<br/>    "india" : { firstName: "Jane", lastName: "Smith" }<br/>}</span></pre><p id="86d5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们假设，对于上面的数据集，键只能是三个值:英国、法国或印度。在这种情况下，我们可以为用户定义一个类型，为键定义一个联合类型:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="fc2b" class="mf ku in mb b gy mg mh l mi mj">type User = {<br/>    firstName: string,<br/>    lastName: string<br/>}<br/>type Country = "uk" | "france" | "india";</span><span id="debd" class="mf ku in mb b gy mk mh l mi mj">const myData:Record&lt;Country, User&gt; = {<br/>    "uk" : { firstName: "John", lastName: "Doe" },<br/>    "france" : { firstName: "Sarah", lastName: "Doe" },<br/>    "india" : { firstName: "Jane", lastName: "Smith" }<br/>}</span></pre><p id="603f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用这种方法，我们可以对键的允许值以及值应该符合的类型实施严格的规则。</p><p id="127d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mo">更多内容尽在</em> <a class="ae mp" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mo">说白了. io </em> </strong> </a> <em class="mo">。报名参加我们的</em> <a class="ae mp" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mo">免费周报</em> </strong> </a> <em class="mo">。关注我们关于</em> <a class="ae mp" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mo">推特</em> </strong> </a> <em class="mo">和</em><a class="ae mp" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mo">LinkedIn</em></strong></a><em class="mo">。加入我们的</em> <a class="ae mp" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mo">社区</em> </strong> </a> <em class="mo">。</em></p></div></div>    
</body>
</html>