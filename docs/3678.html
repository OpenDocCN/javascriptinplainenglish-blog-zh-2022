<html>
<head>
<title>Declarative Forms in React with React-Formz</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React with React-Formz中的声明形式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/declarative-forms-in-react-with-react-formz-7eef9c353ad1?source=collection_archive---------6-----------------------#2022-09-16">https://javascript.plainenglish.io/declarative-forms-in-react-with-react-formz-7eef9c353ad1?source=collection_archive---------6-----------------------#2022-09-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7ac3" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">React-Formz简介:一个React库，它使得构建复杂表单具有声明性和执行性。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/7c551f2cbeaa09bffc60f9bdde71e21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I6rdoY_FZCCHnxIQ_42Hkw.jpeg"/></div></div></figure><blockquote class="ko kp kq"><p id="1270" class="kr ks kt ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">程序必须写给人们阅读，并且只是附带地给机器执行。— <strong class="ku io">哈罗德·艾贝尔森，计算机程序的结构和解释</strong></p></blockquote><p id="28c8" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">到目前为止，我们已经听过无数次了:React代码是声明性的。阅读React代码有时就像阅读一本概念清晰、语言浅显的非常简单的书。其他时候，就像阅读宜家家具手册一样。这让你想拔毛，因为你刚刚重读了同样的10行5遍，而你现在实际上比10分钟前理解得更少。</p><p id="13f1" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">我们经常忘记React代码应该是声明性的。有时是因为我们在早期选择了一个我们认为很棒的库，然后随着我们产品的增长或变得更复杂，我们的代码也跟着变得更复杂。其他时候，这是因为我们很匆忙，只需要满足最后期限，我们告诉自己，我们最终会重构它，使代码更清晰，但是，我们曾经这样做过吗？</p><p id="807b" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">正因为如此，我相信第三方库的部分工作是让开发者更容易地编写声明性代码。如果React库的API是以这样一种方式编写的，即开箱即用的组件/方法是声明性的，那么它将使开发人员更容易遵循声明性代码的原则，即使他们不一定有时间明确地这样做。</p><p id="f880" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">这就是为什么我决定构建React-Formz，使构建复杂表单具有声明性和执行性。</p></div><div class="ab cl lr ls hr lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ig ih ii ij ik"><h1 id="75fb" class="ly lz in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">动机</h1><p id="b6d7" class="pw-post-body-paragraph kr ks in ku b kv mq jo kx ky mr jr la lo ms ld le lp mt lh li lq mu ll lm ln ig bi translated">在我8年的软件开发生涯中，我主要专注于React，在不同的行业中构建了许多表单，并且使用了市场上所有主要的表单库。我构建的大多数表单都很复杂，其中字段可能依赖于另一个字段，或者表单可能在一系列页面上收集数据，例如向导或表格界面。</p><p id="13d8" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">每种形式的库，我总是遇到同样的两个问题:</p><ol class=""><li id="d9a9" class="mv mw in ku b kv kw ky kz lo mx lp my lq mz ln na nb nc nd bi translated">随着表单复杂性的增加，性能开始下降，特别是对于使用较慢计算机的用户</li><li id="d016" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">随着表单复杂性的增加，代码的复杂性也在增加，随之而来的是可读性的降低。</li></ol><p id="9abb" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">因此，我决定自己动手构建一个我喜欢使用的表单库，它可以:</p><ol class=""><li id="73bd" class="mv mw in ku b kv kw ky kz lo mx lp my lq mz ln na nb nc nd bi translated">使得构建易于理解的形式成为可能。</li><li id="714d" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">无需特殊语法即可轻松与第三方库集成。</li><li id="9452" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">即使输入增加，也能保持一致的性能。</li><li id="5bb3" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">字段相互依赖的内置功能，即字段a依赖于字段b。</li></ol><p id="5eee" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">我相信，React Formz实现了我的所有目标，我很高兴与大家分享它！</p><h1 id="1549" class="ly lz in bd ma mb nj md me mf nk mh mi jt nl ju mk jw nm jx mm jz nn ka mo mp bi translated">基础知识</h1><p id="f6fb" class="pw-post-body-paragraph kr ks in ku b kv mq jo kx ky mr jr la lo ms ld le lp mt lh li lq mu ll lm ln ig bi translated">首先，您可以通过npm或yarn安装React Formz:</p><pre class="kd ke kf kg gt no np nq nr aw ns bi"><span id="fa3d" class="nt lz in np b gy nu nv l nw nx">npm install @zerry/react-formz immer</span><span id="2c38" class="nt lz in np b gy ny nv l nw nx">yarn add @zerry/react-formz immer</span></pre><p id="4246" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">正如我提到的，React Formz基本上基于两个原则:</p><ul class=""><li id="853f" class="mv mw in ku b kv kw ky kz lo mx lp my lq mz ln nz nb nc nd bi translated">声明式编程</li><li id="7b62" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln nz nb nc nd bi translated">可扩展的性能</li></ul><p id="d83d" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">React Formz中有两个基本组件:</p><ul class=""><li id="dbd3" class="mv mw in ku b kv kw ky kz lo mx lp my lq mz ln nz nb nc nd bi translated">形式</li><li id="c1fd" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln nz nb nc nd bi translated">田</li></ul><p id="7987" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">所有其他概念都建立在这两个基本组件之上。让我们看一些示例代码。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="7de0" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">正如您所看到的，上面的代码非常容易理解，但在它的背后，您可以获得以下特性:</p><ol class=""><li id="143b" class="mv mw in ku b kv kw ky kz lo mx lp my lq mz ln na nb nc nd bi translated">无论渲染多少输入，性能几乎保持不变。React Formz确保字段只在它们的值改变或者它们的一个依赖项的值改变时才重新呈现。</li><li id="93f9" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">通用验证的内置字段验证和实现自定义验证的能力。</li><li id="30c4" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">对于任何开发人员来说，只要看一下代码，就很容易理解声明性字段。</li><li id="8e76" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">依赖字段根据另一个字段的值更改其值。</li><li id="e10e" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">没有提供者、控制器或快速字段。无论字段在组件树中有多深，每个字段都已经被优化来响应和管理它自己的值。</li><li id="9565" class="mv mw in ku b kv ne ky nf lo ng lp nh lq ni ln na nb nc nd bi translated">类型安全字段，以确保使用正确类型的值。</li></ol><h1 id="5aaa" class="ly lz in bd ma mb nj md me mf nk mh mi jt nl ju mk jw nm jx mm jz nn ka mo mp bi translated">确认</h1><p id="f8fd" class="pw-post-body-paragraph kr ks in ku b kv mq jo kx ky mr jr la lo ms ld le lp mt lh li lq mu ll lm ln ig bi translated">React Formz还支持如上所述的字段验证和通过模式的表单验证。到目前为止，模式验证已经被Yup和Zod所支持，但是还会有更多的模式验证被添加进来。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="8181" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">正如您所看到的，用几行代码就可以获得上一节提到的所有特性，以及根据预定义的模式使整个表单无效的能力。</p><h1 id="8e10" class="ly lz in bd ma mb nj md me mf nk mh mi jt nl ju mk jw nm jx mm jz nn ka mo mp bi translated">钩住</h1><p id="8b22" class="pw-post-body-paragraph kr ks in ku b kv mq jo kx ky mr jr la lo ms ld le lp mt lh li lq mu ll lm ln ig bi translated">我想要一个不强迫开发人员使用钩子或组件的库，我想允许开发人员使用满足他们需求的最佳方法。React Formz也有一个hooks API，可以用于字段:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h1 id="073b" class="ly lz in bd ma mb nj md me mf nk mh mi jt nl ju mk jw nm jx mm jz nn ka mo mp bi translated">摘要</h1><p id="b593" class="pw-post-body-paragraph kr ks in ku b kv mq jo kx ky mr jr la lo ms ld le lp mt lh li lq mu ll lm ln ig bi translated">希望你喜欢这本书，并且很乐意尝试一下这个图书馆。我的目标是让React Formz在不牺牲性能的情况下让表单构建感觉自然。</p><p id="1df7" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">市场上有很多很棒的表单库，它们启发了我使用React Formz的工作，特别是Formik和React Hook表单。所以，我想对那些库的开发者们说声谢谢，谢谢你们的启发！</p><p id="cb43" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">你可以在官网了解更多关于React Formz的信息:<a class="ae oc" href="https://react-formz.zerry.dev/" rel="noopener ugc nofollow" target="_blank">https://react-formz.zerry.dev/</a></p><p id="d70c" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated">如果你对这个库感兴趣，请告诉我，如果你讨厌它，也请告诉我！</p></div><div class="ab cl lr ls hr lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ig ih ii ij ik"><p id="dee8" class="pw-post-body-paragraph kr ks in ku b kv kw jo kx ky kz jr la lo lc ld le lp lg lh li lq lk ll lm ln ig bi translated"><em class="kt">更多内容请看</em><a class="ae oc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="kt">plain English . io</em></strong></a><em class="kt">。报名参加我们的</em> <a class="ae oc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="kt">免费周报</em> </strong> </a> <em class="kt">。关注我们关于</em><a class="ae oc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="kt">Twitter</em></strong></a><a class="ae oc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="kt">LinkedIn</em></strong></a><em class="kt"/><a class="ae oc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="kt">YouTube</em></strong></a><em class="kt"/><a class="ae oc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="kt">不和</em> </strong> </a> <em class="kt">。对增长黑客感兴趣？检查</em> <a class="ae oc" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="kt">电路</em> </strong> </a> <em class="kt">。</em></p></div></div>    
</body>
</html>