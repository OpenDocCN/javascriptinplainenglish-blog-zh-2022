<html>
<head>
<title>How to Update Data in Firebase Real-Time Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何更新Firebase实时数据库中的数据</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/updating-data-in-firebase-real-time-database-bd37ffdb6ca1?source=collection_archive---------24-----------------------#2022-01-21">https://javascript.plainenglish.io/updating-data-in-firebase-real-time-database-bd37ffdb6ca1?source=collection_archive---------24-----------------------#2022-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="285d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因为我们犯了一个错误，希望你不会。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9b32f56e3a732c6e5c41f9a8eaae65d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tu9Dpog0a82gwFcF"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae lb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="595f" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">在后台</h2><p id="975a" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这个故事的议程很简单——我们面对一个问题，并找到了解决方案，所以我们想分享它。我们最近在我们的网站上发布了日志部分，为用户提供了一个只阅读我们在网站上写的每一篇文章的界面(之前我们用来重定向到介质页面)。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="ed5e" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">问题陈述</h2><p id="ca53" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在我们发布后不久，我们在更新文章时遇到了一个问题，比如添加新内容、添加更多链接等等。问题陈述的分解—</p><ul class=""><li id="941c" class="mh mi iq jp b jq jr ju jv jy mj kc mk kg ml kk mm mn mo mp bi translated">每篇文章都存储在Firebase实时数据库中。</li><li id="5c03" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">每篇文章都有一个名为data的键，用来存储文章的内容。</li><li id="c1b1" class="mh mi iq jp b jq mq ju mr jy ms kc mt kg mu kk mm mn mo mp bi translated">将来，在存储数据之后，我们只需要更新article对象的一个键，或者我们可能还需要更新数据。</li></ul><p id="af70" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个怎么解决？</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="7e5e" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">解决办法</h2><p id="c3d1" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">首先，这个问题可以有多种解决方案，我们并不是说我们的解决方案是最好的。我们仍在学习，我真的相信每一次都有成长和提高的机会。</p><p id="334e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们想到了一种方法，那就是使用firebase数据库对象提供的set方法。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="bd8e" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">什么是集合方法？</h2><p id="a94f" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">基本上，set方法更新数据库中的值，如果值不存在，它就创建一个。但是set方法移除了对象中现有的键值。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="9b6d" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">警告</h2><p id="defe" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">例如，您有一个包含两个键值对的对象，比如email和password。在firebase中，只更新密码而不更改电子邮件有点混乱。如果您使用set方法并将更新后的密码传递给数据库，那么根据它的名称和解释，它应该只更新密码密钥，而不会涉及其他内容。</p><p id="ed68" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是set方法与它完全相反，它删除了剩余的键，也就是我们例子中的email，它将只创建/更新传递的键-值对。因此，如果您只传递密码，它将从对象中删除电子邮件密钥。</p><p id="5cd4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是为什么我把这个例子放在“注意”部分的原因😁因为我们曾经犯过这个错误，我希望这篇文章能帮助你。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="ac3f" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">如何最终更新值？</h2><p id="e9ae" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">这有点简单，我们将只使用set方法，但是现在我们将把所有需要的键值对作为参数传递。因此，在我们的示例中，我们只需提供一个已经存储的电子邮件id和更新后的密码，并在set方法中传递这两个值。</p><p id="e9c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我相信如果你有更好的解决方案，请在评论中告诉我们。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h2 id="5319" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">结论</h2><p id="7079" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我希望我们已经分享了这个故事所需要的意图。请继续关注更多这样的故事，并请订阅。</p><pre class="km kn ko kp gt mv mw mx my aw mz bi"><span id="848f" class="lc ld iq mw b gy na nb l nc nd">Our website - 💻 <a class="ae lb" href="http://ihatereading.in" rel="noopener ugc nofollow" target="_blank">iHateReading</a></span></pre><p id="9727" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="ne">更多内容请看</em><a class="ae lb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ne">plain English . io</em></strong></a><em class="ne">。报名参加我们的</em> <a class="ae lb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="ne">免费周报</em> </strong> </a> <em class="ne">。在我们的</em> <a class="ae lb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="ne">社区</em> </strong> </a> <em class="ne">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>