<html>
<head>
<title>Goodbye HTML. Hello Canvas!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再见HTML。你好画布！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/goodbye-html-hello-canvas-b44ae0ba85b8?source=collection_archive---------2-----------------------#2022-03-16">https://javascript.plainenglish.io/goodbye-html-hello-canvas-b44ae0ba85b8?source=collection_archive---------2-----------------------#2022-03-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="fd47" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">第3部分:总体战略和基本架构</h2></div><p id="80a1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">可以在这里阅读本系列<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/goodbye-html-hello-canvas-d9e62e2e0cfe">的上一篇文章。</a></p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi kz"><img src="../Images/db7bfe28eb750bd3be713ff207467a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gcAqV2R1r5hnRqhvetH38A.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">BobSprite For Laptops</figcaption></figure><h2 id="5203" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">图书馆</h2><p id="c98f" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">我必须感谢所有回复批评本系列文章主题的读者，因为他们的帖子让我改进了文章。尤其是，它们让我意识到我错过了非常重要的东西:图书馆。</p><p id="a292" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果没有这个库，这个系列文章最好的结果就是“<em class="mn">”我曾经读过一个有趣的概念，关于纯粹用画布制作一些web应用程序。简单的演示看起来效果不错。但是这意味着大量的工作和</em>(对于大多数开发人员)<em class="mn">我不习惯玩画布。对我来说不值得</em>”。</p><p id="540e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">本系列的最后一篇文章<strong class="ke io">将发布</strong>一个非常友好的、高级的、直观的、轻量级的、只有一个文件的JavaScript库，它将使一切顺利运行。<strong class="ke io">开发者将不需要编写“<em class="mn"> canvas </em>”，甚至一次都不需要！</strong></p><p id="cdd8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">敬请期待；)</p><h2 id="407c" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">一些考虑</h2><p id="9042" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">有人向我指出了画布方法的一些缺点:</p><ol class=""><li id="fc78" class="mo mp in ke b kf kg ki kj kl mq kp mr kt ms kx mt mu mv mw bi translated">没有搜索引擎优化(因为文字是图像)。没错。也许我们将来会找到一个解决办法。</li><li id="4009" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">浏览器不进行语言翻译。没错。虽然谷歌、Mozilla、微软、AWS都不依赖浏览器翻译。他们为目标语言生成每个页面的版本。但是好吧，我们有小网站；自动翻译将为我们节省大量时间和金钱。此外，当前版本的Chrome(用于我的桌面)不再干扰旧应用程序的菜单按钮(我不知道其他浏览器X设备)。</li><li id="e671" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">我们必须提供字体表，这是更多的流量和客户的缓存更多的东西。没错。但并不多。我们把它们放在一个包装里。</li><li id="797f" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">屏幕阅读器没有机会。没错。但是我们使用画布作为按钮和其他控件的标签。它不应该用于(长)文本。总之，<a class="ae ky" href="https://drabstract.medium.com/your-guide-to-coding-creativity-on-the-canvas-ada0996298f6" rel="noopener"> <em class="mn"> ZIM </em> </a>通过将HTML文本放在画布后面来处理屏幕阅读器。</li><li id="af73" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">我们不能放大，这对可访问性不好。实际上，我们可以放大和缩小它，而不会破坏布局或任何功能；只是人物形象会不好看。</li><li id="78ed" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">这意味着大量的工作。这就是为什么我将发布一个库来处理所有这些东西的原因。</li><li id="73c8" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">页面不会自动调整到不同的屏幕尺寸。这只取决于我们如何编程。</li></ol></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="d252" class="nj lq in bd lr nk nl nm lu nn no np lx jt nq ju ma jw nr jx md jz ns ka mg nt bi translated">总体战略</h1><p id="a506" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">黄金法则是<strong class="ke io"> <em class="mn">只要适合你，就坚持使用HTML/CSS。</em>T19】</strong></p><p id="5e93" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">需要时使用画布方法。当您想要绝对确定每台设备上的每个浏览器都会准确显示您计划的内容时。当你的app要求更高的时候。见本回复作者<a class="ae ky" href="https://medium.com/@hcgaron?source=user_profile----------------------------------------" rel="noopener"> <strong class="ke io">汉斯·加隆</strong> </a> <strong class="ke io"> : </strong></p><p id="7384" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我用canvas完整地绘制了一个网页，主要是因为它的用户界面模仿了原生应用程序的用户界面，并且需要许多(成千上万)特定小部件的实例，这些小部件的属性在不断发展。这对于浏览器来说是不可能的。但是，放入数据结构相对容易，甚至可以传递给wasm模块进行更新，然后发送到canvas进行绘制。</p></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><p id="575f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首页要用HTML/CSS:<strong class="ke io"><em class="mn">SEO没问题，自动翻译没问题，屏幕阅读器没问题。</em>T11】</strong></p><p id="149d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于画布风格的应用程序，我们将需要至少3个不同的版本(小，平均，大屏幕)。最健壮的方法是创建不同的页面(或者选择正确JavaScript文件的页面)。我不会为所有场景创建一个JavaScript代码，太乱了！</p><p id="0d5d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有意义的是定义一些布局，这些布局将完美地匹配一些屏幕，并且相当好地匹配其他屏幕。</p><p id="2a06" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，我们创建了一个与IPhone5屏幕完美匹配的版本。如果用户的设备很旧，屏幕较小，他会使用滚动条。如果设备的屏幕比IPhone5的屏幕大一点，应用程序将居中显示，不会缩放。缩放应用程序始终是可能的(绝不会破坏布局)。只是，缩放不会自动发生。</p><figure class="la lb lc ld gt le gh gi paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="gh gi nu"><img src="../Images/6fc258e33ee35869fd83485625741492.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DCoaWafplbvqQGh1NOUxJg.png"/></div></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk">Two Faces Of BobSprite For Smartphones</figcaption></figure></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><h1 id="8d1a" class="nj lq in bd lr nk nl nm lu nn no np lx jt nq ju ma jw nr jx md jz ns ka mg nt bi translated">基本架构</h1><p id="84e3" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">不再废话连篇！</p><h2 id="cdfb" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">身体</h2><p id="e3ac" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">为了简单起见，我们将只创建一个假想应用程序的版本。而它的机身将会是<strong class="ke io"> <em class="mn"> 1300px宽</em></strong>660像素高。对于笔记本电脑来说，这是一个很好的尺寸，适用于高分辨率屏幕的台式机；但对智能手机来说却失败了。因为我们是开发人员，所以我们只有一台电脑来工作。</p><h2 id="d29a" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">元素</h2><p id="2877" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">我们的元素类似于HTML元素(标签)。身体不被认为是一个元素，它是身体，最终的容器。</p><h2 id="bd4a" class="lp lq in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">这些层</h2><p id="5d67" class="pw-post-body-paragraph kc kd in ke b kf mi jo kh ki mj jr kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">我们不能在正文中添加任何元素。我们将元素添加到层中。当一个层被创建时，它被自动附加到主体上(所有层<em class="mn">列表)。显然，我们也可以删除层并改变它们的顺序(毕竟，<em class="mn"> allLayers </em>，只是一个列表)。</em></p><p id="1398" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">层内的元素不能相互重叠。</p><pre class="la lb lc ld gt nv nw nx ny aw nz bi"><span id="71e6" class="lp lq in nw b gy oa ob l oc od">const allLayers = [ ]</span><span id="667e" class="lp lq in nw b gy oe ob l oc od">function createLayer(id) {<br/>    //<br/>    const layer = new Layer(id)<br/>    Object.seal(layer)<br/>    //<br/>    allLayers.push(layer)<br/>    return layer<br/>}</span><span id="4bb5" class="lp lq in nw b gy oe ob l oc od">function Layer(id) {<br/>    this.id = id<br/>    this.visible = true<br/>    this.left = 0<br/>    this.top = 0<br/>    this.width = 300<br/>    this.height = 200<br/>    this.opacity = 1<br/>    this.background = null // "white"<br/>    // more attributes here<br/>    this.elements = [ ]<br/>}</span></pre><p id="686e" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">引擎按照图层在列表中的顺序打印图层<em class="mn">所有图层</em>。但是以相反的顺序应用鼠标事件。</p><p id="dbeb" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在CSS中，相当于我们的图层概念的是<strong class="ke io"> <em class="mn"> z-index </em> </strong>属性。</p><p id="6aa1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我不喜欢CSS <em class="mn"> z-index </em>属性，原因有三:</p><ol class=""><li id="fc87" class="mo mp in ke b kf kg ki kj kl mq kp mr kt ms kx mt mu mv mw bi translated">与CSS中的所有东西一样，定义可能分散在各处。我看不到“大局”。所以，我不放心一切都好。</li><li id="6d8c" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated">当我想插入一个新的层时，我可能不得不重新索引许多其他元素。不仅仅是工作；这是引入bug的风险。</li><li id="575e" class="mo mp in ke b kf mx ki my kl mz kp na kt nb kx mt mu mv mw bi translated"><em class="mn"> z-index </em> <strong class="ke io">只对定位元素(位置:绝对、位置:相对、位置:固定或位置:粘滞)和伸缩项(显示的直接子元素:伸缩元素)起作用</strong>。</li></ol><p id="f7b3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">是啊！CSS对我来说太复杂了。</p></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><p id="713a" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下一篇文章的<a class="ae ky" href="https://joanaborgeslate.medium.com/goodbye-html-hello-canvas-f3935aec3a05" rel="noopener">中，我们将有一个关于身体/层/元素的演示，我们将处理鼠标事件！</a></p><p id="4512" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mn">更多内容看</em> <a class="ae ky" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="mn">说白了。报名参加我们的</em> <a class="ae ky" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="mn">免费周报</em> </strong> </a> <em class="mn">。关注我们关于</em><a class="ae ky" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="mn">Twitter</em></strong></a><em class="mn">和</em><a class="ae ky" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="mn">LinkedIn</em></strong></a><em class="mn">。加入我们的</em> <a class="ae ky" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="mn">社区</em> </strong> </a> <em class="mn">。</em></strong></a></p></div></div>    
</body>
</html>