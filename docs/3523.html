<html>
<head>
<title>What Are Function Overloads in TypeScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是TypeScript中的函数重载？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-are-function-overloads-in-typescript-abcc06af42cb?source=collection_archive---------3-----------------------#2022-09-05">https://javascript.plainenglish.io/what-are-function-overloads-in-typescript-abcc06af42cb?source=collection_archive---------3-----------------------#2022-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c5cd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">对TypeScript中函数重载的简单解释有助于您理解重载签名和实现签名。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/288045d6e71bcd88f6bcc8b06321fac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VuPJdPRETH_X8DGe"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@billy_huy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Billy Huynh</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a0ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">欢迎来到<strong class="ky ir">掌握打字稿</strong>系列。本系列将以动画的形式介绍打字稿<strong class="ky ir">的核心知识和技巧。让我们一起学习吧！以前的文章如下:</strong></p><ul class=""><li id="ee50" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/frontend-canteen/what-are-k-t-and-v-in-typescript-generics-9fabe1d0f0f3" rel="noopener"><strong class="ky ir">TypeScript泛型中的K、T、V是什么？</strong>T9】</a></li><li id="257c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/using-typescript-mapped-types-like-a-pro-be10aef5511a"> <strong class="ky ir">使用TypeScript像Pro一样映射类型</strong> </a></li><li id="3b5a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/use-typescript-conditional-types-like-a-pro-7baea0ad05c5"> <strong class="ky ir">使用TypeScript条件类型像亲</strong> </a></li><li id="5fd2" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/using-typescript-intersection-types-like-a-pro-a55da6a6a5f7"> <strong class="ky ir">使用TypeScript交集类型像亲</strong> </a></li><li id="5d29" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://levelup.gitconnected.com/using-typescript-infer-like-a-pro-f30ab8ab41c7" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">使用打字稿推断像亲</strong> </a></li><li id="d056" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/javascript-in-plain-english/how-to-use-typescript-template-literal-types-like-a-pro-2e02a7db0bac" rel="noopener"> <strong class="ky ir">使用TypeScript模板字面类型像亲</strong> </a></li><li id="f23a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/15-utility-types-that-every-typescript-developer-should-know-6cf121d4047c"> <strong class="ky ir">可视化打字稿:15种最常用的实用类型</strong> </a></li><li id="847f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://levelup.gitconnected.com/10-things-you-need-to-know-about-typescript-classes-f58c57869266" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">关于类型脚本类你需要知道的10件事</strong> </a></li><li id="54ed" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/purpose-of-declare-keyword-in-typescript-8431d9db2b10"><strong class="ky ir"/></a>中‘declare’关键字的用途</li><li id="d2cc" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/no-more-confusion-about-typescripts-any-and-unknown-98c4b53f8924"> <strong class="ky ir">不再混淆打字稿的‘任何’和‘未知’</strong></a></li></ul><p id="1451" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你知道为什么下图定义了这么多<code class="fe mg mh mi mj b">ref</code>函数，它们是做什么的吗？如果你还不清楚，看完这篇文章的内容，也许你就明白了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/dab0ba906ecc2de4c94cc0e5e54a82b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4wSHKHSn650l3KkNYa064w.jpeg"/></div></div></figure><p id="3b50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个简单的<code class="fe mg mh mi mj b">logError</code>函数，接受一个字符串类型参数，用于输出错误信息。</p><pre class="kg kh ki kj gt ml mj mm mn aw mo bi"><span id="c061" class="mp mq iq mj b gy mr ms l mt mu">function logError(msg: string) {<br/>  console.error(`Error occurred: ${msg}`);<br/>}</span><span id="a647" class="mp mq iq mj b gy mv ms l mt mu">logError("Missing required field.");</span></pre><p id="e6eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在问题来了，如果我们想让<code class="fe mg mh mi mj b">logError</code>函数以数组的形式支持多个错误消息呢？给你几秒钟时间考虑，你想出答案了吗？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/20431c70e7044b17dad5b538eeb69cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V3HvjxvtZCef6ddm"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@aronvisuals?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aron Visuals</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4e3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">解决方案之一是使用<strong class="ky ir">联合类型</strong>:</p><pre class="kg kh ki kj gt ml mj mm mn aw mo bi"><span id="5dab" class="mp mq iq mj b gy mr ms l mt mu">function logError(msg: string | string[]) {<br/>  if (typeof msg === "string") {<br/>    console.error(`Error occurred: ${msg}`);<br/>  } else if (Array.isArray(msg)) {<br/>    console.error(`Errors occurred: ${msg.join("\n")}`);<br/>  }<br/>}</span><span id="e740" class="mp mq iq mj b gy mv ms l mt mu">logError("Missing required field.");<br/>logError(["Missing required field.", "The length cannot be less than 6."]);</span></pre><p id="088b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个解决方案是使用函数重载，使用函数重载技术，我们需要定义<strong class="ky ir">重载签名</strong>和<strong class="ky ir">实现签名</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/3e2923f0c7c5aa93d467b63f08beceb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GTTqge7xIPolaPm5OelbQ.jpeg"/></div></div></figure><p id="2a96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重载签名定义函数中每个参数的类型和函数的返回值类型，但不包含函数体。<strong class="ky ir">一个函数可以有多个重载签名。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/6e9ff1f65ca4ffb769ca563654249766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5baBaakXHfqqARsv7piZfw.jpeg"/></div></div></figure><p id="f70c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实现签名的参数类型和返回值类型需要使用更通用的类型，还包含实现签名的函数体。<strong class="ky ir">一个函数只能有一个实现签名</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/3d385d73eabb3e58977e9dc9e61e2635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yktBkAYah1pUs_Yan2k9TA.jpeg"/></div></div></figure><p id="66c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在组合重载签名和实现签名之后，我们实现了上面提到的功能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/07c59a1fcfaf2711aa4c0ae5624e7c80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zHXHv1Cn7uPpyWeO2tR6pA.jpeg"/></div></div></figure><p id="9b3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意，只有重载签名是可调用的</strong>。当TypeScript编译器处理函数重载时，它会查找重载列表并尝试使用第一个重载定义。如果匹配，则立即返回。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/47889762851592d3dbbf5e0f3e51f179.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*H7Rpgckm4IM3u4YE-BVztg.gif"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/7c8e32f6e26d844c71062c3c8b49ea55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T0uZVbLST7y65HTeuagsyg.jpeg"/></div></div></figure><p id="36ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当使用与实现签名对应的类型的参数调用实现签名函数时，会发生错误。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/a9da0c50452dbb95726ad0b95be93f76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0OkaaRcLKwc5B62CfcsyvQ.jpeg"/></div></div></figure><p id="7cc9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了重载函数，我们还可以重载类中的方法。方法重载(Method overloading)是一种调用同一个类中同名不同参数(参数类型不同，参数个数不同，或者参数个数相同时参数顺序不同)的方法，选择与之匹配的方法按照实参数的形式执行操作的技术。</p><p id="74c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看一个方法重载的例子:</p><pre class="kg kh ki kj gt ml mj mm mn aw mo bi"><span id="2f43" class="mp mq iq mj b gy mr ms l mt mu">class Calculator {<br/>  add(a: number, b: number): number;<br/>  add(a: string, b: string): string;<br/>  add(a: string, b: number): string;<br/>  add(a: number, b: string): string;<br/>  add(a: string | number, b: string | number) {<br/>  if (typeof a === 'string' || typeof b === 'string') {<br/>    return a.toString() + b.toString();<br/>  }<br/>    return a + b;<br/>  }<br/>}</span><span id="2c9d" class="mp mq iq mj b gy mv ms l mt mu">const calculator = new Calculator();<br/>const result = calculator.add('Bytefer', ' Kakuqo');</span></pre><p id="a5e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看完这篇文章，你应该知道在Vue3反应性模块的ref函数后面使用了函数重载技术。</p><p id="541a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想学习打字稿，那么就不要错过<strong class="ky ir">掌握打字稿</strong>系列。</p><div class="my mz gp gr na"><div role="button" tabindex="0" class="ab bv gv cb fp nb nc bn nd kp ex"><div class="ne l"><div class="ab q"><div class="l di"><img alt="Bytefer" class="l de bw nf ng fe" src="../Images/238cf2afd3c689b50719951ba2fd880d.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*krjVh9VFhDEcMUif4Ewt-A.png"/><div class="fb bw l nf ng fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@bytefer?source=post_page-----abcc06af42cb--------------------------------" rel="noopener follow" target="_top">字节优先</a></p></div></div><div class="nj nk gw l"><h2 class="bd ir tf ls fp tg fr fs th fu fw ip bi translated">掌握打字稿系列</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi ti au tj tk tl pl tm an eh ei tn to tp el em eo de bk ep" href="https://medium.com/@bytefer/list/mastering-typescript-series-688ee7c12807?source=post_page-----abcc06af42cb--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="tq l fo"><span class="bd b dl z dk">47 stories</span></div></div></div><div class="nw dh nx fp ab ny fo di"><div class="di no bv np nq"><div class="dh l"><img alt="" class="dh" src="../Images/8fba4cad7ae795f6abed5234e33e0356.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*l87u8lL_MzD5n4z_"/></div></div><div class="di no bv nr ns nt"><div class="dh l"><img alt="" class="dh" src="../Images/373c978fed504a3c38f0fdb5b617fedb.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*94uN4q2Of_fg3WaQ"/></div></div><div class="di bv nu nv nt"><div class="dh l"><img alt="" class="dh" src="../Images/a8ea3e3ecad1c2d2697107f3ce466e42.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*tGza_iE2o--HjQwD"/></div></div></div></div></div><p id="cf7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://medium.com/@bytefer" rel="noopener"> Medium </a>或<a class="ae kv" href="https://twitter.com/Tbytefer" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，阅读更多关于TS和JS的内容！</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="f52d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oj">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oj">plain English . io</em></strong></a><em class="oj">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oj">免费周报</em> </strong> </a> <em class="oj">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oj">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oj">LinkedIn</em></strong></a><em class="oj"/><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oj">YouTube</em></strong></a><em class="oj"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oj">不和</em> </strong> </a> <em class="oj">。</em></p></div></div>    
</body>
</html>