<html>
<head>
<title>Node.js Coding Standard Tools with MegaLinter on Gitlab CI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Gitlab CI上带有MegaLinter的Node.js编码标准工具</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/node-js-coding-standard-tools-with-megalinter-on-gitlab-ci-a43b55915811?source=collection_archive---------10-----------------------#2022-09-05">https://javascript.plainenglish.io/node-js-coding-standard-tools-with-megalinter-on-gitlab-ci-a43b55915811?source=collection_archive---------10-----------------------#2022-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fe1be4cafc4b4d0ef986ee5e0703a980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4Kxz9PUVS9xz5oL8"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@disruptxn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Desola Lanre-Ologun</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2f0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的应用程序的整个生命周期和不断变化中，保持它的可读性、稳定性、高性能和可维护性是一个持续的斗争，同时每天都在发展以提供更多的选项和功能。</p><p id="292b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最重要的是，开发应用程序的团队也在发展。团队成员将上下文从应用程序的一部分切换到另一部分，他们离开团队，新的团队成员加入。</p><p id="b277" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了解决这些挑战，我们利用编码标准工具来帮助我们遵守我们为应用程序定义的标准和规则。</p><p id="cb89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Node.js应用程序的一些最重要的工具是<a class="ae kc" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> EsLint </a>、<a class="ae kc" href="https://cspell.org/" rel="noopener ugc nofollow" target="_blank"> CSpell </a>、<a class="ae kc" href="https://hadolint.github.io/hadolint/" rel="noopener ugc nofollow" target="_blank"> Dockerfilelint </a>、<a class="ae kc" href="https://github.com/kucherenko/jscpd" rel="noopener ugc nofollow" target="_blank"> JSCpd </a>和<a class="ae kc" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank">pretty</a>。所有这些工具也可以与MegaLinter结合在一起，这样我们就可以一次性自动检查所有这些规则。</p><p id="6d8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有这些工具也可以在我们的IDE中通过使用不同的插件/扩展来配置。下面是它们各自对我喜欢的Node.js IDE的扩展:<a class="ae kc" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> EsLint </a>，<a class="ae kc" href="https://marketplace.visualstudio.com/items?itemName=RemiMarche.cspell-tech" rel="noopener ugc nofollow" target="_blank"> CSpell </a>，<a class="ae kc" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" rel="noopener ugc nofollow" target="_blank">beautiful</a>，<a class="ae kc" href="https://marketplace.visualstudio.com/items?itemName=exiasr.hadolint" rel="noopener ugc nofollow" target="_blank">Hadolint</a>——作为docker文件linter。</p><p id="b6c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不幸的是，JSCpd 在市场上不再可用，但是如果你想用它来创建扩展，可以在GitHub上找到源代码。我个人是不用这个的。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="fe0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">事不宜迟，让我们分别深入每个工具，看看一个配置示例，以及它能为我们做些什么来帮助改进代码库。</p><h1 id="e288" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">埃斯林特</h1><p id="8a35" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">众所周知，这个工具通过在违反规则时发出警告或错误来帮助我们确保我们的代码遵循ECMAScript和JavaScript代码模式。我经常使用的这个工具的配置如下。正如您从配置中看到的，它用于验证TypeScript代码。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="c193" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">切斯佩尔</h1><p id="38af" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这个工具用于检查我们的代码拼写是否正确。它支持各种编程语言，其中包括TypeScript和JavaScript。我对这个工具的配置如下所示。如你所见，我们可以忽略某些路径或单词，这些路径或单词是以某种方式书写的，并且不是语法正确的英语单词。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="65bc" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">Dockerfilelint</h1><p id="1798" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">该工具将Dockerfile文件解析成AST(抽象语法树),并在其上执行规则。它依靠<a class="ae kc" href="https://github.com/koalaman/shellcheck" rel="noopener ugc nofollow" target="_blank"> ShellCheck </a>将Bash代码嵌入到<code class="fe mr ms mt mu b">RUN</code>指令中。下面是我用来检查Dockerfile语法的配置。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="be30" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">JSCpd</h1><p id="52d3" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">作为开发人员，我们都知道大多数时候使用复制粘贴和过度使用它的斗争。这个工具确保我们尽可能避免使用复制粘贴。它支持超过150种不同的编程语言。这是我用于这个工具的配置。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="c542" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">较美丽</h1><p id="1ee2" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">正如我们许多人所知，这个工具是一个代码格式化程序。与其他工具一样，这个工具也支持多种编程语言，但是对于我正在使用的TypeScript和JavaScript，我的配置非常简单，它只检查三个规则。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="5e68" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">米加林特</h1><p id="37ba" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这个工具在一个地方将所有以前的工具结合在一起，这样我们可以一次执行它们，而不用担心我们忘记了其中的一个。它的主要目的是在CI/CD中执行，但也可以在本地使用。它支持多种编程语言(50种左右)、多种不同的代码格式(20种左右)、多种编码标准工具(20种左右)。如果我们对它进行配置，它还会自动修复所有报告的问题。在这种情况下，我仅将它用于依赖JavaScript和TypeScript的Node.js应用程序，我对该工具的配置如下:</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="d8a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后但同样重要的是，git lab CI configuration for mega linter确保我们在应用程序上进行的每一次代码更改都遵循上述工具的所有规则。</p><figure class="ml mm mn mo gt jr"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="2ad6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望分享这些工具和我正在使用的设置对我有所帮助:-)</p><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/1237de54086be46b6cf8a8c7d2bbde47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WddkySRyqzKFnQnS"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jpineapplepen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jay-Pee Peña 🇵🇭</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2e2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a><em class="mw">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">LinkedIn</em></strong></a><em class="mw"/><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">YouTube</em></strong></a><em class="mw"/><a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">不和</em> </strong> </a> <em class="mw">。</em></p></div></div>    
</body>
</html>