<html>
<head>
<title>5 Basic-But-Powerful Refactoring Techniques Used By Experienced Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有经验的开发人员使用的5种基本但强大的重构技术</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-basic-but-powerful-refactoring-techniques-used-by-experienced-developers-c1b9a879db78?source=collection_archive---------5-----------------------#2022-09-14">https://javascript.plainenglish.io/5-basic-but-powerful-refactoring-techniques-used-by-experienced-developers-c1b9a879db78?source=collection_archive---------5-----------------------#2022-09-14</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="8d00" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">保持代码库整洁的简单方法</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/323bf890781a5bb45f7612ea8d5a2fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vP1rUQ2oCbdR5oPq"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@kellisa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">kelisa Bernard</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="75a6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">重构是关于保持你的代码库干净。</p><p id="637a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">但是大多数文章和书籍都给出了冗长的例子，使问题变得复杂。</p><p id="27b6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在这里，我用简单的例子介绍了五种基本的重构技术。</p><h1 id="a5ca" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">1.删除无用的变量</h1><p id="9612" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">看一下这个例子:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="75fc" class="mv lu ir mr b gz mw mx l my mz">const person= {</span><span id="80f6" class="mv lu ir mr b gz na mx l my mz">    firstName:"Rock",</span><span id="a4bd" class="mv lu ir mr b gz na mx l my mz">    lastName:"Doe",</span><span id="04d2" class="mv lu ir mr b gz na mx l my mz">    age:50,</span><span id="f409" class="mv lu ir mr b gz na mx l my mz">    eyeColor:"brown",</span><span id="aa12" class="mv lu ir mr b gz na mx l my mz">};</span><span id="e8a5" class="mv lu ir mr b gz na mx l my mz">let str = person.lastName;</span><span id="4afe" class="mv lu ir mr b gz na mx l my mz">if(str === "Doe"){</span><span id="f1ec" class="mv lu ir mr b gz na mx l my mz">    console.log(true);<br/>}<br/>else{</span><span id="d8d0" class="mv lu ir mr b gz na mx l my mz">    console.log(false);</span><span id="a4ba" class="mv lu ir mr b gz na mx l my mz">}</span><span id="4c1a" class="mv lu ir mr b gz na mx l my mz">//result: true</span></pre><p id="1442" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在上面的例子中，我们不需要<code class="fe nb nc nd mr b">str</code>变量。</p><p id="1528" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果没有<code class="fe nb nc nd mr b">str</code>变量，我们可以很容易地工作。</p><p id="fcd0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">你可以这样做:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="b959" class="mv lu ir mr b gz mw mx l my mz">const person= {</span><span id="80e6" class="mv lu ir mr b gz na mx l my mz">    firstName:"John",</span><span id="e33b" class="mv lu ir mr b gz na mx l my mz">    lastName:"Doe",</span><span id="0939" class="mv lu ir mr b gz na mx l my mz">    age:50,</span><span id="b3ab" class="mv lu ir mr b gz na mx l my mz">    eyeColor:"blue"</span><span id="e7f8" class="mv lu ir mr b gz na mx l my mz">};</span><span id="e502" class="mv lu ir mr b gz na mx l my mz">if(person.lastName === "Doe"){</span><span id="736b" class="mv lu ir mr b gz na mx l my mz">    console.log(true)<br/>}</span><span id="2d4c" class="mv lu ir mr b gz na mx l my mz">else{</span><span id="507b" class="mv lu ir mr b gz na mx l my mz">    console.log(false)<br/>}</span><span id="a10e" class="mv lu ir mr b gz na mx l my mz">//result: true</span></pre><p id="128b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">有时名字不仅仅是一种表达。</p><h1 id="26dd" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">2.有意义的函数参数名</h1><p id="5044" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">看看这个函数:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="3c6e" class="mv lu ir mr b gz mw mx l my mz">function calculateArea(a,b){</span><span id="530a" class="mv lu ir mr b gz na mx l my mz">    //do what you want</span><span id="1a72" class="mv lu ir mr b gz na mx l my mz">}</span></pre><p id="0f34" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">函数名在任何代码库中都扮演着重要的角色。</p><p id="ae53" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">每本关于干净代码的书都提到你的函数名应该有意义。我不想重复了。</p><p id="4e12" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">就像函数名一样，参数名在您以后尝试重构代码时也起着重要的作用。</p><p id="7f47" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果你把上面的函数写成这样就更好了:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="b2fb" class="mv lu ir mr b gz mw mx l my mz">function calcuateArea(length, breadth){</span><span id="c92b" class="mv lu ir mr b gz na mx l my mz">    //do what you want</span><span id="6fbd" class="mv lu ir mr b gz na mx l my mz">}</span></pre><h1 id="7379" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">3.如果多次使用，重命名变量</h1><p id="8b31" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">为变量编写清晰的名称对于代码库的可读性非常重要。</p><p id="1c22" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果你写了一个好的变量名，它会变得不言自明。</p><p id="d66d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果你要在一个代码库中使用一个变量。最好给它取一个单字母的名字。</p><p id="4076" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">但是如果一个变量被多次使用，你必须给它一个有意义的名字，这样它就可以不言自明了。</p><p id="c2ea" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这里有一个这样的例子:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="9ece" class="mv lu ir mr b gz mw mx l my mz">let xyz = length * breadth;</span></pre><p id="3490" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在上面的例子中，变量<code class="fe nb nc nd mr b">xyz</code>没有传达正确的信息。你必须写出有意义的变量名。</p><p id="fcda" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这就是你重写上述变量的方法。</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="5c62" class="mv lu ir mr b gz mw mx l my mz">let area = length * breadth;</span></pre><h1 id="c0ba" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">4.用查询替换临时</h1><p id="4d6a" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">稍后将在代码中使用的局部变量可以移到单独的方法中。</p><p id="c4f5" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">以下面的函数为例:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="9d2f" class="mv lu ir mr b gz mw mx l my mz">function compareArea(){</span><span id="2aaf" class="mv lu ir mr b gz na mx l my mz">    let calculatedArea = length * breadth;</span><span id="0a97" class="mv lu ir mr b gz na mx l my mz">    if(calculatedArea &gt; 100){</span><span id="94ca" class="mv lu ir mr b gz na mx l my mz">        return calculatedArea - 5;</span><span id="3d0d" class="mv lu ir mr b gz na mx l my mz">    }</span><span id="614e" class="mv lu ir mr b gz na mx l my mz">    else {</span><span id="e6f1" class="mv lu ir mr b gz na mx l my mz">        return calcualtedArea + 5;</span><span id="1bbd" class="mv lu ir mr b gz na mx l my mz">    }</span><span id="479e" class="mv lu ir mr b gz na mx l my mz">}</span></pre><p id="8a3e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您需要将整个表达式移动到一个单独的方法中，并返回结果。</p><p id="7051" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">像这样做:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="3abc" class="mv lu ir mr b gz mw mx l my mz">function compareArea(){</span><span id="2cc7" class="mv lu ir mr b gz na mx l my mz">    if(calculateArea() &gt; 100){</span><span id="af27" class="mv lu ir mr b gz na mx l my mz">        return calculateArea() - 5;</span><span id="9b25" class="mv lu ir mr b gz na mx l my mz">    }</span><span id="8808" class="mv lu ir mr b gz na mx l my mz">    else{</span><span id="0699" class="mv lu ir mr b gz na mx l my mz">        return calculateArea() + 5;</span><span id="8ef6" class="mv lu ir mr b gz na mx l my mz">    }</span><span id="75ea" class="mv lu ir mr b gz na mx l my mz">}</span><span id="70f7" class="mv lu ir mr b gz na mx l my mz">function calculateArea(){</span><span id="7da9" class="mv lu ir mr b gz na mx l my mz">    return length * breadth</span><span id="1dde" class="mv lu ir mr b gz na mx l my mz">}</span></pre><h2 id="069c" class="mv lu ir bd lv ne nf dn lz ng nh dp md lg ni nj mf lk nk nl mh lo nm nn mj no bi translated">以下是一些好处:</h2><ul class=""><li id="e0ce" class="np nq ir kz b la ml ld mm lg nr lk ns lo nt ls nu nv nw nx bi translated">有时同一个表达式被用在多个函数中。这将帮助你一遍又一遍地使用这个表达。</li><li id="123b" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls nu nv nw nx bi translated">将会有更少的代码重复。</li><li id="35ce" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls nu nv nw nx bi translated">提高代码可读性。</li></ul><h2 id="8300" class="mv lu ir bd lv ne nf dn lz ng nh dp md lg ni nj mf lk nk nl mh lo nm nn mj no bi translated">一个缺点</h2><p id="473e" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">这种重构技术会导致一些性能问题。</p><h1 id="ad60" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">5.如果可能，拆分临时变量</h1><p id="bc3f" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">从长远来看，使用相同的变量名存储一些中间值可能会产生问题。</p><p id="c4d2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这里有一个这样的例子:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="4c75" class="mv lu ir mr b gz mw mx l my mz">let radius = 5;</span><span id="ffc9" class="mv lu ir mr b gz na mx l my mz">let temp = 3.14 * radius * radius</span><span id="0d4a" class="mv lu ir mr b gz na mx l my mz">console.log(temp);</span><span id="c773" class="mv lu ir mr b gz na mx l my mz">let temp = 2 * 3.14 * radius</span><span id="e87e" class="mv lu ir mr b gz na mx l my mz">console.log(temp);</span><span id="2724" class="mv lu ir mr b gz na mx l my mz">//result: Identifier 'temp' has already been declared</span></pre><p id="4d7b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">作为程序员，我们每个人都有使用同一个变量存储中间值的习惯。</p><p id="7108" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们主要使用<code class="fe nb nc nd mr b">temp</code>变量。</p><p id="28ac" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">但是如果我们在包含数千行代码的代码库中使用同一个变量。它会在将来产生问题。</p><p id="0836" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">有时这会制造噩梦。</p><p id="b88e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">像这样做:</p><pre class="kh ki kj kk gu mq mr ms mt aw mu bi"><span id="53f9" class="mv lu ir mr b gz mw mx l my mz">let radius = 5;</span><span id="1bb4" class="mv lu ir mr b gz na mx l my mz">let area = 3.14 * radius * radius</span><span id="c0c8" class="mv lu ir mr b gz na mx l my mz">console.log(area);</span><span id="dd21" class="mv lu ir mr b gz na mx l my mz">let perimeter = 2 * 3.14 * radius</span><span id="effe" class="mv lu ir mr b gz na mx l my mz">console.log(perimeter);</span><span id="7dee" class="mv lu ir mr b gz na mx l my mz">//result: 78.5<br/>          31.400000000000002</span></pre><h2 id="0edb" class="mv lu ir bd lv ne nf dn lz ng nh dp md lg ni nj mf lk nk nl mh lo nm nn mj no bi translated">这是拆分的一些好处</h2><ul class=""><li id="82bd" class="np nq ir kz b la ml ld mm lg nr lk ns lo nt ls nu nv nw nx bi translated">如果你拆分了临时变量，你的代码将很容易维护。您可以轻松替换任何变量，而不用担心任何不必要的影响。</li><li id="017a" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls nu nv nw nx bi translated">一旦使用了这种技术来重构代码，就可以很容易地从现有方法中提取方法。</li></ul><h1 id="262a" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">摘要</h1><ol class=""><li id="275e" class="np nq ir kz b la ml ld mm lg nr lk ns lo nt ls od nv nw nx bi translated">删除不必要的变量。</li><li id="80f9" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls od nv nw nx bi translated">编写有意义的函数参数名。</li><li id="7922" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls od nv nw nx bi translated">如果可能，请更改变量名。</li><li id="88d0" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls od nv nw nx bi translated">尝试用query替换Temp。</li><li id="9109" class="np nq ir kz b la ny ld nz lg oa lk ob lo oc ls od nv nw nx bi translated">溢出临时变量。</li></ol></div><div class="ab cl oe of hv og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ik il im in io"><h1 id="9a47" class="lt lu ir bd lv lw ol ly lz ma om mc md jx on jy mf ka oo kb mh kd op ke mj mk bi translated">你想加速你的程序员生涯吗</h1><p id="ee98" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">加入一群热爱编程和技术的人。</p><p id="78df" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">你可以在这里加入。</p><p id="ad3a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在我们社区的帮助下，我们将解决程序员生活中的主要问题，并讨论前端和后端工程。</p><p id="66ce" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们将帮助你重新规划你对科技中各种事物的理解。</p></div><div class="ab cl oe of hv og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ik il im in io"><p id="aadd" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="oq">更多内容看</em> <a class="ae kw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="oq">说白了。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="oq">免费周报</em> </strong> </a> <em class="oq">。关注我们关于</em> <a class="ae kw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="oq">推特</em></strong></a><a class="ae kw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="oq">LinkedIn</em></strong></a><em class="oq"/><a class="ae kw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="oq">YouTube</em></strong></a><em class="oq"/><a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="oq">不和</em> </strong> </a> <em class="oq">。对增长黑客感兴趣？检查</em> <a class="ae kw" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="oq">电路</em> </strong> </a> <em class="oq">。</em></strong></a></p></div></div>    
</body>
</html>