<html>
<head>
<title>Minor Imperfections That Shout ‘Beginner Code’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">喊着“初学者代码”的小瑕疵</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/minor-imperfections-that-shout-beginner-code-7f8297cafdc9?source=collection_archive---------11-----------------------#2022-10-25">https://javascript.plainenglish.io/minor-imperfections-that-shout-beginner-code-7f8297cafdc9?source=collection_archive---------11-----------------------#2022-10-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c200" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一些你可以在代码中避免的缺陷！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8ac0eb225985642a1ac3a310035fbe43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72auIO_OjgcUOqgElRarww.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Illustration by the author</figcaption></figure><p id="1c6e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">大约一年来，我一直在指导几个刚刚开始编程的人。在审查他们的代码时，我注意到一些重复出现的问题。其中许多问题是:</p><ul class=""><li id="689b" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">次要的足以让初学者看起来没问题</li><li id="53ec" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">恼人到足以立即被更有经验的开发人员注意到</li></ul><p id="4e96" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们快速浏览一下这些缺陷，这样你就可以在你的代码中避免它们了！</p><h1 id="4a84" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">文件末尾没有新行</h1><p id="b814" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">UNIX惯例是在每个文件的末尾添加新的行字符。它开始是因为像<code class="fe nc nd ne nf b">cat</code>这样的命令行工具显示了许多文件，而没有在它们之间放置任何分隔符。Git通过文件内容的散列来识别文件——对于Git来说，即使一个字符的差异也会使文件不同。这两个因素结合在一起，使得Git和GitHub在文件末尾缺少新行时会指出来。</p><p id="7d45" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Git命令行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/24c4187380a7f94fcee8f1d7baba28a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/0*Hsfmlmvn5bwdaW82"/></div></figure><p id="6536" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">GitHub:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/c7df7d3e8586ed63ae43666508f65ab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/0*CZuNjlYuyntm2k1D"/></div></figure><p id="65d5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我见过的许多项目都有一个要求每个文本文件包含一个新行字符的策略——遵循UNIX惯例。</p><h1 id="6f8d" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">解决办法</h1><p id="9b5f" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">您的代码编辑器中应该有一个为您添加这些新行字符的选项。或者，您可以在您的编辑器中检查对<a class="ae ni" href="https://editorconfig.org/" rel="noopener ugc nofollow" target="_blank"> EditorConfig </a>的支持，并在项目级别设置它。</p><h1 id="5340" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">不一致的代码样式</h1><p id="0ee1" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">请看看这段代码:</p><pre class="kg kh ki kj gt nj nf nk nl aw nm bi"><span id="90ee" class="nn mg iq nf b gy no np l nq nr">if (a == 1){<br/>  b = 2;<br/>} <br/>else {<br/>  b =3;<br/>}</span></pre><p id="cd82" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我刚开始编程的时候也是这样写的，但是现在感觉这里的代码风格几乎冒犯了我。我并不孤单:其他<a class="ae ni" href="https://how-to.dev/what-tech-newbies-need-according-to-industry-insiders" rel="noopener ugc nofollow" target="_blank">程序员</a>也指出一致性是编码的一个重要部分。</p><h1 id="8f53" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">解决办法</h1><p id="ba11" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">您不必:</p><ul class=""><li id="8a97" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">察觉所有的造型问题，也没有</li><li id="8141" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">手动修复它们，甚至</li><li id="de3a" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">想想代码风格的细节。</li></ul><p id="37ec" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">相反，只需获得一些流行的和固执己见的代码风格自动化工具，并使用该工具外包您所有的风格需求。对于前端，你更漂亮，我在另一篇文章的<a class="ae ni" href="https://how-to.dev/how-to-make-your-code-prettier" rel="noopener ugc nofollow" target="_blank">中提到过。</a></p><h1 id="9321" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">提交消息</h1><p id="12f5" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">我经常把<a class="ae ni" href="https://www.freecodecamp.org/news/how-to-write-better-git-commit-messages/#5-steps-to-write-better-commit-messages" rel="noopener ugc nofollow" target="_blank">提交消息指南</a>发给我开始共事的任何人。许多项目执行这些规则——或者更复杂的规则。为什么我和其他人这么在意？</p><ul class=""><li id="0e82" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">一些项目从提交中自动生成变更日志。例如，angular使用<a class="ae ni" href="https://github.com/conventional-changelog/conventional-changelog" rel="noopener ugc nofollow" target="_blank">常规-changelog </a>。</li><li id="9ea9" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">Git历史应该提供项目中发生的事情的快速概览——混乱的消息使它更难消化。</li><li id="49be" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">指向上次修改给定行的提交——一个好的提交消息可以加速理解当时发生了什么以及为什么会发生。</li></ul><p id="d02c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于一个从事个人项目的初学者，我会坚持:</p><ul class=""><li id="918f" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">用现在时第一人称祈使句中的动词:<code class="fe nc nd ne nf b">add index.html</code>代替<code class="fe nc nd ne nf b">added index.html</code>或<code class="fe nc nd ne nf b">adding index.html</code>。</li><li id="fcf3" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">保持大小写一致——要么总是以小写字母开头，要么以大写字母开头。</li><li id="405a" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">不要在消息末尾使用句号。</li><li id="346d" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">提交消息不超过50个字符。多一点没问题，但尽量避免超过70。大多数Git工具不包装消息，所以长消息会被截断或超出屏幕。</li></ul><h1 id="45f4" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated"><code class="fe nc nd ne nf b">!important</code> CSS</h1><p id="052b" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">当你在你的样式中使用<code class="fe nc nd ne nf b">!important</code>的时候，你强制一个给定的CSS规则凌驾于任何其他规则之上。这是一种<a class="ae ni" href="https://en.wikipedia.org/wiki/Code_smell" rel="noopener ugc nofollow" target="_blank">代码味道</a>，或者是当项目中的事情已经开始变糟时实现目标的一种方式。当您使用<code class="fe nc nd ne nf b">!important</code>时，您删除了一个简单的选项，用更具体的选择器覆盖值CSS的一个关键特性。您无法避免<code class="fe nc nd ne nf b">!important</code>的唯一情况是当您覆盖另一个已经使用它的规则，并且它来自您无法控制的代码——例如，来自第三方库。</p><p id="a53d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你应该用什么来代替？任何使选择器更具体并因此更强的方法。在最坏的情况下，您可以复制类名，使其中一个选择器更强大:</p><pre class="kg kh ki kj gt nj nf nk nl aw nm bi"><span id="4bab" class="nn mg iq nf b gy no np l nq nr">.side-bar.side-bar {<br/>  color: green;<br/>}<br/><br/>.content {<br/>  color: blue;<br/>}</span></pre><p id="e496" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">会让<code class="fe nc nd ne nf b">&lt;div class="content side-bar"&gt;test&lt;/div&gt;</code>变绿。</p><h1 id="fbbd" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">文件夹结构和文件名</h1><p id="75f7" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">我对代码库结构的期望是:</p><ul class=""><li id="cce6" class="lr ls iq kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">应该很清楚我会在任何文件夹或文件中找到什么，</li><li id="28d6" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">我要写的新代码应该放在哪里是显而易见的，</li><li id="58d8" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">它应该是一致的，而且</li><li id="6793" class="lr ls iq kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">这应该很简单。</li></ul><p id="a0d7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不符合这些期望的例子:</p><pre class="kg kh ki kj gt nj nf nk nl aw nm bi"><span id="9700" class="nn mg iq nf b gy no np l nq nr">controllers/<br/>  some-controller.ts<br/>  anotherController.ts</span></pre><p id="7e14" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上面混合了kebab-case和camelCase的文件名:不清楚新文件应该如何命名。</p><pre class="kg kh ki kj gt nj nf nk nl aw nm bi"><span id="be55" class="nn mg iq nf b gy no np l nq nr">admin/<br/>  some-class.ts<br/>classes/<br/>  another-class.ts<br/>views/<br/>  index.html</span></pre><p id="8886" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">上面的代码片段混合了匹配用例的文件夹(<code class="fe nc nd ne nf b">admin/</code>)和匹配文件类型的文件夹(<code class="fe nc nd ne nf b">classes/</code>)。不清楚admin相关的类属于哪里。</p><pre class="kg kh ki kj gt nj nf nk nl aw nm bi"><span id="e3e9" class="nn mg iq nf b gy no np l nq nr">very/<br/>  nested/<br/>    folder/<br/>      file.ts</span></pre><p id="4221" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最后，上面的内容是多余的。</p><h1 id="a22a" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">摘要</h1><p id="0cac" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">对于刚开始编程的人来说，这几件事看起来微不足道，但是对于有经验的程序员来说，注意到它们是很平常的事情。尽早弄清楚这一点是一个好主意:这将使你的代码看起来更专业，这样做将有助于评审人员关注更重要的事情。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="5285" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nz">最初发布于</em><a class="ae ni" href="https://how-to.dev/minor-imperfections-that-shout-beginner-code" rel="noopener ugc nofollow" target="_blank"><em class="nz">https://how-to . dev</em></a><em class="nz">。</em></p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="6306" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nz">更多内容看</em> <a class="ae ni" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">说白了。报名参加我们的</em> <a class="ae ni" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">免费周报</em> </strong> </a> <em class="nz">。关注我们关于</em> <a class="ae ni" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">推特</em> </strong> </a>，<a class="ae ni" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">LinkedIn</em></strong></a><em class="nz">，</em><a class="ae ni" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">YouTube</em></strong></a><em class="nz">，以及</em> <a class="ae ni" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">不和</em> </strong> </a> <em class="nz">。对增长黑客感兴趣？检查</em> <a class="ae ni" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">电路</em> </strong> </a> <em class="nz">。</em></strong></a></p></div></div>    
</body>
</html>