<html>
<head>
<title>How to Get the ID of the Clicked Element in the JavaScript Click Handler?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何获取JavaScript点击处理程序中被点击元素的ID？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-the-id-of-the-clicked-element-in-the-javascript-click-handler-8ca398d848d6?source=collection_archive---------2-----------------------#2022-03-09">https://javascript.plainenglish.io/how-to-get-the-id-of-the-clicked-element-in-the-javascript-click-handler-8ca398d848d6?source=collection_archive---------2-----------------------#2022-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dc445a1d7c3fbf737a10471c10b338da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YBZ0OjJBNldVg8yN"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@abscondet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tawhidur R</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="00ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望获得我们在JavaScript click事件处理程序中单击的元素的ID。</p><p id="968f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何在JavaScript click处理程序中获取被点击元素的ID。</p><h1 id="f886" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">将每个元素的onclick属性设置为同一个事件处理函数</h1><p id="ba81" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当我们单击一个元素时，获取元素ID的一种方法是将每个元素对象的<code class="fe me mf mg mh b">onclick</code>属性设置为同一个click事件处理函数。</p><p id="3ec8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="48e7" class="mq lc iq mh b gy mr ms l mt mu">&lt;button id="1"&gt;Button 1&lt;/button&gt;<br/>&lt;button id="2"&gt;Button 2&lt;/button&gt;<br/>&lt;button id="3"&gt;Button 3&lt;/button&gt;</span></pre><p id="ab86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以编写以下JavaScript代码，将每个元素的事件处理程序设置为同一个click事件处理程序:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="9595" class="mq lc iq mh b gy mr ms l mt mu">const onClick = function() {<br/>  console.log(this.id, this.innerHTML);<br/>}<br/>document.getElementById('1').onclick = onClick;<br/>document.getElementById('2').onclick = onClick;<br/>document.getElementById('3').onclick = onClick;</span></pre><p id="541c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">onClick</code>函数是每个按钮点击的事件处理程序。</p><p id="7f86" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">this</code>是我们点击的元素。</p><p id="a0fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以获取<code class="fe me mf mg mh b">id</code>属性来获取被点击元素的ID。</p><p id="957d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe me mf mg mh b">innerHTML</code>有按钮的内容。</p><p id="e3db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将<code class="fe me mf mg mh b">onClick</code>函数作为<code class="fe me mf mg mh b">onclick</code>属性的值分配给每个按钮元素。</p><p id="9116" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当我们点击按钮1按钮时，我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="f256" class="mq lc iq mh b gy mr ms l mt mu">'1' 'Button 1'</span></pre><p id="8bab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记录在案。</p><p id="644e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们点击按钮2按钮时，我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="19e8" class="mq lc iq mh b gy mr ms l mt mu">'2' 'Button 2'</span></pre><p id="3be7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们点击按钮3时，我们得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="4641" class="mq lc iq mh b gy mr ms l mt mu">'3' 'Button 3'</span></pre><p id="81b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">记录在案。</p><h1 id="5475" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">从事件对象中获取被点击的元素</h1><p id="45af" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">获取我们在事件处理程序中单击的元素的另一种方法是从事件对象中获取它，这是事件处理程序函数中的第一个参数。</p><p id="3fdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="83ed" class="mq lc iq mh b gy mr ms l mt mu">&lt;button id="1"&gt;Button 1&lt;/button&gt;<br/>&lt;button id="2"&gt;Button 2&lt;/button&gt;<br/>&lt;button id="3"&gt;Button 3&lt;/button&gt;</span></pre><p id="6a9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和下面的JavaScript代码:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="cf2d" class="mq lc iq mh b gy mr ms l mt mu">const onClick = (event) =&gt; {<br/>  console.log(event.srcElement.id);<br/>}<br/>window.addEventListener('click', onClick);</span></pre><p id="55c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们调用<code class="fe me mf mg mh b">window.addEventListener</code>将点击事件监听器连接到<code class="fe me mf mg mh b">html </code>元素。</p><p id="2887" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们从<code class="fe me mf mg mh b">event.srcElement</code>属性中获得被点击的元素。</p><p id="218c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">id</code>属性获得该元素的ID。</p><p id="b0f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">event.target</code>代替<code class="fe me mf mg mh b">event.srcElement</code>:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="e751" class="mq lc iq mh b gy mr ms l mt mu">const onClick = (event) =&gt; {<br/>  console.log(event.target.id);<br/>}<br/>window.addEventListener('click', onClick);</span></pre><p id="64cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到了同样的结果。</p><p id="ce1f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以检查我们点击的元素是否是一个带有<code class="fe me mf mg mh b">nodeName</code>属性的按钮。</p><p id="7356" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="a770" class="mq lc iq mh b gy mr ms l mt mu">const onClick = (event) =&gt; {<br/>  if (event.target.nodeName === 'BUTTON') {<br/>    console.log(event.target.id);<br/>  }<br/>}<br/>window.addEventListener('click', onClick);</span></pre><p id="9041" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加一条<code class="fe me mf mg mh b">if</code>语句，在运行<code class="fe me mf mg mh b">console.log</code>方法之前检查<code class="fe me mf mg mh b">event.target.nodeName</code>是否为<code class="fe me mf mg mh b">'BUTTON'</code>。</p><p id="282d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样，我们只在点击按钮时运行点击处理程序代码。</p><h1 id="149a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4bc7" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以从click事件处理程序中获取被点击元素的ID。</p><p id="482b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果使用常规函数，我们可以从<code class="fe me mf mg mh b">this</code>中获取值。</p><p id="ad90" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者我们可以从click事件处理程序的<code class="fe me mf mg mh b">event</code>对象中获得相同的值。</p><p id="8aff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容尽在</em> <a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">说白了. io </em> </strong> </a> <em class="mv">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们关于</em> <a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">推特</em> </strong> </a> <em class="mv">和</em><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">LinkedIn</em></strong></a><em class="mv">。加入我们的</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">社区不和谐</em> </strong> </a> <em class="mv">。</em></p></div></div>    
</body>
</html>