<html>
<head>
<title>JWT Token Authentication in Angular 14 and .NET Core 6 Web API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 14和中的JWT令牌认证。NET Core 6 Web API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/jwt-token-authentication-in-angular-14-and-net-core-6-web-api-c3237cb4204?source=collection_archive---------1-----------------------#2022-07-02">https://javascript.plainenglish.io/jwt-token-authentication-in-angular-14-and-net-core-6-web-api-c3237cb4204?source=collection_archive---------1-----------------------#2022-07-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="205e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Angular 14中的JWT认证分步指南。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b7139f2668d742796c2e7872d7ed1472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yXw0nFS7DK-4T21q"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@cgower?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christopher Gower</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cc29" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将在Angular 14中逐步讨论JWT认证。</p><p id="9a57" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想了解JWT令牌的基本知识和细节，那么看看下面的网址。</p><div class="lp lq gp gr lr ls"><a href="https://medium.com/@jaydeepvpatil225/introduction-and-detail-about-the-jwt-authentication-and-authorization-5a812e6d154c" rel="noopener follow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">关于JWT认证和授权的介绍和细节</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">我们将讨论使用JWT令牌和不同的加密算法和技术的认证和授权…</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">medium.com</p></div></div><div class="mb l"><div class="mc l md me mf mb mg km ls"/></div></div></a></div><p id="0e31" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在那里，我已经解释了JWT认证和授权的基础和细节。</p><p id="caf4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">此外，我建议你在开始这篇文章之前阅读下面的文章，我解释了如何建立一个后端服务器应用程序using.NET核心6。</p><div class="lp lq gp gr lr ls"><a href="https://medium.com/@jaydeepvpatil225/jwt-token-authentication-using-the-net-core-6-web-api-24e585ecc24a" rel="noopener follow" target="_blank"><div class="lt ab fo"><div class="lu ab lv cl cj lw"><h2 class="bd io gy z fp lx fr fs ly fu fw im bi translated">使用JWT令牌进行身份验证。NET Core 6 Web API</h2><div class="lz l"><h3 class="bd b gy z fp lx fr fs ly fu fw dk translated">我们将讨论JWT令牌认证和实现。NET核心API 6。</h3></div><div class="ma l"><p class="bd b dl z fp lx fr fs ly fu fw dk translated">medium.com</p></div></div><div class="mb l"><div class="mh l md me mf mb mg km ls"/></div></div></a></div><p id="7067" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在本节中，我们将逐步讨论以下内容:</p><ul class=""><li id="7117" class="mi mj in kv b kw kx kz la lc mk lg ml lk mm lo mn mo mp mq bi translated">介绍</li><li id="852a" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">创建角度应用程序</li><li id="de13" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">添加自举和烤面包机模块</li><li id="ba94" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">授权守卫</li><li id="7cd9" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">角度服务</li><li id="b762" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">创建角度组件</li></ul><p id="1a53" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们一件一件地开始</p><h2 id="7d23" class="mw mx in bd my mz na dn nb nc nd dp ne lc nf ng nh lg ni nj nk lk nl nm nn no bi translated"><strong class="ak">简介</strong></h2><ul class=""><li id="efcc" class="mi mj in kv b kw np kz nq lc nr lg ns lk nt lo mn mo mp mq bi translated">JSON Web Token是开放标准(RFC 7519)的自包含方式，它将作为JSON对象在不同的环境中安全地传输数据。</li><li id="c3f6" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">RFC(征求意见稿)是远程函数调用的简称，也是互联网工程任务组的正式文档。RFC 7519 JSON Web Token(JWT)2015年5月版权声明版权所有2015 IETF Trust和文档作者。保留所有权利。</li><li id="b0a7" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">JWT是可信的身份验证方式，因为它使用HMAC算法进行数字签名和保密，或者有时使用RSA的公钥/私钥。</li><li id="4bae" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">基本上，HMAC代表基于哈希的消息认证码，它使用一些伟大的加密哈希技术，为我们提供了很大的安全性。</li><li id="68ef" class="mi mj in kv b kw mr kz ms lc mt lg mu lk mv lo mn mo mp mq bi translated">此外，JWT是OAuth和OpenID等强大的身份验证和授权框架的一部分，这些框架将提供安全传输数据的强大机制。</li></ul><h2 id="2aba" class="mw mx in bd my mz na dn nb nc nd dp ne lc nf ng nh lg ni nj nk lk nl nm nn no bi translated"><strong class="ak">创建角度应用</strong></h2><p id="70f4" class="pw-post-body-paragraph kt ku in kv b kw np jo ky kz nq jr lb lc nu le lf lg nv li lj lk nw lm ln lo ig bi translated"><strong class="kv io">第一步:</strong></p><p id="2031" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用以下命令创建角度应用程序</p><pre class="kd ke kf kg gt nx ny nz oa aw ob bi"><span id="404b" class="mw mx in ny b gy oc od l oe of">ng new WebAPP</span></pre><p id="39c5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第二步:</strong></p><p id="56e3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们在这个应用中使用bootstrap。因此，使用以下命令安装引导程序</p><pre class="kd ke kf kg gt nx ny nz oa aw ob bi"><span id="5261" class="mw mx in ny b gy oc od l oe of">npm install bootstrap</span></pre><p id="464d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，在脚本和样式部分的angular.json文件中添加引导脚本</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="b51f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第三步:</strong></p><p id="c349" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为弹出和通知安装烤面包机模块</p><pre class="kd ke kf kg gt nx ny nz oa aw ob bi"><span id="1835" class="mw mx in ny b gy oc od l oe of">npm install ngx-toastr –save</span></pre><p id="b9b0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然后，在angular.json文件的styles部分添加烤面包机</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="c278" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第四步:</strong></p><p id="aa26" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">应用程序结构</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/9988c7e6cd7cd50661752878614c774d.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/0*PlYwRLnpdNI6VHHD.png"/></div></figure><p id="4f91" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第五步:</strong></p><p id="283e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在assets中创建config文件夹，并在其中创建config.json文件，如下所示，并将后端应用程序API URL放入其中</p><pre class="kd ke kf kg gt nx ny nz oa aw ob bi"><span id="cde9" class="mw mx in ny b gy oc od l oe of">{<br/>    "apiServer": {<br/>      "url": "<a class="ae ks" href="https://localhost:7299/" rel="noopener ugc nofollow" target="_blank">https://localhost:7299</a>",<br/>      "version": "v1"<br/>    }<br/>}</span></pre><p id="925f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第六步:</strong></p><p id="d5ea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在守卫的文件夹中创建授权守卫</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="e703" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这里，您可以看到我们从本地存储中获取JWT令牌，稍后检查令牌是否过期，如果令牌过期，它将重定向到登录并返回false。</p><p id="8ea7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第七步:</strong></p><p id="bf55" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">打开应用程序组件文件，并在其中添加以下代码</p><p id="21c4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">应用程序组件</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="76ed" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">app.component.html</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="be48" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第八步:</strong></p><p id="28a8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在app目录中创建一个模型文件夹，并在其中创建一个产品类</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="f6bc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第九步:</strong></p><p id="d1e5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">创建主页组件</p><p id="d4c2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">主页.组件. ts</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="9d91" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">homepage.component.html</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="67a0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十步:</strong></p><p id="f774" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">创建登录组件</p><p id="3864" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">登录.组件. ts</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="32f5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">login.component.html</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="74d8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十一步:</strong></p><p id="f844" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">创建产品组件</p><p id="3e77" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">产品.组件. ts</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="d8b5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">products.component.html</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="ce73" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十二步:</strong></p><p id="62a5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来，创建一个产品服务来发送我们所有的请求，并从后端应用程序获取数据</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="6242" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第十三步:</strong></p><p id="4ea7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">将以下代码放入应用程序模块中</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="0196" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这里，您可以看到，首先，我们放置了一些路由，并创建了一个从本地存储获取JWT令牌的方法，还在其中配置了JWT模块和授权保护。</p><p id="b360" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">第14步:</strong></p><p id="c6a6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，运行您的应用程序</p><pre class="kd ke kf kg gt nx ny nz oa aw ob bi"><span id="6f20" class="mw mx in ny b gy oc od l oe of">npm start</span></pre><p id="db1b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">运行应用程序时，您将看到登录页面</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/e497460c0cf70ea7c2b26ffc9e698e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*O13GOrkJMKPlit00.png"/></div></figure><p id="115a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">登录后，您将看到产品页面</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ok"><img src="../Images/37883e858007db728709eae9c81efe28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fmNoA8_HFr89Ff6X.png"/></div></div></figure><h2 id="8015" class="mw mx in bd my mz na dn nb nc nd dp ne lc nf ng nh lg ni nj nk lk nl nm nn no bi translated"><strong class="ak">结论</strong></h2><p id="d518" class="pw-post-body-paragraph kt ku in kv b kw np jo ky kz nq jr lb lc nu le lf lg nv li lj lk nw lm ln lo ig bi translated">因此，我们在Angular 14中逐步讨论了所有JWT身份验证，以及如何在本地存储中存储令牌并在产品应用程序中使用它。</p></div><div class="ab cl ol om hr on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ig ih ii ij ik"><p id="a059" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="os">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="os">说白了。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="os">免费每周简讯</em> </strong> </a> <em class="os">。关注我们</em> <a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="os">推特</em> </strong> </a> <em class="os">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="os">LinkedIn</em></strong></a><em class="os">。查看我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="os">社区不和谐</em> </strong> </a> <em class="os">加入我们的</em> <a class="ae ks" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="os">人才集体</em> </strong> </a> <em class="os">。</em></strong></a></p></div></div>    
</body>
</html>