# é€Ÿåº¦ä¸æ¿€æƒ…çš„å›¾åƒâ€” Web æ€§èƒ½è°ƒæ•´æŠ€å·§

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/fast-and-furious-images-web-performance-tuning-tips-89a629cdc6a0?source=collection_archive---------9----------------------->

## ä¼˜åŒ–å›¾åƒåŠ è½½çš„ä¸€äº›æŠ€å·§ã€‚

![](img/ae99cb302d0545e646a6342eb26a8a8e.png)

ä¸€ä¸ªåŒ…å«ä¸€äº›å›¾ç‰‡åŠ è½½ä¼˜åŒ–æŠ€å·§çš„åˆ—è¡¨ã€‚å¯¹äºç°åœ¨çš„ä½ å’Œæˆ‘ï¼Œåœ¨æœªæ¥çš„æŸä¸ªåœ°æ–¹ï¼Œå½“æˆ‘å¿˜è®°å®ƒçš„æ—¶å€™ã€‚

å…ˆæ˜¯ä¸€äº›[ä¸»é¢˜è°ƒéŸ³éŸ³ä¹](https://youtu.be/3shMD13Y2uU?t=14)ğŸ¤Ÿã€‚

è®©æˆ‘ä»¬å¼€å§‹å§ğŸš€ã€‚

# è£…è´§

åŠ é€Ÿå›¾åƒåŠ è½½çš„æœ€ç®€å•æ–¹æ³•æ˜¯ç»™å›¾åƒæ·»åŠ ä¸€ä¸ª[åŠ è½½å±æ€§](https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading):

*   ä¸å¿…ç«‹å³åŠ è½½çš„å›¾åƒ(ä¸åœ¨è§†å›¾ã€é¡µè„šç­‰ä¸­)ã€‚)åº”è¯¥æœ‰`loading="lazy"`
*   é‚£äº›éœ€è¦æå‰åŠ è½½çš„(åœ¨è§†å›¾æˆ– LCP å›¾åƒä¸­)åº”è¯¥æœ‰`loading="eager"`

å¦‚æœä¸€ä¸ªå›¾åƒè¢«æ ‡è®°ä¸ºä¸€ä¸ª [LCP](https://sortable.com/blog/ad-ops/what-is-largest-contentful-paint-lcp/) å…ƒç´ ï¼Œå®ƒä¸åº”è¯¥è¢«æƒ°æ€§åŠ è½½ã€‚

å½“ä¸€ä¸ªå›¾åƒè¢«å»¶è¿ŸåŠ è½½æ—¶ï¼Œç¡®ä¿ä¸ºè¯¥å›¾åƒå‡†å¤‡å¥½ç©ºé—´ï¼Œè¿™æ ·å°±ä¸ä¼šå¯¼è‡´ä¸å¿…è¦çš„[å¸ƒå±€åç§»](https://web.dev/optimize-cls/)ã€‚ä½ å¯ä»¥è®¾ç½®å®½åº¦å’Œé«˜åº¦å±æ€§æˆ–è€…ä½¿ç”¨[å¡«å……é¡¶éƒ¨](https://css-tricks.com/preventing-content-reflow-from-lazy-loaded-images/)æŠ€å·§ã€‚

# é‡è¦

[é‡è¦æ€§å±æ€§](https://developers.google.com/web/updates/2019/02/priority-hints)ç®€å•æ¥è¯´å°±æ˜¯è¯´[ä¸‹è½½è¿‡ç¨‹åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™å¼€å§‹](https://twitter.com/addyosmani/status/1087614725809160192?lang=cs)ã€‚è¿™å°¤å…¶å¯ä»¥æ”¹å–„ LCP å›¾åƒçš„åŠ è½½ã€‚

![](img/0c4f5ab9ce127f81d37fadf616d72ddb.png)

# è§£ç 

å½“ä¸€ä¸ªå›¾åƒæœ‰ä¸€ä¸ª [decoding="async"](https://twitter.com/addyosmani/status/938078402430382080) å±æ€§æ—¶ï¼Œå½“æ‰¾åˆ°è¿™æ ·çš„å›¾åƒæ—¶ï¼Œæ¸²æŸ“è¿‡ç¨‹ä¸ä¼šæš‚åœï¼Œè€Œæ˜¯ç»§ç»­è¿›è¡Œï¼Œå¹¶ä¸”å›¾åƒè¢«å¼‚æ­¥è§£ç ã€‚

![](img/13806d35ada55c82e5717667d1658c05.png)

# æ ¼å¼

å¯èƒ½çš„è¯ï¼Œä½¿ç”¨ [AVIF](https://avif.io/blog/comparisons/avif-vs-webp/) ã€‚ä¸ç„¶è‡³å°‘ webpã€‚T21 çš„å‹ç¼©ç‡è¿œè¿œé«˜äºæ™®é€šçš„ JPGã€‚

![](img/64a965b3a5f380ff8b95b3552a340059.png)

# å¤§å°

åŠ è½½å¤§å›¾ç‰‡æ—¶ï¼Œå°½é‡ä»æ‰‹æœºåŠ è½½åˆ°æ¡Œé¢ä¸åŒå¤§å°ã€‚å°ºå¯¸åº”è¯¥åœ¨å®½åº¦æˆ–é«˜åº¦ä¸Šç›¸å·® 200 åƒç´ å·¦å³ã€‚ä½ å¯ä»¥ç”¨[åƒç´ ](https://developers.google.com/web/fundamentals/design-and-ux/responsive/images#art_direction_in_responsive_images_with_picture)æ¥ä»£æ›¿å®ƒã€‚

# é¢„åŠ è½½

æœ€å¥½çš„åšæ³•æ˜¯[é¢„åŠ è½½åº”è¯¥å°½å¿«åŠ è½½çš„](https://twitter.com/addyosmani/status/1283295232633659392)å›¾åƒã€‚
ä½†æ˜¯ä¸è¦å¯¹é¡µé¢ä¸Šçš„æ¯ä¸€å¼ å›¾ç‰‡éƒ½ä½¿ç”¨å®ƒã€‚

![](img/dbe4ef2f21730de065023cfc93a15888.png)

# èƒŒæ™¯

å½“ä½ åŠ è½½ä¸€äº›éœ€è¦å°½å¿«åŠ è½½çš„å¤§èƒŒæ™¯å›¾ç‰‡æ—¶[æ·»åŠ ä¸€ä¸ªéšè—çš„å›¾ç‰‡å…ƒç´ ](https://twitter.com/csswizardry/status/1276854595382325248)å’ŒèƒŒæ™¯çš„è·¯å¾„ã€‚å®ƒæé«˜äº†ä¼˜å…ˆçº§ï¼Œå›¾åƒåŠ è½½é€Ÿåº¦æ›´å¿«ã€‚

![](img/1b7aa0a0524259cfe8899917ba862627.png)

ä¸éœ€è¦ç«‹å³åŠ è½½çš„èƒŒæ™¯åº”è¯¥æ˜¯ lazyloadedã€‚æ‚¨å¯ä»¥ä½¿ç”¨[äº¤é›†è§‚å¯Ÿå™¨](https://blog.logrocket.com/lazy-loading-using-the-intersection-observer-api/)æ¥åˆ¤æ–­å¸¦æœ‰èƒŒæ™¯çš„å…ƒç´ æ˜¯å¦å¯è§ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªç±»ä¼¼`s-visible`çš„çŠ¶æ€ç±»ã€‚ç„¶ååœ¨ CSS ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹:

```
.image-background.s-loaded {
  /* 
    Image will be loaded only 
    if the element has the s-loaded class 
  */
}
```

# æ ¸æ ‡å‡†æƒ…æŠ¥ä¸­å¿ƒ

å¦‚æœä½ æœ‰å¤šä¸ªå°å›¾ç‰‡(åƒå›¾ç‰‡ä¸€æ ·çš„å›¾æ ‡)åœ¨æ•´ä¸ªç½‘ç«™ä¸Šä½¿ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨åƒ [Icomoon App](https://icomoon.io/) è¿™æ ·çš„åº”ç”¨å°†å®ƒä»¬æ†ç»‘åœ¨ä¸€èµ·ã€‚è¿™å°†å‡å°‘è¯·æ±‚æ•°é‡å’Œæ€»å¤§å°ã€‚

![](img/617ad7031798836b7f99e9202da83dbe.png)

# æŒ½æ•‘ï¼ˆsaving çš„ç®€å†™ï¼‰

å¦‚æœæ ‡é¢˜ä¸­çš„ç¬¬ä¸€å¼ å›¾ç‰‡æ˜¯ä½ çš„ logoï¼Œå¹¶ä¸”æ˜¯ SVG å›¾ç‰‡ï¼Œç›´æ¥æŠŠå®ƒæ·»åŠ åˆ°é¡µé¢ä¸Šã€‚è¿™æ ·å°±ä¸ä¼šå‡æ…¢è£…è½½é€Ÿåº¦ã€‚
ç„¶è€Œï¼Œä¹Ÿæœ‰è¿™ç§æ–¹å¼:

1.  åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç›´æ¥åŠ è½½å®ƒ
2.  å½“é¡µé¢è¢«åŠ è½½æ—¶ï¼Œé€šè¿‡ javascript å°†è¯¥å›¾åƒçš„é“¾æ¥å…ƒç´ æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œå› æ­¤å®ƒåœ¨åå°åŠ è½½å¹¶è¢«ç¼“å­˜
3.  åœ¨å¦ä¸€ä¸ªè¯·æ±‚ä¸­ï¼Œé€šè¿‡ img å…ƒç´ åŠ è½½å®ƒã€‚

# åˆ†äº«ä½ çš„å°æŠ€å·§ï¼

å¦‚æœä½ æœ‰ä»»ä½•å…³äºå›¾ç‰‡åŠ è½½ä¼˜åŒ–çš„å»ºè®®ï¼Œè¯·åœ¨è¯„è®ºä¸­åˆ†äº«ã€‚æˆ‘å¾ˆä¹æ„äº†è§£å®ƒä»¬ï¼Œå®ƒè‚¯å®šä¼šå¸®åŠ©é‚£äº›å¯»æ‰¾å¦‚ä½•æé«˜ä»–ä»¬çš„ web æ€§èƒ½çš„ä¿¡æ¯çš„å…¶ä»– web å¼€å‘äººå‘˜ğŸ™‚ã€‚

ä¿æŒè”ç³»:
ğŸ‘‰ [@8machy](https://twitter.com/8machy)
ğŸ‘‰[stylify . dev](https://stylify.dev/)ğŸ‘‰[dev.to/machy8](https://dev.to/machy8)ğŸ‘‰[medium.com/@8machy](https://medium.com/@8machy)

*æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](https://plainenglish.io/)*ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬å…³äº*[***Twitter***](https://twitter.com/inPlainEngHQ)*å’Œ*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ã€‚åŠ å…¥æˆ‘ä»¬çš„* [***ç¤¾åŒºä¸å’Œè°***](https://discord.gg/GtDtUAvyhW) *ã€‚*