<html>
<head>
<title>5 TypeScript Lessons That Will Pay Off</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将会有回报的5堂打字课</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-typescript-lessons-that-will-pay-off-911d35974c8?source=collection_archive---------10-----------------------#2022-04-18">https://javascript.plainenglish.io/5-typescript-lessons-that-will-pay-off-911d35974c8?source=collection_archive---------10-----------------------#2022-04-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="45c6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你知道第五条吗？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ab003713b9ed4008414a72b28abea0b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmiVEjLFh2ijz3nUGfzseg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by author, icon by <a class="ae kv" href="https://www.flaticon.com/free-icons/bad" rel="noopener ugc nofollow" target="_blank">flaticon</a></figcaption></figure><p id="acb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在https://twitter.com/antondevv<a class="ae kv" href="https://twitter.com/antondevv" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"/></a><strong class="ky ir">通过在Twitter上关注我，保持反应和打字的前沿。</strong></p><p id="5911" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">享受中等？点击<a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir">此处</strong> </a>获取<a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir">对介质的完全访问</strong> </a></p><p id="d334" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将介绍我在TypeScript开发过程中遇到的5个TypeScript课程。所以让我们开始吧！</p><h2 id="6442" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">1.为他人编写类型✅</h2><p id="0697" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我学到的是，你不必为自己编写所有这些额外的代码；它主要面向团队中的其他开发人员，或者您正在从事的涉及多个开发人员的任何项目。</p><p id="ec9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，无论您为类型、接口等选择什么命名约定。，确保遵循最佳实践，并使其他人能够简单地理解这些类型是什么以及它们的用途。</p><p id="dbd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑一个用户对象，你需要为它写一个类型:我是这样做的:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="ea91" class="ls lt iq mr b gy mv mw l mx my">type User = {<br/>email: string;<br/>name: string;<br/>...<br/>}</span></pre><p id="8bf7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此用户类型被命名为<code class="fe mz na nb mr b">User</code>,这表明它是用户的类型。</p><p id="ecba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并确保遵循命名约定等方面的最佳实践。你可以在这里阅读更多关于最佳实践的内容，这通常是我需要查找资料时遵循的。</p><h2 id="5542" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">2.不要凡事都用类型，❌</h2><p id="d947" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">是的，不要不必要地扰乱代码库。</p><p id="96f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">TypeScript为您推断出许多类型，而不要求您指定一个类型，例如:</p><p id="508c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果有返回数字的函数，可以将返回类型设置为数字。然后有一个变量调用函数并得到返回的数字。在这种情况下，您不需要为变量指定类型。考虑下面的例子来理解我的意思:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/28a910869b613e75d8be48e4789496bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*pTcegQjl2eDfBEIbJAjvgQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by author</figcaption></figure><p id="cae2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不需要为这个<code class="fe mz na nb mr b">number</code>变量设置类型，因为默认情况下TypeScript会推断出它。</p><h2 id="38f5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">3.避免类型脚本反模式💀</h2><p id="0767" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">对于TypeScript来说，这些都是非常简单的最佳实践，所以一定要了解它们。让我们来看两个反模式:</p><p id="a8eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"/><code class="fe mz na nb mr b"><strong class="ky ir">any</strong></code><strong class="ky ir">式……</strong></p><p id="611e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我开始学习TypeScript时，我被混淆为fu*k。所以最终发生的情况是，我对大多数事情都使用<code class="fe mz na nb mr b">any</code>，这是一个大❌.</p><p id="4282" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为真的，如果你什么都用<code class="fe mz na nb mr b">any</code>的话，使用TypeScript甚至没有任何好处。TypeScript的要点是在变量和函数中有类型。</p><p id="4787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，确保在创建和设置类型时遵循最佳实践，查找您不知道的类型，查找X case的最佳实践等等。所以与其偷懒写<code class="fe mz na nb mr b">any</code>，不如查查，一开始就做对。</p><p id="3bb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你要使用TypeScript，那么你最好正确地使用它。:D</p><p id="48ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">使用函数类型</strong></p><p id="996b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了变量之外，<code class="fe mz na nb mr b">Function</code>型类似于<code class="fe mz na nb mr b">any</code>。因此，当我们为函数添加类型时，我们应该为参数和返回类型指定数据类型，没有必要仅仅将类型设置为<code class="fe mz na nb mr b">Function</code>。</p><p id="54ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们可以为函数创建一个类型别名，如下所示:</strong></p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="a445" class="ls lt iq mr b gy mv mw l mx my">type toLowerCaseFN = (str: string) =&gt; string</span></pre><p id="03b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">并这样使用:</strong></p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="2f52" class="ls lt iq mr b gy mv mw l mx my">const toLowerCase: toLowerCaseFn = (str) =&gt; str</span></pre><h2 id="4205" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">4.小心点！无效断言❌</h2><p id="c281" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">您以前遇到过这种错误吗？</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="fe67" class="ls lt iq mr b gy mv mw l mx my">Object is possibly 'null'.</span></pre><p id="b14e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这基本上告诉我们，我们试图做一些操作的变量，可能是空的。</p><p id="0d26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这个代码会出现这种情况:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/98455a0e3a2cb75f010b028be860b319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNvpWHh6J4ZCVChXkJsb1A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by author</figcaption></figure><p id="068d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，为了解决这个问题，您可以<em class="ne">告诉TypeScript变量‘str’不能为空，为此，我们可以使用！运算符(非空断言运算符)。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/348599164289a3222d832249fbaa3305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*T4hOBUYnemsVKEWLOZ4A7A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by author</figcaption></figure><p id="e2ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在错误消失了。</p><p id="ee1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，这很好，因为我们已经执行了检查，并且确信<code class="fe mz na nb mr b">str</code>实际上是一个字符串🙂</p><p id="9afe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，空断言操作符应该只在绝对确定变量不能为空或未定义时使用。</p><p id="5a6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果有可能不是这种情况，你必须做一个空检查。</p><p id="d1a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">什么时候<em class="ne">应该</em>使用？:</strong></p><p id="82f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">即使在您执行了空值检查并确定变量不为空或未定义之后，TypeScript编译器仍继续抱怨。但是你真的应该尽量避免。</p><h2 id="25e1" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">5.信任你的朋友编译器；)</h2><p id="074a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">TypeScript编译器可能是一种痛苦…</p><p id="e9ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但在99%的情况下，这是你的错；如果编译器抱怨并拒绝让你做某件事，那很可能是你的错。</p><p id="d555" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一件好事，因为它将帮助您尽早发现错误，甚至不允许您运行代码。</p><p id="cd88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我有一个案例，我为一个客户端构建了一个包含大量逻辑的reducer函数，在多个实例中，它抱怨数据可能为空，我知道做出空断言不是一个好主意。所以我重写了一些代码，walla，没有潜在的问题，代码更好，更干净。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="e83c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ne">你好，如果你想自己体验媒介，请考虑支持我和所有其他作家，注册成为</em> <a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir"> <em class="ne">会员</em> </strong> </a> <em class="ne">每月5美元，以保持独立写作的活力，</em> <a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir"> <em class="ne">在此注册；</em> </strong> </a></p><p id="4a21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了支持他人，Medium还可以通过写作和在此安家的强大、积极参与的社区来支持你。</p><h2 id="a976" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">如果你喜欢这件作品，我希望你也会喜欢:</h2><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/4-killer-ways-to-write-typescript-with-react-6a66b32764f1"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">用React编写打字稿的4种黑仔方法</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">4个黑仔打字稿，带反馈提示+ 1个额外提示</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe kp nq"/></div></div></a></div><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/stop-learning-from-react-tutorials-that-suck-5e2031d9bdc7"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">停止从糟糕的React教程中学习</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">不受欢迎的观点</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="of l ob oc od nz oe kp nq"/></div></div></a></div><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/3-micro-lessons-about-npm-47759d85f18c"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">关于国家预防机制的3节微课</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">你会喜欢第三条。</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="og l ob oc od nz oe kp nq"/></div></div></a></div><div class="nn no gp gr np nq"><a href="https://betterprogramming.pub/callbacks-vs-promises-vs-async-await-a-step-by-step-guide-f93d13447604" rel="noopener  ugc nofollow" target="_blank"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd ir gy z fp nv fr fs nw fu fw ip bi translated">回调vs .承诺vs .异步Await:逐步指南</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">引擎盖下也有点。</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">better编程. pub</p></div></div><div class="nz l"><div class="oh l ob oc od nz oe kp nq"/></div></div></a></div><p id="1db1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ne">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">免费每周简讯</em> </strong> </a> <em class="ne">。关注我们</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">推特</em> </strong> </a> <em class="ne">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ne">LinkedIn</em></strong></a><em class="ne">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ne">社区不和谐</em> </strong> </a> <em class="ne">。</em></strong></a></p></div></div>    
</body>
</html>