<html>
<head>
<title>Improve Mapping Performance In JavaScript By Using Transducers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过使用转换器提高JavaScript中的映射性能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/improve-mapping-performance-in-javascript-by-using-transducers-618696a85cb5?source=collection_archive---------1-----------------------#2022-12-10">https://javascript.plainenglish.io/improve-mapping-performance-in-javascript-by-using-transducers-618696a85cb5?source=collection_archive---------1-----------------------#2022-12-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/bb836fd848163dcef975620b804cd02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Iuvw1TatfcOEX9ep"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Winkler</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7e01" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">传感器是一种将一组数据转换成另一组数据的功能。在函数式编程的上下文中，转换器是一个高阶函数，它接受一个缩减函数，并返回一个在某种程度上更有效的新缩减函数。这对于加速处理大量数据的函数非常有用。</p><p id="390c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">用传感器加速减少功能的一种方法是利用懒惰。这意味着转换器只在需要时对集合的每个元素执行必要的转换，而不是预先对整个集合执行所有转换。这对于减少具有短路行为的函数特别有用，例如<code class="fe ky kz la lb b">takeWhile</code>或<code class="fe ky kz la lb b">find</code>。</p><p id="0985" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">另一种用传感器加速还原功能的方法是使用合成。这意味着转换器由较小的转换器组合而成，每个转换器对集合执行特定的转换。这允许换能器在集合上的单次通过中执行多次变换，降低了缩减函数的总时间复杂度。</p><p id="8655" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">下面是一个传感器的例子，它利用懒惰和合成来加速减少功能:</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="3ca5" class="lk ll in lb b be lm ln l lo lp">const filterMap = pred =&gt; mapFn =&gt; (acc, x) =&gt;<br/>  pred(x) ? mapFn(acc, x) : acc;<br/><br/>const filterMapReducer = filterMap(predicate)(mappingFunction);<br/><br/>const transducedReducer = transduce(<br/>  filterMapReducer,<br/>  reducer,<br/>  initialValue,<br/>  collection<br/>);</span></pre><p id="e392" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这个例子中，<code class="fe ky kz la lb b">filterMap</code>转换器将一个谓词函数和一个映射函数作为参数。它返回一个新的reducing函数，该函数只将映射函数应用于满足谓词的集合元素。这允许换能器跳过不需要变换的元素，从而降低缩减函数的时间复杂度。</p><p id="3975" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">filterMap</code>传感器可以与其他传感器组合，在一次扫描中对集合执行多次转换。例如，您可以使用<code class="fe ky kz la lb b">map</code>和<code class="fe ky kz la lb b">filter</code>传感器以如下方式转换集合:</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="0701" class="lk ll in lb b be lm ln l lo lp">const doubleEvenNumbers = map(x =&gt; x * 2);<br/>const keepPositiveNumbers = filter(x =&gt; x &gt; 0);<br/>const transducer = compose(doubleEvenNumbers, keepPositiveNumbers);<br/>const transducedReducer = transduce(transducer, reducer, initialValue, collection);</span></pre><p id="29a8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这个例子中，<code class="fe ky kz la lb b">transducer</code>是由<code class="fe ky kz la lb b">doubleEvenNumbers</code>和<code class="fe ky kz la lb b">keepPositiveNumbers</code>传感器组成的。它会将集合中的每个偶数加倍，只保留正数，跳过所有其他元素。这允许换能器在集合上的单次通过中执行两种变换，从而降低缩减函数的时间复杂度。</p><p id="f3b7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">总的来说，传感器是一个强大的工具，可以加速处理大量数据的功能。它们允许你利用懒惰和合成来减少减少函数的时间复杂度，使它们更高效和可伸缩。</p><p id="f3fb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">希望这有所帮助！</p><h2 id="1efc" class="lq ll in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">更多内容请访问<a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="0d44" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">报名参加我们的<a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io">免费周报</strong> </a>。关注我们<a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io">推特</strong> </a>，<a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io">LinkedIn</strong></a><strong class="kc io">，</strong><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io">YouTube</strong></a><strong class="kc io">，</strong> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io">不和谐</strong> </a> <strong class="kc io">。</strong></p><h2 id="3d1e" class="lq ll in bd lr ls lt dn lu lv lw dp lx kl ly lz ma kp mb mc md kt me mf mg mh bi translated">想用内容来扩展你的科技创业吗？检查<a class="ae jz" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2><p id="aac5" class="pw-post-body-paragraph ka kb in kc b kd mi kf kg kh mj kj kk kl mk kn ko kp ml kr ks kt mm kv kw kx ig bi translated">我们提供免费的专家建议和定制解决方案，帮助您建立对您的技术产品或服务的认知和采用。</p></div></div>    
</body>
</html>