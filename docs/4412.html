<html>
<head>
<title>How to Convert Seconds to Hours and Minutes in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中将秒转换成小时和分钟</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-convert-seconds-to-minutes-and-hours-5e4ce5920522?source=collection_archive---------10-----------------------#2022-11-30">https://javascript.plainenglish.io/javascript-convert-seconds-to-minutes-and-hours-5e4ce5920522?source=collection_archive---------10-----------------------#2022-11-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a2c779094cd30e5b945e28dc5d9495f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lSL3xreluM50IJt1F9a9cw.png"/></div></div></figure><p id="5d6a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要在JavaScript中将秒转换为小时和分钟:</p><ol class=""><li id="a72b" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">用秒除以60得到总分钟数。输出中的余数将是秒。</li><li id="e5dd" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">用总分钟数除以60得到小时数。结果中的整数将是小时，余数将是输出中的分钟。</li></ol><p id="61d9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="8d00" class="lq lr in lm b be ls lt l lu lv">function toHoursAndMinutes(totalSeconds) {<br/>  const totalMinutes = Math.floor(totalSeconds / 60);<br/><br/>  const seconds = totalSeconds % 60;<br/>  const hours = Math.floor(totalMinutes / 60);<br/>  const minutes = totalMinutes % 60;<br/>  return { h: hours, m: minutes, s: seconds };<br/>}<br/><br/>// { h: 0, m: 1, s: 0 }<br/>console.log(toHoursAndMinutes(60));<br/><br/>// { h: 0, m: 16, s: 40 }<br/>console.log(toHoursAndMinutes(1000));<br/><br/>// { h: 1, m: 10, s: 50 }<br/>console.log(toHoursAndMinutes(4250));</span></pre><p id="a117" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们创建了一个可重用的函数，它使用总秒数，并返回一个包含单独的小时、分钟和秒钟值的对象。</p><p id="09ac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，我们将总秒数除以60，得到总分钟数。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="d2e7" class="lq lr in lm b be ls lt l lu lv">console.log(60 / 60); // 1<br/><br/>console.log(1000 / 60); // 16.666666666666668<br/><br/>console.log(4250 / 60); // 70.83333333333333</span></pre><p id="bd80" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">除法的结果是一个小数，所以我们使用<code class="fe lw lx ly lm b">Math.floor()</code>函数来得到结果的整数。</p><p id="2604" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lm b"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" rel="noopener ugc nofollow" target="_blank">Math.floor()</a></code>返回小于或等于指定数字的最大整数。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="441d" class="lq lr in lm b be ls lt l lu lv">console.log(Math.floor(10.95)); // 10<br/>console.log(Math.floor(10)); // 10<br/>console.log(Math.floor(10.05)); // 10</span></pre><p id="5b8e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这之后，我们使用模运算符(<code class="fe lw lx ly lm b">%</code>)来获得结果中秒的除法余数。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="17b3" class="lq lr in lm b be ls lt l lu lv">console.log(60 % 60); // 0<br/><br/>console.log(1000 % 60); // 40<br/><br/>console.log(4250 % 60); // 50</span></pre><p id="715f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">提示:</strong>如果秒不应该在结果中，跳过这一步。</p><p id="7436" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们都知道60秒构成一分钟，60分钟构成一小时。在获得总分钟数之后，我们做一些类似于我们刚才对总秒数值所做的事情:我们将总分钟数除以60以获得小时数，并使用模运算符获得除法的余数，这将是输出中的分钟数。</p><p id="4f2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">获得所有值后，我们返回一个具有<code class="fe lw lx ly lm b">h</code>、<code class="fe lw lx ly lm b">m</code>和<code class="fe lw lx ly lm b">s</code>属性的对象，分别包含小时、分钟和秒。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="0e41" class="lq lr in lm b be ls lt l lu lv">return { h: hours, m: minutes, s: seconds };</span></pre><h1 id="85e1" class="ma lr in bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">将秒转换为<code class="fe lw lx ly lm b">HH:mm:ss</code></h1><p id="b00e" class="pw-post-body-paragraph jv jw in jx b jy mx ka kb kc my ke kf kg mz ki kj kk na km kn ko nb kq kr ks ig bi translated">您可能希望结果是一个类似于<code class="fe lw lx ly lm b">HH:mm:ss</code>格式的时间字符串，而不是一个对象，其中每个值由冒号分隔，并且字符串中至少有两位数字。下面是我们如何产生这样一个时间字符串。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="35d3" class="lq lr in lm b be ls lt l lu lv">function toTimeString(totalSeconds) {<br/>  const totalMs = totalSeconds * 1000;<br/>  const result = new Date(totalMs).toISOString().slice(11, 19);<br/><br/>  return result;<br/>}<br/><br/>console.log(toTimeString(60)); // 00:01:00<br/><br/>console.log(toTimeString(1000)); // 00:16:40<br/><br/>console.log(toTimeString(4250)); // 01:10:50</span></pre><p id="bf75" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，我们将秒转换为毫秒，将其传递给<code class="fe lw lx ly lm b"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date" rel="noopener ugc nofollow" target="_blank">Date()</a></code>构造函数，并创建一个新的<code class="fe lw lx ly lm b">Date</code>对象。</p><p id="499e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lm b"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString" rel="noopener ugc nofollow" target="_blank">Date</a></code> <a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe lw lx ly lm b"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString" rel="noopener ugc nofollow" target="_blank">toISOString()</a></code>方法以ISO 8601格式返回日期的字符串表示，即<code class="fe lw lx ly lm b">YYYY-MM-DDTHH:mm:ss.sssZ</code></p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="a08e" class="lq lr in lm b be ls lt l lu lv">const totalMs = 60000;<br/><br/>// 1970-01-01T00:01:00.000Z<br/>console.log(new Date(totalMs).toISOString());</span></pre><p id="13aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以看到<code class="fe lw lx ly lm b">toISOString()</code>为我们做了转换。我们只需要一种从ISO字符串中提取<code class="fe lw lx ly lm b">HH:mm:ss</code>的方法。</p><p id="cafd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lm b"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice" rel="noopener ugc nofollow" target="_blank">String slice()</a></code>方法返回指定的开始和结束索引之间的字符串部分，分别作为第一个和第二个参数传递。</p><p id="ae65" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lw lx ly lm b">HH:mm:ss</code>从字符串的索引11开始，到索引18结束。所以为了提取它，我们传递给<code class="fe lw lx ly lm b">slice()</code>或<code class="fe lw lx ly lm b">substring()</code>的值将是<code class="fe lw lx ly lm b">11</code>和<code class="fe lw lx ly lm b">19</code>。</p><p id="c0ff" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">提示:</strong> <code class="fe lw lx ly lm b">19</code>因为<code class="fe lw lx ly lm b">slice()</code>从结果子串中排除了结束索引处的字符。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="5020" class="lq lr in lm b be ls lt l lu lv">// 00:01:00<br/>console.log('1970-01-01T00:01:00.000Z'.slice(11, 19));</span></pre><p id="6fa9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要从结果中排除秒，我们需要将结束索引减少3，以排除冒号和秒的数字。</p><pre class="lh li lj lk gt ll lm ln bn lo lp bi"><span id="f192" class="lq lr in lm b be ls lt l lu lv">// 00:01<br/>console.log('1970-01-01T00:01:00.000Z'.slice(11, 16));</span></pre></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><p id="c5a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nj">原载于</em><a class="ae lz" href="https://cbdev.link/f1c2bb" rel="noopener ugc nofollow" target="_blank"><em class="nj">codingbeautydev.com</em></a></p><h1 id="1c03" class="ma lr in bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy mx ka kb kc my ke kf kg mz ki kj kk na km kn ko nb kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="lh li lj lk gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lz" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p><p id="f4b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nj">更多内容请看</em><a class="ae lz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nj">plain English . io</em></strong></a><em class="nj">。报名参加我们的</em> <a class="ae lz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nj">免费周报</em> </strong> </a> <em class="nj">。关注我们关于</em><a class="ae lz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nj">Twitter</em></strong></a><a class="ae lz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nj">LinkedIn</em></strong></a><em class="nj"/><a class="ae lz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nj">YouTube</em></strong></a><em class="nj"/><a class="ae lz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nj">不和</em> </strong> </a> <em class="nj">。对增长黑客感兴趣？检查</em> <a class="ae lz" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nj">电路</em> </strong> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>