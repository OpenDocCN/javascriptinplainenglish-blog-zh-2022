<html>
<head>
<title>Building a Bullseye Chart in JS: COVID-19 Vaccine Pipeline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建JS中的靶心图:新冠肺炎疫苗管道</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-bullseye-chart-in-js-covid-19-vaccine-pipeline-bd70ff81ba24?source=collection_archive---------16-----------------------#2022-03-25">https://javascript.plainenglish.io/building-a-bullseye-chart-in-js-covid-19-vaccine-pipeline-bd70ff81ba24?source=collection_archive---------16-----------------------#2022-03-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="86df" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何用JavaScript创建牛眼图，并探索新冠肺炎疫苗管道中来自世卫组织的可视化数据。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/cefceddc2d98e189074f68e4a54c7d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s_g1-DgStafV2GfN.png"/></div></div></figure><p id="1888" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">靶心图通过一组同心环可视化数据，广泛用于药物管道和临床试验数据分析。本教程将解释如何用JavaScript创建这种类型的图表。更重要的是，您将看到一个出色的、典型的交互式靶心图实例！</p><p id="e0a0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我从世卫组织的疫苗追踪系统中整理了目前正在进行临床研究的所有新冠肺炎候选疫苗的详细信息。现在，请和我一起在一个基于JS的交互式靶心图中，按照疫苗类型和开发阶段来绘制！</p><h1 id="8466" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">靶心图预览</h1><p id="b882" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">您想知道生成的图表是什么样子吗？下面先睹为快！接下来，您将学习如何构建这个迷人的基于JavaScript的靶心图，该图展示了新冠肺炎疫苗的概况！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mi"><img src="../Images/4fd0c7bece6f2350078a0ec29cab5db4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EFl_hecbCbQ9wfbb.gif"/></div></div></figure><h1 id="4cc6" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">构建JavaScript牛眼图</h1><p id="fb0f" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">使用JavaScript创建牛眼图的过程可以分为四个基本步骤:</p><ol class=""><li id="c333" class="mj mk in kq b kr ks ku kv kx ml lb mm lf mn lj mo mp mq mr bi translated">创建一个HTML页面。</li><li id="3eb1" class="mj mk in kq b kr ms ku mt kx mu lb mv lf mw lj mo mp mq mr bi translated">包括脚本。</li><li id="bba0" class="mj mk in kq b kr ms ku mt kx mu lb mv lf mw lj mo mp mq mr bi translated">连接数据。</li><li id="dc95" class="mj mk in kq b kr ms ku mt kx mu lb mv lf mw lj mo mp mq mr bi translated">做一些JavaScript编码。</li></ol><p id="a128" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，一步一步地检查它在现实中是如何进行的！</p><h2 id="d3a7" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">1.创建基本的HTML页面</h2><p id="fb33" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">我做的第一件事是用一个块级HTML元素(<code class="fe nj nk nl nm b">&lt;div&gt;</code>)创建一个基本的web页面来保存未来的牛眼图。</p><p id="dd1a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了在后面的代码中方便地引用<code class="fe nj nk nl nm b">&lt;div&gt;</code>元素，我为它提供了一个<code class="fe nj nk nl nm b">id</code>值。</p><p id="8a71" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我还将其<code class="fe nj nk nl nm b">height</code>和<code class="fe nj nk nl nm b">width</code>参数设置为100%。因此，我的牛眼图将呈现在整个HTML页面上。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="9dcb" class="mx lm in nm b gy nr ns l nt nu">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Bullseye Chart&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;</span><span id="0a83" class="mx lm in nm b gy nv ns l nt nu">  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="e817" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">2.包括脚本</h2><p id="1ae3" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">现在，我需要引用所有将用于创建我心目中的靶心图的脚本。这将转到页面的<code class="fe nj nk nl nm b">&lt;head&gt;</code>部分。</p><p id="c987" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有许多JavaScript图表库，它们是预先编写的JavaScript代码的集合，旨在促进数据可视化的开发。但是，并不是所有的都支持牛眼图。拥有这种类型图表的其中一个是AnyChart，它对于非商业用途是免费的，并且入门非常简单，所以我决定在本教程中使用它作为例子。</p><p id="9335" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了制作靶心图，我需要库的<a class="ae lk" href="https://docs.anychart.com/Quick_Start/Modules#core" rel="noopener ugc nofollow" target="_blank">核心</a>和<a class="ae lk" href="https://docs.anychart.com/Quick_Start/Modules#polar" rel="noopener ugc nofollow" target="_blank">极地</a>模块。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="c4e9" class="mx lm in nm b gy nr ns l nt nu">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Bullseye Chart&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-polar.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;</span><span id="8d74" class="mx lm in nm b gy nv ns l nt nu">  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="nm io"><em class="nw">      // All the JS bullseye chart code goes here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h2 id="94fe" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">3.连接数据</h2><p id="6718" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">所以。我从世界卫生组织网站的<a class="ae lk" href="https://www.who.int/publications/m/item/draft-landscape-of-covid-19-candidate-vaccines" rel="noopener ugc nofollow" target="_blank">新冠肺炎疫苗跟踪器和景观</a>部分获取疫苗数据，并将其整理成JSON <a class="ae lk" href="https://gist.githubusercontent.com/shacheeswadia/3cc96d8ed792bfa0c04fbd3825816fde/raw/606c2646df568f30bd39dc01fcd4efe6e92b3bac/vaccineData.json" rel="noopener ugc nofollow" target="_blank">文件</a>。</p><p id="f6cf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了加载数据文件，我将使用一个方便的<a class="ae lk" href="https://docs.anychart.com/Working_with_Data/Data_Adapter/Overview" rel="noopener ugc nofollow" target="_blank">数据适配器</a>实用程序。所以我把它和其他脚本一起引用。然后我将简单地使用<code class="fe nj nk nl nm b">data.loadJsonFile</code>函数连接数据集。</p><p id="52ed" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在我们已经有了可视化的持有者页面、脚本和数据，让我来告诉你如何编写一个可爱的交互式JavaScript靶心图！</p><h2 id="edd0" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">4.做一些JS编码</h2><p id="6154" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">虽然靶心图可能看起来很奇特，但是使用JavaScript图表库构建这样的数据可视化并不复杂。我将解释每一个动作，并在代码本身中留下解释性说明。</p><p id="c3f1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，首先，我添加了一个包含所有代码的函数，这确保了它里面的所有内容只有在页面准备好之后才会执行，然后从JSON文件中加载数据。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="23ab" class="mx lm in nm b gy nr ns l nt nu">anychart.onDocumentReady(function () {<br/>  anychart.data.loadJsonFile(    "https://gist.githubusercontent.com/shacheeswadia/3cc96d8ed792bfa0c04fbd3825816fde/raw/606c2646df568f30bd39dc01fcd4efe6e92b3bac/vaccineData.json",<br/>    function (data) {...}<br/>  );<br/>});</span></pre><p id="e8c1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后，我创建了一个极坐标图实例。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="cd82" class="mx lm in nm b gy nr ns l nt nu">var chart = anychart.polar();</span></pre><p id="bca4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我希望我的靶心图在中心有一个洞，所以我设置了内半径。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="4782" class="mx lm in nm b gy nr ns l nt nu">chart.innerRadius(80);</span></pre><p id="e2b2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">接下来，我指定Y量表(用于临床研究阶段)和X量表(用于疫苗类型)作为序号，并定义我希望这些值出现的顺序。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="1a9e" class="mx lm in nm b gy nr ns l nt nu"><strong class="nm io"><em class="nw">// y scale shows phases<br/>// set it as ordinal</em></strong><br/>chart.yScale("ordinal");</span><span id="a3e8" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">// define the order of values on the scale</em></strong><br/>chart<br/>  .yScale()<br/>  .values([<br/>    "Phase 4",<br/>    "Phase 3",<br/>    "Phase 2/3",<br/>    "Phase 1/2",<br/>    "Phase 2",<br/>    "Phase 1",<br/>    "NA"<br/>  ]);</span><span id="3e79" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">// x scale shows vaccine types<br/>// set it as ordinal</em></strong><br/>chart.xScale("ordinal");</span><span id="61f0" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">// define the order of values on the scale</em></strong><br/>chart<br/>  .xScale()<br/>  .values([<br/>    "Bacterial antigen-spore expression vector",<br/>    "DNA based vaccine",<br/>    "Inactivated virus",<br/>    "Live attenuated virus",<br/>    "Protein subunit",<br/>    "RNA based vaccine",<br/>    "Viral vector (Non-replicating)",<br/>    "Viral vector (Non-replicating) + APC",<br/>    "Viral vector (Replicating)",<br/>    "Viral vector (Replicating) + APC",<br/>    "Virus like particle"<br/>  ]);</span></pre><p id="4efb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">之后，我添加了一个函数，该函数将设置具有给定属性的系列，创建一个标记系列(一个标记将代表一种疫苗)，根据剂量数美化要显示的系列名称，设置系列大小、名称、id，最后返回系列。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="1a13" class="mx lm in nm b gy nr ns l nt nu"><strong class="nm io"><em class="nw">// set a series with the given properties</em></strong><br/>function createSeries(seriesId) {<br/><strong class="nm io"><em class="nw">  // create a series</em></strong><br/>  const series = chart.marker();</span><span id="04a4" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">  // the name for display is beautified</em></strong><br/>  const seriesName =<br/>    seriesId +<br/>    (seriesId == "NR" ? "" : seriesId == 1 ? " dose" : " doses");</span><span id="a354" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">  // set the size, name, id </em></strong><br/>  series.size(2).name(seriesName).id(seriesId);</span><span id="4261" class="mx lm in nm b gy nv ns l nt nu">  return series;<br/>}</span></pre><p id="0011" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">接下来，我创建一个函数，它将负责添加带有给定数据的标记序列。首先，我将数据中的剂量数设置为系列ID。然后，我检查这样一个系列是否已经存在，如果不存在，我使用之前配置的函数创建一个具有系列ID的系列。之后，我将数据添加到序列中，并指定<code class="fe nj nk nl nm b">x</code>和<code class="fe nj nk nl nm b">y</code>值，这样疫苗的类型在X刻度上，临床试验阶段在Y刻度上。最后，一旦定义了函数，我就逐点遍历数据集。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="e0b5" class="mx lm in nm b gy nr ns l nt nu"><strong class="nm io"><em class="nw">// add a marker series with the given data<br/></em></strong>function addPoint(item) {<br/><strong class="nm io"><em class="nw">  // the number of doses is a series id<br/></em></strong>  const seriesId = item["Number of doses"];</span><span id="afb1" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">  // check if there is a series like we need<br/></em></strong>  var series = chart.getSeries(seriesId);</span><span id="3340" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">  // if there is no such series we create and configure it<br/></em></strong>  if (series == null) {<br/>    series = createSeries(seriesId);<br/>  }</span><span id="ae5b" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">  // add the data into the series<br/></em></strong>  series<br/>    .data()<br/>    .getDataSets()[0]<br/>    .append({<br/>      x: item["Vaccine platform description"],<br/>      y: item["Phase"],<br/>      ...item<br/>    });<br/>}</span><span id="0438" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">// loop through the dataset<br/>// point by point<br/></em></strong>data.forEach((vaccine) =&gt; addPoint(vaccine));</span></pre><p id="b562" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">由于我在牛眼图中可视化的数据量很大，并且在图的几乎每个部分都有多个点，所以我平均分布标记以避免重叠。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="3ee6" class="mx lm in nm b gy nr ns l nt nu"><strong class="nm io"><em class="nw">// spread bullets throughout a sector<br/></em></strong>chart.spreadValues("valueEqual");</span></pre><p id="f055" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">快好了！我做的最后一件事是添加一个标题，并在容器中绘制最终的靶心图。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="f9c6" class="mx lm in nm b gy nr ns l nt nu"><strong class="nm io"><em class="nw">// set the chart title<br/></em></strong>chart.title("COVID-19 Vaccine Pipeline");</span><span id="dbc0" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">// set the chart container id<br/></em></strong>chart.container("container");</span><span id="88ae" class="mx lm in nm b gy nv ns l nt nu"><strong class="nm io"><em class="nw">// draw the resulting bullseye chart<br/></em></strong>chart.draw();</span></pre><p id="1b45" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就是这样！一个令人惊叹的基于JS的交互式靶心图只需要几行代码就可以完成了！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/4a4eef84718d07ac5abb131102dc9eeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yE6hlVv3SMjDAicQ.png"/></div></div></figure><p id="3489" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">牛眼图显示，目前临床研究中的绝大多数新冠肺炎疫苗属于蛋白质亚单位类型。其中一些已经处于第三阶段，看起来我们可以期待它们中的许多将很快上市。</p><p id="6fbd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个(初始)JavaScript靶心图的交互版本可以在<a class="ae lk" href="https://codepen.io/shacheeswadia/pen/eYeEopd" rel="noopener ugc nofollow" target="_blank"> CodePen </a>和<a class="ae lk" href="https://playground.anychart.com/A70XGZhc" rel="noopener ugc nofollow" target="_blank"> Playground </a>上获得，并带有完整的源代码。</p><h1 id="620f" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">自定义JavaScript牛眼图</h1><p id="0f9c" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">现在，让我向您展示如何添加一些功能和美学上的更改，使这样一个基于JavaScript的牛眼图看起来更好看，更有见地。</p><h2 id="95dd" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">1.修改标记</h2><p id="45da" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">我想先调整一下标记的外观。</p><p id="3ea9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了减少混乱，我把它们都显示为圆圈。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="6361" class="mx lm in nm b gy nr ns l nt nu">chart.markerPalette(["circle"]);</span></pre><p id="2ca5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后我定义一个自定义调色板。由于我的所有系列都是根据剂量数创建的，因此颜色会根据定义的调色板自动更新，其中每个标记的颜色都对应于系列类型。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="422a" class="mx lm in nm b gy nr ns l nt nu">chart.palette([<br/>  "#dce778",<br/>  "#c8e4fb",<br/>  "#35baf6",<br/>  "#ff8b66",<br/>  "#f55d2c",<br/>  "#e7cbeb"<br/>]);</span></pre><h2 id="1b82" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">2.添加图例</h2><p id="a955" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">我根据一个参数给标记着色，所以我最好给靶心图提供一个图例，说明每种颜色代表什么。</p><p id="5d67" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我定义图例并指定其位置、布局和对齐方式。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="b4b5" class="mx lm in nm b gy nr ns l nt nu">let legend = chart.legend();<br/>legend.enabled(true);<br/>legend.position("right");<br/>legend.itemsLayout("vertical");<br/>legend.align("center");</span></pre><p id="7846" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">此外，图例项的类型和大小由负责设置系列的函数决定。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="eef1" class="mx lm in nm b gy nr ns l nt nu">series.legendItem().iconType("circle").iconSize(8);</span></pre><p id="c63e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在<a class="ae lk" href="https://codepen.io/shacheeswadia/pen/eYeEopd" rel="noopener ugc nofollow" target="_blank"> CodePen </a>和<a class="ae lk" href="https://playground.anychart.com/A70XGZhc" rel="noopener ugc nofollow" target="_blank"> Playground </a>上可以获得带有修改标记和图例的新定制的JavaScript牛眼图。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/3528d0cb910c7c2849a071ec4e3f3356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6KghTajWtMYGF4I-.png"/></div></div></figure><h2 id="3ab1" class="mx lm in bd ln my mz dn lr na nb dp lv kx nc nd lx lb ne nf lz lf ng nh mb ni bi translated">3.改进工具提示</h2><p id="16ce" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">数据中有很多关于每种疫苗的信息，我想在工具提示中全部显示出来。这将使我的靶心图更加翔实。</p><p id="b07e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我使阶段出现在工具提示的标题中，并且使用<code class="fe nj nk nl nm b">getData</code>功能，我访问与每个数据点相关联的其他信息并且包括它。</p><pre class="kd ke kf kg gt nn nm no np aw nq bi"><span id="2045" class="mx lm in nm b gy nr ns l nt nu">chart<br/>  .tooltip()<br/>  .titleFormat("{%y}")<br/>  .format(function () {<br/>    return (<br/>      "Type of Vaccine - " +<br/>      this.getData("Type of candidate vaccine ") +<br/>      "\n Doses - " +<br/>      this.getData("Number of doses") +<br/>      "\n Developers - " +<br/>      this.getData("Developers ") +<br/>      "\n Mode of administration - " +<br/>      this.getData("Route of administration") +<br/>      "\n Schedule - " +<br/>      this.getData("Schedule")<br/>    );<br/>  });</span></pre><p id="555d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">瞧。一个迷人的和信息丰富的JavaScript靶心图已经完成了！交互式探索它，并在<a class="ae lk" href="https://codepen.io/shacheeswadia/pen/Bamdbxq" rel="noopener ugc nofollow" target="_blank"> CodePen </a>或<a class="ae lk" href="https://playground.anychart.com/NqbZnt3R/" rel="noopener ugc nofollow" target="_blank">操场</a>上摆弄它的全部代码。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/f1c44d6534a873fa602dbb48e2f267e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YHVAAd32gTgTB9rQ.png"/></div></div></figure><h1 id="9353" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">结论</h1><p id="f322" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">牛眼图类型非常适合按阶段可视化临床研究等数据，现在您可以看到，用JavaScript创建非常简单。如果你有任何问题或建议，请告诉我。</p><p id="91cd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们希望世界能够摆脱致命的病毒和其他感染。但是，当我们到达目的地时，让我们接种疫苗，保持健康，创造一些激动人心的、有用的可视化效果！</p></div><div class="ab cl ny nz hr oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ig ih ii ij ik"><p id="c441" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> <em class="nw">经沙奇·斯瓦迪亚许可发布最初于2022年3月1日出现在</em> </strong> <a class="ae lk" href="https://hackernoon.com/how-to-create-bullseye-charts-with-js-covid-19-vaccine-pipeline" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nw">黑客正午</em> </strong> </a> <strong class="kq io"> <em class="nw">上，标题为“如何用JS创建牛眼图:新冠肺炎疫苗管道”。</em> </strong></p><p id="de30" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> <em class="nw">参见其他</em></strong><a class="ae lk" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nw">JavaScript图表教程</em> </strong> </a> <strong class="kq io"> <em class="nw">。</em> </strong></p><p id="8e8d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nw">联系我们</em> </strong> </a> <strong class="kq io"> <em class="nw">看看你是否有一个很酷的帖子。</em> </strong></p></div><div class="ab cl ny nz hr oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ig ih ii ij ik"><p id="ee96" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nw">原为2022年3月25日在</em><a class="ae lk" href="https://www.anychart.com/blog/2022/03/25/bullseye-chart-js/" rel="noopener ugc nofollow" target="_blank"><em class="nw">https://www.anychart.com</em></a><em class="nw">发表。</em></p><p id="0652" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nw">更多内容请看</em><a class="ae lk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nw">plain English . io</em></strong></a><em class="nw">。报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nw">免费周报</em> </strong> </a> <em class="nw">。关注我们关于</em><a class="ae lk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nw">Twitter</em></strong></a><em class="nw">和</em><a class="ae lk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nw">LinkedIn</em></strong></a><em class="nw">。加入我们的</em><strong class="kq io"><em class="nw"/></strong><a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nw">社区不和谐</em> </strong> </a> <em class="nw">。</em></p></div></div>    
</body>
</html>