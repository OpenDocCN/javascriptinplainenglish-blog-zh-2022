<html>
<head>
<title>How to Create a FlatList in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React Native中创建平面列表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/flatlist-in-react-native-create-your-first-flatlist-step-by-step-with-example-4ee906be451c?source=collection_archive---------3-----------------------#2022-04-16">https://javascript.plainenglish.io/flatlist-in-react-native-create-your-first-flatlist-step-by-step-with-example-4ee906be451c?source=collection_archive---------3-----------------------#2022-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3f59" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在React Native中创建平面列表的分步指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8c5e36dcd750ad066510744a23590042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kmLKm0ZfGZa3KgwpJxl1Hg.png"/></div></div></figure><p id="71e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">嘿大家:)</p><p id="35fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">今天我想用React Native提供的最重要的特性在React Native中创建一个FlatList，所以废话不多说，让我们开始吧！</p><p id="c1e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们创建一个名为<code class="fe ln lo lp lq b">CustomList.tsx</code>的新组件，这个组件将创建并向UI显示我们的列表。在这个项目中，我将在下一条路径<code class="fe ln lo lp lq b">./components/CustomList/CustomList.tsx</code>中找到<code class="fe ln lo lp lq b">CustomList.tsx</code>文件。然后我将创建Home.tsx文件，并将它放在下一个路径:<code class="fe ln lo lp lq b">./screens/Home/Home.tsx</code>。最后，我在<code class="fe ln lo lp lq b">Home.tsx</code>屏幕中导入并使用组件<code class="fe ln lo lp lq b">CustomList.tsx</code>。</p><p id="3c3f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这时的<code class="fe ln lo lp lq b">CustomList.tsx</code>应该是这样的:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="ab43" class="lv lw iq lq b gy lx ly l lz ma">import { FlatList, FlatListProps} from 'react-native'<br/>import React from 'react'<br/></span><span id="8dca" class="lv lw iq lq b gy mb ly l lz ma">const CustomList = () =&gt; {<br/>  return (<br/>    &lt;FlatList /&gt;<br/>  )<br/>}</span><span id="6d31" class="lv lw iq lq b gy mb ly l lz ma">export default CustomList</span></pre><p id="d047" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">Home.tsx</code>应该是这样的:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="dc75" class="lv lw iq lq b gy lx ly l lz ma">import { View } from 'react-native'<br/>import React from 'react'<br/>import CustomList from '../../components/CustomList/CustomList'</span><span id="0de0" class="lv lw iq lq b gy mb ly l lz ma">const Home = () =&gt; {<br/>  return (<br/>  &lt;View style={Style.flex}&gt;<br/>      &lt;Text style={Style.title}&gt;Persons List&lt;/Text&gt;<br/>      &lt;CustomList /&gt;<br/>    &lt;/View&gt;<br/>  )<br/>}</span><span id="4f33" class="lv lw iq lq b gy mb ly l lz ma">export default Home</span></pre><p id="0c0b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">太好了！现在，让我们创建我们的列表，我将创建一个人员数组，其属性为:姓名、年龄、地址、工作。然后，我将在<code class="fe ln lo lp lq b">Home.tsx</code>文件中定位我们的persons数组。</p><p id="fe40" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">Home.tsx</code>应该是这样的:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="2478" class="lv lw iq lq b gy lx ly l lz ma">import { View } from "react-native";<br/>import React from "react";<br/>import CustomList from "../../components/CustomList/CustomList";</span><span id="44e3" class="lv lw iq lq b gy mb ly l lz ma">interface IPerson {<br/>  name: string;<br/>  age: number;<br/>  address: string;<br/>  job: string;<br/>}</span><span id="7d39" class="lv lw iq lq b gy mb ly l lz ma">const Home = () =&gt; {<br/>  const persons: IPerson[] = [<br/>    {<br/>      name: "David John",<br/>      age: 16,<br/>      address: "Peter street",<br/>      job: "React Native Developer",<br/>    },<br/>    {<br/>      name: "Arik berdan",<br/>      age: 17,<br/>      address: "Parker street",<br/>      job: "JavaScript Developer",<br/>    },<br/>    {<br/>      name: "Sofi Zohir",<br/>      age: 18,<br/>      address: "Spiderman street",<br/>      job: "React Native Developer",<br/>    },<br/>  ];<br/>  return (<br/>    &lt;View style={Style.flex}&gt;<br/>      &lt;Text style={Style.title}&gt;Persons List&lt;/Text&gt;<br/>      &lt;CustomList data={persons} /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>};</span><span id="18e7" class="lv lw iq lq b gy mb ly l lz ma">export default Home;</span><span id="fcd9" class="lv lw iq lq b gy mb ly l lz ma">const Style = StyleSheet.create({<br/>  flex: {<br/>    flex: 1,<br/>  },<br/>  title: {<br/>    fontSize: 25,<br/>    fontWeight: "bold",<br/>    textAlign: "center",<br/>    marginTop: 35,<br/>    marginBottom: 10,<br/>  },<br/>});</span></pre><h1 id="c266" class="mc lw iq bd md me mf mg mh mi mj mk ml jw mm jx mn jz mo ka mp kc mq kd mr ms bi translated">所需的道具</h1><h2 id="3233" class="lv lw iq bd md mt mu dn mh mv mw dp ml la mx my mn le mz na mp li nb nc mr nd bi translated">数据</h2><p id="b6fe" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">我们的CustomList组件需要接收列表以将其显示给UI，因此这里我们需要所需的属性数据。我们需要向数据属性提供persons数组。记住，数据属性<strong class="kt ir">的供给值应该总是数组</strong>。</p><p id="b104" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们发送人员数组:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="d6b4" class="lv lw iq lq b gy lx ly l lz ma">import { StyleSheet, Text, View } from "react-native";<br/>import React from "react";<br/>import CustomList from "../../components/CustomList/CustomList";</span><span id="b71d" class="lv lw iq lq b gy mb ly l lz ma">interface IPerson {<br/>  name: string;<br/>  age: number;<br/>  address: string;<br/>  job: string;<br/>}</span><span id="a25d" class="lv lw iq lq b gy mb ly l lz ma">const Home = () =&gt; {<br/>  const persons: IPerson[] = [<br/>    {<br/>      name: "David John",<br/>      age: 16,<br/>      address: "Peter street",<br/>      job: "React Native Developer",<br/>    },<br/>    {<br/>      name: "Arik berdan",<br/>      age: 17,<br/>      address: "Parker street",<br/>      job: "JavaScript Developer",<br/>    },<br/>    {<br/>      name: "Sofi Zohir",<br/>      age: 18,<br/>      address: "Spiderman street",<br/>      job: "React Native Developer",<br/>    },<br/>  ];<br/>  return (<br/>    &lt;View style={Style.flex}&gt;<br/>      &lt;Text style={Style.title}&gt;Persons List&lt;/Text&gt;<br/>      &lt;CustomList <strong class="lq ir">data</strong>={persons} /&gt;<br/>    &lt;/View&gt;<br/>  );<br/>};</span><span id="7fdf" class="lv lw iq lq b gy mb ly l lz ma">export default Home;</span><span id="8533" class="lv lw iq lq b gy mb ly l lz ma">const Style = StyleSheet.create({<br/>  flex: {<br/>    flex: 1,<br/>  },<br/>  title: {<br/>    fontSize: 25,<br/>    fontWeight: "bold",<br/>    textAlign: "center",<br/>    marginTop: 35,<br/>    marginBottom: 10,<br/>  },<br/>});</span></pre><p id="0f25" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们需要接收CustomList组件中的数据:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="5aab" class="lv lw iq lq b gy lx ly l lz ma">import { FlatList, FlatListProps } from "react-native";<br/>import React from "react";<br/>import CustomCard from "../CustomCard/CustomCard";</span><span id="3c6d" class="lv lw iq lq b gy mb ly l lz ma">interface IPerson {<br/>  name: string;<br/>  age: number;<br/>  address: string;<br/>  job: string;<br/>}</span><span id="ae4d" class="lv lw iq lq b gy mb ly l lz ma">interface IProps {<br/>  <strong class="lq ir">data</strong>: IPerson[];<br/>}</span><span id="cdc2" class="lv lw iq lq b gy mb ly l lz ma">const CustomList = ({ <strong class="lq ir">data</strong> }: IProps) =&gt; {<br/>  return (<br/>    &lt;FlatList<br/>      <strong class="lq ir">data={data}</strong><br/>    /&gt;<br/>  );<br/>};</span><span id="418d" class="lv lw iq lq b gy mb ly l lz ma">export default CustomList;</span></pre><h2 id="d23b" class="lv lw iq bd md mt mu dn mh mv mw dp ml la mx my mn le mz na mp li nb nc mr nd bi translated"><code class="fe ln lo lp lq b">renderItem</code></h2><p id="0b43" class="pw-post-body-paragraph kr ks iq kt b ku ne jr kw kx nf ju kz la ng lc ld le nh lg lh li ni lk ll lm ij bi translated">我们的CustomList组件现在在data prop上接收列表，现在我们需要运行数组中的每个元素，并将其显示到UI上。我们现在可以通过使用<code class="fe ln lo lp lq b">renderItem({ item, index, separators })</code>来访问每个元素属性，并从<strong class="kt ir">项</strong>属性中获取姓名、年龄、地址和工作。</p><p id="2280" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为person条目创建一个卡片是可以接受的，通过这样做，我们可以将条目参数(带有属性name、age、address和job)传递给person卡片，并在该卡片上使用条目属性。</p><p id="e3f1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将在route: <code class="fe ln lo lp lq b">/components/CustomCard/CustomCard.tsx</code>中创建一个CustomCard文件。</p><p id="bb44" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">简单个人卡示例:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="374a" class="lv lw iq lq b gy lx ly l lz ma">import { View, Text, StyleSheet } from "react-native";<br/>import React from "react";</span><span id="c692" class="lv lw iq lq b gy mb ly l lz ma">interface IPerson {<br/>  item: {<br/>    name: string;<br/>    age: number;<br/>    address: string;<br/>    job: string;<br/>  };<br/>}<br/>const CustomCard = ({ item }: IPerson) =&gt; {<br/>  return (<br/>    &lt;View style={Style.card}&gt;<br/>      &lt;Text style={Style.row}&gt;Name: {item.name}&lt;/Text&gt;<br/>      &lt;Text style={Style.row}&gt;Age: {item.age}&lt;/Text&gt;<br/>      &lt;Text style={Style.row}&gt;Address: {item.address}&lt;/Text&gt;<br/>      &lt;Text style={Style.row}&gt;Job: {item.job}&lt;/Text&gt;<br/>    &lt;/View&gt;<br/>  );<br/>};</span><span id="f012" class="lv lw iq lq b gy mb ly l lz ma">export default CustomCard;</span><span id="cb0a" class="lv lw iq lq b gy mb ly l lz ma">const Style = StyleSheet.create({<br/>  card: {<br/>    flex: 1,<br/>    justifyContent: "center",<br/>    alignItems: "center",<br/>    flexDirection: "column",<br/>    margin: 10,<br/>    padding: 10,<br/>    borderRadius:1,<br/>    borderWidth:1<br/>  },<br/>  row: {<br/>    textAlign: "center",<br/>    fontSize: 16,<br/>  },<br/>});</span></pre><p id="a3ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我将在自定义列表组件的<code class="fe ln lo lp lq b">renderItem</code>中使用它:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="73b1" class="lv lw iq lq b gy lx ly l lz ma">const CustomList = ({ data }: IProps) =&gt; {<br/>  return (<br/>    &lt;FlatList<br/>      data={data}<br/>      renderItem={({ item }) =&gt; &lt;CustomCard item={item} /&gt;}<br/>    /&gt;<br/>  );<br/>};</span></pre><p id="517b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">到这一步，您应该看到一个人的列表将出现在UI中。</p><p id="db90" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">免费下载完整项目:</p><div class="nj nk gp gr nl nm"><a href="https://github.com/nissimzarur/flatlist-persons" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd ir gy z fp nr fr fs ns fu fw ip bi translated">GitHub-nissimzarur/flat list-人员</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">github.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa kp nm"/></div></div></a></div></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="bfaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">感谢</strong>到目前为止的阅读，如果你喜欢这样的内容，并且你想支持我作为一个程序员和作家来写更多这样的文章，<a class="ae oi" href="https://medium.com/membership/@nissimzarur" rel="noopener"> <strong class="kt ir"> <em class="oj">请用我的链接注册成为Medium的会员(5美元/月订阅)，你将可以无限制地访问Medium上的所有内容。</em> </strong> </a></p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="ed46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="oj">更多内容看</em> <a class="ae oi" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="oj">说白了。报名参加我们的</em> <a class="ae oi" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="oj">免费周报</em> </strong> </a> <em class="oj">。关注我们关于</em><a class="ae oi" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="oj">Twitter</em></strong></a><em class="oj">和</em><a class="ae oi" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="oj">LinkedIn</em></strong></a><em class="oj">。加入我们的</em> <a class="ae oi" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="oj">社区</em> </strong> </a> <em class="oj">。</em></strong></a></p></div></div>    
</body>
</html>