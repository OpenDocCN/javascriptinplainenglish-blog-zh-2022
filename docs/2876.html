<html>
<head>
<title>How to Remove an Element from an Array by ID in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中通过ID从数组中移除元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-remove-element-from-array-by-id-9c548f2aa27b?source=collection_archive---------1-----------------------#2022-07-12">https://javascript.plainenglish.io/javascript-remove-element-from-array-by-id-9c548f2aa27b?source=collection_archive---------1-----------------------#2022-07-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6190" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何在JavaScript中轻松地从数组中移除具有指定ID的对象。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/12a8f5a57e5feb7a061d87825e526e36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y0WG31CZeMxc1tevWGYZ5Q.png"/></div></div></figure><p id="e978" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有时，我们可能会处理一组具有唯一id的对象，这些id允许在其他对象中唯一地标识每个对象。</p><p id="2c29" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="9642" class="lp lq in ll b gy lr ls l lt lu">const arr = [<br/>  { id: 1, name: 'John' },<br/>  { id: 2, name: 'Peter' },<br/>  { id: 3, name: 'Kate' },<br/>];</span></pre><p id="e87e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果我们想从数组中移除一个具有特定ID的对象，该怎么办？在本文中，我们将学习多种方法。</p><h1 id="ddf4" class="lv lq in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">1.数组findIndex()和splice()方法</h1><p id="805b" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">要在JavaScript中通过ID从数组中移除元素，使用<code class="fe mr ms mt ll b">findIndex()</code>方法在数组中查找ID为的对象的索引。然后在数组上调用<code class="fe mr ms mt ll b">splice()</code>方法，传递这个索引和<code class="fe mr ms mt ll b">1</code>作为参数，从数组中移除对象。例如:</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="fe22" class="lp lq in ll b gy lr ls l lt lu">function removeObjectWithId(arr, id) {<br/>  const objWithIdIndex = arr.findIndex((obj) =&gt; obj.id === id);<br/>  arr.splice(objWithIdIndex, 1);</span><span id="66f9" class="lp lq in ll b gy mu ls l lt lu">  return arr;<br/>}</span><span id="01f8" class="lp lq in ll b gy mu ls l lt lu">const arr = [<br/>  { id: 1, name: 'John' },<br/>  { id: 2, name: 'Kate' },<br/>  { id: 3, name: 'Peter' },<br/>];</span><span id="d754" class="lp lq in ll b gy mu ls l lt lu">removeObjectWithId(arr, 2);</span><span id="2986" class="lp lq in ll b gy mu ls l lt lu">// [ { id: 1, name: 'John' }, { id: 3, name: 'Peter' } ]<br/>console.log(arr);</span></pre><p id="c829" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe mr ms mt ll b">Array</code> <code class="fe mr ms mt ll b">findIndex()</code>方法返回数组中通过回调函数指定测试的第一个元素的索引。</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="c3d5" class="lp lq in ll b gy lr ls l lt lu">const arr = [9, 8, 7, 6, 5];</span><span id="e68f" class="lp lq in ll b gy mu ls l lt lu">const index = arr.findIndex((num) =&gt; num === 7);<br/>console.log(index); // 2</span></pre><p id="5a02" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们指定了一个测试，只有当数组中的对象的ID等于指定的ID时，该对象才会通过测试。这使得<code class="fe mr ms mt ll b">findIndex()</code>返回具有该ID的对象的索引。</p><p id="09c0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe mr ms mt ll b">Array</code> <code class="fe mr ms mt ll b">splice()</code>方法通过删除现有元素同时添加新的元素来改变数组的内容。</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="e3c2" class="lp lq in ll b gy lr ls l lt lu">const arr1 = ['a', 'b', 'c'];</span><span id="5675" class="lp lq in ll b gy mu ls l lt lu">// Removing elements<br/>arr1.splice(1, 2);<br/>console.log(arr1); // [ 'a' ]</span><span id="bdf5" class="lp lq in ll b gy mu ls l lt lu">// Removing and adding new elements<br/>const arr2 = ['a', 'b', 'c'];<br/>arr2.splice(1, 2, 'd', 'e');<br/>console.log(arr2); // [ 'a', 'd', 'e' ]</span></pre><p id="9a9a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个方法有三个参数:</p><ol class=""><li id="d914" class="mv mw in kq b kr ks ku kv kx mx lb my lf mz lj na nb nc nd bi translated"><code class="fe mr ms mt ll b">start</code> -开始改变数组的索引。</li><li id="83aa" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated"><code class="fe mr ms mt ll b">deleteCount</code> -要从<code class="fe mr ms mt ll b">start</code>中移除的元素数量</li><li id="73c9" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated"><code class="fe mr ms mt ll b">item1, item2, ...</code> -要添加到数组中的可变数量的元素，从<code class="fe mr ms mt ll b">start</code>开始。</li></ol><p id="c98c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们指定一个<code class="fe mr ms mt ll b">1</code>的<code class="fe mr ms mt ll b">deleteCount</code>和一个<code class="fe mr ms mt ll b">start</code>的目标索引，让<code class="fe mr ms mt ll b">splice()</code>只从数组中移除具有该索引的对象。我们没有指定更多的参数，所以数组中没有添加任何东西。</p><h2 id="4598" class="lp lq in bd lw nj nk dn ma nl nm dp me kx nn no mg lb np nq mi lf nr ns mk nt bi translated">避免副作用</h2><p id="9896" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated"><code class="fe mr ms mt ll b">Array</code> <code class="fe mr ms mt ll b">splice()</code>方法对传递的数组进行变异。这给我们的<code class="fe mr ms mt ll b">removeObjectWithId()</code>函数带来了一个副作用。为了避免修改传递的数组并创建一个纯函数，制作数组的副本并在副本上调用<code class="fe mr ms mt ll b">splice()</code>,而不是原始的</p><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="a0fd" class="lp lq in ll b gy lr ls l lt lu">function removeObjectWithId(arr, id) {<br/>  // Making a copy with the Array from() method<br/>  const arrCopy = Array.from(arr);</span><span id="a365" class="lp lq in ll b gy mu ls l lt lu">  const objWithIdIndex = arrCopy.findIndex((obj) =&gt; obj.id === id);<br/>  arrCopy.splice(objWithIdIndex, 1);<br/>  return arrCopy;<br/>}</span><span id="460f" class="lp lq in ll b gy mu ls l lt lu">const arr = [<br/>  { id: 1, name: 'John' },<br/>  { id: 2, name: 'Kate' },<br/>  { id: 3, name: 'Peter' },<br/>];</span><span id="10b2" class="lp lq in ll b gy mu ls l lt lu">const newArr = removeObjectWithId(arr, 2);</span><span id="cfcd" class="lp lq in ll b gy mu ls l lt lu">// [ { id: 1, name: 'John' }, { id: 3, name: 'Peter' } ]<br/>console.log(newArr);</span><span id="71dd" class="lp lq in ll b gy mu ls l lt lu">// original not modified<br/>/**<br/>[<br/>  { id: 1, name: 'John' },<br/>  { id: 2, name: 'Kate' },<br/>  { id: 3, name: 'Peter' }<br/>]<br/> */<br/>console.log(arr);</span></pre><h2 id="a8ca" class="lp lq in bd lw nj nk dn ma nl nm dp me kx nn no mg lb np nq mi lf nr ns mk nt bi translated">小费</h2><p id="e400" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">不修改外部状态的函数(即纯函数)更容易预测，也更容易推理。这使得限制程序中副作用的数量成为一个好习惯。</p><h1 id="f9f2" class="lv lq in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">2.数组filter()方法</h1><p id="659b" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">我们也可以用<code class="fe mr ms mt ll b">filter()</code>方法通过ID从数组中移除一个元素。我们在数组上调用<code class="fe mr ms mt ll b">filter()</code>,传递一个回调函数，为数组中除了具有指定ID的对象之外的每个元素返回<code class="fe mr ms mt ll b">true</code>。</p><h2 id="8d0e" class="lp lq in bd lw nj nk dn ma nl nm dp me kx nn no mg lb np nq mi lf nr ns mk nt bi translated">例子</h2><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="7d45" class="lp lq in ll b gy lr ls l lt lu">function removeObjectWithId(arr, id) {<br/>  return arr.filter((obj) =&gt; obj.id !== id);<br/>}</span><span id="28f9" class="lp lq in ll b gy mu ls l lt lu">const arr = [<br/>  { id: 1, name: 'John' },<br/>  { id: 2, name: 'Kate' },<br/>  { id: 3, name: 'Peter' },<br/>];</span><span id="deec" class="lp lq in ll b gy mu ls l lt lu">const newArr = removeObjectWithId(arr, 2);</span><span id="f776" class="lp lq in ll b gy mu ls l lt lu">// [ { id: 1, name: 'John' }, { id: 3, name: 'Peter' } ]<br/>console.log(newArr);</span><span id="4c29" class="lp lq in ll b gy mu ls l lt lu">// original not modified<br/>/**<br/>[<br/>  { id: 1, name: 'John' },<br/>  { id: 2, name: 'Kate' },<br/>  { id: 3, name: 'Peter' }<br/>]<br/> */<br/>console.log(arr);</span></pre><p id="1347" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe mr ms mt ll b">Array</code> <code class="fe mr ms mt ll b">filter()</code>方法创建一个新数组，其中填充了通过回调函数指定的测试的元素。它不会修改原始数组。</p><h2 id="a487" class="lp lq in bd lw nj nk dn ma nl nm dp me kx nn no mg lb np nq mi lf nr ns mk nt bi translated">例子</h2><pre class="kd ke kf kg gt lk ll lm ln aw lo bi"><span id="b36a" class="lp lq in ll b gy lr ls l lt lu">const arr = [1, 2, 3, 4];</span><span id="424f" class="lp lq in ll b gy mu ls l lt lu">const filtered = arr.filter((num) =&gt; num &gt; 2);<br/>console.log(filtered); // [ 3, 4 ]</span></pre><p id="dd49" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在我们的示例中，我们设置了一个测试，只有当数组中的对象的<code class="fe mr ms mt ll b">id</code>属性不等于指定的ID时，该对象才会通过测试。这确保了具有指定ID的对象不包含在从<code class="fe mr ms mt ll b">filter()</code>返回的新数组中。</p><p id="6bbc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nu">更新于:</em><a class="ae nv" href="https://cbdev.link/ab2b78" rel="noopener ugc nofollow" target="_blank"><em class="nu">codingbeautydev.com</em></a></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><p id="60c6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您可以在哪里找到我们:</p><p id="1ce7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">🌐<a class="ae nv" href="https://cbdev.link/b621b9" rel="noopener ugc nofollow" target="_blank">网站</a> |🌟推特 |🌟<a class="ae nv" href="http://facebook.com/CodingBeautyDev" rel="noopener ugc nofollow" target="_blank">脸书</a></p></div><div class="ab cl nw nx hr ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ig ih ii ij ik"><h1 id="ef1b" class="lv lq in bd lw lx od lz ma mb oe md me jt of ju mg jw og jx mi jz oh ka mk ml bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph ko kp in kq b kr mm jo kt ku mn jr kw kx mo kz la lb mp ld le lf mq lh li lj ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae nv" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>