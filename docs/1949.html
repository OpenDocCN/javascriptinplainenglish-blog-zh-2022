<html>
<head>
<title>Check if an Object Contains all Keys in an Array in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中检查对象是否包含数组中的所有键</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/check-if-an-object-contains-all-keys-in-array-in-javascript-e7f7056a5d35?source=collection_archive---------12-----------------------#2022-05-02">https://javascript.plainenglish.io/check-if-an-object-contains-all-keys-in-array-in-javascript-e7f7056a5d35?source=collection_archive---------12-----------------------#2022-05-02</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9f9e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于如何在JavaScript中检查一个对象在数组中是否有一组特定的键的指南。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e898655e9605c8cb9ba831929d9da1f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwcTXHUlW98XXZTGYofaXg.png"/></div></div></figure><p id="fbaf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有时在JavaScript中，我们需要一个对象来符合一组特定的键。这可以通过<a class="ae lk" href="https://fjolt.com/category/typescript" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>中的类型强制来实现，但是如果我们想在键不存在的情况下做某些事情，那么我们必须采取不同的方法。</p><p id="a5a6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如，假设我们从一个数组中接收下面的对象，其中<code class="fe ll lm ln lo b">firstName</code>、<code class="fe ll lm ln lo b">lastName</code>和<code class="fe ll lm ln lo b">age</code>都是我们想要完成的操作所需要的。例如:</p><pre class="kd ke kf kg gt lp lo lq lr aw ls bi"><span id="dc29" class="lt lu in lo b gy lv lw l lx ly">let obj = {<br/>    firstName: Jack,<br/>    lastName: Doe,<br/>    age: 123<br/>}</span><span id="d44f" class="lt lu in lo b gy lz lw l lx ly">console.log(`${obj.firstName} ${obj.lastName} is ${obj.age}`);</span></pre><p id="e6e5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果我们在<code class="fe ll lm ln lo b">obj</code>中从一个数组接收数据，我们可以相信这些属性会被提供，但是如果API发生变化，我们可能会面临问题。API的开发者可能决定移除<code class="fe ll lm ln lo b">age</code>或任何其他属性，或者可能将<code class="fe ll lm ln lo b">firstName</code>重命名为<code class="fe ll lm ln lo b">first_name</code>。在<strong class="kq io">最佳</strong>场景中，这将导致键变得未定义。在最坏的情况下，它可能会导致一个错误，使我们的应用程序崩溃。</p><p id="334e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了避免这种情况，我们可以检查对象是否有我们<strong class="kq io">需要的键</strong>。</p><h1 id="de23" class="ma lu in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">如何检查对象是否包含数组中的所有键</h1><p id="a35c" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">这个问题的解决方法用<code class="fe ll lm ln lo b">every()</code>。<code class="fe ll lm ln lo b">every()</code>是一个数组方法，检查数组中的每个元素，并对它们执行逻辑检查。如果都返回true，那么<code class="fe ll lm ln lo b">every()</code>方法返回true。</p><p id="9edd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要检查一个对象是否包含了一个数组中的所有键，我们只需对一个包含了我们想要检查的所有键的数组使用<code class="fe ll lm ln lo b">every()</code>。这样，我们可以从逻辑上检查每个元素是否存在，如果不存在，则执行其他操作，防止我们遇到任何错误:</p><pre class="kd ke kf kg gt lp lo lq lr aw ls bi"><span id="68b6" class="lt lu in lo b gy lv lw l lx ly">let requiredKeys = [ 'firstName', 'lastName', 'age' ]<br/>let obj = {<br/>    firstName: Jack,<br/>    lastName: Doe,<br/>    age: 123<br/>}</span><span id="46d0" class="lt lu in lo b gy lz lw l lx ly">let checkAllKeys = requiredKeys.every((i) =&gt; obj.hasOwnProperty(i));</span><span id="a8a1" class="lt lu in lo b gy lz lw l lx ly">if(checkAllKeys) {<br/>    console.log(`${obj.firstName} ${obj.lastName} is ${obj.age}`);<br/>}<br/>else {<br/>    console.log('The API does not have all the keys required. Please check API and configuration')<br/>}</span></pre><p id="3f46" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这里我们创建了一个<strong class="kq io">必需键</strong> — <code class="fe ll lm ln lo b">firstName</code>、<code class="fe ll lm ln lo b">lastName</code>和<code class="fe ll lm ln lo b">age</code>的数组。然后我们使用<code class="fe ll lm ln lo b">every()</code>遍历数组中的每一项。在<code class="fe ll lm ln lo b">every()</code>中，我们运行一个函数——在这里，<code class="fe ll lm ln lo b">i</code>是正在循环的当前项目。如果<code class="fe ll lm ln lo b">obj</code>具有属性<code class="fe ll lm ln lo b">i</code>，那么<code class="fe ll lm ln lo b">every()</code>将为该特定项目返回true。</p><p id="e280" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果每一项都返回真，那么<code class="fe ll lm ln lo b">every</code>总体返回真。否则，它将返回false。因此，如果<code class="fe ll lm ln lo b">checkAllKeys</code>为真，我们可以确定它拥有我们需要的所有密钥。否则，我们可以做些别的事情——比如console.log错误。</p><p id="0251" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="mw">更多内容看</em> <a class="ae lk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mw">说白了。报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae lk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mw">Twitter</em></strong></a><em class="mw">和</em><a class="ae lk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mw">LinkedIn</em></strong></a><em class="mw">。加入我们的</em> <a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mw">社区</em> </strong> </a> <em class="mw">。</em></strong></a></p></div></div>    
</body>
</html>