<html>
<head>
<title>How To Calculate the Growth Of a Population Using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript计算人口增长</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-calculate-the-growth-of-a-population-in-javascript-6acbaf2dccc7?source=collection_archive---------7-----------------------#2022-12-13">https://javascript.plainenglish.io/how-to-calculate-the-growth-of-a-population-in-javascript-6acbaf2dccc7?source=collection_archive---------7-----------------------#2022-12-13</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><h2 id="6ce3" class="ip iq ir bd b dl is it iu iv iw ix dk iy translated" aria-label="kicker paragraph">毁灭2022</h2><div class=""/><div class=""><h2 id="7411" class="pw-subtitle-paragraph jx ja ir bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">或者如何使用递归函数来代替循环</h2></div><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/fe54425c02330ebcfb1fc40ef40d34da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AEvjquv20zHAv-BPDW0Q9w.jpeg"/></div></div></figure><p id="8a1f" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">今天的问题是关于计算百分比、人口和数列趋势。或者简单的说，如何对一个小镇的人口增长做一个简单的预测？</p><h1 id="8a88" class="lx ly ir bd lz ma mb mc md me mf mg mh kg mi kh mj kj mk kk ml km mm kn mn mo bi translated">问题是:人口的增长</h1><p id="f829" class="pw-post-body-paragraph lb lc ir ld b le mp kb lg lh mq ke lj lk mr lm ln lo ms lq lr ls mt lu lv lw ik bi translated">链接到<a class="ae mu" href="https://www.codewars.com/kata/563b662a59afc2b5120000c6" rel="noopener ugc nofollow" target="_blank">形</a></p><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/8d7c436b48ad84a3d3237cda71ef4d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KPVX1X321Dd0wSFNwX6dHQ.jpeg"/></div></div></figure><p id="5324" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">在一个小镇上，人口在一年的开始时是。人口每年有规律地增长，而且每年都有新的居民来到这个城镇居住。这个城镇需要多少年才能看到它的人口超过或等于<code class="fe mv mw mx my b">p = 1200</code>居民？</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="eb4e" class="nd ly ir my b be ne nf l ng nh">At the end of the first year there will be:<br/>1000 + 1000 * 0.02 + 50 =&gt; 1070 inhabitants<br/><br/>At the end of the 2nd year there will be:<br/>1070 + 1070 * 0.02 + 50 =&gt; 1141 inhabitants<br/><br/>At the end of the 3rd year there will be:<br/>1141 + 1141 * 0.02 + 50 =&gt; 1213<br/><br/>It will need 3 entire years.</span></pre><p id="87c1" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">更一般的给定参数:</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="1b81" class="nd ly ir my b be ne nf l ng nh">p0, percent, aug (inhabitants coming or leaving each year), p (population to equal or surpass)</span></pre><p id="4af9" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">函数<code class="fe mv mw mx my b">nb_year</code>应该返回使人口大于或等于<code class="fe mv mw mx my b">p</code>所需的整年数<code class="fe mv mw mx my b">n</code>。</p><p id="b50b" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><code class="fe mv mw mx my b">aug</code>为整数，<code class="fe mv mw mx my b">percent</code>为正数或空浮点数，<code class="fe mv mw mx my b">p0</code>和<code class="fe mv mw mx my b">p</code>为正整数(<code class="fe mv mw mx my b">&gt; 0</code>)</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="4915" class="nd ly ir my b be ne nf l ni nh">// Examples:<br/>nb_year(1500, 5, 100, 5000); // 15<br/>nb_year(1500000, 2.5, 10000, 2000000); // 10</span></pre><h1 id="e371" class="lx ly ir bd lz ma mb mc md me mf mg mh kg mi kh mj kj mk kk ml km mm kn mn mo bi translated">我的解决方案</h1><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/d22445e861f24b47b6edeed2fbf8497a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q0v1LxehWAGrF13dZXefzA.jpeg"/></div></div></figure><p id="d8f7" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我决定用两种方法解决这个问题。第一个解决方案是最简单的。这是一个<code class="fe mv mw mx my b">while</code>循环，它将迭代直到满足条件。条件是人口大于或等于目标人口。</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="9cc2" class="nd ly ir my b be ne nf l ni nh">export const nbYear = (<br/>  p0: number,<br/>  percent: number,<br/>  aug: number,<br/>  p: number<br/>): number =&gt; {<br/>  let pop = p0;<br/>  let perc = percent / 100;<br/>  let year = 0;<br/>  while (pop &lt; p) {<br/>    pop = pop + pop * perc + aug;<br/>    pop = Math.trunc(pop);<br/>    ++year;<br/>  }<br/>  return year;<br/>};</span></pre><p id="472c" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">最难的一点是把问题理解好。既然说的是人口，数字就必须是整数。写0.25居民没有意义。为此，我必须使用Math.trunc()方法来截断预期人口的数量。</p><p id="59ab" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我可以把同样的函数写得更简洁一点。</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="dde4" class="nd ly ir my b be ne nf l ni nh">function nbYear(p0, percent, aug, p) {<br/>  let year = 0;<br/>  while (p0 &lt; p) {<br/>    p0 = Math.trunc(p0 + (p0 * percent) / 100 + aug);<br/>    ++year;<br/>  }<br/>  return year;<br/>}</span></pre><h2 id="59fd" class="nj ly ir bd lz nk nl dn md nm nn dp mh lk no np mj lo nq nr ml ls ns nt mn ix bi translated">复杂溶液</h2><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/13245ddc46930951e5fb284636614445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hdby11e_-Szzlx3DAJV8Pg.jpeg"/></div></div></figure><p id="8b83" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">第二个解决方案稍微复杂一点。这是一个递归函数，它会调用自己，直到满足条件。条件是人口大于或等于目标人口。</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="28c1" class="nd ly ir my b be ne nf l ni nh">export const nbYear = (<br/>  p0: number,<br/>  percent: number,<br/>  aug: number,<br/>  p: number<br/>): number =&gt; {<br/>  if (p0 &gt;= p) return 0;<br/>  return (<br/>    1 + nbYear(Math.trunc(p0 + p0 * (percent / 100) + aug), percent, aug, p)<br/>  );<br/>};</span></pre><p id="f7f3" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我可以试着把这个函数一分为二，让它更清晰一点。新版本看起来像这样</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="b155" class="nd ly ir my b be ne nf l ni nh">const calculatePop = (p0, percent, aug, p) =&gt;<br/>  Math.trunc(p0 + p0 * (percent / 100) + aug);<br/><br/>function nbYear(p0, percent, aug, p) {<br/>  const annualCount = calculatePop(p0, percent, aug, p);<br/><br/>  if (annualCount &gt;= p) return 1;<br/><br/>  return 1 + nbYear(annualCount, percent, aug, p);<br/>}</span></pre><h1 id="0c69" class="lx ly ir bd lz ma mb mc md me mf mg mh kg mi kh mj kj mk kk ml km mm kn mn mo bi translated">结论</h1><p id="8011" class="pw-post-body-paragraph lb lc ir ld b le mp kb lg lh mq ke lj lk mr lm ln lo ms lq lr ls mt lu lv lw ik bi translated">今天的问题很简单。我决定用两种方法解决。第一个是最简单的，第二个稍微复杂一点。我希望你喜欢它。下一题明天见。</p><p id="710f" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl nu nv hv nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="ob">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae mu" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="ld jb"> <em class="ob">中邮箱列表</em> </strong> </a></p><div class="oc od gq gs oe of"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd jb gz z fq ok fs ft ol fv fx ja bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">el3um4s.medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot kz of"/></div></div></a></div><p id="713b" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><em class="ob">更多内容请看</em><a class="ae mu" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="ob">plain English . io</em></strong></a><em class="ob">。报名参加我们的</em> <a class="ae mu" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="ob">免费周报</em> </strong> </a> <em class="ob">。关注我们关于</em><a class="ae mu" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="ob">Twitter</em></strong></a><a class="ae mu" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="ob">LinkedIn</em></strong></a><em class="ob"/><a class="ae mu" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="ob">YouTube</em></strong></a><em class="ob"/><a class="ae mu" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="ob">不和</em> </strong> </a> <strong class="ld jb"> <em class="ob">。</em>T49】</strong></p><p id="e0ad" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="ob">对缩放您的软件启动感兴趣</em> </strong> <em class="ob">？检查</em> <a class="ae mu" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="ob">电路</em> </strong> </a> <em class="ob">。</em></p></div></div>    
</body>
</html>