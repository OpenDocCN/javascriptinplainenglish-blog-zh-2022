<html>
<head>
<title>Trie — Data Structure For Your Autocomplete</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Trie —用于自动完成的数据结构</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/trie-data-structure-for-your-autocomplete-79f9d37d3dde?source=collection_archive---------3-----------------------#2022-09-24">https://javascript.plainenglish.io/trie-data-structure-for-your-autocomplete-79f9d37d3dde?source=collection_archive---------3-----------------------#2022-09-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/71260044373a890193c67555a3f768e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8xCsX_AK3xUaqDUw"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@kfcrosby?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kevin Crosby</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="acc0" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">介绍</h1><p id="5be7" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">今天我们将关注一个特殊的数据结构，这是我几天前遇到的，它在处理自动完成和部分搜索时非常有效。数据结构的名称是<code class="fe lw lx ly lz b">trie graph</code>阅读更多关于数据结构的信息<a class="ae jz" href="https://en.wikipedia.org/wiki/Trie" rel="noopener ugc nofollow" target="_blank">在这里</a></p><h2 id="eebe" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">用例</h2><p id="46c7" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">让我们来讨论一些实际的东西，它们是这种数据结构的衍生物</p><ul class=""><li id="726c" class="mm mn in la b lb mo lf mp lj mq ln mr lr ms lv mt mu mv mw bi translated">自动完成</li><li id="12de" class="mm mn in la b lb mx lf my lj mz ln na lr nb lv mt mu mv mw bi translated">预测文本</li><li id="b2d1" class="mm mn in la b lb mx lf my lj mz ln na lr nb lv mt mu mv mw bi translated">近似匹配</li></ul><h2 id="98c2" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">定义</h2><p id="9d4c" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">数据结构的名字来源于短语<strong class="la io">的过时拼写，我们搜索单个短语并找到它们的对应关系或我们正在寻找的实际输出</strong></p><p id="2fef" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">数据将以树状的方式存储，其中我们将有一个节点连接到26个节点，每个节点将定义各自的英文字符。我们可以通过添加数字或任何其他字母或<strong class="la io">特殊字符(空格、逗号)</strong>系列作为节点来穷尽列表</p><p id="f8d0" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">例如，如果我们有任何数据集，我们正在寻找一个词来查找，下面是数据将被存储和查找的结构</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/1985478a417624e8cb855232c14a53ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUb_3AvPNRwHoCxmYMQ8_A.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Decision tree example for any string to find. Here “test”</figcaption></figure><h2 id="cf8b" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">时间和空间复杂性</h2><p id="af07" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">线性搜索的传统时间复杂度是O(c ),其中c是字符串中出现的字符总数</p><p id="eb3a" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">在我们的例子中，我们需要找到一些情况的复杂性</p><p id="de9c" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">我们可以使用预取方式，预先创建所有26个节点，也可以在没有正确的值时进行创建</p><p id="83e4" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">为了增加时间复杂度，将为O(N ),其中N是单词中的总字符数。对于搜索，时间复杂度将是O(N ),其中N是单词中的总字符数</p><p id="6551" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">因为我们总是描述每个字符上的节点的大小，所以现在寻找所有来自首字母的组合将与O(N)相同</p><p id="a7be" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">数据结构的空间复杂度是O(m×n ),其中m是总字数，n是平均/最高字数长度</p><h1 id="2c5c" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">编写数据结构</h1><h2 id="9f90" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">结节</h2><p id="ca96" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">在图中，每个元素都是一个节点类的实例，该节点类具有诸如<code class="fe lw lx ly lz b">value</code>、<code class="fe lw lx ly lz b">children</code>和<code class="fe lw lx ly lz b">isEndOfWord</code>的属性</p><p id="540c" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">这就是Node类的样子，可爱又简单。我们将<code class="fe lw lx ly lz b">children</code>保持为Hashmap，它将通过内部的节点实例指向值</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8953a7482fae80f2ac845eff01bed25f.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*7oFfnPCyOApzKo_m8UaL0A.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Node class for trie</figcaption></figure><h2 id="8310" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">特里</h2><p id="b8ff" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">在节点之后，我们需要绘制一个包含方法和一组要处理的节点的类。在它的构造函数中，我们将保留可以指向null的节点的根，其余的我们将基于方法进行配置</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/f9609cb8014765cb8850f433ab5ec9c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*hbf9DL9SVvH4C2sMLHfXBA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Trie class</figcaption></figure><p id="2ba7" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">在构造函数中，我们有一个指向空值的根节点，基于方法，我们将更新堆栈</p><h2 id="d214" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">插入Trie</h2><p id="f2d7" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">要在Trie中插入一个单词，我们需要遍历根节点中的每个元素，然后转到我们想要添加子节点的节点，如果我们没有找到任何节点，那么我们将在运行时创建它</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nm"><img src="../Images/711025c032bbfb0988119c885bf05375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SoOzlqCAKQozut03FAI-Ew.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">add-method for Trie</figcaption></figure><h2 id="cfa8" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">在Trie中查找所有项目</h2><p id="7059" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">现在，我们已经完成了插入功能，我们可以通过创建find方法来检查是否添加了所有内容。在这里，我使用回溯和<code class="fe lw lx ly lz b">isEndOfWord</code>键来检查我们是否在保持当前短语追加的同时对结尾做出了反应</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nn"><img src="../Images/ff9dc2792ccaf74db477d936bcc8a22b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F4gSURdP9AWngZHwb0ir5w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">find all method implementation</figcaption></figure><h2 id="94b6" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">建议</h2><p id="ffb3" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">在我们完成了添加和查找的基本操作后，我们现在可以建议一个方法来获取当前短语并返回下一个可能的条目</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div class="gh gi no"><img src="../Images/0e689f8c3b06b9447a2cf6761eee6ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*_qMsTiSICiL-mUmQMo0rPg.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">suggest method implementation</figcaption></figure><p id="02b2" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">查找建议只需要2个步骤，第一步是到达选定的或当前的节点，并使用我们之前为新节点创建的findAll方法</p><h2 id="9600" class="ma kb in bd kc mb mc dn kg md me dp kk lj mf mg ko ln mh mi ks lr mj mk kw ml bi translated">测试</h2><p id="63f4" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">现在，我们已经了解了一切，让我们看看事情是否按预期进行。我们将一些条目添加到Trie中，然后用一个关键字获取所有后跟建议的条目</p><figure class="ng nh ni nj gt jo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/960cad38361255d50c6b211d77386a96.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*OfzFT9DhhVAs2Z7rFp4tFw.png"/></div></figure><p id="c2e8" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">以下程序的输出将是</p><pre class="ng nh ni nj gt nq lz nr ns aw nt bi"><span id="be71" class="ma kb in lz b gy nu nv l nw nx">findAll - (4) ['ace', 'ant', 'car', 'cat']</span><span id="d849" class="ma kb in lz b gy ny nv l nw nx">suggest - (2) ['car', 'cat']</span></pre><h1 id="842a" class="ka kb in bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">结论</h1><p id="74fc" class="pw-post-body-paragraph ky kz in la b lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv ig bi translated">当你知道要搜索什么前缀时，数据结构是有用的。比如搜索<code class="fe lw lx ly lz b">services</code>如果先知道<code class="fe lw lx ly lz b">serv</code>会更好。一个常规的数组可以完成这项工作，但是数组的时间复杂度是(n×m ),因为我们需要将每个字符串与一个关键字进行匹配，然后返回建议</p><p id="da95" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated">你可以在这里找到源代码<a class="ae jz" href="https://github.com/Piyush-Use-Personal/trie-data-structure" rel="noopener ugc nofollow" target="_blank">，我希望你能找到新的东西来学习。编码快乐！</a></p><p id="5076" class="pw-post-body-paragraph ky kz in la b lb mo ld le lf mp lh li lj nc ll lm ln nd lp lq lr ne lt lu lv ig bi translated"><em class="nz">更多内容请看</em><a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="nz">plain English . io</em></strong></a><em class="nz">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la io"> <em class="nz">免费周报</em> </strong> </a> <em class="nz">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="nz">Twitter</em></strong></a><a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="nz">LinkedIn</em></strong></a><strong class="la io"><em class="nz"/></strong><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="nz">YouTube</em></strong></a><strong class="la io"><em class="nz">，以及</em></strong><em class="nz"/><a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="la io"><em class="nz">不和</em> </strong> </a>T55】</p></div></div>    
</body>
</html>