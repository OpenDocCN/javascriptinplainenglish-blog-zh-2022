<html>
<head>
<title>JavaScript Ordinals: Adding st, nd, rd, and th Suffixes to a Number</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Ordinals:向数字添加st、nd、rd和th后缀</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-ordinals-adding-st-nd-rd-and-th-suffixes-to-a-number-dfa87631afd4?source=collection_archive---------13-----------------------#2022-11-08">https://javascript.plainenglish.io/javascript-ordinals-adding-st-nd-rd-and-th-suffixes-to-a-number-dfa87631afd4?source=collection_archive---------13-----------------------#2022-11-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="240c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">当我们给一个数字添加序号后缀时，它会因国家、语言和地区而异。让我们来看一种可靠地实现这一点的方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ec2e053a366957034f612cfc19b82d6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HzLnZeHCRIsKwj4t40y8ew.png"/></div></div></figure><p id="8a06" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在Javascript中，使用绝对数字通常被认为是最佳实践，因为<code class="fe ln lo lp lq b">number</code>是一个已定义的类型。然而，当在用户界面中表达这些数字时，我们更有可能希望用不同的方式来表达它们。例如，假设我有下面的数字列表。我想仍然将它们存储为数字，但是在向用户显示它们时添加<code class="fe ln lo lp lq b">nd</code>、<code class="fe ln lo lp lq b">st</code>、<code class="fe ln lo lp lq b">rd</code>或<code class="fe ln lo lp lq b">th</code>:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="c205" class="lv lw iq lq b gy lx ly l lz ma">let x = [ 1, 13, 22, 100, 1204, 133 ];</span></pre><p id="b90f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，我可以手动完成这项工作，并存储特定前缀的每个数字，或者定义自定义规则，但这有点麻烦——如果我需要支持多种语言呢？虽然在英语中我们用<code class="fe ln lo lp lq b">3rd</code>来表示<code class="fe ln lo lp lq b">3rd</code>地点，但在其他语言中可能不一样。</p><p id="6df1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">幸运的是，Javascript中有一个解决方案——使用<code class="fe ln lo lp lq b">Intl.PluralRules</code>。这将基于区域设置定义多个规则:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="419f" class="lv lw iq lq b gy lx ly l lz ma">let plurals = Intl.PluralRules();<br/>let x = plurals.select(0) // Returns "other"<br/>let y = plurals.select(1) // Returns "one"<br/>let z = plurals.select(2) // Returns "other"</span></pre><p id="874e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">默认情况下，<code class="fe ln lo lp lq b">PluralRules</code>被配置为<code class="fe ln lo lp lq b">cardinal</code>，这意味着任何大于1的都被认为是复数。上面，你可以看到，<code class="fe ln lo lp lq b">PluralRules</code>让我们区分一个数是不是复数。</p><p id="7a12" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们将它设置为<code class="fe ln lo lp lq b">ordinal</code>时，事情变得更加有趣，这考虑到了我们使用数字的方式。在这里，它将告诉我们如何处理每个数字的语言特定规则——因此我们可以做像<code class="fe ln lo lp lq b">2nd</code>、<code class="fe ln lo lp lq b">3rd</code>和<code class="fe ln lo lp lq b">4th</code>这样的事情</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="2ae4" class="lv lw iq lq b gy lx ly l lz ma">const plurals = new Intl.PluralRules('en-US', { type: 'ordinal' });<br/>let a = plurals.select(0); // Returns "other"<br/>let b = plurals.select(1); // Returns "one"<br/>let c = plurals.select(2); // Returns "two"<br/>let d = plurals.select(3); // Returns "few"<br/>let e = plurals.select(4); // Returns "other"</span></pre><p id="3018" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们可以根据地区定制输出，这样我们就不会遇到奇怪的问题。这里，我们使用<code class="fe ln lo lp lq b">en-US</code>，但是任何其他有效的语言环境也可以。要将我们的编号映射到<code class="fe ln lo lp lq b">1st</code>、<code class="fe ln lo lp lq b">2nd</code>、<code class="fe ln lo lp lq b">3rd</code>等，我们只需创建如下映射:</p><pre class="kg kh ki kj gt lr lq ls lt aw lu bi"><span id="a094" class="lv lw iq lq b gy lx ly l lz ma">let x = [ 1, 13, 22, 100, 1204, 133 ];</span><span id="79b1" class="lv lw iq lq b gy mb ly l lz ma">const plurals = new Intl.PluralRules('en-US', { type: 'ordinal' });</span><span id="21c1" class="lv lw iq lq b gy mb ly l lz ma">let pluralMapping = {<br/>    "one" : "st",<br/>    "two" : "nd",<br/>    "few" : "rd",<br/>    "other" : "th"<br/>}</span><span id="6a38" class="lv lw iq lq b gy mb ly l lz ma">let y = [];<br/>x.forEach((item) =&gt; {<br/>    let getPlural = plurals.select(item);<br/>    let pluralEnding = pluralMapping[getPlural]<br/>    y.push(`${item}${pluralEnding}`)<br/>})</span><span id="0546" class="lv lw iq lq b gy mb ly l lz ma">console.log(y); // ['1st', '13th', '22nd', '100th', '1204th', '133rd']</span></pre><p id="7554" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mc">更多内容请看</em><a class="ae md" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mc">plain English . io</em></strong></a><em class="mc">。报名参加我们的</em> <a class="ae md" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mc">免费周报</em> </strong> </a> <em class="mc">。关注我们关于</em><a class="ae md" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mc">Twitter</em></strong></a><a class="ae md" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mc">LinkedIn</em></strong></a><em class="mc"/><a class="ae md" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mc">YouTube</em></strong></a><em class="mc"/><a class="ae md" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mc">不和</em> </strong> </a> <em class="mc">。对增长黑客感兴趣？检查</em> <a class="ae md" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mc">电路</em> </strong> </a> <em class="mc">。</em></p></div></div>    
</body>
</html>