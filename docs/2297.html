<html>
<head>
<title>How to Loop for x Times with JavaScript without Using a Mutable Variable?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在不使用可变变量的情况下用JavaScript循环x次？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-loop-for-x-times-with-javascript-without-using-a-mutable-variable-d855cf5f7f56?source=collection_archive---------1-----------------------#2022-05-28">https://javascript.plainenglish.io/how-to-loop-for-x-times-with-javascript-without-using-a-mutable-variable-d855cf5f7f56?source=collection_archive---------1-----------------------#2022-05-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b6ec656aa8f8f8a68833a0fbdab428eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Bh7TVo4CRK2224uH"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jentheodore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jen Theodore</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="817b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们想用JavaScript重复运行代码<code class="fe lb lc ld le b">x</code>次，而不使用可变变量。</p><p id="f44a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何在不使用可变变量的情况下用JavaScript重复运行代码<code class="fe lb lc ld le b">x</code>次。</p><h1 id="3217" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用数组构造函数、扩展运算符和Array.prototype.map</h1><p id="df76" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以用<code class="fe lb lc ld le b">Array</code>构造函数创建一个长度为<code class="fe lb lc ld le b">x</code>的数组，然后调用<code class="fe lb lc ld le b">map</code>方法返回我们想要的结果。</p><p id="08c2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="d88f" class="mq lg iq le b gy mr ms l mt mu">const res = [...Array(10)].map((_, i) =&gt; {<br/>  return i * 10;<br/>});<br/>console.log(res)</span></pre><p id="8a70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe lb lc ld le b">Array(10)</code>创建一个有10个空槽的数组。</p><p id="5491" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们将它扩展到一个新的数组中，然后我们调用<code class="fe lb lc ld le b">map</code>来返回数组中我们想要的元素。</p><p id="6b9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们得到索引<code class="fe lb lc ld le b">i</code>，乘以10并返回。</p><p id="92cc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe lb lc ld le b">res</code>是:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="c040" class="mq lg iq le b gy mr ms l mt mu">[0, 10, 20, 30, 40, 50, 60, 70, 80, 90]</span></pre><h1 id="e916" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用数组构造函数、扩展运算符和Array.prototype.forEach</h1><p id="98d0" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">如果我们不想在重复运行我们的代码后返回一个新的数组，我们也可以在空数组上调用<code class="fe lb lc ld le b">forEach</code>方法来代替<code class="fe lb lc ld le b">map</code>。</p><p id="dbfd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="941f" class="mq lg iq le b gy mr ms l mt mu">[...Array(10)].forEach((_, i) =&gt; {<br/>  console.log(i);<br/>});</span></pre><p id="6157" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们只是在<code class="fe lb lc ld le b">forEach</code>回调中记录索引<code class="fe lb lc ld le b">i</code>的值。</p><p id="b208" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我们从控制台日志中记录了0、1、2……一直到9。</p><h1 id="32a0" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用Array.from方法</h1><p id="1e0d" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们也可以使用<code class="fe lb lc ld le b">Array.from</code>方法创建一个空数组，然后使用<code class="fe lb lc ld le b">Array.prototype.map</code>将空数组映射成我们想要的值数组。</p><p id="5bd7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9fc2" class="mq lg iq le b gy mr ms l mt mu">const res = Array.from(Array(10)).map((_, i) =&gt; {<br/>  return i * 10;<br/>});<br/>console.log(res)</span></pre><p id="c205" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到和第一个例子一样的结果。</p><h1 id="b11a" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">结论</h1><p id="8249" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">我们可以重复运行代码<code class="fe lb lc ld le b">x</code>次，而不用用JavaScript数组方法和spread操作符创建一个带有可变索引变量的循环。</p><p id="c6d9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a><em class="mv">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们关于</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">Twitter</em></strong></a><em class="mv">和</em><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">LinkedIn</em></strong></a><em class="mv">。加入我们的</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">社区不和谐</em> </strong> </a> <em class="mv">。</em></p></div></div>    
</body>
</html>