<html>
<head>
<title>JavaScript Spread and Rest Operators: When to Use Them</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Spread和Rest操作符:何时使用它们</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-spread-and-rest-operators-when-to-use-them-1d20f43f4a87?source=collection_archive---------5-----------------------#2022-01-20">https://javascript.plainenglish.io/javascript-spread-and-rest-operators-when-to-use-them-1d20f43f4a87?source=collection_archive---------5-----------------------#2022-01-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f37c" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">何时以及如何使用JavaScript Spread和Rest操作符。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/b3db3b576fc9cf8c3bb65b1873c5494b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9NsqHXI1JtvJtbJk"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e14d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我花了很长时间才听说spread和rest操作符。作为三个句号字符，<code class="fe lp lq lr ls b">...</code>spread和rest运算符在使用时看起来相同，但它们的用法却大不相同。从某种意义上说，它们是对立的。</p><p id="7f45" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">当一个数组的所有元素都需要“展开”到一个列表中时，使用spread运算符。</strong></p><p id="773b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">rest操作符用于收集多个元素，并将它们压缩成一个数组。</strong></p><p id="a27f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们深入了解如何使用它们。</p><h1 id="7069" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">传播算子</h1><p id="7a94" class="pw-post-body-paragraph kt ku in kv b kw ml jo ky kz mm jr lb lc mn le lf lg mo li lj lk mp lm ln lo ig bi translated">扩展运算符可用于在需要传递多个参数的地方扩展数组，如函数或另一个数组。其用途可能是以下任何一种:</p><h2 id="9e81" class="mq lu in bd lv mr ms dn lz mt mu dp md lc mv mw mf lg mx my mh lk mz na mj nb bi translated">传递给函数</h2><p id="20a2" class="pw-post-body-paragraph kt ku in kv b kw ml jo ky kz mm jr lb lc mn le lf lg mo li lj lk mp lm ln lo ig bi translated">给定一个函数<code class="fe lp lq lr ls b">function doStuff(x, y, z) { }</code>，我们通常会用三个独立的变量或值来调用它，比如<code class="fe lp lq lr ls b">doStuff(1, 2, myVar)</code>。</p><p id="30fa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们假设我们有一个数组<code class="fe lp lq lr ls b">let myVals = [1, 2, 3]</code>。通过使用spread操作符:<code class="fe lp lq lr ls b">doStuff(...myVals)</code>，我们可以将数组中的每个元素作为单独的参数传递给上面的函数。</p><p id="b4d9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们甚至可以多次使用spread操作符。给定一个函数<code class="fe lp lq lr ls b">function doComplicatedStuff(a, b, c, d, e, f) {}</code>，使用spread操作符，我们可以像这样调用它:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="9ee4" class="mq lu in ls b gy ng nh l ni nj">let myVars = [2, 3];<br/>doComplicatedStuff(1, ...myVars, ...myVars, 6);</span></pre><p id="d245" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的例子中，<code class="fe lp lq lr ls b">myVars</code>被传递给参数b和c，然后再次被传递给参数d和e。</p><p id="3687" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于对象构造函数，我们可以类似地使用spread运算符:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="72ce" class="mq lu in ls b gy ng nh l ni nj">let dateFields = [1970, 0, 1];  // 1 Jan 1970<br/>let d = new Date(...dateFields);</span></pre><h2 id="ce87" class="mq lu in bd lv mr ms dn lz mt mu dp md lc mv mw mf lg mx my mh lk mz na mj nb bi translated">复制和连接数组</h2><p id="9351" class="pw-post-body-paragraph kt ku in kv b kw ml jo ky kz mm jr lb lc mn le lf lg mo li lj lk mp lm ln lo ig bi translated">在学习spread操作符之前，我将使用<code class="fe lp lq lr ls b">slice()</code>函数复制数组，该函数对给定数组的一部分执行浅层复制。使用spread，我们可以执行数组的浅层复制，如下所示:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="1254" class="mq lu in ls b gy ng nh l ni nj">let arr = ["milk", "eggs", "cheese"];<br/>let clonedArr = [...arr];<br/>// clonedArr is now a copy of arr</span></pre><p id="9551" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现有数组也可以“注入”到新的数组文字中:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="7c1e" class="mq lu in ls b gy ng nh l ni nj">let arr = ["milk", "eggs", "cheese"];<br/>let newArr = ["ham", ...arr, "butter"];</span></pre><p id="9b73" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它们也可以连接在一起:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="7f89" class="mq lu in ls b gy ng nh l ni nj">let list1 = ["milk", "eggs", "cheese"];<br/>let list2 = ["ham", "butter"];<br/>let combinedList = [...list1, ...list2];<br/>// combinedList now equals ["milk", "eggs", "cheese", "ham", "butter"]</span></pre><p id="448b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">警告:<br/>因此，它不应该用于多维数组。</strong></p><h2 id="f4c8" class="mq lu in bd lv mr ms dn lz mt mu dp md lc mv mw mf lg mx my mh lk mz na mj nb bi translated">复制和修改对象文字</h2><p id="2cd9" class="pw-post-body-paragraph kt ku in kv b kw ml jo ky kz mm jr lb lc mn le lf lg mo li lj lk mp lm ln lo ig bi translated">与spread运算符在数组上的使用方式类似，它们也可以在对象的可枚举属性上使用。要克隆对象:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="52d8" class="mq lu in ls b gy ng nh l ni nj">let obj1 = {a: "thing", b: 39};<br/>let obj2 = {...obj1};<br/>// obj2 = obj1</span></pre><p id="3996" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">要合并对象:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="8080" class="mq lu in ls b gy ng nh l ni nj">let obj1 = {a: "thing", b: 39};<br/>let obj2 = {c: "second thing", d: 60};<br/>let mergedObj = {...obj1, ...obj2};</span></pre><p id="6cca" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是，请注意，合并对象集合中最后一个要合并的对象优先于共享属性。也就是说，共享属性<code class="fe lp lq lr ls b">a</code>的两个对象的值<code class="fe lp lq lr ls b">a</code>将等于两个合并对象中的第二个。就像:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="426a" class="mq lu in ls b gy ng nh l ni nj">let obj1 = {a: "thing", b: 39};<br/>let obj2 = {a: "second thing", d: 60};<br/>let mergedObj = {...obj1, ...obj2};<br/>// mergedObj now equals {a: "second thing", b: 39, d: 60}</span></pre><h1 id="c218" class="lt lu in bd lv lw lx ly lz ma mb mc md jt me ju mf jw mg jx mh jz mi ka mj mk bi translated">Rest运算符</h1><p id="d661" class="pw-post-body-paragraph kt ku in kv b kw ml jo ky kz mm jr lb lc mn le lf lg mo li lj lk mp lm ln lo ig bi translated">一旦我们理解了spread操作符，我们可以看到rest操作符有点像相反的情况。然而，与spread操作符不同，rest操作符只用于一个目的:<strong class="kv io">给函数一个不确定或可变数量的输入参数</strong>。</p><p id="ba28" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">考虑以下函数及其调用:</p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="40b7" class="mq lu in ls b gy ng nh l ni nj">function doThings(a,  b, ...others) { <br/>   console.log(others);<br/>}<br/><br/>doThings("one", "two", "three", "four", "five", "six");<br/>// Output: "['three', 'four', 'five', 'six']"</span></pre><p id="f886" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe lp lq lr ls b">doThings</code>函数可以用我们想要的两个或多个参数来调用。第一个传递的参数将被赋给<code class="fe lp lq lr ls b">a</code>，第二个被赋给<code class="fe lp lq lr ls b">b</code>，其他的都将被组合成一个数组。如果没有传递额外的参数，那么<code class="fe lp lq lr ls b">others</code>将是一个空数组。</p><p id="1def" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">重要的是要知道rest操作符在函数定义中只能使用一次，而且只能用于最后一个参数。因此，以下两个例子都是<strong class="kv io">不正确的:</strong></p><pre class="kd ke kf kg gt nc ls nd ne aw nf bi"><span id="7d22" class="mq lu in ls b gy ng nh l ni nj">function doThings(...a, b, ...c) { // stuff }<br/>// <strong class="ls io">Incorrect because it has two rest parameters</strong></span><span id="8edc" class="mq lu in ls b gy nk nh l ni nj"><br/>function doThings(a, ...b, c) { // stuff }<br/>// <strong class="ls io">Incorrect because the rest parameter is not the last parameter</strong></span></pre><p id="83c3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">注意，rest参数和<code class="fe lp lq lr ls b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments" rel="noopener ugc nofollow" target="_blank">arguments</a></code>对象不是一回事。<code class="fe lp lq lr ls b">arguments</code>对象不是真正的数组，而其余的参数是。此外，<code class="fe lp lq lr ls b">arguments</code>对象包含传递给函数的所有<strong class="kv io">参数，而rest参数只包含传递给rest参数本身的参数。</strong></p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="05b9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">既然我已经研究了这两个多才多艺的操作符，我已经开始在我的项目中使用它们，我希望你也能这样做。</p><h2 id="e660" class="mq lu in bd lv mr ms dn lz mt mu dp md lc mv mw mf lg mx my mh lk mz na mj nb bi translated">额外阅读:</h2><div class="ns nt gp gr nu nv"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd io gy z fp oa fr fs ob fu fw im bi translated">Rest参数- JavaScript | MDN</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">rest参数语法允许函数接受不确定数量的参数作为数组，提供了一种方法…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">developer.mozilla.org</p></div></div><div class="oe l"><div class="of l og oh oi oe oj km nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd io gy z fp oa fr fs ob fu fw im bi translated">扩展语法(...)- JavaScript | MDN</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">扩展语法(...)允许诸如数组表达式或字符串的可迭代对象在零或…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">developer.mozilla.org</p></div></div><div class="oe l"><div class="ok l og oh oi oe oj km nv"/></div></div></a></div><p id="b429" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ol">更多内容请看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ol">说白了。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ol">免费周报</em> </strong> </a> <em class="ol">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ol">社区不和谐</em> </strong> </a> <em class="ol">获得独家获取写作机会和建议。</em></strong></a></p></div></div>    
</body>
</html>