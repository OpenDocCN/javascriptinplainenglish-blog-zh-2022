<html>
<head>
<title>How I Built a Music Player Using React to Showcase My Own Tracks 🎵😍</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何使用React构建一个音乐播放器来展示我自己的曲目🎵😍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-i-built-a-music-player-using-react-to-showcase-my-own-tracks-6ffb93c9cca2?source=collection_archive---------12-----------------------#2022-05-17">https://javascript.plainenglish.io/how-i-built-a-music-player-using-react-to-showcase-my-own-tracks-6ffb93c9cca2?source=collection_archive---------12-----------------------#2022-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0381" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用React从头开始构建音乐播放器应用程序的全面指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fc68f95fb0d7857791cb36fe879df8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ell0IsIJPX_euneW.jpg"/></div></div></figure><p id="43b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不久前，我建立了自己的<a class="ae ln" href="https://madza.dev" rel="noopener ugc nofollow" target="_blank">作品集</a>，并编写了一个定制的<a class="ae ln" href="https://www.madza.dev/music" rel="noopener ugc nofollow" target="_blank">音频播放器</a>来展示我的曲目。从那以后，相当多的人对它的技术实现感兴趣。我总是回答说，我可能会为它写一篇完整的教程，但严格的截止日期从未设定。</p><p id="a7a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2022年4月，我看到一个由<a class="ae ln" href="https://hashnode.com" rel="noopener ugc nofollow" target="_blank"> Hashnode </a>宣布的<a class="ae ln" href="https://townhall.hashnode.com/the-epic-hashnode-writeathon?source=hashnode_feed" rel="noopener ugc nofollow" target="_blank">写作马拉松</a>，其中一个入口类别是Web应用。我知道这是一个进入并最终完成工作的绝佳机会。我很高兴我偶然发现了它，因为它真的激励了我。</p><p id="47ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这篇文章不仅对你将获得的实际最终结果有益，而且对那些希望转行到应用程序开发或探索React生态系统的人也有教育意义，原因如下:</p><ol class=""><li id="28c9" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">我将展示完整的应用程序创建周期，从功能规划、线框图和设计，到创建组件、实现逻辑、增加响应能力和部署应用程序。</li><li id="2340" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">它将教你如何在React中思考，例如，当从普通JavaScript转换时，这是一个相当大的转变。您将学习如何设置和构建React app，以及该库的一些最佳实践和思维模式。</li></ol><p id="732c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是我的作品集中音乐播放器的部署预览和使用，让您了解我们将在本教程中构建的内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/702cf3d9c1f4b3740954dcc6190ed22e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lgfOccZtV22kwxmZ4zxVZQ.png"/></div></div></figure><p id="2d6d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">音频播放器的源代码是<a class="ae ln" href="https://github.com/madzadev/audio-player" rel="noopener ugc nofollow" target="_blank">开源</a>。我还用它制作了一个NPM <a class="ae ln" href="https://www.npmjs.com/package/@madzadev/audio-player" rel="noopener ugc nofollow" target="_blank">包</a>，这样你也可以很容易地在你现有的项目中设置它。</p><h2 id="e3dd" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">规划功能</h2><p id="62b7" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">最基本的音频播放器通常带有一组最少的功能，如播放/暂停按钮、音量或进度控制，如果您想播放一首曲目，这可能是一个好的解决方案。</p><p id="dd30" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，如果您关心一些额外的功能和最终用户的体验，您可能会想要一些高级的解决方案。</p><p id="c803" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本教程中，我们将重点关注一个更复杂的情况，您有多个曲目要展示，需要实现一种方法来快速找到或过滤它们，并希望控制播放顺序的行为。我们将实施的完整功能列表包括:</p><ol class=""><li id="1e80" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">播放和暂停音频</li><li id="f5c6" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">下一首和上一首曲目</li><li id="09f2" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">重复曲目</li><li id="8bff" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">无序播放轨道顺序</li><li id="1222" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">进度滑块</li><li id="ed22" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">剩余时间/总时间</li><li id="e415" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">音量滑块</li><li id="3989" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">搜索音轨</li><li id="93be" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">按流派过滤曲目</li><li id="6c6b" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">播放列表项目</li></ol><h2 id="9a2d" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">创建线框</h2><p id="d212" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">音频播放器将使用简单的用户界面，不同的功能被分成不同的组件。这将使音频播放器更直观，并在与它交互时改善整体用户体验。</p><p id="edb3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">应用程序的整个线框将如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/d8e264e58cd1e6861b774a23e3ceaa65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bR5XRbnKrQZ7LEvQrJTv-g.png"/></div></div></figure><p id="2f7b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将使用<code class="fe nc nd ne nf b">Template</code>组件作为子组件的主要容器。如果子元素本身包含其他元素，它们将被包装在<code class="fe nc nd ne nf b">Box</code>组件中。</p><p id="a7ee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">整个应用程序将被包装到<code class="fe nc nd ne nf b">PageTemplate</code>包装器中，其中将包含子组件:<code class="fe nc nd ne nf b">TagsTemplate</code>、<code class="fe nc nd ne nf b">Search</code>、<code class="fe nc nd ne nf b">PlayerTemplate</code>和<code class="fe nc nd ne nf b">PlaylistTemplate</code>。</p><p id="3fbb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nc nd ne nf b">TagsTemplate</code>将进一步包括子<code class="fe nc nd ne nf b">TagItem</code>，<code class="fe nc nd ne nf b">PlayerTemplate</code>将包括<code class="fe nc nd ne nf b">TitleAndTimeBox</code>，<code class="fe nc nd ne nf b">Progress</code>和<code class="fe nc nd ne nf b">ButtonsAndVolumeBox</code>，而<code class="fe nc nd ne nf b">PlaylistTemplate</code>将包括<code class="fe nc nd ne nf b">PlaylistItem</code>组件。</p><p id="c44f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外<code class="fe nc nd ne nf b">TitleAndTimeBox</code>组件将包括<code class="fe nc nd ne nf b">Title</code>和<code class="fe nc nd ne nf b">Time</code>组件，而<code class="fe nc nd ne nf b">ButtonsAndVolumeBox</code>将包括<code class="fe nc nd ne nf b">ButtonsBox</code>和<code class="fe nc nd ne nf b">Volume</code>组件。</p><p id="c812" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，<code class="fe nc nd ne nf b">ButtonsBox</code>将包括所有用于用户控制的<code class="fe nc nd ne nf b">Button</code>组件。</p><h2 id="480b" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">设计应用程序</h2><p id="3f4e" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">音频播放器的设计将基于最大的可访问性，以便所有的信息都易于阅读，并且所有的动作按钮都易于与播放器的背景面板区分开来。</p><p id="d30f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，将使用以下配色方案:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/3a81c217020c8ed85aae67c92eba9d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWXLPT8JNySD0rf37C3bVA.png"/></div></div></figure><p id="c3ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">标签的背景颜色为紫色，以突出音频播放器其余部分使用的主要配色方案。这将向用户提供关于所包含的曲目流派的大量通知。为了进一步改善用户体验，他们会在鼠标悬停时将背景颜色改为绿色。</p><p id="2cd5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">搜索将有一个黑色的背景，上面显示灰色的占位符文本。为了通知用户输入值是预期值，占位符文本的颜色将特意与文本的其余部分区别开来。一旦输入完毕，文本将以白色显示。</p><p id="a8ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">播放器本身将有一个深色的背景颜色，所有包含的轨道，标题和时间的文本将是白色的，以提供最大的对比度。此外，播放器中的所有图标也将是白色的，因此它们在深色背景中很显眼。</p><p id="3147" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于进度条和音量滑块，已用进度将显示为白色，而左侧进度将显示为深色。滑块旋钮将使用与标签相同的背景颜色，因此用户会被告知他们可以与标签交互。</p><p id="cd29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，所有播放列表项也将有一个黑色背景。为了突出当前播放的曲目，它将具有白色，而播放列表中其余不活跃的曲目将具有与搜索占位符相同的颜色。</p><h2 id="fc6b" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">字体</h2><p id="a2c7" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">音频播放器将使用三种不同的字体系列。下面我将描述哪些元素将使用什么字体系列，并给出一些示例文本的预览。</p><ul class=""><li id="b3c5" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nh lu lv lw bi translated">标签文本和当前/总时间组件将使用<a class="ae ln" href="https://fonts.google.com/specimen/Varela+Round" rel="noopener ugc nofollow" target="_blank">瓦雷拉圆形</a>字体。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/b490cd0d66c78d5fd712790b6e26b4db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHT1g6x9OIBRDIihW3BIPA.png"/></div></div></figure><ul class=""><li id="026f" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nh lu lv lw bi translated">曲目标题、搜索占位符值和活动播放列表项将使用<a class="ae ln" href="https://fonts.google.com/specimen/Quicksand" rel="noopener ugc nofollow" target="_blank">流沙</a>字体。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/4d365f9af324061f040f079b9c1cd112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8RnSwjDOkxw1Gb-smPIdA.png"/></div></div></figure><ul class=""><li id="7f0b" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nh lu lv lw bi translated">非活动播放列表项将使用<a class="ae ln" href="https://fonts.google.com/specimen/Poppins" rel="noopener ugc nofollow" target="_blank">弹出字体</a>。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/c411d7895be4dfca639fbc6578903903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MIsgLNwX1CXMRMRWOcwOsg.png"/></div></div></figure><p id="3fb1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想使用任何其他字体系列，请随意在<a class="ae ln" href="https://fonts.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌字体</a>中选择一些替代品。有大量的字体可供选择，只要确保在项目中使用的样式表中替换它们。</p><h2 id="f582" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">设置React应用程序</h2><p id="15e8" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">为了从样板文件开始，我们将使用官方支持的CLI工具<a class="ae ln" href="https://reactjs.org/docs/create-a-new-react-app.html#create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App </a>，让您在一分钟或更短的时间内创建一个新的<a class="ae ln" href="https://reactjs.org" rel="noopener ugc nofollow" target="_blank"> ReactJS </a>项目。</p><p id="883e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开您的终端并运行以下命令:<code class="fe nc nd ne nf b">npx create-react-app@latest audio-player</code>。等待几分钟，终端向导应该会完成安装项目所需的依赖项。</p><p id="acbc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后通过运行<code class="fe nc nd ne nf b">cd audio-player</code>并运行<code class="fe nc nd ne nf b">npm start</code>来启动开发服务器，将您当前的工作目录更改为新创建的项目文件夹。</p><p id="b7b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在打开您的浏览器，导航到<a class="ae ln" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>，您应该看到ReactJS应用程序模板，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/1e014b7acfe680a621d363283372dad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LEK9D7ZArgOVZfdSr75DmQ.png"/></div></div></figure><p id="e111" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">切换回项目并查看文件文件夹树。导航到<code class="fe nc nd ne nf b">src</code>目录并删除当前目录中的所有文件，因为我们将从头开始创建所有文件。</p><h2 id="3b76" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">设置应用程序的基础</h2><p id="b7df" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">我们将首先创建应用程序的根文件，这将呈现整个应用程序。</p><p id="2ae3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，导航到<code class="fe nc nd ne nf b">src</code>文件夹并创建一个新文件<code class="fe nc nd ne nf b">index.js</code>。确保包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="765f" class="md me iq nf b gy nq nr l ns nt">import React from "react";<br/>import ReactDOM from "react-dom/client";<br/>import "./index.css";<br/>import { Player } from "./App";<br/><br/>const tracks = [<br/>  {<br/>    url: "https://audioplayer.madza.dev/Madza-Chords_of_Life.mp3",<br/>    title: "Madza - Chords of Life",<br/>    tags: ["house"],<br/>  },<br/>  {<br/>    url: "https://audioplayer.madza.dev/Madza-Late_Night_Drive.mp3",<br/>    title: "Madza - Late Night Drive",<br/>    tags: ["dnb"],<br/>  },<br/>  {<br/>    url: "https://audioplayer.madza.dev/Madza-Persistence.mp3",<br/>    title: "Madza - Persistence",<br/>    tags: ["dubstep"],<br/>  },<br/>];<br/><br/>const root = ReactDOM.createRoot(document.getElementById("root"));<br/>root.render(<br/>  &lt;React.StrictMode&gt;<br/>    &lt;Player trackList={tracks} /&gt;<br/>  &lt;/React.StrictMode&gt;<br/>);</span></pre><p id="1bef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们导入了<code class="fe nc nd ne nf b">React</code>和<code class="fe nc nd ne nf b">ReactDOM</code>，这样我们就能够在文件中创建一个渲染函数。我们还导入了样式表文件，该文件将在我们创建完之后创建，并且已经包含了我们的应用程序逻辑所在的<code class="fe nc nd ne nf b">Player</code>组件。</p><p id="f206" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于每个音轨，我们需要它的源、标题和标签，所以我们已经创建了一个由三个样本音轨组成的对象数组，它们将作为道具传入<code class="fe nc nd ne nf b">Player</code>组件。</p><p id="f132" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">音频源来自我部署的<a class="ae ln" href="https://audioplayer.madza.dev/" rel="noopener ugc nofollow" target="_blank">示例项目</a>，所以你不必在线搜索音轨。或者，您可以将一些本地文件上传到项目中并链接到它们。</p><p id="fa3f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，在<code class="fe nc nd ne nf b">src</code>文件夹中，创建一个新文件<code class="fe nc nd ne nf b">index.css</code>并包含这些样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="9684" class="md me iq nf b gy nq nr l ns nt">@import url('https://fonts.googleapis.com/css2?family=Varela+Round&amp;display=swap');<br/>@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@500&amp;display=swap');<br/>@import url('https://fonts.googleapis.com/css2?family=Poppins&amp;display=swap');<br/><br/>* {<br/>  padding: 0;<br/>  margin: 0;<br/>  box-sizing: border-box;<br/>}<br/><br/>body {<br/>  background-color: #151616;<br/>}<br/><br/>:root {<br/>  --tagsBackground: #9440f3;<br/>  --tagsText: #ffffff;<br/>  --tagsBackgroundHoverActive: #2cc0a0;<br/>  --tagsTextHoverActive: #ffffff;<br/>  --searchBackground: #18191f;<br/>  --searchText: #ffffff;<br/>  --searchPlaceHolder: #575a77;<br/>  --playerBackground: #18191f;<br/>  --titleColor: #ffffff;<br/>  --timeColor: #ffffff;<br/>  --progressSlider: #9440f3;<br/>  --progressUsed: #ffffff;<br/>  --progressLeft: #151616;<br/>  --volumeSlider: #9440f3;<br/>  --volumeUsed: #ffffff;<br/>  --volumeLeft:  #151616;<br/>  --playlistBackground: #18191f;<br/>  --playlistText: #575a77;<br/>  --playlistBackgroundHoverActive:  #18191f;<br/>  --playlistTextHoverActive: #ffffff;<br/>}</span></pre><p id="8ab4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们从Google字体中导入了Varela Round、流沙和Poppins字体。</p><p id="97c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我们重置应用程序上所有元素的规则，以确保所有元素在每个浏览器上看起来都一样。我们移除了填充和边距，并配置了盒子大小，以在宽度和高度中包含填充和边距。</p><p id="01f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们设置了主体背景颜色，并创建了一个全局配色方案，我们将在整个应用程序中使用。由于有了<code class="fe nc nd ne nf b">:root</code>选择器，以后可以通过<code class="fe nc nd ne nf b">var(--property)</code>访问每种颜色。</p><h2 id="7866" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">下载图标</h2><p id="54fb" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">为了提供出色的音频控制用户体验，我们将使用PNG图标进行播放、暂停、循环、随机播放列表顺序以及切换到上一首和下一首曲目。</p><p id="369a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了跟踪循环和随机播放按钮的状态，白色图标将用于非活动状态，而灰色图标将用于活动状态。</p><p id="328c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我编译了一个包含所有图标的可下载包，你可以在这里下载。确保提取文件夹并将其包含在<code class="fe nc nd ne nf b">src</code>目录中。</p><p id="a962" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">或者，你可以在flaticon.com或icons8.com等网站上下载自己的图标。只要确保你的名字和上面下载包里的一样就行了。</p><h2 id="652d" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">创建组件</h2><p id="06a1" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">在我们的音频播放器中，我们将使用20个组件。对于大多数组件，我们将创建单独的JS和CSS模块文件。您可以手动创建它们，但是我建议您运行以下命令，它将在几秒钟内创建您需要的所有内容:</p><p id="0c33" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nc nd ne nf b">mkdir components &amp;&amp; cd components &amp;&amp; touch PageTemplate.js TagsTemplate.js TagsTemplate.module.css TagItem.js TagItem.module.css Search.js Search.module.css PlayerTemplate.js PlayerTemplate.module.css TitleAndTimeBox.js TitleAndTimeBox.module.css Title.js Title.module.css Time.js Time.module.css Progress.js Progress.module.css ButtonsAndVolumeBox.js ButtonsAndVolumeBox.module.css ButtonsBox.js ButtonsBox.module.css Loop.js Loop.module.css Previous.js Previous.module.css Play.js Play.module.css Pause.js Pause.module.css Next.js Next.module.css Shuffle.js Shuffle.module.css Volume.js Volume.module.css PlaylistTemplate.js PlaylistTemplate.module.css PlaylistItem.js PlaylistItem.module.css</code>。</p><p id="ee3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦创建了所有组件，让我们用代码和样式规则填充它们。</p><p id="64f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PageTemplate.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="c689" class="md me iq nf b gy nq nr l ns nt">export const PageTemplate = ({ children }) =&gt; {<br/>  return &lt;div&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="8daa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是应用程序的主要包装组件，将包括我们将在接下来的步骤中创建的所有子组件。</p><p id="108d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TagsTemplate.js</code>，包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="a354" class="md me iq nf b gy nq nr l ns nt">import styles from "./TagsTemplate.module.css";<br/><br/>export const TagsTemplate = ({ children }) =&gt; {<br/>  return &lt;div className={styles.wrapper}&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="e0bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将是我们将使用的所有标签的包装组件，并将确保它们遵循正确的布局。</p><p id="47a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TagsTemplate.module.css</code>，包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="6e62" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>    width: 100%;<br/>    margin: 20px auto;<br/>    height: auto;<br/>    color: var(--primaryText);<br/>    display: inline-block;<br/>    text-align: center;<br/>  }</span></pre><p id="8a38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们首先设置宽度，以获取包装器中所有可用的宽度，在顶部和底部添加一些边距，设置标记文本中使用的颜色，将其居中对齐，并确保标记水平显示为行内元素。</p><p id="ae74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TagItem.js</code>，包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="b7c5" class="md me iq nf b gy nq nr l ns nt">import styles from "./TagItem.module.css";<br/><br/>export const TagItem = ({ status, onClick, tag }) =&gt; {<br/>  return (<br/>    &lt;div<br/>      className={`${styles.tag} ${status === "active" ? styles.active : ""}`}<br/>      onClick={onClick}<br/>    &gt;<br/>      {tag}<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="379f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些将是标签组件本身。每个标签都将接收到<code class="fe nc nd ne nf b">status</code>属性，通过定制的样式规则来控制哪个标签是活动的;<code class="fe nc nd ne nf b">onClick</code>属性描述标签被点击时会发生什么，以及<code class="fe nc nd ne nf b">tag</code>属性为每个标签给出一个标题。</p><p id="0872" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TagItem.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="6390" class="md me iq nf b gy nq nr l ns nt">.tag {<br/>  background-color: var(--tagsBackground);<br/>  color: var(--tagsText);<br/>  height: 40px;<br/>  min-width: 100px;<br/>  display: inline-grid;<br/>  place-items: center;<br/>  margin: 5px 5px;<br/>  transition: transform 0.2s;<br/>  padding: 0 10px;<br/>  font-family: 'Varela Round', sans-serif;<br/>  border-radius: 10px;<br/>  font-size: 18px;<br/>}<br/><br/>.active {<br/>  background-color: var(--tagsBackgroundHoverActive);<br/>  color: var(--tagsTextHoverActive);<br/>}<br/><br/>.tag:hover {<br/>  background-color: var(--tagsBackgroundHoverActive);<br/>  color: var(--tagsTextHoverActive);<br/>  cursor: pointer;<br/>  transform: scale(1.1);<br/>}</span></pre><p id="e58d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们设置了背景和文本颜色，定义了高度和宽度，将内容居中，添加了一些边距和填充，设置了字体大小，并为播放列表项添加了一些圆角。</p><p id="34a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于活动标签，我们设置不同的背景和文本颜色。对于悬停标签，我们还为背景和文本设置了不同的颜色，并添加了一些大小缩放，并将光标改为指针。</p><p id="1c1e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Search.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="4ac0" class="md me iq nf b gy nq nr l ns nt">import styles from "./Search.module.css";<br/><br/>export const Search = ({ onChange, value, placeholder }) =&gt; {<br/>  return (<br/>    &lt;input<br/>      type="text"<br/>      className={styles.search}<br/>      onChange={onChange}<br/>      value={value}<br/>      placeholder={placeholder}<br/>    /&gt;<br/>  );<br/>};</span></pre><p id="054e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">搜索组件将有一个描述输入值改变时行为的<code class="fe nc nd ne nf b">onChange</code>属性，一个跟踪输入值的<code class="fe nc nd ne nf b">value</code>属性，以及一个当搜索栏中没有输入时显示占位符文本的<code class="fe nc nd ne nf b">placeholder</code>属性。</p><p id="52ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Search.module.css</code>，包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="ae21" class="md me iq nf b gy nq nr l ns nt">.search {<br/>  font-family: 'Quicksand', sans-serif;<br/>  height: 40px;<br/>  border: none;<br/>  font-size: 18px;<br/>  width: 100%;<br/>  margin: 0 auto 10px auto;<br/>  background-color: var(--searchBackground);<br/>  color: var(--searchText);<br/>  padding-left: 20px;<br/>  border-radius: 10px;<br/>}<br/><br/>.search::placeholder {<br/>  color: var(--searchPlaceHolder);<br/>}</span></pre><p id="1bde" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为文本设置了字体系列、字体大小和颜色，以及栏的特定高度，并确保它使用了父级的所有可用宽度。我们还在底部添加了一些边距，在左侧添加了填充，并移除了默认边框，设置了圆角。</p><p id="55c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于占位符值，我们设置文本颜色。</p><p id="2bbc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlayerTemplate.js</code>，包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="3f96" class="md me iq nf b gy nq nr l ns nt">import styles from "./PlayerTemplate.module.css";<br/><br/>export const PlayerTemplate = ({ children }) =&gt; {<br/>  return &lt;div className={styles.wrapper}&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="33ac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将是播放器组件的主包装器，它将包括所有的子组件和子组件。</p><p id="9464" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlayerTemplate.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="c16a" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>  border-radius: 10px;<br/>  padding: 0 40px;<br/>  background-color: var(--playerBackground);<br/>  overflow: auto;<br/>  font-family: 'Quicksand', sans-serif;<br/>}</span></pre><p id="d8fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在样式规则中，我们确保包装器有一些左右填充、深色背景色、特定的字体系列、漂亮的圆角和自动溢出行为。</p><p id="c037" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TitleAndTimeBox.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="4f9c" class="md me iq nf b gy nq nr l ns nt">import styles from "./TitleAndTimeBox.module.css";<br/><br/>export const TitleAndTimeBox = ({ children }) =&gt; {<br/>  return &lt;div className={styles.wrapper}&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="c767" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是播放器包装器的第一个子组件，将包括标题和时间组件。</p><p id="35e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TitleAndTimeBox.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="17ab" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>    display: grid;<br/>    grid-template-columns: auto 200px;<br/>    margin: 30px 0 20px 0;<br/>  }</span></pre><p id="d8ea" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们确保包装器使用网格布局，将可用的分成两列，其中左列是从可用空间中减去右列的宽度计算出来的，右列被设置为<code class="fe nc nd ne nf b">200px</code>。我们还确保包装器有一些顶部和底部的空白。</p><p id="beb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Title.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="a842" class="md me iq nf b gy nq nr l ns nt">import styles from "./Title.module.css";<br/><br/>export const Title = ({ title }) =&gt; {<br/>  return &lt;h1 className={styles.title}&gt;{title}&lt;/h1&gt;;<br/>};</span></pre><p id="60da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">标题组件将包括<code class="fe nc nd ne nf b">title</code>道具，它将显示轨道的名称。</p><p id="d611" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Title.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="000f" class="md me iq nf b gy nq nr l ns nt">.title {<br/>  color: var(--titleColor);<br/>  font-size: 28px;<br/>}</span></pre><p id="292e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为标题设置颜色，并为它设置特定的字体大小。</p><p id="55cf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Time.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="d3dd" class="md me iq nf b gy nq nr l ns nt">import styles from "./Time.module.css";<br/><br/>export const Time = ({ time }) =&gt; {<br/>  return &lt;h1 className={styles.time}&gt;{time}&lt;/h1&gt;;<br/>};</span></pre><p id="8973" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">时间组件将接收显示曲目播放时间和总时间的<code class="fe nc nd ne nf b">time</code>属性。</p><p id="3714" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Time.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="dc9a" class="md me iq nf b gy nq nr l ns nt">.time {<br/>  font-family: 'Varela Round', sans-serif;<br/>  color: var(--timeColor);<br/>  text-align: right;<br/>  font-size: 30px;<br/>}</span></pre><p id="a5d3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为文本设置字体系列、大小和颜色，并将其向右对齐。</p><p id="14cf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Progress.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="bef8" class="md me iq nf b gy nq nr l ns nt">import styles from "./Progress.module.css";<br/><br/>export const Progress = ({ value, onChange, onMouseUp, onTouchEnd }) =&gt; {<br/>  return (<br/>    &lt;div className={styles.container}&gt;<br/>      &lt;input<br/>        type="range"<br/>        min="1"<br/>        max="100"<br/>        step="1"<br/>        value={value}<br/>        className={styles.slider}<br/>        id="myRange"<br/>        onChange={onChange}<br/>        onMouseUp={onMouseUp}<br/>        onTouchEnd={onTouchEnd}<br/>        style={{<br/>          background: `linear-gradient(90deg, var(--progressUsed) ${Math.floor(<br/>            value<br/>          )}%, var(--progressLeft) ${Math.floor(value)}%)`,<br/>        }}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="cb64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">progress组件将接收<code class="fe nc nd ne nf b">value</code>属性以获取范围的当前值，接收<code class="fe nc nd ne nf b">onChange</code>属性以控制滑块旋钮被拖动时的行为，接收<code class="fe nc nd ne nf b">onMouseUp</code>属性以传递用户释放鼠标按钮时的事件，接收<code class="fe nc nd ne nf b">onTouchEnd</code>属性以传递一个或多个触摸点从触摸屏设备的触摸表面移除时的事件。</p><p id="8968" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还设置范围的最小值为<code class="fe nc nd ne nf b">1</code>，最大值为<code class="fe nc nd ne nf b">100</code>，增加步长为<code class="fe nc nd ne nf b">1</code>。为了用不同的颜色制作已使用的进度和左侧进度，我们设置了自定义样式，并添加了一个角度为<code class="fe nc nd ne nf b">90</code>的线性渐变背景。</p><p id="8df3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Progress.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="6831" class="md me iq nf b gy nq nr l ns nt">.container {<br/>  display: grid;<br/>  place-items: center;<br/>  margin-bottom: 20px;<br/>}<br/><br/>.slider {<br/>  -webkit-appearance: none;<br/>  width: 100%;<br/>  height: 4px;<br/>  border-radius: 5px;<br/>}<br/><br/>.slider::-webkit-slider-thumb {<br/>  -webkit-appearance: none;<br/>  width: 25px;<br/>  height: 25px;<br/>  border-radius: 50%;<br/>  background: var(--progressSlider);<br/>  cursor: pointer;<br/>}<br/><br/>.slider::-moz-range-thumb {<br/>  width: 20px;<br/>  height: 20px;<br/>  border-radius: 50%;<br/>  background: var(--progressSlider);<br/>  cursor: pointer;<br/>}</span></pre><p id="8025" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们包装了进度条组件，并将其放在网格布局的中心，还设置了一些底部边距，以将进度条与下面的组件分开。</p><p id="b41d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将滑动条本身设置为获取父级的所有可用宽度，设置其高度，移除默认样式，并在条的两端添加一些边框半径。</p><p id="b6ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于滑块旋钮本身，我们删除了它的默认样式，将其背景颜色设置为与标签相同，添加了固定的宽度和高度，将旋钮设置为圆形，并在与它交互时将光标设置为指针。</p><p id="c241" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">ButtonsAndVolumeBox.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="0b34" class="md me iq nf b gy nq nr l ns nt">import styles from "./ButtonsAndVolumeBox.module.css";<br/><br/>export const ButtonsAndVolumeBox = ({ children }) =&gt; {<br/>  return &lt;div className={styles.wrapper}&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="9a88" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将是一个包装组件，将包括按钮盒和音量栏。</p><p id="51cd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">ButtonsAndVolumeBox.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="cb52" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>    display: grid;<br/>    grid-template-columns: auto 30%;<br/>    margin-bottom: 30px;<br/>  }</span></pre><p id="659e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们确保包装器使用网格布局，并将它分成两列，其中右边的一列是<code class="fe nc nd ne nf b">30</code>百分比，而左边的另一列占据了剩余的可用空间。我们还在底部设置了一些边距，以便将其与下面的组件分开。</p><p id="d38e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">ButtonsBox.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="7f07" class="md me iq nf b gy nq nr l ns nt">import styles from "./ButtonsBox.module.css";<br/><br/>export const ButtonsBox = ({ children }) =&gt; {<br/>  return &lt;div className={styles.wrapper}&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="7424" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该组件将包含所有音频控件按钮作为子组件。</p><p id="efc9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">ButtonsBox.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="7624" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>  display: grid;<br/>  grid-template-columns: repeat(5, auto);<br/>  place-items: center;<br/>}</span></pre><p id="5a8f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们确保使用网格布局，并将可用空间分成宽度相等的五列。我们还将项目放在列的中央。</p><p id="1932" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Loop.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="ff4e" class="md me iq nf b gy nq nr l ns nt">import styles from "./Loop.module.css";<br/><br/>export const Loop = ({ src, onClick }) =&gt; {<br/>  return &lt;img className={styles.loop} src={src} onClick={onClick} /&gt;;<br/>};</span></pre><p id="b44a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">循环组件将用于在当前曲目播放完毕后循环播放。它将接收为循环图标提供源的<code class="fe nc nd ne nf b">src</code>属性和被点击时接收动作函数的<code class="fe nc nd ne nf b">onClick</code>属性。</p><p id="6688" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Loop.module.css</code>，包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="218f" class="md me iq nf b gy nq nr l ns nt">.loop {<br/>  width: 26px;<br/>  height: 26px;<br/>  transition: transform 0.2s;<br/>}<br/><br/>.loop:hover {<br/>  cursor: pointer;<br/>  transform: scale(1.2);<br/>}</span></pre><p id="5544" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为图标设置了特定的宽度和高度，并添加了一个漂亮的过渡效果，这样当用户悬停在图标上时，它会放大一点。此外，当用户悬停在图标上时，光标将变为指针。</p><p id="5747" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Previous.js</code>，包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="d600" class="md me iq nf b gy nq nr l ns nt">import styles from "./Previous.module.css";<br/><br/>export const Previous = ({ src, onClick }) =&gt; {<br/>  return &lt;img className={styles.previous} src={src} onClick={onClick} /&gt;;<br/>};</span></pre><p id="1b65" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个组件将允许我们切换到上一首曲目。当它被点击时，它将收到图标来源的<code class="fe nc nd ne nf b">src</code>道具和动作的<code class="fe nc nd ne nf b">onClick</code>道具。</p><p id="4b35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Previous.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="d07e" class="md me iq nf b gy nq nr l ns nt">.previous {<br/>  width: 50px;<br/>  height: 50px;<br/>  transition: transform 0.2s;<br/>}<br/><br/>.previous:hover {<br/>  cursor: pointer;<br/>  transform: scale(1.2);<br/>}</span></pre><p id="50e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们设置了比循环组件更大的宽度和高度。我们还添加了悬停时的大小转换以及光标指针。</p><p id="189c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Play.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="63a3" class="md me iq nf b gy nq nr l ns nt">import styles from "./Play.module.css";<br/><br/>export const Play = ({ src, onClick }) =&gt; {<br/>  return &lt;img className={styles.play} src={src} onClick={onClick} /&gt;;<br/>};</span></pre><p id="87cd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">播放组件将允许我们播放曲目。当它被点击时，它将接收图标源的<code class="fe nc nd ne nf b">src</code>属性和动作的<code class="fe nc nd ne nf b">onClick</code>属性。</p><p id="36b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Play.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="4d9a" class="md me iq nf b gy nq nr l ns nt">.play {<br/>  width: 60px;<br/>  height: 60px;<br/>  transition: transform 0.2s;<br/>}<br/><br/>.play:hover {<br/>  cursor: pointer;<br/>  transform: scale(1.2);<br/>}</span></pre><p id="5dcf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为图标的宽度和高度设置了更大的尺寸来突出它。和以前一样，我们增加了悬停时的尺寸增加和光标变化。</p><p id="6667" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Pause.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="579b" class="md me iq nf b gy nq nr l ns nt">import styles from "./Pause.module.css";<br/><br/>export const Pause = ({ src, onClick }) =&gt; {<br/>  return &lt;img className={styles.pause} src={src} onClick={onClick} /&gt;;<br/>};</span></pre><p id="a83d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">暂停组件将让我们停止音频。当它被点击时，它将接收图标源的<code class="fe nc nd ne nf b">src</code>属性和动作的<code class="fe nc nd ne nf b">onClick</code>属性。</p><p id="b020" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Pause.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="2c97" class="md me iq nf b gy nq nr l ns nt">.pause {<br/>  width: 60px;<br/>  height: 60px;<br/>  transition: transform 0.2s;<br/>}<br/><br/>.pause:hover {<br/>  cursor: pointer;<br/>  transform: scale(1.2);<br/>}</span></pre><p id="1523" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为play组件设置了相同的宽度和高度，并包含了悬停时光标的大小增加和指针。</p><p id="aaec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Next.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="68f3" class="md me iq nf b gy nq nr l ns nt">import styles from "./Next.module.css";<br/><br/>export const Next = ({ src, onClick }) =&gt; {<br/>  return &lt;img className={styles.next} src={src} onClick={onClick} /&gt;;<br/>};</span></pre><p id="462c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个组件将允许我们切换到下一首曲目。当它被点击时，它将接收图标源的<code class="fe nc nd ne nf b">src</code>属性和动作的<code class="fe nc nd ne nf b">onClick</code>属性。</p><p id="6fe5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Next.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="38ac" class="md me iq nf b gy nq nr l ns nt">.next {<br/>  width: 50px;<br/>  height: 50px;<br/>  transition: transform 0.2s;<br/>}<br/><br/>.next:hover {<br/>  cursor: pointer;<br/>  transform: scale(1.2);<br/>}</span></pre><p id="d54f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为组件设置相同的宽度和高度，让我们切换到以前的轨道。此外，我们增加了悬停时图标和光标变化的大小。</p><p id="b5a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Shuffle.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="9de5" class="md me iq nf b gy nq nr l ns nt">import styles from "./Shuffle.module.css";<br/><br/>export const Shuffle = ({ src, onClick }) =&gt; {<br/>  return &lt;img className={styles.shuffle} src={src} onClick={onClick} /&gt;;<br/>};</span></pre><p id="71de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后的按钮组件将是随机播放，这将允许我们混合播放列表曲目的顺序。<code class="fe nc nd ne nf b">src</code>道具将用于图标源，而<code class="fe nc nd ne nf b">onClick</code>道具在被点击时会收到一个动作。</p><p id="04ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Shuffle.module.css</code>，包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="1bf0" class="md me iq nf b gy nq nr l ns nt">.shuffle {<br/>  width: 26px;<br/>  height: 26px;<br/>  transition: transform 0.2s;<br/>}<br/><br/>.shuffle:hover {<br/>  cursor: pointer;<br/>  transform: scale(1.2);<br/>}</span></pre><p id="60aa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将图标的宽度和高度设置为与循环组件相同。最后，我们添加了尺寸增加效果，并将光标改为悬停时的指针。</p><p id="5363" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Volume.js</code>，包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="5292" class="md me iq nf b gy nq nr l ns nt">import styles from "./Volume.module.css";<br/><br/>export const Volume = ({ onChange, value }) =&gt; {<br/>  return (<br/>    &lt;div className={styles.wrapper}&gt;<br/>      &lt;input<br/>        type="range"<br/>        min="1"<br/>        max="100"<br/>        defaultValue="80"<br/>        className={styles.slider}<br/>        id="myRange"<br/>        onChange={onChange}<br/>        style={{<br/>          background: `linear-gradient(90deg, var(--volumeUsed) ${<br/>            value * 100<br/>          }%, var(--volumeLeft) ${value * 100}%)`,<br/>        }}<br/>      /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};</span></pre><p id="9f7a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">音量组件将允许我们更改正在播放的音频的音量。它将接收<code class="fe nc nd ne nf b">onChange</code>属性，允许我们在滑块改变时传递动作，以及<code class="fe nc nd ne nf b">value</code>属性，让我们跟踪它的当前值。</p><p id="4a45" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着<code class="fe nc nd ne nf b">1</code>步长的增加和减少，将使用最小值为<code class="fe nc nd ne nf b">1</code>和最大值为<code class="fe nc nd ne nf b">100</code>的输入范围。与前面的progress组件类似，为了用不同的颜色显示使用过的和左边的部分，我们使用了线性渐变。</p><p id="4a6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Volume.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="436a" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>  display: grid;<br/>  place-items: center;<br/>  min-height: 60px;<br/>}<br/><br/>.slider {<br/>  -webkit-appearance: none;<br/>  width: 70%;<br/>  height: 3px;<br/>  border-radius: 5px;<br/>  background: var(--volumeSlider);<br/>}<br/><br/>.slider::-webkit-slider-thumb {<br/>  -webkit-appearance: none;<br/>  width: 20px;<br/>  height: 20px;<br/>  border-radius: 50%;<br/>  background: var(--volumeSlider);<br/>  cursor: pointer;<br/>}<br/><br/>.slider::-moz-range-thumb {<br/>  width: 20px;<br/>  height: 20px;<br/>  border-radius: 50%;<br/>  background: var(--volumeSlider);<br/>  cursor: pointer;<br/>}</span></pre><p id="02e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们用网格布局将音量条包装到容器中，并使其居中。我们还为它设置了适合父布局的高度。</p><p id="7a61" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于滑块本身，我们首先移除默认样式，然后将其设置为使用可用空间的<code class="fe nc nd ne nf b">70</code>百分比，并设置特定的高度。我们还为滑块的圆角添加了边框半径，并设置了背景颜色。</p><p id="14b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于滑块旋钮，我们移除了自定义样式，并设置了与进度组件相同的背景。我们也把它做成圆形，尽管它比进度组件中的要小。最后，我们将在鼠标悬停时使用指针效果。</p><p id="6b0d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlaylistTemplate.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="913e" class="md me iq nf b gy nq nr l ns nt">import styles from "./PlaylistTemplate.module.css";<br/><br/>export const PlaylistTemplate = ({ children }) =&gt; {<br/>  return &lt;div className={styles.wrapper}&gt;{children}&lt;/div&gt;;<br/>};</span></pre><p id="7766" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该组件将是所有播放列表项的包装器。</p><p id="9e3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlaylistTemplate.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="d16b" class="md me iq nf b gy nq nr l ns nt">.wrapper {<br/>  margin: 20px auto;<br/>  max-height: 425px;<br/>  min-height: 120px;<br/>  overflow-x: hidden;<br/>  padding-right: 10px;<br/>  font-family: "Quicksand", sans-serif;<br/>}<br/><br/>.wrapper::-webkit-scrollbar {<br/>  width: 5px;<br/>}<br/><br/>.wrapper::-webkit-scrollbar-track {<br/>  border-radius: 10px;<br/>}<br/><br/>.wrapper::-webkit-scrollbar-thumb {<br/>  background: var(--primaryText);<br/>  border-radius: 10px;<br/>}</span></pre><p id="e6b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们确保在顶部和底部设置了一些边距，设置了高度，将x轴上的溢出设置为隐藏，在左侧添加了一些填充，并为包含的播放列表项的文本设置了字体系列。</p><p id="0b46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果一些播放列表项超出了播放列表包装的高度，将允许用户滚动。为此，我们创建了一个自定义滚动条。我们设置它的宽度、边框半径和背景颜色。</p><p id="6746" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlaylistItem.js</code>并包含以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="ba40" class="md me iq nf b gy nq nr l ns nt">import styles from "./PlaylistItem.module.css";<br/><br/>export const PlaylistItem = ({ status, data_key, src, title, onClick }) =&gt; {<br/>  return (<br/>    &lt;p<br/>      className={`${styles.item} ${status === "active" ? styles.active : ""}`}<br/>      data-key={data_key}<br/>      src={src}<br/>      title={title}<br/>      onClick={onClick}<br/>    &gt;<br/>      {title}<br/>    &lt;/p&gt;<br/>  );<br/>};</span></pre><p id="000b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是实际的播放列表项，它将接收用于控制活动项的<code class="fe nc nd ne nf b">status</code>属性、<code class="fe nc nd ne nf b">data_key</code>属性以便我们稍后识别它、用于音频源的<code class="fe nc nd ne nf b">src</code>属性、用于显示音频标题的<code class="fe nc nd ne nf b">title</code>属性和用于控制点击行为的<code class="fe nc nd ne nf b">onClick</code>属性。</p><p id="58e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlaylistItem.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="c5f8" class="md me iq nf b gy nq nr l ns nt">.item {<br/>  background-color: var(--playlistBackground);<br/>  color: var(--playlistText);<br/>  text-align: center;<br/>  margin: 5px 0;<br/>  padding: 3px 0;<br/>  border-radius: 5px;<br/>  font-size: 16px;<br/>  font-family: 'Poppins', sans-serif;<br/>}<br/><br/>.active {<br/>  color: var(--playlistTextHoverActive);<br/>  font-family: 'Quicksand', sans-serif;<br/>  font-size: 18px;<br/>}<br/><br/>.item:hover {<br/>  color: var(--playlistTextHoverActive);<br/>  cursor: pointer;<br/>}</span></pre><p id="0862" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们设置了自定义背景和文本颜色，将文本居中显示，设置了一些边距和填充，设置了字体大小和字体系列，并添加了一些圆角。</p><p id="e325" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于活动项目，我们改变了文本颜色，以及字体大小和系列。我们还为悬停项目设置了不同的文本颜色，并将光标改为指针。</p><h2 id="a516" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">将逻辑放在一起</h2><p id="923a" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">现在导航回<code class="fe nc nd ne nf b">src</code>文件夹并创建<code class="fe nc nd ne nf b">App.js</code>，这将是我们的音乐播放器逻辑的主文件。包括以下代码:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="b63c" class="md me iq nf b gy nq nr l ns nt">import { useState, useEffect, useRef } from "react";<br/><br/>import { PageTemplate } from "./components/PageTemplate";<br/>import { TagsTemplate } from "./components/TagsTemplate";<br/>import { TagItem } from "./components/TagItem";<br/>import { Search } from "./components/Search";<br/>import { PlayerTemplate } from "./components/PlayerTemplate";<br/>import { TitleAndTimeBox } from "./components/TitleAndTimeBox";<br/>import { Title } from "./components/Title";<br/>import { Time } from "./components/Time";<br/>import { Progress } from "./components/Progress";<br/>import { ButtonsAndVolumeBox } from "./components/ButtonsAndVolumeBox";<br/>import { ButtonsBox } from "./components/ButtonsBox";<br/>import { Loop } from "./components/Loop";<br/>import { Previous } from "./components/Previous";<br/>import { Play } from "./components/Play";<br/>import { Pause } from "./components/Pause";<br/>import { Next } from "./components/Next";<br/>import { Shuffle } from "./components/Shuffle";<br/>import { Volume } from "./components/Volume";<br/>import { PlaylistTemplate } from "./components/PlaylistTemplate";<br/>import { PlaylistItem } from "./components/PlaylistItem";<br/><br/>import loopCurrentBtn from "./icons/loop_current.png";<br/>import loopNoneBtn from "./icons/loop_none.png";<br/>import previousBtn from "./icons/previous.png";<br/>import playBtn from "./icons/play.png";<br/>import pauseBtn from "./icons/pause.png";<br/>import nextBtn from "./icons/next.png";<br/>import shuffleAllBtn from "./icons/shuffle_all.png";<br/>import shuffleNoneBtn from "./icons/shuffle_none.png";<br/><br/>const fmtMSS = (s) =&gt; new Date(1000 * s).toISOString().substr(15, 4);<br/><br/>export const Player = ({ trackList }) =&gt; {<br/>  const [audio, setAudio] = useState(null);<br/>  const [isPlaying, setIsPlaying] = useState(false);<br/>  const [hasEnded, setHasEnded] = useState(false);<br/>  const [title, setTitle] = useState("");<br/>  const [length, setLength] = useState(0);<br/>  const [time, setTime] = useState(0);<br/>  const [slider, setSlider] = useState(1);<br/>  const [drag, setDrag] = useState(0);<br/>  const [volume, setVolume] = useState(0.8);<br/>  const [shuffled, setShuffled] = useState(false);<br/>  const [looped, setLooped] = useState(false);<br/><br/>  let playlist = [];<br/>  const [filter, setFilter] = useState([]);<br/>  let [curTrack, setCurTrack] = useState(0);<br/>  const [query, updateQuery] = useState("");<br/><br/>  const tags = [];<br/>  trackList.forEach((track) =&gt; {<br/>    track.tags.forEach((tag) =&gt; {<br/>      if (!tags.includes(tag)) {<br/>        tags.push(tag);<br/>      }<br/>    });<br/>  });<br/><br/>  useEffect(() =&gt; {<br/>    const audio = new Audio(trackList[curTrack].url);<br/><br/>    const setAudioData = () =&gt; {<br/>      setLength(audio.duration);<br/>      setTime(audio.currentTime);<br/>    };<br/><br/>    const setAudioTime = () =&gt; {<br/>      const curTime = audio.currentTime;<br/>      setTime(curTime);<br/>      setSlider(curTime ? ((curTime * 100) / audio.duration).toFixed(1) : 0);<br/>    };<br/><br/>    const setAudioVolume = () =&gt; setVolume(audio.volume);<br/><br/>    const setAudioEnd = () =&gt; setHasEnded(!hasEnded);<br/><br/>    audio.addEventListener("loadeddata", setAudioData);<br/>    audio.addEventListener("timeupdate", setAudioTime);<br/>    audio.addEventListener("volumechange", setAudioVolume);<br/>    audio.addEventListener("ended", setAudioEnd);<br/><br/>    setAudio(audio);<br/>    setTitle(trackList[curTrack].title);<br/><br/>    return () =&gt; {<br/>      audio.pause();<br/>    };<br/>  }, []);<br/><br/>  useEffect(() =&gt; {<br/>    if (audio != null) {<br/>      audio.src = trackList[curTrack].url;<br/>      setTitle(trackList[curTrack].title);<br/>      play();<br/>    }<br/>  }, [curTrack]);<br/><br/>  useEffect(() =&gt; {<br/>    if (audio != null) {<br/>      if (shuffled) {<br/>        playlist = shufflePlaylist(playlist);<br/>      }<br/>      !looped ? next() : play();<br/>    }<br/>  }, [hasEnded]);<br/><br/>  useEffect(() =&gt; {<br/>    if (audio != null) {<br/>      audio.volume = volume;<br/>    }<br/>  }, [volume]);<br/><br/>  useEffect(() =&gt; {<br/>    if (audio != null) {<br/>      pause();<br/>      const val = Math.round((drag * audio.duration) / 100);<br/>      audio.currentTime = val;<br/>    }<br/>  }, [drag]);<br/><br/>  useEffect(() =&gt; {<br/>    if (!playlist.includes(curTrack)) {<br/>      setCurTrack((curTrack = playlist[0]));<br/>    }<br/>  }, [filter]);<br/><br/>  const loop = () =&gt; {<br/>    setLooped(!looped);<br/>  };<br/><br/>  const previous = () =&gt; {<br/>    const index = playlist.indexOf(curTrack);<br/>    index !== 0<br/>      ? setCurTrack((curTrack = playlist[index - 1]))<br/>      : setCurTrack((curTrack = playlist[playlist.length - 1]));<br/>  };<br/><br/>  const play = () =&gt; {<br/>    setIsPlaying(true);<br/>    audio.play();<br/>  };<br/><br/>  const pause = () =&gt; {<br/>    setIsPlaying(false);<br/>    audio.pause();<br/>  };<br/><br/>  const next = () =&gt; {<br/>    const index = playlist.indexOf(curTrack);<br/>    index !== playlist.length - 1<br/>      ? setCurTrack((curTrack = playlist[index + 1]))<br/>      : setCurTrack((curTrack = playlist[0]));<br/>  };<br/><br/>  const shuffle = () =&gt; {<br/>    setShuffled(!shuffled);<br/>  };<br/><br/>  const shufflePlaylist = (arr) =&gt; {<br/>    if (arr.length === 1) return arr;<br/>    const rand = Math.floor(Math.random() * arr.length);<br/>    return [arr[rand], ...shufflePlaylist(arr.filter((_, i) =&gt; i !== rand))];<br/>  };<br/><br/>  const tagClickHandler = (e) =&gt; {<br/>    const tag = e.currentTarget.innerHTML;<br/>    if (!filter.includes(tag)) {<br/>      setFilter([...filter, tag]);<br/>    } else {<br/>      const filteredArray = filter.filter((item) =&gt; item !== tag);<br/>      setFilter([...filteredArray]);<br/>    }<br/>  };<br/><br/>  const playlistItemClickHandler = (e) =&gt; {<br/>    const num = Number(e.currentTarget.getAttribute("data-key"));<br/>    const index = playlist.indexOf(num);<br/>    setCurTrack((curTrack = playlist[index]));<br/>    play();<br/>  };<br/><br/>  return (<br/>    &lt;PageTemplate&gt;<br/>      &lt;TagsTemplate&gt;<br/>        {tags.map((tag, index) =&gt; {<br/>          return (<br/>            &lt;TagItem<br/>              key={index}<br/>              status={<br/>                filter.length !== 0 &amp;&amp; filter.includes(tag) ? "active" : ""<br/>              }<br/>              tag={tag}<br/>              onClick={tagClickHandler}<br/>            /&gt;<br/>          );<br/>        })}<br/>      &lt;/TagsTemplate&gt;<br/>      &lt;Search<br/>        value={query}<br/>        onChange={(e) =&gt; updateQuery(e.target.value.toLowerCase())}<br/>        placeholder={`Search ${trackList.length} tracks...`}<br/>      /&gt;<br/>      &lt;PlayerTemplate&gt;<br/>        &lt;TitleAndTimeBox&gt;<br/>          &lt;Title title={title} /&gt;<br/>          &lt;Time<br/>            time={`${!time ? "0:00" : fmtMSS(time)}/${<br/>              !length ? "0:00" : fmtMSS(length)<br/>            }`}<br/>          /&gt;<br/>        &lt;/TitleAndTimeBox&gt;<br/>        &lt;Progress<br/>          value={slider}<br/>          onChange={(e) =&gt; {<br/>            setSlider(e.target.value);<br/>            setDrag(e.target.value);<br/>          }}<br/>          onMouseUp={play}<br/>          onTouchEnd={play}<br/>        /&gt;<br/>        &lt;ButtonsAndVolumeBox&gt;<br/>          &lt;ButtonsBox&gt;<br/>            &lt;Loop src={looped ? loopCurrentBtn : loopNoneBtn} onClick={loop} /&gt;<br/>            &lt;Previous src={previousBtn} onClick={previous} /&gt;<br/>            {isPlaying ? (<br/>              &lt;Pause src={pauseBtn} onClick={pause} /&gt;<br/>            ) : (<br/>              &lt;Play src={playBtn} onClick={play} /&gt;<br/>            )}<br/>            &lt;Next src={nextBtn} onClick={next} /&gt;<br/>            &lt;Shuffle<br/>              src={shuffled ? shuffleAllBtn : shuffleNoneBtn}<br/>              onClick={shuffle}<br/>            /&gt;<br/>          &lt;/ButtonsBox&gt;<br/>          &lt;Volume<br/>            value={volume}<br/>            onChange={(e) =&gt; {<br/>              setVolume(e.target.value / 100);<br/>            }}<br/>          /&gt;<br/>        &lt;/ButtonsAndVolumeBox&gt;<br/>      &lt;/PlayerTemplate&gt;<br/>      &lt;PlaylistTemplate&gt;<br/>        {trackList<br/>          .sort((a, b) =&gt; (a.title &gt; b.title ? 1 : -1))<br/>          .map((el, index) =&gt; {<br/>            if (<br/>              filter.length === 0 ||<br/>              filter.some((filter) =&gt; el.tags.includes(filter))<br/>            ) {<br/>              if (el.title.toLowerCase().includes(query.toLowerCase())) {<br/>                playlist.push(index);<br/>                return (<br/>                  &lt;PlaylistItem<br/>                    status={curTrack === index ? "active" : ""}<br/>                    key={index}<br/>                    data_key={index}<br/>                    title={el.title}<br/>                    src={el.url}<br/>                    onClick={playlistItemClickHandler}<br/>                  /&gt;<br/>                );<br/>              }<br/>            }<br/>          })}<br/>      &lt;/PlaylistTemplate&gt;<br/>    &lt;/PageTemplate&gt;<br/>  );<br/>};</span></pre><p id="a7da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们导入了<a class="ae ln" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank"> useState </a>、<a class="ae ln" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank"> useEffect </a>和<a class="ae ln" href="https://reactjs.org/docs/hooks-reference.html#useref" rel="noopener ugc nofollow" target="_blank"> useRef </a>钩子，我们将使用它们来跟踪状态并对某些动作执行副作用。</p><p id="ca18" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们导入了在本教程的上一步中创建的所有组件，还导入了您下载的图标，这样我们就可以在组件中将它们用作源文件。</p><p id="03b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">音乐播放器将使用<code class="fe nc nd ne nf b">M:SS</code>格式来显示曲目的当前和总时间，因此我们为时间组件创建了转换器函数。</p><p id="1108" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我们为将在应用程序中使用的所有变量设置状态。我们还遍历了从<code class="fe nc nd ne nf b">index.js</code>接收到的来自<code class="fe nc nd ne nf b">playlist</code>对象的所有标签，并将它们放入一个数组中，这样我们就可以将它们显示在播放器的顶部。</p><p id="9b24" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在初始加载时，我们创建了一个新的音频对象，并为<code class="fe nc nd ne nf b">loadeddata</code>、<code class="fe nc nd ne nf b">timeupdate</code>、<code class="fe nc nd ne nf b">volumechange</code>和<code class="fe nc nd ne nf b">ended</code>设置了事件监听器，这样当这些事件发生时，特定的功能就会被触发。</p><p id="e890" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还使用了副作用来设置当前曲目的来源，配置当前曲目结束时是否应该循环播放该曲目或播放列表，并在拖动进度和音量旋钮时设置曲目进度和音量级别，以及在选择任何标签时过滤曲目。</p><p id="a3f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们为循环、上一个、播放、暂停、下一个和随机播放图标上的点击事件创建了单独的函数。这些都很简单，功能通过函数名很直观。</p><p id="e4ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们将所有导入的组件按照我们在线框中设计的顺序放入返回块中，并传入我们单独创建每个组件时需要的所有道具。</p><h2 id="050f" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">增加响应能力</h2><p id="d08a" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">我们要做的最后一步是增加响应能力。我们将为以下组件创建一些CSS媒体规则:<code class="fe nc nd ne nf b">PlayerTemplate</code>、<code class="fe nc nd ne nf b">TitleAndTimeBox</code>、<code class="fe nc nd ne nf b">Title</code>、<code class="fe nc nd ne nf b">Time</code>、<code class="fe nc nd ne nf b">Progress</code>、<code class="fe nc nd ne nf b">ButtonsAndVolumeBox</code>、<code class="fe nc nd ne nf b">ButtonsBox</code>、<code class="fe nc nd ne nf b">Loop</code>和<code class="fe nc nd ne nf b">Shuffle</code>。</p><p id="5a7c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">媒体规则通常添加在样式表的底部，因此我们将浏览样式文件，并在我们之前编写的现有规则下添加以下规则:</p><p id="23e8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">PlayerTemplate.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="3969" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .wrapper {<br/>    padding: 0 20px;<br/>  }<br/>}</span></pre><p id="66d8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们确保播放器在移动设备上使用时，侧面有一些衬垫。</p><p id="e99a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">TitleAndTimeBox.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="4284" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 800px) {<br/>    .wrapper {<br/>      grid-template-columns: 1fr;<br/>    }<br/>  }</span></pre><p id="ff31" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将标题和时间组件设置为在小于<code class="fe nc nd ne nf b">800px</code>的设备上显示在彼此正上方。</p><p id="6dfc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Title.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="f330" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .title {<br/>    width: 100%;<br/>    text-align: center;<br/>  }<br/>}</span></pre><p id="3cdb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将标题设置为占据所有可用空间，并位于移动设备的中心。</p><p id="bd77" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Time.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="e96e" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .time {<br/>    text-align: center;<br/>  }<br/>}</span></pre><p id="6769" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将移动设备的时间组件文本居中。</p><p id="3a32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Progress.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="4047" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .container {<br/>    margin: 40px 0;<br/>  }<br/>}</span></pre><p id="1746" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们为移动设备上的进度组件设置上下边距。</p><p id="f2e3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">ButtonsAndVolumeBox.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="cf56" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 800px) {<br/>    .wrapper {<br/>      grid-template-columns: 1fr;<br/>    }<br/>  }</span></pre><p id="623f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将底部框和体积组件设置为在小于<code class="fe nc nd ne nf b">800px</code>的屏幕上显示在彼此正下方。</p><p id="2a06" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">ButtonsBox.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="73b5" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .wrapper {<br/>    grid-template-columns: repeat(3, auto);<br/>  }<br/>}</span></pre><p id="5f52" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们确保按钮框为移动设备使用等宽的三列布局。</p><p id="68b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Loop.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="7e0f" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .loop {<br/>    display: none;<br/>  }<br/>}</span></pre><p id="422b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们隐藏了移动设备上的循环按钮，以简化用户界面。</p><p id="ca35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">打开<code class="fe nc nd ne nf b">Shuffle.module.css</code>并包含以下样式规则:</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="f527" class="md me iq nf b gy nq nr l ns nt">@media only screen and (max-width: 600px) {<br/>  .shuffle {<br/>    display: none;<br/>  }<br/>}</span></pre><p id="0a6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们隐藏了移动设备上的随机播放按钮，以简化用户界面。</p><p id="9bb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在添加了媒体规则后，我们添加了音频播放器应负全部责任。</p><p id="a766" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了测试它，看看你的开发服务器是否还在终端中运行(如果它没有再次运行<code class="fe nc nd ne nf b">npm start</code>，然后打开端口<a class="ae ln" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>上的浏览器，按F12打开开发工具。</p><p id="260e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">尝试调整活动视图的大小，以查看播放器是否适应不同的屏幕宽度:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/9d1e502df77f75d1b8e4c44e76f36f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_URxAh8Z4o6BBLLNPNnXpQ.gif"/></div></div></figure><h2 id="d1bc" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">应用的部署</h2><p id="8629" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">为了让公众可以使用我们的应用程序，首先，我们需要将所有代码推送到<a class="ae ln" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</p><p id="153a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，创建<a class="ae ln" href="https://github.com/signup" rel="noopener ugc nofollow" target="_blank">一个新的GitHub账户</a>(如果你还没有的话)，然后<a class="ae ln" href="https://github.com/login" rel="noopener ugc nofollow" target="_blank">登录</a>。</p><p id="7d29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从菜单中选择create <a class="ae ln" href="https://github.com/new" rel="noopener ugc nofollow" target="_blank">一个新的存储库</a>，选择一个存储库名称(可以是“audio-player”或您想要的任何名称)，然后单击“Create repository”。</p><p id="7e35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要将应用程序推送到新创建的存储库，切换回您的终端/代码编辑器并运行以下命令(将<code class="fe nc nd ne nf b">&lt;username&gt;</code>替换为您的GitHub用户名，将<code class="fe nc nd ne nf b">&lt;reponame&gt;</code>替换为您的存储库名称):</p><pre class="kg kh ki kj gt nm nf nn no aw np bi"><span id="ff0f" class="md me iq nf b gy nq nr l ns nt">git remote add origin https://github.com/&lt;username&gt;/&lt;reponame&gt;.git<br/>git branch -M main<br/>git push -u origin main</span></pre><p id="5389" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后切换回你的<a class="ae ln" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a>并检查你的项目文件是否出现在你创建的库中。如果是这样，您已经成功地提交了您的代码。</p><p id="3580" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后一步是在线部署应用程序。为此，我们将使用<a class="ae ln" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>。</p><p id="29d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">前往<a class="ae ln" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>，<a class="ae ln" href="https://vercel.com/signup" rel="noopener ugc nofollow" target="_blank">创建一个新账户</a>(如果你还没有)，然后<a class="ae ln" href="https://vercel.com/login" rel="noopener ugc nofollow" target="_blank">登录</a>。</p><p id="a486" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后创建一个<a class="ae ln" href="https://vercel.com/new" rel="noopener ugc nofollow" target="_blank">新项目</a>。你需要安装Vercel for GitHub(访问权限)，这样<a class="ae ln" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>就可以查看你的<a class="ae ln" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> Github </a>库。</p><p id="a5ff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在从“导入Git库”面板导入您的项目。</p><p id="73db" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>会自动检测项目名称、构建命令和根目录，所以你不必担心这些。构建过程不应超过一分钟。</p><p id="b79d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在返回到项目的<code class="fe nc nd ne nf b">Overview</code>选项卡，点击Visit按钮，这将打开项目的实时URL。</p><p id="2b1f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">祝贺您，您已经成功部署了您的音乐播放器！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/8080c218724a3bb52057c507626fa1dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AdcNetJ_u4d87UssF2j0gQ.gif"/></div></div></figure><p id="0967" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从现在开始，每次你将更新推送到<a class="ae ln" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a>时，它将自动重新部署到<a class="ae ln" href="https://vercel.com" rel="noopener ugc nofollow" target="_blank"> Vercel </a>上，这意味着你的音频播放器将与<a class="ae ln" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的代码同步。</p><h2 id="63c6" class="md me iq bd mf mg mh dn mi mj mk dp ml la mm mn mo le mp mq mr li ms mt mu mv bi translated">结论</h2><p id="962a" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">在本教程中，我们首先定义的想法和功能，我们希望包括在我们的音频播放器。然后，我们创建了一个线框，并把所有的功能在用户界面。设计的最后一步是选择合适的配色方案，并为文本找到合适的字体。</p><p id="b9d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我们继续为我们的应用程序奠定基础。首先，我们设置React应用程序。然后我们创建了一些自定义的基础文件来正确地渲染播放器。最后，我们导入了所有用于控制音频播放的图标。</p><p id="b607" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在播放器的技术实现中，我们首先编写了所有单独的组件。然后我们创建播放器的主app文件，导入所有组件，并为音频播放器编写逻辑。为了改进用户界面，我们还加入了一些媒体规则，让玩家在移动设备上看起来也很棒。</p><p id="9c0b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们将所有代码都推送到Github，并从那里部署到Vercel上，因此可以从任何有互联网连接的设备上访问它。</p><p id="719b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个过程中，我希望你能深入了解React应用程序是如何构建的，以及有哪些方法可以构建你的文件结构。下次你需要在你的网站上展示一些音轨时，你会知道怎么做。</p></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><p id="73ed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">写作一直是我的激情所在，帮助和激励他人给我带来了快乐。如果您有任何问题，请随时联系我们！</p><p id="f976" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<a class="ae ln" href="https://twitter.com/madzadev" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae ln" href="https://www.linkedin.com/in/madzadev/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae ln" href="https://github.com/madzadev" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上给我接通！</p><p id="ab4e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">访问我的<a class="ae ln" href="https://madza.dev/blog" rel="noopener ugc nofollow" target="_blank">博客</a>获取更多类似的文章。</p><p id="253a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ob">更多内容看</em> <a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ob">说白了。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ob">免费周报</em> </strong> </a> <em class="ob">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="ob">Twitter</em></strong></a><em class="ob">和</em><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="ob">LinkedIn</em></strong></a><em class="ob">。查看我们的</em> <a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ob">社区不和谐</em> </strong> </a> <em class="ob">加入我们的</em> <a class="ae ln" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="ob">人才集体</em> </strong> </a> <em class="ob">。</em></strong></a></p></div></div>    
</body>
</html>