<html>
<head>
<title>9 Rare But Useful JavaScript Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">9个罕见但有用的JavaScript技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-rare-but-useful-javascript-tricks-cc7f2c380517?source=collection_archive---------0-----------------------#2022-03-11">https://javascript.plainenglish.io/7-rare-but-useful-javascript-tricks-cc7f2c380517?source=collection_archive---------0-----------------------#2022-03-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d576" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">短小精悍、功能强大的JavaScript技巧</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6c67f13c738221edb346537538affcf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dplB0oR3ZlN875yW"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sapegin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Artem Sapegin</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5162" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript发展至今，出现了很多令人惊叹的库和框架。它们为我们的现代生活提供了极大的便利，但其中许多都是基于本机实现的。今天我们将遇到一些罕见但有用的JavaScript技巧</p><h1 id="3374" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">getComputedStyle</h1><p id="38f9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">window.getComputedStyle()</code>方法返回一个<code class="fe mp mq mr ms b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration" rel="noopener ugc nofollow" target="_blank">CSSStyleDeclaration</a></code>对象(与style属性的类型相同),包含元素的计算样式</p><p id="5ec2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">语法</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="9b10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该方法接受两个参数:获取计算样式的元素和一个伪元素字符串(如<code class="fe mp mq mr ms b">:after</code>)。如果不需要查询伪元素，可以向第二个参数传递null。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h1 id="34a1" class="ls lt iq bd lu lv nc lx ly lz nd mb mc jw ne jx me jz nf ka mg kc ng kd mi mj bi translated">getBoundingClientRect</h1><p id="76c1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">Element.getBoundingClientRect()</code>方法返回一个<code class="fe mp mq mr ms b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMRect" rel="noopener ugc nofollow" target="_blank">DOMRect</a></code>，一个提供元素大小及其相对于<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Glossary/Viewport" rel="noopener ugc nofollow" target="_blank">视窗</a>位置信息的对象。</p><p id="5201" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">语法</strong></p><pre class="kg kh ki kj gt nh ms ni nj aw nk bi"><span id="16d1" class="nl lt iq ms b gy nm nn l no np">domRect = element.getBoundingClientRect();</span></pre><p id="b173" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它的返回值是一个<code class="fe mp mq mr ms b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMRect" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">DOMRect</strong></a></code>对象，它是元素的<code class="fe mp mq mr ms b"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getClientRects" rel="noopener ugc nofollow" target="_blank">getClientRects()</a></code>方法返回的矩形集合，是元素的CSS边框大小。</p><p id="58e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">返回的结果是包含完整元素的最小矩形，并且具有以像素<code class="fe mp mq mr ms b">left, top, right, bottom, x, y, width, and height</code>表示的描述整个边框的只读属性。宽度和高度以外的属性是相对于视图窗口的左上角计算的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/bb8ec4f01b22d5d30120290e5a9029a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZZj39ol5dLXSgPSYuJJOqw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">from <a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" rel="noopener ugc nofollow" target="_blank">mdn</a></figcaption></figure><p id="8ea1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">应用场景</strong></p><ol class=""><li id="d85f" class="nr ns iq ky b kz la lc ld lf nt lj nu ln nv lr nw nx ny nz bi translated">获取DOM元素相对于网页左上角的距离</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa mu l"/></div></figure><p id="dd68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.确定元素是否在可见区域</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa mu l"/></div></figure></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h1 id="9da5" class="ls lt iq bd lu lv nc lx ly lz nd mb mc jw ne jx me jz nf ka mg kc ng kd mi mj bi translated">仅执行一次的事件侦听器</h1><p id="9354" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">再也不用lodash的once方法了，Vanilla JS可以</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="08d4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">从数组中获取最小值/最大值</h1><p id="090a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">可以将Math.min()或Math.max()与spread运算符一起使用，以查找数组中的最小值或最大值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="1829" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">复制到剪贴板</h1><p id="0113" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">您可以使用<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API" rel="noopener ugc nofollow" target="_blank">剪贴板API </a>创建一个“复制到剪贴板”功能</p><p id="5f9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">剪贴板API提供了响应剪贴板命令(剪切、复制和粘贴)以及异步读取和写入系统剪贴板的能力。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="9ff4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个函数执行后，它会在3秒内读取我们在当前页面使用Ctrl + C的内容，然后使用Ctrl + V到控制台，就可以看到刚刚复制的内容。</p><p id="c2a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:如果你没有在3秒钟内使用Ctrl + C，那么控制台会给出一个错误</p><h1 id="4079" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">让您的console.log()看起来有风格</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/dc9f8f34fad63127f978501101999cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m7l0_38HSzmP8RlVqrudMw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">EG: Make your console.log() appear styled</figcaption></figure><p id="6dcc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让你的控制台变得丰富多彩，你可以在一些特殊的场景下(类似于打印Redux流，Axios请求服务API等)。</p><p id="3370" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是CSS格式说明符及其各自输出的列表。</p><ul class=""><li id="a70f" class="nr ns iq ky b kz la lc ld lf nt lj nu ln nv lr oc nx ny nz bi translated">%s将值格式化为字符串</li><li id="b1fe" class="nr ns iq ky b kz od lc oe lf of lj og ln oh lr oc nx ny nz bi translated">%i或%d将值格式化为整数</li><li id="be5f" class="nr ns iq ky b kz od lc oe lf of lj og ln oh lr oc nx ny nz bi translated">%f将值格式化为浮点值</li><li id="29fa" class="nr ns iq ky b kz od lc oe lf of lj og ln oh lr oc nx ny nz bi translated">%o将值格式化为可扩展的DOM元素。如元素面板中所示</li><li id="76b3" class="nr ns iq ky b kz od lc oe lf of lj og ln oh lr oc nx ny nz bi translated">%O将值格式化为可扩展的JavaScript对象</li><li id="1999" class="nr ns iq ky b kz od lc oe lf of lj og ln oh lr oc nx ny nz bi translated">%c将CSS样式规则应用于第二个参数指定的输出字符串</li></ul><h2 id="bf80" class="nl lt iq bd lu oi oj dn ly ok ol dp mc lf om on me lj oo op mg ln oq or mi os bi translated">句法</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/8507408f903892383daf194b4c0b88d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8iqtCPCiNqJofN9lOy0aaQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Awesome!</figcaption></figure></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h1 id="61aa" class="ls lt iq bd lu lv nc lx ly lz nd mb mc jw ne jx me jz nf ka mg kc ng kd mi mj bi translated">HTML5数据-*属性</h1><p id="e9bc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">data-*</code> <a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes" rel="noopener ugc nofollow" target="_blank">全局属性</a>形成了一类称为定制数据属性的属性，它允许通过脚本在HTML及其DOM表示之间交换专有信息。</p><p id="1614" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个很棒的功能！试想一下，如果你的项目中有一个逻辑是你不敢改变或者不能理解的，但是你需要在这个标签上做点别的，那么不要犹豫，是时候用<code class="fe mp mq mr ms b"><strong class="ky ir">data-*</strong></code>了</p><p id="95db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个函数非常干净，没有侵入代码，<strong class="ky ir">而且对重构</strong>很有好处，因为它不是脏代码</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa mu l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Try clicking on species type</figcaption></figure><h1 id="bfae" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">检查大写锁定是否打开</h1><p id="cd62" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">一个非常常见的场景是，在登录界面中，用户可能无意中打开了Caps Lock键，这时我们需要给用户一个轻微的提醒，这是一种培养良好的<strong class="ky ir">用户体验的方式</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa mu l"/></div></figure><h1 id="75f0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Void 0 vs未定义</h1><p id="6343" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">好吧，没有区别。<code class="fe mp mq mr ms b">void 0</code>总回报<code class="fe mp mq mr ms b">undefined</code></p><p id="c0dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，在React中，您可以编写:)</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="13b6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="a51d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">通过这篇文章我们学到了一些罕见但有用的JavaScript技巧，希望对你有所帮助！</p><h1 id="269f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">了解更多信息</h1><div class="ou ov gp gr ow ox"><a href="https://medium.com/@_tomoe/how-to-write-clean-typescript-code-eda1716eead1" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">如何写出干净的TypeScript代码？</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">我们如何在工作中写出干净的TypeScript代码，本文带你通过9个知识点来掌握如何写…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl kp ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a href="https://medium.com/weekly-webtips/12-extremely-practical-javascript-one-line-codes-35b95c2d21a8" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">12个非常实用的JavaScript单行代码</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">非常简短、漂亮、实用的JavaScript技巧</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="pm l pi pj pk pg pl kp ox"/></div></div></a></div><p id="585f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="pn">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pn">plain English . io</em></strong></a><em class="pn">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pn">免费周报</em> </strong> </a> <em class="pn">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pn">Twitter</em></strong></a><em class="pn">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pn">LinkedIn</em></strong></a><em class="pn">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pn">社区不和谐</em> </strong> </a> <em class="pn">。</em></p></div></div>    
</body>
</html>