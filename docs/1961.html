<html>
<head>
<title>How to Write Better React Redux Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编写更好的React Redux组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-write-better-react-redux-components-d4b05e593f28?source=collection_archive---------8-----------------------#2022-05-03">https://javascript.plainenglish.io/how-to-write-better-react-redux-components-d4b05e593f28?source=collection_archive---------8-----------------------#2022-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="151c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为了编写更好的代码，您应该实现这两个原则。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/59f0f5c26fa03f7fb91851ec6ae1b8f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HR2yh2Ac9cPSVywFmNNb1w.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@joeyc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Joe Caione</a> on <a class="ae kv" href="https://unsplash.com/s/photos/happy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8ed7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你被分配了一项重构任务，现在你想知道如何以最好的方式开始。完成它的步骤是什么？</p><p id="6329" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都经历过。</p><p id="cb73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可能没有成为一名优秀程序员的神奇秘方。</p><p id="8f6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天，当重构一个React Redux组件时，我试图应用两个基本的软件开发原则，希望最终的代码会更好，因为我想人们愿意这样做。</p><p id="453b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有两条有效的原则，你也可以用来编写更好的代码:</p><ul class=""><li id="1e57" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">把一个复杂的问题分解成较小的部分</li><li id="f505" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">编写您的代码时，就好像别人会阅读它一样</li></ul><p id="c06e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，有两个以上的软件开发原则可以帮助你成为一名优秀的程序员，然而，并不是所有的原则都同时适用于一个特定的任务。这与国际象棋非常相似:一个好的位置移动总是根据一定的原则进行，但却准确地应用于特定的位置。</p><h1 id="4ff0" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">例子</h1><p id="f605" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">因此，让我向您展示以下问题是如何在GitHub上的Redux Chess repo上关闭的——请随意查看所做的更改。</p><div class="nd ne gp gr nf ng"><a href="https://github.com/chesslablab/redux-chess/issues/306" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">添加一个按钮，允许将邀请代码复制到剪贴板问题#306 …</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">此时，当与朋友一起玩时，用户必须手动选择并复制邀请代码，如…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">github.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu kp ng"/></div></div></a></div><p id="d36a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此任务是关于添加一个按钮，允许用户将邀请代码复制到他们的剪贴板。</p><h1 id="be27" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">看下面的数字</h1><p id="be7b" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">这是最终用户在完成任务之前看到的UI。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/e320fc1524f34e1c0a48c22e43e27ac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXxXYP43DotFD7QYiRNsRw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 1. <strong class="bd nw">Play a Friend</strong> &gt; <strong class="bd nw">Create Invite Code</strong></figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/264462310edd08ae1563fc9c8580b673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8I3Z42c2cWqzXSo0Rv-yA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 2. The <strong class="bd nw">Create Code</strong> button is clicked on</figcaption></figure><p id="f98e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是它完成后的样子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/b4269e1c5904780ec4b35b4c8e2d8c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B0DeLynC2nM43aRkLQ9URg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 3. <strong class="bd nw">Play a Friend</strong> &gt; <strong class="bd nw">Create Invite Code</strong></figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/8b9750a6853a700101fa0858d2660a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rj_vmMHbk-5csddrDxpkzg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 4. The <strong class="bd nw">Create Code</strong> button is clicked on</figcaption></figure><p id="6ceb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意一旦用户点击<strong class="ky ir">创建代码</strong>按钮，对话框内容是如何变化的。</p><p id="39f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题是，在这次重构中，只有一个文件发生了变化:</p><ul class=""><li id="31c4" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://github.com/chesslablab/redux-chess/commit/ebe547f8544fefa6a6a1b89013da14578a7a2a49" rel="noopener ugc nofollow" target="_blank">src/components/Dialog/createinvitecodedialog . js</a></li></ul><p id="f02a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上<code class="fe oa ob oc od b">CreateInviteCodeDialog.js</code>已经被分成两个更小的部分:<code class="fe oa ob oc od b">CreateCode</code>和<code class="fe oa ob oc od b">CopyCode</code>。</p><h1 id="202e" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">重构前后的代码</h1><p id="1926" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在Redux的帮助下，很容易根据应用程序的状态定制组件的呈现方式，如下例所示，在重构发生之前。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="c8f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不幸的是，当React组件变得越来越复杂时，它也变得越来越难以理解。在这个例子中，只要还没有创建邀请代码，<strong class="ky ir">创建代码</strong>按钮总是与<strong class="ky ir">取消</strong>按钮一起显示；否则，显示<strong class="ky ir">播放</strong>按钮。虽然这种方法没有错，但是您不希望最终编写一个带有太多if语句或三元运算符的Hook组件，就像这样。如果是这种情况，您可能希望将原始组件拆分成更小的组件，以便您的同事和您自己都能轻松理解代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="61c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过分而治之的方法，只需在<code class="fe oa ob oc od b">CreateInviteCodeDialog</code>中编写一个三元运算符，就可以根据应用程序的状态呈现组件，而不是编写多个三元运算符。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/cab8fd205c65b6c373289e079bee87bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WjHGG_o3kuwdTRMsZwVgMg.jpeg"/></div></div></figure><p id="c5ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">记住，重要的是编写可读的代码。这是目前所有的，非常感谢您的阅读！</p><div class="nd ne gp gr nf ng"><a href="https://medium.com/geekculture/why-typescript-and-php-are-good-friends-964360fb75f6" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">为什么TypeScript和PHP是好朋友</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">完整指南</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">medium.com</p></div></div><div class="np l"><div class="oh l nr ns nt np nu kp ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a href="https://medium.com/codex/how-to-write-a-reusable-react-loading-indicator-9e576ba84ce3" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">如何编写一个可重用的反应负载指示器</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">使用Redux和MUI组件</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">medium.com</p></div></div><div class="np l"><div class="oi l nr ns nt np nu kp ng"/></div></div></a></div><div class="nd ne gp gr nf ng"><a rel="noopener  ugc nofollow" target="_blank" href="/check-out-the-redux-chess-demo-acbea003d710"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd ir gy z fp nl fr fs nm fu fw ip bi translated">查看Redux国际象棋演示</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">请坐下来，享受一杯你最喜欢的啤酒</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="np l"><div class="oj l nr ns nt np nu kp ng"/></div></div></a></div><p id="6db7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ok">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ok">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ok">免费周报</em> </strong> </a> <em class="ok">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ok">Twitter</em></strong></a><em class="ok">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ok">LinkedIn</em></strong></a><em class="ok">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ok">社区</em> </strong> </a> <em class="ok">。</em></strong></a></p></div></div>    
</body>
</html>