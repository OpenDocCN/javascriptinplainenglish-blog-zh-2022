<html>
<head>
<title>How to Filter Duplicate Objects From an Array in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中过滤数组中的重复对象</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-filter-duplicate-objects-from-array-5232d9651f72?source=collection_archive---------3-----------------------#2022-12-23">https://javascript.plainenglish.io/javascript-filter-duplicate-objects-from-array-5232d9651f72?source=collection_archive---------3-----------------------#2022-12-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f0d95eeee6328556ed1ada072de4b3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LTiKN9jpyMVlOur-xIohrg.png"/></div></div></figure><h1 id="d5d3" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">1.仅保留数组中具有属性值的第一个对象</h1><p id="f406" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">要通过JavaScript中的属性过滤数组中的重复对象，请使用<code class="fe lr ls lt lu b">filter()</code>方法过滤掉数组中不是第一个具有属性值的元素。</p><p id="6012" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">例如:</p><p id="32ab" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="b8db" class="mi jw in lu b be mj mk l ml mm">const arr = [<br/>  {<br/>    name: 'John',<br/>    location: 'Los Angeles',<br/>  },<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York',<br/>  },<br/>  {<br/>    name: 'Mike',<br/>    location: 'New York',<br/>  },<br/>];<br/><br/>const unique = arr.filter(<br/>  (obj, index) =&gt;<br/>    arr.findIndex((item) =&gt; item.location === obj.location) === index<br/>);<br/>/*<br/>   [<br/>     { name: 'John', location: 'Los Angeles' },<br/>     { name: 'Kate', location: 'New York' }<br/>   ]<br/> */<br/>console.log(unique);</span></pre><p id="84ac" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank">Array</a></code> <a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank">filter()</a></code>根据回调函数指定的条件测试数组中的每个元素，并创建一个填充了通过测试的元素的新数组。它不会修改原始数组。</p><p id="4dbd" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="ac1b" class="mi jw in lu b be mj mk l ml mm">const arr = [1, 2, 3, 4];<br/><br/>const filtered = arr.filter((num) =&gt; num &gt; 2);<br/>console.log(filtered); // [ 3, 4 ]</span></pre><p id="1c96" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" rel="noopener ugc nofollow" target="_blank">Array</a></code> <a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" rel="noopener ugc nofollow" target="_blank">findIndex()</a></code>方法搜索数组中的元素，并返回第一个通过测试的元素的索引，该索引由传递给它的回调函数指定。我们用它来查找与对象<code class="fe lr ls lt lu b">filter()</code>当前测试的属性值相同的第一个数组元素。</p><p id="c03b" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">在我们的例子中，对象的<code class="fe lr ls lt lu b">filter()</code>条件是它的数组索引与<code class="fe lr ls lt lu b">findIndex()</code>的结果相同。如果该条件为<code class="fe lr ls lt lu b">true</code>，则意味着该对象是第一个具有属性值的数组元素。如果是<code class="fe lr ls lt lu b">false</code>，这意味着已经有一个数组项具有该属性值，所以该对象是重复的，不应该包含在结果中。</p><p id="fc80" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="0290" class="mi jw in lu b be mj mk l ml mm">const arr = [<br/>  {<br/>    name: 'John',<br/>    location: 'Los Angeles',<br/>  },<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York',<br/>  },<br/>  {<br/>    name: 'Mike',<br/>    location: 'New York',<br/>  },<br/>];<br/><br/>// true - first object with location of New York<br/>console.log(1 === arr.findIndex((obj) =&gt; obj.location === 'New York'));<br/><br/>// false - will not be included in result<br/>console.log(2 === arr.findIndex((obj) =&gt; obj.location === 'New York'));</span></pre><h1 id="fb21" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">通过多个属性过滤数组中的重复对象</h1><p id="5ca4" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">根据您的具体情况，您可能希望一个对象只有在具有两个或更多相同值的属性(多个属性值相同)时才被视为重复。</p><p id="b1b2" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">对于这种情况，我们将像以前一样使用<code class="fe lr ls lt lu b">filter()</code>和<code class="fe lr ls lt lu b">findIndex()</code>，但是我们将在<code class="fe lr ls lt lu b">filter()</code>的对象和<code class="fe lr ls lt lu b">findIndex()</code>的对象之间为所有属性添加额外的比较。</p><p id="15a9" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">例如:</p><p id="f0b7" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="40af" class="mi jw in lu b be mj mk l ml mm">const arr = [<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York'<br/>  },<br/>  {<br/>    name: 'Mike',<br/>    location: 'New York'<br/>  },<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York'<br/>  }<br/>];<br/><br/>const unique = arr.filter(<br/>  (obj, index) =&gt;<br/>    arr.findIndex(<br/>      (item) =&gt; item.location === obj.location &amp;&amp; item.name === obj.name<br/>    ) === index<br/>)<br/>/*<br/>   [<br/>      { name: 'Kate', location: 'New York' },<br/>      { name: 'Mike', location: 'New York' }<br/>   ]<br/> */<br/>console.log(unique);</span></pre><h1 id="a36e" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">2.从<code class="fe lr ls lt lu b">unique</code>数组中排除重复项</h1><p id="b167" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">这里有另一种在JavaScript中从数组中过滤重复对象的方法:</p><ol class=""><li id="b3f2" class="mo mp in kv b kw lv la lw le mq li mr lm ms lq mt mu mv mw bi translated">创建一个空的<code class="fe lr ls lt lu b">unique</code>数组来存储唯一的对象。</li><li id="fbbd" class="mo mp in kv b kw mx la my le mz li na lm nb lq mt mu mv mw bi translated">遍历数组中的对象。</li><li id="6487" class="mo mp in kv b kw mx la my le mz li na lm nb lq mt mu mv mw bi translated">对于每个对象，如果它不是重复的，就将其添加到<code class="fe lr ls lt lu b">unique</code>数组中。否则，忽略它。</li></ol><p id="fa12" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">例如:</p><p id="281e" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="f576" class="mi jw in lu b be mj mk l ml mm">const arr = [<br/>  {<br/>    name: 'John',<br/>    location: 'Los Angeles',<br/>  },<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York',<br/>  },<br/>  {<br/>    name: 'Mike',<br/>    location: 'New York',<br/>  },<br/>];<br/><br/>const unique = [];<br/>for (const item of arr) {<br/>  const isDuplicate = unique.find((obj) =&gt; obj.location === item.location);<br/>  if (!isDuplicate) {<br/>    unique.push(item);<br/>  }<br/>}<br/>/*<br/>   [<br/>    { name: 'John', location: 'Los Angeles' },<br/>    { name: 'Kate', location: 'New York' }<br/>  ]<br/>*/<br/>console.log(unique);</span></pre><p id="6a43" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">我们使用<code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" rel="noopener ugc nofollow" target="_blank">for...of</a></code>循环迭代数组，并对每个对象执行一个操作。</p><p id="22b4" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">对于每个对象，我们使用<code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" rel="noopener ugc nofollow" target="_blank">find()</a></code>方法来检查它是否已经存在于<code class="fe lr ls lt lu b">unique</code>数组中。<code class="fe lr ls lt lu b">Array</code> <code class="fe lr ls lt lu b">find()</code>搜索数组中通过指定测试的第一个对象，类似于<code class="fe lr ls lt lu b">findIndex()</code>，但它返回对象本身，而不是其数组索引。</p><p id="eb31" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="280e" class="mi jw in lu b be mj mk l ml mm">const nums = [2, 5, 8, 13, 19];<br/><br/>const doubleDigit = nums.find((num) =&gt; num &gt; 9);<br/>console.log(doubleDigit); // 13</span></pre><p id="3f93" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">如果它不在<code class="fe lr ls lt lu b">unique</code>数组中，我们简单地用<code class="fe lr ls lt lu b"><a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" rel="noopener ugc nofollow" target="_blank">push()</a></code>方法添加它。</p><p id="2e88" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated">这种方法不像第一种方法那样是一个<a class="ae mn" href="https://codingbeautydev.com/blog/javascript-one-liners/" rel="noopener ugc nofollow" target="_blank">单句</a>，但是你会发现它更容易理解。作为一个人，从列表中删除重复的项目似乎是一种自然的方式。</p><h1 id="81d8" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">通过多个属性过滤数组中的重复对象</h1><p id="975d" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">与前面的方法一样，如果使用多个属性来确定一个对象是否重复，您可以简单地为属性添加更多检查—这次是在<code class="fe lr ls lt lu b">find()</code>方法中:</p><p id="7b2f" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><code class="fe lr ls lt lu b">JavaScript</code></p><pre class="ma mb mc md gt me lu mf bn mg mh bi"><span id="b1ae" class="mi jw in lu b be mj mk l ml mm">const arr = [<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York',<br/>  },<br/>  {<br/>    name: 'Mike',<br/>    location: 'New York',<br/>  },<br/>  {<br/>    name: 'Kate',<br/>    location: 'New York',<br/>  },<br/>];<br/><br/>const unique = [];<br/>for (const item of arr) {<br/>  // 👇 "name" and "location" used for duplicate check<br/>  const duplicate = unique.find(<br/>    (obj) =&gt; obj.location === item.location &amp;&amp; obj.name === item.name<br/>  );<br/>  if (!duplicate) {<br/>    unique.push(item);<br/>  }<br/>}<br/>/*<br/>  [<br/>    { name: 'Kate', location: 'New York' },<br/>    { name: 'Mike', location: 'New York' }<br/>  ]<br/> */<br/>console.log(unique);</span></pre></div><div class="ab cl nc nd hr ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ig ih ii ij ik"><p id="12f7" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><em class="nj">原载于</em><a class="ae mn" href="https://cbdev.link/ba2999" rel="noopener ugc nofollow" target="_blank"><em class="nj">codingbeautydev.com</em></a></p><h1 id="42de" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="ma mb mc md gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph kt ku in kv b kw lv ky kz la lw lc ld le lx lg lh li ly lk ll lm lz lo lp lq ig bi translated"><a class="ae mn" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">报名</strong> </a>立即免费领取一份。</p><h2 id="5ae8" class="nl jw in bd jx nm nn dn kb no np dp kf le nq nr kj li ns nt kn lm nu nv kr nw bi translated">更多内容请访问<a class="ae mn" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="e8a0" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><em class="nj">报名参加我们的</em> <a class="ae mn" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nj">免费每周简讯</em> </strong> </a> <em class="nj">。关注我们关于</em> <a class="ae mn" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nj">推特</em> </strong> </a>、<a class="ae mn" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nj">领英</em> </strong> </a> <strong class="kv io"> <em class="nj">、</em></strong><a class="ae mn" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nj">YouTube</em></strong></a><strong class="kv io"><em class="nj">，以及</em></strong><em class="nj"/><a class="ae mn" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nj">不和</em> </strong> </a>T53】</p><h2 id="9278" class="nl jw in bd jx nm nn dn kb no np dp kf le nq nr kj li ns nt kn lm nu nv kr nw bi translated">想扩大你的软件创业规模吗？检查<a class="ae mn" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div></div>    
</body>
</html>