<html>
<head>
<title>JavaScript Destructuring Techniques that Every Developer Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个开发人员都应该知道的JavaScript析构技术</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-destructuring-techniques-that-every-developer-should-know-dbe9b6d25e6c?source=collection_archive---------6-----------------------#2022-02-17">https://javascript.plainenglish.io/javascript-destructuring-techniques-that-every-developer-should-know-dbe9b6d25e6c?source=collection_archive---------6-----------------------#2022-02-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c844" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为每个人揭开JavaScript析构的神秘面纱，以提高生产力</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8cfdb51b46c02e2f36b6f15b4009be21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vUAWzH4driQUC-GD"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">BG Image — <a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5ada" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">析构是JavaScript开发人员中非常流行的术语，也是最不常用的。大多数人在开始使用JavaScript时听到或学习了这个术语，但是一旦他们开始在现实世界的项目中工作，就忘记了使用它。不是说没有开发人员使用这个，但是我见过有人在代码中使用析构时看起来像是一些复杂的语法。虽然快速浏览可以让你看起来像是在为两行代码就能解决的事情编写复杂的语法，但是只有在所有可能的应用中使用析构的人才能理解析构的威力。根据MDN:</p><p id="eb53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">“析构赋值语法是一个JavaScript表达式，可以将数组中的值或对象中的属性解包到不同的变量中。”</em>T3】</strong></p><p id="d11e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就引出了我的下一个观点，大多数人认为析构只是为了扩展数组，但事实并非如此。在JavaScript中，对象为王，您创建的数组也是JS的对象，其工作原理超出了本文的范围。但是析构可以应用于js数组和对象。在本文中，我们将介绍一些最常见的析构应用和技术。为了更好地理解，我们将看一看每个例子——有/没有析构。</p><h1 id="8c7a" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">1.基本数组析构</h1><p id="9167" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这里没有什么特别的，基本的析构是经常需要的，也是最容易被忽视的，因为它违背了干净代码的干燥原则。这里没有什么特别的，只是一个有三个字符串的数组，并根据它们的位置将它们一个接一个地提取到三个独立的变量中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Without destructuring</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">With Destructuring</figcaption></figure><p id="25ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在上面看到的，通过使用数组析构，我们可以在一行中编写相同的代码。我们使用同一行代码提取三个数组值，并将它们分配给各自的变量。这是析构数组最常见的用例。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="7362" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">2.析构为拆分数组</h1><p id="bc17" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们刚刚学习了基本的析构，现在让我们把它应用到一个更一般的任务中。如果我们有一个包含6个元素的数组，我们希望从数组中提取第一个元素，并创建一个包含最后5个元素的新数组。通常，我们可以创建一个新变量，将位置0的元素赋给它，然后创建另一个变量，在使用操作符对数组进行切片后，我们将在该变量中存储数组的第二部分。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Without Destructuring</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">With Destructuring</figcaption></figure><p id="6cf7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在上面看到的，我们使用了析构来提取第一个元素，并用其余的元素创建了一个新的数组。如果我们需要提取更多的单个变量，我们也可以使用相同的技术，只要我们只在左边的析构数组的最后一项上使用spread操作符。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="6bc0" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">3.使用默认值进行析构</h1><p id="1301" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们刚刚学习了基本的析构，但是可能会有这样的情况，由于一些错误，比如长度不匹配，被赋值的变量变得未定义。在这种情况下，我们可以在析构时提供一个默认值。在下面的例子中，我们试图从一个长度为1的数组中给变量a和b赋值。如你所见，我们在同一行中为两个变量定义了默认值，这就是为什么' b '不是未定义的，而是打印出默认值7。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Default Value with Destructuring.</figcaption></figure></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="476d" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">4.交换值</h1><p id="4bd0" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这是一个非常有趣的析构用例。使用正常方法交换两个变量的值需要使用一个临时变量或对两个变量执行一些数学运算。如果场景是在一个数组中的不同位置交换值，则需要更多的步骤。这是析构最简单但有效的应用之一。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Swapping with destructuring</figcaption></figure><p id="617e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，我们通过析构来交换两个变量<em class="ls">‘a’&amp;‘b’</em>的值，而没有使用任何临时或数学运算。我们只需要把左侧数组的变量包装起来，它们会自动取左侧对应位置的变量的值。这可以在第二个示例中观察到，在第二个示例中，<em class="ls">‘a’，‘b’&amp;‘c’</em>之间的交换值也在一行中。最后一个例子展示了如何交换数组中两个位置的值，我们交换的是数组中位置1和位置2的值。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="7d25" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">5.功能参数</h1><p id="0f28" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">另一个我们可以在函数参数中使用析构的地方。让我们考虑下面的例子。我们有一个函数，它将用户的<em class="ls">名字</em> &amp; <em class="ls">姓氏</em>作为参数，并返回一个完整的带有全名的字符串。如你所见，通常我们可以通过调用函数来传递函数的参数，并根据函数定义分别传递两个参数。但是这种方法的问题是，每次我们调用函数时，我们必须分别传递变量名，如果变量的数量超过一个或两个，代码看起来会很混乱。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Without Destructuring</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">With Destructuring</figcaption></figure><p id="1b8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，如果您检查函数定义，您可以看到我们已经在函数定义本身的参数中添加了数组析构。这样，我们就可以直接使用数组来调用函数，而不必传递单独的元素或一次又一次地重复相同的代码。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="9673" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">6.函数返回值</h1><p id="17ed" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">就像函数参数一样，我们也可以在返回数组的函数上有效地使用析构。考虑下面的例子，我们有一个函数返回两个元素的数组。为了得到这些值，我们可以首先将它们存储在一个数组变量中，然后分别提取它们。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Without Destructuring</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">With Destructuring</figcaption></figure><p id="50c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，我们在一行中使用数组析构直接声明数组元素并将其分配给<em class="ls">‘a’&amp;‘b’</em>。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="8cae" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">7.基本对象析构</h1><p id="9031" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们学习了常见的数组析构技术，但是如果我们有一个属性很少的对象，我们需要将一些属性提取到一个变量中，这样我们就不必调用这个对象了，该怎么办呢？每次我们需要使用属性名时。我们用于数组的技术也可以应用于对象。考虑下面这段代码，其中我们有一个具有4个属性的对象，我们需要将其中三个提取到单独的变量中。这就是我们通常的写法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Without destructuring</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">With destructuring</figcaption></figure><p id="3ef9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是正如你在上面看到的，使用对象析构，我们可以把它简化成一行代码，同时提取新变量并赋值。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="e12b" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">8.具有新名称或默认值的</h1><p id="eb05" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">基本析构可能不会一直用于对象，因为声明对象属性并将它们析构为同名变量看起来有点多余。但是对象析构可以应用到更多的用例中，你可以在下面的例子中看到。</p><ul class=""><li id="f259" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated">析构和重命名新变量。</li><li id="8e8d" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated">析构和为未定义的属性提供默认值。</li><li id="8387" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated">用新的变量名和默认值进行析构。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="cbc5" class="lt lu iq bd lv lw mz ly lz ma na mc md jw nb jx mf jz nc ka mh kc nd kd mj mk bi translated">9 .组合数组和对象析构</h1><p id="bad7" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">让我们看看如何将数组和对象析构结合起来用于一个常见的用例。例如，如果您想要对象数组中的第三个元素，然后您想要访问特定对象中的属性。我们可以结合数组和对象析构来快速有效地访问属性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="11f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，我们通过析构和重命名属性来访问来自<em class="ls"> users </em>数组中不同用户对象的用户名，就像我们上一个例子一样。如果您观察<code class="fe ns nt nu nv b">name:FirstUserName</code>，您可以看到我们已经将它包装在一个对象中，该对象包装在一个数组和两个尾随逗号(，，)中。逗号在这里是一个关键部分，因为它定义了我们试图访问的数组中对象的位置。</p><p id="9af1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了进一步澄清，对于<em class="ls"> firstUsername </em>，我们在对象后有两个尾随逗号，对于<em class="ls"> secondUserName </em>我们在secondUserName对象前后有一个逗号，在第三个用户名前有两个逗号(参见代码片段)。在析构的时候，你可以即兴创作更多，甚至为属性赋予默认值。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><p id="5243" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目前关于JavaScript中的析构技术就这些了。相信大部分日常用例都已经涵盖了。出于文章篇幅的考虑，我们省略了几个非常相似的。如果你有更多你认为会增加价值的析构技术，请在回复中添加它们。</p><p id="6fe9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a><em class="ls">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费周报</em> </strong> </a> <em class="ls">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">社区</em> </strong> </a> <em class="ls">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>