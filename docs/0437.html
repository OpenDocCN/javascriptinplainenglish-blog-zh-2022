<html>
<head>
<title>JavaScript Ternary Operator: A Practical Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript三元运算符:实用指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-ternary-operator-b76a02c90850?source=collection_archive---------9-----------------------#2022-01-25">https://javascript.plainenglish.io/javascript-ternary-operator-b76a02c90850?source=collection_archive---------9-----------------------#2022-01-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/8985c7d1fc32ec41572215a5e02b7f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tY0ZVWxlkwiE3ZgC"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pankaj Patel</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0990" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">包含问号的JavaScript操作符列表可能会让第一次接触该语言的新开发人员感到惊讶。</p><p id="100a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们已经讨论了<a class="ae jz" href="https://medium.com/@lorenzozar/javascript-operator-5d3bd92e835e" rel="noopener">零化凝聚算子(？？)</a>作品。</p><p id="9c0a" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本帖中，我们将讨论一种叫做三元运算符的条件运算符。</p><h1 id="49d2" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">JavaScript三元运算符</h1><p id="1772" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">遵循<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" rel="noopener ugc nofollow" target="_blank"> MDN定义</a>，"<em class="mb">条件(三元)操作符是唯一一个接受三个操作数的JavaScript操作符:一个条件后跟一个问号(？)，然后是条件为truthy时要执行的表达式，后跟冒号(:)，最后是条件为falsy </em>时要执行的表达式。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="7433" class="ml kz in mh b gy mm mn l mo mp"><em class="mb">condition ? expression1 : expression2</em></span></pre><p id="6f64" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以这样理解这个操作符:如果<em class="mb">条件</em>为真，执行<em class="mb">表达式1 </em>否则执行<em class="mb">表达式2。</em>这并不完全准确，但在深入探讨真与假之前，让我们看一个条件只能为真或假的例子。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="20b1" class="ml kz in mh b gy mm mn l mo mp">let condition = true;</span><span id="523e" class="ml kz in mh b gy mq mn l mo mp">console.log(condition ? 'exp 1' : 'exp 2'); // exp 1</span></pre><p id="e8d8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">因为我们将名为condition的变量定义为true，所以三元运算符执行第一个表达式，它是一个简单的字符串“exp 1”。</p><p id="4b40" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">三元运算符周围的console.log()记录三元运算符的结果，并记录“exp 1”。</p><p id="d60c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是三元运算符的核心概念。</p><p id="031c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">从这里开始，我们将以两种方式进行扩展:</p><ol class=""><li id="a53e" class="mr ms in kc b kd ke kh ki kl mt kp mu kt mv kx mw mx my mz bi translated">使用带有真值和假值的三元运算符</li><li id="5147" class="mr ms in kc b kd na kh nb kl nc kp nd kt ne kx mw mx my mz bi translated">使用更复杂的表达式</li></ol><h1 id="1b57" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">1.具有真值和假值的三元算子</h1><p id="7a2a" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">MDN在讲Javascript三元运算符时，讲的是truthy和falsy，而不是true和false。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="2636" class="ml kz in mh b gy mm mn l mo mp"><em class="mb">condition ? expression1 : expression2</em></span></pre><p id="d2c5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果<em class="mb">条件</em>为<strong class="kc io">真</strong>执行<em class="mb">表达式1 </em>否则(<strong class="kc io">假</strong>)执行<em class="mb">表达式2。</em></p><p id="1f7b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">简单来说，</p><ul class=""><li id="e83f" class="mr ms in kc b kd ke kh ki kl mt kp mu kt mv kx nf mx my mz bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" rel="noopener ugc nofollow" target="_blank">真值</a>相等或者可以转换为<code class="fe ng nh ni mh b">true</code>。哪些价值观是真实的？所有值，除非它们被定义为falsy。谢谢…</li><li id="6059" class="mr ms in kc b kd na kh nb kl nc kp nd kt ne kx nf mx my mz bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" rel="noopener ugc nofollow" target="_blank"> Falsy </a>值相等或者可以转换为<code class="fe ng nh ni mh b">false</code>。(即false、0、-0、0n，“”、null、undefined和NaN)。</li></ul><figure class="mc md me mf gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/f3463d369778761978d4752f77aab54c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*Zfv5rsstwxF0tzvk869j9Q.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">JavaScript Ternary Operator</figcaption></figure><p id="c5ea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们来举几个例子。</p><h2 id="fdab" class="ml kz in bd la nk nl dn le nm nn dp li kl no np lm kp nq nr lq kt ns nt lu nu bi translated">三元运算符和字符串</h2><p id="7ef0" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">让我们把条件设为一个字符串:“非空文本为真”。由于这不是空字符串，三元运算符返回“exp 1”。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="fa9d" class="ml kz in mh b gy mm mn l mo mp">let condition = 'non-empty text is truthy';</span><span id="9924" class="ml kz in mh b gy mq mn l mo mp">console.log(condition ? 'exp 1' : 'exp 2'); // exp 1</span></pre><p id="afae" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">即使包含数字零的字符串也是非空字符串，因此运算符返回“exp 1”。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="b4e9" class="ml kz in mh b gy mm mn l mo mp">let condition = '0';</span><span id="f95f" class="ml kz in mh b gy mq mn l mo mp">console.log(condition ? 'exp 1' : 'exp 2'); // exp 1</span></pre><h2 id="4107" class="ml kz in bd la nk nl dn le nm nn dp li kl no np lm kp nq nr lq kt ns nt lu nu bi translated">三元运算符和数字</h2><p id="60b3" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">当条件是数字0时，三元运算符执行exp 2，因为数字0是假的。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="c8d0" class="ml kz in mh b gy mm mn l mo mp">let condition = 0;</span><span id="988c" class="ml kz in mh b gy mq mn l mo mp">console.log(condition ? 'exp 1' : 'exp 2'); // exp 2</span></pre><p id="5480" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">情况可能会更复杂。</p><p id="d8cf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在下面的例子中，我们使用<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noopener ugc nofollow" target="_blank"> Math.random() </a>生成一个介于0和1之间的随机数。</p><p id="88bb" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后我们问这个数字是否大于0.5。如果随机数大于0.5，<em class="mb">条件</em>将评估为<em class="mb">真</em>。在此评估之后，如果<em class="mb">条件</em>为真，三元运算符将执行“exp 1”，否则执行“exp 2”。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="e340" class="ml kz in mh b gy mm mn l mo mp">let condition = Math.random() &gt; 0.5;</span><span id="ab31" class="ml kz in mh b gy mq mn l mo mp">console.log(condition ? 'exp 1' : 'exp 2'); // it depends</span></pre><h1 id="e52c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">2.使用更复杂的表达式</h1><p id="5635" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">正如我们在上面看到的,<em class="mb">条件</em>可能比一个简单的字符串更复杂。但是，每个条件都必须计算为true或falsy才能返回表达式。</p><p id="719c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，我们将看到更复杂的表达式如何在三元运算符的上下文中工作。</p><p id="76df" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，我们定义两个函数，函数1和函数2。尽管它们看起来相似，结果却大不相同。</p><p id="520f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当function1执行时，它记录5行，以“Number: 0”开始，以“Number: 4”结束。</p><p id="6c2d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当function2执行时，它记录1行“Number: 0”。看看下面的代码，想想结果。控制台中会打印出什么？</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="bff8" class="ml kz in mh b gy mm mn l mo mp">let condition = Math.random() &gt; 0.5;</span><span id="c9a5" class="ml kz in mh b gy mq mn l mo mp">const function1 = () =&gt; {</span><span id="95c2" class="ml kz in mh b gy mq mn l mo mp">  for (let i = 0; i &lt; 5; i++) {</span><span id="1c07" class="ml kz in mh b gy mq mn l mo mp">    console.log('Number: ', i);</span><span id="e033" class="ml kz in mh b gy mq mn l mo mp">  }</span><span id="4295" class="ml kz in mh b gy mq mn l mo mp">};</span><span id="3081" class="ml kz in mh b gy mq mn l mo mp">const function2 = () =&gt; {</span><span id="bbdf" class="ml kz in mh b gy mq mn l mo mp">  for (let i = 0; i &lt; 5; i++) {</span><span id="1422" class="ml kz in mh b gy mq mn l mo mp">    return 'Number: ' + i;</span><span id="4bad" class="ml kz in mh b gy mq mn l mo mp">  }</span><span id="4f56" class="ml kz in mh b gy mq mn l mo mp">};</span><span id="be5b" class="ml kz in mh b gy mq mn l mo mp">console.log(condition ? function1() : function2()); </span></pre><h1 id="538c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">结论</h1><p id="6f44" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">三元运算符中的表达式和条件可以或多或少复杂一些，但三元运算符的核心概念相当简单。</p><p id="b3bc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要使用三元运算符，请遵循以下逻辑:如果<em class="mb">条件</em>为<strong class="kc io">真值</strong>则执行<em class="mb">表达式1 </em>否则(<strong class="kc io">假值</strong>)执行<em class="mb">表达式2。</em></p><p id="27e6" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果这有用的话，你可能会喜欢关于<a class="ae jz" href="https://medium.com/@lorenzozar/javascript-operator-5d3bd92e835e" rel="noopener"> JavaScript的帖子？？无效合并运算符</a>！</p><p id="4e5d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mb">更多内容看</em> <a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mb">说白了就是</em> </strong> </a> <em class="mb">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mb">免费每周简讯</em> </strong> </a> <em class="mb">。在我们的</em> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="mb">社区</em> </strong> </a> <em class="mb">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>