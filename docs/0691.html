<html>
<head>
<title>Free Cron Jobs with GitHub Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitHub操作释放Cron作业</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/free-cron-jobs-with-github-actions-d05273692c99?source=collection_archive---------17-----------------------#2022-02-07">https://javascript.plainenglish.io/free-cron-jobs-with-github-actions-d05273692c99?source=collection_archive---------17-----------------------#2022-02-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8f2d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">通过使用Cron作业调度任务，轻松实现工作自动化。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/23ba7870ec954107cca42f67946d19cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GFIBLO8Xw_stuGYYd0FvCQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Cron Jobs with Github Actions</figcaption></figure><p id="810f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">调度任务是自动化工作的一种便捷方式，Cron Jobs就是这样做的。我们都有一个经常性的任务，我们希望它可以自动完成，不需要人工干预。别忘了，“那也是免费的”。</p><p id="b029" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">Cron作业旨在执行定期计划的操作，如备份、报告生成等。这些任务中的每一个都应该被配置为无限循环(例如:每天/每周/每月一次)；您可以在该时间间隔内定义作业开始的时间点。</p><h1 id="3e43" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">什么是Cron工作？</h1><p id="b367" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">cron作业是按照Cron表达式(* * * * *)定义的给定计划定期运行的任务。</p><pre class="kd ke kf kg gt ml mm mn mo aw mp bi"><span id="5d17" class="mq lp in mm b gy mr ms l mt mu"># ┌────────── minute (0 - 59)<br/># │ ┌────────── hour (0 - 23)<br/># │ │ ┌────────── day of the month (1 - 31)<br/># │ │ │ ┌────────── month (1 - 12)<br/># │ │ │ │ ┌────────── day of the week (0 - 6)<br/># │ │ │ │ │                                  <br/># │ │ │ │ │<br/># │ │ │ │ │<br/># * * * * *</span></pre><p id="e05f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">不要担心语法，我们可以使用<a class="ae mv" href="https://crontab.guru/" rel="noopener ugc nofollow" target="_blank"> Crontab Guru </a>非常容易地创建一个。</p><h1 id="5695" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">如何设置Cron作业？</h1><p id="2e09" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">有很多方法可以设置Cron作业</p><h1 id="3536" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">在操作系统级别</h1><ol class=""><li id="7b44" class="mw mx in ku b kv mg ky mh lb my lf mz lj na ln nb nc nd ne bi translated">你可以使用内置的<a class="ae mv" href="https://www.windowscentral.com/how-create-automated-task-using-task-scheduler-windows-10" rel="noopener ugc nofollow" target="_blank">窗口调度器</a></li><li id="0237" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">如果你在Ubuntu上，你可以使用<a class="ae mv" href="https://www.digitalocean.com/community/tutorials/how-to-use-cron-to-automate-tasks-ubuntu-1804" rel="noopener ugc nofollow" target="_blank"> Cron工具</a></li></ol><p id="3d89" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">但大多数情况下，您可能希望让它远离操作系统，而在离您的应用更近的地方，我们可以使用</p><h1 id="30fa" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">在应用程序级别</h1><ol class=""><li id="7c07" class="mw mx in ku b kv mg ky mh lb my lf mz lj na ln nb nc nd ne bi translated">使用像<a class="ae mv" href="https://www.npmjs.com/package/cron" rel="noopener ugc nofollow" target="_blank"> Cron </a>这样的包在NodeJS应用程序中创建Cron作业，但是这不能在无服务器的堆栈上运行</li><li id="5ca4" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">使用类似于<a class="ae mv" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/RunLambdaSchedule.html" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>的无服务器解决方案，但是它需要大量的设置和信用卡</li><li id="f973" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">使用Firebase cloud函数进行调度，这比AWS简单得多，但需要信用卡。</li><li id="9e6a" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">使用SAAS工具，如<a class="ae mv" href="https://www.easycron.com" rel="noopener ugc nofollow" target="_blank"> EasyCron </a></li></ol><h1 id="1fdc" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">我们的赢家(GitHub行动)</h1><p id="d0cf" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">虽然以上都是很好的解决方案，但对于业余爱好项目来说，最简单的方法是使用GitHub actions，因为它</p><ol class=""><li id="b592" class="mw mx in ku b kv kw ky kz lb nk lf nl lj nm ln nb nc nd ne bi translated">易于通过代码进行设置，并与应用程序代码本身相结合</li><li id="0162" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">公开回购是免费的</li><li id="83da" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">提供高达4000分钟/月的私人回购(极难消费)</li><li id="5d62" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">允许我们创建无限的作业和计划</li></ol><p id="d098" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我相信现在你一定在问</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/24c35d2ef159e1567d2cdcb3ec5615ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/0*q8-cnWB2ua81dcPg.gif"/></div></figure><h1 id="9fdd" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">GitHub动作有什么帮助？</h1><p id="e6af" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">GitHub Actions现在拥有世界一流的CI/CD，可以轻松实现所有软件工作流程的自动化。直接从GitHub构建、测试和部署您的代码。按照您想要的方式进行代码审查、分支管理和问题分类。你可以在这里阅读更多关于他们的信息。</p><p id="ce38" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在要使用GitHub操作来设置自己的Cron作业，</p><ol class=""><li id="a8f8" class="mw mx in ku b kv kw ky kz lb nk lf nl lj nm ln nb nc nd ne bi translated">转到您的GitHub存储库(如果需要，创建一个)。</li><li id="16e0" class="mw mx in ku b kv nf ky ng lb nh lf ni lj nj ln nb nc nd ne bi translated">转到“活动”选项卡，创建新的活动工作流。</li></ol><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi no"><img src="../Images/e263da562aad49ce64655909f3818960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/0*1V9886Jii6XSkd7J.png"/></div></figure><p id="1eb1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">3.将您的Cron计划和任务添加到其中。提交更改。</p><pre class="kd ke kf kg gt ml mm mn mo aw mp bi"><span id="9446" class="mq lp in mm b gy mr ms l mt mu"><br/># This is a basic workflow to help you get started with Actions</span><span id="d3f2" class="mq lp in mm b gy np ms l mt mu">name: First Cron Job</span><span id="8768" class="mq lp in mm b gy np ms l mt mu"># Controls when the workflow will run<br/>on:<br/>  # Triggers the workflow every 5 minutes<br/>  schedule:<br/>    - cron: "*/5 * * * *"</span><span id="64b5" class="mq lp in mm b gy np ms l mt mu"># A workflow run is made up of one or more jobs that can run sequentially or in parallel<br/>jobs:<br/>  # This workflow contains a single job called "cron"<br/>  cron:<br/>    # The type of runner that the job will run on<br/>    runs-on: ubuntu-latest</span><span id="5be0" class="mq lp in mm b gy np ms l mt mu"># Steps represent a sequence of tasks that will be executed as part of the job<br/>    steps:<br/>      # Runs a single command using the runners shell<br/>      - name: Run a one-line script<br/>        run: echo Hello, world!</span></pre><p id="0738" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这将运行一个作业来回应“你好，世界！”每5分钟一次。</p><p id="3cb1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">转到Actions选项卡，等待日志出现。当你点击任何执行，你会看到这样的细节</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nq"><img src="../Images/260aade2d4dda68002a74097559b4edd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6LSl-6W_HceG4IqA.png"/></div></div></figure><p id="23d3" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这就是如何使用GitHub操作来调度Cron作业。</p><blockquote class="nr ns nt"><p id="9f4a" class="ks kt nu ku b kv kw jo kx ky kz jr la nv lc ld le nw lg lh li nx lk ll lm ln ig bi translated">注意:在GitHub Actions工作流运行的高负载期间，计划的事件可能会延迟。高负载时间包括每个小时的开始。要减少延迟的机会，请将工作流安排在一个小时的不同时间运行。</p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ny"><img src="../Images/a5b4b463787269ed916af72250a5d4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ngZejxX-FcDLwc--.png"/></div></div></figure><p id="03f6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">查看计划每5分钟运行一次的作业是如何被延迟几次的。请注意你如何使用免费资源。</p><h1 id="9652" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">我如何在GitHub操作中使用Cron Jobs？</h1><p id="d66c" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">我使用GitHub Actions定期更新我的Twitter横幅，更新最新的开发人员关注人数和Tweet里程碑，如一篇文章的500次浏览或我的开发人员帐户达到100名关注者。</p><p id="4642" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">你可以在这里阅读我解释上述用例<a class="ae mv" href="https://dev.to/anshuman_bhardwaj/automatically-tweet-popular-article-from-dev-246f" rel="noopener ugc nofollow" target="_blank">的文章。</a></p><p id="de4f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">你可以在这里找到GitHub回购<a class="ae mv" href="https://github.com/Anshuman71/tweet-my-articles" rel="noopener ugc nofollow" target="_blank"/>。请随意使用您的个人资料。</p><h1 id="ea05" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">合理使用</h1><p id="b12c" class="pw-post-body-paragraph ks kt in ku b kv mg jo kx ky mh jr la lb mi ld le lf mj lh li lj mk ll lm ln ig bi translated">虽然GitHub操作是免费的，但是我们应该明智地使用它们，尊重提供商的努力。在这个先进技术的时代，GitHub和Vercel这样的巨头让我们非常容易起步，所以我们有责任不滥用这些工具。</p><p id="85c3" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">暂时就这样了。希望这篇文章对你有帮助！如果您有任何反馈或问题，请随时在下面的评论中提出，我很乐意听到并解决它们。</p><p id="b8c3" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">更多此类内容，请关注我。</p><blockquote class="nr ns nt"><p id="b210" class="ks kt nu ku b kv kw jo kx ky kz jr la nv lc ld le nw lg lh li nx lk ll lm ln ig bi translated"><em class="in">直到下一次</em></p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/3170c67c87ef9ba5b4de929a81b8e295.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/0*1JAxwnRzidxHX84K.gif"/></div></figure></div><div class="ab cl oa ob hr oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ig ih ii ij ik"><p id="2289" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="nu">原载于2022年2月7日</em><a class="ae mv" href="https://theanshuman.dev/articles/free-cron-jobs-with-github-actions-31d6" rel="noopener ugc nofollow" target="_blank"><em class="nu">https://theanshuman . dev</em></a><em class="nu">。</em></p></div></div>    
</body>
</html>