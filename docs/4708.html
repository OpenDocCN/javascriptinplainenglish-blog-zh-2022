<html>
<head>
<title>Integration of Compressed Unity WebGL build into Angular with AWS S3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过AWS S3将压缩的Unity WebGL版本集成到Angular中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/integration-of-compressed-unity-webgl-build-into-angular-with-aws-s3-367a1add501b?source=collection_archive---------1-----------------------#2022-12-25">https://javascript.plainenglish.io/integration-of-compressed-unity-webgl-build-into-angular-with-aws-s3-367a1add501b?source=collection_archive---------1-----------------------#2022-12-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="b8f3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">继八月份我在博客中谈到在Angular 中集成3D-Vista<a class="ae ki" href="https://medium.com/javascript-in-plain-english/how-to-integrate-interact-3d-vista-into-angular-component-9a8519af280b" rel="noopener">之后，我决定写这篇博客，因为我在那里找不到集成Brotli压缩Unity游戏和Angular的最佳方式。希望对你有帮助。</a></p><p id="9d73" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设您有一个Angular应用程序，并从项目资产中集成了Unity WebGL构建。以下是如何整合压缩游戏的方法。</p><p id="c57c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">首先，我们需要建立统一的游戏。使用发布设置配置我们的WebGL应用程序。选择Gzip或者Brotli，我用的是Brotli压缩格式。在数据缓存(可选)中，该选项自动在用户机器上缓存资产数据，因此不必每次都重新下载。缓存是使用浏览器提供的IndexedDB API实现的。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/c767c9d0039dff826f05d8215608957c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LW4ITPwvzCIBlIt3Wk6_RQ.png"/></div></div></figure><p id="4678" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">打开AWS S3(简单存储服务)选择一个存储桶并上传输出构建资产。对资产的许可应该是公开的。选择资产，然后单击操作，然后单击使用ACL公开。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kv"><img src="../Images/8a1b8841d5f34b294608fc9515a3a115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9FIIA1sb-pZauNbHgRlRBg.png"/></div></div></figure><blockquote class="kw kx ky"><p id="d06c" class="jk jl kz jm b jn jo jp jq jr js jt ju la jw jx jy lb ka kb kc lc ke kf kg kh ig bi translated">现在我们需要配置内容编码，以便正确无误地使用上传的内容。如果未完成，它将引发类型错误:无法对“WebAssembly”执行“compile”:HTTP状态代码不正常</p></blockquote><p id="6cea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要配置标题，请选择资产，单击操作，然后选择编辑元数据。添加下面的元数据，对于Brotli压缩，br是值，而对于gzip，使用Gzip。内容类型是默认的二进制/八进制流。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ld"><img src="../Images/3e133ce42eeba3f85a4d3befcf035b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZuW4vc9qLcW7fGSxsVLfSA.png"/></div></div></figure><p id="112f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，在配置元数据之后，我们的资产可以直接在我们的应用程序中使用。使用来自S3的公共资源url，并在您的component.ts中替换加载游戏功能的位置。</p><p id="8ed9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您遇到CORS错误，请转到bucket settings并通过放置以下JSON来配置CORS，这将解决问题。</p><pre class="kk kl km kn gt le lf lg bn lh li bi"><span id="5cc7" class="lj lk in lf b be ll lm l ln lo">[<br/>    {<br/>        "AllowedHeaders": [<br/>            "*"<br/>        ],<br/>        "AllowedMethods": [<br/>            "GET",<br/>            "HEAD"<br/>        ],<br/>        "AllowedOrigins": [<br/>            "*"<br/>        ],<br/>        "ExposeHeaders": [<br/>            "ETag"<br/>        ],<br/>        "MaxAgeSeconds": 3000<br/>    }<br/>]</span></pre><p id="6f78" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">运行应用程序集成已经完成。现在我们完成了，我们已经成功地整合了压缩的游戏。</p><p id="3e60" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="kz">那是个包裹。我希望这对你有所帮助。</em> </strong></p><h2 id="21cc" class="lp lk in bd lq lr ls dn lt lu lv dp lw jv lx ly lz jz ma mb mc kd md me mf mg bi translated">更多内容请访问<a class="ae ki" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="e8a0" class="pw-post-body-paragraph jk jl in jm b jn mh jp jq jr mi jt ju jv mj jx jy jz mk kb kc kd ml kf kg kh ig bi translated"><em class="kz">报名参加我们的</em> <a class="ae ki" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kz">免费周报</em> </strong> </a> <em class="kz">。关注我们上</em> <a class="ae ki" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kz">推特</em> </strong> </a>，<a class="ae ki" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kz">领英</em> </strong> </a> <strong class="jm io"> <em class="kz">，</em></strong><a class="ae ki" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kz">YouTube</em></strong></a><strong class="jm io"><em class="kz">，以及</em></strong><em class="kz"/><a class="ae ki" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kz">不和</em> </strong> </a>T47】</p><h2 id="9278" class="lp lk in bd lq lr ls dn lt lu lv dp lw jv lx ly lz jz ma mb mc kd md me mf mg bi translated">想扩大你的软件创业规模吗？检查<a class="ae ki" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div></div>    
</body>
</html>