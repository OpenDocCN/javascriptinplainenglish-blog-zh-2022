<html>
<head>
<title>How to Implement Regular Expressions in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中实现正则表达式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-implement-regular-expressions-in-javascript-1ac85bd52e2?source=collection_archive---------10-----------------------#2022-03-17">https://javascript.plainenglish.io/how-to-implement-regular-expressions-in-javascript-1ac85bd52e2?source=collection_archive---------10-----------------------#2022-03-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="deca" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">日常生活中我们认为理所当然的非常普通的事情。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/811c475b97e8a8df35de24acb1cf2d4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pyjmdSjdTwHWdAV6"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@usinglight?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stefan Steinbauer</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cb2d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">不久前，我刚刚参加完一家公司的两轮面试，他们邀请我参加最后一轮面试，也就是技术面试，这种面试总是让我有点紧张。面试没有像我希望的那样进行，所以面试后我花了一些时间来学习。</p><h1 id="2983" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">什么是正则表达式？</h1><p id="2ae2" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">正则表达式(或<em class="mm"> regex </em>)是一种模式，或一组字符，用于匹配字符串中的组合。它通常在用户建立新帐户或更新帐户时使用。</p><p id="bd88" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Regex可用于检查给定的字符组合是否是电子邮件、电话号码或密码是否符合站点的要求。让我们通过一些基本的例子来看看它是如何实现的。</p><h2 id="a686" class="mn lq in bd lr mo mp dn lv mq mr dp lz lc ms mt mb lg mu mv md lk mw mx mf my bi translated">电话号码</h2><p id="db36" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">在填写税收、工作申请、大学申请、银行账户、医疗信息等时，通常需要电话号码。电话号码还有多种不同的储存方式:</p><ul class=""><li id="dfa9" class="mz na in kv b kw kx kz la lc nb lg nc lk nd lo ne nf ng nh bi">1234567890</li><li id="2dac" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi">(123) 456–7890</li><li id="75d3" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi">123–456–7890</li><li id="375b" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi">123 456 7890</li><li id="802b" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi">+11234567890</li><li id="ef02" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi">+1 (123) 456–7890</li></ul><p id="7e7d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">还有更多。</p><p id="b413" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以实现正则表达式，而不是遍历一组数字中的每个数字，然后检查它是否满足特定的要求。</p><p id="cc97" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了简单起见，我们将仅对上述数字应用正则表达式。我们将为所有符合上述模式的电话号码返回true。</p><p id="4b68" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">看一眼所有的数字，可以看出是有规律的；大部分都是3位数开头，后面再加3位数，最后4位数结尾。我们可以用<strong class="kv io">固定量词</strong> <code class="fe nn no np nq b">{}</code>来应用它:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="e85f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们构造一个新的正则表达式，然后使用内置函数<code class="fe nn no np nq b">test</code>来测试电话号码的匹配。</p><p id="4e01" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是检查电话号码的一个好的开始，但是如果你用上面的例子测试这个代码片段，你会发现除了例子1和5之外，所有的都返回<code class="fe nn no np nq b">false</code>。这是为什么呢？</p><p id="5bd2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当前代码片段将在所有具有至少<strong class="kv io"><em class="mm"/></strong>10位数的示例上返回<code class="fe nn no np nq b">true</code>。为了对电话号码进行更严格的检查，我们将使用锚。</p><p id="50dd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">regex中的<strong class="kv io">锚点</strong>用于匹配一个字符串的开头<code class="fe nn no np nq b">^</code>和结尾<code class="fe nn no np nq b">$</code>。因此，如果我们希望代码片段更严格地检查字符串是否是电话号码，我们可以这样做:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="67a1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，该代码片段只为第一个示例返回<code class="fe nn no np nq b">true</code>。</p><p id="146a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们试着解决例3和例4。我们在这两个例子中看到了相似的模式；中间的数字用破折号或空格括起来。确保示例3和4包含在这些符号中的捷径是使用<strong class="kv io">替换</strong> <code class="fe nn no np nq b">|</code>并将它们放在括号中:</p><pre class="kd ke kf kg gt nt nq nu nv aw nw bi"><span id="24de" class="mn lq in nq b gy nx ny l nz oa">const regex = new RegExp(/^\d{3}(\s|-)\d{3}(\s|-)\d{4}$/);</span></pre><p id="ede0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这种分组和交替有几个问题。第一个是第一个例子不再返回<code class="fe nn no np nq b">true</code>，第二个是分组将返回<code class="fe nn no np nq b">true</code>到封装不匹配的电话号码。那么我们该如何解决这个问题呢？</p><p id="f1b7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">解决这个问题的一种方法是添加更多的分组和替换，以使匹配更加严格:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="17c3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在示例1、3和4返回<code class="fe nn no np nq b">true</code>。</p><p id="31e0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我们处理其他示例之前，为了可读性，我将分别测试其他示例与我们之前的解决方案的条件。虽然可以把它们放在一起作为一个正则表达式，但为了可读性，我更喜欢把它们分开。</p><p id="8fe9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们把例子2、5和6与其他例子分开来处理。</p><p id="5de2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以将前面例子中的解决方案结合起来。确保在开头和结尾添加锚点，并使用固定的量词。一个很好的起点是让例2回归<code class="fe nn no np nq b">true</code>:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="8af3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">确保我们的正则表达式必须以<code class="fe nn no np nq b">+</code>开头，后跟10位数字，如example1。示例5是最容易处理的，我们应该得到类似于下面的解决方案:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="4e2a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">确保你没有忘记锚！</p><p id="809b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，在示例6中，我们可以看到解决方案是示例2和示例5的组合。我们得到这样的解决方案:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nr ns l"/></div></figure></div><div class="ab cl ob oc hr od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ig ih ii ij ik"><p id="e13e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所以这是对你的一个挑战:</p><p id="64e6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如何检查用户的新密码是否符合以下要求:</p><ul class=""><li id="f9e1" class="mz na in kv b kw kx kz la lc nb lg nc lk nd lo ne nf ng nh bi translated">至少有10个字符</li><li id="5a45" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">至少有一个大写字母</li><li id="3013" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">至少有一个小写字母</li><li id="4ffa" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">至少有一个数字</li><li id="0c1f" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">至少有一个特殊字符</li><li id="3a47" class="mz na in kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">与他们的旧密码不同(假设我们将他们的旧密码存储在一个数组中)</li></ul></div><div class="ab cl ob oc hr od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ig ih ii ij ik"><p id="a425" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这些是解决电话号码正则表达式的唯一方法吗？当然不是！让我知道你会用什么方法来解决这个问题。</p><p id="9680" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mm">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mm">plain English . io</em></strong></a><em class="mm">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mm">免费周报</em> </strong> </a> <em class="mm">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mm">Twitter</em></strong></a><em class="mm">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mm">LinkedIn</em></strong></a><em class="mm">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mm">社区不和谐</em> </strong> </a> <em class="mm">。</em></p></div></div>    
</body>
</html>