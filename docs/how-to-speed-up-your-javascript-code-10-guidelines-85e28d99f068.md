# 如何加速你的 JavaScript 代码(+10 准则)

> 原文：<https://javascript.plainenglish.io/how-to-speed-up-your-javascript-code-10-guidelines-85e28d99f068?source=collection_archive---------5----------------------->

## 我看到很少有人解释这一点，他们也没有解释得很好。这就是我写这篇文章的原因。

![](img/257b7051c5a185a0421ac679ffe1bea9.png)

Javascript 已经成为近年来最流行的编程语言，超过 90%的网站都在使用它。虽然这使得 javascript 非常有价值，但也意味着它是最容易增加代码膨胀和降低代码速度的地方之一。为了加速你的 javascript 代码，考虑这些 **10 种加速你的 javascript 代码的方法。**

# 使用 Webpack(捆绑 JS 文件)

Webpack 是一个捆绑模块和优化的工具。Webpack 的目的是捆绑 **JavaScript** 文件用于浏览器，但它可以转换、转化和/或加载大多数类型的文件。因为 **Webpack** 做的远不止这些，Webpack 不仅是你项目的资产打包器，还是你的模块创作框架、构建工具和依赖管理器(如果需要的话*)。*

*由于它在前端开发的不同阶段都有广阔的视野，在使用 **Webpack** 时，你很可能能够避免至少一种**技术/框架**。是的，我们知道所有这些任务都可以用现有的工具来完成。*

# *通过缩小和压缩进行优化*

*JavaScript 在性能方面经常被忽略，但是优化不应该被忽略。如今，大多数网站都在某种程度上使用 JavaScript 这是我们用户体验的一个重要组成部分，不会消失。不要让你的代码未经优化，考虑像缩小和压缩这样的技术，让你的 JavaScript 负载尽可能小。*

*第一步是理解这两种技术是如何工作的，这样你就可以做出明智的决定，决定哪种技术适合你，以及如何正确地实现它们。事实证明，有不同类型的压缩算法，它们对文件的影响也不同——这意味着用 **gzip 压缩的文件可能与用 deflate 压缩的文件不兼容，反之亦然。***

# *通过预处理优化 CSS*

*当涉及到性能时，CSS 可能是一只熊。选择器被合并到更大的文件中，这会降低浏览器的速度。幸运的是，像 Sass 或 Less 这样的预处理语言使得编写 **CSS** 更加容易和快速，因为它们有助于最小化特定于选择器的代码，但是在整个网站中编写的代码更少。用 **Sass** 或 **Less** ( *或任何其他预处理器*)组合在一起的文件越多，你的站点渲染速度就越快！*

# *对公共对象使用加载器插件*

*当您在网页上添加几个不同的元素时，请确保使用通用对象的加载器插件。这些类型的脚本通过减少 **HTTP** 请求和加快加载速度来帮助提高性能。一旦你包含了这些文件，它们会根据你的网站何时需要它们，动态地插入到你的 **HTML** 代码中。这样，如果访问者没有向下滚动足够远，错过了一些项目，只有那些已经浏览过的项目才会出现。为了获得 javascript 代码的最大速度增益，尽可能使用公共对象的加载器插件。*

# *最小化 DOM 操作*

*Javascript 性能与 **DOM** 操作密切相关。随着 javascript 变得越来越复杂，您需要更加小心将多少数据带入和带出 DO **M** 元素。代码处理新数据输入和旧数据输出的速度越快越好。使用文档片段而不是多个 div。*

# *避免多余的请求*

*当你从**远程服务器**获取数据时，尽量避免发出多余的请求。你的浏览器需要加载的资源越多，速度就越慢。不仅如此，如果您用请求敲打一个远程服务器，您可能会遇到错误或节流(*这可能会进一步降低您的页面加载速度*)。与其进行一堆额外的 API 调用，不如使用分页一次性发送所有信息。*

*要做到这一点，只需**将你的列表分成块** ( *使用 array.length* 之类的东西)，然后根据自己的请求加载每个块。然后你可以在工作中把所有这些片段放回记忆中。这是一个显著提高性能和扩展 API 使用的简单方法。*

# *异步加载 JS*

*异步加载 JavaScript 代码意味着它不会延迟页面渲染；事实上，您可以加载任意多的 JavaScript。利用像**谷歌的 AMP** 和 **JS loader** 这样的工具，在你页面上的所有东西加载完毕后加载你所有的脚本。使用精简代码:精简 JavaScript 将在不改变功能的情况下减小文件大小。*

*这使得下载速度更快，并有助于消除手动编写代码时由人为错误导致的错误。它还降低了网络服务器的带宽需求，提高了性能，因为通过网络连接传输的字节更少了。如果一个脚本由于特殊字符或空格而看起来不可读，应该使用类似于 **UglifyJS** 或 **Google Closure Compiler 这样的工具将其缩小。***

# *保持最小化(缩小、压缩、不臃肿的代码)*

*任何时候你都应该去掉代码中不必要的字符。缩小是一个从 JavaScript 中去除注释和臃肿的过程，使它变得更小更快。压缩不仅仅是去除空白——使用 gzip 压缩可以显著减少网络上传输的字节数。虽然对许多网站来说这可能不太实际，但在有大量 JavaScript 的页面上(像谷歌搜索)压缩和缩小可以显著减少页面加载时间。*

*要自动缩小或压缩 JavaScript，请使用以下工具之一:**谷歌闭包编译器**，**雅虎 YUI 压缩机**或**丑。***

# *在 HTML 之前加载 JS*

*浏览器**解析 HTML** 的速度不如它加载 JavaScript 的速度快。所以，如果可以的话，在页面加载之前加载脚本；在渲染时间或数据消耗方面，你不会产生**高成本**,因为你的页面还没有渲染。什么是脚本？任何包含代码的外部文件。例如，像 **Google Analytics** 这样的分析跟踪库的代码应该在你的 **HTML** 之前加载，这样它就可以在你的脚本标签开始触发时执行。*

# *离线功能的服务人员*

*服务人员不仅仅是为了线下能力。总体来说，它们实际上对提高性能很有帮助，因为它们让开发人员对他们的应用程序如何加载和运行有了更多的控制。*

*有了服务人员，您可以拦截网络请求，并决定哪些请求由您的应用程序处理，哪些被忽略以及何时应该执行。速度提升的**和离线功能的**相结合，使服务人员成为一项极具前景的技术，将改变我们与移动设备的互动方式——而且这种改变会比你想象的更快。*****

******更多内容请看*[***plain English . io***](https://plainenglish.io/)*。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于*[***Twitter***](https://twitter.com/inPlainEngHQ)*和*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*。加入我们的* [***社区不和谐***](https://discord.gg/GtDtUAvyhW) *。******