<html>
<head>
<title>Why Are You Still Writing JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你为什么还在写JavaScript？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-are-you-still-writing-javascript-f66921b3f43e?source=collection_archive---------6-----------------------#2022-06-27">https://javascript.plainenglish.io/why-are-you-still-writing-javascript-f66921b3f43e?source=collection_archive---------6-----------------------#2022-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="af57" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果您在2022年仍在编写普通的JavaScript，下面是如何&amp;为什么将TypeScript合并到您的项目中</h2></div><p id="aed9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">原谅这个煽动性的标题，但是如果你现在还在写普通的JavaScript为什么？切换到<a class="ae lb" href="http://typescriptlang.org" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>比以往任何时候都更容易，并且在你的代码质量上支付直接和持久的红利。在这里，我将讨论TypeScript的优点，并解决人们提出的一些可能阻止他们使用它的问题。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/900dd04db50b12453cb23ccd2e694a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*gsaDSLBE1cCHf04-cQZVIw.jpeg"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Drake loves static typing. You wanna make Drake happy, right?</figcaption></figure><h1 id="de1d" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">什么是TypeScript？</h1><p id="8a5e" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">如果您仅仅因为不知道什么是TypeScript而仍然在编写JavaScript，那么公平地说:让我们了解一下它，以及它如何帮助提高您的代码质量。简单地说，TypeScript是JavaScript的静态类型版本。这意味着TypeScript编译器在构建时使用关于代码中变量的<em class="ml">类型</em> <em class="ml">的<em class="ml"> </em>信息来捕捉错误。</em></p><p id="de37" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">严格地说，TypeScript是JavaScript的<em class="ml">超集</em>:类型注释在语法中是完全可选的<em class="ml">,因此任何有效的JavaScript程序在语法上也是有效的TypeScript。让我们快速看一下一个简单的“square”函数，首先用JavaScript编写，然后用TypeScript编写类型定义:</em></p><pre class="ld le lf lg gt mm mn mo mp aw mq bi"><span id="d9ab" class="mr lp iq mn b gy ms mt l mu mv"><strong class="mn ir">// plain JavaScript<br/></strong>function square(n) { <br/>  return n*n <br/>}</span><span id="ef89" class="mr lp iq mn b gy mw mt l mu mv"><strong class="mn ir">// TypeScript implementation with types<br/></strong>function square(n: number): number { <br/>  return n*n <br/>}</span><span id="c3db" class="mr lp iq mn b gy mw mt l mu mv">square(10)<br/><strong class="mn ir">// 100</strong></span><span id="00b0" class="mr lp iq mn b gy mw mt l mu mv">square("ten")<br/><strong class="mn ir"><em class="ml">// &lt;repl&gt;.ts:10:8 - error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.</em></strong></span></pre><p id="6292" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个例子中，我们的TypeScript版本注释了函数的参数和返回类型，如果我们试图用除数字之外的任何东西调用函数，就会给出一个错误。这只是TypeScript如何工作的一个非常简单的例子。在现实世界中，您可能会使用复杂的接口和类来处理更复杂的类型。正是在这里，TypeScript可以真正开始发光，因为它可以确保整个代码库的一致性。</p><p id="2831" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然这篇文章只是简单介绍了什么是TypeScript以及为什么要使用它，但是我并没有过多地谈论<em class="ml">如何</em>编写TypeScript代码。如果你有兴趣了解更多关于编写类型脚本代码的内容，你可以<a class="ae lb" href="https://www.typescriptlang.org/docs/handbook/intro.html" rel="noopener ugc nofollow" target="_blank">阅读手册</a>，或者，如果你想深入了解，看看这些<a class="ae lb" href="https://www.typescriptlang.org/cheatsheets" rel="noopener ugc nofollow" target="_blank">有用的类型脚本备忘单</a>。</p><h1 id="ba0c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">为什么使用TypeScript？</h1><p id="a0af" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">那么在JavaScript中加入类型有什么好处呢？</p><h2 id="a8af" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">在编译时而不是运行时捕获错误</h2><p id="3c1a" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这是使用TypeScript的核心优势。举一个简单的例子，假设您有一个带有可选邮政编码字符串的<code class="fe ni nj nk mn b">Address</code>对象，但是您有一个函数对它进行操作而不检查<code class="fe ni nj nk mn b">undefined</code> : <code class="fe ni nj nk mn b">address.zipCode.substring(0, 5)</code>。在JavaScript中，一个未定义的邮政编码值将导致运行时异常，用户会很难过——根据错误发生的位置和处理方式，部分或全部前端应用程序可能会处于不可用状态。</p><p id="960e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在TypeScript中，您的编译器(在您的构建日志或IDE中)会在代码发布之前让您知道它是错误的:</p><pre class="ld le lf lg gt mm mn mo mp aw mq bi"><span id="0a33" class="mr lp iq mn b gy ms mt l mu mv">error TS2532: Object is possibly 'undefined'.</span></pre><p id="372e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是比在客户端爆发的JavaScript错误更糟糕的是，一些与类型相关的错误甚至不会表现为运行时异常——相反，它们只是以一种不容易发现的方式导致了<em class="ml">错误行为</em>。让我们考虑一个完全假设的场景，为一个电子商务网站构建一个管理界面。也许我们让用户以美分为单位输入产品的价格，在我们的业务逻辑中，我们计算运费:</p><pre class="ld le lf lg gt mm mn mo mp aw mq bi"><span id="05b7" class="mr lp iq mn b gy ms mt l mu mv">let total = priceInCents + calculateShipping(zipCode)<br/>let displayPrice = formatPrice(total)</span></pre><p id="6397" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">假设我们提交了这段代码，并认为一切都很好——没有异常出现！但是几天后，一个客户打电话来问<em class="ml">为什么这个10.00美元的产品显示总成本为10，003.00美元</em>。在这个完全虚构的示例中，我们将<code class="fe ni nj nk mn b">priceInCents</code>视为一个数字，并尝试添加我们的运费值($3.00)。但实际上，我们的<code class="fe ni nj nk mn b">priceInCents</code>是一个字符串(“1000”)，需要在对其执行任何数学运算之前进行解析。</p><p id="9a3c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">是的，这是一个人为的例子；是的，这是一个愚蠢的错误，你应该在测试中抓住它；但是，是的，<strong class="kh ir"> JavaScript会很乐意让你在你的代码库中一遍又一遍地犯这些错误</strong>，并且不会帮你找到它！在TypeScript中，您甚至不会让这些错误进入您的测试环境。</p><h2 id="72fb" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">定义清晰的界面</h2><p id="d717" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">假设您刚刚继承了一个大型代码库，您被要求构建一个与现有接口集成的组件。你更愿意使用哪种代码？</p><pre class="ld le lf lg gt mm mn mo mp aw mq bi"><span id="4a81" class="mr lp iq mn b gy ms mt l mu mv"><strong class="mn ir">// JavaScript<br/></strong>function setPrefs(user, prefs, sync) ...</span><span id="49ab" class="mr lp iq mn b gy mw mt l mu mv"><strong class="mn ir">// TypeScript<br/></strong>interface User { username: string, id: number }<br/>interface Prefs { drink: "coke" | "pepsi", cheesecake: boolean }<br/>function setPrefs(user: User, prefs: Prefs, sync: boolean) ...</span></pre><p id="3ed8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在普通的JavaScript情况下，您可能需要做更多的阅读，以确定应该向这些函数传递什么值。并且您需要的信息可能不在<code class="fe ni nj nk mn b">setUserPreferences</code>函数本身中，所以您可能会发现自己费力地通过代码库的其余部分——我们的应用程序支持哪种偏好？</p><p id="faba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我对修改这段代码的TypeScript版本更有信心，因为我了解我正在处理的数据。在TypeScript的情况下，类型定义准确地告诉我们函数期望什么样的值，如果我们弄错了，将会给我们一个构建时错误。如果我们将来对<code class="fe ni nj nk mn b">User</code>或<code class="fe ni nj nk mn b">Prefs</code>接口做了更改，TypeScript编译器会让我们知道我们是否在使用的地方做了重大更改<em class="ml">。请注意，类型定义并不能代替<em class="ml">文档— </em>在这个例子中，<code class="fe ni nj nk mn b">sync</code>标志有什么作用？我们可以看到它是一个布尔值，但我们仍然应该添加适当的文档来说明它是做什么的。</em></p><h2 id="65f2" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">自信地重构</h2><p id="7791" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">如果项目中没有任何类型安全，那么在重构的时候你就有点盲目了。测试覆盖可以帮助解决这个问题，但是静态类型是你的第一道防线。使用TypeScript将捕获大多数在执行常见重构操作时发生的错误，如函数和变量重命名、函数签名更改、将代码移动到新的类或模块等。</p><h2 id="4924" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">享受整体更好的代码质量和更易读的*代码</h2><p id="841f" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">当您使用TypeScript并准备好类型定义时，您可以确信您的代码总体质量更高，原因如上所述。一般来说，您的代码也更具可读性，因为为您的函数和类型定义了清晰的接口。这意味着对于新开发人员来说，参与项目要简单得多，甚至对于现有开发人员来说，记住如何使用他们几周前编写的代码也简单得多！</p><p id="9bfb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我确实在“可读性更好”的代码上加了星号，因为有时复杂的、嵌套的TypeScript定义可能非常不可读——但是您将学会在必要时在心里把它们放在一边。如果您在第三方库中遇到这些，不要惊慌！你通常不需要完全理解你的代码在库中涉及的所有复杂类型。如果不需要窥视内部，可以把复杂类型想象成一个黑盒。</p><h1 id="ad78" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">为什么不使用打字稿——常见的借口</h1><p id="9609" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">人们不使用TypeScript有许多常见的原因。有些是不准确的，有些有一定的道理，但完全可以解决，不应该阻止您完全使用TypeScript。让我们考虑一些常见的异议。</p><h2 id="17a3" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">"我喜欢没有类型的JavaScript的自由和开发速度！"</h2><p id="525d" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">我也是！但是TypeScript并没有真正妨碍我。如果您将项目配置为这样做，您不需要立即编写完美的类型定义—您可以迭代您的代码，直到您的类型稳定，然后添加TypeScript注释。</p><blockquote class="nl"><p id="f40a" class="nm nn iq bd no np nq nr ns nt nu la dk translated">您不需要立即编写完美的类型定义—您可以迭代您的代码，直到您的类型稳定，然后添加TypeScript注释。</p></blockquote><h2 id="e499" class="mr lp iq bd lq mx nv dn lu mz nw dp ly ko nx nc ma ks ny ne mc kw nz ng me nh bi translated">“我的项目缺少一百万个类型注释，我要花几周时间来迁移”</h2><p id="ca93" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">迁移整个项目可能需要几周时间，这是事实，<em class="ml">但是你不需要一次迁移完</em>。您可以简单地重命名文件，开始使用TypeScript工具，然后在方便的时候添加类型。或者从在您编写的新代码中添加类型定义开始。如果您选择走这条路，请确保相应地配置您的环境(参见 <code class="fe ni nj nk mn b"><a class="ae lb" href="https://www.typescriptlang.org/tsconfig#noImplicitAny" rel="noopener ugc nofollow" target="_blank">noImplicitAny</a></code>上的<a class="ae lb" href="https://www.typescriptlang.org/tsconfig#noImplicitAny" rel="noopener ugc nofollow" target="_blank">文档)。</a></p><p id="3c7d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从长远来看，只输入部分代码并不理想，但这是现实世界中最完美的迁移策略。这里最好的方法是从添加类型注释开始，它们会产生最大的影响:注释您的数据模型可能是一个好的开始，但是也要寻找错误代价最大的核心业务逻辑。</p><h2 id="3d5c" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">“但是打字稿太慢了”</h2><p id="1e68" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这在某种程度上是准确的——但并非无法解决。运行TypeScript编译器实际上比只运行JavaScript解释器要慢。在足够大的项目中，在每次更改后编译TypeScript确实会减慢编写和测试代码的核心迭代循环，特别是如果您使用热重新加载功能，在这种情况下，每次代码更改都会立即反映在屏幕上。</p><p id="b935" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">幸运的是，有办法解决这个问题。最简单的方法是告诉TypeScript不要对每一个更改都进行类型检查，而是在后台进行类型检查。为此，您可以告诉TypeScript只对<em class="ml">trans file代码执行</em>，这意味着它会将TypeScript转换为JavaScript，以便在浏览器或Node中运行，但会跳过所有运行缓慢的类型检查。然后，一个单独的进程会在后台出现，执行类型检查，并将结果通知您或您的IDE。</p><p id="b24f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这听起来可能有点复杂，但是不要担心——有工具可以帮你完成所有这些工作。许多ide可以通过适当的插件或配置为您做到这一点，或者查看<a class="ae lb" href="https://github.com/TypeStrong/fork-ts-checker-webpack-plugin" rel="noopener ugc nofollow" target="_blank">fork-ts-checker-webpack-plugin</a>来了解如何在web pack构建过程中做到这一点。</p><h2 id="fed8" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">"流行库中的TS类型是对其他类型的难以理解的俄罗斯套娃式的引用！"</h2><p id="5600" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">好吧，在这一点上我甚至不会不同意你——你是对的！这肯定是使用TypeScript的痛点之一，但您不必让它妨碍您。如前所述，您不必为了做正确的事情而完全理解库公开的每个复杂类型。你的IDE可以帮助你在需要的时候追踪到正确的类型定义。</p><h2 id="bb51" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">" TypeScript无法用于我的项目"</h2><p id="c694" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这是我看过几次的一句台词，说实话，我不确定我是否理解它的意思。确实，不同的项目有不同的配置，可能需要不同的设置，但是我还没有遇到过真正不能转换成TypeScript的项目。</p><p id="a441" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时人们在这里的意思是“TypeScript不能与我当前的工具一起工作”，这可能是真的。如果是这样，是时候更新您的工具并引入TypeScript了。下面，我将讨论一些将TypeScript合并到项目工具中的不同方法。</p><h1 id="1498" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">如何在项目中使用TypeScript</h1><p id="1473" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">那么，实际上如何在项目中开始使用TypeScript呢？有几种方法，这取决于您的项目是如何设置的。</p><h2 id="3446" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">使用ts-node或<code class="fe ni nj nk mn b">deno</code>运行TypeScript</h2><p id="dd39" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">如果您在命令行或IDE中用<code class="fe ni nj nk mn b">node</code>运行JavaScript，使用TypeScript很简单。你可以开始使用<code class="fe ni nj nk mn b">ts-node</code>来代替！<code class="fe ni nj nk mn b">ts-node</code>是<code class="fe ni nj nk mn b">node</code>的一个支持类型脚本的包装器，它实时地对<code class="fe ni nj nk mn b">node</code>执行的&amp;传输文件代码进行类型检查。</p><p id="2eb1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，如果你喜欢冒险和前沿，你可以尝试切换到<code class="fe ni nj nk mn b">deno</code>而不是使用<code class="fe ni nj nk mn b">node</code>。<code class="fe ni nj nk mn b">deno</code>是一个更现代的JavaScript运行时，它具有原生类型脚本支持和许多其他优秀特性。这值得一试，但确实与Node.js有些不兼容，所以用<code class="fe ni nj nk mn b">deno</code>运行项目可能需要对项目进行其他更改。</p><h2 id="826e" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">使用TypeScript创建新项目</h2><p id="017d" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">这无疑是开始使用TypeScript的最简单的方法——在新项目中从头开始设置它。这可以帮助您开箱即可正确配置所有工具。如果您使用的是项目生成器，如<a class="ae lb" href="https://yeoman.io" rel="noopener ugc nofollow" target="_blank"> Yeoman </a>或<a class="ae lb" href="https://create-react-app.dev" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>或任何其他类似的工具，请查看文档，了解如何使用TypeScript模板生成项目的详细信息。</p><h2 id="1aee" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">配置使用Babel或Webpack的现有项目</h2><p id="1bee" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">如果你使用的JavaScript管道涉及到使用Babel来传输代码，那么添加类型脚本就很容易了。Webpack项目通常被配置为使用Babel作为管道的一部分，但是如果你碰巧使用不带 Babel的Webpack <em class="ml">，你可以使用<a class="ae lb" href="https://webpack.js.org/guides/typescript/" rel="noopener ugc nofollow" target="_blank"> ts-loader </a>插件为你传输代码。</em></p><h2 id="63a4" class="mr lp iq bd lq mx my dn lu mz na dp ly ko nb nc ma ks nd ne mc kw nf ng me nh bi translated">迁移现有源</h2><p id="9e45" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">如前所述，如果您有一个要转换为TypeScript的大型项目，那么实际上您不可能预先将正确的类型添加到所有项目中。为了解决这个问题，您可以<a class="ae lb" href="http://typescriptlang.org/tsconfig/" rel="noopener ugc nofollow" target="_blank">将TypeScript </a>配置得更加宽松。具体来说，禁用<em class="ml"> noImplicitAny </em>设置将让TypeScript为未注释的变量分配一个特殊的<code class="fe ni nj nk mn b">any</code>类型，从而防止TypeScript引发与这些值相关的类型错误。这将禁用对任何未显式批注的值的TypeScript检查，实际上使类型完全可选。同样，禁用类型检查并不理想，但对于随着时间的推移逐渐迁移项目来说，这是一个很好的策略。</p><h1 id="de12" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">没有免费的午餐</h1><p id="8ee6" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">正如每一个技术决策一样，总会有折衷——但是使用TypeScript的成本很小，而且主要是使您的工具现代化。如果您现在不使用TypeScript，那么就没有理由不启用它。即使您默认使用最宽松的设置，并保留部分代码库不加注释，您仍然能够开始获得静态类型的好处。</p></div><div class="ab cl oa ob hu oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ij ik il im in"><p id="b7f8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ml"> Jonathan在大大小小的创业公司中拥有超过20年的工程领导经验。在业余时间，他在做一个文档自动化平台，</em><a class="ae lb" href="http://imagepipe.co/" rel="noopener ugc nofollow" target="_blank"><em class="ml">Imagepipe.co</em></a><em class="ml">。</em></p></div><div class="ab cl oa ob hu oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="ij ik il im in"><p id="652c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ml">更多内容请看</em><a class="ae lb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ml">plain English . io</em></strong></a><em class="ml">。报名参加我们的</em> <a class="ae lb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ml">免费周报</em> </strong> </a> <em class="ml">。关注我们关于</em><a class="ae lb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ml">Twitter</em></strong></a><em class="ml">和</em><a class="ae lb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ml">LinkedIn</em></strong></a><em class="ml">。查看我们的</em> <a class="ae lb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ml">社区不和谐</em> </strong> </a> <em class="ml">加入我们的</em> <a class="ae lb" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ml">人才集体</em> </strong> </a> <em class="ml">。</em></p></div></div>    
</body>
</html>