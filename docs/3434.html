<html>
<head>
<title>7 Little-Known Array Methods in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中7个鲜为人知的数组方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/little-known-array-methods-javascript-3aee9ae8758a?source=collection_archive---------1-----------------------#2022-08-27">https://javascript.plainenglish.io/little-known-array-methods-javascript-3aee9ae8758a?source=collection_archive---------1-----------------------#2022-08-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/34ed8a7a25e40d8df6de49e876929e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AvQ5aIK_9rLhdNPiAf0IIQ.png"/></div></div></figure><p id="035b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在JavaScript中使用数组时，您可能会发现自己只使用了流行的方法，如<code class="fe kt ku kv kw b">map()</code>、<code class="fe kt ku kv kw b">filter()</code>、<code class="fe kt ku kv kw b">find()</code>、<code class="fe kt ku kv kw b">push()</code>和<code class="fe kt ku kv kw b">sort()</code>。这是可以理解的，因为这些非常有用的方法对于许多用例来说已经足够了。</p><p id="d190" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是JavaScript有30多种数组方法，其中一些不太为人所知，许多JavaScript开发人员很少使用，尽管它们非常强大，能够解决现实世界中的问题。</p><p id="fb02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，在本文中，我们将研究7种鲜为人知的JavaScript数组方法。我们将了解它们是如何工作的，并看看我们如何在实践中使用它们。</p><h1 id="b8a6" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">1.copyWithin()</h1><p id="b44d" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated"><a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin" rel="noopener ugc nofollow" target="_blank"> copyWithin() </a>方法将数组的一部分复制到同一个数组中的另一个位置并返回，不增加其长度。</p><p id="eb62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="58a6" class="mj ky in kw b gy mk ml l mm mn">const array = [1, 2, 3, 4, 5];</span><span id="a041" class="mj ky in kw b gy mo ml l mm mn">const result = array.copyWithin(3, 1, 3);</span><span id="bf5c" class="mj ky in kw b gy mo ml l mm mn">console.log(result); // [1, 2, 3, 2, 3]</span></pre><p id="29a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您不熟悉这种方法，您可能会发现这里的结果令人困惑。为了理解<code class="fe kt ku kv kw b">copyWithin()</code>的工作原理，让我们来看看它的参数:</p><ol class=""><li id="daf7" class="mp mq in jx b jy jz kc kd kg mr kk ms ko mt ks mu mv mw mx bi translated"><code class="fe kt ku kv kw b">target</code>:数组中指定部分复制到的位置。</li><li id="e806" class="mp mq in jx b jy my kc mz kg na kk nb ko nc ks mu mv mw mx bi translated"><code class="fe kt ku kv kw b">start</code>:将被复制的零件的起始索引。</li><li id="5074" class="mp mq in jx b jy my kc mz kg na kk nb ko nc ks mu mv mw mx bi translated"><code class="fe kt ku kv kw b">end</code>:将被复制的零件的结束索引。</li></ol><p id="6059" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，通过分别传递<code class="fe kt ku kv kw b">3</code>、<code class="fe kt ku kv kw b">1</code>和<code class="fe kt ku kv kw b">3</code>，我们告诉<code class="fe kt ku kv kw b">copyWithin()</code>获取索引<code class="fe kt ku kv kw b">1</code>和<code class="fe kt ku kv kw b">3</code>之间的数组元素，并将它们复制到数组的另一部分，从索引<code class="fe kt ku kv kw b">3</code>开始。这意味着<code class="fe kt ku kv kw b">copyWithin()</code>从元素<code class="fe kt ku kv kw b">4</code>所在的地方开始复制元素<code class="fe kt ku kv kw b">1</code>和<code class="fe kt ku kv kw b">2</code>，替换<code class="fe kt ku kv kw b">4</code>和<code class="fe kt ku kv kw b">5</code>。</p><p id="c602" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们看另一个例子:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="eaf4" class="mj ky in kw b gy mk ml l mm mn">const array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];</span><span id="186d" class="mj ky in kw b gy mo ml l mm mn">// "end" not specified so last array index used<br/>const result = array.copyWithin(0, 5);</span><span id="22e2" class="mj ky in kw b gy mo ml l mm mn">// [6, 7, 8, 9, 10, 6, 7, 8, 9, 10]<br/>console.log(result);</span></pre><p id="cece" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里我们告诉<code class="fe kt ku kv kw b">copyWithin()</code>开始将数字<code class="fe kt ku kv kw b">6</code>、<code class="fe kt ku kv kw b">7</code>、<code class="fe kt ku kv kw b">8</code>、<code class="fe kt ku kv kw b">9</code>和<code class="fe kt ku kv kw b">10</code>复制到<code class="fe kt ku kv kw b">1</code>所在的位置，替换任何连续的元素，直到<code class="fe kt ku kv kw b">10</code>(最后一个元素)被复制。</p><p id="c718" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如前所述，<code class="fe kt ku kv kw b">copyWithin()</code>不会增加数组的长度，但会在到达数组末尾时停止复制。</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="1ca5" class="mj ky in kw b gy mk ml l mm mn">const array = [1, 2, 3, 4, 5];</span><span id="fa56" class="mj ky in kw b gy mo ml l mm mn">// Copy numbers 2, 3, 4, and 5<br/>const result = array.copyWithin(3, 1, 6);</span><span id="c9ea" class="mj ky in kw b gy mo ml l mm mn">console.log(result); // [1, 2, 3, 2, 3]</span></pre><h1 id="f122" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2.在()</h1><p id="29cc" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">这个方法是新的<a class="ae ma" href="https://codingbeautydev.com/es13-javascript-features/" rel="noopener ugc nofollow" target="_blank"> ES13 JavaScript特性</a>之一，它提供了一种更简洁的方式来从数组的末尾访问元素。</p><p id="50d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不要像这样写代码:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="86dd" class="mj ky in kw b gy mk ml l mm mn">const arr = ['a', 'b', 'c', 'd'];</span><span id="0bb6" class="mj ky in kw b gy mo ml l mm mn">// 1st element from the end<br/>console.log(arr[arr.length - 1]); // d</span><span id="3455" class="mj ky in kw b gy mo ml l mm mn">// 2nd element from the end<br/>console.log(arr[arr.length - 2]); // c</span></pre><p id="d1c3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">有了<a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at" rel="noopener ugc nofollow" target="_blank"> at() </a>，我们可以更简洁、更有表现力地做到这一点，就像这样:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="9e9f" class="mj ky in kw b gy mk ml l mm mn">const arr = ['a', 'b', 'c', 'd'];</span><span id="d043" class="mj ky in kw b gy mo ml l mm mn">// 1st element from the end<br/>console.log(arr.at(-1)); // d</span><span id="d77f" class="mj ky in kw b gy mo ml l mm mn">// 2nd element from the end<br/>console.log(arr.at(-2)); // c</span></pre><p id="cf98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们简单地传递一个负值<code class="fe kt ku kv kw b">-N</code>来访问数组末尾的第<code class="fe kt ku kv kw b">N</code>个元素。</p><h1 id="e7c9" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">3.reduceRight()</h1><p id="aff7" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated"><a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight" rel="noopener ugc nofollow" target="_blank"> reduceRight() </a>方法的工作方式类似于更流行的<a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener ugc nofollow" target="_blank"> reduce() </a>方法，不同之处在于回调函数从右到左应用于数组的每个值，而不是从左到右。</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="a7a0" class="mj ky in kw b gy mk ml l mm mn">const letters = ['b', 'e', 'a', 'u', 't', 'y'];</span><span id="81ea" class="mj ky in kw b gy mo ml l mm mn">const word = letters.reduce((word, letter) =&gt; word + letter, '');</span><span id="4dd5" class="mj ky in kw b gy mo ml l mm mn">console.log(word); // beauty<br/></span><span id="97a8" class="mj ky in kw b gy mo ml l mm mn">const wordReversed = letters.reduceRight((word, letter) =&gt; word + letter, '');</span><span id="c486" class="mj ky in kw b gy mo ml l mm mn">console.log(wordReversed); // ytuaeb</span></pre><p id="6d5b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">reduceRight()</code>从右到左对数组的每个元素重复执行传递的回调函数。我们在这里传递的回调只是将当前元素和累加器字符串连接起来，最终得到反转的单词。</p><p id="a7ec" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当你希望一个列表从左到右表达，但从右到左计算时，<code class="fe kt ku kv kw b">reduceRight()</code>会有所帮助。这里有一个例子:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="8730" class="mj ky in kw b gy mk ml l mm mn">const thresholds = [<br/>  { color: 'blue', threshold: 0.7 },<br/>  { color: 'orange', threshold: 0.5 },<br/>  { color: 'red', threshold: 0.2 },<br/>];</span><span id="0073" class="mj ky in kw b gy mo ml l mm mn">const value = 0.9;</span><span id="c72d" class="mj ky in kw b gy mo ml l mm mn">const threshold = thresholds.reduceRight((color, threshold) =&gt;<br/>  threshold.threshold &gt; value ? threshold.color : color<br/>);</span><span id="08dd" class="mj ky in kw b gy mo ml l mm mn">console.log(threshold.color); // red</span></pre><h1 id="d1b6" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">4.findLast()</h1><p id="b1af" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">在<a class="ae ma" href="https://codingbeautydev.com/es13-javascript-features/" rel="noopener ugc nofollow" target="_blank"> ES13 </a>中，JavaScript的另一个新特性是<a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findLast" rel="noopener ugc nofollow" target="_blank"> findLast() </a>方法，用于从最后一个元素开始搜索数组中的一个元素。</p><p id="7db7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在我们知道从最后一个元素中查找可能比使用<code class="fe kt ku kv kw b">find()</code>方法获得更好的性能的情况下，我们可以使用它。</p><p id="b74c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，这里我们试图获取数组中属性为<code class="fe kt ku kv kw b">value</code>等于<code class="fe kt ku kv kw b">'y'</code>的项目。带<code class="fe kt ku kv kw b">find()</code>:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="c9a4" class="mj ky in kw b gy mk ml l mm mn">const letters = [<br/>  { value: 'v' },<br/>  { value: 'w' },<br/>  { value: 'x' },<br/>  { value: 'y' },<br/>  { value: 'z' },<br/>];</span><span id="c18d" class="mj ky in kw b gy mo ml l mm mn">const found = letters.find((item) =&gt; item.value === 'y');</span><span id="5f3b" class="mj ky in kw b gy mo ml l mm mn">console.log(found); // { value: 'y' }</span></pre><p id="0d85" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这是可行的，但是由于目标对象更靠近数组的尾部，如果我们使用<code class="fe kt ku kv kw b">findLast()</code>方法从末尾搜索数组，我们可能会使程序运行得更快:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="0c52" class="mj ky in kw b gy mk ml l mm mn">const letters = [<br/>  { value: 'v' },<br/>  { value: 'w' },<br/>  { value: 'x' },<br/>  { value: 'y' },<br/>  { value: 'z' },<br/>];</span><span id="065c" class="mj ky in kw b gy mo ml l mm mn">const found = letters.findLast((item) =&gt; item.value === 'y');</span><span id="59fe" class="mj ky in kw b gy mo ml l mm mn">console.log(found); // { value: 'y' }</span></pre><p id="9a5a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">findLast()</code>的另一个用例是当我们必须从数组的末尾开始搜索以获得正确的元素时。</p><p id="65bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，如果我们想找到一个数字列表中的最后一个偶数，<code class="fe kt ku kv kw b">find()</code>会产生一个完全错误的结果:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="4735" class="mj ky in kw b gy mk ml l mm mn">const nums = [7, 14, 3, 8, 10, 9];</span><span id="dbec" class="mj ky in kw b gy mo ml l mm mn">// gives 14, instead of 10<br/>const lastEven = nums.find((value) =&gt; value % 2 === 0);</span><span id="74f0" class="mj ky in kw b gy mo ml l mm mn">console.log(lastEven); // 14</span></pre><p id="a7fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是<code class="fe kt ku kv kw b">findLast()</code>会从头开始搜索，给我们正确的项目:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="1a66" class="mj ky in kw b gy mk ml l mm mn">const nums = [7, 14, 3, 8, 10, 9];</span><span id="8c1a" class="mj ky in kw b gy mo ml l mm mn">const lastEven = nums.findLast((num) =&gt; num % 2 === 0);</span><span id="8712" class="mj ky in kw b gy mo ml l mm mn">console.log(lastEven); // 10</span></pre><h1 id="5121" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">5.findLastIndex()</h1><p id="8ae4" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated"><a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findLastIndex" rel="noopener ugc nofollow" target="_blank"> findLastIndex() </a>的工作方式类似于<code class="fe kt ku kv kw b">findLast()</code>，但是它返回的是找到的元素的索引，而不是元素本身。</p><p id="b9a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在下面的例子中，我们使用<code class="fe kt ku kv kw b">findLastIndex()</code>找到数组中最后一个颜色为<code class="fe kt ku kv kw b">red</code>的汽车对象的索引，并删除它。</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="1f84" class="mj ky in kw b gy mk ml l mm mn">const carQueue = [<br/>  { color: 'yellow' },<br/>  { color: 'red' },<br/>  { color: 'green' },<br/>  { color: 'red' },<br/>  { color: 'blue' },<br/>];</span><span id="c432" class="mj ky in kw b gy mo ml l mm mn">const lastRedIndex = carQueue.findLastIndex((car) =&gt; car.color === 'red');</span><span id="60d6" class="mj ky in kw b gy mo ml l mm mn">// Remove car object with splice()<br/>carQueue.splice(lastRedIndex, 1);</span><span id="8a86" class="mj ky in kw b gy mo ml l mm mn">/**<br/>[<br/>  { color: 'yellow' },<br/>  { color: 'red' },<br/>  { color: 'green' },<br/>  { color: 'blue' }<br/>]<br/> */<br/>console.log(carQueue);</span></pre><h1 id="dd6c" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">6.lastIndexOf()</h1><p id="f682" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">方法的作用是:返回一个数组中可以找到的最后一个元素的索引。</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="86a1" class="mj ky in kw b gy mk ml l mm mn">const colors = ['a', 'e', 'a', 'f', 'a', 'b'];</span><span id="d039" class="mj ky in kw b gy mo ml l mm mn">const index = colors.lastIndexOf('a');</span><span id="5944" class="mj ky in kw b gy mo ml l mm mn">console.log(index); // 4</span></pre><p id="e776" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以将第二个参数传递给<code class="fe kt ku kv kw b">lastIndexOf()</code>来指定数组中的一个索引，在这个索引之后它应该停止搜索字符串:</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="2e20" class="mj ky in kw b gy mk ml l mm mn">const colors = ['a', 'e', 'a', 'f', 'a', 'b'];</span><span id="5e5c" class="mj ky in kw b gy mo ml l mm mn">// Get last index of 'a' before index 3<br/>const index1 = colors.lastIndexOf('a', 3);</span><span id="7b04" class="mj ky in kw b gy mo ml l mm mn">console.log(index1); // 2</span><span id="b8d0" class="mj ky in kw b gy mo ml l mm mn">const index2 = colors.lastIndexOf('a', 0);</span><span id="2807" class="mj ky in kw b gy mo ml l mm mn">console.log(index2); // 0</span><span id="f587" class="mj ky in kw b gy mo ml l mm mn">const index3 = colors.lastIndexOf('f', 2);</span><span id="6d75" class="mj ky in kw b gy mo ml l mm mn">console.log(index3); // -1</span></pre><h1 id="0782" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">7.平面地图()</h1><p id="58b0" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated"><a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap" rel="noopener ugc nofollow" target="_blank"> flatMap() </a>方法使用给定的回调函数转换数组，然后将转换后的结果展平一级。</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="ae13" class="mj ky in kw b gy mk ml l mm mn">const arr = [1, 2, 3, 4];</span><span id="4f2c" class="mj ky in kw b gy mo ml l mm mn">const withDoubles = arr.flatMap((num) =&gt; [num, num * 2]);<br/></span><span id="aa39" class="mj ky in kw b gy mo ml l mm mn">console.log(withDoubles); // [1, 2, 2, 4, 3, 6, 4, 8]</span></pre><p id="e447" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在数组上调用<code class="fe kt ku kv kw b">flatMap()</code>与调用<a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> map() </a>后跟深度为1的<a class="ae ma" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat" rel="noopener ugc nofollow" target="_blank"> flat() </a>的作用相同，但这比分别调用这两个方法更有效。</p><pre class="mb mc md me gt mf kw mg mh aw mi bi"><span id="b81b" class="mj ky in kw b gy mk ml l mm mn">const arr = [1, 2, 3, 4];</span><span id="7c57" class="mj ky in kw b gy mo ml l mm mn">// flat() uses a depth of 1 by default<br/>const withDoubles = arr.map((num) =&gt; [num, num * 2]).flat();</span><span id="6177" class="mj ky in kw b gy mo ml l mm mn">console.log(withDoubles); // [1, 2, 2, 4, 3, 6, 4, 8]</span></pre><h1 id="5c42" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="9864" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">所以我们看了JavaScript中一些不太流行的数组方法。许多开发人员可能不知道它们，但毫无疑问它们是有用的。你可能很快就会需要其中一个。</p></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="d263" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nk">原载于</em><a class="ae ma" href="https://cbdev.link/d47e37" rel="noopener ugc nofollow" target="_blank">【codingbeautydev.com】T21</a></p><h1 id="d348" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="mb mc md me gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae ma" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank">报名</a>立即免费领取一份。</p></div></div>    
</body>
</html>