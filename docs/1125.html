<html>
<head>
<title>Immediately Invoked Function Expression (IIFE) in JavaScript: A Simplified Introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的立即调用函数表达式(IIFE ):简化介绍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/immediately-invoked-function-expression-iife-in-javascript-a-simplified-introduction-faa119930c48?source=collection_archive---------10-----------------------#2022-03-04">https://javascript.plainenglish.io/immediately-invoked-function-expression-iife-in-javascript-a-simplified-introduction-faa119930c48?source=collection_archive---------10-----------------------#2022-03-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0d52e38f245092a70f95d05cb2c5dac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U6T6AeZh-WDbX_gD"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@lucabravo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luca Bravo</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="94cc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">立即调用的函数表达式也称为iife(读作<em class="ky"> iify </em>)是一旦被定义就被调用或触发的函数。一旦它们被调用，就不会再被调用。</p><p id="5c5d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">开发人员经常发现这个概念很难理解。今天，在这篇文章中，我们将尝试用一种简单的方式来理解它。</p><p id="cdc3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么，让我们开始这次旅程吧。让我们先来分解一下生活意味着什么——立即<strong class="kc io">I</strong>I<strong class="kc io">I</strong>n召唤<strong class="kc io"> F </strong>功能<strong class="kc io"> E </strong>表达。</p><p id="007f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们必须注意的第一个也是最重要的一个术语是单词<strong class="kc io"> Function </strong>。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="4d24" class="li lj in le b gy lk ll l lm ln"><strong class="le io">// Section One</strong> </span><span id="3a2b" class="li lj in le b gy lo ll l lm ln">function myName(name) {</span><span id="f49a" class="li lj in le b gy lo ll l lm ln">return name;</span><span id="79ba" class="li lj in le b gy lo ll l lm ln">}</span></pre><p id="2281" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是一个名为myName()的简单函数。</p><p id="0579" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，下一个我们必须注意的术语是<strong class="kc io">函数表达式</strong>。让我们看看如何将上述函数塑造成函数表达式。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="5558" class="li lj in le b gy lk ll l lm ln"><strong class="le io">// Section Two</strong></span><span id="3678" class="li lj in le b gy lo ll l lm ln">let myName = function (name) {</span><span id="5e3e" class="li lj in le b gy lo ll l lm ln">return name;</span><span id="7d9b" class="li lj in le b gy lo ll l lm ln">};</span></pre><p id="ea64" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面的部分表示一个函数表达式，其中匿名或未命名函数的函数定义被分配给变量myName。</p><p id="ac72" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，一旦我们清楚了表达函数的上述两种方式，有趣的部分就来了。在JavaScript中，每当我们在( )中定义任何东西时，它都被当作一个表达式来计算。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="e3cf" class="li lj in le b gy lk ll l lm ln"><strong class="le io">Section 3</strong></span><span id="f5c5" class="li lj in le b gy lo ll l lm ln">("ABC")</span></pre><p id="492b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">即使没有左操作数，上面提到的块本身也作为JavaScript中的表达式进行计算。</p><p id="d367" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好吧，你一定想知道现在我们只是看到一些随机的方块，但是我们的生活到底在哪里。快到了😏</p><p id="bab4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，让我们重写第3节，其中我们将传递第2节中的匿名函数，而不是字符串。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="82d3" class="li lj in le b gy lk ll l lm ln">(function (name) {</span><span id="7999" class="li lj in le b gy lo ll l lm ln">return name;</span><span id="eaaa" class="li lj in le b gy lo ll l lm ln">});</span></pre><p id="b4a7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面的代码块也是一个函数表达式。</p><p id="eafe" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是我们如何调用这个函数表达式呢？很简单，就像我们调用任何常规函数一样，通过使用()。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="bb2e" class="li lj in le b gy lk ll l lm ln">(function (name) {</span><span id="4ade" class="li lj in le b gy lo ll l lm ln">return name;</span><span id="404f" class="li lj in le b gy lo ll l lm ln">})();</span></pre><p id="d9a1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">朋友们，这是一个立即调用的函数表达式(IIFE)。</p><p id="310b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">另一种生活方式是计算一个函数表达式，并将返回的属性赋给一个变量。在这里，我的名字将得到生命的返回值。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="fffa" class="li lj in le b gy lk ll l lm ln">let myName = (function () {</span><span id="6089" class="li lj in le b gy lo ll l lm ln">return 'ABC';</span><span id="d1e1" class="li lj in le b gy lo ll l lm ln">})();</span><span id="5034" class="li lj in le b gy lo ll l lm ln">console.log(myName);   // ABC</span></pre><p id="112d" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">生命也可以参数化。就像常规函数一样，我们在调用函数时传递参数。类似地，当调用一个life(即在()括号中)时，我们可以发送所需的参数，这些参数在life中是可访问的。</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="14f3" class="li lj in le b gy lk ll l lm ln">let myName = (function (name) {</span><span id="2841" class="li lj in le b gy lo ll l lm ln">return name;</span><span id="30e9" class="li lj in le b gy lo ll l lm ln">})('XYZ');</span><span id="9100" class="li lj in le b gy lo ll l lm ln">console.log(myName);            // XYZ</span></pre><p id="7b25" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你一定注意到了，在我们所有的用例中，我们总是定义一个匿名函数。但这不是强制性的，也不总是如此。我们也可以定义一个命名函数，但是这个函数名只能在函数内部访问，不能在函数外部访问。比如说</p><pre class="kz la lb lc gt ld le lf lg aw lh bi"><span id="111a" class="li lj in le b gy lk ll l lm ln">(function getCounter(number) {</span><span id="e96d" class="li lj in le b gy lo ll l lm ln">console.log(number);</span><span id="f0a8" class="li lj in le b gy lo ll l lm ln">number++;</span><span id="e37a" class="li lj in le b gy lo ll l lm ln">number &lt; 3 ? getCounter(number) : null;</span><span id="d8f7" class="li lj in le b gy lo ll l lm ln">})(0);</span></pre><p id="c561" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里，正如你所看到的，我们已经定义了一个命名函数<strong class="kc io"> <em class="ky"> getCounter </em> </strong>并且我们在函数中使用它进行一些递归处理。所以，如果你想在函数中使用匿名函数，那么你可以使用一个命名函数。</p><p id="7969" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有一件非常重要的事情你必须永远记住。</p><p id="9781" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在一个生命中定义的所有函数和变量的作用范围仅限于这个特定的生命，而不在生命之外。对生命之外的作用域变量/函数的任何访问都将导致引用错误。T3】</p><p id="e036" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，如果我们试图在外部访问上述函数，我们将得到一个引用错误。</p><p id="ef65" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是生活的基本介绍。我知道，我们走了很长的路才到达这里，但这是理解整个术语所必需的。</p><p id="cd64" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以参考这个快照作为快速复习。</p><figure class="kz la lb lc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lp"><img src="../Images/aa4a1541914b5e0f54df2201523dbd08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JbcYiyhX4AAWLCsxLDHWRg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Immediately Invoked Function Expression</figcaption></figure><p id="c639" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我不想让这个概念太大，所以我把它分成两部分。在下一部分中，我们将关注使用IIFEs的用例及好处。</p><p id="c603" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在此之前，如果您有任何疑问或反馈，请在回复中告诉我。</p></div><div class="ab cl lq lr hr ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ig ih ii ij ik"><p id="c477" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以在这里阅读我的其他文章<a class="ae jz" href="https://medium.com/@avinash.dev21987" rel="noopener">，另外，你可以订阅我的时事通讯，获取我发表的最新文章。</a></p><p id="c39f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更多内容看</em> <a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">说白了就是io </em> </strong> </a> <em class="ky">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">免费周报</em> </strong> </a> <em class="ky">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ky">Twitter</em></strong></a><em class="ky">和</em><a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ky">LinkedIn</em></strong></a><em class="ky">。加入我们的</em> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">社区</em> </strong> </a> <em class="ky">。</em></p></div></div>    
</body>
</html>