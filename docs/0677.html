<html>
<head>
<title>Create a Nested Comment/Reply Box Using JavaScript Web Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript Web组件创建嵌套的评论/回复框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-nested-comment-reply-box-using-javascript-web-components-d997c1198cc4?source=collection_archive---------3-----------------------#2022-02-07">https://javascript.plainenglish.io/create-a-nested-comment-reply-box-using-javascript-web-components-d997c1198cc4?source=collection_archive---------3-----------------------#2022-02-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7232" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何创建定制的<strong class="ak"> Web组件</strong>并与<strong class="ak"> JavaScript ES模块</strong>一起使用。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/295c0b64e395675b56f6288a98d844a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWxNWRT0h5fUGV8dRAchCQ.jpeg"/></div></div></figure><p id="903d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Web组件允许我们创建可重用的定制元素，将它们的功能封装在代码的其余部分之外。这里我们创建一个定制的<code class="fe ll lm ln lo b">comment-box</code> web组件，并使用它来构建一个<strong class="kq io">嵌套的评论/回复系统</strong>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/be80618ffc9f35f2e331debabf715130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*o1GtPiy5VT4ceErioGTVzg.gif"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Nested Comment Reply box Demo</figcaption></figure><p id="a357" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这篇文章可以帮助你理解<strong class="kq io"> Web组件</strong>如何工作，以及它们如何与JavaScript <strong class="kq io"> ES模块</strong>一起使用。</p><p id="d128" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该项目的完整代码可在<a class="ae lk" href="https://github.com/savinuvijay/nested-comments" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> GitHub </strong> </a>上获得。</p><p id="6795" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在<a class="ae lk" href="https://stackblitz.com/edit/web-platform-nac3d2" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> StackBlitz </strong> </a>上进行现场演示。</p></div><div class="ab cl lu lv hr lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ig ih ii ij ik"><h1 id="be36" class="mb mc in bd md me mf mg mh mi mj mk ml jt mm ju mn jw mo jx mp jz mq ka mr ms bi translated">它是如何工作的</h1><p id="fb7b" class="pw-post-body-paragraph ko kp in kq b kr mt jo kt ku mu jr kw kx mv kz la lb mw ld le lf mx lh li lj ig bi translated"><strong class="kq io">注释框</strong>被定义为一个JavaScript web组件。它在单独的JavaScript文件<code class="fe ll lm ln lo b">commentBox.js</code>中定义。该组件的样式在<code class="fe ll lm ln lo b">commentBoxStyle.css</code>文件中定义。</p><h2 id="375d" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak"> commentBox.js </strong></h2><p id="07ea" class="pw-post-body-paragraph ko kp in kq b kr mt jo kt ku mu jr kw kx mv kz la lb mw ld le lf mx lh li lj ig bi translated">我们首先创建一个新的HTML模板元素，并在其<code class="fe ll lm ln lo b">innerHTML</code>中定义Web组件的结构。组件的样式也在<code class="fe ll lm ln lo b">innerHTML</code>中链接。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nk"><img src="../Images/766614d9fb57873e39c7629dec2f9c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xrfMJ4UQoHlSMPZ-uteH-A.png"/></div></div></figure><p id="13ee" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">注释框由两部分组成。首先是<code class="fe ll lm ln lo b">comment-edit-box</code>，它由评论输入字段和提交按钮组成。第二个是<code class="fe ll lm ln lo b">comment-display-box</code>，它显示提交的评论、作者详细信息、该评论的赞数(最初为0)以及类似的&amp;回复按钮。它还包含一个不可见的<code class="fe ll lm ln lo b">reply-box</code> div。当点击reply按钮时，用于回复的嵌套注释框附加到这个div。</p><p id="0035" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">用户可以在评论中添加任意数量的回复。但是嵌套回复的级别被限制为3。<code class="fe ll lm ln lo b">nestingLimit</code>用于处理这种情况，可根据需要进行更改。</p><pre class="kd ke kf kg gt nl lo nm nn aw no bi"><span id="824a" class="my mc in lo b gy np nq l nr ns">const nestingLimit = 3;</span></pre><p id="0b93" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在我们通过创建一个名为<code class="fe ll lm ln lo b">CommentBox</code>的JavaScript类来定义Web组件，该类扩展了<code class="fe ll lm ln lo b">HTMLElement</code>。它也作为ES模块导出。我们在这个类中定义了Web组件的构造函数和两个生命周期方法。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nk"><img src="../Images/8b6e0d813f64c6de8924723efd0b6031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cs_EUyYPb1g45p_TguXykg.png"/></div></div></figure><p id="00c1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一旦组件被连接(加载)到<a class="ae lk" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank"> DOM </a>上，生命周期方法就会运行，而一旦组件从DOM上断开(移除)，生命周期方法就会运行。这个类还包含几个<strong class="kq io">事件处理函数</strong>，这将在本文后面详细解释。</p><h2 id="f05f" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak">构造函数()</strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/c98af6e82906f38d58a0a18c1b656360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MLKP-EPzj4qe1C8dj-QzJA.png"/></div></div></figure><p id="44b6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe ll lm ln lo b">comment-box</code> web组件可以接受一个<code class="fe ll lm ln lo b">level</code>属性。</p><pre class="kd ke kf kg gt nl lo nm nn aw no bi"><span id="c85d" class="my mc in lo b gy np nq l nr ns">&lt;comment-box <strong class="lo io">level="0"</strong>&gt;&lt;/comment-box&gt;</span></pre><p id="d123" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该属性指定特定注释框的嵌套级别。它被捕获并存储在<code class="fe ll lm ln lo b">CommentBox</code>类的<code class="fe ll lm ln lo b">this.level</code>变量中。</p><p id="7adc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当HTML文件中不存在<code class="fe ll lm ln lo b">level</code>属性时，级别的值默认为<strong class="kq io">零</strong>。我们还在构造函数中将初始的<code class="fe ll lm ln lo b">likeCount</code>设置为<strong class="kq io">零</strong>。接下来，我们将一个<a class="ae lk" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" rel="noopener ugc nofollow" target="_blank">阴影DOM </a>附加到元素上，并将上面定义的模板作为它的子元素。</p><p id="8494" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，我们使用<code class="fe ll lm ln lo b">shadowRoot</code>上的<code class="fe ll lm ln lo b">querySelector()</code>设置<code class="fe ll lm ln lo b">commentEdit</code>和<code class="fe ll lm ln lo b">commentDisplay</code>变量指向各自的HTML元素。</p><h2 id="b812" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak"> ConnectedCallback() </strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nu"><img src="../Images/82fe2410e3f68863c12d859a105c5340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BReZlXQmG5COzKZzMWiewQ.png"/></div></div></figure><p id="34e4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一旦Web组件被附加到DOM，就会执行<code class="fe ll lm ln lo b">connectedCallback()</code>方法。在这个方法中，我们为组件上的所有按钮附加了事件侦听器。</p><p id="39f3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe ll lm ln lo b">commentSubmit()</code>事件处理程序连接到<code class="fe ll lm ln lo b">submit-btn</code>按钮，而<code class="fe ll lm ln lo b">commentLike()</code>事件处理程序连接到<code class="fe ll lm ln lo b">like-btn</code>。只有当当前级别<strong class="kq io">小于</strong>的<code class="fe ll lm ln lo b">nestingLimit</code>时，<code class="fe ll lm ln lo b">commentReply()</code>事件处理程序才会被附加到<code class="fe ll lm ln lo b">reply-btn</code>上。否则<code class="fe ll lm ln lo b">reply-btn</code>为<strong class="kq io">禁用</strong>。</p><p id="e1be" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，我们将<code class="fe ll lm ln lo b">commentDisplay</code>元素的显示样式设置为<strong class="kq io"> none </strong>，因为它最初是隐藏的，只有在提交评论时才会显示。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nv"><img src="../Images/d3a129bc49ab5ef192b65cef5adf4a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8b25UcLLlVTC6p4Z0eAgTw.png"/></div></div></figure><h2 id="bc48" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak"> DisconnectedCallback() </strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nw"><img src="../Images/438960074e02fc48a9f30515171a8c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8CWY4dfDUnvgGL5NimybBA.png"/></div></div></figure><p id="c5cd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当组件与DOM断开连接时，执行<code class="fe ll lm ln lo b">disconnectedCallback()</code>。这里，我们删除了创建组件时附加的所有事件侦听器。</p></div><div class="ab cl lu lv hr lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ig ih ii ij ik"><h1 id="49f8" class="mb mc in bd md me mf mg mh mi mj mk ml jt mm ju mn jw mo jx mp jz mq ka mr ms bi translated"><strong class="ak">事件监听器功能</strong></h1><h2 id="df20" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak"> CommentSubmit() </strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nt"><img src="../Images/1aa42c5d51c636ad20b3097a2ad2f53a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ADL4DK-QalfHDM8DX2BM3Q.png"/></div></div></figure><p id="5cf5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当用户在输入框中输入注释并点击<strong class="kq io">提交按钮</strong>时，调用<code class="fe ll lm ln lo b">commentSubmit()</code>方法。</p><p id="a6bb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们首先让<code class="fe ll lm ln lo b">commentInput</code>变量指向<code class="fe ll lm ln lo b">commentEdit</code> div中的<strong class="kq io">输入框</strong> HTML元素。我们还设置了<code class="fe ll lm ln lo b">comment</code>变量指向显示评论的div，设置了<code class="fe ll lm ln lo b">author</code>变量指向<strong class="kq io"> author </strong> <code class="fe ll lm ln lo b">&lt;p&gt;</code>标签。</p><p id="6368" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，我们将用户提交的评论设置为显示的内容。这通过将<strong class="kq io">注释</strong> div的<code class="fe ll lm ln lo b">innerHTML</code>设置为<code class="fe ll lm ln lo b">commentInput</code>的值来实现。我们还用来自<code class="fe ll lm ln lo b">sessionStorage</code>的值设置了<strong class="kq io">作者</strong>的名字。</p><p id="3e67" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，我们需要隐藏<code class="fe ll lm ln lo b">commentEdit</code> div并显示<code class="fe ll lm ln lo b">commentDisplay</code> div。这是通过将<code class="fe ll lm ln lo b">commentEdit</code> div的<strong class="kq io">显示</strong>样式设置为<code class="fe ll lm ln lo b">'none'</code>来隐藏它，并将<code class="fe ll lm ln lo b">commentDisplay</code> div设置为<code class="fe ll lm ln lo b">'block'</code>来显示它。</p><h2 id="20f0" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak">评论喜欢()</strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nx"><img src="../Images/3734b1f52d21a9df8909508b1a8766c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PXmjatx2uFe2PKEuyjM3cA.png"/></div></div></figure><p id="7816" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当用户点击任何评论旁边的<strong class="kq io"> Like按钮</strong>时，调用<code class="fe ll lm ln lo b">commentLike()</code>方法。使用<code class="fe ll lm ln lo b">querySelector</code>将<code class="fe ll lm ln lo b">likes</code>变量设置为指向<strong class="kq io">like</strong>tag。然后<code class="fe ll lm ln lo b">likeCount</code>递增，并且用新的<strong class="kq io">喜欢计数</strong>更新<code class="fe ll lm ln lo b">&lt;p&gt;</code>标签的<code class="fe ll lm ln lo b">innerHTML</code>。</p><h2 id="f4e6" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak">评论回复()</strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ny"><img src="../Images/954b50fa3e77d6c010964f1a51872745.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iWjavg_5k7DeKDQbVNjLTA.png"/></div></div></figure><p id="4f78" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当用户点击任何评论旁边的<strong class="kq io">回复按钮</strong>时，就会调用<code class="fe ll lm ln lo b">commentReply()</code>方法。我们首先让<code class="fe ll lm ln lo b">replyBox</code>变量指向<code class="fe ll lm ln lo b">reply-box</code> div。这是div，所有的<strong class="kq io">评论回复</strong>将作为子元素添加到其中。</p><p id="75a0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然后，一个新的<code class="fe ll lm ln lo b">comment-box</code>组件被创建为HTML元素，它的值被设置为<code class="fe ll lm ln lo b">newCommentBox</code>变量。<strong class="kq io">级别</strong>变量递增，其新值被设置为<code class="fe ll lm ln lo b">newCommentBox</code>的属性。如果回复框已经有任何子节点，那么在<code class="fe ll lm ln lo b">reply-box</code>中的<strong class="kq io">第一个子节点</strong>之前插入<code class="fe ll lm ln lo b">newCommentBox</code>，否则直接追加<code class="fe ll lm ln lo b">newCommentBox</code>作为第一个子节点。这是为了确保较新的回复总是出现在顶部。</p></div><div class="ab cl lu lv hr lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ig ih ii ij ik"><h2 id="f710" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak"> Script.js </strong></h2><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ny"><img src="../Images/b82ebe41edd935045a03d31b286bdf75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rsC6uf-515rfZLFIznRQCA.png"/></div></div></figure><p id="0972" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe ll lm ln lo b">CommentBox</code>类作为<strong class="kq io"> ES模块</strong>从<code class="fe ll lm ln lo b">commentBox.js</code>导入。我们首先将当前用户数据设置到<strong class="kq io">会话存储器</strong>中。然后我们将<code class="fe ll lm ln lo b">CommentBox</code>类定义为定制元素或Web组件。我们还将这个元素的定制HTML标签设置为<code class="fe ll lm ln lo b">'comment-box'</code>。</p><p id="35f5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">注意:</strong> <code class="fe ll lm ln lo b">script.js</code>文件中应指定<code class="fe ll lm ln lo b">index.html</code>与<code class="fe ll lm ln lo b">type='module'</code>来启用ES模块。</p><pre class="kd ke kf kg gt nl lo nm nn aw no bi"><span id="bef3" class="my mc in lo b gy np nq l nr ns">&lt;script defer <strong class="lo io">type="module"</strong> src="script.js"&gt;&lt;/script&gt;</span></pre><h2 id="785c" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak">Index.html</strong></h2><p id="5971" class="pw-post-body-paragraph ko kp in kq b kr mt jo kt ku mu jr kw kx mv kz la lb mw ld le lf mx lh li lj ig bi translated"><code class="fe ll lm ln lo b">index.html</code>文件的主体非常简单。它由嵌套在其中的一个<code class="fe ll lm ln lo b">container</code>和一个<code class="fe ll lm ln lo b">comments</code> div组成。这些用于在视口内以特定宽度居中对齐注释部分。在这个div中，我们添加了<code class="fe ll lm ln lo b">comment-box</code>元素，这是我们到目前为止一直在创建的Web组件。还添加了一个等级属性，值为<strong class="kq io"> 0 </strong>，标记为评论框的<strong class="kq io">初始等级</strong>。这允许从零开始嵌套四级注释。如果初始级别设置为<strong class="kq io"> 1 </strong>，则可以嵌套三个级别的注释。如果最初没有指定<strong class="kq io">级别</strong>属性，则其值默认为<strong class="kq io">零</strong>，使得三个级别的嵌套回复成为可能。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nz"><img src="../Images/39fbb9d1d70c4f50552abfc52e0a1e66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5FQ36USDJLQ8PwcR2xQ6Mw.png"/></div></div></figure><h2 id="1086" class="my mc in bd md mz na dn mh nb nc dp ml kx nd ne mn lb nf ng mp lf nh ni mr nj bi translated"><strong class="ak">结论:</strong></h2><p id="5449" class="pw-post-body-paragraph ko kp in kq b kr mt jo kt ku mu jr kw kx mv kz la lb mw ld le lf mx lh li lj ig bi translated">总结一下，我们看了如何创建定制的<strong class="kq io"> Web组件</strong>并与<strong class="kq io"> JavaScript ES模块</strong>一起使用。这是通过创建一个定制的<code class="fe ll lm ln lo b">comment-box</code> web组件并使用它来创建一个嵌套的评论/回复系统来实现的。我们还看到了web组件的代码、它的生命周期方法以及它的相关事件句柄的细节。</p><p id="59b3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个项目的完整代码可以在<a class="ae lk" href="https://github.com/savinuvijay/nested-comments" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> GitHub </strong> </a>上获得。</p><p id="1d70" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">看看<a class="ae lk" href="https://stackblitz.com/edit/web-platform-nac3d2" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> StackBlitz </strong> </a>上的现场演示。</p><p id="c8d9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="oa">更多内容看</em> <a class="ae lk" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="oa">说白了就是</em> </strong> </a> <em class="oa">。报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="oa">免费每周简讯</em> </strong> </a> <em class="oa">。在我们的</em> <a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="oa">社区不和谐</em> </strong> </a> <em class="oa">获得独家获取写作机会和建议。</em></p></div></div>    
</body>
</html>