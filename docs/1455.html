<html>
<head>
<title>How to Integrate React Native into Your Android Mobile App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React Native集成到您的Android移动应用程序中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-integrate-react-native-into-your-android-mobile-app-1f36458d8b05?source=collection_archive---------6-----------------------#2022-03-25">https://javascript.plainenglish.io/how-to-integrate-react-native-into-your-android-mobile-app-1f36458d8b05?source=collection_archive---------6-----------------------#2022-03-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="237f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">将React Native集成到现有Android应用程序的指南</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/035353354f06740a020258a83bc90ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*TyWROKEEferFNVSLU5_JjQ.png"/></div></figure><p id="379b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">React原生跨平台框架的高人气和进步没有瞒过任何人。很久以前，我的一个同事告诉我关于React Native的事情，但是我认为它是另一个跨平台的框架，实际上不会工作。但是有经验的和初学者开发者使用它的组件来加速他们的开发过程的方式，我的观点已经完全改变了。</p><p id="44e5" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果你是一家初创公司或商业爱好者，那么原生应用程序开发无疑是你的首要任务。我们大多数人认为用本地编程语言创建的应用程序更健壮。然而，如果您正在寻找加快应用程序开发流程的方法，那么将React Native的组件集成到您现有的应用程序中将是一个完美的选择。</p><p id="bffe" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">然而，如果你正处于如何入门和为什么选择React Native的两难境地，那么这里我们已经为你收集了所有相关信息。</p><p id="5ef4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">目录</strong></p><ul class=""><li id="982b" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><em class="lp">你为什么要选择在现有的Android应用中集成React Native？</em></li><li id="a6c2" class="lg lh in km b kn lq kq lr kt ls kx lt lb lu lf ll lm ln lo bi translated"><em class="lp">如何将React原生集成到你的Android应用中？<br/> -将React Native与现有应用集成的9个步骤</em></li><li id="25b3" class="lg lh in km b kn lq kq lr kt ls kx lt lb lu lf ll lm ln lo bi translated"><em class="lp">将React Native集成到您现有的应用程序中需要多少成本？</em></li><li id="1d50" class="lg lh in km b kn lq kq lr kt ls kx lt lb lu lf ll lm ln lo bi translated"><em class="lp">需要专业的应用程序开发团队将React Native集成到应用程序中</em></li><li id="c028" class="lg lh in km b kn lq kq lr kt ls kx lt lb lu lf ll lm ln lo bi translated"><em class="lp">结论</em></li></ul><p id="202b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">为了更好地理解，让我们深入了解每一点的细节…</p><h2 id="acfb" class="lv lw in bd lx ly lz dn ma mb mc dp md kt me mf mg kx mh mi mj lb mk ml mm mn bi translated"><strong class="ak">为什么您应该选择在现有的Android应用中集成React Native？</strong></h2><p id="5f5f" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">说到开发原生应用，毫无疑问，大多数移动应用开发者要么在寻找Kotlin，要么在寻找Objective C原生编程语言。但是，如果你已经有了一个原生的Android应用程序，并且想为iOS操作系统创建相同的应用程序，该怎么办呢？</p><p id="e3db" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">与从头开始编写代码不同，将React原生模块集成到现有的应用程序中，将有助于您创建一个在两个平台上都能工作的解决方案。最初，将React Native集成到原生应用程序的过程很复杂，但如果通过雇佣react-native开发公司来谨慎处理，您可以节省大量时间和成本。在我们开始讨论将React Native集成到现有应用程序中的过程之前，让我们来看看集成的原因。</p><blockquote class="mt mu mv"><p id="1687" class="kk kl lp km b kn ko jo kp kq kr jr ks mw ku kv kw mx ky kz la my lc ld le lf ig bi translated"><strong class="km io">为什么要将React Native集成到您现有的应用程序中？</strong></p></blockquote><p id="9a0a" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">让我们来看看将React Native集成到现有应用程序中的好处。</p><ol class=""><li id="3a60" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf mz lm ln lo bi translated"><strong class="km io">快速上市</strong></li></ol><p id="bf5d" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">与其从头开始编写代码来创建另一个本机应用程序，不如将React Native集成到现有的应用程序中，以便快速</p><p id="de7e" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">推广你的应用。原因是，与简单的方法相比，React Native使用单一代码库，确保了更快的调试、更快的测试和更容易的应用程序维护。此外，热重新加载、支持第三方插件、无缝定制等功能使得应用程序与React Native的集成更加容易。</p><p id="bde1" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io"> 2。代码可重用性</strong></p><p id="079b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">使用React Native，为两个平台创建应用程序变得更加容易、快捷和简单。如果在令人兴奋的Android或iOS应用程序中加入React Native，预计90%的代码库可以重用。此外，React Native提供预开发组件和共享代码库，因此，开发人员可以加快应用程序开发过程的速度。</p><p id="e799" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io"> 3。节省预算</strong></p><p id="3150" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">无论是创建相同的iOS原生应用，还是将React Native集成到现有应用中，使其在两个平台上都可用，其开发成本始终是最大的关注点。虽然构建原生应用程序总是一件昂贵的事情，因此，将React Native集成到您现有的应用程序中可以降低应用程序构建成本。通过雇佣一个<a class="ae na" href="https://www.xicom.biz/services/mobile-app-development/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io">的app开发公司</strong> </a>，你可以用很低的预算开发一个面向商业的app。由于它是一个开源框架，你只需要维护一个单一的代码库，因此它节省了应用程序开发的巨大成本。你所需要的就是与一个有能力的小开发团队合作来完成这项任务。</p><p id="51a9" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">将React Native集成到您现有应用程序中的理由可以继续下去，但让我们回到本博客的主要话题。从这里我们直接进入本博客的下一步，了解如何创建React原生Android应用？</p><h1 id="5b01" class="nb lw in bd lx nc nd ne ma nf ng nh md jt ni ju mg jw nj jx mj jz nk ka mm nl bi translated"><strong class="ak">如何将React原生集成到你的Android应用中？</strong></h1><p id="be2f" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">现在你知道了将React Native集成到现有应用中的原因和优势。而使用React Native开发应用程序是最好的交易，因为它可以确保更快的应用程序开发，应用程序的低维护，并确保iOS和Android中的相同功能。如果你正在从头开始创建一个应用程序，那么React Native无疑是一个不错的选择。但当涉及到向现有应用程序添加用户流、屏幕、视图或功能时，它是如何工作的呢？将React Native添加到您现有的应用程序中也可以节省大量时间和精力。你所需要的是学习正确的程序。</p><p id="f17a" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">让我们开始吧…</p><blockquote class="mt mu mv"><p id="5f91" class="kk kl lp km b kn ko jo kp kq kr jr ks mw ku kv kw mx ky kz la my lc ld le lf ig bi translated"><strong class="km io">将React Native与现有应用集成的9个步骤</strong></p></blockquote><h2 id="1743" class="lv lw in bd lx ly lz dn ma mb mc dp md kt me mf mg kx mh mi mj lb mk ml mm mn bi translated"><strong class="ak">第一步:入门的先决条件</strong></h2><p id="b08b" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">首先，您需要为React Native设置一个系统，使您能够安装或配置工具，将任何本机代码写入您现有的应用程序。如果您还没有系统，那么请确保您已经设置了以下内容:</p><ul class=""><li id="72b0" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated">反应本地开发环境——NodeJS、CLI等。</li><li id="15bf" class="lg lh in km b kn lq kq lr kt ls kx lt lb lu lf ll lm ln lo bi translated"><em class="lp"> Android开发环境:Android Studio、Java开发包等。</em></li><li id="4f6b" class="lg lh in km b kn lq kq lr kt ls kx lt lb lu lf ll lm ln lo bi translated"><em class="lp"> iOS开发环境:Xcode，CocoaPods，more。</em></li></ul><p id="000f" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">如果您仍未准备好进行设置，请选择React Native CLI快速启动设置过程。</p><h2 id="11ac" class="lv lw in bd lx ly lz dn ma mb mc dp md kt me mf mg kx mh mi mj lb mk ml mm mn bi translated"><strong class="ak">第二步:搭建独立平台</strong></h2><p id="4ec0" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">在这里，您需要创建单独的平台来保持您的集成过程简单明了。</p><ul class=""><li id="2e86" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">反应原生</strong></li></ul><p id="e7c2" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在设置环境时，大多数文档会要求您创建package.json，安装react和react-native包，init pod文件等等。这些步骤是初始化RN需要的一些文件和目录所必需的，当初始化一个空的RN项目时，除了/android和/ios文件夹，它做同样的事情。这些文件夹充当React本地组件的容器。</p><p id="86d4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">因此，您可以使用下面的命令快速初始化RN项目，而不是手动创建、安装每个文件或包。</p><p id="5f7e" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">react-native init your name项目</em></p><p id="aa38" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">一旦你建立了项目，然后设计你的视图，添加字体，路由，获取API或者任何你想在RN上做的事情。</p><p id="2bfe" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">之后，您可以删除/android和/ios子文件夹中的所有文件，也可以选择在下一步替换现有的原生项目。</p><ul class=""><li id="150e" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">安卓原生</strong></li></ul><p id="a017" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">由Android Studio在/android子文件夹下初始化Android项目。你也可以把这个作为你现有的Android原生项目，你需要把RN模块嵌入到/android的子文件夹中。</p><p id="2e8b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">接下来，你需要找到并编辑<em class="lp"> android/build。Gradle，android/app/build。Gradle，AndroidManifest.xml. </em>要编辑文件，可以<a class="ae na" href="https://www.xicom.biz/offerings/hire-react-native-developers/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io">雇佣一个react原生app开发者</strong> </a>。专家可以更好地将这些文件与源代码中的相应文件进行比较。允许开发人员向其中添加一些配置。</p><ul class=""><li id="c324" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io"> iOS原生</strong></li></ul><p id="9aa6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">通过/ios文件夹中的Xcode初始化iOS项目。把它当做你现有的iOS原生项目，你需要把RN模块嵌入到一个子文件夹中。</p><p id="1195" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要进一步进行，您需要在iOS <strong class="km io"> <em class="lp">文件夹</em> </strong>中运行<strong class="km io"> <em class="lp"> pod init </em> </strong>来创建一个pod文件，并通过比较源代码中的相应文件来编辑该文件。专家也可以在其中添加一些配置。因此，一旦创建了pod文件，就可以安装RN pod了。</p><p id="b961" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">步骤3:将React Native嵌入到现有的本机代码中</strong></p><ul class=""><li id="cb0c" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在安卓系统上</strong></li></ul><p id="a5bb" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">当涉及到将RN嵌入到原生代码时，不需要修改MainApplication.kt，在RN开发过程中添加原生包时会考虑。然而，当涉及到将React本机模块集成到本机代码时，它的作用域比考虑本机作用域更重要。</p><p id="d609" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">接下来，创建另一个活动并将其命名为<strong class="km io"><em class="lp">rnmoduleactivity . kt</em></strong>，其中包含一个RN应用程序。您需要将其设置为主内容视图。您可以通过将它与源代码中相应的文件进行比较来编辑它。</p><p id="b5d2" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">通过AndroidManifest.xml添加来完成这一步</em></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/b0fdf58171556b8e6f0a1d58b36eeac0.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*InMhIAsPdtVbuZI-VsbY_A.jpeg"/></div></figure><ul class=""><li id="39dc" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在iOS上</strong></li></ul><p id="3bb9" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">您需要遵循相同的程序，这一步不需要进一步的操作。</p><h2 id="ea36" class="lv lw in bd lx ly lz dn ma mb mc dp md kt me mf mg kx mh mi mj lb mk ml mm mn bi translated"><strong class="ak">步骤4:导航以从本机代码反应本机代码</strong></h2><p id="7938" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">访问本机代码屏幕，然后导航到React本机屏幕，然后发送一个参数。在这之后，你需要在React本机屏幕上吐司这个消息。为了避免这种复杂性，这里我们提到了Android和iOS的代码。</p><p id="0541" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">让我们看看如何从Android和iOS原生代码导航到React Native。</em></p><ul class=""><li id="388c" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">安卓系统</strong></li></ul><p id="5fdd" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这里我们从Android 9开始，默认情况下明文流量是禁用的。这种做法会阻止您的应用程序连接到React本机打包程序。虽然这项任务可以通过雇佣一家<a class="ae na" href="https://www.xicom.biz/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io">软件开发公司</strong> </a>来轻松完成，但我们仍然提供源代码以供进一步参考。进一步的更改将在调试版本的明文流量中完成。</p><p id="b001" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">要清除文本流量，您可以将<em class="lp"> usesCleartextTraffic </em>选项应用到您的<em class="lp"> AndroidManifest.xml </em>中。这里是源代码，供您随时参考。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/2056ae762297d6aa5aa4a745cc0ba733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*qPFuIcmImpc1pdgdVNJOkA.jpeg"/></div></figure><ul class=""><li id="55a1" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在iOS上</strong></li></ul><p id="b922" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">导航到RN屏幕的过程将保持不变。但是苹果曾经屏蔽过隐式明文HTTP资源加载。所以这里你需要考虑在Info.plist中加入NSAppTransportSecurity，不要慌，这里我们提到源代码是为了让任务更简单。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi no"><img src="../Images/38bd21ed72cbaa19a9268ee2ec8ba529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mgCWmXktvaLcM9o3ZR-VgQ.jpeg"/></div></div></figure><p id="1a69" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">第五步:创建测试沟通能力的React原生模块</strong></p><p id="4d06" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">既然您已经将RN代码嵌入并导航到本机代码中，那么是时候测试js和本机代码之间的通信能力了。因此，要开始并测试这些特性，您需要创建一个名为TestConnectNative的模块来执行两件事:</p><p id="5b21" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">向本地代码发送消息，然后显示来自它们的日志(Swift或Kotlin代码)。</em></p><p id="7cf1" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">向本机代码发送回调，在js代码处接收返回值。</em></p><p id="cbe0" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">调用原生函数解除RN视图(iOS)。</em></p><ul class=""><li id="2094" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在Android上测试</strong></li></ul><p id="ac49" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">为了测试Android原生代码，一个原生模块需要2个文件。</p><blockquote class="mt mu mv"><p id="10eb" class="kk kl lp km b kn ko jo kp kq kr jr ks mw ku kv kw mx ky kz la my lc ld le lf ig bi translated">文件1:模块:包含所有功能和逻辑代码。</p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nt"><img src="../Images/a8180ee1e75d0b618d25f9a5f0b9bbef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8F0ph3dcA18lhcv0nYOXnA.jpeg"/></div></div></figure><blockquote class="mt mu mv"><p id="f772" class="kk kl lp km b kn ko jo kp kq kr jr ks mw ku kv kw mx ky kz la my lc ld le lf ig bi translated"><strong class="km io">文件2:包:从JS注册模块</strong></p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nu"><img src="../Images/22a66b523a693d808de965fcf80ec46f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JWp1_k-RceKBnaXbsT1rPA.jpeg"/></div></div></figure><ul class=""><li id="b294" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在iOS上进行测试</strong></li></ul><p id="80f2" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">而iOS的话，一个原生模块也像Android一样需要2个文件。</p><blockquote class="mt mu mv"><p id="c7cf" class="kk kl lp km b kn ko jo kp kq kr jr ks mw ku kv kw mx ky kz la my lc ld le lf ig bi translated">文件1: Swift:包含所有的功能和逻辑代码。</p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi nv"><img src="../Images/b444d3500862ca92152582afb52461a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3_32b3HS-2wbRSmWDn1_g.jpeg"/></div></div></figure><blockquote class="mt mu mv"><p id="eedd" class="kk kl lp km b kn ko jo kp kq kr jr ks mw ku kv kw mx ky kz la my lc ld le lf ig bi translated"><strong class="km io">文件二:。m: Objective-C文件向JS公开您的方法。</strong></p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/88124dd5e3666885b559bb2492f5e782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*TJ5G6P_EqgAjx3f_Q6jhMg.jpeg"/></div></figure><h2 id="8fbf" class="lv lw in bd lx ly lz dn ma mb mc dp md kt me mf mg kx mh mi mj lb mk ml mm mn bi translated"><strong class="ak">步骤6:在React Native上创建一个包装器特性，以便从JS代码中调用</strong></h2><p id="c595" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">虽然创建这些特性并不是强制性的，但它有助于让库的使用者不必每次都从NativeModules中取出库。JavaScript文件也被认为是添加任何JavaScript附带功能的好地方。</p><p id="3c0d" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp"> //如果TestConnectNative是来自npm的包，你可以认为这是index.js文件<br/>从‘react-native’导入{NativeModules，Platform }；</em></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/d534bda0b116636d28415ebc63ca1670.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/0*usqgvyznFt2IkbUz"/></div></figure><p id="b436" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">导出默认的TestConnectNative<br/>现在，从你的另一个js文件中，你可以像这样调用这个方法:</em></p><p id="c19b" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp"> //发送消息到本机代码<br/>testconnectnative . sendmessage(this . state . messagetonative)；</em></p><p id="e5b7" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp"> //向本机代码发送回调并接收消息<br/>testconnectnative . Send callback((native message)=&gt;{</em></p><p id="ea7d" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp"> console.log(`此日志来自带有本机消息的js代码回调:" $ { native message } " `)；<br/>})；<br/> //退出RN返回native<br/>testconnectnative . Exit RN(root tag)；</em></p><p id="153e" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">第七步:退出RN返回本机</strong></p><ul class=""><li id="6e45" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">安卓原生</strong></li></ul><p id="56ff" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在Android中，您可以通过构建BackHandler.exitApp()来轻松退出RN屏幕。否则，您可以寻求专业帮助来使用getCurrentActivity()。在Kotlin代码处完成()。</p><ul class=""><li id="544a" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">从iOS本机退出RN屏幕</strong></li></ul><p id="2ad4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在这里，建议您创建一个桥，以便稍后可以重用此桥来关闭或导航<strong class="km io"> <em class="lp">视图控制器</em> </strong>。所以创建一个名为<strong class="km io"><em class="lp">rnviewmanager . swift</em></strong>的文件来处理load root react视图并控制桥。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="np nq di nr bf ns"><div class="gh gi ny"><img src="../Images/f68c295f6214c0b4b38aea0dde8c2c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8E4lCen23ptAzrXCt_nfvw.jpeg"/></div></div></figure><p id="a6a4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">步骤8:从RN导航新的本地视图</strong></p><ul class=""><li id="7a85" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在安卓原生系统中导航</strong></li></ul><p id="cb2e" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">您需要使用<em class="lp"> getCurrentActivity() </em>然后在<em class="lp">testconnectnativemodule . kt</em>文件中启动一个intent并检查代码。</p><ul class=""><li id="437f" class="lg lh in km b kn ko kq kr kt li kx lj lb lk lf ll lm ln lo bi translated"><strong class="km io">在iOS原生系统中导航</strong></li></ul><p id="e9c5" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">您可以使用<em class="lp"> RNViewManager </em>来获取当前的视图控制器，然后创建另一个视图控制器。此外，使用<em class="lp">testconnectnative . swift</em>文件测试代码。</p><p id="80af" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><strong class="km io">步骤9启动应用</strong></p><p id="24ec" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">最后，在android studio上，使用npm start或React-native start启动您的项目。此外，点击绿色播放按钮打开一个模拟器，并启动一个应用程序。</p><p id="5a52" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">现在的问题是，将React Native集成到您现有的原生应用程序需要多少成本？由于应用程序开发是一个复杂的过程，将RN集成到您现有的项目中或考虑将应用程序迁移到另一个平台可能会让您囊中羞涩。所以在你<a class="ae na" href="https://www.xicom.biz/offerings/hire-mobile-developers/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io">雇佣一个手机app开发者</strong> </a>之前，你一定很好奇，想知道把RN集成到native需要多长时间，以及它的成本。无论您运行的是基本应用程序还是复杂应用程序，将RN集成到现有应用程序中的成本始终是企业迫切关注的问题。让我们进一步了解成本…</p><h2 id="661b" class="lv lw in bd lx ly lz dn ma mb mc dp md kt me mf mg kx mh mi mj lb mk ml mm mn bi translated"><strong class="ak">将React Native整合到你现有的应用中需要多少成本？</strong></h2><p id="26e2" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">通常，对于单个平台，开发一个原生应用程序的成本在17，500美元到20，000美元之间浮动，但是将React Native集成到原生应用程序可以节省您大量的时间和成本。而开发两个本地应用的基本版本需要大约9个多月的开发时间，成本在30，000美元到35，000美元之间。在这种情况下，开发一个集成RN到你现有的本地代码可能需要3到4个月的时间，并使你的应用程序兼容两个平台。</p><p id="75cf" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">然而，当涉及到估计集成到本机代码的成本时，您需要评估应用程序、特性、功能和设计的复杂性。更复杂的应用程序需要更长的时间进行React原生集成。但是，将React Native集成到原生应用程序的平均成本在20，000美元到22，000+美元之间。但是，在您做出任何决定之前，建议您与专家预约一个免费的咨询时段。与专家讨论集成到您的原生应用程序的范围。</p><h1 id="e76f" class="nb lw in bd lx nc nd ne ma nf ng nh md jt ni ju mg jw nj jx mj jz nk ka mm nl bi translated"><strong class="ak">结论</strong></h1><p id="e5f8" class="pw-post-body-paragraph kk kl in km b kn mo jo kp kq mp jr ks kt mq kv kw kx mr kz la lb ms ld le lf ig bi translated">毫无疑问，随着跨平台框架的宣传越来越多，企业正在积极地将他们的本地应用程序转移到跨平台。React Native就是这样一个开源的跨平台框架，它已经风靡全球。因此，如果你也计划将React Native集成到你现有的应用程序中，那么你可以聘请一家<a class="ae na" href="https://www.xicom.biz/services/mobile-app-development/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io">移动应用程序开发公司</strong> </a>来节省时间、金钱和资源。将React Native与现有应用程序集成是一个明智之举，可以让您的应用程序兼容多个平台，提高速度并在最短的时间内满足客户需求。</p><p id="f35f" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">因此，如果你准备将应用程序迁移到另一个平台，并寻求专家建议和专业帮助，那么你可以<a class="ae na" href="https://www.xicom.biz/contact/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="lp">联系我们</em> </strong> </a>或在下面提出疑问。</p><p id="a3be" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi">========================================</p><p id="d0ec" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lp">更多内容看</em> <a class="ae na" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="lp">说白了。报名参加我们的</em> </a><a class="ae na" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="lp">免费每周简讯</em> </a> <em class="lp">。关注我们的</em><a class="ae na" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><em class="lp">Twitter</em></a><em class="lp">和</em><a class="ae na" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><em class="lp">LinkedIn</em></a><em class="lp">。加入我们的</em> <a class="ae na" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="lp">社区不和谐</em> </a> <em class="lp">。</em></p></div></div>    
</body>
</html>