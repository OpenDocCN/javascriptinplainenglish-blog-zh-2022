<html>
<head>
<title>How to Optimize Data Fetching in React Native?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何优化React Native中的数据抓取？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-optimize-data-fetching-in-react-native-b3cab2ee45ab?source=collection_archive---------4-----------------------#2022-10-06">https://javascript.plainenglish.io/how-to-optimize-data-fetching-in-react-native-b3cab2ee45ab?source=collection_archive---------4-----------------------#2022-10-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><blockquote class="jk"><p id="5c6a" class="jl jm in bd jn jo jp jq jr js jt ju dk translated">了解有关延迟加载和预取图像以优化性能的更多信息。</p></blockquote><figure class="jw jx jy jz ka kb gh gi paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="gh gi jv"><img src="../Images/7637491bf419209357f378bb6c1c0a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vgSR1vfS2zY_aU9NaovJjg.jpeg"/></div></div></figure><p id="96b6" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">欢迎来到另一个博客！对于任何react本地应用程序，通过API调用获取数据变得非常重要，因为我们需要更新本地状态，从而相应地在视图中呈现数据。在这篇博客中，我们将看看如何以优化的方式获取图像、视频等形式的数据。</p><blockquote class="lf lg lh"><p id="b1f7" class="ki kj li kk b kl km kn ko kp kq kr ks lj ku kv kw lk ky kz la ll lc ld le ju ig bi translated"><strong class="kk io">数据预取的概念:</strong></p><p id="c1cc" class="ki kj li kk b kl km kn ko kp kq kr ks lj ku kv kw lk ky kz la ll lc ld le ju ig bi translated"><strong class="kk io">数据预取</strong>是指在后台下载数据的概念。这样做是基于数据可能会被请求的假设，因此如果用户请求数据，就可以立即加载数据。</p></blockquote><p id="007a" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">一个重要的标准是，<strong class="kk io"> API </strong>应该以这样一种方式设计，即它可以接受一个参数，如限制/大小或开始/结束限制，并只带来那些请求的数据作为响应。</p><p id="34ae" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">对于演示，我们将尝试克隆一个非常基本的youtube短片/ Instagram卷轴版本，但不是视频，而是图像。我们将了解如何预取数据以避免加载时间，以及如何在组件安装后不大量加载状态的情况下延迟加载数据。</p><p id="9d82" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">让我们开始吧。</p></div><div class="ab cl lm ln hr lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ig ih ii ij ik"><h1 id="3f9b" class="lt lu in bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">主要成分</h1><p id="eb96" class="pw-post-body-paragraph ki kj in kk b kl mr kn ko kp ms kr ks kt mt kv kw kx mu kz la lb mv ld le ju ig bi translated">在主组件内部，我们需要呈现一个包含数据的平面列表。我们还需要传递<strong class="kk io"> onEndReachedThreshold </strong>，这样如果它从底部滚动到提供的像素值，它将触发<strong class="kk io"> onEndReached </strong>。</p><p id="ccc9" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated"><strong class="kk io"> onEndReached </strong>可以接受一个回调，该回调将使用更新后的大小通过API调用获取数据，这里我们更新setLimit，它将触发fetchImages()作为副作用操作。这个函数也将更新setImages，因此我们将在flatlist中有一组更新的图像，它将呈现每个项目。</p><p id="8a96" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated"><strong class="kk io"> <em class="li">源代码:</em> </strong></p><figure class="mw mx my mz gt kb"><div class="bz fp l di"><div class="na nb l"/></div></figure><h1 id="c24a" class="lt lu in bd lv lw nc ly lz ma nd mc md me ne mg mh mi nf mk ml mm ng mo mp mq bi translated"><strong class="ak">屏幕</strong></h1><p id="d1e5" class="pw-post-body-paragraph ki kj in kk b kl mr kn ko kp ms kr ks kt mt kv kw kx mu kz la lb mv ld le ju ig bi translated">我们可以为将在移动屏幕上呈现的每个项目启用全屏视图。</p><p id="f5f4" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated"><strong class="kk io"> <em class="li">源代码:</em> </strong></p><figure class="mw mx my mz gt kb"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="2f80" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">演示-</p><figure class="mw mx my mz gt kb gh gi paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="gh gi nh"><img src="../Images/f856378a10c7c73b2b464ca78ff29ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zOcsj7xrUhJTZpTItDvUtg.gif"/></div></div></figure><p id="cdcb" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">想在React Native上看到更多这样令人惊叹的博客，请看看这些—</p><ol class=""><li id="d58b" class="ni nj in kk b kl km kp kq kt nk kx nl lb nm ju nn no np nq bi translated"><a class="ae nr" rel="noopener ugc nofollow" target="_blank" href="/a-beginners-friendly-article-on-react-native-simply-explained-f3098b1873ec?source=your_stories_page-------------------------------------">所有关于React Native的初学者:优点、缺点和未来</a></li><li id="e52c" class="ni nj in kk b kl ns kp nt kt nu kx nv lb nw ju nn no np nq bi translated"><a class="ae nr" rel="noopener ugc nofollow" target="_blank" href="/best-coding-practices-react-native-edition-2022-da833c8161de?source=your_stories_page-------------------------------------">最佳编码实践— React本地版2022 </a></li></ol><p id="4ee9" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated">感谢阅读。</p><p id="df1d" class="pw-post-body-paragraph ki kj in kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ju ig bi translated"><em class="li">更多内容请看</em><a class="ae nr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="li">plain English . io</em></strong></a><em class="li">。报名参加我们的</em> <a class="ae nr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> <em class="li">免费周报</em> </strong> </a> <em class="li">。关注我们关于</em><a class="ae nr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="li">Twitter</em></strong></a><a class="ae nr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="li">LinkedIn</em></strong></a><strong class="kk io"><em class="li"/></strong><a class="ae nr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="li">YouTube</em></strong></a><strong class="kk io"><em class="li">，以及</em></strong><em class="li"/><a class="ae nr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kk io"><em class="li">不和</em> </strong> </a>  <em class="li">对成长黑客感兴趣？检查</em> <a class="ae nr" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk io"> <em class="li">电路</em> </strong> </a> <strong class="kk io"> <em class="li">。</em> </strong></p></div></div>    
</body>
</html>