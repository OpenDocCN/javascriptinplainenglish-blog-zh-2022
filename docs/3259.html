<html>
<head>
<title>How to Create a Video Element Using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript创建视频元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-create-video-element-ded3d63367c4?source=collection_archive---------16-----------------------#2022-08-12">https://javascript.plainenglish.io/javascript-create-video-element-ded3d63367c4?source=collection_archive---------16-----------------------#2022-08-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="072e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何使用JavaScript轻松创建视频元素。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/aca5e354e9b02a3e9e1863a17229aa3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-2V30-3OAccYJNAAEP-U-Q.png"/></div></div></figure><p id="0524" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要使用JavaScript创建视频元素:</p><ol class=""><li id="b3c2" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj lp lq lr ls bi translated">使用<code class="fe lt lu lv lw b">document.createElement()</code>方法创建视频元素</li><li id="9e8d" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj lp lq lr ls bi translated">设置视频元素的各种属性，如<code class="fe lt lu lv lw b">src</code>、<code class="fe lt lu lv lw b">height</code>、<code class="fe lt lu lv lw b">width</code>等。</li><li id="3f78" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj lp lq lr ls bi translated">使用<code class="fe lt lu lv lw b">appendChild()</code>方法在HTML中包含视频元素。</li></ol><p id="6faf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">考虑这个HTML标记示例:</p><p id="fffe" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">index.html</strong></p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="d665" class="mg mh in lw b gy mi mj l mk ml">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Coding Beauty Tutorial&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="box"&gt;&lt;/div&gt;</span><span id="caf6" class="mg mh in lw b gy mm mj l mk ml">    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="aae1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">下面是我们如何从JavaScript创建一个视频元素:</p><p id="5b96" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> index.js </strong></p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="7995" class="mg mh in lw b gy mi mj l mk ml">// Create video element<br/>const video = document.createElement('video');</span><span id="152e" class="mg mh in lw b gy mm mj l mk ml">// Use local file<br/>// video.src = 'video.mp4';</span><span id="a4fa" class="mg mh in lw b gy mm mj l mk ml">// Use remote file<br/>video.src =<br/>  'https://archive.org/download/C.E.PriceCatWalksTowardCamera/cat_walks_toward_camera_512kb.mp4';<br/></span><span id="e8d4" class="mg mh in lw b gy mm mj l mk ml">video.controls = true;<br/>video.muted = false;<br/>video.height = 240; // in px<br/>video.width = 320; // in px</span><span id="8732" class="mg mh in lw b gy mm mj l mk ml">const box = document.getElementById('box');</span><span id="deab" class="mg mh in lw b gy mm mj l mk ml">// Include in HTML as child of #box<br/>box.appendChild(video);</span></pre><p id="3e0f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，视频将出现在网页上:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/369db7514fc11c92f424fb2abefc8720.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/0*END0_ACV73FADd_K.png"/></div></figure><p id="4f4c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果需要，我们可以控制播放视频:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/43ac3d16e5d69cc5546747536001e163.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/1*oiHplMhEtV4Qp0RlBm7z1Q.gif"/></div></figure><p id="99e1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">方法创建一个由标签名指定的HTML元素并返回该元素。通过传递一个<code class="fe lt lu lv lw b">video</code>标签，我们创建了一个<a class="ae mp" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" rel="noopener ugc nofollow" target="_blank">视频</a>元素。</p><p id="3a0c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">视频元素附带了许多属性，我们可以使用这些属性来定制它的外观和行为。以下是一些最常用的方法:</p><ul class=""><li id="22af" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">src</code>:最重要的属性，设置为URL或文件路径，决定要播放的视频。</li><li id="4422" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">autoplay</code>:该属性指定视频是否应该尽快自动开始播放，而不停止加载数据。</li><li id="f341" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">controls</code>:<code class="fe lt lu lv lw b">controls</code>属性确定浏览器是否应该显示允许用户控制视频回放的控件，例如，调节音量、移动到视频中的新位置(查找)、暂停/恢复等。</li><li id="1826" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">poster</code>:图像仍在下载时显示的图像的URL。</li><li id="c3d8" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">muted</code>:这是一个布尔属性，用于指定视频是否默认静音。</li><li id="b4cf" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">height</code>:设置视频显示区域的高度，单位为像素。</li><li id="14c8" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj mq lq lr ls bi translated"><code class="fe lt lu lv lw b">width</code>:设置视频显示区域的宽度，单位为像素。</li></ul><p id="a2b6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有关视频元素支持的所有属性的完整列表，请访问视频元素上的<a class="ae mp" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" rel="noopener ugc nofollow" target="_blank"> MDN文档。</a></p><p id="9687" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">方法可以将一个DOM元素添加到指定父节点的子节点列表的末尾。在使用<a class="ae mp" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById" rel="noopener ugc nofollow" target="_blank"> getElementById() </a>从我们的HTML中访问<code class="fe lt lu lv lw b">#box</code>元素后，我们调用它的<code class="fe lt lu lv lw b">appendChild()</code>方法，通过将视频元素添加为<code class="fe lt lu lv lw b">#box</code>的子元素，将它包含在HTML中。</p><h1 id="b600" class="mr mh in bd ms mt mu mv mw mx my mz na jt nb ju nc jw nd jx ne jz nf ka ng nh bi translated">确保视频元素的跨浏览器兼容性</h1><p id="e9b5" class="pw-post-body-paragraph ko kp in kq b kr ni jo kt ku nj jr kw kx nk kz la lb nl ld le lf nm lh li lj ig bi translated">由于浏览器不支持相同的视频格式，当嵌入视频时，我们需要根据用户浏览器支持的格式指定不同的格式。</p><p id="6988" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要检查浏览器是否支持特定的视频类型，我们可以使用<code class="fe lt lu lv lw b">canPlayType()</code>方法。</p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="d432" class="mg mh in lw b gy mi mj l mk ml">// Create video element<br/>const video = document.createElement('video');</span><span id="51bc" class="mg mh in lw b gy mm mj l mk ml">video.autoplay = false;<br/>video.controls = true;<br/>video.muted = false;<br/>video.height = 240; // in px<br/>video.width = 320; // in px</span><span id="6643" class="mg mh in lw b gy mm mj l mk ml">if (video.canPlayType('video/mp4')) {<br/>  video.src = 'video.mp4';<br/>} else if (video.canPlayType('video/ogg')) {<br/>  video.src = 'video.ogg';<br/>} else {<br/>  // Provide video link to user<br/>}</span><span id="0fe8" class="mg mh in lw b gy mm mj l mk ml">const box = document.getElementById('box');</span><span id="9b44" class="mg mh in lw b gy mm mj l mk ml">// Include in HTML as child of box<br/>box.appendChild(video);</span></pre><p id="c330" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果浏览器不支持任何视频格式，最好的办法是给用户提供视频链接，让他们下载并离线观看。这样，每个用户都可以观看您的视频，不管他们的浏览器支持什么级别的视频。</p><p id="85ad" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nn">最初发表于:</em><a class="ae mp" href="https://cbdev.link/de5439" rel="noopener ugc nofollow" target="_blank"><em class="nn">codingbeautydev.com</em></a></p><h1 id="f9d7" class="mr mh in bd ms mt mu mv mw mx my mz na jt nb ju nc jw nd jx ne jz nf ka ng nh bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph ko kp in kq b kr ni jo kt ku nj jr kw kx nk kz la lb nl ld le lf nm lh li lj ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi no"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mp" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div><div class="ab cl np nq hr nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ig ih ii ij ik"><p id="8408" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nn">更多内容看</em> <a class="ae mp" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nn">说白了。报名参加我们的</em><strong class="kq io"><em class="nn"/></strong><a class="ae mp" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nn">免费每周简讯</em> </strong> </a> <em class="nn">。关注我们关于</em> <a class="ae mp" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nn">推特</em> </strong> </a>，<a class="ae mp" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nn">领英</em> </strong> </a> <em class="nn">，以及</em> <a class="ae mp" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nn">不和</em> </strong> </a> <em class="nn">。</em></strong></a></p></div></div>    
</body>
</html>