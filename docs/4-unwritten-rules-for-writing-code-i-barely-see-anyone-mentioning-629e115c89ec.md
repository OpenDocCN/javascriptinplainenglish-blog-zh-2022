# 写代码的 4 条不成文的规则我几乎没看到有人提到

> 原文：<https://javascript.plainenglish.io/4-unwritten-rules-for-writing-code-i-barely-see-anyone-mentioning-629e115c89ec?source=collection_archive---------2----------------------->

## 这些规则将糟糕的开发人员与优秀的开发人员区分开来

![](img/3cfc3d9c6d32f24849bf434fb0f7a631.png)

Photo by Pixabay from [Pexels](https://www.pexels.com/photo/man-people-asian-photographer-46219/)

无论你是完成计算机科学学位，参加训练营，还是自学。

在采取上述三条路线中的任何一条时，有几条规则是我们经常忽略的。

在编程的世界里，有一些不成文的规则我会在这里提到。我希望在我的职业生涯中早点了解这些不成文的规则。这会让我避免许多不眠之夜。

# 1.只注释你的代码不能表达的东西

注释的引入是为了表达代码不能表达的内容。

如果你知道什么时候写评论，你就是一个了不起的开发者。

大多数开发人员都想帮助他们的代码读者。他们想向他们解释关于他们代码的一切。

为了给读者提供一个解释，一些开发人员为大多数基本的东西写注释。

他们愚蠢的评论让整个代码库看起来一团糟。

一些开发人员写了不正确的注释，只会让读者感到困惑。其中一些注释是无用的，仍然存在于代码库中。

毫无意义的评论会让人分心。

如果开发人员在代码不言自明的情况下编写注释，他们会占用代码读者的时间。此外，写评论需要时间，所以他们也在浪费时间。

只是因为有些开发者写了不必要的评论。现在大多数程序员在阅读代码时，已经开始避免阅读注释。

大多数开发者已经开始忽略所有的评论。他们要么隐藏所有的评论，要么不理会它们。

## 去做

如果你是一个开发者，经常写评论。给自己创造一个规则就好了。如果你的注释不能给你的代码增加价值，那就不要写。

只有当你的代码不能自我解释时，才使用注释作为交流的手段。

如果您使用了错误的变量名和方法。用揭示意图的名称来替换它们。尽量写有意义的类名。

# 2.不要对代码库进行大规模的修改

巨大的变化不会让任何人开心。

无论是开发人员还是代码审查人员。

进行更大的改变而不是增量改变的开发人员会受到影响。

默默工作一两周并对代码库进行大规模修改的开发人员肯定更有效率。但是继续安静地工作并做出巨大的改变是很糟糕的。

代码审查人员也不喜欢这些巨大的变化。当他们不得不审查 400-500 行代码变更时，他们不想这样做。突然，他们有很多工作要做。

如果变更是递增的，代码评审员每天都要做一点工作。与审查 400-500 行代码变更相比，审查 20-40 行代码变更对他们来说很容易。

## 为什么大规模改变对开发者不起作用的一个例子

Bob 正在开发一个代码库，在安静地工作了三个星期之后。他添加并修改了大约 500 行代码。

他测试了代码，发现有一百多个测试用例失败了。

鲍勃现在有大麻烦了。

他已经在沉默中工作了很长时间。现在他不想再调试同样的代码了。

他的公司给他施加了很大的压力，要求他尽快完成工作。他突然需要调试大量代码。

要是他做了渐进式的改变而不是大规模的改变就好了。在这种情况下，他必须处理 10 到 20 个失败的测试用例。处理 10 个测试用例失败并不难。

逐步改变而不是大的改变，避免痛苦。

# 3.不要在你的代码库中使用易混淆的名字

混淆的名字会造成严重的问题。

没有一个开发人员喜欢和名字混淆。

## 依赖于平台的混淆名称

依赖于平台的名称经常令人困惑。

例子包括 hp 和 aix。因为这两个是 Unix 平台及其替代平台的名称。

如果您开始使用 aix 和 hp 作为变量名。

当你或其他人将来读到你的代码时。

它会变得令人困惑。当这些名字开始出现在不同的地方。您的队友可以开始将变量名与正在使用的平台联系起来。

## 有一点不同的名字

如果你使用的名字只有很小的不同，也会让人感到困惑。

即使您有自动代码完成工具。在选择这些名字时，你仍然会犯错误。

程序员往往打字很快，很多时候，名字之间的细微差别会让人迷惑，降低打字速度。

不要使用以下名称:

```
elapsed_time_days_section1 and elapsed_time_days_section2
```

# 4.保持函数长度较小

写一个包含 400 行代码的函数。

写一个包含 100 行代码的函数。

写一个包含 15 行代码的函数。

拿这三个函数来说，请一个专业的程序员来阅读每一个函数并给你反馈。

对于第一个函数，程序员会要求你缩短它。他们不会去读这么长的函数，浪费自己宝贵的时间。

第二个函数，程序员会告诉你把代码发给他。

他的回答是:

“我现在有点忙。把代码发给我，我第二天会看，并和你分享我的反馈。”

你会一直等待，第二天永远不会到来。

对于第三个函数，程序员将阅读代码，并在接下来的一个小时内与您分享他们的评论。

## 从实验中学习

保持函数长度较小。

如果你的函数长度很小，你会很快得到反馈。

不同的开发人员将随时准备与您合作。

结对编程变得简单而流畅。

调试成了小菜一碟。

添加更多功能不会花很长时间。只要保持函数长度较小，奇迹就会发生。

## 函数的理想长度应该是多少？

没人知道。

我写函数的原则是:

在第一次迭代中，试着写一个小的函数。在下一次迭代中，从编写的函数中删除所有多余的东西。让它尽可能小。

[点击这里](https://codertoentrepreneurs.substack.com/)加入一个由热爱编程和技术的人组成的社区。喜欢在媒体上阅读？[购买会员资格](https://sanjay-priyadarshi.medium.com/membership)获得全部权限。

[](https://sanjay-priyadarshi.medium.com/membership) [## 通过我的推荐链接加入 Medium-Sanjay Priyadarshi

### 作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…

sanjay-priyadarshi.medium.com](https://sanjay-priyadarshi.medium.com/membership) 

*更多内容看* [***说白了就是***](https://plainenglish.io/) *。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于*[***Twitter***](https://twitter.com/inPlainEngHQ)*和*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*。加入我们的* [***社区***](https://discord.gg/GtDtUAvyhW) *。*