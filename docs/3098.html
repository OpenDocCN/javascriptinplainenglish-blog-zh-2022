<html>
<head>
<title>Headless UI- Combobox Autocomplete</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无头UI-组合框自动完成</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/headlessui-combobox-autocomplete-part-2-using-objects-as-data-500e1160e79f?source=collection_archive---------4-----------------------#2022-07-30">https://javascript.plainenglish.io/headlessui-combobox-autocomplete-part-2-using-objects-as-data-500e1160e79f?source=collection_archive---------4-----------------------#2022-07-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7ed9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第2部分—将对象用作数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d6eff0a2cc820907dadfcf457565ce08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cjqBB3k4n4jqCjOS"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@alesnesetril?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ales Nesetril</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2785" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果数据是对象数组而不是字符串数组。你需要改变一些事情。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="a776" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个是在过滤器上，而不仅仅是person，因为这次person包含id、name和unavailable。</p><p id="564e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了查看名称的匹配，我们使用<code class="fe lu lv lw lx b">person.name.toLowerCase().includes(query.toLowerCase())</code></p><pre class="kg kh ki kj gt ly lx lz ma aw mb bi"><span id="0340" class="mc md iq lx b gy me mf l mg mh">const filteredPeople =</span><span id="0fc4" class="mc md iq lx b gy mi mf l mg mh">query === ''</span><span id="090b" class="mc md iq lx b gy mi mf l mg mh">? people</span><span id="ed3c" class="mc md iq lx b gy mi mf l mg mh">: people.filter((person) =&gt; {</span><span id="bbc9" class="mc md iq lx b gy mi mf l mg mh">return <strong class="lx ir">person.name.toLowerCase().includes(query.toLowerCase())</strong></span><span id="3222" class="mc md iq lx b gy mi mf l mg mh">})</span></pre><p id="6d1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们需要提供一个displayValue，这样它就会在输入框中显示名称。</p><pre class="kg kh ki kj gt ly lx lz ma aw mb bi"><span id="d651" class="mc md iq lx b gy me mf l mg mh">&lt;Combobox.Input  className="w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0"</span><span id="4cbd" class="mc md iq lx b gy mi mf l mg mh">onChange={(event) =&gt; setQuery(event.target.value)}</span><span id="7169" class="mc md iq lx b gy mi mf l mg mh"><strong class="lx ir">displayValue={(person) =&gt; person.name}</strong></span><span id="f36b" class="mc md iq lx b gy mi mf l mg mh">/&gt;</span></pre><p id="4418" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在组合框中。选项，我们需要添加键、值和禁用。</p><pre class="kg kh ki kj gt ly lx lz ma aw mb bi"><span id="5a4c" class="mc md iq lx b gy me mf l mg mh">&lt;Combobox.Options  className="absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"&gt;</span><span id="fd9a" class="mc md iq lx b gy mi mf l mg mh">{filteredPeople.map((person) =&gt; (</span><span id="a16b" class="mc md iq lx b gy mi mf l mg mh">&lt;Combobox.Option <strong class="lx ir">key={person.id}</strong></span><span id="5d01" class="mc md iq lx b gy mi mf l mg mh"><strong class="lx ir">value={person}</strong></span><span id="4ead" class="mc md iq lx b gy mi mf l mg mh"><strong class="lx ir">disabled={person.unavailable}</strong>&gt;</span><span id="c368" class="mc md iq lx b gy mi mf l mg mh">{person.name}</span><span id="26d5" class="mc md iq lx b gy mi mf l mg mh">&lt;/Combobox.Option&gt;</span><span id="e1fc" class="mc md iq lx b gy mi mf l mg mh">))}</span><span id="be65" class="mc md iq lx b gy mi mf l mg mh">&lt;/Combobox.Options&gt;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/c441330b8551c2bfefb49760570589ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/1*Wmgvn81bvugr4MauFtAaCw.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">the name that is not available cannot be clicked</figcaption></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="9a4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这个故事，你可能也喜欢中等会员。一个月才5美元(一杯咖啡的价格！)但是它会在支持你最喜欢的作家的同时，给你无限的接触故事的机会。如果你用<a class="ae kv" href="https://ckmobile.medium.com/membership" rel="noopener">这个链接</a>注册，我会赚一小笔佣金。谢谢！</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="3d88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关注我们:<a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> YouTube </a>，<a class="ae kv" href="https://ckmobile.medium.com/" rel="noopener"> Medium </a>，<a class="ae kv" href="https://www.udemy.com/user/cyruschan2/" rel="noopener ugc nofollow" target="_blank"> Udemy </a>，<a class="ae kv" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>，<a class="ae kv" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae kv" href="https://www.instagram.com/ckmobile8050" rel="noopener ugc nofollow" target="_blank"> Instagram </a>，<a class="ae kv" href="https://app.gumroad.com/ckmobile" rel="noopener ugc nofollow" target="_blank"> Gumroad </a>，<a class="ae kv" href="https://ckmobile.quora.com/" rel="noopener ugc nofollow" target="_blank"> Quora </a>，<a class="ae kv" href="https://t.me/ckmobi" rel="noopener ugc nofollow" target="_blank"> Telegram </a></p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="3fad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mr">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">plain English . io</em></strong></a><em class="mr">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">免费周报</em> </strong> </a> <em class="mr">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">LinkedIn</em></strong></a><em class="mr"/><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">YouTube</em></strong></a><em class="mr"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mr">不和</em> </strong> </a> <em class="mr">。对增长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mr">电路</em> </strong> </a> <em class="mr">。</em></p></div></div>    
</body>
</html>