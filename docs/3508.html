<html>
<head>
<title>How to Implement a Basic JavaScript Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何实现一个基本的JavaScript应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-implement-a-basic-javascript-application-68da73d2b4ec?source=collection_archive---------9-----------------------#2022-09-02">https://javascript.plainenglish.io/how-to-implement-a-basic-javascript-application-68da73d2b4ec?source=collection_archive---------9-----------------------#2022-09-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e2f4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于实现基本JavaScript应用程序的教程。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/677544d3a711c362730266299e69bae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I2-D0ct-A29QhdbJOYuezg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Illustration by the author</figcaption></figure><p id="401d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本系列的前一篇文章<a class="ae lr" href="https://how-to.dev/how-to-collect-inputs-for-your-project" rel="noopener ugc nofollow" target="_blank">中，我们学习了在开始编写应用程序之前从其他人那里获取输入。在我们澄清了项目涉众的所有疑问之后，我们就可以将我们的</a><a class="ae lr" href="https://github.com/how-to-js/hello-world/tree/prototype" rel="noopener ugc nofollow" target="_blank">原型</a>转化为JavaScript应用程序了。</p><h1 id="d45c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我们在做什么？</h1><p id="6dc9" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">本系列的目标是用最简单的用例展示现代前端JavaScript应用程序的所有方面:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/7993109a823746988f5ea457f8349918.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/0*MkWXuuFTWRzWsTNb"/></div></figure><h1 id="17a4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">内联JavaScript</h1><p id="a170" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">第一步，我们需要用JavaScript完成我们的纯HTML原型的一些部分。最简单的方法是使用内联JS。所以，我们的<code class="fe mq mr ms mt b">index.html</code>就变成了:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="0493" class="my lt iq mt b gy mz na l nb nc">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;title&gt;Hello World!&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;script type="text/javascript"&gt;<br/>      const element = document.createElement("h1");<br/><br/>      element.innerText = "Hello World!";<br/><br/>      document.body.appendChild(element);<br/>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c764" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您对这里发生的事情以及它如何产生与以前相同的页面感兴趣，您可以在这里阅读更多关于DOM操作的<a class="ae lr" href="https://www.cristina-padilla.com/dom1.html" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="2fc2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">加载JS文件</h1><p id="0f08" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">将所有代码都放在<code class="fe mq mr ms mt b">index.html</code>文件中是不可伸缩的——这将很快变得不方便。相反，让我们将代码分成单独的HTML和JS文件:</p><p id="98c0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe mq mr ms mt b">script.js</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="ee27" class="my lt iq mt b gy mz na l nb nc">const element = document.createElement("h1");<br/><br/>element.innerText = "Hello World!";<br/><br/>document.body.appendChild(element);</span></pre><p id="9e90" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">并更新<code class="fe mq mr ms mt b">index.html</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="eaca" class="my lt iq mt b gy mz na l nb nc">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;title&gt;Hello World!&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;script type="text/javascript" src="./script.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="0c81" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这样好多了！</p><h1 id="1974" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">JavaScript模块</h1><p id="d108" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">在上一步中，我们以传统的方式包含了JavaScript一次一个文件。现代JS允许我们在模块中编写代码，这些模块定义了它们内部的依赖关系，浏览器解析路径并加载必要的文件。截至目前，市面上几乎95%的浏览器都已经有这个功能了(<a class="ae lr" href="https://caniuse.com/es6-module-dynamic-import" rel="noopener ugc nofollow" target="_blank">来源</a>)。</p><p id="0f8d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们在应用程序中使用它！</p><p id="fcc1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，我们将消息移动到一个单独的文件，<code class="fe mq mr ms mt b">greeting.js</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="8baf" class="my lt iq mt b gy mz na l nb nc">export const greetingMessage = "Hello World!";</span></pre><p id="ca4d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意我们在<code class="fe mq mr ms mt b">const greetingMessage...</code>前用<code class="fe mq mr ms mt b">export</code>。这让JS知道这个常量应该可以从其他文件导入。</p><p id="e1d7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，我们可以在项目中任何需要的地方轻松地导入这个值。我们将对更新后的<code class="fe mq mr ms mt b">script.js</code>做同样的事情:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="e5e2" class="my lt iq mt b gy mz na l nb nc">import { greetingMessage } from "./greeting.js";<br/><br/>const element = document.createElement("h1");<br/><br/>element.innerText = greetingMessage;<br/><br/>document.body.appendChild(element);</span></pre><p id="ccab" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最不需要的更新是在<code class="fe mq mr ms mt b">index.html</code>的导入中更改<code class="fe mq mr ms mt b">type</code>属性:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="e890" class="my lt iq mt b gy mz na l nb nc">&lt;title&gt;Hello World!&lt;/title&gt;<br/>   &lt;/head&gt;<br/>   &lt;body&gt;<br/>-    &lt;script type="text/javascript" src="./script.js"&gt;&lt;/script&gt;<br/>+    &lt;script type="module" src="./script.js"&gt;&lt;/script&gt;<br/>   &lt;/body&gt;<br/> &lt;/html&gt;</span></pre><p id="5d22" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你可以在本文中阅读更多关于本地ES模块的内容。</p><h1 id="4d19" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">把它变成一个npm包</h1><p id="6b03" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">npm是一个包管理器，它允许我们轻松地下载社区包以在我们的应用程序中使用。它最初是为节点、服务器端JavaScript开发的，但是几年前，它已经成为前端JavaScript的标准。在我们的例子中，它将允许构建脚本和构建依赖项的简单配置。</p><p id="74bf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">要初始化这个包，您可以在您的包文件夹中运行<code class="fe mq mr ms mt b">npm init</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="d15e" class="my lt iq mt b gy mz na l nb nc">$ npm init<br/>This utility will walk you through creating a `package.json` file.<br/>It covers only the most common items, and it tries to guess sensible defaults.<br/><br/>See `npm help init` for definitive documentation on these fields and exactly what they do.<br/><br/>Use `npm install &lt;pkg&gt;` afterwards to install a package and save it as a dependency in the package.json file.<br/><br/>Press ^C at any time to quit.<br/>package name: (hello-world)<br/>version: (1.0.0)<br/>…</span></pre><p id="82f4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">npm提供了合理的默认值，因此在大多数情况下，您应该可以选择建议的值。成功运行该命令后，您将在文件夹中创建<code class="fe mq mr ms mt b">package.json</code>。</p><h1 id="c6df" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">网络包</h1><p id="8aee" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">使用原生ES模块可以在大多数浏览器中工作，但是在现实世界的项目中，您仍然会看到JS作为构建过程的一部分被捆绑在一起。为什么？在项目中，您通常想做很多事情:</p><ul class=""><li id="397d" class="nd ne iq kx b ky kz lb lc le nf li ng lm nh lq ni nj nk nl bi translated">编译TypeScript或任何其他能编译成JavaScript的语言。</li><li id="cb78" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated">减少交付给用户的文件数量。</li><li id="6f32" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated">同时，对我们将代码分成的块的大小有很好的控制。</li><li id="975d" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated">包括一些缓存破坏技术——比如将文件的缓存添加到它的名字中。</li></ul><p id="236f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我在这里进一步讨论原因<a class="ae lr" href="https://how-to.dev/why-do-we-use-javascript-bundlers" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="6f71" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">JavaScript最流行的JS bundler是Webpack。让我们将它添加到我们的项目中！首先，我们需要安装它:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="7d0c" class="my lt iq mt b gy mz na l nb nc">$ npm install webpack --save-dev<br/><br/>added 77 packages, and audited 78 packages in 7s<br/><br/>9 packages are looking for funding<br/>  run `npm fund` for details<br/><br/>found 0 vulnerabilities</span></pre><p id="124d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果成功，这个命令将下载webpack文件，并将它们添加到<code class="fe mq mr ms mt b">package.json</code>中的开发依赖项中。</p><h1 id="f49a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Git忽略</h1><p id="4db2" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">如果您使用git——正如您应该做的那样——将这个值设置为<code class="fe mq mr ms mt b">.gitingore</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="d9f9" class="my lt iq mt b gy mz na l nb nc">node_modules<br/>dist</span></pre><p id="147d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它会将两个文件夹都保留在存储库之外:</p><ul class=""><li id="3e3d" class="nd ne iq kx b ky kz lb lc le nf li ng lm nh lq ni nj nk nl bi translated"><code class="fe mq mr ms mt b">node_modeles</code>-存储所有第三方依赖项的地方。它通常很大，可以是特定于操作系统的，每个环境都应该直接从npm存储库中获取包</li><li id="be0d" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated"><code class="fe mq mr ms mt b">dist</code>-会不断更新，需要时可以从源代码重新构建</li></ul><h1 id="0b4f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">建设</h1><p id="9f66" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">要开始使用webpack，在同一个<code class="fe mq mr ms mt b">package.json</code>文件中，让我们将<code class="fe mq mr ms mt b">build</code>添加到我们的<code class="fe mq mr ms mt b">scripts</code>部分:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="0fbd" class="my lt iq mt b gy mz na l nb nc">{<br/>  …<br/>  "scripts": {<br/>    "build": "webpack --mode production",<br/>    …<br/>  },</span></pre><p id="3eb5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe mq mr ms mt b">--mode production</code>明确设置Webpack构建代码的方式，这样我们就可以避免在控制台中看到以下警告:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="1939" class="my lt iq mt b gy mz na l nb nc">WARNING in configuration<br/>The 'mode' option has not been set, webpack will fall back to 'production' for this value.<br/>Set 'mode' option to 'development' or 'production' to enable defaults for each environment.<br/>You can also set it to 'none' to disable any default behavior. Learn more: https://webpack.js.org/configuration/mode/</span></pre><p id="d097" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们用<code class="fe mq mr ms mt b">npm run build</code>运行构建。第一次运行将安装一些附加的依赖项:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="5080" class="my lt iq mt b gy mz na l nb nc">$ npm run build<br/><br/>&gt; hello-world@1.0.0 build<br/>&gt; webpack<br/><br/>CLI for webpack must be installed.<br/>  webpack-cli (https://github.com/webpack/webpack-cli)<br/><br/>We will use "npm" to install the CLI via "npm install -D webpack-cli".<br/>Do you want to install 'webpack-cli' (yes/no): yes</span></pre><p id="f536" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第一次构建将会失败，因为默认的webpack配置会在<code class="fe mq mr ms mt b">./src</code>文件夹中查找代码。我们可以通过以下方式修复它:</p><ul class=""><li id="bad6" class="nd ne iq kx b ky kz lb lc le nf li ng lm nh lq ni nj nk nl bi translated">将<code class="fe mq mr ms mt b">script.js</code>重命名为<code class="fe mq mr ms mt b">index.js</code>，</li><li id="af68" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated">将<code class="fe mq mr ms mt b">index.js</code>和<code class="fe mq mr ms mt b">greeting.js</code>都移动到新文件夹<code class="fe mq mr ms mt b">./src</code></li></ul><p id="e84b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了使用我们构建的代码，让我们用下面的变化来更新<code class="fe mq mr ms mt b">index.html</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="817b" class="my lt iq mt b gy mz na l nb nc">&lt;title&gt;Hello World!&lt;/title&gt;<br/>   &lt;/head&gt;<br/>   &lt;body&gt;<br/>-    &lt;script type="module" src="./script.js"&gt;&lt;/script&gt;<br/>+    &lt;script src="./dist/main.js"&gt;&lt;/script&gt;<br/>   &lt;/body&gt;<br/> &lt;/html&gt;</span></pre><p id="224f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你可以在这里找到我现阶段的代码<a class="ae lr" href="https://github.com/how-to-js/hello-world/tree/webpack-build" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="5de4" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">生成<code class="fe mq mr ms mt b">index.html</code></h1><p id="e80f" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">一些JS捆绑器使用索引文件作为配置来确定应该构建什么文件。在Webpack中，通常是反过来的:配置文件负责定义应该如何生成索引文件。一开始可能有点混乱，但是当我们在下一步中到达开发服务器时，它工作得很好。那我们就在这里设置吧！</p><h2 id="5e3c" class="my lt iq bd lu nr ns dn ly nt nu dp mc le nv nw me li nx ny mg lm nz oa mi ob bi translated">添加<code class="fe mq mr ms mt b">webpack.config.js</code></h2><p id="48ff" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">首先，我们添加配置文件<code class="fe mq mr ms mt b">webpack.config.js</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="5c1c" class="my lt iq mt b gy mz na l nb nc">module.exports = {<br/>  mode: "production",<br/>};</span></pre><p id="18d0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这一改变让我们简化了<code class="fe mq mr ms mt b">package.json</code>中的构建脚本:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="e264" class="my lt iq mt b gy mz na l nb nc">"scripts": {<br/>-    "build": "webpack --mode production",<br/>+    "build": "webpack",<br/>     "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>   },</span></pre><p id="4fcc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因为模式已经在配置中设置好了。在这个阶段，构建应该像以前一样工作。</p><p id="7b3d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><a class="ae lr" href="https://github.com/how-to-js/hello-world/tree/webpack-config" rel="noopener ugc nofollow" target="_blank">示例代码</a>。</p><h2 id="84a9" class="my lt iq bd lu nr ns dn ly nt nu dp mc le nv nw me li nx ny mg lm nz oa mi ob bi translated">添加<code class="fe mq mr ms mt b">html-webpack-plugin</code></h2><p id="c431" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">接下来，我们需要添加另一个开发依赖项:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="ad52" class="my lt iq mt b gy mz na l nb nc">$ npm install --save-dev html-webpack-plugin</span></pre><p id="9d6a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">要使用它，我们需要将<code class="fe mq mr ms mt b">webpack.config.js</code>更新为:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="7c99" class="my lt iq mt b gy mz na l nb nc">const HtmlWebpackPlugin = require("html-webpack-plugin");<br/><br/>module.exports = {<br/>  mode: "production",<br/>  plugins: [new HtmlWebpackPlugin({ title: "Hello World!" })],<br/>};</span></pre><p id="9333" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，拆下旧的<code class="fe mq mr ms mt b">index.html</code>。</p><p id="4fe8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最终构建产生两个文件:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="40ec" class="my lt iq mt b gy mz na l nb nc">$ npm run build<br/><br/>&gt; hello-world@1.0.0 build<br/>&gt; webpack<br/><br/>asset index.html 215 bytes [emitted]<br/>asset main.js 116 bytes [compared for emit] [minimized] (name: main)<br/>orphan modules 47 bytes [orphan] 1 module<br/>./src/index.js + 1 modules 218 bytes [built] [code generated]<br/>webpack 5.74.0 compiled successfully in 157 ms</span></pre><p id="abad" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">其输出可以在<code class="fe mq mr ms mt b">dist</code>文件夹中找到:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="641c" class="my lt iq mt b gy mz na l nb nc">$ ls dist<br/>index.html      main.js</span></pre><p id="0a45" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">看一下<a class="ae lr" href="https://github.com/how-to-js/hello-world/tree/generate-index" rel="noopener ugc nofollow" target="_blank">代码来对比</a>。</p><h1 id="656f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">开发服务器</h1><p id="a6ac" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">为了帮助开发，Webpack提供了一个开发服务器。</p><p id="8533" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们为什么要烦恼呢？开发服务器:</p><ul class=""><li id="f57d" class="nd ne iq kx b ky kz lb lc le nf li ng lm nh lq ni nj nk nl bi translated">监视文件更改</li><li id="bfe8" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated">每次有变化时都要重建</li><li id="6867" class="nd ne iq kx b ky nm lb nn le no li np lm nq lq ni nj nk nl bi translated">在浏览器中重新加载应用程序</li></ul><p id="e38d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">每次你修改代码时，它很容易为你节省几秒钟的时间，在你的工作日里，你可能要修改几百次。</p><p id="6738" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">很容易配置:只需将<code class="fe mq mr ms mt b">start</code>脚本添加到<code class="fe mq mr ms mt b">package.json</code>中:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="8074" class="my lt iq mt b gy mz na l nb nc">"main": "src/index.js",<br/>   "scripts": {<br/>     "build": "webpack",<br/>+    "start": "webpack serve",<br/>     "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>   },</span></pre><p id="665c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第一次运行该命令时，Webpack会建议安装必要的依赖项- <code class="fe mq mr ms mt b">webpack-dev-server</code>:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="eaaf" class="my lt iq mt b gy mz na l nb nc">$ npm run start<br/><br/>&gt; hello-world@1.0.0 start<br/>&gt; webpack serve<br/><br/>[webpack-cli] For using the 'serve' command you need to install: 'webpack-dev-server' package.<br/>[webpack-cli] Would you like to install the 'webpack-dev-server' package? (That will run 'npm install -D webpack-dev-server') (Y/n) Y</span></pre><p id="8cda" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们来看看它的实际应用:</p><pre class="kg kh ki kj gt mu mt mv mw aw mx bi"><span id="f809" class="my lt iq mt b gy mz na l nb nc">$ npm run start<br/><br/>&gt; hello-world@1.0.0 start<br/>&gt; webpack serve<br/><br/>&lt;i&gt; [webpack-dev-server] Project is running at:<br/>&lt;i&gt; [webpack-dev-server] Loopback: http://localhost:8080/<br/>…</span></pre><p id="7312" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当你在你的机器上启动它的时候，你可以访问这个URL并测试它是否真的在你保存到你的文件中的任何改变后重新加载。</p><p id="4722" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">查看<a class="ae lr" href="https://github.com/how-to-js/hello-world/tree/dev-server" rel="noopener ugc nofollow" target="_blank">参考代码</a>。</p><h1 id="2aaf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">想了解更多关于webpack的信息吗？</h1><p id="ff90" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">我在Udemy 上有一门关于<a class="ae lr" href="https://bit.ly/WebpackCourse" rel="noopener ugc nofollow" target="_blank"> webpack的课程。你会发现一个类似的，一步一步的方法。</a></p><p id="9c51" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望技术上的转变没有把你吓跑，你仍然在继续你的项目！在评论中分享你的进步或挣扎。</p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="ca59" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="oj">最初发布于</em><a class="ae lr" href="https://how-to.dev/how-to-implement-a-basic-javascript-application" rel="noopener ugc nofollow" target="_blank"><em class="oj">https://how-to . dev</em></a><em class="oj">。</em></p></div><div class="ab cl oc od hu oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="ij ik il im in"><p id="3cc7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="oj">更多内容看</em> <a class="ae lr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="oj">说白了。报名参加我们的</em> <a class="ae lr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="oj">免费周报</em> </strong> </a> <em class="oj">。关注我们关于</em> <a class="ae lr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="oj">推特</em> </strong> </a>，<a class="ae lr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="oj">LinkedIn</em></strong></a><em class="oj">，</em><a class="ae lr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="oj">YouTube</em></strong></a><em class="oj">，以及</em> <a class="ae lr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="oj">不和</em> </strong> </a> <em class="oj">。</em></strong></a></p></div></div>    
</body>
</html>