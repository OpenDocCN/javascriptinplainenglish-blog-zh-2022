<html>
<head>
<title>An Easy &amp; General Approach to Unit Tests Using JavaScript Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript示例进行单元测试的简单通用方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/an-easy-and-general-approach-to-unit-tests-using-javascript-examples-1a29ba58c948?source=collection_archive---------4-----------------------#2022-09-14">https://javascript.plainenglish.io/an-easy-and-general-approach-to-unit-tests-using-javascript-examples-1a29ba58c948?source=collection_archive---------4-----------------------#2022-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8b1d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在不到5分钟的时间内理解单元测试，成为更好的开发人员</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1cb81174b17b946a91db56666d486ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9vWro0Xzd63k8QnSbrwP8w.jpeg"/></div></div></figure><p id="c4a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我在大学学习的时候，我从来没有见过任何关于考试的东西。当我进行第一次技术面试时，招聘人员问我是否开发了任何测试或任何方法来检查我的代码是否正常工作。我告诉他们<strong class="kt ir">我已经用简单的查询手动测试过了</strong>。<strong class="kt ir">他们从来不叫我</strong>。</p><p id="b86f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这之后，我决定学习一些关于测试的东西，但是我发现它真的很<strong class="kt ir">无聊</strong>。老实说，我甚至不理解一些与测试相关的概念，如模拟、单元测试或构建器。所以我从来没学过。</p><p id="a9fe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着时间的流逝，现在我爱上了测试，更喜欢单元测试。今天，我在一家服务和产品公司做后端开发人员。在这家公司，我不是在做小项目，而是在做大的仓库和架构。有了这份工作，我知道了测试的重要性，他们对我来说并不无聊。</p><p id="cfb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">出于这个原因，我将与你分享我的一点知识。因为如果我关心如何测试和它的重要性，我确信现在我会是一个更好的开发者。如果我早知道这些，我会通过第一次面试。</p><p id="d993" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你准备好成为一名只知道如何和为什么对你的代码进行单元测试的更好的开发者了吗？</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="3b0e" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">什么是单元测试？</h1><p id="e9ad" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">单元测试是创建一些小测试来检查我们的应用程序的行为是否是我们所期望的的过程。这些测试是单独的，并且<strong class="kt ir">独立于每个操作的</strong>。</p><blockquote class="ms"><p id="6002" class="mt mu iq bd mv mw mx my mz na nb lm dk translated">每次测试只检查一件事。</p></blockquote><p id="20fa" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">总而言之，就是编写一小段代码来检查我们的函数是否表现出应有的行为的过程。这通常在开发过程的质量保证阶段完成。为了创建它们，我们必须考虑函数的一些方面:返回什么，如果抛出或提供任何错误，需要多少参数作为参数…</p><p id="8fb9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">像任何工具一样，它不是完美的东西，单元测试也有优点和缺点。我将根据我自己的经验与你分享3点:</p><h2 id="509d" class="nh lw iq bd lx ni nj dn mb nk nl dp mf la nm nn mh le no np mj li nq nr ml ns bi translated">单元测试的优势</h2><p id="cfad" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">3使用单元测试的真正好处是…</p><ul class=""><li id="75bf" class="nt nu iq kt b ku kv kx ky la nv le nw li nx lm ny nz oa ob bi translated"><strong class="kt ir">许多行可以复制到其他项目</strong>。毕竟，我们正在编写代码。想象一下，你可以开发一个API，向用户展示它的功能。八月份，您开发了另一个API来显示另一个数据库中的城市。您将能够复制测试的代码并节省时间。</li><li id="a6b6" class="nt nu iq kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated"><strong class="kt ir">您可以在早期发现问题</strong>。如果你在开始一个项目的时候开发一个功能，并且为它开发单元测试，你可以开发更多的功能，并且总是确保你的第一个功能的行为不会被修改。因为你知道，如果函数行为改变，你的测试会检测到它。</li><li id="a26b" class="nt nu iq kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated"><strong class="kt ir">你可以轻松调试</strong>。由于单元测试是一种封闭范围的测试方式，您只需测试测试指定功能的一部分，因此调试变得非常容易。如果你想用Jest调试，我推荐在可视代码上安装<a class="ae oh" href="https://marketplace.visualstudio.com/items?itemName=firsttris.vscode-jest-runner" rel="noopener ugc nofollow" target="_blank">Jest Runner扩展</a>。</li></ul><p id="9a29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另一方面，我也发现了许多缺点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/83b6371fc98285d7220f3069a2274f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKUqXdS5EfwaYxMikeNDzg.jpeg"/></div></div><figcaption class="oj ok gj gh gi ol om bd b be z dk"><a class="ae oh" href="https://www.pexels.com/es-es/foto/mujer-sentada-frente-a-la-computadora-portatil-1181677/" rel="noopener ugc nofollow" target="_blank">Image </a>from <a class="ae oh" href="https://www.pexels.com/es-es/foto/mujer-sentada-frente-a-la-computadora-portatil-1181677/" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><h2 id="9e94" class="nh lw iq bd lx ni nj dn mb nk nl dp mf la nm nn mh le no np mj li nq nr ml ns bi translated">单元测试的缺点</h2><p id="9411" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">我发现使用单元测试的3个缺点是…</p><ul class=""><li id="1e68" class="nt nu iq kt b ku kv kx ky la nv le nw li nx lm ny nz oa ob bi translated">他们并不完美。每个单元测试将涵盖我们功能的一个方面。然而，他们不能保证我们的代码不会有任何错误。</li><li id="d722" class="nt nu iq kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated">它们是时间的投资。开发单元测试是我们时间的投资，通常，这将比我们手工测试花费更多的时间。因为如果我们有点懒，我们可以只用一个查询来检查函数的行为。然而，如果我们想检查返回和抛出，至少有两个测试。</li><li id="5b7a" class="nt nu iq kt b ku oc kx od la oe le of li og lm ny nz oa ob bi translated"><strong class="kt ir">学习曲线可能有点复杂</strong>。如果你是编码领域的新手，测试过程可能会很困难。你已经从我自己的经历中看到了这一点。此外，你必须学习自动化软件工具，如<a class="ae oh" href="https://jestjs.io/es-ES/" rel="noopener ugc nofollow" target="_blank"> Jest </a>。</li></ul><p id="05e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们已经看到单元测试并不是一个完美的工具。那么，为什么单元测试对我们的代码很重要？</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="caaa" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">为什么单元测试对我们的代码很重要？</h1><p id="f266" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">用单元测试来测试我们的代码对于正确的软件开发是至关重要的。</p><p id="12e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为什么？因为<strong class="kt ir">我们开发功能是为了完成一个目的</strong>，而我们是人。作为人类，我们会犯错误，所以有可能我们实现了一个有错误或者有意外行为的函数。</p><p id="4a37" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">是的。我知道你现在在想什么！如果我可以使用<a class="ae oh" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> postman </a>测试我的API，为什么我需要编码测试？答案真的很简单。因为做起来就是地狱，而且以我自己的经历来说。</p><blockquote class="ms"><p id="f474" class="mt mu iq bd mv mw mx my mz na nb lm dk translated">使用单元测试，我们可以节省时间。</p></blockquote><p id="932a" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">此外，手动测试只有在我们有一个小项目的情况下才有可能，但是如果我们开始向我们的项目添加功能，也许我们必须做50或100个请求，这将是一个可怕的体验。然而，如果我们编写一些单元测试，我们总是可以只使用如下命令来尝试所有情况:</p><pre class="kg kh ki kj gt on oo op oq aw or bi"><span id="298b" class="nh lw iq oo b gy os ot l ou ov">npm test</span></pre><p id="910f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你还有些怀疑吗？检查这个简单的例子:</p><h2 id="bf83" class="nh lw iq bd lx ni nj dn mb nk nl dp mf la nm nn mh le no np mj li nq nr ml ns bi translated">使用JavaScript进行单元测试的简单例子</h2><p id="4eb9" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">例如，如果我们有这样一段代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/c44d911cb5959fe74a608c25ddb327c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*WkpGRTaCFXt07PEBluCkIQ.png"/></div><figcaption class="oj ok gj gh gi ol om bd b be z dk">An example of code to test</figcaption></figure><p id="057f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们至少要开发两个单元测试。</p><ul class=""><li id="d027" class="nt nu iq kt b ku kv kx ky la nv le nw li nx lm ny nz oa ob bi translated">一个<strong class="kt ir">到<strong class="kt ir">的第一个</strong>测试检查如果没有用户存在，函数是否返回一个空数组</strong>。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/b49f34b03407e92dad668245e2520911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r1wLhNb_isWWSKil0W6bnw.png"/></div></div><figcaption class="oj ok gj gh gi ol om bd b be z dk">First test implemented with <a class="ae oh" href="https://jestjs.io/es-ES/" rel="noopener ugc nofollow" target="_blank">Jest</a></figcaption></figure><ul class=""><li id="d73d" class="nt nu iq kt b ku kv kx ky la nv le nw li nx lm ny nz oa ob bi translated">对<strong class="kt ir">的第二个</strong>测试<strong class="kt ir">检查该函数是否正确检索了数据库中的所有用户(如果他们存在的话)。</strong></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/3465b1f87d12261bb8aceed5ecda1bb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*LZFwqhvUCbsLTnsj5dUa8w.png"/></div><figcaption class="oj ok gj gh gi ol om bd b be z dk">Second test implemented with <a class="ae oh" href="https://jestjs.io/es-ES/" rel="noopener ugc nofollow" target="_blank">Jest</a></figcaption></figure><p id="031b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你喜欢这些例子，想了解更多关于JavaScript的知识吗？检查这些文章！</p><div class="oz pa gp gr pb pc"><a rel="noopener  ugc nofollow" target="_blank" href="/finally-understanding-the-arrow-functions-in-javascript-a47eb1f4dbae"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd ir gy z fp ph fr fs pi fu fw ip bi translated">最终理解JavaScript中的箭头函数</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">了解如何声明箭头函数，成为更好的web开发人员。</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq kp pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a rel="noopener  ugc nofollow" target="_blank" href="/5-useful-javascript-one-liners-for-totally-beginners-56e678d9a314"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd ir gy z fp ph fr fs pi fu fw ip bi translated">5个对初学者有用的JavaScript一行程序</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">在短短几分钟内，您将能够减少您必须编写的代码行数，并提高您的…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pl l"><div class="pr l pn po pp pl pq kp pc"/></div></div></a></div><p id="ee54" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过这两个简短的测试，我们可以检查我们的函数是否有我们期望的行为。如果我们开发了具有更复杂行为的功能，我们将不得不开发更多的测试。</p><p id="30b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，如果我们的函数需要参数，我们可以开发一个测试来检查函数是否以正确的顺序用正确的参数调用。</p><p id="8f40" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个例子中，我使用<a class="ae oh" href="https://jestjs.io/es-ES/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> Jest </strong> </a>开发了如此简单的测试。然而，如何实现这些测试将取决于您将使用的语言。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="25f6" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">最后的想法</h1><p id="3cee" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">在任何中/大型应用程序的<strong class="kt ir">开发</strong>过程中，单元测试是一个<strong class="kt ir">非常重要的步骤</strong>。如果我们做得正确，我们可以检测出代码中的早期故障或错误。此外，如果我们将它们与手工测试相比较，它们可以使我们更有效率，因为我们可以只用一个按钮或一个命令来测试所有的情况。</p><p id="f0c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我已经涵盖了我认为是单元测试最重要的方面。我希望你能理解它们的重要性，试一试。的确，它们一开始可能有点挑战性，但是当你练习一会儿，你就可以体验它们的所有好处。</p><p id="90a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你以前知道单元测试吗？当你编码时，你做哪些测试实践？</p></div></div>    
</body>
</html>