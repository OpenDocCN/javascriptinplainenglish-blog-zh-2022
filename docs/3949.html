<html>
<head>
<title>How to Subtract 6 Months From a Date in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript从一个日期中减去6个月</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-subtract-6-months-from-date-2fc1c384be04?source=collection_archive---------9-----------------------#2022-10-12">https://javascript.plainenglish.io/javascript-subtract-6-months-from-date-2fc1c384be04?source=collection_archive---------9-----------------------#2022-10-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f640" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">一个关于如何用JavaScript从一个日期中轻松减去6个月的教程。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/397d6ffd19666d89452bd9d93ec72928.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SwqDTtfVCHBIQ07Xvpn_wg.png"/></div></div></figure><p id="6173" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要从日期中减去6个月:</p><ol class=""><li id="36a6" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj lp lq lr ls bi translated">在日期上调用<code class="fe lt lu lv lw b">getMonth()</code>方法来获取月份。</li><li id="22d1" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj lp lq lr ls bi translated">从<code class="fe lt lu lv lw b">getMonth()</code>的返回值中减去6。</li><li id="efca" class="lk ll in kq b kr lx ku ly kx lz lb ma lf mb lj lp lq lr ls bi translated">将减法的结果传递给<code class="fe lt lu lv lw b">setMonth()</code>方法。</li></ol><p id="4771" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如:</p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="b549" class="mg mh in lw b gy mi mj l mk ml">function subtract6Months(date) {<br/>  date.setMonth(date.getMonth() - 6);</span><span id="b6b4" class="mg mh in lw b gy mm mj l mk ml">  return date;<br/>}</span><span id="8aea" class="mg mh in lw b gy mm mj l mk ml">// November 14, 2022<br/>const date = new Date('2022-11-14T00:00:00.000Z');</span><span id="186d" class="mg mh in lw b gy mm mj l mk ml">const newDate = subtract6Months(date);</span><span id="8228" class="mg mh in lw b gy mm mj l mk ml">// May 14, 2022<br/>console.log(newDate); // 2022-05-14T00:00:00.000Z</span></pre><p id="a454" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们的<code class="fe lt lu lv lw b">subtract6Months()</code>函数将一个<code class="fe lt lu lv lw b">Date</code>对象和要减去的月数作为参数。它返回减去6个月的同一个<code class="fe lt lu lv lw b">Date</code>对象。</p><p id="2ed0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Date getMonth()返回一个从零开始的数字，表示特定日期的月份。</p><p id="8389" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Date setMonth()方法将日期的月份设置为指定的从零开始的数字。</p><p id="68d0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">注:</strong>此处的“零基”是指<code class="fe lt lu lv lw b">0</code>为一月、<code class="fe lt lu lv lw b">1</code>为二月、<code class="fe lt lu lv lw b">2</code>为三月等。</p><p id="6280" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果减去的月份会减少日期的年份，<code class="fe lt lu lv lw b">setMonths()</code>将自动更新日期信息以反映这一点。</p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="c369" class="mg mh in lw b gy mi mj l mk ml">// January 10, 2022<br/>const date = new Date('2022-01-10T00:00:00.000Z');</span><span id="3937" class="mg mh in lw b gy mm mj l mk ml">date.setMonth(date.getMonth() - 6);</span><span id="7f5e" class="mg mh in lw b gy mm mj l mk ml">// July 10, 2021<br/>console.log(date); // 2021-07-10T00:00:00.000Z</span></pre><p id="f53e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在本例中，我们从2022年1月的日期中减去6个月。这使得年份自动回滚到2021年<code class="fe lt lu lv lw b">setMonth()</code>。</p><h2 id="9995" class="mg mh in bd mn mo mp dn mq mr ms dp mt kx mu mv mw lb mx my mz lf na nb nc nd bi translated">避免副作用</h2><p id="b560" class="pw-post-body-paragraph ko kp in kq b kr ne jo kt ku nf jr kw kx ng kz la lb nh ld le lf ni lh li lj ig bi translated"><code class="fe lt lu lv lw b">setMonth()</code>改变了它所调用的<code class="fe lt lu lv lw b">Date</code>对象。这给我们的<code class="fe lt lu lv lw b">subtract6Months()</code>函数带来了副作用。为了避免修改传递的<code class="fe lt lu lv lw b">Date</code>并创建一个纯函数，制作一个<code class="fe lt lu lv lw b">Date</code>的副本并在这个副本上调用<code class="fe lt lu lv lw b">setMonth()</code>，而不是原始的。</p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="2884" class="mg mh in lw b gy mi mj l mk ml">function subtract6Months(date) {<br/>  // 👇 Make copy with "Date" constructor<br/>  const dateCopy = new Date(date);</span><span id="3a20" class="mg mh in lw b gy mm mj l mk ml">  dateCopy.setMonth(dateCopy.getMonth() - 6);</span><span id="49f6" class="mg mh in lw b gy mm mj l mk ml">  return dateCopy;<br/>}</span><span id="152a" class="mg mh in lw b gy mm mj l mk ml">// August 13, 2022<br/>const date = new Date('2022-08-13T00:00:00.000Z');</span><span id="f9eb" class="mg mh in lw b gy mm mj l mk ml">const newDate = subtract6Months(date);</span><span id="cc0e" class="mg mh in lw b gy mm mj l mk ml">// February 13, 2022<br/>console.log(newDate); // 2022-02-13T00:00:00.000Z</span><span id="7a3c" class="mg mh in lw b gy mm mj l mk ml">// 👇 Original not modified<br/>console.log(date); // 2022-08-13T00:00:00.000Z</span></pre><p id="78ff" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">提示:</strong>不修改外部状态的函数(即纯函数)往往更容易预测，也更容易推理，因为它们对于特定的输入总是给出相同的输出。这使得限制代码中副作用的数量成为一个很好的实践。</p><h1 id="8ec7" class="nj mh in bd mn nk nl nm mq nn no np mt jt nq ju mw jw nr jx mz jz ns ka nc nt bi translated">2.日期-fns <code class="fe lt lu lv lw b">subMonths()</code>功能</h1><p id="99d8" class="pw-post-body-paragraph ko kp in kq b kr ne jo kt ku nf jr kw kx ng kz la lb nh ld le lf ni lh li lj ig bi translated">或者，我们可以使用<a class="ae nu" href="https://www.npmjs.com/package/date-fns" rel="noopener ugc nofollow" target="_blank"> date-fns </a> NPM包中的<code class="fe lt lu lv lw b">subMonths()</code>函数快速从一个日期中减去6个月。它像我们的纯<code class="fe lt lu lv lw b">subtractMonths()</code>函数一样工作。<code class="fe lt lu lv lw b">subMonths()</code>接受一个<code class="fe lt lu lv lw b">Date</code>对象和要减去的月数作为参数。它返回一个减去月份的新的<code class="fe lt lu lv lw b">Date</code>对象。</p><pre class="kd ke kf kg gt mc lw md me aw mf bi"><span id="fb19" class="mg mh in lw b gy mi mj l mk ml">import { subMonths } from 'date-fns';</span><span id="dc8b" class="mg mh in lw b gy mm mj l mk ml">// July 26, 2022<br/>const date = new Date('2022-07-26T00:00:00.000Z');</span><span id="daac" class="mg mh in lw b gy mm mj l mk ml">const newDate = subMonths(date, 6);</span><span id="857d" class="mg mh in lw b gy mm mj l mk ml">// January 26, 2022<br/>console.log(newDate); // 2022-01-26T00:00:00.000Z</span><span id="7e97" class="mg mh in lw b gy mm mj l mk ml">// Original not modified<br/>console.log(date); // 2022-07-26T00:00:00.000Z</span></pre><p id="3cc2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">注意，<code class="fe lt lu lv lw b">subMonths()</code>函数返回一个新的<code class="fe lt lu lv lw b">Date</code>对象，而不修改传递给它的对象。</p></div><div class="ab cl nv nw hr nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ig ih ii ij ik"><p id="0bd8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="oc">原载于</em>【codingbeautydev.com】<em class="oc"/></p><h1 id="22cb" class="nj mh in bd mn nk nl nm mq nn no np mt jt nq ju mw jw nr jx mz jz ns ka nc nt bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph ko kp in kq b kr ne jo kt ku nf jr kw kx ng kz la lb nh ld le lf ni lh li lj ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi od"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae nu" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>