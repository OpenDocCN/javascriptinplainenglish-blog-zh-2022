<html>
<head>
<title>How to Ensure Our Modern JavaScript Code Runs On All Browsers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何确保我们的现代JavaScript代码能在所有浏览器上运行</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-ensure-that-the-modern-javascript-code-which-we-write-run-on-all-browsers-dd3c6d2a88b9?source=collection_archive---------2-----------------------#2022-05-15">https://javascript.plainenglish.io/how-to-ensure-that-the-modern-javascript-code-which-we-write-run-on-all-browsers-dd3c6d2a88b9?source=collection_archive---------2-----------------------#2022-05-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="25a3" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我们讨论确切的解决方案之前，让我们先讨论一下如何得出解决方案。</p><p id="1216" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">所以问题是一些浏览器(准确地说是JS引擎)不能解析/理解我们写的代码。</p><p id="a9ff" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好吧，那么如果我们把不可理解的代码转换成引擎可以理解/解析的代码呢？管用，对吧？</p><p id="8d06" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们看看如何做到这一点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c94fec4759885128bd12b551abac9e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SNcHzV-2ilzpnTfH"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Working on different browsers</figcaption></figure><p id="c9d9" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">进行这种转换有两种流行的方法。<br/> 1。Transpiler(针对基于语法的不规则性)<br/> 2。聚合填充(针对基于功能的不规则性)</p><p id="7673" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">酷，现在让我们逐一讨论</p><h2 id="8c7d" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">1.运输工具</h2><p id="26e4" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">这是一个将现代JS代码转换成JS语法的工具，也可以在过时的引擎上使用。请注意，这些软件通常可以接受各种语言的输入，例如，ReScript、TypeScript、CoffeScript等，并发出JavaScript。</p><p id="e8a4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如:</p><p id="5900" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">ES6中引入了类的使用</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a551" class="ky kz in lx b gy mb mc l md me"><strong class="lx io">class</strong> Student {<br/>    addStudent() {}   <br/>    removeStudent() {}   <br/>    <strong class="lx io">static</strong> getOneStudent() {} <br/>}</span></pre><p id="658d" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">然而，类只是JS中的语法糖，然而旧的浏览器会抛出不兼容错误，所以像<a class="ae mf" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> <em class="mg">巴别塔</em> </a>这样的编译器被用来将这种语法转换成原生JS代码(如下所示)，这些代码也可以被旧的浏览器/引擎解析。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="2b5c" class="ky kz in lx b gy mb mc l md me"><strong class="lx io">function</strong> <strong class="lx io">Student</strong>() {}  <br/>Student.prototype.addStudent = <strong class="lx io">function</strong> () {};  Student.prototype.removeStudent = <strong class="lx io">function</strong> () {};  <br/>Student.getOneStudent = <strong class="lx io">function</strong> () {};</span></pre><p id="4564" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们现在知道了语法转换在现代JS工具中是如何发生的，但是我们如何确保ES修订版中引入的内置函数也能在旧浏览器中很好地运行，并且即使这些浏览器还不支持它们也不会中断呢？</p><p id="43e4" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们来看看。:)</p><h2 id="5bf7" class="ky kz in bd la lb lc dn ld le lf dp lg jv lh li lj jz lk ll lm kd ln lo lp lq bi translated">2.聚合填料</h2><p id="7bda" class="pw-post-body-paragraph jk jl in jm b jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh ig bi translated">这是一段代码，它提供了我们作为开发人员期望浏览器本身提供的技术/功能。</p><p id="b954" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">注意，我们在这里关心的是新的函数/方法，我们不是在谈论语法变化，所以在这种情况下没有必要传输任何东西。我们只需要实现缺失的功能。</p><p id="46bd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">例如:</p><p id="136b" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="mg"> Object.assign </em> </strong>是在ES6中引入的，所以我们应该编写它的polyfill，以确保该功能在所有浏览器/引擎中无缝工作。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="96bc" class="ky kz in lx b gy mb mc l md me">if (typeof Object.assign != 'function') {  <br/>  Object.assign = function (target) {    <br/>    'use strict';    <br/>    if (target == null) {      <br/>      throw new TypeError('Cannot convert undefined or null to object');    <br/>    }     </span><span id="ae61" class="ky kz in lx b gy mh mc l md me">    target = Object(target);    <br/>    for (var index = 1; index &lt; arguments.length; index++) {<br/>      var source = arguments[index];<br/>      if (source != null) {<br/>        for (var key in source) {<br/>          if (Object.prototype.hasOwnProperty.call(source, key)) {<br/>            target[key] = source[key];<br/>          }<br/>        }<br/>      }<br/>    }<br/>    return target;<br/>  };<br/>}</span></pre><p id="07cb" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这里看一下正在使用的主要聚合填充物<a class="ae mf" href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-browser-Polyfills" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="d7a5" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我希望我的解释能够帮助你理解这个概念。然而，我愿意接受各种反馈。你可以在<a class="ae mf" href="https://www.linkedin.com/in/jainlokesh318/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> <em class="mg">上轻松联系到我。</em></p><p id="87a2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="mg">更多内容请看</em><a class="ae mf" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mg">plain English . io</em></strong></a><em class="mg">。报名参加我们的</em> <a class="ae mf" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mg">免费周报</em> </strong> </a> <em class="mg">。关注我们关于</em><a class="ae mf" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mg">Twitter</em></strong></a><em class="mg">和</em><a class="ae mf" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="mg">LinkedIn</em></strong></a><em class="mg">。查看我们的</em> <a class="ae mf" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mg">社区不和谐</em> </strong> </a> <em class="mg">加入我们的</em> <a class="ae mf" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="mg">人才集体</em> </strong> </a> <em class="mg">。</em></p></div></div>    
</body>
</html>