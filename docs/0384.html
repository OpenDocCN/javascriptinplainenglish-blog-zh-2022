<html>
<head>
<title>How to Get a String in YYYYMMDD Format From a JavaScript Date Object?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从JavaScript Date对象中获取YYYYMMDD格式的字符串？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-a-string-in-yyyymmdd-format-from-a-javascript-date-object-9e0a351bf4ff?source=collection_archive---------1-----------------------#2022-01-22">https://javascript.plainenglish.io/how-to-get-a-string-in-yyyymmdd-format-from-a-javascript-date-object-9e0a351bf4ff?source=collection_archive---------1-----------------------#2022-01-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9b0a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何将JavaScript日期格式化为YYYYMMDD格式的字符串的指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9c9cc3d028480907a93e379d4a2343fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hIGE2D3LH5nt2OgM"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@kellysikkema?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kelly Sikkema</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="91a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，我们可能希望将JavaScript日期对象转换为YYYYMMDD格式的字符串。</p><p id="4ccd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解如何将JavaScript日期格式化为YYYYMMDD格式的字符串。</p><h1 id="4888" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用本地JavaScript日期和字符串方法</h1><p id="d6d5" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">将JavaScript日期转换成YYYYMMDD格式的字符串的一种方法是使用本地JavaScript日期和字符串方法。</p><p id="cc0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6ea6" class="mu lt iq mq b gy mv mw l mx my">const date = new Date(2021, 1, 1)<br/>const year = date.getFullYear()<br/>const month = ('0' + (date.getMonth() + 1)).substr(-2)<br/>const day = ('0' + date.getDate()).substr(-2)<br/>const dateStr = [year, month, day].join('')<br/>console.log(dateStr)</span></pre><p id="742c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们用带有年、月和日的<code class="fe mz na nb mq b">Date</code>构造函数创建一个<code class="fe mz na nb mq b">date</code>对象。</p><p id="aec4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">月份的值从0到11，其中0代表一月，1代表二月，依此类推。</p><p id="bfb5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以从日期中得到年、月、日。</p><p id="e43b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们称<code class="fe mz na nb mq b">getFullYear</code>为4位数年份。</p><p id="aeb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们调用<code class="fe mz na nb mq b">getMonth</code>得到月份，然后加1得到人类可读的月份。</p><p id="5c24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们在它前面附加字符串0，并调用<code class="fe mz na nb mq b">substr</code> -2来获取字符串的最后2个字符。</p><p id="2266" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们调用<code class="fe mz na nb mq b">getDate</code>来获取日期，并以与<code class="fe mz na nb mq b">substr</code>相同的方式进行格式化。</p><p id="72a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们将<code class="fe mz na nb mq b">year</code>、<code class="fe mz na nb mq b">month</code>和<code class="fe mz na nb mq b">day</code>与<code class="fe mz na nb mq b">join</code>连接在一起。</p><p id="a6e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，<code class="fe mz na nb mq b">dateStr</code>就是<code class="fe mz na nb mq b">'20210201'</code>。</p><h1 id="994f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">日期.原型. toISOString</h1><p id="197e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以调用<code class="fe mz na nb mq b">toISOString</code>从JavaScript date对象中获取日期字符串。</p><p id="c7b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们可以使用字符串方法提取年、月和日期部分，并从该部分中删除破折号。</p><p id="062b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="0c3e" class="mu lt iq mq b gy mv mw l mx my">const date = new Date(2021, 1, 1)<br/>const dateStr = date.toISOString().slice(0, 10).replace(/-/g, "");<br/>console.log(dateStr)</span></pre><p id="587e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们调用<code class="fe mz na nb mq b">toISOString</code>来获取ISO8601格式的日期字符串。</p><p id="dca3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们用0和10调用<code class="fe mz na nb mq b">slice</code>提取第一部分，其中有年、月、日。</p><p id="ef9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们调用<code class="fe mz na nb mq b">replace</code>用空字符串替换所有破折号来移除它们。</p><p id="15ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们对<code class="fe mz na nb mq b">dateStr</code>得到相同的结果。</p><p id="c967" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我们可以将<code class="fe mz na nb mq b">slice</code>替换为<code class="fe mz na nb mq b">substring</code>:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="b8aa" class="mu lt iq mq b gy mv mw l mx my">const date = new Date(2021, 1, 1)<br/>const dateStr = date.toISOString().substring(0, 10).replace(/-/g, "");<br/>console.log(dateStr)</span></pre><h1 id="ca37" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">moment.js</h1><p id="1741" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们还可以使用moment.js库轻松设置日期格式。</p><p id="b14a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="e9c5" class="mu lt iq mq b gy mv mw l mx my">const date = new Date(2021, 1, 1)<br/>const dateStr = moment(date).format('YYYYMMDD');<br/>console.log(dateStr)</span></pre><p id="c632" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将<code class="fe mz na nb mq b">date</code>传递给<code class="fe mz na nb mq b">moment</code>函数，在日期内创建一个moment对象。</p><p id="a7f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们用格式字符串调用<code class="fe mz na nb mq b">format</code>来格式化该项。</p><p id="df11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们得到了相同的值<code class="fe mz na nb mq b">dateStr</code>。</p><h1 id="f999" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="ef6d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以用原生JavaScript日期和字符串方法将原生JavaScript日期格式化为字符串。</p><p id="a8c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者我们可以使用moment.js来格式化日期。</p><p id="92ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nc">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nc">plain English . io</em></strong></a><em class="nc">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nc">社区</em> </strong> </a> <em class="nc">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>