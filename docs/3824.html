<html>
<head>
<title>How to Deploy a Next.js Frontend App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何部署Next.js前端应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-deploy-a-nextjs-website-33b65765d54d?source=collection_archive---------8-----------------------#2022-09-29">https://javascript.plainenglish.io/how-to-deploy-a-nextjs-website-33b65765d54d?source=collection_archive---------8-----------------------#2022-09-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="28c2" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于如何使用Firebase将Next.js应用程序部署为静态应用程序的教程。</h2></div><p id="9375" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本教程中，我们将学习如何使用Firebase将Next.js应用程序部署为静态应用程序(类似于我们将React应用程序部署为没有API的前端的方式)。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/07bf5ad3732ad3c7685d3d718555851a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6Y1ZCd3TnIlVW78J"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">Photo by <a class="ae lo" href="https://unsplash.com/es/@max_duz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Max Duzij</a> on <a class="ae lo" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e9c6" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">有许多方法可以部署Next.js应用程序，大多数人会选择Vercel，因为Next.js是由Vercel的团队创建的。然而，据我所知，如果不选择Vercel上的付费计划，我就无法在GitHub组织中部署回购，所以我在为我的小创业项目寻找替代方案。然后我找到了<a class="ae lo" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>，所以我们将把它作为免费的Next.js部署平台。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="6a0b" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">1.在Firebase控制台上创建一个新项目</h1><p id="f9d5" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">首先，你需要使用你的Gmail账户登录<a class="ae lo" href="https://console.firebase.google.com/u/0/" rel="noopener ugc nofollow" target="_blank">应用控制台</a>，创建一个新项目。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mt"><img src="../Images/3525b6a2091f20003c8c49a0fa91dc27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*okJEdBtoHvPo0BRCqVrgCA.png"/></div></div></figure><p id="21fe" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后，只需为您的项目添加一个名称，不要忘记点击生成的URL并根据您的意愿进行更改。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mu"><img src="../Images/5ec492429baccb96cee19ce27572a81a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x20rAPEXH049PqH39tJUvQ.png"/></div></div></figure><p id="a08b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">部署后，此名称将成为您的应用程序的域(例如，<a class="ae lo" href="https://example-nextjs.web.app)" rel="noopener ugc nofollow" target="_blank">https://example-nextjs-pro . web . app)</a>。根据我的记忆，在这一步之后，您将无法更改此URL。然后，你只需要为谷歌分析选择一个默认设置，然后等到设置完成。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi mv"><img src="../Images/0fa484b419071c20caa1a73e3935fcbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TGopBw8z9dCFwIAJgpmizg.png"/></div></div></figure><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/0b97fe729f3cc2774b9967d86bc019fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*vgq-LV1KVvlvKRZAblUKKQ.png"/></div></figure><p id="d365" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就是你在网站上需要做的一切。第二步，您需要安装Firebase CLI。非常简单，您只需要在终端中运行这个命令:</p><pre class="kz la lb lc gt mx my mz na aw nb bi"><span id="4f5a" class="nc lx in my b gy nd ne l nf ng">npm install -g firebase-tools</span></pre><h1 id="8048" class="lw lx in bd ly lz nh mb mc md ni mf mg jt nj ju mi jw nk jx mk jz nl ka mm mn bi translated">2.创建Next.js应用程序(如果您已经知道如何创建Next.js应用程序，请跳过这一步)</h1><p id="b950" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">接下来，我们将通过在您的终端中运行以下命令，从npm/yarn创建一个示例Next.js应用程序:</p><pre class="kz la lb lc gt mx my mz na aw nb bi"><span id="c61f" class="nc lx in my b gy nd ne l nf ng">npx create-next-app your-project</span></pre><p id="83d0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您收到此错误:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nm"><img src="../Images/04463defed1d382aac0c7ecae1b16fb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4aqtwydH3V4A7EwgS8NTTw.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">command not found: create-next-app</figcaption></figure><p id="7270" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后，您可以通过运行以下命令来修复它:</p><pre class="kz la lb lc gt mx my mz na aw nb bi"><span id="ab9e" class="nc lx in my b gy nd ne l nf ng">npm i -g create-next-app</span></pre><p id="7ef8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">一切都会像下图一样正常工作，现在你只需要等到它完成:)</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nn"><img src="../Images/0cacb1e3cd14d599f21fcc2d528acc1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SN5-3QmUdTCogbTnkqsMCw.png"/></div></div></figure><p id="6be8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">之后，您可以运行<code class="fe no np nq my b">npm run dev</code>或<code class="fe no np nq my b">yarn dev</code>并转到localhost:3000来查看实时应用程序，但这里并不要求这样做。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nr"><img src="../Images/af6e245432583f2c784c5c0089ba841d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggmz6BnEzeXHQQOWUygzvg.png"/></div></div></figure><h1 id="d793" class="lw lx in bd ly lz nh mb mc md ni mf mg jt nj ju mi jw nk jx mk jz nl ka mm mn bi translated">3.初始化Firebase虚拟主机连接</h1><p id="9f3b" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">您可能已经在步骤1中安装了Firebase CLI。现在，您需要在终端中使用以下命令登录:</p><pre class="kz la lb lc gt mx my mz na aw nb bi"><span id="1830" class="nc lx in my b gy nd ne l nf ng">firebase login</span></pre><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/b933c529d61f9d2f6f7f60a63de21941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*Rq6K3kGSiFaZqfpAt8eoeg.png"/></div></figure><p id="d98d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您的默认浏览器中将弹出一个窗口，您只需选择您在步骤1中使用的gmail帐户，然后在该提示下单击“允许”。成功登录后，您将看到下图:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/4d86eaef79d87e776d7ddf17a2eb90f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*ezbzpZcyfV-ULera9w96yw.png"/></div></figure><p id="d8a7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在，让我们回到您的Next.js项目，确保您的终端在您的应用程序根目录中。然后，运行以下命令来初始化与Firebase上的远程项目的连接:</p><pre class="kz la lb lc gt mx my mz na aw nb bi"><span id="98b5" class="nc lx in my b gy nd ne l nf ng">firebase init</span></pre><p id="8f37" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Firebase CLI会问你一些问题，请跟着我读并选择正确的答案:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nu"><img src="../Images/f43c815f2f784e2a3d8b813a2d63e875.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnZbWSq3LREjpliey1eopA.png"/></div></div></figure><p id="2d4c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">不要忘记<strong class="ke io">按空格键</strong>选择第一个主机选项<strong class="ke io">，然后按Enter </strong>进入下一部分。在这里，您<strong class="ke io">选择第一个选项</strong>，它将列出您帐户中的所有项目，选择您在步骤1中创建的项目。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/78f5898758e3afa805a981d1f747b9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*tMj8RRl-TCLa7yYw2W43YA.png"/></div></figure><p id="a6de" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">对于托管设置，您将回答<strong class="ke io">“out”作为您的公共目录</strong>，因为这是我们的Next.js应用程序在上一部分中创建的文件夹。因为我们的应用程序是一个类似于ReactJS站点的单页应用程序，所以我们也将<strong class="ke io">将所有URL重写为/index.html </strong>。</p><p id="847b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">完成后，您将看到如下输出:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nw"><img src="../Images/9190f427b59536a7c964190e15c412ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UR0RJ9z39Ip6b1-tRPJlhg.png"/></div></div></figure><h1 id="020f" class="lw lx in bd ly lz nh mb mc md ni mf mg jt nj ju mi jw nk jx mk jz nl ka mm mn bi translated">4.导出Next.js应用程序</h1><p id="afca" class="pw-post-body-paragraph kc kd in ke b kf mo jo kh ki mp jr kk kl mq kn ko kp mr kr ks kt ms kv kw kx ig bi translated">在package.json文件中，需要将构建脚本从<code class="fe no np nq my b">"build": "next build"</code>修改为<code class="fe no np nq my b">"build": "next build &amp;&amp; next export"</code>。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/2747999c6fb58ec052b99543016a8735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*NtKGlHRQF3BTiyzDuh2BRQ.png"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">After changing script</figcaption></figure><p id="93a0" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">之后，转到next.config.js文件并添加这些行以停用图像优化API。否则，您无法在下一步运行构建过程。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/fb6b00cbfa9c7f7b573bb3eca932291b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*GD1LyTUyEqbokz89_KRBzg.png"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">next.config.js</figcaption></figure><p id="22ac" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">最后，在终端运行<code class="fe no np nq my b">npm run build</code>或<code class="fe no np nq my b">yarn build</code>。一旦脚本在终端中完成，您将在根目录中看到一个名为“out”的新文件夹。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi nz"><img src="../Images/9a3f3927c6e05bbf41e569df100f413c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6sEN3psFv2KlZ0l87XZNCw.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">The building script</figcaption></figure><p id="6523" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">恭喜你！您已经完成了90%,只需再多一点点，您将最终成功部署您的站点，并获得免费域名和SSL证书！</p><p id="c285" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我知道已经很多了！别担心，只剩下一件事要做了。在您的终端上键入以下命令，将您的应用程序部署到Firebase:</p><pre class="kz la lb lc gt mx my mz na aw nb bi"><span id="2a71" class="nc lx in my b gy nd ne l nf ng">firebase deploy</span></pre><p id="d4fc" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">命令结束后，您可以通过提供的网址访问您的直播网站，我的网址是<a class="ae lo" href="https://example-nextjs-pro.web.app" rel="noopener ugc nofollow" target="_blank">https://example-nextjs-pro . web . app</a>。你可以访问我的网址来查看最终结果。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi oa"><img src="../Images/6af07ed74579d770b4af3b8d730a783f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sm_IAirHa4tfq2dY9gZLsw.png"/></div></div></figure></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="f244" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">就是这样！你已经成功部署了一个静态的Next.js前端应用，拥有免费域名，免费托管，免费SSL证书！</p><p id="b007" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你在评论区遇到任何问题，请告诉我。</p><p id="f328" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">部署愉快！</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="2b6d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ob">更多内容请看</em><a class="ae lo" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ob">plain English . io</em></strong></a><em class="ob">。报名参加我们的</em> <a class="ae lo" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ob">免费周报</em> </strong> </a> <em class="ob">。关注我们关于</em><a class="ae lo" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ob">Twitter</em></strong></a><a class="ae lo" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ob">LinkedIn</em></strong></a><strong class="ke io"><em class="ob"/></strong><a class="ae lo" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ob">YouTube</em></strong></a><strong class="ke io"><em class="ob">，以及</em></strong><em class="ob"/><a class="ae lo" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ob">不和</em> </strong> </a>  <em class="ob">对成长黑客感兴趣？检查</em> <a class="ae lo" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ob">电路</em> </strong> </a> <strong class="ke io"> <em class="ob">。</em> </strong></p></div></div>    
</body>
</html>