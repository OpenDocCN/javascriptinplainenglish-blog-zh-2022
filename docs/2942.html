<html>
<head>
<title>How to Get HTML5 Local Storage Keys with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript获取HTML5本地存储密钥？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-html5-local-storage-keys-with-javascript-d4e607ed708a?source=collection_archive---------1-----------------------#2022-07-16">https://javascript.plainenglish.io/how-to-get-html5-local-storage-keys-with-javascript-d4e607ed708a?source=collection_archive---------1-----------------------#2022-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="57b6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何用JavaScript获取存储在本地存储中的项目的键的指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/606ce9f91c115186e9ed320724ff51dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8e4jboUliVh-QhOS"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@heymemento?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mariah Solomon</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ed24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，我们希望获得存储在浏览器本地存储中的项目的密钥。</p><p id="d8f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将研究如何用JavaScript获取存储在本地存储中的条目的键。</p><h1 id="9759" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用Object.entries方法</h1><p id="8bcc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以使用<code class="fe mp mq mr ms b">Object.entries</code>方法来获取存储在本地存储中的项的键和值。</p><p id="f34e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="efb6" class="mx lt iq ms b gy my mz l na nb">localStorage.setItem('foo', 1)<br/>localStorage.setItem('bar', 2)<br/>const entries = Object.entries(localStorage)<br/>console.log(entries)</span></pre><p id="753a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么<code class="fe mp mq mr ms b">entries</code>就是:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="03b6" class="mx lt iq ms b gy my mz l na nb">[<br/>  [<br/>    "foo",<br/>    "1"<br/>  ],<br/>  [<br/>    "bar",<br/>    "2"<br/>  ]<br/>]</span></pre><p id="1f10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为<code class="fe mp mq mr ms b">Object.entries</code>在<code class="fe mp mq mr ms b">localStorage</code>对象中返回一个键值对数组。</p><p id="8bb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将<code class="fe mp mq mr ms b">localStorage.setItem</code>与项的键和值一起使用，我们希望将它们分别存储为参数。</p><h1 id="e34f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用Object.keys方法</h1><p id="77da" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">此外，我们可以使用<code class="fe mp mq mr ms b">Object.keys</code>方法来获取存储在本地存储中的条目的键。</p><p id="12df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="9978" class="mx lt iq ms b gy my mz l na nb">localStorage.setItem('foo', 1)<br/>localStorage.setItem('bar', 2)<br/>const keys = Object.keys(localStorage)<br/>console.log(keys)</span></pre><p id="7b26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么<code class="fe mp mq mr ms b">keys</code>就是<code class="fe mp mq mr ms b">[“foo”, “bar”]</code>。</p><h1 id="3933" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用localStorage.key方法</h1><p id="4642" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">另一种获取存储在本地存储器中的项目的所有键的方法是使用<code class="fe mp mq mr ms b">localStorage.key</code>方法。</p><p id="3dd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用它和<code class="fe mp mq mr ms b">localStorage.length</code>属性创建一个数组来填充键。</p><p id="a884" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">localStorage.length</code>已经存储在本地存储器中的项目数。</p><p id="6d92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使用它们，我们可以写:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="c066" class="mx lt iq ms b gy my mz l na nb">localStorage.setItem('foo', 1)<br/>localStorage.setItem('bar', 2)<br/>const keys = [...Array(localStorage.length)].map((o, i) =&gt; {<br/>  return localStorage.key(i);<br/>})<br/>console.log(keys)</span></pre><p id="e947" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们扩展长度为<code class="fe mp mq mr ms b">localStorage.length</code>的空数组，将其扩展到一个新数组中，然后用回调函数调用<code class="fe mp mq mr ms b">map</code>来返回我们通过调用索引为<code class="fe mp mq mr ms b">i</code>的<code class="fe mp mq mr ms b">localStorage.key</code>得到的键。</p><p id="a486" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果，<code class="fe mp mq mr ms b">keys</code>也是<code class="fe mp mq mr ms b">[“foo”, “bar”]</code>。</p><h1 id="cb22" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="affd" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">通过JavaScript，我们可以使用几种方法来获取存储在本地存储中的项目。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="25e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nj">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">plain English . io</em></strong></a><em class="nj">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">免费周报</em> </strong> </a> <em class="nj">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">Twitter</em></strong></a><em class="nj">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">LinkedIn</em></strong></a><em class="nj">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">社区不和谐</em> </strong> </a> <em class="nj">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">人才集体</em> </strong> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>