<html>
<head>
<title>What is PortalVue and How Can We Use It as a Slot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是端口值，我们如何将其用作插槽</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-vue-portal-and-how-can-we-use-it-as-a-slot-94f1ae665575?source=collection_archive---------13-----------------------#2022-08-08">https://javascript.plainenglish.io/what-is-vue-portal-and-how-can-we-use-it-as-a-slot-94f1ae665575?source=collection_archive---------13-----------------------#2022-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9a24" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">PortalVue可能是一个非常有用的特性，可以使您的项目更加动态。</h2></div><p id="fda9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你知道我们不能用一个孩子的孩子的插槽吗？现在你知道了。但是，如果我们有这种结构，我们绝对必须这样做呢？嗯，有一个解决办法。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/4f314ad4b9d0cb3d9427969803a0c75f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pzu1LnTUMCvDNgFEXcgFyQ.jpeg"/></div></div></figure><p id="2349" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在做一个项目的时候，我遇到了一个问题，当我不得不从孩子的孩子的父母组件中显示一个槽时。据我所知，仅仅依靠简单的插槽是不可能实现的。</p><p id="b6b7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">幸运的是，<strong class="kh ir"> <em class="ln">有一个不同的解决方案</em> </strong>可以解决我的问题。</p><p id="ba47" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="ln">如果你正在使用Vue2，并且有和我一样的问题，欢迎你阅读这篇文章。</em> </strong></p><h1 id="1b59" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">安装门阀</h1><p id="3fbe" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">首先，让我们在项目中安装PortalVue，看看如何使用它来代替下面例子中的插槽:</p><pre class="lc ld le lf gt ml mm mn mo aw mp bi"><span id="7193" class="mq lp iq mm b gy mr ms l mt mu">npm install --save portal-vue</span></pre><p id="28ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且能够在项目中使用它。</p><pre class="lc ld le lf gt ml mm mn mo aw mp bi"><span id="345a" class="mq lp iq mm b gy mr ms l mt mu">import PortalVue from 'portal-vue'<br/><br/>Vue.use(PortalVue)</span></pre><p id="6c19" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有这些信息你都可以在官方文档页面上找到，<a class="ae mv" href="https://portal-vue.linusb.org/guide/getting-started.html#setup" rel="noopener ugc nofollow" target="_blank">在这里</a>。</p><p id="fe4a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，即使你已经可以在官方页面上找到它，我还是想谈谈安装的原因是，即使有了那些配置，PortalVue的元素在我的项目上也不能被识别。</p><p id="5b0e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了解决这个问题，你可以直接把它导入到组件中，或者<strong class="kh ir"> <em class="ln">把它作为一个组件导入，但是在全局级别</em> </strong>(更好的解决方案)。</p><p id="7ff9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在你的<strong class="kh ir"> <em class="ln"> main.js </em> </strong>中，就这样导入:</p><pre class="lc ld le lf gt ml mm mn mo aw mp bi"><span id="cb24" class="mq lp iq mm b gy mr ms l mt mu">import { Portal, PortalTarget } from 'portal-vue'</span><span id="7592" class="mq lp iq mm b gy mw ms l mt mu">Vue.component('portal', Portal) <br/>Vue.component('portal-target', PortalTarget)</span></pre><h1 id="701c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">把它当作一个插槽</h1><p id="b487" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">你可以在他们的官方页面上找到许多不同的PortalVue用法的例子，但在这篇文章中，我想注意一下<strong class="kh ir"> <em class="ln">使用它而不是槽</em> </strong>的问题。</p><p id="0aa6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="ln">父- &gt;子(1)——&gt;子(2) </em> </strong></p><p id="77d3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这意味着我希望在组件“Child (2)”中有一个槽，并将它传递给组件“Parent”。</p><p id="a5b9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们开始吧。</p><pre class="lc ld le lf gt ml mm mn mo aw mp bi"><span id="b39e" class="mq lp iq mm b gy mr ms l mt mu">// Child (2)</span><span id="3cb5" class="mq lp iq mm b gy mw ms l mt mu">&lt;template&gt;<br/>   &lt;div&gt;<br/>     &lt;portal-target name="content"/&gt;<br/>   &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="3d79" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的例子中，我们有一个“Child (2)”组件，我们希望在其中显示一些内容，我们将把这些内容传递给“Parent”组件。</p><p id="ba54" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们需要使用<strong class="kh ir"><em class="ln">" portal-target "</em></strong>元素，并为其设置一个特定的名称。</p><p id="0314" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯，在子组件(1)中，我们将只拥有导入的子组件(2)。</p><pre class="lc ld le lf gt ml mm mn mo aw mp bi"><span id="cd60" class="mq lp iq mm b gy mr ms l mt mu">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;Child2/&gt;<br/>  &lt;/div&gt;<br/>&lt;template&gt;</span></pre><p id="0a16" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如你所见，我们没有传递任何道具给它。</p><p id="33c1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而在我们的父组件中，我们还有另一个新元素，<strong class="kh ir"><em class="ln">【portal】</em></strong>，其中我们要传递<strong class="kh ir"><em class="ln">【portal-target】的名称。</em> </strong></p><pre class="lc ld le lf gt ml mm mn mo aw mp bi"><span id="ff09" class="mq lp iq mm b gy mr ms l mt mu">&lt;template&gt;<br/>   &lt;div&gt;<br/>   &lt;portal to="content"&gt;<br/>       &lt;div&gt;<br/>          &lt;p&gt;Some content to display in Child (2)&lt;/p&gt;<br/>       &lt;/div&gt;<br/>   &lt;/portal&gt;<br/>&lt;/template&gt;</span></pre><p id="cc02" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">差不多就是这样了。</p><h1 id="aa66" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">结论</h1><p id="f607" class="pw-post-body-paragraph kf kg iq kh b ki mg jr kk kl mh ju kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">PortalVue可能是一个非常有用的特性，可以使您的项目更加动态。最棒的是，你可以将数据内容从<strong class="kh ir">任何</strong>组件传递到<strong class="kh ir">任何地方</strong>的<strong class="kh ir">任何</strong>其他组件，即使它不是嵌套的子组件。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h2 id="f120" class="mq lp iq bd lq ne nf dn lu ng nh dp ly ko ni nj ma ks nk nl mc kw nm nn me no bi translated">我希望这对你有用！编码快乐！🚀</h2></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="fe97" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ln">更多内容看</em> <a class="ae mv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ln">说白了就是io </em> </strong> </a> <em class="ln">。报名参加我们的</em> <a class="ae mv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ln">免费周报</em> </strong> </a> <em class="ln">。关注我们关于</em> <a class="ae mv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ln">推特</em> </strong> </a>，<a class="ae mv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ln">领英</em> </strong> </a> <em class="ln">，以及</em> <a class="ae mv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ln">不和</em> </strong> </a> <em class="ln">。</em></p></div></div>    
</body>
</html>