<html>
<head>
<title>Essential Front-End Security Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基本前端安全指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/essential-front-end-security-guide-3c32576b38cc?source=collection_archive---------16-----------------------#2022-01-21">https://javascript.plainenglish.io/essential-front-end-security-guide-3c32576b38cc?source=collection_archive---------16-----------------------#2022-01-21</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="2af4" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">2022年如何让你的app更安全</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/3526db1ac5ba3d69d1395d575cc1d656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zCiIf9KScLV3ca60"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@stillnes_in_motion?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stillness InMotion</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4765" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">Web安全性已经成为web开发人员的一项基本技能。我们都试图尽可能地记住已知的风险。但不幸的是，各种各样的攻击只取决于黑客的想象力和好奇心来伤害你的客户。我们必须抵制这种行为。</p><p id="8d22" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">当我们考虑产品中的漏洞时，记住一点是至关重要的:它们甚至可能存在于那些不会让你怀疑的代码中。因此，在一篇文章中，不可能描述所有这些，但我会努力强调其中最危险的。此外，我将分享一个工具列表，我们可以使用它来避免代码中的已知问题，即使看起来是安全的。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="53ad" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">跨站点请求伪造</h1><p id="5c05" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">CSRF(跨站点请求伪造)是一种由欺诈性网站或脚本实施的网站攻击，它会导致用户的浏览器在用户登录的受信任站点上执行不必要的操作。</p><p id="fc29" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在大多数情况下，这种攻击需要用户点击一个虚假的链接(隐藏在一个链接缩写中)。</p><p id="d348" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">例如，一个在银行网站上被授权的人检查他的邮件。他可能会点击一个钓鱼链接，要求他将钱转到骗子的帐户。</p><p id="88be" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">因为他在银行的网站上被授权，所以他将处理转账请求。</p><p id="e0f1" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们能做什么？</p><p id="c8d6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">反CSRF令牌<br/> </strong>令牌(或同步器令牌)是一种保护服务器端的方式。服务器为用户的浏览器生成一个唯一的令牌，并对每个请求进行验证。</p><p id="308f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">使用两个令牌<br/> </strong>这个方法的意义是我们使用两个令牌:第一个存储在cookies中，第二个保存在其中一个响应参数中。</p><p id="7649" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在这种情况下，接收到一个不安全请求的服务器必须检查两个令牌。</p><p id="3775" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">在cookies中使用同站点标志<br/> </strong>该标志标记特定域的Cookies。</p><p id="bc1d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">需要用户确认<br/> </strong>敏感操作，如转账或更改密码，需要用户额外的努力(输入验证码或确认码)。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="3a6e" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">XSS(跨站点脚本)</h1><p id="330b" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">今天我们知道3种类型的XSS:反射的(反射攻击)、存储的(存储攻击)和对DOM的攻击。该列表可能会随时更改。例如，对DOM的攻击只是在最近五年才变得活跃起来，所以其他攻击可能会在几年内发生。</p><ul class=""><li id="d572" class="mx my ir kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated">反射XSS是最常见的非持续性攻击类型，需要用户采取一些措施。</li><li id="5edb" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">存储(持续XSS) —一种永久性的攻击类型，会在服务器上引入恶意代码，不需要用户干预。</li><li id="1308" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">基于DOM的XSS攻击试图从JavaScript操纵文档对象模型。如果存储和反射的XSS到达服务器，它的保护就能识别它们。但是这里的情况更糟，因为基于DOM的XSS根本无法到达服务器。</li></ul><p id="d51f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">你可以在谷歌开发的优秀<a class="ae kw" href="https://xss-game.appspot.com" rel="noopener ugc nofollow" target="_blank"> XSS游戏上查看所有XSS攻击的例子，练习寻找XSS攻击。试试这个游戏，只有6个关卡。您需要在所有级别找到一个漏洞。就是这样，明白怎么把自己的恶意代码注入别人的页面，自己去发现这样的漏洞。</a></p><p id="1fa8" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们能做什么？</p><ul class=""><li id="4b4e" class="mx my ir kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated">净化一切—输入、参数、链接、来自响应的HTML代码</li><li id="4c0c" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">使用现代框架，避免在JS中使用innerHTML属性</li><li id="127c" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">检查使用Web应用程序防火墙的能力。</li><li id="f35c" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">正确遵守安全标题(<code class="fe nl nm nn no b">Content-Security-Policy</code>、<code class="fe nl nm nn no b">Strict-Transport-Security</code>、<code class="fe nl nm nn no b">X-Frame-Options</code>和<code class="fe nl nm nn no b">Access-Control-Allow-Origin</code>)</li></ul></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="201b" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">使用第三方库</h1><p id="a537" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">找到一个完全符合你要求的库是非常好的，但是我们并不总是检查那个库的每一个特性。这可能会导致我们在以后的系统中不小心出现漏洞。</p><p id="0bbe" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">问题可能是错误地包含在包中，或者是出于自私的目的在以后添加的。</p><p id="5700" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">例如，一个开发人员创建了一个免费的库，但是后来，他发现他的包变得很受欢迎，并在许多项目中使用。于是他决定赚点钱，加了个加密货币挖矿脚本。</p><p id="3836" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">我们能做什么？</strong></p><ul class=""><li id="3ee6" class="mx my ir kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated">仅使用受信任的库和框架</li><li id="d3c7" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">在<code class="fe nl nm nn no b">package.json</code>修复测试包版本</li><li id="df12" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">尝试使用<code class="fe nl nm nn no b">npm audit</code>命令获取已知漏洞的报告</li></ul></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="efb3" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">身份验证、cookies和表单的问题</h1><p id="f1b0" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">如果不加注意，写得不好的表单以及身份验证和授权系统的任何问题都可能是危险的。</p><p id="a4ba" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们能做什么？</p><ul class=""><li id="27c8" class="mx my ir kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated">使用仅HTTPS协议来确保cookies被加密</li><li id="9b5d" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">不要在cookies中保存明文用户凭证</li><li id="c8b9" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">为您的cookie/会话设置到期时间</li><li id="50cd" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">要求您的用户有一个强密码</li><li id="8119" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">实施多次失败的帐户锁定可以防止暴力攻击</li><li id="8e28" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">用户登录时需要多因素身份验证</li><li id="e6a4" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">使用SSO身份验证根本不用保存用户密码</li><li id="4340" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">一个好的做法是要求用户定期更改密码</li></ul></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="9566" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">用于分析潜在漏洞的软件</h1><p id="f2fd" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">即使知道基本的安全规则也不能保护我们免受所有攻击。每天都可以在任何一段代码中发现新的漏洞。因此，我们需要定期审查代码，避免新的问题，以更加安全。手动进行审查是不可取的。</p><p id="931b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">幸运的是，我们有扫描项目的软件。</p><p id="3a01" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">漏洞扫描提供了一种在依赖关系或内部开发的应用程序中发现应用程序后门、恶意代码和其他威胁的方法。</p><p id="c4d9" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们可以将SAST(静态应用程序安全测试)工具添加到IDE或管道中。这些技术可以帮助你在软件开发过程中发现问题。在我有机会工作的项目中，我们主要使用Veracode或SonarQube。你可以在OWASP网站上找到大量的SAST项目。</p><h1 id="6f63" class="ma mb ir bd mc md np mf mg mh nq mj mk jx nr jy mm ka ns kb mo kd nt ke mq mr bi translated">让我们回顾一下！</h1><ul class=""><li id="d9fa" class="mx my ir kz b la ms ld mt lg nu lk nv lo nw ls nc nd ne nf bi translated">网络应用程序从来都不是100%安全的<strong class="kz is">。</strong></li><li id="b94b" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">净化一切——输入、参数、链接、来自响应的HTML代码。</li><li id="f082" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">使用HTTPS，有限的会议。</li><li id="cabc" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">正确遵守安全标头</li><li id="005f" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">仅使用受信任的库和框架。</li><li id="048a" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">确保您的登录过程是安全的。</li><li id="0648" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">需要多因素身份认证。</li><li id="5955" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated">定期使用静态分析工具来发现已知的漏洞和代码气味。</li></ul><p id="324c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is">感谢阅读，注意安全！</strong></p><p id="aa10" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nx">更多内容看</em> <a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nx">说白了就是io </em> </strong> </a> <em class="nx">。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nx">免费周报</em> </strong> </a> <em class="nx">。在我们的</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nx">社区获得独家访问写作机会和建议</em> </strong> </a> <em class="nx">。</em></p></div></div>    
</body>
</html>