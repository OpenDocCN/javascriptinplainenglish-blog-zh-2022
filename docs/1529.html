<html>
<head>
<title>JavaScript’s Async/Await Explained in Simple Terms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript的Async/Await用简单的术语解释</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascripts-async-await-explained-in-simple-terms-5dfeb08665d4?source=collection_archive---------16-----------------------#2022-03-30">https://javascript.plainenglish.io/javascripts-async-await-explained-in-simple-terms-5dfeb08665d4?source=collection_archive---------16-----------------------#2022-03-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1e92" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript的Async/Await入门指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/045226015e9cf56d7be5eb3632102028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t0Yb_vfuTdITW1ul"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sigmund?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sigmund</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c7c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript中的异步意味着你的代码、应用程序能够在后台运行，而你看不到它，也不会阻止应用程序的其他代码或功能在后台运行。这听起来是不是太抽象了？这里有一个更进一步的解释。</p><p id="1e62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你登录了一个电子商务网站，挑选了一件漂亮的t恤，然后点击了支付按钮。您输入您的卡的详细信息，然后等待付款确认。当你等待的时候，网站一直在后台运行，你可能会看到这样的信息，“请等待，我们正在处理你的付款”。或者您看到屏幕上有东西在移动，显示您的付款正在处理中。</p><p id="280f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面显示了async的运行情况。它是一个应用程序在后台运行(从您的帐户中取钱)而不停止应用程序的其他功能(即“请稍候，我们正在处理您的付款”消息)的能力。</p><p id="205c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Async函数和await关键字使程序员可以做到这些。值得注意的是，大多数时候异步操作都涉及到与第三方API的交互。</p><p id="cdfd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第三方API就像你使用别人提供的服务来帮助你的产品和服务。还记得电子商务网站吗？网站做的就是卖产品。它不是支付服务提供商。</p><p id="07bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，为了使在线支付更容易，电子商务商店通过将其电子商务商店链接到第三方支付服务(API)来使用第三方支付提供商。在您输入您的卡详细信息并点击“支付”后，在线商店运行到后台的第三方支付服务API以方便支付。电子商务商店只确认付款给你。</p><p id="9acd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，您将学习如何编写一个异步函数并使用await关键字。</p><h2 id="b069" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">在</strong>之前有一个<strong class="ak">同步功能存在</strong></h2><p id="4176" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在异步函数和await关键字出现之前，JavaScript使用“new XMLHttpRequest()”函数来执行异步操作。然后是“取”和“然后”。现在，异步函数。</p><p id="5d9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">XMLHttpRequest()过时且复杂。“获取”和“然后”很简单，但是写起来很长。几行代码更好。你的代码将是干净的，易于理解的。</p><p id="cc2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，您将学习如何编写异步函数和使用await关键字。</p><h2 id="0bc3" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">如何用JavaScript写异步函数</strong></h2><p id="c5a7" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">强烈建议您先学习如何用JavaScript编写函数。此外，您需要学习JavaScript中的模板文字。编写异步函数变得更加容易。</p><p id="278f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用一个第三方API，它拥有关于世界各国的信息，比如人口、货币、语言等等。</p><p id="04ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始吧。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="17fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分解代码，第一行代码将所有代码存储在一个名为getLocation的变量中。然后开始异步动作，async写在“function”这个词之前。这告诉代码在后台运行而不停止其他操作——您将在下面看到。然后在函数内部传递一个参数(国家)。</p><p id="6214" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二行将该行中的代码存储在“loading”中。这意味着该行中发生的所有事情都应该存储在“loading”中。“获取”关键字运行到第三方API网站<a class="ae kv" href="https://restcountries.com/v3.1/name" rel="noopener ugc nofollow" target="_blank">https://restcountries.com/v3.1/name</a>，以获取国家详细信息。如果您注意到了，模板文字引号(` `)和参数—国家—被模板文字符号(${ })包围在网站地址周围。“await”关键字意味着无论“fetch”方法得到什么，都应该在后台等待，不被任何人看到。</p><p id="3a85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">fetch方法从第三方API返回的内容总是不可读的。下一行代码通过将响应转换为JSON (JavaScript对象表示法)使其可读。</p><p id="1df1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下一行代码将结果记录在您的控制台中。最后一行调用async函数，并允许您在控制台中写入您想要获取其详细信息的国家名称。这里，我用了加纳。尝试使用你选择的任何国家。</p><p id="c281" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在运行上面的代码之前，将下面的代码放在代码的最后一行，不要放在async函数中，以向您真正展示上面的代码是异步的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="6fb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="7473" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您现在运行代码时，代码的最后一行首先记录在您的控制台中，而async函数获取您指定的国家(加纳或任何其他国家)的详细信息。</p><p id="fcc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">附言</strong> <em class="ms">作家面临的挑战可能会让他们终生无法写作……久坐导致的慢性背痛、长时间盯着屏幕导致的眼睛问题、写作时手指窒息等等。如果你想继续得到这种类型的文章，你可以成为</em> <a class="ae kv" href="https://sabitololade.medium.com/subscribe" rel="noopener"> <em class="ms">媒体订阅者来支持我。每月5美元。你的一部分订阅费归我</em> </a> <em class="ms">。</em></p><p id="314c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ms">更多内容看</em> <strong class="ky ir"> <em class="ms"> </em> </strong> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ms">说白了. io </em> </strong> </a> <em class="ms">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ms">免费周报</em> </strong> </a> <em class="ms">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ms">Twitter</em></strong></a><em class="ms">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ms">LinkedIn</em></strong></a><em class="ms">。加入我们的</em><strong class="ky ir"><em class="ms"/></strong><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ms">社区不和谐</em> </strong> </a> <em class="ms">。</em></p></div></div>    
</body>
</html>