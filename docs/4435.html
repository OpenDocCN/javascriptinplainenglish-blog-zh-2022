<html>
<head>
<title>Another State Management Library for React: Zustand</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React的另一个状态管理库:Zustand</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/another-state-management-library-for-react-zustand-3eecdcec274b?source=collection_archive---------8-----------------------#2022-12-02">https://javascript.plainenglish.io/another-state-management-library-for-react-zustand-3eecdcec274b?source=collection_archive---------8-----------------------#2022-12-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="425f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Redux和hooks的最佳之处，样板文件最少</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1e31d0bbcb13f6c30915ef41453d406.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*doWOupnVin7ublVO.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The official banner</figcaption></figure><p id="4c18" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">自从React存在以来，我们已经看到了很多用于React的<strong class="kx ir">状态管理库</strong>。从<strong class="kx ir"> Redux </strong>到<strong class="kx ir"> Context </strong>，还有<strong class="kx ir">反冲</strong>(那已经实验了快3年了)。</p><p id="155b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，我今天发现了一个新的版本，它允许<strong class="kx ir">很少的样板文件</strong>，但是却有一个<strong class="kx ir">愉快的体验</strong> : <strong class="kx ir"> Zustand </strong>。</p><div class="lr ls gp gr lt lu"><a href="https://www.npmjs.com/package/zustand" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">祖斯坦德</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">一个小型、快速和可扩展的bearbones状态管理解决方案，使用简化的flux原理。基于舒适的api</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">www.npmjs.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi kp lu"/></div></div></a></div></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><p id="db7f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Zustand使用钩子的力量来管理我们的状态。它的强大之处在于不需要用上下文或其他提供者来包装你的组件。相反，你所要做的就是创建你自己的钩子，并直接定义它里面的状态和设置器。</p><p id="2513" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用<strong class="kx ir"> Zustand </strong>的伟大之处在于，如果你没有使用的值在存储区内发生变化<strong class="kx ir">(不同于上下文)</strong>，它<strong class="kx ir">不会触发组件的重新渲染</strong></p><h2 id="45b0" class="mq mr iq bd ms mt mu dn mv mw mx dp my le mz na nb li nc nd ne lm nf ng nh ni bi translated">让我们开始吧</h2><p id="d8b7" class="pw-post-body-paragraph kv kw iq kx b ky nj jr la lb nk ju ld le nl lg lh li nm lk ll lm nn lo lp lq ij bi translated">使用您最喜欢的应用程序引导程序(在我的例子中，我将使用<strong class="kx ir"> Vite </strong>，创建一个新的应用程序，并在您的代码编辑器中打开它。</p><p id="2dd9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们要做的第一件事是创建一个新的<strong class="kx ir">文件，在其中声明我们的商店</strong>。我们将创建一个简单的存储，其中包含一个计数器和一个增量操作。</p><pre class="kg kh ki kj gt no np nq bn nr ns bi"><span id="97c4" class="nt mr iq np b be nu nv l nw nx">import create from 'zustand';<br/><br/>const useCounterStore = create((set) =&gt; ({<br/>  count: 0,<br/>  actions: {<br/>    increment: () =&gt; set((state) =&gt; ({count2: state.count2 + 1})),<br/>  }<br/>}))</span></pre><p id="4e1a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是多么的简单，令人难以置信。我们店现在已经可以用了，没有必要再做什么了！！</p><p id="8160" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，为了遵循一些好的实践，我们将创建特殊的挂钩来获取计数器值或操作</p><pre class="kg kh ki kj gt no np nq bn nr ns bi"><span id="870d" class="nt mr iq np b be nu nv l nw nx"><br/>export const useCounter = () =&gt; useCounterStore((state) =&gt; ({count: state.count}))<br/><br/>export const useCounterActions = () =&gt; useCounterStore(state =&gt; state.actions)</span></pre><p id="e4cb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们现在准备在我们的组件中使用钩子，让奇迹发生！</p><pre class="kg kh ki kj gt no np nq bn nr ns bi"><span id="beac" class="nt mr iq np b be nu nv l nw nx">function App() {<br/>  const {count} = useCounter();<br/>  const {increment} = useCounterActions();<br/><br/>  return (<br/>    &lt;div className="App"&gt;<br/>      counter {count}<br/>      &lt;button onClick={increment}&gt;Increment&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="cf48" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就这么简单！请随意调整和使用它，因为这是一篇非常小的介绍性文章。</p></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><p id="36a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想知道更多和更深入的阅读，请随意阅读创作者的这篇精彩文章:</p><div class="lr ls gp gr lt lu"><a href="https://tkdodo.eu/blog/working-with-zustand" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd ir gy z fp lz fr fs ma fu fw ip bi translated">使用Zustand</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">全局(客户端)状态管理并不总是像今天这样。我清楚地记得我们最好的选择是…</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">tkdodo.eu</p></div></div><div class="md l"><div class="ny l mf mg mh md mi kp lu"/></div></div></a></div></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><p id="ffed" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望你喜欢这篇文章，并希望你能发现一个伟大的新的React状态管理解决方案！我可能会在我当前的项目中自己使用它，因为它们是上下文的一个很好的替代品，并且减少了许多样板文件！</p><p id="29b8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nz">更多内容请看</em><a class="ae oa" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">plain English . io</em></strong></a><em class="nz">。报名参加我们的</em> <a class="ae oa" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">免费周报</em> </strong> </a> <em class="nz">。关注我们关于</em><a class="ae oa" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">Twitter</em></strong></a><a class="ae oa" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">LinkedIn</em></strong></a><em class="nz"/><a class="ae oa" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">YouTube</em></strong></a><em class="nz"/><a class="ae oa" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nz">不和</em> </strong> </a> <em class="nz">。对增长黑客感兴趣？检查</em> <a class="ae oa" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nz">电路</em> </strong> </a> <em class="nz">。</em></p></div></div>    
</body>
</html>