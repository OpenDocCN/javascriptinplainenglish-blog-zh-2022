<html>
<head>
<title>fetch() in Node v17.5 — A Review</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">v17.5节点中的fetch()—回顾</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/fetch-in-node-v17-5-a-review-a435346178af?source=collection_archive---------7-----------------------#2022-02-22">https://javascript.plainenglish.io/fetch-in-node-v17-5-a-review-a435346178af?source=collection_archive---------7-----------------------#2022-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/60020e23f33ccc2becc91e08ca231e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TuHCri8j0dL3tO6i5itfDg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Image from unspalsh</figcaption></figure><p id="a689" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Node.js已经<a class="ae la" href="https://github.com/nodejs/node/pull/41749" rel="noopener ugc nofollow" target="_blank">宣布</a>他们正在引入对fetch()的支持，作为v17.5的一个实验模块，它将广泛用于v18版本。</p><h2 id="07d2" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">fetch()是什么？</h2><p id="9c57" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">fetch() API为获取资源提供了一个标准化的接口，通常是通过HTTP。这是一个基于promise的客户端，支持许多高级HTTP特性，同时也关注最常见的场景:发送简单的HTTP请求。</p><p id="c463" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在其核心，API包括四个接口</p><ul class=""><li id="21f9" class="lz ma iq ke b kf kg kj kk kn mb kr mc kv md kz me mf mg mh bi translated"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/API/fetch" rel="noopener ugc nofollow" target="_blank"> fetch() </a> —用于发起请求的入口点</li><li id="0219" class="lz ma iq ke b kf mi kj mj kn mk kr ml kv mm kz me mf mg mh bi translated"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/API/Headers" rel="noopener ugc nofollow" target="_blank"> Headers类</a> —处理HTTP请求/响应头实例</li><li id="f6f1" class="lz ma iq ke b kf mi kj mj kn mk kr ml kv mm kz me mf mg mh bi translated"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/API/Request" rel="noopener ugc nofollow" target="_blank">请求类</a> —表示出站请求实例</li><li id="b0d3" class="lz ma iq ke b kf mi kj mj kn mk kr ml kv mm kz me mf mg mh bi translated"><a class="ae la" href="https://developer.mozilla.org/en-US/docs/Web/API/Response" rel="noopener ugc nofollow" target="_blank">响应类</a> —表示传入的响应实例</li></ul><h2 id="2239" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">为什么每个人都这么兴奋？</h2><p id="6411" class="pw-post-body-paragraph kc kd iq ke b kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv ly kx ky kz ij bi translated">嗯，这意味着今后不再需要额外的模块，因为Node.js核心现在将支持API。这消除了添加第三方库的巨大开销(例如..、<a class="ae la" href="https://www.npmjs.com/package/axios" rel="noopener ugc nofollow" target="_blank"> Axios </a>、<a class="ae la" href="https://www.npmjs.com/package/node-fetch" rel="noopener ugc nofollow" target="_blank"> node-fetch </a>等)，同时也信任他们在我们进行过程中应用任何类型的支持&amp;漏洞补丁。</p><p id="2d31" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我设法测试了这个实验特性，这里有一些例子</p><p id="1215" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">首先，我的机器上需要node v17.5。为此，我使用了nvm(节点版本管理器)</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="f36f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">注意，实验旗。它仍在开发中，将在18版中全面使用。</p><p id="8d4c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我执行了三个测试(GET、POST和DELETE)</p><h2 id="77d2" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">得到</h2><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><h2 id="6705" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">邮政</h2><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><h2 id="eb38" class="lb lc iq bd ld le lf dn lg lh li dp lj kn lk ll lm kr ln lo lp kv lq lr ls lt bi translated">删除</h2><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="5846" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">他们都按照预期工作🎉请注意，我也不需要导入任何模块。这是因为fetch被添加为全局-<a class="ae la" href="https://github.com/nodejs/node/pull/41749" rel="noopener ugc nofollow" target="_blank">https://github.com/nodejs/node/pull/41749</a></p><p id="957d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是更大计划中的一个小变化，但对于使用Node.js作为开发环境的每个人来说，它都有着巨大的意义。</p><p id="ac9d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="mt">更多内容请看</em><a class="ae la" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke ir"><em class="mt">plain English . io</em></strong></a><em class="mt">。报名参加我们的</em> <a class="ae la" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> <em class="mt">免费周报</em> </strong> </a> <em class="mt">。在我们的</em> <a class="ae la" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke ir"> <em class="mt">社区</em> </strong> </a> <em class="mt">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>