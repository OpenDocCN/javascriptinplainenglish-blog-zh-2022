<html>
<head>
<title>Deploy React Application to AWS Using Github Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Github操作将React应用程序部署到AWS</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/github-actions-aws-and-react-app-98ef1847ed5?source=collection_archive---------3-----------------------#2022-11-03">https://javascript.plainenglish.io/github-actions-aws-and-react-app-98ef1847ed5?source=collection_archive---------3-----------------------#2022-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1cd0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何使用Github操作将React应用程序部署到AWS的教程。</h2></div><p id="f1e7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我之前的文章中，我演示了如何使用Gitlab CI/CD管道将<a class="ae lb" href="https://betterprogramming.pub/deploying-react-app-to-aws-using-gitlab-ci-cd-1fd5d6a14b38" rel="noopener ugc nofollow" target="_blank"> react应用程序部署到AWS。在这篇文章中，我将遵循同样的方法，但是，这一次我将使用Github动作。</a></p><p id="960f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们按照下面的步骤开始做一些有趣的事情。</p><h2 id="a474" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated"><strong class="ak">创建React项目</strong></h2><p id="016b" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">首先，让我们在本地创建react项目。为此，我们将使用CRA。使用下面的命令创建一个react项目。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="d4a2" class="lc ld iq mf b gy mj mk l ml mm">npx create-react-app aws-github</span></pre><h2 id="7f7a" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">创建GitHub项目</h2><p id="53fa" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">现在我们已经在本地创建了项目，是时候在GitHub上创建一个新项目了。登录你的GitHub账户，创建一个新项目，如下图所示。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/45dde1adda42fa021a91a94702811dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkkBu057iASIk0x4N5R1Rg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub Create New Project</figcaption></figure><p id="074e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击<code class="fe mz na nb mf b">New repository</code>，将进入下一页。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/ef0da0edacc05cce2693be9366ba04eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LLj2w78qg9vSHZy7pIOGaw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub New Project</figcaption></figure><p id="0dfc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe mz na nb mf b">Repository name</code>给出名字<code class="fe mz na nb mf b">aws-github</code>，向下滚动到底部，点击<code class="fe mz na nb mf b">Create repository</code>按钮。然后，您将被重定向到下面的页面。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nc"><img src="../Images/74c3024b5a3af0bebda7672371030bbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CjlJcKPtIGK3HNRyIAm95Q.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">New Repository Page on GitHub</figcaption></figure><p id="a543" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我们已经在本地创建了一个新项目。只需从上面的页面抓取下面的命令。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="96ed" class="lc ld iq mf b gy mj mk l ml mm">git remote add origin git@github.com:zafar-saleem/aws-github.git</span></pre><p id="af85" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并遵循以下步骤。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="8474" class="lc ld iq mf b gy mj mk l ml mm">&gt; cd aws-github<br/>&gt; rm -rf .git<br/>&gt; git init<br/>&gt; git remote add origin git@github.com:zafar-saleem/aws-github.git</span></pre><p id="e6ff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第一行中，我们将cd放入本地项目的根文件夹。然后我们去掉<code class="fe mz na nb mf b">.git</code>文件夹，将父文件夹初始化为一个新的存储库。最后，将我们在上一步中获取的命令粘贴到这里并运行它，这将把我们的GitHub repo作为源添加到我们的本地存储库中。</p><h2 id="37b4" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">获取AWS密钥</h2><p id="8e7e" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">是时候从我们的AWS控制台获取凭证了。登录AWS控制台，点击屏幕右上角的用户名，如下所示。然后点击<code class="fe mz na nb mf b">Security Credentials</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/ebb61e500dbb84f286451fcedfc93ee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2qtT5rJVIkx0jFNvWwa3g.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">AWS Credentials for CI/CD</figcaption></figure><p id="0c79" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你应该在下一页着陆。点击<code class="fe mz na nb mf b">Access keys(...)</code>选项卡展开其内容，并点击<code class="fe mz na nb mf b">Create New Access Key</code>按钮。将使用您的凭据打开一个模式。要么下载它们，要么把它们复制到安全的地方，或者两者都做。我们很快就会需要。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/8ffd6e048b3e8d7dd21de303e83fc92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmNP1OnSuMavRNgd4P3kcg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">AWS Credentials for CI/CD</figcaption></figure><h2 id="fbc5" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">向GitHub存储库添加凭据</h2><p id="a31d" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">因为我们已经从AWS获得了凭证，所以让我们通过将它们添加到我们的GitHub存储库中来完成这一步。如下所示，进入GitHub <code class="fe mz na nb mf b">aws-github</code>库的<code class="fe mz na nb mf b">security</code>选项卡。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nd"><img src="../Images/34a2e916e81e3916eb18fe17dafff5da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ozkf4EnTbwxZwNJoT3Cgwg.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub Adding Credentials for AWS</figcaption></figure><p id="f771" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后点击<code class="fe mz na nb mf b">Secrets</code>，然后点击<code class="fe mz na nb mf b">Actions</code>。然后点击<code class="fe mz na nb mf b">New Repository Secret</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/18d1d319f97cb53b6894f4c7d4f24243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wMEBLI9QREWgNWByVk-1qw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub Actions Credentials for AWS</figcaption></figure><p id="72a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里添加您在上一步中从AWS下载的<code class="fe mz na nb mf b">Access Key</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/ac4d03a8001e50e4c490937cfa371d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UFfS4DeQkgxb4EocE7ZobA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub Actions Credentials for AWs</figcaption></figure><p id="4627" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">再次点击<code class="fe mz na nb mf b">New Repository secret</code>，这次添加<code class="fe mz na nb mf b">Secret Access Key</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/b57a3f2996e8de4d35936a0aa3504b1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YdWQ2q42Xns6oN7sa9TRQA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub Actions Credentials for AWS</figcaption></figure><p id="de19" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，按照相同的步骤添加生产环境的密钥，即点击<code class="fe mz na nb mf b">New Repository secret</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/4f83e0add808c077a95f50545eb835b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JNII8eNsg0yrH32eAptqoA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">GitHub Actions Production Environment Key for AWS S3 Bucket</figcaption></figure><p id="a27e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须在AWS控制台中创建上述<code class="fe mz na nb mf b">aws-github-prod</code> S3桶。</p><h2 id="5a2c" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">创建和设置AWS S3时段</h2><p id="d389" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">现在我们有了GitHub设置，我们需要有一个S3存储桶来部署我们的react应用程序。这个桶的名字必须与我们添加到GitHub上面的<code class="fe mz na nb mf b">Secret</code>相匹配，上面的<code class="fe mz na nb mf b">aws-github-prod</code>。</p><p id="d09d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开你的AWS控制台，点击S3。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/2e43b0e5d5c7439cf58b643d306edc0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIseOHjp9AZU3K0PIcr2DA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Creating AWS S3 Bucket</figcaption></figure><p id="03ff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击<code class="fe mz na nb mf b">Create bucket</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/227bc3a9d432c9a9f678c131679768d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3Y9W28CS4i4UqiqW867Yw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">AWS Creating S3 Bucket</figcaption></figure><p id="d510" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦你进入下面的页面，输入存储桶的名称<code class="fe mz na nb mf b">aws-github-prod</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/4a8654d0779f23f37f33059e05638f79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ta5fpeisi13X9HUNiElSkA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">AWS Creating S3 Bucket</figcaption></figure><p id="0205" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向下滚动并取消选中<code class="fe mz na nb mf b">Block all public access</code>并检查您的<code class="fe mz na nb mf b">acknowledgement</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/9a0fdbe0be811f94095b297a920a93d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xsw1StHVHaEWBu5wpGfCVQ.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Creating AWS S3 Bucket</figcaption></figure><p id="24bb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在向下滚动并点击<code class="fe mz na nb mf b">Create bucket</code>按钮。</p><p id="4b4b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您应该能够查看新创建的bucket了。</p><h2 id="c0c2" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">创建存储桶策略</h2><p id="24d6" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">从S3主页列表中点击您的存储桶名称，即<code class="fe mz na nb mf b">aws-github-prod</code>。在下一页中，单击权限。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/fe031f0a6ff7e82303d0d514054e048f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Glr00QPAGbmZiAT3fQSpnw.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Adding AWS S3 Bucket Policy</figcaption></figure><p id="cd0e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向下滚动至存储桶政策部分，并点击<code class="fe mz na nb mf b">Edit</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/c74f1db6eb415ac6d34971f7f2156714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8cFrT6KpJ2lWGXsxr2_2A.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Adding AWS S3 Bucket Policy</figcaption></figure><p id="9ed7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">粘贴以下内容并点击<code class="fe mz na nb mf b">Save changes</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/756103c74c5ff6bd6890890f5aadccc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0xnUMmRjIsoo_MOYbPKcwA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Adding AWS S3 Bucket Policy</figcaption></figure><p id="fffa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来点击<code class="fe mz na nb mf b">aws-github-prod</code> S3页面上的<code class="fe mz na nb mf b">Properties</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/1b284cd6775fa99ce89269432551206c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j8TKUQUSbL5DLaFzYsbA7A.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">AWS S3 Bucket Public Access</figcaption></figure><p id="55a2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向下滚动到底部的静态网站托管。点击<code class="fe mz na nb mf b">Edit</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/652b541fd8cd947891da8c95157e8595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uNGyMLwt2AaKXIDCb6_IJA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">AWS S3 Bucket Public Access</figcaption></figure><p id="352c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe mz na nb mf b">static website hosting</code>下检查<code class="fe mz na nb mf b">Enable</code>。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/a3dfe1feeb5d375a2edceb3dbf954e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YOUglSJBdIEa9qTo3CT8AA.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Add AWS S3 Bucket Public Access</figcaption></figure><p id="a09e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向下滚动并输入<code class="fe mz na nb mf b">index.html</code>值至<code class="fe mz na nb mf b">Index Document</code>和<code class="fe mz na nb mf b">Error Document</code>。然后点击下方页面底部的<code class="fe mz na nb mf b">Save changes</code>按钮，您必须滚动到页面底部。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ne"><img src="../Images/cd680b88e704aed8863b169473e557fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSRLMgsKtnqarNksaC-F-g.png"/></div></div><figcaption class="mv mw gj gh gi mx my bd b be z dk">Add AWS S3 Bucket Public Access</figcaption></figure><h2 id="0a7a" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">GitHub操作工作流程</h2><p id="5ef9" class="pw-post-body-paragraph kf kg iq kh b ki lv jr kk kl lw ju kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">该是我们写<code class="fe mz na nb mf b">YAML</code>文件的时候了。在项目的根目录下创建<code class="fe mz na nb mf b">.github</code>文件夹。在创建的<code class="fe mz na nb mf b">workflows</code>文件夹中创建如下的<code class="fe mz na nb mf b">production.yml</code>文件。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="c8b0" class="lc ld iq mf b gy mj mk l ml mm">mkdir .github<br/>cd .github<br/>mkdir workflows<br/>cd workflows<br/>touch production.yml</span></pre><p id="9f2a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开<code class="fe mz na nb mf b">production.yml</code>文件并粘贴以下代码。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="fa24" class="lc ld iq mf b gy mj mk l ml mm">name: Production Build<br/>on:<br/>  push:<br/>    branches:<br/>      - master<br/>jobs:<br/>  build:<br/>    runs-on: ubuntu-latest<br/>    <br/>    strategy:<br/>      matrix:<br/>        node-version: [17.x]<br/>        <br/>    steps:<br/>    - uses: actions/checkout@v1<br/>    - name: Use Node.js ${{ matrix.node-version }}<br/>      uses: actions/setup-node@v1<br/>      with:<br/>        node-version: ${{ matrix.node-version }}<br/>    - name: Yarn Install<br/>      run: |<br/>        yarn install<br/>    - name: Development Build<br/>      run: |<br/>        yarn build<br/>    - name: Deploy to S3<br/>      uses: jakejarvis/s3-sync-action@master<br/>      env:<br/>        AWS_S3_BUCKET: ${{ secrets.AWS_PROD_BUCKET_NAME }}<br/>        AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}<br/>        AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}<br/>        SOURCE_DIR: "build"</span></pre><p id="8e42" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我们创建一个<code class="fe mz na nb mf b">git push</code>到<code class="fe mz na nb mf b">master</code>的分支时，上面的作业将会运行。节点17是要使用的版本。最后，它将遵循<code class="fe mz na nb mf b">steps</code>区域下的步骤，在那里它将安装依赖项，为生产进行构建，并最终将其部署到<code class="fe mz na nb mf b">aws-github-prod</code> S3存储区。</p><p id="16df" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果有效的话，让我们试一试。准备、提交和推送您的更改到主分支。</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="e49e" class="lc ld iq mf b gy mj mk l ml mm">git add -A<br/>git commit -m "initial commit"<br/>git push origin master</span></pre><p id="1cd1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是在<code class="fe mz na nb mf b">aws-github</code>存储库页面的github <code class="fe mz na nb mf b">Actions</code>选项卡上运行作业的一些截图。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/cc24d25586e8109c3c183651236cd249.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVfCioPnIHq8jgHLh1NivA.png"/></div></div></figure><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mn"><img src="../Images/864799604bae79962e86ab374c28a675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ytc5k876x6rhwXZ4v1o_9g.png"/></div></div></figure><p id="cca9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们的react应用程序已经成功部署，是时候运行了。进入你在AWS上的S3 Bucket home，点击<code class="fe mz na nb mf b">Properties</code>并滚动到底部，在那里你应该能够看到一个链接，点击它，你应该能够看到你的react应用程序。</p><figure class="ma mb mc md gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nf"><img src="../Images/1a9f575d4682a6b080572e99e043c563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rC2dlRv_Zgg3ovJNN86Dlw.png"/></div></div></figure><p id="c25b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在下面找到GitHub项目。</p><div class="ng nh gp gr ni nj"><a href="https://github.com/zafar-saleem/aws-github" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">吉图布-扎法尔-萨利姆/AWS-吉图布</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">github.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx mt nj"/></div></div></a></div><p id="dadf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您也可以在我的以下网站和社交媒体资料中关注我。</p><div class="ng nh gp gr ni nj"><a href="https://zafar-saleem.github.io" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">Zafar Saleem | JavaScript | React | React Hooks | Redux | Node | Express | MongoDB</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">这是Zafar Saleem的个人网站，在这里你可以找到他的技术/软件工程技能和他的媒体链接…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">扎法尔-萨利姆. github.io</p></div></div></div></a></div><h2 id="d58b" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">来自<a class="ae lb" href="https://zafarsaleem.medium.com" rel="noopener"> Zafar </a>的更多文章</h2><ol class=""><li id="38de" class="ny nz iq kh b ki lv kl lw ko oa ks ob kw oc la od oe of og bi translated"><a class="ae lb" href="https://www.webwinx.com/2023/01/28/building-real-world-app-by-combining-aws-dynamodb-nextjs/" rel="noopener ugc nofollow" target="_blank"> AWS DynamoDB &amp; Nextjs构建现实世界App </a></li><li id="d37c" class="ny nz iq kh b ki oh kl oi ko oj ks ok kw ol la od oe of og bi translated"><a class="ae lb" href="https://www.webwinx.com/2023/02/03/how-to-hack-algolia-search-to-enhance-react/" rel="noopener ugc nofollow" target="_blank">如何破解Algolia搜索增强React </a></li><li id="f3d7" class="ny nz iq kh b ki oh kl oi ko oj ks ok kw ol la od oe of og bi translated"><a class="ae lb" href="https://www.webwinx.com/2023/01/30/go-serverless-for-graphql-backend-with-grafbase/" rel="noopener ugc nofollow" target="_blank">使用Grafbase实现GraphQL后端的无服务器化</a></li><li id="811f" class="ny nz iq kh b ki oh kl oi ko oj ks ok kw ol la od oe of og bi translated"><a class="ae lb" href="https://www.webwinx.com/2023/01/29/event-based-architecture-using-react/" rel="noopener ugc nofollow" target="_blank">使用React的基于事件的架构</a></li></ol></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><p id="c815" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="ot">更多内容请看</em><a class="ae lb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ot">plain English . io</em></strong></a><em class="ot">。报名参加我们的</em> <a class="ae lb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ot">免费周报</em> </strong> </a> <em class="ot">。关注我们关于</em><a class="ae lb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ot">Twitter</em></strong></a><a class="ae lb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ot">LinkedIn</em></strong></a><em class="ot"/><a class="ae lb" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ot">YouTube</em></strong></a><em class="ot"/><a class="ae lb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ot">不和</em> </strong> </a> <em class="ot">。对增长黑客感兴趣？检查</em> <a class="ae lb" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ot">电路</em> </strong> </a> <em class="ot">。</em></p></div></div>    
</body>
</html>