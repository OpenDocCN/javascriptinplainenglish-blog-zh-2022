<html>
<head>
<title>How to Integrate React Native Web into React Native Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将React原生Web集成到React原生应用中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-integrate-react-native-web-existing-react-native-apps-8e4964ad2f0b?source=collection_archive---------5-----------------------#2022-02-01">https://javascript.plainenglish.io/how-to-integrate-react-native-web-existing-react-native-apps-8e4964ad2f0b?source=collection_archive---------5-----------------------#2022-02-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/7b2e82f73e6ea13e6a2d45a048fdf5c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xScS_pRLN1lGuWdtQpJ_lA.jpeg"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Integration of React Native Web</figcaption></figure><div class=""/><p id="1cad" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们将在本文中讨论的主题有:</p><ol class=""><li id="fa28" class="kx ky jc kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated">什么是React Native Web？</li><li id="34df" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">React Native for Web是如何工作的？</li><li id="27bd" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">为什么我们应该使用React Native for Web？</li><li id="be61" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">实现React Native Web</li></ol><h1 id="4e90" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">1.什么是React Native Web？</h1><p id="69b1" class="pw-post-body-paragraph jz ka jc kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated"><strong class="kb jd"> React Native </strong>是脸书创建的一个框架，用于开发原生iOS和Android应用。但是网络呢？这是<strong class="kb jd"> React Native for Web </strong>解决的主要问题。它没有为web和移动应用程序创建两个不同的代码库，而是用一个代码库解决了这个问题。让我们快速看一下它是如何解决这个问题的</p><h1 id="9ff0" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">2.React Native for Web是如何工作的？</h1><p id="8e57" class="pw-post-body-paragraph jz ka jc kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">基本上，移动应用程序和web应用程序有着非常不同的基础。它们有不同的API做同样的工作。比如渲染UI。</p><p id="acab" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">好消息是我们使用<strong class="kb jd"> React </strong>库来开发<strong class="kb jd"> React Native </strong>，这个库是web应用程序开发中最流行的库之一。在用<strong class="kb jd"> React </strong>开发web时，我们使用HTML标签如<strong class="kb jd"> div </strong>、<strong class="kb jd"> p </strong>、<strong class="kb jd"> input </strong>，而在用<strong class="kb jd"> react-native </strong>开发mobile时，我们使用<strong class="kb jd"> react-native </strong>组件如<strong class="kb jd"> View、Text、TextInput </strong>。在这里，<strong class="kb jd"> react-native-web </strong>在构建时获取这些<strong class="kb jd"> react-native </strong>组件，并将它们转换成它们的web对应物。</p><h1 id="e074" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">3.为什么我们应该使用React Native for Web？</h1><ul class=""><li id="708d" class="kx ky jc kb b kc mj kg mk kk mo ko mp ks mq kw mr ld le lf bi translated"><strong class="kb jd">可访问的HTML </strong>。支持不同设备和输入模式，渲染语义标签。</li><li id="bf5e" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw mr ld le lf bi translated">高质量的互动。支持手势和多种输入模式(触摸、鼠标、键盘)。</li><li id="524f" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw mr ld le lf bi translated"><strong class="kb jd">款式可靠</strong>。依赖于限定范围的样式和自动的供应商前缀。支持RTL布局。</li><li id="ae8a" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw mr ld le lf bi translated"><strong class="kb jd">响应容器</strong>。响应元素调整大小事件。</li><li id="5ae7" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw mr ld le lf bi translated"><strong class="kb jd">增量采用</strong>。与现有的React DOM组件互操作。仅捆绑您使用的内容。</li></ul><p id="903c" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这些都是写在文档网站上的理由。</p><h1 id="f355" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">4.实现React Native for Web</h1><p id="5d5d" class="pw-post-body-paragraph jz ka jc kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">首先，让我们像在链接中一样安装我们的react本机应用程序。<a class="ae ms" href="https://reactnative.dev/docs/environment-setup" rel="noopener ugc nofollow" target="_blank">https://reactnative.dev/docs/environment-setup</a></p><p id="e2c0" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">安装所有环境包后，使用以下TypeScript脚本设置React本机应用程序:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="91ab" class="nc lm jc my b gy nd ne l nf ng">npx react-native init MyApp — template react-native-template-typescript</span></pre><p id="508d" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">安装完成后，让我们检查一下我们的应用程序是否正常工作。</p><figure class="mt mu mv mw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/1db83b66490a465c3c387ba2d60ffa8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7yhTcWrYinplealZ.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">React Native example.</figcaption></figure><p id="90a3" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">它在iOS和Android上运行良好。现在，让我们从在我们的项目中安装这些包开始:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="877b" class="nc lm jc my b gy nd ne l nf ng">npm install react-dom react-native-web</span><span id="3874" class="nc lm jc my b gy ni ne l nf ng">npm install --save-dev babel-plugin-react-native-web</span></pre><p id="3d3d" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在这个项目中，我们使用webpack构建web应用程序，使用Metro构建react-native。与Webpack相关的依赖项:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="80a5" class="nc lm jc my b gy nd ne l nf ng">npm install --save-dev babel-loader url-loader webpack webpack-cli  webpack-dev-server html-webpack-plugin babel-plugin-react-native-web</span></pre><p id="e69a" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">完成所有这些安装后，在根文件夹中创建三个文件。</p><figure class="mt mu mv mw gt ip"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">React Native Web - Webpack config</figcaption></figure><figure class="mt mu mv mw gt ip"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">index.html</figcaption></figure><figure class="mt mu mv mw gt ip"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">index.js</figcaption></figure><p id="3863" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这里的代码片段所做的是通过webpack bundler建立一个React项目开发环境。在webpack配置文件中，我们在项目中使用了babel loader、svg loader和image loaders，在这些加载器的帮助下编译代码。然后，我们为开发环境编译代码，并让它在localhost上工作。此外，还添加了生产环境的构建代码。</p><p id="2840" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">最后，像这样更改您的App.tsx:</p><figure class="mt mu mv mw gt ip"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">App.js react native web</figcaption></figure><p id="5a93" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">耶！结束了。你可以在三个平台上运行这个项目——web、Android和iOS。为了开发web应用程序，在package.json上添加脚本</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="9482" class="nc lm jc my b gy nd ne l nf ng">"web": "webpack serve --mode=development --config webpack.config.js"</span></pre><p id="ddaf" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">让我们测试一下它是否能在所有平台上运行。</p><figure class="mt mu mv mw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nl"><img src="../Images/67cf681bd2a4c166c0215b0108c5d02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5aRMjqLHeS5Zrb8L.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Hello World — Web</figcaption></figure><figure class="mt mu mv mw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nm"><img src="../Images/90bc1159571b9f950e4de56ec82080d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iGOAYoXUhV7CvBi8.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Example of React Native Web application for iOS &amp; Android</figcaption></figure><h1 id="f920" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">5.为3个平台创建输入组件工作</h1><p id="9a4b" class="pw-post-body-paragraph jz ka jc kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">首先，创建src文件夹并将Input.tsx文件添加到该文件夹中。</p><figure class="mt mu mv mw gt ip"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Input.tsx</figcaption></figure><p id="b916" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">是啊！在代码中创建了一个输入元素。这个输入组件已经可以在android和ios上使用react-native了。但是在实现了React本地web实现之后，它现在也可以在Web平台上工作了。让我们在3个不同的环境中快速测试一下。</p><figure class="mt mu mv mw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nn"><img src="../Images/5ebda9bff33ade56326f21630d117abc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6kH2NFhM9oVC8FxVwrRLsA.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Input component — Ios and Android</figcaption></figure><figure class="mt mu mv mw gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi no"><img src="../Images/3c7cb242942060062bdd5aaa5a605ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0XSdBOFhEbH2JWJ9LzZ2g.png"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Input component — web</figcaption></figure><p id="b781" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">是的，如你所见，我们的输入组件可以在3个不同的平台上工作。您已经看到，即使仅在输入组件方面，我们也已经降低了多少开发成本。仅仅创建一个文件就足够了。</p><h1 id="e41e" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">6.React Native Web的使用建议</h1><p id="7c24" class="pw-post-body-paragraph jz ka jc kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">React Native Web非常适合大公司。</p><h2 id="4ade" class="nc lm jc bd ln np nq dn lr nr ns dp lv kk nt nu lz ko nv nw md ks nx ny mh nz bi translated">组件库:</h2><ul class=""><li id="06da" class="kx ky jc kb b kc mj kg mk kk mo ko mp ks mq kw mr ld le lf bi translated">大公司创建一个设计系统，在品牌的名义下展示他们自己的品牌。在创建了这个设计系统之后，我们用React Native Web为这家公司编写了一个组件库，这大大降低了要在内部开发的应用程序的开发成本。</li><li id="a311" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw mr ld le lf bi translated">如果在该设计系统中进行更新或开发，通过确保在开发侧仅改变一个文件，将显著降低维护成本。</li></ul><h2 id="fee1" class="nc lm jc bd ln np nq dn lr nr ns dp lv kk nt nu lz ko nv nw md ks nx ny mh nz bi translated">开发应用程序:</h2><ul class=""><li id="c992" class="kx ky jc kb b kc mj kg mk kk mo ko mp ks mq kw mr ld le lf bi translated">在开发应用的同时也大大降低了开发成本。例如，如果要对登录屏幕进行编码，那么只需要在一个文件中编写表单验证或登录时调用的服务。因此，开发成本将会降低。</li><li id="0ffa" class="kx ky jc kb b kc lg kg lh kk li ko lj ks lk kw mr ld le lf bi translated">同样，它也大大降低了维护成本。同样，当一个完全编码的登录页面出现错误时，只需在一个文件中解决这个错误就会反映到其他平台上，从而降低维护成本。</li></ul><h1 id="35b0" class="ll lm jc bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">概述</h1><p id="98c4" class="pw-post-body-paragraph jz ka jc kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">我们学习了如何将react-native-web库集成到已安装的react本机应用程序中。我们调整了webpack来集成react-native-web库。我们已经创建了一个可以在iOS、Android和web平台上工作的应用程序，这只是一个代码库。</p><p id="bf12" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我希望这有助于将react-native-web库集成到您的项目中。如果您喜欢这篇文章并想了解更多关于React Native的内容，请关注。</p><p id="cfb8" class="pw-post-body-paragraph jz ka jc kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="oa">更多内容请看</em><a class="ae ms" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kb jd"><em class="oa">plain English . io</em></strong></a><em class="oa">。报名参加我们的</em> <a class="ae ms" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb jd"> <em class="oa">免费周报</em> </strong> </a> <em class="oa">。在我们的</em> <a class="ae ms" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kb jd"> <em class="oa">社区</em> </strong> </a> <em class="oa">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>