<html>
<head>
<title>How to Create a Script Element in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中创建脚本元素</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-create-script-element-d520d1dc4f64?source=collection_archive---------6-----------------------#2022-09-13">https://javascript.plainenglish.io/javascript-create-script-element-d520d1dc4f64?source=collection_archive---------6-----------------------#2022-09-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5692" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何在JavaScript中轻松创建脚本元素，并为您的网页添加丰富的功能。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/a4c24bcbc0bfac0f0c9d9bb1eb436344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QsQLgozuBln5t1gH_gpKrQ.png"/></div></div></figure><p id="adb7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在JavaScript中创建一个<code class="fe lk ll lm ln b">script</code>元素:</p><ol class=""><li id="008d" class="lo lp in kq b kr ks ku kv kx lq lb lr lf ls lj lt lu lv lw bi translated">使用<code class="fe lk ll lm ln b">document.createElement()</code>方法创建<code class="fe lk ll lm ln b">script</code>元素。</li><li id="cefe" class="lo lp in kq b kr lx ku ly kx lz lb ma lf mb lj lt lu lv lw bi translated">将元素对象上的<code class="fe lk ll lm ln b">src</code>属性设置为脚本文件。</li><li id="3f03" class="lo lp in kq b kr lx ku ly kx lz lb ma lf mb lj lt lu lv lw bi translated">使用<code class="fe lk ll lm ln b">appendChild()</code>方法在HTML中包含脚本元素。</li></ol><p id="466e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">考虑这个HTML标记示例:</p><p id="e48c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">index.html</strong></p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="70e5" class="mg mh in ln b gy mi mj l mk ml">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Coding Beauty Tutorial&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="box"&gt;&lt;/div&gt;</span><span id="f851" class="mg mh in ln b gy mm mj l mk ml">    &lt;script src="index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="606f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">下面是我们如何使用JavaScript在HTML中创建一个<code class="fe lk ll lm ln b">script</code>元素:</p><p id="d061" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> index.js </strong></p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="bd77" class="mg mh in ln b gy mi mj l mk ml">const script = document.createElement('script');</span><span id="acc6" class="mg mh in ln b gy mm mj l mk ml">// use local file<br/>// script.src = 'script.js';</span><span id="4340" class="mg mh in ln b gy mm mj l mk ml">script.src =<br/>  'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js';</span><span id="6002" class="mg mh in ln b gy mm mj l mk ml">script.async = true;</span><span id="9776" class="mg mh in ln b gy mm mj l mk ml">// make code in script to be treated as JavaScript module<br/>// script.type = 'module';</span><span id="a4c4" class="mg mh in ln b gy mm mj l mk ml">script.onload = () =&gt; {<br/>  console.log('Script loaded successfuly');<br/>  const box = document.getElementById('box');<br/>  box.textContent = 'The script has loaded.';<br/>};</span><span id="c027" class="mg mh in ln b gy mm mj l mk ml">script.onerror = () =&gt; {<br/>  console.log('Error occurred while loading script');<br/>};</span><span id="2018" class="mg mh in ln b gy mm mj l mk ml">document.body.appendChild(script);</span></pre><p id="b97f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">方法创建一个由标签名指定的HTML元素并返回该元素。通过传递一个<code class="fe lk ll lm ln b">script</code>标签，我们创建了一个脚本元素。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="7c30" class="mg mh in ln b gy mi mj l mk ml">const script = document.createElement('script');</span></pre><p id="a1ce" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们在<code class="fe lk ll lm ln b">script</code>元素上设置<code class="fe lk ll lm ln b">src</code>属性来指定要加载的脚本文件。我们用URL指定一个远程文件，但是我们也可以用相对或绝对文件路径指定一个本地文件。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="041e" class="mg mh in ln b gy mi mj l mk ml">// use local file<br/>// script.src = 'script.js';</span><span id="df97" class="mg mh in ln b gy mm mj l mk ml">script.src =<br/>  'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js';</span></pre><p id="8039" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">通过将<code class="fe lk ll lm ln b">async</code>属性设置为<code class="fe lk ll lm ln b">true</code>，浏览器将不必在继续解析HTML之前加载和评估脚本。相反，脚本文件将被并行加载，以减少延迟并加快页面的处理速度。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="a05c" class="mg mh in ln b gy mi mj l mk ml">script.async = true;</span></pre><p id="fae8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">type</code>属性表示文件是什么类型的脚本。如果它是一个<a class="ae mn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" rel="noopener ugc nofollow" target="_blank"> JavaScript模块</a>，我们需要将<code class="fe lk ll lm ln b">type</code>属性设置为<code class="fe lk ll lm ln b">module</code>来显示它。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="3d6a" class="mg mh in ln b gy mi mj l mk ml">script.type = 'module';</span></pre><p id="015b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有关<code class="fe lk ll lm ln b">script</code>元素支持的所有属性的完整列表，请访问脚本元素的MDN文档。</p><p id="3f1e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们监听<code class="fe lk ll lm ln b">onload</code>事件，以便在脚本文件成功加载后执行操作。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="0def" class="mg mh in ln b gy mi mj l mk ml">script.onload = () =&gt; {<br/>  console.log('Script loaded successfuly');<br/>  const box = document.getElementById('box');<br/>  box.textContent = 'The script has loaded.';<br/>};</span></pre><p id="ce8c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们监听<code class="fe lk ll lm ln b">onerror</code>事件，以便在加载脚本出错时执行不同的操作。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="3dcd" class="mg mh in ln b gy mi mj l mk ml">script.onerror = () =&gt; {<br/>  console.log('Error occurred while loading script');<br/>};</span></pre><p id="b8fd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">方法添加一个DOM元素作为指定父元素的最后一个子元素。通过在<code class="fe lk ll lm ln b">document.body</code>上调用<code class="fe lk ll lm ln b">appendChild()</code>，我们将脚本文件添加到主体中。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="87b6" class="mg mh in ln b gy mi mj l mk ml">document.body.appendChild(script);</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/bed44c242821811937de5ddf88eda41b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/0*2W4Gg73mcP_oyhij.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">The script file is included in the body of the document.</figcaption></figure><p id="6c4b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要将脚本文件添加到文档的头部，我们可以将<code class="fe lk ll lm ln b">document.body</code>替换为<code class="fe lk ll lm ln b">document.head</code>。</p><pre class="kd ke kf kg gt mc ln md me aw mf bi"><span id="2393" class="mg mh in ln b gy mi mj l mk ml">document.head.appendChild(script);</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/dbc8f820e2b81b5805c9a04ac017b3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*9rdlbGTRRd31kXqRdV6-Vw.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">The script file is included in the head of the document.</figcaption></figure></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><p id="da02" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="na">原载于</em><a class="ae mn" href="https://cbdev.link/2697be" rel="noopener ugc nofollow" target="_blank"><em class="na">codingbeautydev.com</em></a></p><h1 id="7d7e" class="nb mh in bd nc nd ne nf ng nh ni nj nk jt nl ju nm jw nn jx no jz np ka nq nr bi translated">ES13中11个惊人的新JavaScript特性</h1><p id="bfde" class="pw-post-body-paragraph ko kp in kq b kr ns jo kt ku nt jr kw kx nu kz la lb nv ld le lf nw lh li lj ig bi translated">本指南将带您快速了解ECMAScript 13中添加的所有最新功能。这些强大的新特性将会用更短、更富于表现力的代码来更新您的JavaScript。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/75a56482761ab63cfc081ad691d70d61.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*WqVjQY7sKZh3wld5WzkfTw.png"/></div></figure><p id="b288" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mn" href="https://cbdev.link/900477" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>