<html>
<head>
<title>Create JavaScript Objects: 5 Ways You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建JavaScript对象:你应该知道的5种方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-javascript-objects-4-ways-you-should-know-77e1fbdfd7d3?source=collection_archive---------7-----------------------#2022-11-17">https://javascript.plainenglish.io/create-javascript-objects-4-ways-you-should-know-77e1fbdfd7d3?source=collection_archive---------7-----------------------#2022-11-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/8a1e2c4a9d18d9f55dbfa4a72fa0208b.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*u6QshYseRujlPyKokA3s2Q.png"/></div></figure><p id="dbb4" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">JavaScript是一种基于对象的语言。除了这六种类型——字符串、数字、布尔、bigint、符号、未定义和null——JavaScript中的一切都是对象。是的，甚至构造函数、函数和数组都是对象。</p><p id="48ae" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">本文试图展示创建JavaScript对象的不同方法。</p><h1 id="9aee" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">开始之前</h1><p id="afbf" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">为了理解下面讨论的一些方法，有必要理解属性和方法是如何从一个对象传递到另一个对象的。</p><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi ls"><img src="../Images/c1bb729301ce412fa3d7bdfd41463ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rFeOCIYrPn1GDYN1Yu_KjQ.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Prototype Chain</figcaption></figure><p id="2b8c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">JavaScript是一种基于原型的语言。这意味着每当我们创建一个对象时，JavaScript都会向该对象添加一个内部属性，称为其原型。原型本身是一个对象，所以原型会有自己的原型，这就是所谓的原型链。</p><p id="d87a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">重要的是要记住，函数也是对象，这意味着所有函数都具有原型属性。</p><p id="ea45" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">JavaScript使用一种叫做“差异继承”的继承模型。这意味着方法不会从父对象复制到子对象。相反，孩子的原型链接回他们父母的原型。</p><p id="1071" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">因此，每当您试图访问对象的属性时:</p><ol class=""><li id="a796" class="mf mg in jt b ju jv jy jz kc mh kg mi kk mj ko mk ml mm mn bi translated">它首先检查对象本身的属性。</li><li id="50dd" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">如果在那里找不到，就在原型中搜索属性。</li><li id="b5de" class="mf mg in jt b ju mo jy mp kc mq kg mr kk ms ko mk ml mm mn bi translated">如果它也不能到达那里，则搜索原型的原型，依此类推，直到找到属性，或者到达链的末端，在这种情况下返回<code class="fe mt mu mv mw b">undefined</code>。</li></ol><h2 id="cc9e" class="mx kq in bd kr my mz dn kv na nb dp kz kc nc nd ld kg ne nf lh kk ng nh ll ni bi translated">1.对象文字</h2><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/98f7478903ddf59ce4e6e8f76d09a154.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*QMW5nhAabtpzh-axVyy5Bw.png"/></div></figure><p id="3d95" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">创建对象最简单的方法是使用<strong class="jt io">对象文字</strong>。我们在大括号中定义了一组属性，用逗号分隔。下面是一个例子。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="ee7b" class="no kq in mw b be np nq l nr ns">const person = {<br/>    name: 'Monica',<br/>    age: 22,<br/>    gender: 'female'<br/>}</span></pre><p id="9a95" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">可以把JavaScript对象想象成一个列表项，其中每一项都存储为一个键值对。密钥必须始终是一个字符串，并且是唯一的。该值可以是原始数据类型、函数甚至是对象。</p><p id="880e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">下面是另一个以value为对象的例子。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="46f5" class="no kq in mw b be np nq l nr ns">const person = {<br/>    name: 'Monica',<br/>    age: 22,<br/>    gender: 'female',<br/>    address: {<br/>      city: 'Mumbai',<br/>      country: 'India'<br/>    }<br/>}</span></pre><p id="59ae" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">简写属性的引入使得对象的创建更加简洁。当变量和对象的键名相同时，在创建对象时可以省略键名。</p><p id="0479" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这意味着，下面的代码</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="1c72" class="no kq in mw b be np nq l nr ns">const name = 'Monica'<br/><br/>const person = {<br/>    name: name,<br/>    age: 22,<br/>    gender: 'female'<br/>}</span></pre><p id="94d2" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在可以看起来像这样。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="8c10" class="no kq in mw b be np nq l nr ns">const name = 'Monica'<br/><br/>const person = {<br/>    name,<br/>    age: 22,<br/>    gender: 'female'<br/>}</span></pre><h2 id="ebb7" class="mx kq in bd kr my mz dn kv na nb dp kz kc nc nd ld kg ne nf lh kk ng nh ll ni bi translated">2.构造函数</h2><p id="b87a" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">如果我们必须创建许多<code class="fe mt mu mv mw b">person</code>对象会怎么样？因此，为了摆脱手动向每个对象添加属性，我们可以使用用户定义的函数。</p><p id="6643" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">首先，我们需要创建一个函数，并使用<code class="fe mt mu mv mw b">new</code>关键字来创建对象。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="1979" class="no kq in mw b be np nq l nr ns">function Person(name, age) {<br/>  this.name = name;<br/>  this.age = age;<br/>}<br/><br/>const p1 = new Person('Monica', 22);<br/>const p2 = new Person('John', 23);</span></pre><figure class="lt lu lv lw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi nt"><img src="../Images/5bc4b18a821f9a19c98fa5fc4ccb5d47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W0D22JN6GNLPMxtRLUq-gA.png"/></div></div></figure><p id="f5b9" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><code class="fe mt mu mv mw b">new</code>关键字通过以下步骤创建对象:</p><p id="522b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">a.创建一个空白JavaScript对象。<br/> b .向链接到构造函数的原型对象的新对象添加原型属性。<br/> c .绑定新创建的对象作为<code class="fe mt mu mv mw b">this</code>上下文。<br/> d .如果函数没有返回对象，则返回<code class="fe mt mu mv mw b">this</code>。</p><p id="a9b8" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">正如所见，构造函数只是一个常规函数。当实例用<code class="fe mt mu mv mw b">new</code>关键字调用它时，它就变成了一个构造函数。</p><h2 id="4041" class="mx kq in bd kr my mz dn kv na nb dp kz kc nc nd ld kg ne nf lh kk ng nh ll ni bi translated">3.班级</h2><p id="e6f2" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">JavaScript不支持类继承，只支持原型继承。类只是构造函数的语法糖。</p><p id="3759" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">由于其他编程语言使用类，JavaScript中的类语法使得开发人员在语言之间切换更加简单。</p><p id="9a19" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">为了定义一个类，我们使用<code class="fe mt mu mv mw b">class</code>关键字，后跟类名。类的主体包含在花括号中。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="db84" class="no kq in mw b be np nq l nr ns">class People {<br/>  //body of the class<br/>}</span></pre><p id="9b6b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">JavaScript中的类有一个特殊的函数叫做<code class="fe mt mu mv mw b">constructor</code>，基本上就是我们刚刚看到的构造函数。它帮助我们设置对象字段的初始值。一个类中只能有一个<code class="fe mt mu mv mw b">constructor</code>。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="2b7b" class="no kq in mw b be np nq l nr ns">class People {<br/>  constructor(name){<br/>      this.name = name;<br/>  }<br/>}</span></pre><p id="0253" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">第<code class="fe mt mu mv mw b">this.name = name</code>行创建一个名称字段，并给它分配一个初始值。</p><p id="2836" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><code class="fe mt mu mv mw b">this</code>关键字用于访问构造函数和方法中的字段。</p><p id="b9b0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">现在我们可以使用<code class="fe mt mu mv mw b">new</code>关键字创建一个Person对象。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="5857" class="no kq in mw b be np nq l nr ns">const people = new People('John');</span></pre><p id="42af" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">这里需要注意的重要一点是，与函数声明不同，类声明是不被提升的。</p><h2 id="7e2c" class="mx kq in bd kr my mz dn kv na nb dp kz kc nc nd ld kg ne nf lh kk ng nh ll ni bi translated">4.对象.创建</h2><p id="b0a6" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">当我们想要从其他现有对象创建对象时，这种模式非常方便。</p><p id="0d77" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">它帮助你用指定的原型创建一个新的对象。您可以指定第二个参数来为对象添加原型所缺少的新属性:</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="d258" class="no kq in mw b be np nq l nr ns">const newObject = Object.create(prototype, newProperties)</span></pre><p id="6c2c" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">假设我们有一个由<code class="fe mt mu mv mw b">comapany</code> object表示的组织。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="540c" class="no kq in mw b be np nq l nr ns">const comapany = {org_name: 'ABC Corp.'};</span></pre><p id="8fe0" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们想为这家公司创造员工。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="a4b6" class="no kq in mw b be np nq l nr ns">const employee = Object.create(comapny, { name: { value: 'John' } });<br/><br/>console.log(employee.company); <br/>// { org_name: 'ABC Corp.' }<br/><br/>console.log(employee.name); <br/>// "John"</span></pre><h2 id="e6e9" class="mx kq in bd kr my mz dn kv na nb dp kz kc nc nd ld kg ne nf lh kk ng nh ll ni bi translated">5.对象.分配</h2><p id="b3b5" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">当我们需要通过从多个对象复制属性来创建对象时，这很方便。</p><p id="149e" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><code class="fe mt mu mv mw b">Object.assign()</code>执行浅层复制；也就是说，它只复制属性，不复制原型方法。</p><p id="819d" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><code class="fe mt mu mv mw b">object.assign</code>可以带任意数量的参数。第一个参数是它将创建并返回的对象。其余的参数是其属性将被复制到新对象的对象。</p><p id="ba00" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">假设，我们有如下两个对象:</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="f95e" class="no kq in mw b be np nq l nr ns">const comapany = {org_name: 'ABC Corp.'};<br/>const car = {model: 'Nissan'}</span></pre><p id="ba7a" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">我们希望创建一个在ADC公司工作并驾驶日产汽车的员工。</p><pre class="lt lu lv lw gt nk mw nl bn nm nn bi"><span id="0197" class="no kq in mw b be np nq l nr ns">const employee = Object.assign({}, comapany, car);</span></pre><h1 id="3c6c" class="kp kq in bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">最后的想法</h1><p id="fcd5" class="pw-post-body-paragraph jr js in jt b ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk lr km kn ko ig bi translated">使用对象文字语法可以很容易地构建对象。</p><p id="930b" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">JavaScript还提供了使用原型对象共享公共行为来创建面向对象对象的方法。</p><p id="3528" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated">耶，你已经走到尽头了。希望你今天的概念有点清楚了。敬请关注更多此类帖子。</p><p id="ec70" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><strong class="jt io"> <em class="nu">如果你喜欢这个，请看看我的其他</em> </strong> <a class="ae nv" href="https://tahajiru.start.page/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> <em class="nu">作品</em> </strong> </a> <strong class="jt io"> <em class="nu">。</em>T13】</strong></p><p id="4f02" class="pw-post-body-paragraph jr js in jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ig bi translated"><em class="nu">更多内容看</em> <a class="ae nv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> <em class="nu">说白了就是</em> </strong> </a> <em class="nu">。报名参加我们的</em> <a class="ae nv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> <em class="nu">免费周报</em> </strong> </a> <em class="nu">。关注我们关于</em> <a class="ae nv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> <em class="nu">推特</em> </strong> </a>，<a class="ae nv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> <em class="nu">领英</em> </strong> </a> <strong class="jt io"> <em class="nu">，</em></strong><a class="ae nv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jt io"><em class="nu">YouTube</em></strong></a><strong class="jt io"><em class="nu">，</em> </strong> <em class="nu">和</em><a class="ae nv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"/><a class="ae nv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jt io"><em class="nu"><em class="nu">不和【T63</em> </em></strong> <em class="nu">对成长黑客感兴趣？检查出</em> </a><a class="ae nv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jt io"> <em class="nu">电路</em> </strong> </a> <strong class="jt io"> <em class="nu">。</em>T81】</strong></p></div></div>    
</body>
</html>