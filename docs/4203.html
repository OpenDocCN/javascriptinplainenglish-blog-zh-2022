<html>
<head>
<title>What Happens While a Webpage Is Loading</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">载入网页时会发生什么</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-happens-while-a-webpage-is-loading-6d645f40a08b?source=collection_archive---------7-----------------------#2022-11-08">https://javascript.plainenglish.io/what-happens-while-a-webpage-is-loading-6d645f40a08b?source=collection_archive---------7-----------------------#2022-11-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/102bc263e02ba8973bca2e3faa289e24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5J3Xhd1yYxpI1Admm6Qgbw.jpeg"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Browser Connect To Server</figcaption></figure><div class=""/><div class=""><h2 id="24b3" class="pw-subtitle-paragraph jz jb jc bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">加载网站的过程，从您键入其URL开始，直到您看到它出现在您的屏幕上。</h2></div><p id="baa6" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">当你访问一个网站时，你的电脑要做很多事情，有很多事情可能会出错。在这篇文章中，我们将介绍加载一个网站的过程，从你输入它的URL开始，直到你看到它出现在你的屏幕上。</p><p id="56bb" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">首先，在进入本题之前，有必要对TCP、ISP、DNS、DNS查找有所了解。如果你知道这些话题，可以<em class="ln">跳过</em>这部分。</p></div><div class="ab cl lo lp hr lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ig ih ii ij ik"><h2 id="3766" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">什么是ISP？</h2><p id="c2d8" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">ISP代表互联网服务提供商。这是一家向客户提供互联网的公司。例如，如果你有一个电缆连接，那么你有一个ISP。如果你有移动数据连接，那么你也有一个ISP。ISP负责将数据包从您的计算机发送到目的地。最常见的公司是美国电话电报公司互联网服务公司，美国的Sparklight英国电信，英国天空宽带。</p><h2 id="e69a" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">什么是DNS？</h2><p id="b304" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">DNS代表域名系统，用于将www.google.com<a class="ae mt" href="http://www.google.com" rel="noopener ugc nofollow" target="_blank">或www.facebook.com</a><a class="ae mt" href="http://www.facebook.com" rel="noopener ugc nofollow" target="_blank">等域名分别翻译成216.58.194.65和2a03:2880:21d:80c::2等IP地址。这个翻译过程被称为DNS查找，当您在浏览器的地址栏中键入网站地址或单击网站上的链接(超链接)时就会发生。DNS服务器包含所有关于域名和与之相关的IP地址的信息，因此当有人发起DNS查找请求时，他们的计算机向这些服务器中的一个发送请求，该服务器返回与他们在浏览器地址栏中输入的或使用网络连接在线浏览时点击的域名相对应的IP地址。</a></p><h2 id="b8e0" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">什么是TCP？</h2><p id="9367" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">TCP是一种面向连接的协议，它工作在IP层，为用户提供传输环境(HTTP、SMTP等)。)，即双方发起连接，观察对方的健康状况。双方之间的TCP连接是通过称为三次握手的过程建立的。</p></div><div class="ab cl lo lp hr lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ig ih ii ij ik"><h1 id="8efb" class="mu lw jc bd lx mv mw mx ma my mz na md ki nb kj mg kl nc km mj ko nd kp mm ne bi translated">页面加载时会发生什么？</h1><p id="ca64" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">当你加载一个网站时，有很多步骤。让我们以总结的形式来检查这个过程，然后把它分成几个步骤，并详细说明每个步骤。</p><p id="1d44" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">服务器向您的浏览器发送请求。请求通常是针对像图像或视频这样的文件。如果请求成功，服务器将发回数据。如果有错误，那么它将返回一个错误消息。然后，浏览器处理这些数据，并在屏幕上显示出来。整个过程发生在一个叫做互联网的计算机网络上。网络由提供数据的服务器(如网站)、客户端(如浏览器)以及它们之间的连接(如路由器)组成。客户机向服务器发送请求，服务器根据它们是否能满足这些请求，用数据或错误消息来响应。</p><p id="0d17" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated"><strong class="kt jd"> <em class="ln">步骤:</em> </strong></p><ol class=""><li id="e9a0" class="nf ng jc kt b ku kv kx ky la nh le ni li nj lm nk nl nm nn bi translated">键入url，然后按enter键。</li><li id="ef8b" class="nf ng jc kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">浏览器从DNS中找到IP地址。</li><li id="e8da" class="nf ng jc kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">浏览器与服务器建立TCP连接</li><li id="c2fd" class="nf ng jc kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">浏览器向服务器发送HTTP请求</li><li id="d330" class="nf ng jc kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">服务器接收请求并返回响应</li><li id="2589" class="nf ng jc kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">浏览器呈现从服务器返回的内容</li></ol><h2 id="2d22" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">1.键入URL，然后按Enter键。</h2><h2 id="765b" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">2.浏览器从DNS中找到IP地址。</h2><p id="e439" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">输入URL后，浏览器首先要知道应该连接哪个服务器。为了知道与哪个服务器连接，它需要从写入的url地址中知道它应该被定向到哪个IP地址。IP地址是通过DNS查找从url中写入的网站名称中找到的。</p><p id="6c5d" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">浏览器从DNS中找到IP地址后，需要做的就是和这个地址的服务器建立TCP连接。</p><h2 id="0444" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">3.浏览器与服务器建立TCP连接</h2><p id="eae4" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">浏览器找到IP地址后，会与服务器建立TCP连接。如果主机服务器有ssl证书，即https，url的方案将进行TLS握手来创建可靠的连接。</p><h2 id="82d0" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">4.浏览器向服务器发送HTTP请求</h2><p id="1440" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">现在浏览器和服务器之间有了连接。建立TCP连接后，浏览器会创建一个http请求，并向服务器发出请求。服务器根据这个http请求返回一个响应。</p><h2 id="13e9" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">5.服务器接收请求并返回响应</h2><p id="c529" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">服务器根据请求行、标题和正文决定如何处理来自浏览器的请求。然后服务器获取这个路径的内容或者动态地创建它。<br/>如果服务返回的响应的状态码是200，浏览器认为操作成功并呈现内容。<br/>现在我们知道了服务器是如何生成响应的。现在让我们看看浏览器如何处理这个返回的响应。</p><h2 id="ff55" class="lv lw jc bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">6.浏览器呈现从服务器返回的内容</h2><p id="93ea" class="pw-post-body-paragraph kr ks jc kt b ku mo kd kw kx mp kg kz la mq lc ld le mr lg lh li ms lk ll lm ig bi translated">浏览器收到来自服务的响应后，首先查看响应的headar。根据标题中的Content-Type字段，浏览器呈现这个请求。通常，从对网站的第一个http请求返回的响应的内容类型是bit HTML，浏览器知道如何呈现HTML。</p><p id="1547" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">我们可以把从服务返回的HTML称为页面的结构或骨架。当我们检查一个HTML文件时，我们可以看到引用它需要的其他文件的行。这些文件(Js、Css、图片等。)是决定我们的HTML页面在呈现时如何呈现的文件。</p><p id="97c9" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated">当浏览器解析并呈现HTML文件时，它会向服务器发送额外的请求来访问这些文件。这些请求通常并行处理。在这些请求得到响应后，浏览器会完整地呈现所请求的页面。</p></div><div class="ab cl lo lp hr lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ig ih ii ij ik"><p id="e63b" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ig bi translated"><em class="ln">更多内容请看</em><a class="ae mt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt jd"><em class="ln">plain English . io</em></strong></a><em class="ln">。报名参加我们的</em> <a class="ae mt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt jd"> <em class="ln">免费周报</em> </strong> </a> <em class="ln">。关注我们关于</em><a class="ae mt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt jd"><em class="ln">Twitter</em></strong></a><a class="ae mt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt jd"><em class="ln">LinkedIn</em></strong></a><em class="ln"/><a class="ae mt" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt jd"><em class="ln">YouTube</em></strong></a><em class="ln"/><a class="ae mt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt jd"><em class="ln">不和</em> </strong> </a> <em class="ln">。对增长黑客感兴趣？检查</em> <a class="ae mt" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt jd"> <em class="ln">电路</em> </strong> </a> <em class="ln">。</em></p></div></div>    
</body>
</html>