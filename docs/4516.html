<html>
<head>
<title>Become a JavaScript ninja: learn the magic of currying</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">成为一名JavaScript忍者:学习currying的魔力</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/become-a-javascript-ninja-learn-the-magic-of-currying-5630028e4860?source=collection_archive---------15-----------------------#2022-12-09">https://javascript.plainenglish.io/become-a-javascript-ninja-learn-the-magic-of-currying-5630028e4860?source=collection_archive---------15-----------------------#2022-12-09</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><figure class="in io gq gs ip iq gi gj paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="gi gj im"><img src="../Images/707970bd9da1b8b1acdf9b6c7098901b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNMLEqKJmLF4Gb8iUfHcQQ.jpeg"/></div></div><figcaption class="ix iy gk gi gj iz ja bd b be z dk"><a class="ae jb" href="https://unsplash.com/photos/xrVDYZRGdw4" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/xrVDYZRGdw4</a></figcaption></figure><div class=""/><div class=""><h2 id="cb8b" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">关于JavaScript中的Currying函数，您需要知道的一切:示例和最佳实践</h2></div><p id="e331" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">currying函数是一种允许将需要多个参数的函数转换成一系列只需要一个参数的函数的技术。例如，考虑以下函数:</p><pre class="lp lq lr ls gu lt lu lv bn lw lx bi"><span id="ad0f" class="ly lz je lu b be ma mb l mc md">function sum(a, b) {<br/>  return a + b;<br/>}</span></pre><p id="4992" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">我们可以使用“curry”函数将其转换为curry函数，如下所示:</p><pre class="lp lq lr ls gu lt lu lv bn lw lx bi"><span id="63e2" class="ly lz je lu b be ma mb l mc md">function curry(fn) {<br/>  return function(x) {<br/>    return function(y) {<br/>      return fn(x, y);<br/>    }<br/>  }<br/>}<br/><br/>// usage<br/>function sum(a, b) {<br/>  return a + b;<br/>}<br/><br/>const curriedAdd = curry(sum);</span></pre><p id="4cd0" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">现在，我们可以使用“curriedAdd”函数来代替原来的“Add”函数。但是，我们必须一次传递一个参数，如下所示:</p><pre class="lp lq lr ls gu lt lu lv bn lw lx bi"><span id="bf24" class="ly lz je lu b be ma mb l mc md">const addFive = curriedAdd(5);<br/>const result = addFive(10);<br/><br/>console.log(result); //15</span></pre><p id="2217" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">在本例中，我们创建了一个名为“addFive”的新函数，该函数为作为参数传递的任何值加5。然后，当我们调用“addFive(10)”时，结果将是15。</p><p id="2d13" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">currying函数一开始可能有点难以理解，但是一旦掌握了它的窍门，它就可以成为编写更简洁、更灵活的代码的非常强大的工具。此外，当使用使用currying函数提供高级功能的第三方库时，它可能特别有用。如果你想成为一名真正的JavaScript忍者，学习currying的魔力是重要的一步！</p><p id="1725" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">举个简单的例子，currying类似于matryoshkas，每个函数都可以比作一个玩偶。每次你调用一个函数，就好像你打开了一个洋娃娃，你把它放在一张桌子上，写下你传递给它的参数。一旦你调用了所有的函数或者打开了所有的玩偶，你就可以用所有的参数进行操作了。</p><p id="82ff" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">如您所见，currying的实现很简单:它涉及两层函数。</p><ol class=""><li id="7eaf" class="me mf je kv b kw kx kz la lc mg lg mh lk mi lo mj mk ml mm bi translated">最外层的函数名为“curry”，它以一个正则函数作为参数(如“sum”)并返回一个新函数(姑且称之为“wrapperA”)。</li><li id="471f" class="me mf je kv b kw mn kz mo lc mp lg mq lk mr lo mj mk ml mm bi translated">当使用第一个参数(例如“1”)调用“wrapperA”时，保存该值并返回一个新函数(姑且称之为“wrapperB”)。</li><li id="110c" class="me mf je kv b kw mn kz mo lc mp lg mq lk mr lo mj mk ml mm bi translated">然后，当用第二个参数(例如“2”)调用“wrapperB”时，它用保存的值和新的参数调用原始的“sum”函数。</li></ol><p id="200e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">currying的一个用例是当您想要创建一个现有函数的专用版本时。例如，假设您有一个计算订单总成本(含税)的函数。您可以使用currying创建该函数的一个专门版本，该版本只设置税，如下所示:</p><pre class="lp lq lr ls gu lt lu lv bn lw lx bi"><span id="4516" class="ly lz je lu b be ma mb l mc md">function calculateCost(tax, price) {<br/>  return tax + price;<br/>}<br/><br/>const setTax = curry(calculateCost);</span></pre><p id="da0b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">现在，您可以使用“setTax”函数快速方便地设置任何价格的税，而不必指定其他参数。这可以使代码更具可读性和可维护性:您可以只添加固定税收的价格。</p><pre class="lp lq lr ls gu lt lu lv bn lw lx bi"><span id="be10" class="ly lz je lu b be ma mb l mc md">// onlyPrice will be the partial of cost with fixed first argument<br/>let onlyPrice = setTax(5);<br/><br/>// use it passing only the price<br/>var productOne = onlyPrice(10); <br/>console.log(productOne); // 15 (tax + price)<br/><br/>var productTwo = onlyPrice(30); <br/>console.log(productTwo); // 35 (tax + price)<br/><br/>var productThree = onlyPrice(50); <br/>console.log(productThree); // 55 (tax + price)</span></pre><h2 id="667b" class="ms lz je bd mt mu mv dn mw mx my dp mz lc na nb nc lg nd ne nf lk ng nh ni nj bi translated">高级形式</h2><h2 id="585e" class="ms lz je bd mt mu mv dn mw mx my dp mz lc na nb nc lg nd ne nf lk ng nh ni nj bi translated">结论</h2><p id="3ee3" class="pw-post-body-paragraph kt ku je kv b kw nk kf ky kz nl ki lb lc nm le lf lg nn li lj lk no lm ln lo ih bi translated">一般来说，使用currying可以使你的代码更加灵活和可重用。不必为每个参数组合编写单独的函数，您可以编写一个函数，并根据需要使用currying创建该函数的专用版本。这可以节省您的时间，并使您的代码更有组织性和效率。所以，如果你想成为一名真正的JavaScript高手，学习currying的艺术是必须的！</p><p id="59b6" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated">在推特或T2【LinkedIn】上关注我，了解其他建议！</p><p id="dd04" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated"><em class="np">更多内容看</em> <a class="ae jb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf"> <em class="np">说白了就是</em> </strong> </a> <em class="np">。报名参加我们的</em> <a class="ae jb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf"> <em class="np">免费周报</em> </strong> </a> <em class="np">。关注我们关于</em> <a class="ae jb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf"> <em class="np">推特</em> </strong> </a>，<a class="ae jb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv jf"><em class="np">LinkedIn</em></strong></a><em class="np">，</em><a class="ae jb" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv jf"><em class="np">YouTube</em></strong></a><em class="np">，以及</em> <a class="ae jb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf"> <em class="np">不和</em> </strong> </a> <strong class="kv jf"> <em class="np">。</em>T53】</strong></p><p id="6da3" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo ih bi translated"><strong class="kv jf"> <em class="np">对缩放您的软件启动感兴趣</em> </strong> <em class="np">？检查出</em> <a class="ae jb" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf"> <em class="np">电路</em> </strong> </a> <em class="np">。</em></p></div></div>    
</body>
</html>