<html>
<head>
<title>Basic React Hook Form Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基本React挂钩形式示例</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/basic-react-hook-form-example-f528b3c34316?source=collection_archive---------10-----------------------#2022-06-14">https://javascript.plainenglish.io/basic-react-hook-form-example-f528b3c34316?source=collection_archive---------10-----------------------#2022-06-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5958" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">您是否曾经在React中构建表单，并发现必须构建自己的逻辑来处理错误、提交和验证检查是一件很烦人的事情？</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/99d3f910c2d1a10df60f9cdf76d95c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Sd3ZeyLHRLdPJcB"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@homajob?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Scott Graham</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0da3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您是否曾经在React中构建表单，并且发现必须构建自己的逻辑来处理错误、提交和验证检查是一件很烦人的事情？</p><p id="d1ae" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">假设我们构建了一个注册新用户的基本表单:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="363c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里，我们有一个注册新用户的表单。用户可以输入他们的名、姓以及出生日期，还可以添加尽可能多的联系信息。</p><p id="1c1d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们还有一个二级表单，允许用户设置他们的年龄和联系信息列表。在secondaryForm中，我们有一个div部分供用户设置年龄和联系信息列表。为了传入联系信息，我们将从父组件接收的联系数组和setContact传入联系组件。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lr"><img src="../Images/b991f153e8cba32529c1b19ccf6ff8de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bVdEleFnU7tbVJ4b"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@greg_rosenke?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Greg Rosenke</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4482" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">嗯…为了让整个应用程序正常工作，我们真的需要进行道具训练吗？</p><p id="6e1e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">输入react-hook-form。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ls"><img src="../Images/c93158c126f23190fb413df5b1198e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*58BejwvyRZwnhsW0"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@two_tees?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Matt Walsh</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1c29" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">React-hook-form是一个库，它允许我们构建一个需要更少代码的表单，并通过消除不必要的重新渲染来支持更好的性能。</p><p id="c8d6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">嗯…少编码？怎么会呢？</p><p id="6795" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了理解这一点，让我们试着自己构建表单:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="21a3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这里，我们有一个由secondaryForm组成的sampleForm，secondary form由ContactSection组成。这与我们之前的内容相似，除了…</p><p id="2f5d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那些通过的道具都怎么了？</p><p id="ac5e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">没错，react-hook-form搞定了。在react hook表单中，所有字段都包装在FormProvider中，它为表单中的所有值提供上下文。</p><p id="e7b2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在SampleForm中，我们调用useForm，它为表单中的所有值提供默认值，如名字、姓氏、年龄、联系人列表等。</p><p id="ca39" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在secondaryForm内部，我们可以调用useFormContext来访问FormContext中的其他可用字段，如age。类似地，我们可以通过useFieldArray访问contactInfo列表，该列表被定制为从formProvider访问/编辑数组字段。</p><p id="277b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">由于表单的其余部分可以访问表单上下文，因此不需要使用prop drilling在表单的不同部分之间传递状态变量。</p><p id="8f4e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当我们点击“提交”时，handleSubmit被调用，onSubmit作为回调被触发。在这个回调中，数据变量将包含formContext中的所有字段。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lt"><img src="../Images/ab19a2d5ef02ea2064409f4b329a0802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ah9Vp0v6SJigBn3e"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@imadalassiry?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Imad Alassiry</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1782" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">恭喜你！您刚刚构建了您的第一个React钩子表单。</p><p id="ad25" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">享受编码！</p><p id="88e8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lu">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lu">plain English . io</em></strong></a><em class="lu">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lu">免费周报</em> </strong> </a> <em class="lu">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lu">Twitter</em></strong></a><em class="lu">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lu">LinkedIn</em></strong></a><em class="lu">。查看我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lu">社区不和谐</em> </strong> </a> <em class="lu">加入我们的</em> <a class="ae ks" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lu">人才集体</em> </strong> </a> <em class="lu">。</em></p></div></div>    
</body>
</html>