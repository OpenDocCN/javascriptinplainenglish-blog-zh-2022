<html>
<head>
<title>Automated Visual Regression Testing with React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React进行自动化视觉回归测试</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-automated-visual-regression-testing-716da2132e9e?source=collection_archive---------4-----------------------#2022-03-18">https://javascript.plainenglish.io/react-automated-visual-regression-testing-716da2132e9e?source=collection_archive---------4-----------------------#2022-03-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6e2e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用'<code class="fe kf kg kh ki b">jsdom-screenshot</code>'库进行自动化可视化回归测试的快速指南</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/89fd8be48c55abfaece92811a7ce0d46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t596ZF0vhjYRYMCjQmdvHA.jpeg"/></div></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="a9dd" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">什么是自动化视觉回归测试？</h1><p id="66c0" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated"><strong class="lw ir">见</strong>一次胜过<strong class="lw ir">听</strong>一百次。我发现了一个很好的GIF，它很漂亮地解释了什么是“自动化视觉回归测试”。这是在<a class="ae mq" href="https://storybook.js.org/docs/react/writing-tests/visual-testing" rel="noopener ugc nofollow" target="_blank">故事书视觉测试</a>页面上找到的:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/3eaa57a67c6696d7dc4a7768472cf6d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*L9mCNzq-hSnRsqEv.gif"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Storybook visual regression testing example</figcaption></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="01c3" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">将涵盖哪些内容:</h1><ul class=""><li id="0df9" class="mw mx iq lw b lx ly ma mb md my mh mz ml na mp nb nc nd ne bi translated">先决条件；</li><li id="b973" class="mw mx iq lw b lx nf ma ng md nh mh ni ml nj mp nb nc nd ne bi translated">安装；</li><li id="4934" class="mw mx iq lw b lx nf ma ng md nh mh ni ml nj mp nb nc nd ne bi translated">配置；</li><li id="225b" class="mw mx iq lw b lx nf ma ng md nh mh ni ml nj mp nb nc nd ne bi translated">第一次测试；</li><li id="e0bc" class="mw mx iq lw b lx nf ma ng md nh mh ni ml nj mp nb nc nd ne bi translated">多次测试；</li><li id="82e7" class="mw mx iq lw b lx nf ma ng md nh mh ni ml nj mp nb nc nd ne bi translated">测试状态更新更改；</li></ul></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="926d" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">先决条件</h1><p id="3c7c" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">我已经创建了一个React项目，它是由<a class="ae mq" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank"><strong class="lw ir">create-React-app</strong></a>用TypeScript模板创建的:</p><pre class="kk kl km kn gt nk ki nl nm aw nn bi"><span id="c3da" class="no ld iq ki b gy np nq l nr ns">npx <strong class="ki ir">create-react-app</strong> my-app --template typescript</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nt"><img src="../Images/1019acde2e931e5cabbcd4a505248f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FvO2zvqYQVIsQXEiODupYg.jpeg"/></div></div></figure><p id="5b92" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">…以及带有<a class="ae mq" href="https://www.npmjs.com/package/styled-components" rel="noopener ugc nofollow" target="_blank"> <strong class="lw ir">样式的组件</strong> </a> npm包:</p><div class="nz oa gp gr ob oc"><a rel="noopener  ugc nofollow" target="_blank" href="/styled-components-with-examples-quick-start-guide-90b398e54cad"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">开始使用样式组件</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">带示例的样式组件快速入门指南。</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ol l"><div class="om l on oo op ol oq kt oc"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="f750" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">接下来，我们将创建一个简单的<code class="fe kf kg kh ki b">&lt;Button/&gt;</code>组件:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="79be" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">按钮样式是从<a class="ae mq" href="https://getcssscan.com/css-buttons-examples" rel="noopener ugc nofollow" target="_blank">这里抄来的</a>，<code class="fe kf kg kh ki b"><strong class="lw ir"><em class="ot">Button 41</em></strong></code>举例:</p><div class="nz oa gp gr ob oc"><a href="https://getcssscan.com/css-buttons-examples" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">漂亮的CSS按钮示例- CSS扫描</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">所有这些按钮最初都是使用CSS Scan复制的(单击此处尝试免费演示)。使用CSS扫描，您可以…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">getcssscan.com</p></div></div><div class="ol l"><div class="ou l on oo op ol oq kt oc"/></div></div></a></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ov"><img src="../Images/3c6c485a7a2440eb010cb40d54bd4665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fPjhNh9yqsZyNGsDH4stWA.jpeg"/></div></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="9ec2" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">装置</h1><p id="71b9" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">对于本地测试，我们将使用<strong class="lw ir"> jsdom-screenshot </strong>包:</p><div class="nz oa gp gr ob oc"><a href="https://www.npmjs.com/package/jsdom-screenshot" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">jsdom-截图</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">生成JSDOM的截图。⚠️这个包对于可视化回归测试很有用，但是实验性很强。如果你…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">www.npmjs.com</p></div></div><div class="ol l"><div class="ow l on oo op ol oq kt oc"/></div></div></a></div><p id="4434" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated"><strong class="lw ir">来自官方文档- &gt; </strong> <code class="fe kf kg kh ki b">jsdom-screenshot</code>包对可视化回归测试有用<strong class="lw ir">但实验性很强</strong>。</p><p id="3284" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">如果你只想进行可视化回归测试，我推荐使用CI服务(我们将使用<a class="ae mq" href="https://www.chromatic.com/" rel="noopener ugc nofollow" target="_blank"> Chromatic </a>来实现这个目的)。否则，由于不同的操作系统、字体渲染、动画甚至GPU，您将运行不同的程序。</p><p id="32ff" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">安装所需的软件包:</p><pre class="kk kl km kn gt nk ki nl nm aw nn bi"><span id="3b38" class="no ld iq ki b gy np nq l nr ns">yarn add jest-image-snapshot @types/jest-image-snapshot jsdom-screenshot @types/jsdom-screenshot -D</span></pre><p id="1541" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">结果:</p><pre class="kk kl km kn gt nk ki nl nm aw nn bi"><span id="14a6" class="no ld iq ki b gy np nq l nr ns">"jest-image-snapshot": "^4.5.1",<br/>"jsdom-screenshot": "^4.0.0",<br/>"@types/jest-image-snapshot": "^4.3.1",<br/>"@types/jsdom-screenshot": "^3.2.1",</span></pre></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="e00a" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">配置</h1><p id="ed14" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">接下来，我们将需要更新<code class="fe kf kg kh ki b"><strong class="lw ir">setupTests.ts</strong></code>文件:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ox"><img src="../Images/d81c1fb71afa6b946abb9c8b92e84404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0aKFgPJW1ZTKfOtMj6RtXw.jpeg"/></div></div></figure><p id="d0f6" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">内容:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="or os l"/></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="452f" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">首次测试</h1><p id="011e" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">现在我们已经准备好添加我们的第一个测试了。创建<code class="fe kf kg kh ki b">Button.spec.tsx</code>文件:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oy"><img src="../Images/338baad9c7c801696ff5d7ff5e43f3d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uETIc-inU4E2-DmdPPURjQ.jpeg"/></div></div></figure><p id="9432" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated"><code class="fe kf kg kh ki b">Button.spec.tsx</code>文件的内容:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="6b57" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">如果您是第一次运行该测试→将创建包含<code class="fe kf kg kh ki b">button-spec-tsx-should-render-button-1-snap.png</code>文件的文件夹:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oz"><img src="../Images/3fe445b68cfb4d1688e673ac90382018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAqaoy5JExmYkVDWb3JQFw.jpeg"/></div></div></figure><p id="eb05" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">这是我的按钮在应用程序中的外观:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pa"><img src="../Images/9d9596a18f3719f91058ee05bc4a089b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8k5c8Cjkd99z65XccY_EYQ.jpeg"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Image of the Button component look on storybook page</figcaption></figure><p id="5f1d" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">这就是<code class="fe kf kg kh ki b">jsdom-screenshot</code>将为我们产生的结果。快照图像:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/5ff3db6870db117c81bc7c0eb54ab912.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*iSSTJ9cB4XoWYGgeJxcEdA.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Snapshot image of the “<code class="fe kf kg kh ki b">button-spec-tsx-should-render-button-1-snap.png</code>” file</figcaption></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="0b19" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">如果你一遍又一遍地运行这个测试，什么也不会发生，但是…</p><p id="259b" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">让我们将按钮文本的颜色从<strong class="lw ir">白色</strong>改为<strong class="lw ir">黑色:</strong></p><pre class="kk kl km kn gt nk ki nl nm aw nn bi"><span id="321e" class="no ld iq ki b gy np nq l nr ns"><strong class="ki ir">// before</strong><br/>color: #ffffff;</span><span id="dae5" class="no ld iq ki b gy pc nq l nr ns"><strong class="ki ir">// after</strong><br/>color: #000000;</span></pre><p id="a0a8" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">让我们再次运行测试:</p><p id="3034" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">我们将得到一个错误:</p><pre class="kk kl km kn gt nk ki nl nm aw nn bi"><span id="d8c5" class="no ld iq ki b gy np nq l nr ns"><strong class="ki ir">Error</strong>: Expected image to match or be a close match to snapshot but <strong class="ki ir">was 0.415% different from snapshot</strong> (166 differing pixels).<br/>See diff for details: <em class="ot">&lt;project-path&gt; +</em><br/>/src/components/Button/__image_snapshots__/__diff_output__/button-spec-tsx-should-render-button-1-diff.png</span></pre><p id="5414" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">并且会创建一个<code class="fe kf kg kh ki b">__diff_output__</code>文件夹，里面有<code class="fe kf kg kh ki b">button-spec-tsx-should-render-button-1-diff.png</code>文件；</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pd"><img src="../Images/4c0d0aea1121a19dee2dd3920cb9f366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kP9GzYOIv5-sq4T3zm-y_g.jpeg"/></div></div></figure><p id="571b" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">让我们检查一下图像:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pe"><img src="../Images/88eed2f8f0c02d1d0ca8858ef2569aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3JtK7MoLZbinQ4Z4QWb8PQ.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Image snapshot of Component before, Diff and Component after</figcaption></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="390c" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">多重测试</h1><p id="1db1" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">我们可以用不同的案例创建尽可能多的测试。让我们更新一下我们的<code class="fe kf kg kh ki b">.spec</code>测试文件:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="336a" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">⚠️ <strong class="lw ir">注意</strong>:更新样式组件的悬停颜色时会出现问题，所以我们需要显式渲染悬停按钮，以便正确应用样式:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pf"><img src="../Images/2c7cb963e222c2fec0a00b9458d0a893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ASNuTOQ_ZQThS8B0PyMIig.jpeg"/></div></div></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="14dc" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">删除以前的快照并再次运行测试:</p><p id="df50" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">结果:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pg"><img src="../Images/f4dfd9c3d6d7992e1ccc27b1ef9f90c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oN_vQqBBbwzO4nCJ6JVr7w.jpeg"/></div></div></figure><p id="beae" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">…将创建新文件:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ph"><img src="../Images/8be9278fe0d171f0a892149b877a9f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2YiuJVH8Q3dpeVRf-7j1bw.jpeg"/></div></div></figure><p id="382a" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">图像:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/5868440ec1d5ae7706bb8d8e12723a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*yOfpKUiPpPMxC8c2wMVMRg.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">button-spec-tsx-should-render-button-component-for-width-200-height-60-default-state-1-snap</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/f1daed4191eae093225ca42c49d1be8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*l4sXAV-zh7R8EOyJoJ7oCQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">button-spec-tsx-should-render-button-component-for-width-200-height-60-hovered-state-1-snap</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/07b1b789642a1bef31bafb6a43618877.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*9Uy2mgqOphE_imUxMA4VbQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">button-spec-tsx-should-render-button-component-for-width-200-height-60-hovered-state-1-snap</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/26a2a350f1172100b386047bb058b45f.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*fbrw2-bIesqaVpkUEk5N3w.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">button-spec-tsx-should-render-button-component-for-width-200-height-60-hovered-state-1-snap</figcaption></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><h1 id="e385" class="lc ld iq bd le lf lg lh li lj lk ll lm jw ln jx lo jz lp ka lq kc lr kd ls lt bi translated">测试状态更新更改</h1><p id="c19c" class="pw-post-body-paragraph lu lv iq lw b lx ly jr lz ma mb ju mc md me mf mg mh mi mj mk ml mm mn mo mp ij bi translated">让我们添加一个带有“Hello”的新组件，该组件将在用户单击之前创建的按钮后呈现:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pj"><img src="../Images/e785da528d427ec64a411efc7f8a108c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NrebysjMgiL-35SvSs07Vg.png"/></div></div></figure><p id="943d" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">在以下时间后添加新测试:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="d48f" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">运行测试:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi pk"><img src="../Images/7e87b0079de0d2d537e985a649cb123d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s1nhc1m2OMsPsV-M8V9bQw.jpeg"/></div></div></figure><p id="e7d5" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">新文件:</p><ul class=""><li id="7124" class="mw mx iq lw b lx nu ma nv md pl mh pm ml pn mp nb nc nd ne bi translated"><code class="fe kf kg kh ki b">button-spec-tsx-should-render-button-component-for-width-200-height-60-clicked-state-1-snap.png</code></li><li id="eb5d" class="mw mx iq lw b lx nf ma ng md nh mh ni ml nj mp nb nc nd ne bi translated"><code class="fe kf kg kh ki b">button-spec-tsx-should-render-button-component-for-width-400-height-100-clicked-state-1-snap.png</code></li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/663072765ed00601a82f2444bf4c643c.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*kaawBb1_rJW76uMKPlMduQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Image snapshot of “button-spec-tsx-should-render-button-component-for-width-200-height-60-clicked-state-1-snap.png” file</figcaption></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/b1c5f0f8dae050879d89bcccfd6d4330.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*X-nt5Eco3cEdHsj6y9d0vg.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Image snapshot of “button-spec-tsx-should-render-button-component-for-width-400-height-100-clicked-state-1-snap.png” file</figcaption></figure></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="b8e9" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">⚠️ <strong class="lw ir">注意</strong>:这种方法对于<strong class="lw ir">本地</strong>开发和本地测试非常<strong class="lw ir">有用。尤其是在执行命令之前运行这些测试是一个好主意，但是如果你想在CI上获得更多特性，并且不想面对性能问题，我建议你使用<a class="ae mq" href="https://www.chromatic.com/" rel="noopener ugc nofollow" target="_blank">彩色</a>。你可以在这里查看更多信息:</strong></p><div class="nz oa gp gr ob oc"><a href="https://artem-diashkin.medium.com/react-and-chromatic-automated-visual-regression-testing-22551b8ebc93" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">反应和色度。自动化视觉回归测试</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">一步一步的自动化视觉回归测试</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">artem-diashkin.medium.com</p></div></div><div class="ol l"><div class="po l on oo op ol oq kt oc"/></div></div></a></div><p id="8078" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">Github资源库链接:</p><div class="nz oa gp gr ob oc"><a href="https://github.com/nemrosim/react-visual-regression-testing-example" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">GitHub-nemrosim/react-visual-regression-testing-example</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">github.com</p></div></div><div class="ol l"><div class="pp l on oo op ol oq kt oc"/></div></div></a></div></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="621a" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated">如果你喜欢这个故事，你也可以查看“我所有故事的列表”，也许你会找到另一个有趣的故事。编码快乐！</p><p id="6903" class="pw-post-body-paragraph lu lv iq lw b lx nu jr lz ma nv ju mc md nw mf mg mh nx mj mk ml ny mn mo mp ij bi translated"><em class="ot">更多内容请看</em><a class="ae mq" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lw ir"><em class="ot">plain English . io</em></strong></a><em class="ot">。报名参加我们的</em> <a class="ae mq" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lw ir"> <em class="ot">免费周报</em> </strong> </a> <em class="ot">。关注我们关于</em><a class="ae mq" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lw ir"><em class="ot">Twitter</em></strong></a><em class="ot">和</em><strong class="lw ir"><em class="ot"/></strong><a class="ae mq" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lw ir"><em class="ot">LinkedIn</em></strong></a><em class="ot">。加入我们的</em> <a class="ae mq" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lw ir"> <em class="ot">社区</em> </strong> </a> <em class="ot">。</em></p></div></div>    
</body>
</html>