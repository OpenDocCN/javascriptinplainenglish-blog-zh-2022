<html>
<head>
<title>I Reviewed My First Project Built 2 Years Ago. Here Are 4 Lessons I Learned.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我回顾了两年前我的第一个项目。以下是我学到的4个教训。</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/i-reviewed-my-first-project-built-2-years-ago-here-are-4-lessons-i-learned-568130046d04?source=collection_archive---------16-----------------------#2022-07-20">https://javascript.plainenglish.io/i-reviewed-my-first-project-built-2-years-ago-here-are-4-lessons-i-learned-568130046d04?source=collection_archive---------16-----------------------#2022-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bf18" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我被我的第一个项目吓坏了！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/926ffd80582ccfc230820c94463aa66a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j9056WWAwkMOaCui"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@officestock?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sebastian Herrmann</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7692" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都是从某个地方开始的，如果你不畏惧过去的自己，这通常意味着你没有成长为一个人。</p><p id="d9cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，我在回顾和更新我的旧项目，这样我就可以把它们添加到我的投资组合中，但令我惊讶的是，即使是早在去年7月的项目，与我目前的标准相比，也显得如此平庸。</p><p id="a8e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些项目工作得非常出色——没有任何问题，但困扰我的是代码。</p><p id="3026" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我坐下来重构代码，注意到底层堆栈和架构无懈可击，处理问题的逻辑也是如此。</p><p id="5c1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这时我意识到真正的问题是结构和代码，以及对可用技术的轻微无知。</p><p id="6067" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我使用Flutter构建了一个新闻应用程序，该应用程序需要调用一个API来获取最新的新闻文章。我使用Node.js构建了API，这是我的第一个web应用项目。</p><p id="5c4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个简单的API，它基本上调用了另一个API &amp;缓存了一个小时的响应，然而，我犯了太多的错误，甚至这样一个简单的API对我的眼睛来说也变得不可读和太复杂了。</p><p id="f360" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个不同于我通常的博客类型，所以任何反馈都是非常感谢的。</p><p id="9bbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我从这个项目中学到的4点经验:</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="385b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">1.没有文件结构</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/83e7f1d0d668f0d63e25d814d18e1550.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uhGe7TGiqDLM3gIR.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://blog.logrocket.com/organizing-express-js-project-structure-better-productivity/" rel="noopener ugc nofollow" target="_blank">Source</a>.</figcaption></figure><p id="42ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您在几个月(或几年)后重访项目时，一个适当的文件夹结构可以简化对代码的审查。</p><p id="d31e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">理想情况下，Express应用程序应该看起来像上面分享的图片，但我的Node.js应用程序没有任何文件夹。</p><p id="46fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个Node-API应用程序通常会有一些路由和控制器。</p><p id="0de2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有文件都在根文件夹中，并且命名不正确。文件名只会让事情更加混乱。</p><p id="3dd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">文件夹结构对生产力和可维护性很重要，公平地说，我一直认为这是理所当然的，直到去年晚些时候，当我构建我的第一个SaaS时，才意识到正确的结构是如何帮助我扩展它的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="f41b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">2.无知的态度。</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://giphy.com/gifs/SmithsonianNMNH-smithsonian-hans-sues-such-ignorance-is-best-ignored-if58SMTqYmTDbK2XyH" rel="noopener ugc nofollow" target="_blank">Source</a>.</figcaption></figure><p id="681c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在大学里，我们被教授排序数组的实际逻辑和实现，比如冒泡排序。</p><p id="ded4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我没有意识到JavaScript(和大多数语言)有一个内置的排序函数已经足够了，特别是对于一个只有100-150个条目的新闻文章列表。甚至一个简单的谷歌搜索“如何排序一个数组？”会显示排序函数的用法。</p><p id="e307" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我却浪费了几个小时来编写和完善排序算法。</p><p id="7916" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，由于我必须缓存响应，我可以使用更简单的方法，比如使用记忆化或使用全局变量。</p><p id="adef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我决定从Stack Overflow复制代码来创建一个文件，并在那里编写我的JSON对象数组。</p><p id="d8d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然这是一种有效的方法，但我对创建和更新文件一无所知，纯粹是复制代码，甚至连一半都不懂。</p><p id="1d9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更糟糕的是，我不得不稍微修改了一下，由于我当时缺乏理解，代码变得杂乱无章。</p><p id="abcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个奇迹，它的工作！</p><blockquote class="mv"><p id="defe" class="mw mx iq bd my mz na nb nc nd ne lr dk translated">“给我六个小时去砍树，我会用前四个小时磨斧子”—亚伯拉罕·林肯</p></blockquote><p id="1e53" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在开始编码之前进行研究是很重要的。我仍然记得我花了无数时间编写后端代码，而如果我知道有更好的解决方案和实践，我可以在一两天内完成。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="8424" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">3.不必要的&amp;错误的包装。</h2><p id="5c1f" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">如果我没记错的话，我知道Heroku(我用来部署服务器的平台)允许的最大slug大小是500MB。</p><p id="4a0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只要我在这个限制之下，我就不会考虑优化我的包大小。</p><p id="bde4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我从一个不同的API获取数据到我的Node.js服务器上时，fetch没有内置在Node.js中，我使用了多个库，比如Axios、Node-fetch和<a class="ae kv" href="https://www.npmjs.com/package/needle" rel="noopener ugc nofollow" target="_blank"> Needle </a>。</p><p id="3ec6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也安装了多个解析器，用于处理我得到的API数据。</p><p id="a1e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我最终使用了Axios和一个解析器，没有移除所有未使用的包。</p><p id="5578" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，随着时间的推移，我逐渐明白了包大小的重要性。更大的包意味着用户必须传输更多的数据，同时也增加了构建时间。特别是，当我使用GitHub Actions构建自己的CI/CD管道时，包的大小和构建时间变得更加重要。</p><p id="3aa7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是疯狂的想法，2年后，我变得非常快，删除任何我不使用的包。我现在痴迷于删除不必要的代码和包。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="6062" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">4.没有代码分裂的迹象。</h2><p id="f90a" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">我写了可怕的代码。我所说的可怕，是指极其丑陋和多余的代码。</p><p id="6554" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我有多个全局声明的未使用的变量，而且我没有完全掌握这门语言，所以输入了大量的手动实现。</p><p id="db4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在整个项目中，我一次又一次地违反了干燥原则。</p><p id="053e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以基本上，获取API的函数超过45行，现在我可以用不到10行代码来完成。但是当时我不知道头和JSON主体的要求，所以我基本上是复制粘贴，直到它正常工作。</p><p id="e419" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是获取数据并解析它的整个文件有383行长！</p><p id="697c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码分割实际上是一门艺术，我相信随着时间的推移，我在这个部门已经有了很大的进步。</p><p id="fa03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于外行来说，代码分割基本上是一种将大文件分割成多个小文件的方法，这些小文件可以按需请求。</p><p id="3775" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也使得调试文件更加容易。</p><p id="9c29" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是代码拆分的一个示例:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="6d8c" class="lz ma iq nq b gy nu nv l nw nx">// app.js<br/>import { add } from './math.js';<br/><br/>console.log(add(16, 26)); // 42</span><span id="e84f" class="lz ma iq nq b gy ny nv l nw nx">// math.js<br/>export function add(a, b) {<br/>  return a + b;<br/>}</span></pre><p id="be15" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与将它们写入单个文件相比:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="2acc" class="lz ma iq nq b gy nu nv l nw nx">function add(a, b) {<br/>  return a + b;<br/>}<br/><br/>console.log(add(16, 26)); // 42</span></pre><p id="d3f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，这是一个简单的单行函数，但是在实际的应用程序中，您可以想象一个函数，它接受一个URL和一个字符串(HTTP方法，如“POST”)作为参数，并使用它来获取URL并返回它。</p><p id="eda8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码分割使我现在创建项目变得非常容易，因为它方便了项目的维护，对我来说另一个好处是我可以在不同的项目中重用代码。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="df59" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">最后的想法…</h2><p id="f5e9" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">回顾别人的项目是一个很好的学习方式，但是看到你过去的项目，注意到你可以做得更好的事情，反映出你已经成长为一个更好的程序员。</p><p id="07db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重访我的第一个项目让我想起了我卑微的出身，我相信每个自学成才的开发人员都会有这种感觉。</p><p id="cd9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个不同类型的博客，我希望你喜欢它。</p><p id="0898" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">如果你喜欢阅读这篇文章，可以考虑使用</strong> <a class="ae kv" href="https://medium.com/@anuragkanoria/membership" rel="noopener"> <strong class="ky ir">我的推荐链接</strong> </a> <strong class="ky ir">，这样你就可以通过点击</strong> <a class="ae kv" href="https://medium.com/@anuragkanoria/membership" rel="noopener"> <strong class="ky ir">这里</strong> </a> <strong class="ky ir">无限制地访问我的博客以及其他作者的博客。</strong></p><p id="4bf0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另外，请查看我最新的关于web开发框架生态系统使用和流行选择的总体展望的博客。</p><div class="nz oa gp gr ob oc"><a rel="noopener  ugc nofollow" target="_blank" href="/why-dont-we-use-other-frameworks-instead-of-react-3fcfaec5604b"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">为什么不用其他框架代替React呢？</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">React到底为什么这么受欢迎？</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ol l"><div class="om l on oo op ol oq kp oc"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="cba2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="or">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="or">说白了就是</em> </strong> </a> <em class="or">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="or">免费周报</em> </strong> </a> <em class="or">。关注我们</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="or">推特</em> </strong> </a> <em class="or">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="or">LinkedIn</em></strong></a><em class="or">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="or">社区不和谐</em> </strong> </a> <em class="or">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="or">人才集体</em> </strong> </a> <em class="or">。</em></p></div></div>    
</body>
</html>