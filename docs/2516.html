<html>
<head>
<title>Responding to the Hate: Stop Using For-Loops, Use Iterators Instead</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">回应仇恨:停止使用For循环，使用迭代器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/responding-to-the-hate-stop-using-for-loops-use-iterators-instead-eb2139c8ce51?source=collection_archive---------5-----------------------#2022-06-13">https://javascript.plainenglish.io/responding-to-the-hate-stop-using-for-loops-use-iterators-instead-eb2139c8ce51?source=collection_archive---------5-----------------------#2022-06-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bf2a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一位评论者在评论中猛烈抨击了我在Medium上表现最好的文章。我会分解为什么我是对的，他们是错的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e0179055184a9012c33c72dfd1075e86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Kxrbllf0GCQzeh4g"/></div></div></figure><p id="f458" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我最近写了一篇文章，标题是<a class="ae ln" href="https://medium.com/javascript-in-plain-english/stop-using-for-loops-use-iterators-instead-javascript-62682c74427d" rel="noopener"> <em class="lo">停止使用For循环，使用迭代器代替</em> </a>。如果你还没有读过，请读一读。在这篇新文章中，我不打算打击任何开发者，因为Medium是一个互相学习的平台。</p><p id="cb83" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我并不完美，我自己也犯了很多错误。我从他们那里学习，相应地编辑和更新我的文章。我对以下内容反应良好:</p><ul class=""><li id="9f38" class="lp lq iq kt b ku kv kx ky la lr le ls li lt lm lu lv lw lx bi translated">建设性的批评</li><li id="dbe8" class="lp lq iq kt b ku ly kx lz la ma le mb li mc lm lu lv lw lx bi translated">写作和编程技巧</li><li id="4542" class="lp lq iq kt b ku ly kx lz la ma le mb li mc lm lu lv lw lx bi translated">我文章中的错误(这样我就可以修复它们)</li></ul><p id="aa5c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我对以下内容反应不佳:</p><ul class=""><li id="c4db" class="lp lq iq kt b ku kv kx ky la lr le ls li lt lm lu lv lw lx bi translated">充满仇恨的评论</li><li id="793d" class="lp lq iq kt b ku ly kx lz la ma le mb li mc lm lu lv lw lx bi translated">抨击我的文章</li><li id="fbfc" class="lp lq iq kt b ku ly kx lz la ma le mb li mc lm lu lv lw lx bi translated">完全错误的信息</li></ul><p id="02b2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不多说了，下面是我对最不正确的评论的回应。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e0179055184a9012c33c72dfd1075e86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Kxrbllf0GCQzeh4g"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk">The comment made by Will K on my Medium article</figcaption></figure><p id="d9ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我想澄清一下，我从来没有在for-loops上拉屎。我一直在我的代码中使用它们。我写的这篇文章只是概述了某些情况(这种情况经常发生),在这些情况下，for循环并不是首选，而且很糟糕。</p><p id="350b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">事实上，每个操作都是一个for循环，但是JavaScript执行起来更有效。唯一的区别是迭代是由JavaScript引擎本地执行的。我也多次提到数组方法使你的代码更容易阅读，因为每个函数的名字都提供了循环的意图。</p><p id="69b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，如果数组是用来存储数字的，就不应该有包含nullish值的数组。是的，循环可以在单个循环中完成多个任务，并提供早期救助。但是你错了。</p><p id="3234" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我编写了一个程序来演示迭代器的强大功能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/e263c198ba2379e45699a0c428fba86f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iOOalUE4LTjbfDbw"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk">Code to time a for-loop vs array prototype function for mapping an array.</figcaption></figure><p id="a53f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">结果应该不会让你吃惊:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/d3d8e906866a605bc8b50be9729d117e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JRHIsucmx-EUeRWXGLtPlg.gif"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/ec1d908a4298025651a4dd51030a9316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zvi7UR0GKlxqZD2g"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk">The results of the timing code – pretty consistent with every trial</figcaption></figure><p id="5ebf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">但是他的另一点呢？</strong>你确实可以更早地跳出for循环。但是您可以对原型函数做同样的事情。在最初的文章中，我介绍了作用于数组中每个元素的<code class="fe mq mr ms mt b">every</code>函数。</p><p id="56cd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想在使用<code class="fe mq mr ms mt b">forEach</code>时提前终止循环，您可以使用<code class="fe mq mr ms mt b">every</code>功能。因为如果结果之一是<code class="fe mq mr ms mt b">false</code>，函数<code class="fe mq mr ms mt b">every</code>返回<code class="fe mq mr ms mt b">false</code>，你应该意识到一旦返回第一个false，它就终止:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/28c0deed267eaa76c1b3a35514bb57dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kRu4fuOS-gZK5wc6"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk">Early bail-out from an array prototype function</figcaption></figure><p id="7346" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是如果你需要同时完成两件事呢？</p><p id="afa9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用<code class="fe mq mr ms mt b">forEach</code>函数来<code class="fe mq mr ms mt b">filter</code>和<code class="fe mq mr ms mt b">map</code>，而不是将一个<code class="fe mq mr ms mt b">filter</code>和<code class="fe mq mr ms mt b">map</code>数组函数链接在一起。或者不要。没关系；无论你选择哪种方式，都将比<code class="fe mq mr ms mt b">for-of</code>循环执行得更快，也更容易阅读。</p><p id="769e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢您的阅读，祝您编码愉快！🍻</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><div class="kg kh ki kj gt mu"><a rel="noopener  ugc nofollow" target="_blank" href="/stop-using-for-loops-use-iterators-instead-javascript-62682c74427d"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">停止使用For循环，改用迭代器</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">For循环不再是JavaScript中迭代数组的最佳方式。相反，使用数组迭代器函数。这里…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni kp mu"/></div></div></a></div><div class="nj nk gp gr nl mu"><a rel="noopener  ugc nofollow" target="_blank" href="/advice-from-a-seasoned-dev-keep-using-the-implicit-else-3e1b7c4695ec"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">来自经验丰富的开发人员的建议:继续使用隐含的Else</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">不要接受媒体上任何人的编程建议。即使是经验丰富的专业人士有时也会给出糟糕的建议…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nd l"><div class="nm l nf ng nh nd ni kp mu"/></div></div></a></div><div class="nj nk gp gr nl mu"><a href="https://medium.com/@thesoggywaffle/no-the-end-of-javascript-is-not-here-776a0c92c501" rel="noopener follow" target="_blank"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">不，JavaScript还没有结束</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">一个媒体作家如何因为自己一无所知的东西而毁掉自己的可信度。揭露谎言。</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">medium.com</p></div></div><div class="nd l"><div class="nn l nf ng nh nd ni kp mu"/></div></div></a></div><p id="51c5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="lo">更多内容看</em> <a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">说白了就是io </em> </strong> </a> <em class="lo">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">免费周报</em> </strong> </a> <em class="lo">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="lo">Twitter</em></strong></a><em class="lo">和</em><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="lo">LinkedIn</em></strong></a><em class="lo">。查看我们的</em> <a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">社区不和谐</em> </strong> </a> <em class="lo">加入我们的</em> <a class="ae ln" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">人才集体</em> </strong> </a> <em class="lo">。</em></p></div></div>    
</body>
</html>