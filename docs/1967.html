<html>
<head>
<title>How to Use the JavaScript forEach() Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript forEach()方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-the-javascript-foreach-method-a9e6f9e9a071?source=collection_archive---------14-----------------------#2022-05-03">https://javascript.plainenglish.io/how-to-use-the-javascript-foreach-method-a9e6f9e9a071?source=collection_archive---------14-----------------------#2022-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0495" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何使用数组帮助器方法forEach()。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/80b829f1a5907eba447e8847ca9ef045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7Xl-A2O1YCxErQgMGQv3w.jpeg"/></div></div></figure><h2 id="0b06" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">数组助手方法</h2><p id="e479" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">JavaScript有一个在ES6中引入的数组助手方法集合。如果您熟悉诸如下划线或Loadash之类的库，那么您可能已经熟悉了这些方法。在ES6中，这些被引入到语言中。数组助手方法帮助我们操作和处理存储在数组中的数据。本文将介绍其中的一种方法forEach()。</p><h2 id="547d" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">forEach()简介</h2><p id="8d00" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">forEach()对数组中的每个元素调用一次函数。该方法接受以下参数:</p><ul class=""><li id="21e4" class="mg mh iq lp b lq mi lt mj la mk le ml li mm mf mn mo mp mq bi translated">将对数组中的每个元素执行的回调函数。</li><li id="ec1a" class="mg mh iq lp b lq mr lt ms la mt le mu li mv mf mn mo mp mq bi translated">当前正在使用的单个元素。</li><li id="8667" class="mg mh iq lp b lq mr lt ms la mt le mu li mv mf mn mo mp mq bi translated">当前元素的索引。</li><li id="aa93" class="mg mh iq lp b lq mr lt ms la mt le mu li mv mf mn mo mp mq bi translated">调用forEach的数组。</li><li id="507f" class="mg mh iq lp b lq mr lt ms la mt le mu li mv mf mn mo mp mq bi translated">thisArg是一个可选参数，允许您在执行回调函数时访问要用作this的值。</li></ul><p id="4e36" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">让我们从使用forEach()的一个非常基本的例子开始。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="38f6" class="kr ks iq na b gy ne nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="9fff" class="kr ks iq na b gy ni nf l ng nh">ourNumbers.forEach(function (number) {<br/>  console.log(number)<br/>});</span><span id="b9cf" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt; <br/>5<br/>4<br/>3<br/>2<br/>1 </span></pre><p id="6cdc" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">在上面的例子中，我们用const声明了一个变量，我们给它赋予了标识符<em class="nj">和编号</em>。然后我们用一个包含一些数字的数组来初始化它。接下来，我们使用forEach()方法。我们在<em class="nj"> ourNumbers </em>数组上调用forEach()。在方法的参数中，我们传递一个匿名函数。我们可以将匿名函数参数命名为我们想要的任何名称，但是它代表的是单个元素。我们把例子中的参数称为<em class="nj">号</em>。在函数体中，我们console.log了<em class="nj">号</em>参数的值。当代码运行时，我们从打印到屏幕上的<em class="nj"> ourNumbers </em>数组中获取每个元素。</p><p id="10be" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">因此，在继续之前，让我们回顾几点。当我们使用forEach()时，该方法接受的回调函数会被使用forEach()方法的数组中的每个元素调用一次。通常，为回调使用匿名函数(传递给方法的函数)是有意义的，因为代码不会被重用。如果我们愿意，我们可以给这个方法传递一个命名函数。让我们看看我们将如何做到这一点。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="cc83" class="kr ks iq na b gy ne nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="e0da" class="kr ks iq na b gy ni nf l ng nh">function printNumber(number) {<br/>  console.log(number);<br/>}</span><span id="8d7f" class="kr ks iq na b gy ni nf l ng nh">ourNumbers.forEach(printNumber);</span><span id="61ed" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt;<br/>5<br/>4<br/>3<br/>2<br/>1</span></pre><p id="42fe" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">在上面的示例中，我们的代码与前面的示例相同，只是这次我们没有使用匿名函数，而是将对该函数的引用传递给forEach()。注意，当你像这样传递函数时，不要用括号。</p><h2 id="7a97" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">循环呢？</h2><p id="d06b" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">通过使用一个循环，我们可以获得与上面例子中相同的结果。我们来对比一些例子。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="39f4" class="kr ks iq na b gy ne nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="085f" class="kr ks iq na b gy ni nf l ng nh">for(let i = 0; i &lt; ourNumbers.length; i++) {<br/> console.log(ourNumbers[i]);<br/>}</span><span id="05c3" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt;<br/>5<br/>4<br/>3<br/>2<br/>1</span><span id="6c2a" class="kr ks iq na b gy ni nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="879e" class="kr ks iq na b gy ni nf l ng nh">for(let nums of ourNumbers) {<br/>  console.log(nums)<br/>}</span><span id="c356" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt;<br/>5<br/>4<br/>3<br/>2<br/>1</span></pre><p id="e320" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">使用for循环和for of循环提供的输出与使用forEach()相同。使用哪种方法的选择实际上取决于您想要实现的目标，但是使用forEach()通常不太容易出错，因为您需要担心的设置较少。经常使用forEach()也更具可读性。</p><h2 id="4f48" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">其他示例</h2><p id="873f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">让我们再看几个使用forEach()的例子。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="d87d" class="kr ks iq na b gy ne nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="8d24" class="kr ks iq na b gy ni nf l ng nh">ourNumbers.forEach(function (number) {<br/>  console.log(number + 1)<br/>});</span><span id="6569" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt; <br/>6<br/>5<br/>4<br/>3<br/>2</span></pre><p id="7a08" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">在上面的例子中，我们使用了相同的数组和设置，但是这次我们给每个元素增加了一个。如果我们想访问元素的索引，我们可以在数字后面传入另一个参数。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="3a11" class="kr ks iq na b gy ne nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="9aa5" class="kr ks iq na b gy ni nf l ng nh">ourNumbers.forEach(function (number, index) {<br/>  console.log(number, index)<br/>});</span><span id="2fa3" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt; <br/>5 0<br/>4 1<br/>3 2<br/>2 3<br/>1 4</span></pre><p id="b657" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">也许我们想得到<em class="nj"> ourNumbers </em>数组的总和。使用forEach()我们可以通过以下示例实现这一点:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="35c0" class="kr ks iq na b gy ne nf l ng nh">const ourNumbers = [5, 4, 3, 2, 1];</span><span id="2f6e" class="kr ks iq na b gy ni nf l ng nh">let sum = 0;</span><span id="fd34" class="kr ks iq na b gy ni nf l ng nh">ourNumbers.forEach(function (number) {<br/>  sum += number;<br/>});</span><span id="8b54" class="kr ks iq na b gy ni nf l ng nh">console.log(sum);<br/>//Returns ---&gt; 15</span></pre><p id="c394" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">在上面的例子中，在我们创建了<em class="nj"> ourNumbers </em>数组之后，我们创建了一个名为<em class="nj"> sum </em>的变量，我们用零值对其进行初始化。我们可以认为这有点像一个追踪器，当每个元素被合计时，它将保存我们的元素的运行总数。在forEach()内部，我们将数字(当前元素)添加到<em class="nj"> sum </em>中。然后我们<code class="fe nk nl nm na b">console.log</code>计算<em class="nj"> sum </em>的总和，这是所有<em class="nj"> ourNumbers </em>数组元素加在一起的总和。</p><h2 id="86fc" class="kr ks iq bd kt ku kv dn kw kx ky dp kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">嵌套数据结构</h2><p id="e7f3" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv la lw lx ly le lz ma mb li mc md me mf ij bi translated">当我们处理嵌套数据时，forEach()特别有用。让我们看一个例子:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="fb60" class="kr ks iq na b gy ne nf l ng nh">const students = [<br/>{<br/>  name: "Anna",<br/>  age: 50<br/>},<br/>{<br/>  name: "Pete",<br/>  age: 20<br/>},<br/>{<br/>  name: "Abby",<br/>  age: 12<br/>  }<br/>];</span><span id="31f6" class="kr ks iq na b gy ni nf l ng nh">students.forEach(function(student) {<br/>  console.log(student.name.toUpperCase())<br/>})</span><span id="a9bc" class="kr ks iq na b gy ni nf l ng nh">//Returns ---&gt;<br/>ANNA<br/>PETE<br/>ABBY</span></pre><p id="3d92" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">在上面的例子中，我们使用一个名为<em class="nj"> students </em>的常量来声明一个变量。我们用一个包含三个对象的数组来初始化它。每个对象包含我们学生的姓名和年龄。然后我们使用forEach()访问每个对象的<em class="nj">名</em>，并使用toUpperCase()方法访问每个<em class="nj">名</em>的<code class="fe nk nl nm na b">console.log</code>名<em class="nj">名</em>。当代码运行时，我们将每个<em class="nj"> name </em>值大写并打印到屏幕上。</p><p id="40a5" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated">我希望你喜欢这篇文章，请随时发表任何意见，问题或反馈，并关注我的更多内容！</p><p id="dcbf" class="pw-post-body-paragraph ln lo iq lp b lq mi jr ls lt mj ju lv la mw lx ly le mx ma mb li my md me mf ij bi translated"><em class="nj">更多内容请看</em><a class="ae nn" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="nj">plain English . io</em></strong></a><em class="nj">。报名参加我们的</em> <a class="ae nn" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="nj">免费每周简讯</em> </strong> </a> <em class="nj">。关注我们</em><a class="ae nn" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="nj">Twitter</em></strong></a><em class="nj">和</em><a class="ae nn" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="nj">LinkedIn</em></strong></a><em class="nj">。加入我们的</em> <a class="ae nn" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="nj">社区不和谐</em> </strong> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>