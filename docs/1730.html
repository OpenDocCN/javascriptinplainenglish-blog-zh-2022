<html>
<head>
<title>10 Common Causes of JavaScript Errors and How to Avoid Them</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript错误的10个常见原因以及如何避免它们</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/10-common-causes-of-javascript-errors-and-how-to-avoid-them-85751c339dda?source=collection_archive---------8-----------------------#2022-04-14">https://javascript.plainenglish.io/10-common-causes-of-javascript-errors-and-how-to-avoid-them-85751c339dda?source=collection_archive---------8-----------------------#2022-04-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8f31" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何避免JavaScript错误的常见原因。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/874e0464058f1bc03472a6329fae4b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZ9ivUoYtjIFBoKH6RKlOg.png"/></div></div></figure><h1 id="f5ab" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">介绍</h1><p id="6e76" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">JavaScript是一种灵活且广受欢迎的网络编程语言。它广泛应用于软件开发行业。不正确的JavaScript代码会导致意想不到的错误，并影响用户体验。</p><p id="4e1b" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在本文中，我们将研究JavaScript错误的10个最常见的原因以及避免它们的实践。我们将了解错误的根本原因，然后寻找纠正错误的方法。</p><h1 id="b043" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">1.缺少括号和括号不匹配</h1><p id="a4ab" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">这是初学者面临的最常见的错误。当程序员缺少括号、圆括号或大括号时，就会出现此错误。</p><p id="b5a2" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">不正确:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="5d09" class="mm kp in mi b gy mn mo l mp mq">if(a==b) &amp;&amp; (b==c){<br/> //do something<br/>}</span></pre><p id="88ac" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">正确:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="47c2" class="mm kp in mi b gy mn mo l mp mq">if((a==b) &amp;&amp; (b==c)){<br/> //do something<br/>}</span></pre><h1 id="78cc" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">2.变量名不正确</h1><p id="8384" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">JavaScript作者最常犯的一个错误是使用保留关键字命名变量。JavaScript包含60多个保留字，不能在程序中用作变量名。</p><p id="d837" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">例如，“in”是JavaScript中的保留字之一，不能用于变量声明。最好使用能很好地解释变量用途的描述性名称。</p><h1 id="8cba" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">3.未捕获的类型错误:无法读取未定义的属性</h1><p id="3d04" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">当对未定义的变量调用函数或读取属性时，会发生未捕获的类型错误。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="897e" class="mm kp in mi b gy mn mo l mp mq">function myFun( obj ){<br/> console.log(obj.val);<br/>}</span><span id="f644" class="mm kp in mi b gy mr mo l mp mq">var temp;<br/>myFun(temp);</span></pre><p id="6196" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这里，temp变量被声明但没有初始化，因此它是未定义的。试图访问未定义变量的val属性会导致错误。</p><p id="0d21" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">人们总是建议在javascript程序中不要有未定义的变量。</p><h1 id="bdcf" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">4.加载页面前的DOM引用</h1><p id="9ae8" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">文档对象模型(DOM)元素在加载之前不应被引用。Javascript代码逐行执行。如果当前行代码的执行没有完成，它不会移动到下一行。</p><p id="4857" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">最佳实践是在定义DOM元素后加载脚本。</p><p id="22fe" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">不正确:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="70a7" class="mm kp in mi b gy mn mo l mp mq">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>&lt;body&gt;<br/>&lt;script&gt;        <br/>document.getElementsByClassName[0]("myDiv").innerHTML = "This will not     work";<br/>     &lt;/script&gt;<br/>     &lt;div class="myDiv"&gt;&lt;/div&gt;<br/>     &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="1d27" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">控制台:</strong></p><p id="923b" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">未捕获的类型错误:无法将属性“innerHTML”设置为NULL</p><p id="d0f7" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">正确:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="113a" class="mm kp in mi b gy mn mo l mp mq">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>&lt;body&gt;<br/>     &lt;div id="myDiv"&gt;&lt;/div&gt;<br/> &lt;script&gt;        <br/>document.getElementsByClassName[0]("myDiv").innerHTML = "This will  work";<br/>     &lt;/script&gt;<br/>     &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="426e" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">5.未定义的方法</h1><p id="f679" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">不先定义方法就调用它是JavaScript错误的另一个典型来源。</p><p id="ca4c" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">示例:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="f367" class="mm kp in mi b gy mn mo l mp mq">var person = {firstName: “John”, lastName: “Doe”,<br/>showName(){<br/>console.log(this.firstName+” “+this.lastName);<br/>}<br/>person.name();</span></pre><p id="f808" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在这个例子中,“name”方法没有在person对象中定义。因此，它会导致错误。</p><h1 id="f4e6" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">6.Return语句使用不当</h1><p id="1bbf" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">JavaScript中的return语句用于停止函数运行，以便输出其值。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="4512" class="mm kp in mi b gy mn mo l mp mq">function multiplyByTwo(n) {    <br/>var res =  n*2;<br/>    return;<br/>    res;<br/>     }<br/>console.log(multiplyByTwo(7));<br/>//This code gives an undefined error.</span></pre><p id="86ca" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这可以通过确保在return语句之前返回特定的值或执行所有必要的操作来解决。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="8087" class="mm kp in mi b gy mn mo l mp mq">function multiplyByTwo(n) {    <br/>var res =  n*2;<br/>    return res;<br/>     }<br/>console.log(multiplyByTwo(7)); // 14</span></pre><h1 id="e4cf" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">7.混淆相等(==，===)和赋值(=)运算符</h1><p id="ead0" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated"><strong class="li io">不正确:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="7e2b" class="mm kp in mi b gy mn mo l mp mq">var name = “John”;<br/>if(name=”Doe”){<br/> console.log(name)  //Doe<br/>}</span></pre><p id="ee28" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这里，名称变量不与<strong class="li io">【Doe】</strong>进行比较，而是将<strong class="li io">【Doe】</strong>赋给名称变量。此外，由于赋值操作总是返回true，所以可用的if块将被执行。</p><p id="f95b" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">正确:</strong></p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="844b" class="mm kp in mi b gy mn mo l mp mq">//Correct way</span><span id="b5cc" class="mm kp in mi b gy mr mo l mp mq">Var name = “John”;<br/>if(name==”Doe”){<br/> console.log(name)  //John<br/>}</span></pre><p id="b46b" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">同样，双<strong class="li io">等于(==) </strong>进行宽松的比较，而三<strong class="li io">等于(===) </strong>进行严格的比较。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="3c8b" class="mm kp in mi b gy mn mo l mp mq">Const val = “15”;<br/>console.log(val == 15); // true<br/>console.log(val === 15);// false</span></pre><p id="16c4" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在上面两种情况下，我们都是在比较一个字符串和一个数字。双倍等于<strong class="li io">运算符(==) </strong>忽略变量的数据类型，而三倍等于<strong class="li io">运算符(===) </strong>也检查两个操作数是否属于相同的数据类型，然后比较值。</p><h1 id="4748" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated"><strong class="ak"> 8。将对象视为原始数据类型</strong></h1><p id="1451" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">与数字、字符串和其他原始数据类型不同，对象是引用数据类型。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="8aa7" class="mm kp in mi b gy mn mo l mp mq">const person1 = {<br/>​​    name: "John",<br/>​​};<br/>​​const person2 = person1;<br/>person2.name = "Doe";<br/>​​console.log(person1.name); //Doe</span></pre><p id="1172" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在将<strong class="li io">人员1 </strong>分配给<strong class="li io">人员2 </strong>时，<strong class="li io">人员2 </strong>开始指向<strong class="li io">人员1 </strong>存储的地址。因此，两个对象都指向内存中的同一个位置，键值的任何更改都会在两个对象中反映出来。</p><p id="c657" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">当我们需要复制对象时，如果我们为新对象创建新的引用，它就会起作用。这可以使用spread操作符<strong class="li io"> (…) </strong>来完成，该操作符接受一个可迭代的<strong class="li io">(这里是object) </strong>，并将其扩展成单独的元素<strong class="li io"> (keys) </strong>。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="826f" class="mm kp in mi b gy mn mo l mp mq">const person1 = {<br/>​​    name: "John",<br/>​​};<br/>​​const person2 = {...person1};<br/>person2.name = "Doe";<br/>​​console.log(person1.name); //John</span></pre><h1 id="dcf7" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">9.函数中不使用默认值</h1><p id="af5e" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在函数的动态变量中设置默认值是一个很好的做法。这有助于防止在传递带有较少参数的函数时出错。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="7959" class="mm kp in mi b gy mn mo l mp mq">function sum(x,y){<br/>return x+y;<br/>}<br/>console.log(sum()); //NaN</span></pre><p id="94b8" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">在上面的例子中，x和y都没有定义。因此，我们得到的不是一个数字(NaN)作为输出。为了防止这种错误，我们可以在函数参数中设置默认值。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="b323" class="mm kp in mi b gy mn mo l mp mq">function sum(x=0, y=0){<br/>return x+y;<br/>}<br/> <br/>console.log(sum()); // 0</span></pre><p id="599e" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">开发人员可以使用相同的方法在缺少预期值的情况下返回错误消息。</p><h1 id="9dcc" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">10.函数中不使用默认值</h1><p id="64ff" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在JavaScript中，这是一个经常被误解的概念。这是引用当前对象的引用关键字。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="6b9c" class="mm kp in mi b gy mn mo l mp mq">const person = {<br/> firstName : "John",<br/>    lastName : "Doe",<br/>    completeName : function (){<br/> console.log(this.firstName+" "+this.lastName);<br/>    },<br/>    showNameAfter3secs : function(){<br/>  setTimeout(function(){<br/>  console.log(this.firstName+" "+this.lastName);<br/>        }, 3000);<br/>}<br/>}<br/> <br/>person.completeName(); // John Doe</span></pre><p id="3af9" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这可以正常工作，因为<strong class="li io">“this”</strong>正确地指向对象的<strong class="li io"> firstName </strong>和<strong class="li io"> lastName </strong>属性。在对象的方法内部，<strong class="li io"> "this" </strong>关键字指的是调用它的对象。</p><p id="aee3" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io">person . shownamafter3s ECS()；//undefined未定义</strong></p><p id="eb43" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这里，<strong class="li io">person . shownamafter3s ECS()</strong>中的<strong class="li io">“this”</strong>指向person对象，而<strong class="li io"> setTimeout </strong>回调函数中的<strong class="li io">“this”</strong>没有指向person对象。一个对象应该调用<strong class="li io"> setTimeout </strong>函数来引用当前对象。</p><p id="522f" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">因为没有对象调用<strong class="li io">setTimeout</strong><strong class="li io">callback</strong>函数，所以使用默认的窗口对象，它不包含firstName和lastName属性，因此，我们在控制台中没有定义。</p><p id="b1a2" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">为了保留这个关键字的引用，我们可以使用arrow <strong class="li io"> functions(ES6) </strong>或者使用apply、bind或call方法。这里，我们将使用箭头函数。</p><pre class="kd ke kf kg gt mh mi mj mk aw ml bi"><span id="ff09" class="mm kp in mi b gy mn mo l mp mq">const person = {<br/> firstName : "John",<br/>     lastName : "Doe",<br/>     completeName : function (){<br/>  console.log(this.firstName+" "+this.lastName);<br/>     },<br/>     showNameAfter3secs : function(){<br/>  setTimeout(()=&gt;{  //arrow function used<br/>  console.log(this.firstName+" "+this.lastName);<br/>          }, 3000);<br/>}<br/>}<br/> <br/>person.showNameAfter3secs();  // John Doe</span></pre></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><p id="11a2" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">从<a class="ae mz" href="https://www.scaler.com/topics/javascript/" rel="noopener ugc nofollow" target="_blank">这里</a>了解更多关于JavaScript的知识。</p><p id="7f08" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">快乐学习！</p></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><p id="4385" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><strong class="li io"> <em class="na">更多内容请看</em> </strong> <a class="ae mz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="na">说白了就是</em> </strong> </a> <strong class="li io"> <em class="na">。报名参加我们的</em> </strong> <a class="ae mz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="na">免费每周简讯</em> </strong> </a> <strong class="li io"> <em class="na">。关注我们关于</em></strong><a class="ae mz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="li io"><em class="na">Twitter</em></strong></a><strong class="li io"><em class="na">和</em></strong><a class="ae mz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="li io"><em class="na">LinkedIn</em></strong><strong class="li io"><em class="na">。加入我们的</em> </strong> </a><a class="ae mz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="li io"> <em class="na">社区不和谐</em> </strong> </a> <strong class="li io"> <em class="na">。</em>T71】</strong></p></div></div>    
</body>
</html>