<html>
<head>
<title>Understanding unique for array children in React.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解React.js中数组子项的唯一性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-the-purpose-of-the-key-prop-in-a-list-of-react-5494a6acbf47?source=collection_archive---------5-----------------------#2022-12-30">https://javascript.plainenglish.io/what-is-the-purpose-of-the-key-prop-in-a-list-of-react-5494a6acbf47?source=collection_archive---------5-----------------------#2022-12-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="de28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在React中，key prop用于惟一地标识组件列表中的元素。为列表中的每个元素提供一个key prop是很重要的，因为它允许React通过识别哪些项已经更改并只更新那些项来优化呈现，而不是重新呈现整个列表。这可以提高应用程序的性能，特别是对于包含大量项目的列表。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/9db31028c108df6b211143cf43c2bcae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ld__owbNoL8WYUIWBGzHdQ@2x.jpeg"/></div></div></figure><p id="baf4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">key prop的值在列表项中应该是唯一的，并且不应该改变。如果可以的话，使用项目的id作为键值通常是一个好主意。如果列表项没有惟一的id，您可以使用列表中项的索引作为键值，但是这通常被认为是一种反模式，因为如果列表顺序改变，它会导致意外的行为。</p><p id="b29b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如何在组件列表中使用key prop的示例:</p><pre class="km kn ko kp gt kx ky kz bn la lb bi"><span id="7cf6" class="lc ld iq ky b be le lf l lg lh">const todoList = [<br/>  { id: 1, task: 'Take out the trash' },<br/>  { id: 2, task: 'Do the dishes' },<br/>  { id: 3, task: 'Do the laundry' }<br/>];<br/><br/>const TodoItem = ({ todo }) =&gt; (<br/>  &lt;li key={todo.id}&gt;<br/>    &lt;input type="checkbox" /&gt;<br/>    {todo.task}<br/>  &lt;/li&gt;<br/>);<br/><br/>const TodoList = ({ todos }) =&gt; (<br/>  &lt;ul&gt;<br/>    {todos.map(todo =&gt; (<br/>      &lt;TodoItem key={todo.id} todo={todo} /&gt;<br/>    ))}<br/>  &lt;/ul&gt;<br/>);<br/></span></pre><p id="ce1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个例子中，我们使用TodoList组件呈现一个todo项目列表。列表中的每个todo项都使用todo item组件呈现，并且key prop被设置为todo项的id。这允许React根据需要正确识别和更新列表中的每个todo项。</p><p id="3595" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">需要注意的是，key prop应该只在组件列表的上下文中使用，而不应该作为一种通用的方法来标识组件。如果您需要以一种与列表无关的方式标识一个组件，那么您应该考虑使用一个惟一的id属性或者一些其他的惟一标识符。</p><p id="c87d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您没有为组件列表中的元素指定key prop，React仍将呈现该列表，但它将无法通过识别哪些项目已更改来优化呈现。这可能会导致性能下降，尤其是对于包含大量项目的列表。</p><p id="abcb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，如果列表顺序发生变化，不指定key prop可能会导致意外的行为，因为React将无法正确识别哪些项目已经移动。这可能导致错误的项目被更新或删除，或者新项目被插入到错误的位置。</p><p id="d925" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="li">更多内容请看</em><a class="ae lj" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="li">plain English . io</em></strong></a><em class="li">。</em></p><p id="0e91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="li">报名参加我们的</em> <a class="ae lj" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="li">免费周报</em> </strong> </a> <em class="li">。关注我们上</em> <a class="ae lj" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="li">推特</em> </strong> </a>，<a class="ae lj" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="li">领英</em> </strong> </a> <strong class="jp ir"> <em class="li">，</em></strong><a class="ae lj" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="li">YouTube</em></strong></a><strong class="jp ir"><em class="li">，以及</em></strong><em class="li"/><a class="ae lj" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="li">不和</em> </strong> </a>T47】</p><p id="c50a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="li">想看看你的软件启动规模</em> </strong> <em class="li">？检查</em> <a class="ae lj" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="li">电路</em> </strong> </a> <em class="li">。</em></p></div></div>    
</body>
</html>