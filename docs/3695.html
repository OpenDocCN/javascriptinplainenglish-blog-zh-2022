<html>
<head>
<title>Debounce and Throttle — Unboxing JavaScript Performance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">去抖和节流——取消JavaScript性能装箱</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/debounce-and-throttle-unboxing-js-perf-495fb7c7c214?source=collection_archive---------4-----------------------#2022-09-18">https://javascript.plainenglish.io/debounce-and-throttle-unboxing-js-perf-495fb7c7c214?source=collection_archive---------4-----------------------#2022-09-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e2dc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">解释JavaScript中的去抖动和节流。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/3d8ea3041392098e588470f00e298be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8J5H-G0sc7Yu9CNViqlteg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">debouncing and throttling — weekendtutorial.com</figcaption></figure><p id="0eff" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果你是一个前端开发人员，你必须通过事件处理器处理各种事件，如按钮点击、表单提交和窗口滚动事件等。</p><p id="f07e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">有些事件是轻量级的，不会干扰UX行为，但有些正好相反，例如，<em class="lo">强烈建议不要在窗口滚动事件或调整大小事件上附加任何事件处理程序。</em></p><p id="57df" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">原因是与其他事件相比，取决于浏览器和设备，滚动事件可以触发很多次，这将大量的<em class="lo">滚动回调</em>放入回调队列和调用堆栈。因此，页面变得无响应且不可滚动。</p><p id="2a28" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">解决上述问题的两种广为人知的技术是—</p><ol class=""><li id="cbbd" class="lp lq in ku b kv kw ky kz lb lr lf ls lj lt ln lu lv lw lx bi translated">去抖动</li><li id="ab1b" class="lp lq in ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">节流</li></ol></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h2 id="bbe7" class="mk ml in bd mm mn mo dn mp mq mr dp ms lb mt mu mv lf mw mx my lj mz na nb nc bi translated">去抖—</h2><p id="6bcd" class="pw-post-body-paragraph ks kt in ku b kv nd jo kx ky ne jr la lb nf ld le lf ng lh li lj nh ll lm ln ig bi translated">去抖技术可以通过定时器来理解。按下按钮时，计时器开始计时。如果在定时器到期前再次按下按钮，定时器将复位。这确保了按钮在每个去抖周期只能被记录为按下一次。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ni"><img src="../Images/f22ab26b13f5d31de559a7896eb09615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kGA4cm03j8Ae1MO2huvO3Q.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">debounce</figcaption></figure><p id="4b87" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">再举一个例子，<strong class="ku io"> <em class="lo">电梯</em> </strong></p><p id="009e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">想象你在一部电梯里，电梯门即将关闭。但是，就在另一个人进来之前，电梯门再次打开。现在它等待另一个人一段特定的时间，如果没有人来，门就关闭。因此，我们看到新调用的计时器重置，并将多个连续调用“组合”成一个调用。</p><p id="6ae1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">其他使用案例—</p><ol class=""><li id="27bf" class="lp lq in ku b kv kw ky kz lb lr lf ls lj lt ln lu lv lw lx bi translated">SearchBar —不想在用户每次按键时都进行搜索？希望在用户停止输入1秒后进行搜索。按键时使用<code class="fe nj nk nl nm b">debounce</code> 1秒。</li><li id="1098" class="lp lq in ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">自动完成功能</li><li id="58db" class="lp lq in ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">自动保存用户输入</li><li id="9533" class="lp lq in ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">点击进行API调用的按钮</li></ol><p id="14a4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">您可以查看代码:</p><p id="7c86" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">创建index.html文件-</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">index.html</figcaption></figure><p id="8206" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">还有debounce.js —</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">debounce.js</figcaption></figure><p id="d646" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">如果您检查控制台，您会发现事件处理程序调用的次数远远小于实际的输入大小。这就是巨大的性能提升！</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h2 id="e5bd" class="mk ml in bd mm mn mo dn mp mq mr dp ms lb mt mu mv lf mw mx my lj mz na nb nc bi translated">节流—</h2><p id="7947" class="pw-post-body-paragraph ks kt in ku b kv nd jo kx ky ne jr la lb nf ld le lf ng lh li lj nh ll lm ln ig bi translated">计数器可以理解节流技术。当按下按钮时，计数器增加。现在，直到计数器达到某个阈值，所有的按钮按下都被忽略。这限制了在给定时间段内按钮被注册为按下的次数。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi np"><img src="../Images/c300fc4bb994b70978fd4796f2e82343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YmLmoHZbQBe0lLCGhWZPFg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Throttle</figcaption></figure><p id="ea94" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">其他使用案例—</p><ol class=""><li id="3c6d" class="lp lq in ku b kv kw ky kz lb lr lf ls lj lt ln lu lv lw lx bi translated">射击游戏——手枪每次射击间隔1秒，但用户需要多次点击鼠标。点击鼠标时使用<code class="fe nj nk nl nm b">throttle</code>。</li><li id="2b22" class="lp lq in ku b kv ly ky lz lb ma lf mb lj mc ln lu lv lw lx bi translated">无限滚动</li></ol><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nn no l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">throttle.js</figcaption></figure><p id="db96" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">同样，按钮处理程序将在每500毫秒调用一次，该窗口中的所有按钮点击都将被忽略。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="6a66" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们已经看到了使用去抖和节流的性能优势，基于您的用例，您可以在您的代码库中使用它。</p><p id="085c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io"> <em class="lo">注:</em> </strong></p><p id="e37b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">下划线</strong>和<strong class="ku io"> Lodash.js </strong>库也有去抖和节流方法，你也可以检查一下。</p><p id="5030" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">请阅读我博客上的其他文章【https://weekendtutorial.com/ T4】</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="46b6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="lo">更多内容看</em> <a class="ae nq" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="lo">说白了就是io </em> </strong> </a> <em class="lo">。报名参加我们的</em> <a class="ae nq" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="lo">免费周报</em> </strong> </a> <em class="lo">。关注我们关于</em> <a class="ae nq" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="lo">推特</em> </strong> </a>，<a class="ae nq" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="lo">领英</em> </strong> </a> <em class="lo">，</em><a class="ae nq" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">YouTube</em></strong></a><em class="lo"/><a class="ae nq" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">不和</em> </strong> </a> <em class="lo">。对增长黑客感兴趣？检查</em> <a class="ae nq" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="lo">电路</em> </strong> </a> <em class="lo">。</em></p></div></div>    
</body>
</html>