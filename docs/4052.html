<html>
<head>
<title>How to Pass Props from Child Component to Parent in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中将道具从子组件传递到父组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-pass-props-from-child-component-to-parent-in-react-be573b22f8ac?source=collection_archive---------11-----------------------#2022-10-20">https://javascript.plainenglish.io/how-to-pass-props-from-child-component-to-parent-in-react-be573b22f8ac?source=collection_archive---------11-----------------------#2022-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f99870e80b6ded92f9ed3ae1473a32aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1EdVtSxh-VKOykTs"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lautaro Andreani</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="161b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">是的，有可能！一个快速的谷歌搜索可能会给你混合的结果，但是从2022年开始，有一个干净、简单的方法可以使用回调来做到这一点。</p><p id="199d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有理由避免这样做，因为React旨在以一种数据从父节点流向子节点的方式进行设置，以避免多次重新渲染。一个更好的解决方案会涉及到上下文，但是如果你的需求很简单并且需要很快完成，这就是你实现它的方式。</p><h1 id="b787" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤1-设置一个状态和一个函数来获取父组件中的属性</h1><p id="7105" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">设置一个从子组件获取道具的函数。在我的例子中，道具将是一个选定的“最喜爱的动物”。该选择将在子组件中进行，然后其值将传递给父组件。</p><p id="33b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设置状态:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="8bdc" class="mn lc iq mj b gy mo mp l mq mr">const [favoriteAnimal, setFavoriteAnimal] = useState();</span></pre><p id="2cf9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，如果您还没有导入useState，请确保导入它。</p><p id="7b0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的函数看起来会像这样:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7d24" class="mn lc iq mj b gy mo mp l mq mr">function passAnimal(data) {</span><span id="b045" class="mn lc iq mj b gy ms mp l mq mr">setFavoriteAnimal(data);</span><span id="e8e8" class="mn lc iq mj b gy ms mp l mq mr">}</span></pre><h1 id="7bc8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">2.在子组件中设置状态和调用函数</h1><p id="4d8a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">与上一步相同，我已经在子组件中添加了一个状态(只是给它一个默认值):</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="17ad" class="mn lc iq mj b gy mo mp l mq mr">const [animal, setAnimal] = useState("cat");</span></pre><p id="8dc6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我还需要调用我的函数</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="7f7a" class="mn lc iq mj b gy mo mp l mq mr">passAnimal(animal);</span></pre><p id="0cad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里使用了我的动物变量，这样它就可以传递给我的父组件。如果您还没有添加useState，请确保添加它，并将该函数作为一个prop传递，这样您的组件导出看起来就像这样:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="bb82" class="mn lc iq mj b gy mo mp l mq mr">export default function Child({ passAnimal }) {<br/>...</span></pre><p id="e018" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了这个例子，我还设置了一些无线电输入来选择动物。这里有一个例子:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="c4c9" class="mn lc iq mj b gy mo mp l mq mr">&lt;input type="radio" name="favoriteAnimal" value="cat" checked={animal === "cat"} defaultChecked={true} onChange={() =&gt; setAnimal("cat")} /&gt;</span><span id="10d7" class="mn lc iq mj b gy ms mp l mq mr">&lt;span&gt;Cat{" "}&lt;span role="img" aria-label="cat"&gt;🐈&lt;/span&gt;&lt;/span&gt;</span></pre><h1 id="e446" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤3调用子组件时，将函数作为父组件中的传递</h1><p id="59bd" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">当您调用您的子组件时，请确保将您的函数作为道具传递。这将看起来像这样:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="69d3" class="mn lc iq mj b gy mo mp l mq mr">&lt;Child passAnimal={passAnimal} /&gt;</span></pre><p id="bcff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就是这样！您应该在父组件的子组件中选择您的道具。</p><p id="8420" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此处Codesandbox示例:<a class="ae kc" href="https://codesandbox.io/s/passing-props-from-child-to-parent-component-sxr3b7?file=/src/components/App.js" rel="noopener ugc nofollow" target="_blank">https://code sandbox . io/s/passing-props-from-child-to-parent-component-sxr3b 7？file=/src/components/App.js </a></p><p id="8fc7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望这对你有帮助。编码快乐！</p><p id="c0ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mt">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mt">plain English . io</em></strong></a><em class="mt">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mt">免费周报</em> </strong> </a> <em class="mt">。关注我们关于</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mt">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mt">LinkedIn</em></strong></a><strong class="kf ir"><em class="mt"/></strong><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mt">YouTube</em></strong></a><strong class="kf ir"><em class="mt">，以及</em></strong><em class="mt"/><a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mt">不和</em> </strong> </a>T55】</p></div></div>    
</body>
</html>