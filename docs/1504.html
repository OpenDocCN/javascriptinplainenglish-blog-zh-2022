<html>
<head>
<title>Build an Online Course with React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React构建在线课程</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-an-online-course-with-react-4cb417d82c79?source=collection_archive---------11-----------------------#2022-03-29">https://javascript.plainenglish.io/build-an-online-course-with-react-4cb417d82c79?source=collection_archive---------11-----------------------#2022-03-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/c3a8d9f5b04bf21978959e50761cb4cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q9xGhRrPWcWUbkk_dWYkyw.png"/></div></div></figure><p id="e051" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">分享你的知识的一个好方法是在线课程。我们可以构建自己的课程，这样我们就可以按照自己喜欢的方式设计和制作UX，而不是拘泥于知名课程平台提供的枯燥、呆板的课程页面。</p><p id="88da" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我将向您展示如何使用React创建单页应用程序课程网站。这些功能将包括基于markdown的内容、嵌入式Vimeo视频和课程导航。</p><p id="15ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将使这成为一个静态的网站，所以你不需要后端。以下是主页、课程页面和课程页面的外观:</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0da33a73e51f535b80463fe009289a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PPVBIlLNfCMoVvNU.png"/></div></div></figure><p id="fffc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程的最后，我还将向您展示如何(可选地)注册学生，以便您可以跟踪学生的进度并保护课程内容，从而使您的课程盈利。对于这一部分，我们将集成<a class="ae kx" href="https://coursekit.dev" rel="noopener ugc nofollow" target="_blank"> CourseKit </a>，这是一个用于托管在线课程的无头API(声明:我是创始人)。</p><p id="d4b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">您可以在这里</strong>  <strong class="jx io">查看成品的demo，在这里</strong>  <strong class="jx io">获取源代码</strong> <a class="ae kx" href="https://github.com/anthonygore/react-course" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="eb39" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用Create React应用程序设置</h1><p id="50a2" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">让我们继续使用<a class="ae kx" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank"> Create React App </a>建立我们的单页应用程序课程网站。</p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="d5e2" class="mg kz in mc b gy mh mi l mj mk">$ npx create-react-app react-course <br/>$ cd react-course</span></pre><p id="cc68" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还需要<a class="ae kx" href="https://reactrouter.com/" rel="noopener ugc nofollow" target="_blank"> React路由器</a>来设置课程页面。</p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="e276" class="mg kz in mc b gy mh mi l mj mk">$ npm install --save react-router-dom</span></pre><p id="7669" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，让我们启动开发服务器并开始构建！</p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="832b" class="mg kz in mc b gy mh mi l mj mk">$ npm start</span></pre><h1 id="05d9" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">配置路由器并创建页面</h1><p id="9784" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我们的课程应用程序将有三个页面:</p><ul class=""><li id="c9ce" class="ml mm in jx b jy jz kc kd kg mn kk mo ko mp ks mq mr ms mt bi translated">一个显示可用课程的主页。</li><li id="13b1" class="ml mm in jx b jy mu kc mv kg mw kk mx ko my ks mq mr ms mt bi translated">一个<strong class="jx io">课程页面</strong>，将显示特定课程及其课程的信息。这将有一个动态路线<code class="fe mz na nb mc b">/courses/:courseId</code>。</li><li id="a894" class="ml mm in jx b jy mu kc mv kg mw kk mx ko my ks mq mr ms mt bi translated">显示特定课程的第一页。这样就会有一条动态路线<code class="fe mz na nb mc b">/courses/:courseId/lessons/:lessonId</code>。</li></ul><p id="4c62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为我们使用React Router，所以我们将为每个页面创建一个组件。让我们把这些放到目录中，<em class="nc"> src/pages </em>。</p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="8a65" class="mg kz in mc b gy mh mi l mj mk">$ mkdir src/pages<br/>$ touch src/pages/Home.js<br/>$ touch src/pages/Course.js<br/>$ touch src/pages/Lesson.js</span></pre><h1 id="a260" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将路由器添加到项目</h1><p id="4477" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我们现在需要编辑<em class="nc"> src/index.js </em>，并用<code class="fe mz na nb mc b">BrowserRouter</code>包装我们的主<code class="fe mz na nb mc b">App</code>组件，这样路由器就可以工作了。</p><p id="157e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/index.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="6715" class="mg kz in mc b gy mh mi l mj mk">import React from 'react'<br/>import ReactDOM from 'react-dom'<br/>import App from './App'<br/>import { BrowserRouter } from "react-router-dom"<br/>import './index.css'</span><span id="2112" class="mg kz in mc b gy nd mi l mj mk">ReactDOM.render(<br/>  &lt;BrowserRouter&gt;<br/>    &lt;App /&gt;<br/>  &lt;/BrowserRouter&gt;,<br/>  document.getElementById('root')<br/>)</span></pre><h1 id="eb96" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">将页面添加到应用程序组件</h1><p id="a9bc" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我们现在将转到<code class="fe mz na nb mc b">App</code>组件并清除内容。然后，我们将使用上面声明的三个路由和页面创建自己的模板。</p><p id="74b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/app.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="c5fe" class="mg kz in mc b gy mh mi l mj mk">import { Routes, Route } from 'react-router-dom'<br/>import Home from './pages/Home'<br/>import Course from './pages/Course'<br/>import Lesson from './pages/Lesson'<br/><br/>function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;main&gt;<br/>        &lt;Routes&gt;<br/>          &lt;Route<br/>            path="/" <br/>            element={&lt;Home /&gt;} <br/>          /&gt;<br/>          &lt;Route<br/>            path="/courses/:courseId" <br/>            element={&lt;Course /&gt;}<br/>          /&gt;<br/>          &lt;Route<br/>            path="/courses/:courseId/lessons/:lessonId"<br/>            element={&lt;Lesson /&gt;}<br/>          /&gt;<br/>        &lt;/Routes&gt;<br/>      &lt;/main&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export default App</span></pre><p id="8083" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，我们已经建立了课程应用程序的页面结构。</p><h1 id="8900" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建课程数据文件</h1><p id="1b66" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">因为我们没有使用后端API，所以我们的课程数据将存储在一个嵌套的JavaScript数组中。这个数组将用于填充我们的应用程序的内容。</p><p id="40e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该数组将由带有<code class="fe mz na nb mc b">id</code>、<code class="fe mz na nb mc b">title</code>、<code class="fe mz na nb mc b">description</code>的课程对象和课程对象的子数组组成。</p><p id="a605" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">课程对象将有一个<code class="fe mz na nb mc b">id</code>、<code class="fe mz na nb mc b">title</code>和<code class="fe mz na nb mc b">description</code>，还将包括一个<code class="fe mz na nb mc b">vimeoId</code>，它将是课程视频的ID(这将在下面解释)。</p><blockquote class="ne nf ng"><p id="5cbf" class="jv jw nc jx b jy jz ka kb kc kd ke kf nh kh ki kj ni kl km kn nj kp kq kr ks ig bi translated"><em class="in">提示:确保您的id是唯一且连续的。</em></p></blockquote><p id="130c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/courses.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="ed6d" class="mg kz in mc b gy mh mi l mj mk">const courses = [<br/>  {<br/>    id: 1,<br/>    title: "Photography for Beginners",<br/>    description: "Phasellus ac tellus tincidunt...",<br/>    lessons: [<br/>      {<br/>        id: 1,<br/>        title: "Welcome to the course",<br/>        description: "Lorem ipsum dolor sit amet...",<br/>        vimeoId: 76979871<br/>      },<br/>      {<br/>        id: 2,<br/>        title: "How does a camera work?",<br/>        description: "Lorem ipsum dolor sit amet...",<br/>        vimeoId: 76979871<br/>      },<br/>      ...<br/>    ]<br/>  },<br/>  {<br/>    id: 2,<br/>    title: "Advanced Photography",<br/>    description: "Cras ut sem eu ligula luctus ornare quis nec arcu.",<br/>    lessons: [<br/>      ...<br/>    ]<br/>  },<br/>  ...<br/>]<br/><br/>export default courses</span></pre><h1 id="7e17" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建主页</h1><p id="fff2" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">让我们现在开始构建我们的页面，从主页开始。我们将首先从刚刚创建的模块中导入<code class="fe mz na nb mc b">courses</code>数组。</p><p id="1fbb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在组件模板中，我们将映射数组并将数据传递到一个新的组件<code class="fe mz na nb mc b">CourseSummary</code>。</p><p id="2acf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Home.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="04e0" class="mg kz in mc b gy mh mi l mj mk">import courses from '../courses'<br/>import CourseSummary from '../components/CourseSummary'<br/><br/>function Home() {<br/>  return (<br/>    &lt;div className="Home page"&gt;<br/>      &lt;header&gt;<br/>        &lt;h1&gt;React Online Course Site&lt;/h1&gt;<br/>      &lt;/header&gt;<br/>      {courses.map((course) =&gt; (<br/>        &lt;CourseSummary course={course} key={course.id} /&gt;<br/>      ))}<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export default Home</span></pre><h1 id="2cf6" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">课程摘要组件</h1><p id="00a3" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">该组件将显示每个课程的标题和描述，并将提供一个课程链接，允许用户选择他们想要参加的课程。我们通过props传递课程信息。</p><p id="e9cd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">src/components/course summary . js</em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="cd2c" class="mg kz in mc b gy mh mi l mj mk">import { Link } from 'react-router-dom'<br/><br/>function CourseSummary(props) {<br/>  return (<br/>    &lt;section key={props.course.id} className="summary"&gt;<br/>      &lt;div&gt;<br/>        &lt;div className="title"&gt;<br/>          &lt;h2&gt;<br/>            &lt;Link<br/>              className="no-underline cursor-pointer"<br/>              to={'/courses/' + props.course.id}<br/>            &gt;<br/>              {props.course.title}<br/>            &lt;/Link&gt;<br/>          &lt;/h2&gt;<br/>        &lt;/div&gt;<br/>        &lt;p&gt;<br/>          &lt;Link<br/>            className="no-underline cursor-pointer"<br/>            to={'/courses/' + props.course.id}<br/>          &gt;<br/>            {props.course.description}<br/>          &lt;/Link&gt;<br/>        &lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/section&gt;<br/>  )<br/>}<br/><br/>export default CourseSummary</span></pre><p id="cb80" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，一旦添加了一点CSS，这就是我们的主页的样子(为了简洁，我不会在这里展示，但是你可以在<a class="ae kx" href="https://github.com/anthonygore/react-course" rel="noopener ugc nofollow" target="_blank">源代码</a>中看到它)。).</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/cb426f3205d97da741c549b6d268cc39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jX_O-GNcZyW1KvM1.png"/></div></div></figure><h1 id="945d" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建课程页面</h1><p id="fe7e" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我们将创建的下一个页面是课程页面。注意页面路径<code class="fe mz na nb mc b">/courses/:courseId</code>有一个课程ID的动态段，这是我们如何知道要显示哪个课程的数据。</p><p id="c2df" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们使用React路由器的<code class="fe mz na nb mc b">useParams</code>钩子在运行时提取动态段。</p><p id="c64a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Course.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="f6b0" class="mg kz in mc b gy mh mi l mj mk">import { useParams } from 'react-router-dom'<br/><br/>function Course() {<br/>  let { courseId } = useParams()<br/>  console.log(courseId) // 1<br/>}<br/><br/>export default Course</span></pre><p id="0068" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们可以使用ID通过数组<code class="fe mz na nb mc b">find</code>从课程数据中获取相关的课程数据。</p><blockquote class="ne nf ng"><p id="133d" class="jv jw nc jx b jy jz ka kb kc kd ke kf nh kh ki kj ni kl km kn nj kp kq kr ks ig bi translated">提示:如果find返回null，你应该显示一个404页面。</p></blockquote><p id="ca58" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Course.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="2337" class="mg kz in mc b gy mh mi l mj mk">import { useParams } from 'react-router-dom'<br/>import courses from '../courses'<br/><br/>function Course() {<br/>  const { courseId } = useParams()<br/>  const course = courses.find(course =&gt; course.id === courseId)<br/>}<br/><br/>export default Course</span></pre><p id="5abc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们现在可以为课程定义一个模板。页眉将在页面顶部包含一个面包屑和课程的详细信息，包括标题和描述。</p><p id="10c4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，我们将链接到第一课的文本“开始课程”。我们还将显示课程中包含的课程摘要，这些课程是通过映射到<code class="fe mz na nb mc b">lessons</code>子属性并将数据传递给另一个组件<code class="fe mz na nb mc b">LessonSummary</code>而创建的。</p><p id="e927" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Course.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="ff9d" class="mg kz in mc b gy mh mi l mj mk">import { useParams } from 'react-router-dom'<br/>import LessonSummary from '../components/LessonSummary'<br/>import { Link } from 'react-router-dom'<br/>import courses from '../courses'<br/><br/>function Course() {<br/>  const { courseId } = useParams()<br/>  const course = courses.find(course =&gt; course.id === parseInt(courseId))<br/>  return (<br/>    &lt;div className="Course page"&gt;<br/>      &lt;header&gt;<br/>        &lt;p&gt;<br/>          &lt;Link to={'/'}&gt;Back to courses&lt;/Link&gt;<br/>        &lt;/p&gt;<br/>        &lt;h1&gt;{course.title}&lt;/h1&gt;<br/>        &lt;p&gt;{course.description}&lt;/p&gt;<br/>        &lt;Link <br/>          className="button primary icon" <br/>          to={`/courses/${courseId}/lessons/${course.lessons[0].id}`}<br/>        &gt;<br/>          Start course<br/>        &lt;/Link&gt;<br/>      &lt;/header&gt;<br/>      &lt;div&gt;<br/>        {course.lessons.map((lesson, index) =&gt; (<br/>          &lt;LessonSummary<br/>            courseId={courseId}<br/>            lesson={lesson}<br/>            num={index + 1}<br/>            key={lesson.id}<br/>          /&gt;<br/>        ))}<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export default Course</span></pre><h1 id="fe02" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">LessonSummary组件</h1><p id="7f3f" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">类似于<code class="fe mz na nb mc b">CourseSummary</code>组件，这个组件将接收带有课程数据的道具，这些道具可用于显示标题和描述作为可点击的链接。这将允许用户直接导航到课程。</p><p id="3e2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">src/components/lessonsummary . js</em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="9b98" class="mg kz in mc b gy mh mi l mj mk">import { Link } from 'react-router-dom'<br/><br/>function LessonSummary(props) {<br/>  return (<br/>    &lt;section key={props.lesson.id} className="summary"&gt;<br/>      &lt;div&gt;<br/>        &lt;div className="title"&gt;<br/>          &lt;h2&gt;<br/>            &lt;Link<br/>              className="no-underline cursor-pointer"<br/>              to={'/courses/' + props.courseId + '/lessons/' + props.lesson.id}<br/>            &gt;<br/>              {props.num}. {props.lesson.title}<br/>            &lt;/Link&gt;<br/>          &lt;/h2&gt;<br/>        &lt;/div&gt;<br/>        &lt;p&gt;<br/>          &lt;Link<br/>            className="no-underline cursor-pointer"<br/>            to={'/courses/' + props.courseId + '/lessons/' + props.lesson.id}<br/>          &gt;<br/>            {props.lesson.description}<br/>          &lt;/Link&gt;<br/>        &lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/section&gt;<br/>  )<br/>}<br/><br/>export default LessonSummary</span></pre><p id="5b30" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，课程页面将会是这样的:</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nl"><img src="../Images/b9b86a933b897d10b5e80b2e99aa2e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YWMNWeO6UMlmAcBz.png"/></div></div></figure><h1 id="8218" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">创建课程页面</h1><p id="f1c2" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">与课程页面类似，课程页面在URL中包含动态段。这一次，我们有了一个<code class="fe mz na nb mc b">courseId</code>和<code class="fe mz na nb mc b">lessonId</code>，允许我们使用数组查找来检索正确的课程和课程对象。</p><p id="d761" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Lesson.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="31e0" class="mg kz in mc b gy mh mi l mj mk">import { useParams } from 'react-router-dom'<br/>import courses from '../courses'<br/><br/>function Lesson() {<br/>  const { courseId, lessonId } = useParams()<br/>  const course = courses.find(course =&gt; course.id === parseInt(courseId))<br/>  const lesson = course.lessons.find(lesson =&gt; lesson.id === parseInt(lessonId))<br/>}<br/><br/>export default Lesson</span></pre><h1 id="623c" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">Vimeo嵌入</h1><p id="72d4" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">每节课都有相关的视频。在这个演示中，我们将使用一个<a class="ae kx" href="https://vimeo.com/" rel="noopener ugc nofollow" target="_blank"> Vimeo </a>视频，尽管你可以使用任何允许嵌入你自己网站的视频服务。</p><p id="7744" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您需要做的就是在视频上传后获取其ID，并将其添加到课程数据模块中。ID通常是一个类似<code class="fe mz na nb mc b">76979871</code>的数字。</p><p id="eb02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在运行时，我们将嵌入一个Vimeo视频播放器，并使用其ID加载视频。为此，让我们安装<a class="ae kx" href="https://github.com/u-wave/react-vimeo" rel="noopener ugc nofollow" target="_blank">反应Vimeo </a>组件。</p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="3e18" class="mg kz in mc b gy mh mi l mj mk">$ npm i -S @u-wave/react-vimeo</span></pre><h1 id="8edd" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">课程页面组件</h1><p id="716c" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">现在让我们为课程页面组件创建一个模板。像课程页面一样，我们将在模板顶部提供面包屑和课程标题。</p><p id="873c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后我们将使用<code class="fe mz na nb mc b">Vimeo</code>组件，并从我们的数据中给它传递一个带有vimeo ID的属性<code class="fe mz na nb mc b">video</code>。</p><p id="6e6c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Lesson.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="ccaf" class="mg kz in mc b gy mh mi l mj mk">import { Link, useParams } from 'react-router-dom'<br/>import Vimeo from '@u-wave/react-vimeo'<br/>import courses from '../courses'<br/><br/>function Lesson() {<br/>  const { courseId, lessonId } = useParams()<br/>  const course = courses.find(course =&gt; course.id === parseInt(courseId))<br/>  const lesson = course.lessons.find(lesson =&gt; lesson.id === parseInt(lessonId))<br/>  return (<br/>    &lt;div className="Lesson page"&gt;<br/>      &lt;header&gt;<br/>        &lt;p&gt;<br/>          &lt;Link to={'/courses/' + course.id}&gt;Back to {course.title}&lt;/Link&gt;<br/>        &lt;/p&gt;<br/>        &lt;h1&gt;{lesson.title}&lt;/h1&gt;<br/>      &lt;/header&gt;<br/>      &lt;div className="Content"&gt;<br/>        &lt;Vimeo video={lesson.vimeoId} responsive /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export default Lesson</span></pre><h1 id="2715" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">完成并继续按钮</h1><p id="ff1f" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">我们将添加到课程页面的最后一个东西是一个<em class="nc">完成并继续</em>按钮。这允许用户在观看完视频后导航到下一课。</p><p id="7592" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们创建一个名为<code class="fe mz na nb mc b">CompleteAndContinueButton</code>的新组件。这将使用React Router的<code class="fe mz na nb mc b">useNavigate</code>钩子导航到下一课(其ID作为道具传入)。</p><p id="c01c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">src/components/completeandcontinuebutton . js</em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="1a20" class="mg kz in mc b gy mh mi l mj mk">import { useNavigate } from 'react-router-dom'<br/><br/>function CompleteAndContinueButton(props) {<br/>  const navigate = useNavigate()<br/>  function completeAndContinue () {<br/>    navigate(`/courses/${props.courseId}/lessons/${props.lessonId}`)<br/>  }<br/>  return (<br/>    &lt;button className="button primary" onClick={completeAndContinue}&gt;<br/>      Complete and continue<br/>    &lt;/button&gt;<br/>  )<br/>}<br/><br/>export default CompleteAndContinueButton</span></pre><p id="23fc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将把这个组件直接添加到课程页面模板中的<code class="fe mz na nb mc b">Vimeo</code>组件下。请注意，我们需要获取下一课的ID，并将其作为道具传递。我们将创建一个函数<code class="fe mz na nb mc b">nextLessonId()</code>来找到它。</p><p id="d864" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc"> src/pages/Lesson.js </em></p><pre class="kt ku kv kw gt mb mc md me aw mf bi"><span id="9f1a" class="mg kz in mc b gy mh mi l mj mk">import { Link, useParams } from 'react-router-dom'<br/>import Vimeo from '@u-wave/react-vimeo'<br/>import courses from '../courses'<br/>import CompleteAndContinueButton from '../components/CompleteAndContinueButtons'<br/><br/>function Lesson() {<br/>  ...<br/>  const nextLessonId = () =&gt; {<br/>    const currentIndex = course.lessons.indexOf(lesson)<br/>    const nextIndex = (currentIndex + 1) % course.lessons.length<br/>    return course.lessons[nextIndex].id<br/>  }<br/>  return (<br/>    &lt;div className="Lesson page"&gt;<br/>      &lt;header&gt;...&lt;/header&gt;<br/>      &lt;div className="Content"&gt;<br/>        &lt;Vimeo video={lesson.vimeoId} responsive /&gt;<br/>        &lt;CompleteAndContinueButton <br/>          courseId={courseId}<br/>          lessonId={nextLessonId()}<br/>        /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>export default Lesson</span></pre><p id="c3d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">完成后，这就是我们的课程页面的样子。当然，视频是可以播放的，学生可以在看完之后浏览下一课。</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/ff27d04b43d4a0269a040c444c2ca11c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mRKaXPKlvsrPg2NI.png"/></div></div></figure><h1 id="2683" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">添加学生注册</h1><p id="5572" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">现在，我们的应用程序具有课程的基本功能:学生可以选择课程，选择课程，并观看视频。</p><p id="0a77" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，在线课程还有其他重要的方面我们没有包括在内。</p><p id="f579" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先是个性化。学生希望能够跟踪他们已经完成的课程，以防他们没有一次完成课程。</p><p id="ab06" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">其次，我们可能想保护我们的内容，只有付费学生才能看到。这样我们就可以将我们的课程货币化。</p><p id="b8b5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这两个功能都需要一个允许学生注册的认证系统，这样我们就知道他们购买了哪些课程，完成了哪些课程。</p><h1 id="3884" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">课程工具包</h1><p id="82b1" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">创建课程后端是一项艰巨的任务。另一种选择是使用<a class="ae kx" href="https://coursekit.dev" rel="noopener ugc nofollow" target="_blank"> CourseKit </a>，这是一个用于在线课程的无头API，我们可以很容易地将它插入到我们创建的应用程序中。</p><p id="4448" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">CourseKit旨在提供我们的应用程序中所缺少的功能:学生管理和基于角色的内容访问。</p><h1 id="3b5e" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">向我们的项目添加CourseKit</h1><p id="af35" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">要将CourseKit添加到这个项目中，我们需要创建一个帐户，并将我们的课程数据转移到那里。然后我们使用CourseKit JavaScript客户端通过API调用数据。</p><p id="8843" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们添加了CourseKit，这就是课程页面的样子。请注意在用户验证之前内容是如何隐藏的。</p><figure class="kt ku kv kw gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nm"><img src="../Images/26f9bb7db3aa06609935d472a1586065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*06Lv_kQJcbqCauLV.png"/></div></div></figure><blockquote class="ne nf ng"><p id="ff8b" class="jv jw nc jx b jy jz ka kb kc kd ke kf nh kh ki kj ni kl km kn nj kp kq kr ks ig bi translated"><em class="in">这里是这个集成了CourseKit的网站的</em> <a class="ae kx" href="https://demo.coursekit.dev" rel="noopener ugc nofollow" target="_blank"> <em class="in">完整演示</em> </a> <em class="in">。</em></p></blockquote><h1 id="10e9" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">作为早期用户加入CourseKit</h1><p id="1ac5" class="pw-post-body-paragraph jv jw in jx b jy lw ka kb kc lx ke kf kg ly ki kj kk lz km kn ko ma kq kr ks ig bi translated">CourseKit目前处于公开测试阶段，这意味着它已经推出并发挥作用，但一些功能(如分析)仍在开发中。</p><p id="687c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们对早期用户的邀请有限。如果您想申请一个，或者如果您只是想了解CourseKit的进展，请务必在本页留下您的详细信息:</p><p id="d421" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae kx" href="https://coursekit.dev/#join" rel="noopener ugc nofollow" target="_blank">加入CourseKit测试版列表</a></p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><p id="e73a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">最初发布于</em><a class="ae kx" href="https://coursekit.dev/blog/online-course-react" rel="noopener ugc nofollow" target="_blank"><em class="nc">https://course kit . dev</em></a><em class="nc">。</em></p><p id="4020" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">更多内容请看</em><a class="ae kx" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">plain English . io</em></strong></a><em class="nc">。报名参加我们的</em> <a class="ae kx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。关注我们关于</em><a class="ae kx" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">Twitter</em></strong></a><em class="nc">和</em><a class="ae kx" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">LinkedIn</em></strong></a><em class="nc">。加入我们的</em> <a class="ae kx" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nc">社区不和谐</em> </strong> </a> <em class="nc">。</em></p></div></div>    
</body>
</html>