<html>
<head>
<title>Build a Quote Generator using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript构建报价生成器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-quote-generator-using-javascript-3c88210f4619?source=collection_archive---------8-----------------------#2022-01-28">https://javascript.plainenglish.io/build-a-quote-generator-using-javascript-3c88210f4619?source=collection_archive---------8-----------------------#2022-01-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7443" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于如何使用JavaScript构建报价生成器的教程。</h2></div><p id="58bd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">作为我们周末教程的一部分，这次我们将使用JavaScript构建一个报价生成器。在我们实现它之前，让我们看一下我们将制作的最终版本:</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/28fdb8361a8d0eb920ccdb0237536587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wP22Ss1UhL_8tk1dhcu0EQ.png"/></div></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk"><em class="lo">Quote Generator</em></figcaption></figure><p id="a565" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这个报价生成器应用程序具有以下特性:</p><ol class=""><li id="38cc" class="lp lq in ke b kf kg ki kj kl lr kp ls kt lt kx lu lv lw lx bi translated">点击生成报价的按钮</li><li id="5dda" class="lp lq in ke b kf ly ki lz kl ma kp mb kt mc kx lu lv lw lx bi translated">一个Twitter按钮，点击后将引用放到Twitter上</li></ol></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="819a" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">项目目录结构</h1><pre class="kz la lb lc gt nc nd ne nf aw ng bi"><span id="fcec" class="nh ml in nd b gy ni nj l nk nl">|-- quote-generator<br/>| |-- css<br/>| | |-- style.css<br/>| |-- js<br/>| | |-- main.js<br/>| |-- index.html</span></pre><p id="b813" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本地机器上创建了上述目录之后，请按照下面的步骤操作。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="05b4" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">报价生成器实施</h1><p id="02bc" class="pw-post-body-paragraph kc kd in ke b kf nm jo kh ki nn jr kk kl no kn ko kp np kr ks kt nq kv kw kx ig bi translated">让我们首先实现index.html代码。</p><h1 id="b1b4" class="mk ml in bd mm mn nr mp mq mr ns mt mu jt nt ju mw jw nu jx my jz nv ka na nb bi translated">index.html</h1><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">index.html</figcaption></figure><p id="224b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上述HTML文件的开头，我们包含了特定于报价的CSS和字体牛逼图标CSS(这是针对报价和Twitter图标的)。</p><p id="4796" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在HTML的主体中，添加了一个quote-container div，它将保存引用的内容、引用作者、Twitter按钮和New Quote按钮。</p><p id="aa5f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">单击New Quote按钮，将通过AJAX请求生成下一个报价，其代码被写入main.js文件，该文件已被添加到HTML文件主体的底部。</p><h1 id="eff7" class="mk ml in bd mm mn nr mp mq mr ns mt mu jt nt ju mw jw nu jx my jz nv ka na nb bi translated">style.css</h1><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">style.css</figcaption></figure><p id="d46f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们使用的是添加在CSS文件顶部的Montserrat google字体。主体中的引用容器div使用flex居中。</p><p id="3361" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">其余的CSS代码是不言自明的。</p><h1 id="db61" class="mk ml in bd mm mn nr mp mq mr ns mt mu jt nt ju mw jw nu jx my jz nv ka na nb bi translated">主页. js</h1><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="lk ll gj gh gi lm ln bd b be z dk">main.js</figcaption></figure><p id="40e7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面的代码是用普通的javascript编写的。让我详细解释一下每个功能——</p><h2 id="c446" class="nh ml in bd mm ny nz dn mq oa ob dp mu kl oc od mw kp oe of my kt og oh na oi bi translated">推特报价</h2><p id="d242" class="pw-post-body-paragraph kc kd in ke b kf nm jo kh ki nn jr kk kl no kn ko kp np kr ks kt nq kv kw kx ig bi translated">该功能负责在Twitter上发布报价。它调用带有引用文本和引用作者的<a class="ae oj" href="https://developer.twitter.com/en/docs/twitter-for-websites/tweet-button/overview" rel="noopener ugc nofollow" target="_blank"> tweeter intent API </a>作为查询参数。</p><h2 id="9510" class="nh ml in bd mm ny nz dn mq oa ob dp mu kl oc od mw kp oe of my kt og oh na oi bi translated">提取报价</h2><p id="7861" class="pw-post-body-paragraph kc kd in ke b kf nm jo kh ki nn jr kk kl no kn ko kp np kr ks kt nq kv kw kx ig bi translated">这是一个异步函数，负责获取报价并返回报价承诺。</p><p id="9190" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">Click listener绑定在Twitter按钮和New Quote按钮上，分别调用上述函数。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="8728" class="mk ml in bd mm mn mo mp mq mr ms mt mu jt mv ju mw jw mx jx my jz mz ka na nb bi translated">挑战</h1><p id="c12e" class="pw-post-body-paragraph kc kd in ke b kf nm jo kh ki nn jr kk kl no kn ko kp np kr ks kt nq kv kw kx ig bi translated">要显示新报价按钮点击下一个报价，我们需要有报价列表，否则UX将非常糟糕。现在，一旦收到API响应，即报价可用，您会想要存储它，以避免一次点击按钮就一次又一次地点击API。</p><p id="c265" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ok">储存回应是没有必要的，是的，你没听错！</em></p><p id="e6b7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">要解决上述问题，而不需要在每次点击按钮时发出请求，我们可以缓存承诺。</p><p id="bbd1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ok">承诺是有状态的，一旦兑现，它的价值就不能改变。你可以用。然后()多次来获取它的内容，每次都会得到相同的结果。</em></p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="a09b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">那么，通过quotesPromise .我们将每次都获得报价列表，在那里我们随机选择一个显示在报价容器上的报价。</p><p id="2dab" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这就是本教程的全部内容。如果你喜欢这篇文章，请分享给你的朋友和社区。</p><p id="bdcd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">学习数据结构？阅读我的另一篇文章— <a class="ae oj" href="https://medium.com/@ajayverma_5579/reverse-stack-using-javascript-393592d96484" rel="noopener">如何实现堆栈并以JavaScript将其反转？</a></p><p id="6c06" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">查看更多关于<a class="ae oj" href="https://weekendtutorial.com/" rel="noopener ugc nofollow" target="_blank">https://weekendtutorial.com/</a>的文章和教程</p><p id="3afd" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ok">更内容于</em> <a class="ae oj" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ok">通俗地说就是</em> </strong> </a> <em class="ok">。报名参加我们的</em> <a class="ae oj" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ok">免费周报</em> </strong> </a> <em class="ok">。在我们的</em> <a class="ae oj" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ok">社区获取独家写作机会和建议</em> </strong> </a> <em class="ok">。</em></p></div></div>    
</body>
</html>