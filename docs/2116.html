<html>
<head>
<title>Here’s Why You Should Ditch MongoDB and Switch to Supabase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这就是为什么你应该放弃MongoDB，转而使用Supabase</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/heres-why-you-should-ditch-mongodb-and-switch-to-supabase-374b43f4ebc2?source=collection_archive---------5-----------------------#2022-05-16">https://javascript.plainenglish.io/heres-why-you-should-ditch-mongodb-and-switch-to-supabase-374b43f4ebc2?source=collection_archive---------5-----------------------#2022-05-16</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="e81b" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">用JavaScript解释</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/5a4114deb117e0336a40226d5953a2cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VP4gW5FdWwpTHhPx"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@writecodenow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Boitumelo Phetla</a> on <a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e208" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">使用云数据库比不使用有更多的优势。</p><p id="87fc" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">可以基于模型来创建它们，如果您需要新的服务器实例，它们是可伸缩的和容易访问的。</p><p id="2386" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">许多开发过web服务器或其他web项目的人可能对<a class="ae kw" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>很熟悉。在像Express、Django、Flask这样的框架中，以及在许多编程语言中，它很容易使用。</p><p id="eb54" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">但是你需要数据模型。这也是我转投<a class="ae kw" href="https://supabase.com/" rel="noopener ugc nofollow" target="_blank"> Supabase </a>的原因。</p><p id="c1e6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">它很容易在你想要的任何编程语言中使用，而且许多流行的框架都为Supabase准备了文档，此外，它真的很容易使用，速度超快。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="00a9" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">要求</h1><p id="3d90" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">这当然取决于你在做什么样的项目，但是一般来说，任何一个<a class="ae kw" href="https://en.wikipedia.org/wiki/Integrated_development_environment" rel="noopener ugc nofollow" target="_blank"> IDE </a>都可以完成这项工作——当然还有Supabase软件包。</p><p id="0b3c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在本指南中，我将在Node.js中使用JavaScript和Express框架，您可以从下面下载。</p><ul class=""><li id="45ef" class="mx my ir kz b la lb ld le lg mz lk na lo nb ls nc nd ne nf bi translated"><a class="ae kw" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a></li><li id="652e" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated"><a class="ae kw" href="https://expressjs.com/en/starter/installing.html" rel="noopener ugc nofollow" target="_blank">快递</a></li><li id="4e1b" class="mx my ir kz b la ng ld nh lg ni lk nj lo nk ls nc nd ne nf bi translated"><a class="ae kw" href="https://www.npmjs.com/package/@supabase/supabase-js" rel="noopener ugc nofollow" target="_blank"> Supabase </a></li></ul><p id="3720" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您还需要一个免费的Supabase帐户，并在您的仪表板中创建一个项目。您还可以在那里找到API_KEY和API_URL。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="43f8" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">设置开发环境</h1><p id="5db0" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">要安装所需的包，你需要<a class="ae kw" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> NPM </a>(节点包管理器)。</p><p id="f22f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果你已经安装了，我们将开始初始化一个新的项目。</p><p id="332d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">使用您的终端并输入以下命令。</p><pre class="kh ki kj kk gu nl nm nn no aw np bi"><span id="01b0" class="nq mb ir nm b gz nr ns l nt nu">&gt; npm i -y</span></pre><p id="06a2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这将建立一个新的项目环境。</p><p id="2c40" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了安装所需的软件包，我们再次使用npm命令:</p><pre class="kh ki kj kk gu nl nm nn no aw np bi"><span id="0c2c" class="nq mb ir nm b gz nr ns l nt nu">&gt; npm install express @supabase/supabase-js</span></pre><p id="521b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在创建您的基础项目文件:<code class="fe nv nw nx nm b">index.js</code>并导入两个必需的模块。我们还通过调用<code class="fe nv nw nx nm b">express()</code>方法和带有端口的<code class="fe nv nw nx nm b">.listen()</code>来初始化服务器。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><p id="aa1d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">当您现在运行<code class="fe nv nw nx nm b">node index.js</code>命令时，将启动一个web服务器，您可以在浏览器中访问它。服务器会返回一条<code class="fe nv nw nx nm b">Cannot GET /</code>消息。因为我们还没有设定路线。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="45ed" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">设置Supabase服务器实例</h1><p id="2123" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">既然我们已经设置了基本的Node.js服务器，现在我们可以开始开发一些数据库了。</p><p id="d612" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">让我们设置一个数据库客户机。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><p id="704c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们现在可以使用<code class="fe nv nw nx nm b">client</code>对象向云数据库发送请求。</p></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="c231" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">插入、选择和删除数据</h1><p id="f4d1" class="pw-post-body-paragraph kx ky ir kz b la ms js lc ld mt jv lf lg mu li lj lk mv lm ln lo mw lq lr ls ik bi translated">最重要的是通过创建一个包含几行的表来为您的数据准备数据库。</p><p id="1d14" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我假设您对数据库有基本的了解。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj oa"><img src="../Images/56ef96c5d2b8fb772c850dd466d0d994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFGv1WecjAKWjl4kmFitag.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk"><a class="ae kw" href="https://supabase.com/" rel="noopener ugc nofollow" target="_blank">Screenshot of Supabase dashboard.</a></figcaption></figure><p id="3e0e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在让我们准备一条路线和我们想要使用的数据。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><p id="1921" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">插入数据伴随着<code class="fe nv nw nx nm b">client</code>中的<code class="fe nv nw nx nm b">.insert()</code>方法。</p><p id="1e63" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">别忘了让路线<a class="ae kw" href="https://www.merriam-webster.com/dictionary/asynchronous" rel="noopener ugc nofollow" target="_blank">异步</a>。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><p id="e473" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这将数据插入到数据库中，但我们希望检查任务是否已成功完成。</p><p id="ea0a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">添加一个小的if语句。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><p id="6093" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了查看特定的数据，我们首先从数据库中取出所有的数据，然后使用普通的javascript对其进行过滤。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><p id="c44e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们可以用同样的代码删除一些东西。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure></div><div class="ab cl lt lu hv lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ik il im in io"><h1 id="e9a1" class="ma mb ir bd mc md me mf mg mh mi mj mk jx ml jy mm ka mn kb mo kd mp ke mq mr bi translated">完整代码示例</h1><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ny nz l"/></div></figure><div class="ob oc gq gs od oe"><a href="https://bryandijkh.medium.com/membership" rel="noopener follow" target="_blank"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd is gz z fq oj fs ft ok fv fx iq bi translated">加入我的介绍链接媒体-布赖恩迪克伊岑</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">bryandijkh.medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os kq oe"/></div></div></a></div></div></div>    
</body>
</html>