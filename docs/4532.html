<html>
<head>
<title>Stupidly Simple Way to Use Environmental Variables in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React中使用环境变量的简单方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/stupidly-simple-way-to-use-environmental-variables-in-react-js-b5d302ff3690?source=collection_archive---------6-----------------------#2022-12-11">https://javascript.plainenglish.io/stupidly-simple-way-to-use-environmental-variables-in-react-js-b5d302ff3690?source=collection_archive---------6-----------------------#2022-12-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8b7b46ba777e910836e089c0b20830a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IfZ2SxtNB20F0BAm"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@visuals?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">visuals</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9cf3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">环境变量是可以传递给程序运行时执行的值。它们通常用于配置应用程序的不同方面，例如数据库连接字符串或API端点URL。在React.js中，环境变量可用于在不同的环境中配置应用程序，如开发、试运行和生产。</p><p id="a79c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要在React.js中使用环境变量，首先需要在项目的根目录下创建一个<code class="fe lb lc ld le b">.env</code>文件。该文件将包含您希望在应用程序中使用的环境变量。值得注意的是，这个文件不应该被提交到版本控制，因为它可能包含敏感信息，如API密钥或数据库凭证。</p><p id="b8bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<code class="fe lb lc ld le b">.env</code>文件中，您可以使用<code class="fe lb lc ld le b">NAME=VALUE</code>语法定义您的环境变量。例如:</p><pre class="lf lg lh li gt lj le lk bn ll lm bi"><span id="9e4a" class="ln lo iq le b be lp lq l lr ls">REACT_APP_API_ENDPOINT=https://my-api.com/<br/>REACT_APP_DATABASE_USERNAME=my_username<br/>REACT_APP_DATABASE_PASSWORD=my_password</span></pre><p id="5bfe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">前缀<code class="fe lb lc ld le b">REACT_APP_</code>很重要，因为它告诉React该变量将在您的应用程序中使用。</p><p id="150d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦在<code class="fe lb lc ld le b">.env</code>文件中定义了环境变量，就可以使用<code class="fe lb lc ld le b">process.env</code>对象在React组件中访问它们。例如，如果你想访问<code class="fe lb lc ld le b">REACT_APP_API_ENDPOINT</code>变量，你可以使用下面的代码:</p><pre class="lf lg lh li gt lj le lk bn ll lm bi"><span id="9eef" class="ln lo iq le b be lp lq l lr ls">const apiEndpoint = process.env.REACT_APP_API_ENDPOINT;</span></pre><p id="c440" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">重要的是要注意到在<code class="fe lb lc ld le b">.env</code>文件中定义的环境变量只在开发模式下可用，在生产中不可访问。这意味着如果您想在生产中使用环境变量，您需要在您的生产环境中定义它们。</p><p id="b0c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一种方法是使用<code class="fe lb lc ld le b">dotenv</code>包，它允许您在<code class="fe lb lc ld le b">.env</code>文件中定义环境变量，并在运行时将它们加载到您的应用程序中。要使用<code class="fe lb lc ld le b">dotenv</code>包，首先需要使用npm安装它:</p><pre class="lf lg lh li gt lj le lk bn ll lm bi"><span id="be27" class="ln lo iq le b be lp lq l lr ls">npm install dotenv</span></pre><p id="87e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦安装了<code class="fe lb lc ld le b">dotenv</code>包，您就可以通过调用<code class="fe lb lc ld le b">config()</code>方法从<code class="fe lb lc ld le b">.env</code>文件中加载您的环境变量。这应该在应用程序的入口点完成，比如<code class="fe lb lc ld le b">index.js</code>文件:</p><pre class="lf lg lh li gt lj le lk bn ll lm bi"><span id="f1a4" class="ln lo iq le b be lp lq l lr ls">import dotenv from 'dotenv';<br/>dotenv.config();</span></pre><p id="c47d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从<code class="fe lb lc ld le b">.env</code>文件加载环境变量后，您可以使用<code class="fe lb lc ld le b">process.env</code>对象在React组件中访问它们，就像之前一样。</p><p id="2fdb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总之，环境变量是在不同环境中配置React.js应用程序的有用方法。通过使用一个<code class="fe lb lc ld le b">.env</code>文件和<code class="fe lb lc ld le b">dotenv</code>包，您可以轻松地在React组件中访问和使用这些变量。这可以帮助您管理应用程序的配置，并使API键和数据库凭证等敏感信息不受版本控制。</p><p id="e10c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lt">更多内容看</em> <a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="lt">说白了。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="lt">免费周报</em> </strong> </a> <em class="lt">。关注我们关于</em> <a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="lt">推特</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="lt">LinkedIn</em></strong></a><em class="lt"/><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="lt">YouTube</em></strong></a><em class="lt"/><a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="lt">不和</em> </strong> </a> <strong class="kf ir"> <em class="lt">。</em>T51】</strong></strong></a></p><p id="cb1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> <em class="lt">对缩放您的软件启动感兴趣</em> </strong> <em class="lt">？检查</em> <a class="ae kc" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="lt">电路</em> </strong> </a> <em class="lt">。</em></p></div></div>    
</body>
</html>