<html>
<head>
<title>How TypeScript Enums Work</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型脚本枚举如何工作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-typescript-enums-work-16911e743431?source=collection_archive---------14-----------------------#2022-07-04">https://javascript.plainenglish.io/how-typescript-enums-work-16911e743431?source=collection_archive---------14-----------------------#2022-07-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/4d4a2c48a839f6f0e47cc4a0632ef6d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7wqMj1WzHuKkSKH35jyeFQ.png"/></div></div></figure><p id="4158" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Enums是Enumerations的缩写，是预设的常量，可以由开发人员定义，用于代码中的其他地方。</p><p id="84d0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于JavaScript开发人员来说，枚举的概念通常是新的，但是它们相对容易理解。列举给我们写的东西增加了上下文。</p><h1 id="0e47" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">如何定义枚举</h1><p id="8d94" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">枚举可以在TypeScript中使用<strong class="jx io"> enum </strong>关键字来定义。这里有一个例子:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="b794" class="mf ku in mb b gy mg mh l mi mj">enum Pet {<br/>    Dog,<br/>    Cat,<br/>    Goldfish,<br/>    Skeleton<br/>}</span></pre><p id="e974" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">默认情况下，将为其中的每一项分配一个值。所以狗会是0，猫是1，以此类推。假设我们有一个产生宠物的函数。以前，我们可能会这样写:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5b70" class="mf ku in mb b gy mg mh l mi mj">// Generate a Cat<br/>generatePet(1);</span></pre><p id="042f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，我们可以将上下文添加到我们正在做的事情中，并使用我们的枚举列表来做到这一点:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="aa79" class="mf ku in mb b gy mg mh l mi mj">// Generate a Cat<br/>generatePet(Pet.Cat);</span></pre><p id="5d52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码等同于我们之前所做的，只是我们使用了枚举来代替。</p><h1 id="9dc2" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">所以等等…为什么要用枚举？</h1><p id="5096" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">你可能会想，“这有什么意义？”这是一个合理的问题。枚举本质上允许我们给我们正在做的事情更多的上下文。我们可以要求用户使用Enum列表，而不是让用户记住一系列可能的宠物编号。这也给了下一个阅读我们代码的人一个更好的想法，知道我们在做什么。</p><h1 id="7466" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">数字和字符串枚举</h1><p id="be86" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我们可以将枚举定义为数字或字符串。让我们稍微详细地看看这些。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="20ff" class="mf ku in mb b gy mg mh l mi mj">enum Pet {<br/>    Dog = 2,<br/>    Cat,<br/>    Goldfish,<br/>    Skeleton<br/>}</span></pre><p id="cb6f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面，我们给了Dog一个数值2。之后的每一项都会增加1，所以猫变成了3，金鱼变成了4，等等，但是你也可以随意定义它们:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="3011" class="mf ku in mb b gy mg mh l mi mj">enum Pet {<br/>    Dog = 2,<br/>    Cat = 9,<br/>    Goldfish = 15,<br/>    Skeleton = 44<br/>}</span></pre><p id="f305" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通常我们不会混合字符串和数字以避免混淆，但是我们也可以将枚举完全定义为字符串:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="d29d" class="mf ku in mb b gy mg mh l mi mj">enum Counting {<br/>    One = "one",<br/>    Two = "two",<br/>    Three = "three"<br/>}</span></pre><h1 id="2173" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">函数的枚举值</h1><p id="45e4" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">枚举也可以是返回值的函数。如果在一个枚举中只定义一个值，函数必须放在末尾。如果你把函数放在开头，那么所有的枚举都需要值。因此，下面将引发一个错误:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="c7f4" class="mf ku in mb b gy mg mh l mi mj">// This will throw an error, since the function is at the start<br/>// So typescript assumes all will be functions<br/>enum Counting {<br/>    One = getOne(),<br/>    Two,<br/>    Three,<br/>}</span></pre><p id="7eb5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但这不会:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="ab00" class="mf ku in mb b gy mg mh l mi mj">enum Counting {<br/>    One,<br/>    Two,<br/>    Three = getThree(),<br/>}</span></pre><p id="c321" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面一个返回<code class="fe mk ml mm mb b">0</code>，<code class="fe mk ml mm mb b">Two</code>返回<code class="fe mk ml mm mb b">1</code>，三个返回<code class="fe mk ml mm mb b">getThree()</code>的值。举个例子，我们的<code class="fe mk ml mm mb b">getThree()</code>函数可能是这样的(返回值3):</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="5d42" class="mf ku in mb b gy mg mh l mi mj">const getThree = function() {<br/>    return 3;<br/>}</span></pre><h1 id="4161" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">计算枚举</h1><p id="4d20" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">枚举可以是计算出来的(即计算)，也可以引用其他枚举。例如:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="6388" class="mf ku in mb b gy mg mh l mi mj">enum FirstEnum {<br/>    One,   // Returns "0"<br/>    Two,   // Returns "1"<br/>    Three  // Returns "2"<br/>}</span><span id="b545" class="mf ku in mb b gy mn mh l mi mj">enum AnotherEnum {<br/>    One: FirstEnum.One, // returns FirstEnum.One, i.e. "0"<br/>    Two: 1 + 1,         // Calculates and returns "2"<br/>    Three: 1 * 3,       // Calculates and returns "3"<br/>    Star: One           // Refers to AnotherEnum.One, returns "0"<br/>}</span></pre><h1 id="60e4" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h1><p id="707f" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">枚举是在TypeScript中向代码添加更多语义的一种强大方法。他们让阅读你的代码的人知道你试图完成什么，从而提高你所写的东西的可维护性。通过允许您在整个代码库中引用标准常量，它们也让您的生活变得更加轻松。</p><p id="e754" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们希望你喜欢这个打字本枚举指南！<a class="ae mo" href="https://fjolt.com/category/typescript" rel="noopener ugc nofollow" target="_blank">要了解更多关于TypeScript的信息，请点击这里</a>。</p><p id="fe97" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mp">更多内容请看</em><a class="ae mo" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">plain English . io</em></strong></a><em class="mp">。报名参加我们的</em> <a class="ae mo" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">免费周报</em> </strong> </a> <em class="mp">。关注我们关于</em><a class="ae mo" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">Twitter</em></strong></a><em class="mp">和</em><a class="ae mo" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">LinkedIn</em></strong></a><em class="mp">。查看我们的</em> <a class="ae mo" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">社区不和谐</em> </strong> </a> <em class="mp">加入我们的</em> <a class="ae mo" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">人才集体</em> </strong> </a> <em class="mp">。</em></p></div></div>    
</body>
</html>