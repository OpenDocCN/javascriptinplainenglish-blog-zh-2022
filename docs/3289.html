<html>
<head>
<title>Making Mosaic Plots with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript制作镶嵌图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/making-mosaic-plots-with-javascript-7934bc1aa48c?source=collection_archive---------17-----------------------#2022-08-15">https://javascript.plainenglish.io/making-mosaic-plots-with-javascript-7934bc1aa48c?source=collection_archive---------17-----------------------#2022-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f8714f886a95a47516fc00d4c558bee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RV6qkF65IZ33Bd98.png"/></div></div></figure><p id="8e79" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">你听说过马赛克阴谋吗？</strong>这是一种非常有趣的图表类型，旨在帮助探索变量之间的关系。镶嵌图(也称为镶嵌图)将数据可视化为矩形图块，其宽度编码一个变量，高度编码另一个变量。</p><p id="a6b6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您想学习如何轻松创建这样一个优雅的图表，请跟我来，我现在就向您展示诀窍！在本教程中，我将使用JavaScript构建一个交互式马赛克图，展示美国社交媒体的使用情况，并详细解释每一步。</p><h1 id="7c21" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">待建镶嵌图</h1><p id="1505" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">为了让你有心情进行一些创造性的工作，我邀请你先睹为快，看看将在文章结尾完成的最终马赛克情节。是时候开始行动了！</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/db208a822803f211a11aa9d44cf6b753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Oav7vXpX_Lr8XEDi.png"/></div></div></figure><h1 id="248f" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">基本镶嵌图</h1><p id="7b7a" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">如果您曾经用JavaScript创建过图表，那么您已经了解它是如何工作的。在这种情况下，您只需<a class="ae mb" href="https://www.anychart.com/blog/2017/03/05/how-to-choose-the-right-javascript-charting-component-10-factors-you-have-to-consider/" rel="noopener ugc nofollow" target="_blank">选择一个JS图表库</a>并遵循其<a class="ae mb" href="https://docs.anychart.com/Basic_Charts/Marimekko_Chart/Mosaic_Chart" rel="noopener ugc nofollow" target="_blank">马赛克绘图文档</a>。但是如果这是你第一次这样的经历(或者你之前的经历不太容易也不太令人兴奋)，这篇教程正是为你准备的！</p><p id="4216" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们从定义应该采取的步骤开始。一般来说，任何基于JS的酷的交互式数据可视化，包括镶嵌图，都建立在四个基本步骤上:</p><ol class=""><li id="fb98" class="mc md in jx b jy jz kc kd kg me kk mf ko mg ks mh mi mj mk bi translated">为你的图表准备一个网页。</li><li id="01d9" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">参考要使用的JavaScript文件。</li><li id="7b9e" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">设置要可视化的数据。</li><li id="3c81" class="mc md in jx b jy ml kc mm kg mn kk mo ko mp ks mh mi mj mk bi translated">写一些JS代码来产生你需要的情节。</li></ol><p id="ce59" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，和我一起深入研究每一个问题吧！</p><h1 id="1509" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.获取网页</h1><p id="b171" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">重要的事情先来。我创建了一个基本的HTML页面。在<code class="fe mq mr ms mt b">&lt;body&gt;</code>部分，我包含了一个块级元素<code class="fe mq mr ms mt b">&lt;div&gt;</code>，这将是镶嵌图被渲染的位置，并为它提供了一个唯一的<code class="fe mq mr ms mt b">id</code>属性，在本例中为<code class="fe mq mr ms mt b">container</code>。我还将其高度和宽度设置为100%,因为我希望看到马赛克图沿着整个网页延伸。</p><p id="9c48" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">以下是我的HTML页面的外观:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="4473" class="my ku in mt b gy mz na l nb nc">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Mosaic Plot in JS&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="9b1f" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2.参考JavaScript文件</h1><p id="32c4" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">现在，是时候加载脚本了，这些脚本将用于在网页上创建预期的镶嵌图。</p><p id="749c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这里，我将使用AnyChart的<a class="ae mb" href="https://www.anychart.com" rel="noopener ugc nofollow" target="_blank"> JS图表库</a>。它功能丰富，拥有全面的<a class="ae mb" href="https://docs.anychart.com" rel="noopener ugc nofollow" target="_blank">文档</a>和<a class="ae mb" href="https://api.anychart.com/" rel="noopener ugc nofollow" target="_blank"> API参考</a>，以及<a class="ae mb" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank">图库</a>中众多现成的示例。此外，AnyChart是模块化的，这意味着人们可以只连接几个轻量级脚本来提供实际需要的功能，而不是不必要地让整个库过载一个网页或应用程序。</p><p id="46b2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个马赛克图需要两个模块:<a class="ae mb" href="https://docs.anychart.com/Quick_Start/Modules#core" rel="noopener ugc nofollow" target="_blank"> Core </a>和<a class="ae mb" href="https://docs.anychart.com/Quick_Start/Modules#mekko" rel="noopener ugc nofollow" target="_blank"> Mekko </a>。我通过在<code class="fe mq mr ms mt b">&lt;head&gt;</code>部分包含以下内容将它们添加到页面中:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="2a6b" class="my ku in mt b gy mz na l nb nc">&lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-mekko.min.js"&gt;&lt;/script&gt;</span></pre><p id="b143" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我还在<code class="fe mq mr ms mt b">&lt;body&gt;</code>部分放了一个<code class="fe mq mr ms mt b">&lt;script&gt;</code>标签。(或者可以去<code class="fe mq mr ms mt b">&lt;head&gt;</code>段。并不重要。)那是我即将到来的马赛克情节的完整JavaScript代码将被放置的地方。</p><p id="098e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里是我在这一点上得到的:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="3bb5" class="my ku in mt b gy mz na l nb nc">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Mosaic Plot in JS&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-mekko.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="mt io"><em class="nd">      // The JS mosaic plotting code will come here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="b55f" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">3.设置数据</h1><p id="8233" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">然后是数据。正如我在引言中指出的，我想看看美国的社交媒体采用情况。据报道，如今约四分之三的美国成年人至少使用一个社交媒体网站。让我们更深入地探究不同年龄组和年龄的情况——这将是一个很酷的马赛克情节的例子！</p><p id="6133" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我将可视化的数据来自皮尤研究中心。它看起来并不复杂，所以我将把它直接添加到代码中。请注意数据的格式，因为这是镶嵌图“理解”在哪个轴上表示什么的方式。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="5d70" class="my ku in mt b gy mz na l nb nc">let data = {<br/>  header: ['#', '2006', '2009', '2012', '2015', '2018', '2021'],<br/>  rows: [<br/>    ['18–29', 41, 70, 81, 90, 88, 84],<br/>    ['30–49', 6, 42, 64, 77, 78, 81],<br/>    ['50–64', 3, 20, 39, 51, 64, 73],<br/>    ['65+', 0, 5, 16, 35, 37, 45]<br/>  ]<br/>};</span></pre><h1 id="8535" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">4.写一些JS代码</h1><p id="7b1d" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我已经为我的镶嵌图找到了一个位置，绘制它的脚本，以及需要可视化的数据。现在这些东西都设置好了，我将在<code class="fe mq mr ms mt b">&lt;script&gt;</code>标签中做一些快速的JavaScript编码。</p><p id="56ad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我在这里做的第一件事是添加<code class="fe mq mr ms mt b">anychart.onDocumentReady()</code>函数。其他所有东西都将放入其中，并在网页完全加载后执行。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="61a8" class="my ku in mt b gy mz na l nb nc">&lt;script&gt;<br/>  anychart.onDocumentReady(function () {<br/><strong class="mt io"><em class="nd">    // The JS mosaic plotting code will come here.<br/></em></strong>  });<br/>&lt;/script&gt;</span></pre><p id="1286" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后我添加上一步的数据:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="ff15" class="my ku in mt b gy mz na l nb nc">anychart.onDocumentReady(function () {</span><span id="ee88" class="my ku in mt b gy ne na l nb nc">  let data = {<br/>    header: ['#', '2006', '2009', '2012', '2015', '2018', '2021'],<br/>    rows: [<br/>      ['18–29', 41, 70, 81, 90, 88, 84],<br/>      ['30–49', 6, 42, 64, 77, 78, 81],<br/>      ['50–64', 3, 20, 39, 51, 64, 73],<br/>      ['65+', 0, 5, 16, 35, 37, 45]<br/>    ]<br/>  };</span><span id="3099" class="my ku in mt b gy ne na l nb nc">});</span></pre><p id="7793" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，在同一个函数中，我创建了一个镶嵌图的实例:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="c32d" class="my ku in mt b gy mz na l nb nc">let chart = anychart.mosaic();</span></pre><p id="2fb8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">并将数据加载到其中:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="f10e" class="my ku in mt b gy mz na l nb nc">chart.data(data);</span></pre><p id="3ca6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我还为整个马赛克图添加了一个标题:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="b6c9" class="my ku in mt b gy mz na l nb nc">chart.title("Social Media Use in U.S. by Age");</span></pre><p id="07fa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我通过指定<code class="fe mq mr ms mt b">&lt;div&gt;</code>元素的ID来定义放置可视化的位置(参见步骤1 ),并绘制最终的镶嵌图。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="4353" class="my ku in mt b gy mz na l nb nc">chart.container('container'); chart.draw();</span></pre><p id="10d0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">下面是我的镶嵌图的完整JavaScript代码:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="acf3" class="my ku in mt b gy mz na l nb nc">anychart.onDocumentReady(function () {<br/>  <br/><strong class="mt io"><em class="nd">  // set the data to visualize<br/></em></strong>  let data = {<br/>    header: ['#', '2006', '2009', '2012', '2015', '2018', '2021'],<br/>    rows: [<br/>      ['18–29', 41, 70, 81, 90, 88, 84],<br/>      ['30–49', 6, 42, 64, 77, 78, 81],<br/>      ['50–64', 3, 20, 39, 51, 64, 73],<br/>      ['65+', 0, 5, 16, 35, 37, 45]<br/>    ]<br/>  };</span><span id="4e39" class="my ku in mt b gy ne na l nb nc"><strong class="mt io"><em class="nd">  // create a mosaic plot<br/></em></strong>  let chart = anychart.mosaic();<br/>  <br/><strong class="mt io"><em class="nd">  // load the data to the plot<br/></em></strong>  chart.data(data);</span><span id="b9cc" class="my ku in mt b gy ne na l nb nc"><strong class="mt io"><em class="nd">  // set the plot title<br/></em></strong>  chart.title("Social Media Use in U.S. by Age");<br/>  <br/><strong class="mt io"><em class="nd">  // set the mosaic chart container element id<br/></em></strong>  chart.container('container');<br/>  <br/><strong class="mt io"><em class="nd">  // draw the resulting chart<br/></em></strong>  chart.draw();<br/>  <br/>});</span></pre><p id="5258" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">答对了。一个基本的镶嵌图就在这几行代码中准备好了！</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/fccc779bbdc0722e5c98ea3c9be65502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jOP42n6wy4PWeEfe"/></div></div></figure><p id="dcf3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以立即看到，最年轻年龄组的人使用社交媒体的比例比其他任何年龄组都高。嗯，这是意料之中的。但是看看与10年或15年前相比，现在有多少其他年龄组的人使用社交媒体。看看你还能注意到什么。</p><p id="0a3d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<a class="ae mb" href="https://playground.anychart.com/1xYCN7zI" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>查看这个基本的马赛克图。为了以防万一，完整的代码也在下面:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="4169" class="my ku in mt b gy mz na l nb nc">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Mosaic Plot in JS&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-mekko.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="791c" class="my ku in mt b gy ne na l nb nc">      anychart.onDocumentReady(function () {<br/>  <br/><strong class="mt io"><em class="nd">        // set the data to visualize<br/></em></strong>        let data = {<br/>          header: ['#', '2006', '2009', '2012', '2015', '2018', '2021'],<br/>          rows: [<br/>            ['18–29', 41, 70, 81, 90, 88, 84],<br/>            ['30–49', 6, 42, 64, 77, 78, 81],<br/>            ['50–64', 3, 20, 39, 51, 64, 73],<br/>            ['65+', 0, 5, 16, 35, 37, 45]<br/>          ]<br/>        };</span><span id="9227" class="my ku in mt b gy ne na l nb nc"><strong class="mt io"><em class="nd">        // create a mosaic plot<br/></em></strong>        let chart = anychart.mosaic();<br/>  <br/><strong class="mt io"><em class="nd">        // load the data to the plot<br/></em></strong>        chart.data(data);</span><span id="87d4" class="my ku in mt b gy ne na l nb nc"><strong class="mt io"><em class="nd">        // set the plot title<br/></em></strong>        chart.title("Social Media Use in U.S. by Age");<br/>  <br/><strong class="mt io"><em class="nd">        // set the mosaic chart container element id<br/></em></strong>        chart.container('container');<br/>  <br/><strong class="mt io"><em class="nd">        // draw the resulting chart<br/></em></strong>        chart.draw();<br/>  <br/>      });</span><span id="3934" class="my ku in mt b gy ne na l nb nc">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="dad4" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">高级镶嵌图</h1><p id="870d" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在本教程的上一部分中构建的镶嵌图基于AnyChart JS图表库中配置的该图表类型的默认设置。但是也有各种选项来调整可视化。现在，跟我一起利用定制的力量，使我的马赛克图更加时尚，信息量更大。</p><h1 id="588d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">1.更改马赛克情节设计主题</h1><p id="20ad" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">首先，我想使马赛克情节的颜色更加复杂，并使用一些柔和的色调。AnyChart提供了一系列预置的<a class="ae mb" href="https://docs.anychart.com/Appearance_Settings/Themes" rel="noopener ugc nofollow" target="_blank">图表设计主题</a>。其中有一个美丽的蜡笔，我马上就要使用。为此，我通过在<code class="fe mq mr ms mt b">&lt;head&gt;</code>部分添加一个链接来加载专用的JS文件:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="892e" class="my ku in mt b gy mz na l nb nc">&lt;script src="https://cdn.anychart.com/releases/8.11.0/themes/pastel.js"&gt;&lt;/script&gt;</span></pre><p id="513e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">并在JS代码中设置主题:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="0ce9" class="my ku in mt b gy mz na l nb nc">anychart.theme("pastel");</span></pre><h1 id="2794" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">2.增强镶嵌图标签</h1><p id="59a4" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">其次，我使用HTML改进了镶嵌图标签中的字体样式，并添加了百分号%以明确这些值是百分比:</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="8316" class="my ku in mt b gy mz na l nb nc">chart.labels()<br/>  .useHtml(true)<br/>  .format("&lt;span style='font-size:12px; font-weight:700; color: #786b61;'&gt;{%value}%&lt;/span&gt;");</span></pre><h1 id="e3d3" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">3.调整镶嵌图的平铺间距</h1><p id="c05a" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">第三，我减少瓷砖之间的间距。由于图表颜色现在变浅了，这将进一步美化镶嵌图，并为图块中显示的标签提供更多空间。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="c43e" class="my ku in mt b gy mz na l nb nc">chart.pointsPadding(3);</span></pre><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/db1b4185f9829451cf9c048990469cf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SKwJEf-GsfeZgUTU"/></div></div></figure><p id="5f52" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在AnyChart Playground 上看看这个定制版的马赛克图及其完整代码。</p><h1 id="cb9c" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">4.改进镶嵌图标题</h1><p id="7ef9" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">第四，我修改标题的外观。HTML可以帮我定制字体和添加字幕。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="7888" class="my ku in mt b gy mz na l nb nc">chart<br/>  .title()<br/>  .enabled(true)<br/>  .useHtml(true)<br/>  .text("&lt;span style = 'font-size:16px; font-weight:600;'&gt;Social Media Use in U.S. by Age&lt;/span&gt;&lt;br&gt;&lt;span style = 'font-size:14px;'&gt;Share of U.S. adults saying they use at least one social media platform&lt;/span&gt;");</span></pre><h1 id="7d0a" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">5.增强镶嵌图工具提示</h1><p id="61f6" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">第五，也是最后一点，我改变了工具提示的内容，使其更具信息性。在工具提示的标题中，我显示了年份，在主要部分，我用百分比和年龄组来解释，而不是默认显示的原始数字。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="d0d8" class="my ku in mt b gy mz na l nb nc">let tooltip = chart.tooltip();<br/>tooltip<br/>  .useHtml(true)<br/>  .titleFormat("&lt;b&gt;&lt;span style='font-size:15px;'&gt;{%SeriesName}&lt;/b&gt;")<br/>  .format("&lt;span style='font-size:13px;'&gt;&lt;b&gt;{%value}%&lt;/b&gt; of people aged &lt;b&gt;{%x}&lt;/b&gt; said they&lt;br&gt; used at least one social media platform&lt;/span&gt;");</span></pre><p id="fbe6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">那么，你觉得有了所有这些定制的教程的最终镶嵌图怎么样？</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi lw"><img src="../Images/6a9ef0657b5fc56349d29c8f32135cdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_qaodW7dorITDvGp"/></div></div></figure><p id="59b7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在<a class="ae mb" href="https://playground.anychart.com/d0G2JcXJ" rel="noopener ugc nofollow" target="_blank"> AnyChart Playground </a>上查看这个最终版本的马赛克图及其完整源代码。</p><pre class="lx ly lz ma gt mu mt mv mw aw mx bi"><span id="c5b0" class="my ku in mt b gy mz na l nb nc">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Mosaic Plot in JS&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-mekko.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/themes/pastel.js”&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;</span><span id="6a7d" class="my ku in mt b gy ne na l nb nc">      anychart.onDocumentReady(function () {<br/>  <br/><strong class="mt io"><em class="nd">        // set the data to visualize<br/></em></strong>        let data = {<br/>          header: ['#', '2006', '2009', '2012', '2015', '2018', '2021'],<br/>          rows: [<br/>            ['18–29', 41, 70, 81, 90, 88, 84],<br/>            ['30–49', 6, 42, 64, 77, 78, 81],<br/>            ['50–64', 3, 20, 39, 51, 64, 73],<br/>            ['65+', 0, 5, 16, 35, 37, 45]<br/>          ]<br/>        };</span><span id="0a36" class="my ku in mt b gy ne na l nb nc"><strong class="mt io"><em class="nd">        // create a mosaic plot<br/></em></strong>        let chart = anychart.mosaic();<br/>  <br/><strong class="mt io"><em class="nd">        // set one of the pre-built design themes<br/></em></strong>        anychart.theme("pastel"); <br/>  <br/><strong class="mt io"><em class="nd">        // load the data to the plot<br/></em></strong>        chart.data(data);<br/>  <br/><strong class="mt io"><em class="nd">        // configure the label settings<br/></em></strong>        chart.labels()<br/>          .useHtml(true)<br/>          .format("&lt;span style='font-size:12px; font-weight:700; color: #786b61;'&gt;{%value}%&lt;/span&gt;");<br/>  <br/><strong class="mt io"><em class="nd">        // set the padding between the points<br/></em></strong>        chart.pointsPadding(3);<br/>  <br/><strong class="mt io"><em class="nd">        // set the plot title  <br/></em></strong>        chart<br/>          .title()<br/>          .enabled(true)<br/>          .useHtml(true)<br/>          .text("&lt;span style = 'font-size:16px; font-weight:600;'&gt;Social Media Use in U.S. by Age&lt;/span&gt;&lt;br&gt;&lt;span style = 'font-size:14px;'&gt;Share of U.S. adults saying they use at least one social media platform&lt;/span&gt;");<br/>  <br/><strong class="mt io"><em class="nd">        // format the tooltip using html<br/></em></strong>        let tooltip = chart.tooltip();<br/>        tooltip<br/>          .useHtml(true)<br/>          .titleFormat("&lt;b&gt;&lt;span style='font-size:15px;'&gt;{%SeriesName}&lt;/b&gt;")<br/>          .format("&lt;span style='font-size:13px;'&gt;&lt;b&gt;{%value}%&lt;/b&gt; of people aged &lt;b&gt;{%x}&lt;/b&gt; said they&lt;br&gt; used at least one social media platform&lt;/span&gt;");<br/>  <br/><strong class="mt io"><em class="nd">        // set the mosaic chart container id<br/></em></strong>        chart.container('container');<br/>  <br/><strong class="mt io"><em class="nd">        // draw the resulting chart<br/></em></strong>        chart.draw();<br/>  <br/>      });</span><span id="0d81" class="my ku in mt b gy ne na l nb nc">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="a9f8" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h1><p id="06e3" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">我希望你喜欢这个教程，并意识到它是多么容易建立一个伟大的前瞻性，交互式马赛克情节。HTML和JavaScript的工作知识在这样的任务中总是很有帮助的。但是现在你看到它不是太必要，因为每件事都可以非常简单和直观。</p><p id="9aa8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在轮到你了！去制作你自己的马赛克图来应用你新获得的技能。或者学习<a class="ae mb" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank">如何创建其他<a class="ae mb" href="https://docs.anychart.com/Basic_Charts/Marimekko_Chart/Mosaic_Chart" rel="noopener ugc nofollow" target="_blank">类型</a>的JavaScript图表</a>。当然，不要忘记在你选择的社交媒体平台上分享你的数据可视化！</p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="24dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">非常感谢Shachee Swadia为我们的博客制作了这个惊人的马赛克情节指南！T9】</p><p id="5772" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="nd">查看更多</em></strong><a class="ae mb" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">JavaScript制图教程</em> </strong> </a> <strong class="jx io"> <em class="nd">。</em> </strong></p><p id="541f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您愿意为我们的博客创建客座博文吗？  <a class="ae mb" href="https://www.anychart.com/support/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nd">让我们认识一下</em> </strong> </a> <strong class="jx io"> <em class="nd">！</em> </strong></p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="b35c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nd">最初发表于2022年8月15日</em><a class="ae mb" href="https://www.anychart.com/blog/2022/08/15/mosaic-plot/" rel="noopener ugc nofollow" target="_blank"><em class="nd">https://www.anychart.com</em></a><em class="nd">。</em></p></div><div class="ab cl nf ng hr nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ig ih ii ij ik"><p id="c0ec" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nd">更多内容请看</em><a class="ae mb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">plain English . io</em></strong></a><em class="nd">。报名参加我们的</em> <a class="ae mb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。关注我们关于</em><a class="ae mb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">Twitter</em></strong></a><a class="ae mb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">LinkedIn</em></strong></a><em class="nd"/><a class="ae mb" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">YouTube</em></strong></a><em class="nd"/><a class="ae mb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">不和</em> </strong> </a> <em class="nd">。</em></p></div></div>    
</body>
</html>