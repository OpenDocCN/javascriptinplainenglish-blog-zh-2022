<html>
<head>
<title>How to Use HarperDB Custom Functions to Build Your Entire Backend</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用HarperDB自定义函数来构建您的整个后端</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-harperdb-custom-functions-to-build-your-entire-backend-20c1a24fed26?source=collection_archive---------14-----------------------#2022-03-22">https://javascript.plainenglish.io/how-to-use-harperdb-custom-functions-to-build-your-entire-backend-20c1a24fed26?source=collection_archive---------14-----------------------#2022-03-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="4165" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于如何使用HarperDB自定义函数以及如何将它们连接到React前端的教程。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/41964976368e0bc7414d1f855723ab0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TB0uTsODWlqfniUvQeTYoA.png"/></div></div></figure><h1 id="856c" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">什么是HarperDB</h1><p id="ffc4" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">当HarperDB刚开始时，它们是一个分布式数据库平台。本质上，这意味着任何人都可以构建一个云实例来创建一个在线存储数据的数据库。这些数据库支持SQL和NoSQL功能，这使它们非常通用，因为它们有一个可以满足每个人的解决方案。</p><p id="d742" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">HarperDB的3.0版本像任何传统数据库一样工作。在典型的全栈应用程序中，开发人员会将他们的API代码托管在某个服务器上。该服务器将对HarperDB云平台进行API调用，基本上允许开发人员连接到他们的数据库实例并检索他们想要的数据。</p><h1 id="af80" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">HarperDB自定义函数</h1><p id="013d" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">到2021年底，HarperDB发布了3.1版，为平台引入了一个新特性。HarperDB从一个分布式数据库发展成为一个分布式应用程序开发平台。基本上，这意味着您现在可以在具有完整CRUD功能的同一平台上托管您的数据库和服务器API！这是一个能够满足您所有后端需求的单一解决方案。</p><p id="3088" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">HarperDB现在提供了与AWS Lambda函数非常相似的定制函数。基本的方法是用代码编写业务逻辑，然后决定何时使用它。这意味着，与传统方法相比，这种服务应该要快得多，因为数据不需要在不同的网络和服务器之间移动。这一切都在一个地方，使它更容易维护。</p><p id="2668" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">自定义函数使用Node.js和Fastify，这意味着它们几乎只是Node.js项目。这种奖励本质上给了你访问整个npm生态系统的机会，促进了你的开发工作流程。</p><h1 id="0434" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">如何使用HarperDB自定义函数</h1><p id="8826" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">在本教程中，我将简要介绍如何在HarperDB上使用自定义函数。我们将创建一个名为<strong class="li io">古代文明时间轴</strong>的应用程序。这只是一个简单的网站，使用新的自定义功能从HarperDB数据库中检索一些数据。</p><p id="e9ff" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这将是技术堆栈:</p><p id="00e9" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">前端:HTML，CSS，TypeScript，React <br/>后端:Node.js，HarperDB</p><h1 id="cc02" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">先决条件</h1><p id="a192" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">首先，如果你还没有账户，你需要创建一个<a class="ae mh" href="https://harperdb.io/" rel="noopener ugc nofollow" target="_blank"> HarperDB </a>账户。</p><h2 id="77b1" class="mi kp in bd kq mj mk dn ku ml mm dp ky lp mn mo la lt mp mq lc lx mr ms le mt bi translated">步骤1 —创建帐户</h2><p id="f95f" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">注册一个免费账户</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/a6871061575e4ea67c55ceec89926804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gu5prS7f7pW6-SSp.png"/></div></div></figure><h2 id="1a46" class="mi kp in bd kq mj mk dn ku ml mm dp ky lp mn mo la lt mp mq lc lx mr ms le mt bi translated">步骤2——创建一个新的组织</h2><p id="3cfd" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">创建一个新组织</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/22c11bcd4b933ba072aa2f528f8b4c30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eJed_jilwZfR4KeY.png"/></div></div></figure><p id="0395" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">添加新组织</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/815386a222dbbac09c18f2dbd88c2ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8hde2JKF17iPF-Lb.png"/></div></div></figure><h2 id="9c15" class="mi kp in bd kq mj mk dn ku ml mm dp ky lp mn mo la lt mp mq lc lx mr ms le mt bi translated">步骤3 —创建一个新的HarperDB云实例</h2><p id="afa5" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">创建新的HarperDB云实例</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/03443a700cc7c570a18feb00b5828a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SNjTwhhIYUzumyop.png"/></div></div></figure><p id="8b47" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">点击左侧按钮<strong class="li io">创建AWS或威瑞森波长实例</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/45b96e3cfec5aa8b071dc460da6aeaf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_hdGPLmmHo3G9zZT.png"/></div></div></figure><p id="6bb1" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">为AWS上的HarperDB Cloud选择选项，然后单击实例信息按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/35741c50895ee1e8956f213f50fa98ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BwtTRsO4W-jzAa8l.png"/></div></div></figure><p id="eedb" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">创建实例名和用户凭据，然后单击“实例详细信息”按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/04d3d7e4f4b29522699f991d466b23c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aggPFHcxsz6Aha4c.png"/></div></div></figure><p id="87fd" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">选择可用RAM和存储大小的选项。选择您喜欢的区域，然后单击按钮确认实例详细信息。请注意，在您拥有的组织中，您只能拥有一个免费的云实例。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/693d3287f51c78c83751c43d278c1378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZMsrudMW-y0TVnlT.png"/></div></div></figure><p id="ae46" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">同意条款，然后单击“添加实例”按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/1e409818583edf5a8e997517f7786f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xo07te1IEK3rc7nx.png"/></div></div></figure><h2 id="d5c6" class="mi kp in bd kq mj mk dn ku ml mm dp ky lp mn mo la lt mp mq lc lx mr ms le mt bi translated">步骤4 —查看您的HarperDB云实例</h2><p id="b38d" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">现在你应该有一个组织了</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/d91d899e830bd104ebcc6b5fd2123270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q8ozmDGJdSnNwXX3.png"/></div></div></figure><p id="6ba3" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">当你点击你的组织，你应该看到你的云实例</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/5abbdfcb13f34f49221096561906196f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iWQGXFK7FxFtkGDR.png"/></div></div></figure><p id="2425" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">点击它，你会看到数据库屏幕</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/ee895c7a554ec386adbef8babadd8b26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hopwGnLQRSbuE-D7.png"/></div></div></figure><h1 id="ffec" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">在HarperDB上创建后端数据库和API</h1><h1 id="1a24" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">数据库设置</h1><p id="444a" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">现在创建一个名为<strong class="li io"> timeline </strong>的模式，并将表和散列属性命名为<strong class="li io"> history </strong>。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/1cc86cfb29d7932df58a772ef8d0b8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lMjYGw2F1ZMx0Qfn.png"/></div></div></figure><p id="8e7b" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">转到这个<a class="ae mh" href="https://github.com/andrewbaisden/harperdb-civilizations/blob/main/frontend/src/data/civilisation.sql" rel="noopener ugc nofollow" target="_blank"> repo </a>并复制SQL查询。现在转到HarperDB上的查询链接，将SQL查询复制并粘贴到其中。最后，单击execute按钮运行查询。这将把数据添加到数据库中。这个查询非常大，因为我使用Figma创建了一些定制的SVG图像，然后将它们转换成Base64格式存储在数据库中。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/31e89859be49b8a4d9ecc1d2924a33b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DGQdOvuepVOY_66v.png"/></div></div></figure><p id="5c49" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">单击browse按钮返回到数据库表屏幕，您应该会看到一个充满数据的表。如果您将鼠标光标放在图像图标上，您可以看到图像的样子。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/fb1ec0ae4a1c79bff3013ac30b099ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tWRTXnuwVR8ATupr.png"/></div></div></figure><h1 id="72f4" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">API设置</h1><p id="84e9" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">您现在应该有一个数据库，其中有一个充满数据的表。下一步是创建一个自定义函数，这样我们就可以使用REST GET请求获取数据。单击函数链接，然后单击启用自定义函数按钮。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/1a4c1274366c1df3839c01dec719a701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aPORuxtyL_0PNfLX.png"/></div></div></figure><p id="f755" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">你现在应该在功能屏幕上。给你的项目命名为<strong class="li io"> api </strong>，然后用下面的代码替换编辑器中的所有代码。您应该在左下角看到一个自定义函数服务器url的链接。将链接复制到您的浏览器中，并在末尾添加端点<strong class="li io"> api </strong>。端点应该以JSON的形式返回数据库数据。</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="713b" class="mi kp in mw b gy na nb l nc nd">'use strict';</span><span id="19c2" class="mi kp in mw b gy ne nb l nc nd">const customValidation = require('../helpers/example');</span><span id="beec" class="mi kp in mw b gy ne nb l nc nd">// eslint-disable-next-line no-unused-vars,require-await<br/>module.exports = async (server, { hdbCore, logger }) =&gt; {<br/>    // GET, WITH NO preValidation AND USING hdbCore.requestWithoutAuthentication<br/>    // BYPASSES ALL CHECKS: DO NOT USE RAW USER-SUBMITTED VALUES IN SQL STATEMENTS<br/>    server.route({<br/>        url: '/',<br/>        method: 'GET',<br/>        handler: (request) =&gt; {<br/>            request.body = {<br/>                operation: 'sql',<br/>                sql: 'SELECT * FROM timeline.history ORDER BY id',<br/>            };<br/>            return hdbCore.requestWithoutAuthentication(request);<br/>        },<br/>    });<br/>};</span></pre><p id="0878" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">这是我的端点的结构:</p><p id="fa8a" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated"><a class="ae mh" href="https://functions-cloud-1-abaisden.harperdbcloud.com/api" rel="noopener ugc nofollow" target="_blank">https://functions-cloud-1-abaisden.harperdbcloud.com/api</a></p><h1 id="8713" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">创建前端React应用程序</h1><p id="f844" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">我们将在前端使用create-react-app和TypeScript。为React前端创建一个项目文件夹，然后使用您的终端在该文件夹中运行下面的命令。</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="b856" class="mi kp in mw b gy na nb l nc nd">npx create-react-app my-app --template typescript<br/>cd my-app<br/>npm start</span></pre><p id="a7cf" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">您应该在web浏览器中看到默认的React样板文件。在代码编辑器中打开刚刚创建的项目。将<code class="fe nf ng nh mw b">app.css</code>和<code class="fe nf ng nh mw b">app.tsx</code>中的代码替换为下面的代码，删除<code class="fe nf ng nh mw b">index.css</code>中的所有代码并留空。</p><p id="c050" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">不要忘记在<code class="fe nf ng nh mw b">App.tsx</code>中添加你自己的API URL来替换我放在那里的那个。这是你需要在<code class="fe nf ng nh mw b">App.tsx</code>里面寻找的线</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="3bc4" class="mi kp in mw b gy na nb l nc nd">// Replace this API URL with your Custom Functions Server URL<br/>const API = 'https://functions-cloud-1-test.harperdbcloud.com/api';</span></pre><h1 id="af30" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">App.css</h1><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="4bb8" class="mi kp in mw b gy na nb l nc nd">@import url('https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;700&amp;display=swap');</span><span id="da42" class="mi kp in mw b gy ne nb l nc nd">*,<br/>*::before,<br/>*::after {<br/>    margin: 0;<br/>    padding: 0;<br/>    box-sizing: border-box;<br/>}</span><span id="4029" class="mi kp in mw b gy ne nb l nc nd">html {<br/>    font-size: 16px;<br/>}</span><span id="2857" class="mi kp in mw b gy ne nb l nc nd">body {<br/>    font-size: 1.6rem;<br/>    font-family: 'League Spartan', sans-serif;<br/>    color: black;<br/>    background-color: white;<br/>}</span><span id="3d9f" class="mi kp in mw b gy ne nb l nc nd">header {<br/>    text-align: center;<br/>}</span><span id="0c80" class="mi kp in mw b gy ne nb l nc nd">header h1 {<br/>    text-align: center;<br/>    margin-top: 1rem;<br/>    text-transform: uppercase;<br/>    font-size: 4rem;<br/>}</span><span id="926b" class="mi kp in mw b gy ne nb l nc nd">.container {<br/>    padding: 2rem;<br/>}</span><span id="7693" class="mi kp in mw b gy ne nb l nc nd">.civilisation-container {<br/>    display: flex;<br/>    flex-flow: column nowrap;<br/>    align-items: center;<br/>}</span><span id="6954" class="mi kp in mw b gy ne nb l nc nd">.civilisation {<br/>    display: flex;<br/>    flex-flow: column nowrap;<br/>    text-align: center;<br/>    align-items: center;<br/>    border: 0.2rem solid black;<br/>    border-radius: 1rem;<br/>    padding: 1rem;<br/>}</span><span id="75c7" class="mi kp in mw b gy ne nb l nc nd">.civilisation h1 {<br/>    text-transform: uppercase;<br/>    margin-top: 2rem;<br/>}</span><span id="3f67" class="mi kp in mw b gy ne nb l nc nd">.civilisation img {<br/>    width: 100%;<br/>    max-width: 20rem;<br/>    margin: 2rem 0 2rem 0;<br/>}</span><span id="387d" class="mi kp in mw b gy ne nb l nc nd">.civilisation ul li {<br/>    list-style: none;<br/>}</span><span id="d72d" class="mi kp in mw b gy ne nb l nc nd">.civilisation p {<br/>    margin: 2rem 0 2rem 0;<br/>    font-size: 1.8rem;<br/>    line-height: 2rem;<br/>}</span><span id="3399" class="mi kp in mw b gy ne nb l nc nd">.timeline-line {<br/>    background: black;<br/>    height: 4rem;<br/>    width: 1rem;<br/>}</span></pre><h1 id="f990" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">App.tsx</h1><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="ad81" class="mi kp in mw b gy na nb l nc nd">import { useState, useEffect } from 'react';<br/>import './App.css';</span><span id="16ae" class="mi kp in mw b gy ne nb l nc nd">const App = () =&gt; {<br/>    interface timeline {<br/>        current_location: string;<br/>        description: string;<br/>        highlights: string;<br/>        history: string;<br/>        id: number;<br/>        image: string;<br/>        original_location: string;<br/>        period: string;<br/>        timeline: string;<br/>        __createdtime__: number;<br/>        __updatedtime__: number;<br/>    }</span><span id="c7d1" class="mi kp in mw b gy ne nb l nc nd">    useEffect(() =&gt; {<br/>        const getApi = () =&gt; {<br/>            // Replace this API URL with your Custom Functions Server URL<br/>            const API = 'https://functions-cloud-1-test.harperdbcloud.com/api';</span><span id="b615" class="mi kp in mw b gy ne nb l nc nd">            fetch(API)<br/>                .then((response) =&gt; {<br/>                    return response.json();<br/>                })<br/>                .then((data) =&gt; {<br/>                    console.log(data);<br/>                    setLoading(false);<br/>                    setData(data);<br/>                })<br/>                .catch((err) =&gt; {<br/>                    console.log(err);<br/>                });<br/>        };</span><span id="90ba" class="mi kp in mw b gy ne nb l nc nd">        getApi();<br/>    }, []);<br/>    const [loading, setLoading] = useState&lt;boolean&gt;(false);<br/>    const [data, setData] = useState&lt;timeline[]&gt;([]);<br/>    return (<br/>        &lt;&gt;<br/>            &lt;header&gt;<br/>                &lt;h1&gt;Human Civilization&lt;/h1&gt;<br/>                &lt;p&gt;An Ancient Civilizations Timeline for 8 of the most influential cultures in human history&lt;/p&gt;<br/>            &lt;/header&gt;</span><span id="b14b" class="mi kp in mw b gy ne nb l nc nd">            &lt;div className="container"&gt;<br/>                {loading ? (<br/>                    &lt;div&gt;<br/>                        &lt;h1&gt;Loading...&lt;/h1&gt;<br/>                    &lt;/div&gt;<br/>                ) : (<br/>                    &lt;div&gt;<br/>                        {data.map((civilisation) =&gt; (<br/>                            &lt;div className="civilisation-container"&gt;<br/>                                &lt;div className="civilisation" key={civilisation.id}&gt;<br/>                                    &lt;h1&gt;{civilisation.timeline}&lt;/h1&gt;<br/>                                    &lt;img src={civilisation.image} alt={civilisation.timeline} /&gt;<br/>                                    &lt;ul&gt;<br/>                                        &lt;li&gt;<br/>                                            &lt;strong&gt;Period: &lt;/strong&gt;<br/>                                            {civilisation.period}<br/>                                        &lt;/li&gt;<br/>                                        &lt;li&gt;<br/>                                            &lt;strong&gt;Original Location:&lt;/strong&gt; {civilisation.original_location}<br/>                                        &lt;/li&gt;<br/>                                        &lt;li&gt;<br/>                                            &lt;strong&gt;Current Location:&lt;/strong&gt; {civilisation.current_location}<br/>                                        &lt;/li&gt;<br/>                                        &lt;li&gt;<br/>                                            &lt;strong&gt;Highlights: &lt;/strong&gt;<br/>                                            {civilisation.highlights}<br/>                                        &lt;/li&gt;<br/>                                    &lt;/ul&gt;<br/>                                    &lt;p&gt;{civilisation.description}&lt;/p&gt;<br/>                                &lt;/div&gt;<br/>                                &lt;div className="timeline-line"&gt;&lt;/div&gt;<br/>                            &lt;/div&gt;<br/>                        ))}<br/>                    &lt;/div&gt;<br/>                )}<br/>            &lt;/div&gt;<br/>        &lt;/&gt;<br/>    );<br/>};</span><span id="9ee7" class="mi kp in mw b gy ne nb l nc nd">export default App;</span></pre><p id="de46" class="pw-post-body-paragraph lg lh in li b lj mc jo ll lm md jr lo lp me lr ls lt mf lv lw lx mg lz ma mb ig bi translated">假设你做了所有正确的事情，你应该能够在你的浏览器中看到应用程序的工作。恭喜您，您刚刚学习了如何使用HarperDB自定义函数，以及如何将它们连接到React前端。我们在本教程中介绍了如何执行GET请求，当然，如果您阅读了文档，也可以执行完整的CRUD请求。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/eadcafbcd12ee0213b69f587c7c4e221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*44d06pr1rMLy9JEi.png"/></div></div></figure></div></div>    
</body>
</html>