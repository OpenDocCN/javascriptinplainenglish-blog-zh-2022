<html>
<head>
<title>Get Child Component Input Data to Parent and Gather into an Array in Vue.js?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将子组件输入数据获取到父组件并聚集到Vue.js中的数组中？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-child-component-input-data-to-parent-gathering-into-array-in-vue-js-bcce136ecef7?source=collection_archive---------5-----------------------#2022-01-19">https://javascript.plainenglish.io/getting-child-component-input-data-to-parent-gathering-into-array-in-vue-js-bcce136ecef7?source=collection_archive---------5-----------------------#2022-01-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="f494" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">按下一个按钮，将所有信息收集到一个数组中。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e3ee56e24c8bdb2fa076faf1ceb4ed28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MPm1VZPehWeX3a9Y"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c7d1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如，在这里，当我单击按钮时，我将多一个组件，这意味着它将有新的数据。所以，当我按下保存数据按钮时，我想将所有信息收集到一个数组中。我希望，这很容易理解。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="7632" class="lu lv in lq b gy lw lx l ly lz">&lt;Child v-for="count in btnNumber" :key="count" @showData="getElements" /&gt;<br/><br/>&lt;v-btn<br/>  color="primary"<br/>  elevation="10"<br/>  class="space"<br/>  large<br/>  @click="duplicateEl"<br/>  &gt;Add Categ &amp; Key&lt;/v-btn<br/>&gt;<br/>&lt;v-btn<br/>  color="secondary"<br/>  elevation="13"<br/>  class="btnEl"<br/>  dark<br/>  large<br/>  @click="getResult"&gt;<br/>Save Data<br/>&lt;/v-btn&gt;</span><span id="0e26" class="lu lv in lq b gy ma lx l ly lz">@click="getResult"&gt;</span><span id="64e4" class="lu lv in lq b gy ma lx l ly lz"><em class="mb">Save</em> <em class="mb">Data</em></span><span id="46b6" class="lu lv in lq b gy ma lx l ly lz">&lt;/v-btn&gt;</span></pre><p id="a81d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它使用Emit从子组件获取数据。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="7653" class="lu lv in lq b gy lw lx l ly lz">methods:{<br/>          getElements(emitPayload) {<br/>          this.selectedChildCategory = emitPayload.selectedCateg;<br/>          this.selectedChildKey = emitPayload.selectedKey;<br/>          this.selectedChildLanguage = emitPayload.selectedLang;<br/>          this.selectedChildContent = emitPayload.selectedCon;<br/>        }<br/>    }<br/> duplicateEl() {<br/>  this.btnNumber++;<br/>}</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mc"><img src="../Images/3348c7a0af07e0ae833e0c1e23bbf324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l6zkuA1TIqwrcAjehzP23g.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">From Stackoverflow</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi md"><img src="../Images/5a2104ecc4848ea718748aeda86bd955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFdPGE7fPP2tX6hGiQXt0g.png"/></div></div></figure><h2 id="56ee" class="lu lv in bd me mf mg dn mh mi mj dp mk lc ml mm mn lg mo mp mq lk mr ms mt mu bi translated"><strong class="ak">————————回答——————</strong></h2><p id="b0b4" class="pw-post-body-paragraph kt ku in kv b kw mv jo ky kz mw jr lb lc mx le lf lg my li lj lk mz lm ln lo ig bi translated">您可以在父组件上保存数据，请看下面的代码片段:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="8360" class="lu lv in lq b gy lw lx l ly lz">Vue.component('Child', {<br/>  template: `<br/>  &lt;v-form&gt;<br/>    &lt;v-container&gt;<br/>      &lt;v-row&gt;<br/>        &lt;v-col&gt;<br/>          &lt;v-select<br/>            :items="categories"<br/>            label="Category"<br/>            dense<br/>            outlined<br/>            v-model="content.cat"<br/>            @change="setD"<br/>          &gt;&lt;/v-select&gt;<br/>          &lt;/v-col&gt;<br/>          &lt;v-col&gt;<br/>          &lt;v-select<br/>            :items="keys"<br/>            label="Key"<br/>            dense<br/>            outlined<br/>            v-model="content.key"<br/>            @change="setD"<br/>          &gt;&lt;/v-select&gt;<br/>          &lt;/v-col&gt;<br/>          &lt;v-col&gt;<br/>          &lt;v-select<br/>            :items="langs"<br/>            label="Lang"<br/>            dense<br/>            outlined<br/>            v-model="content.lang"<br/>            @change="setD"<br/>          &gt;&lt;/v-select&gt;<br/>          &lt;/v-col&gt;<br/>          &lt;v-col&gt;<br/>          &lt;v-select<br/>            :items="contents"<br/>            label="Cont"<br/>            dense<br/>            outlined<br/>            v-model="content.cont"<br/>            @change="setD"<br/>          &gt;&lt;/v-select&gt;<br/>        &lt;/v-col&gt;<br/>      &lt;/v-row&gt;<br/>    &lt;/v-container&gt;<br/>  &lt;/v-form&gt;<br/>  `,<br/>  props: ['conte'],<br/>  data() {<br/>    return {<br/>      content: this.conte,<br/>      categories: ['first', 'second', 'third'],<br/>      keys: [1,2,3],<br/>      langs: ['g', 'h', 'j'],<br/>      contents: ['aaa', 'bbb', 'ccc']<br/>    }<br/>  },<br/>  methods: {<br/>   setD() {<br/>      this.$emit('show', this.content);<br/>    },<br/>  },<br/>})<br/><br/>new Vue({<br/>  vuetify: new Vuetify(),<br/>  el: "#app",<br/>  data() {<br/>    return {<br/>      contentFields: [{id: 0, cat: '', key: '', lang: '', cont: ''}],<br/>      showData: false<br/>    }<br/>  },<br/>  methods: {<br/>    addInput() {<br/>      let newI = this.contentFields.length <br/>      this.contentFields.push({id: newI, cat: '', key: '', lang: '', cont: ''})<br/>    },<br/>    getElements(e){<br/>      const newData = this.contentFields.map(obj =&gt; {<br/>        if(obj.id === e.id) <br/>           return { ...obj }<br/>        return obj<br/>      });<br/>    },<br/>    getResult() {<br/>      this.showData = !this.showData<br/>    }<br/>  }<br/>})</span><span id="b50c" class="lu lv in lq b gy ma lx l ly lz">&lt;head&gt;<br/>  &lt;link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet"&gt;<br/>  &lt;link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet"&gt;<br/>  &lt;link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet"&gt;<br/>  &lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;v-app&gt;<br/>      &lt;v-main&gt;<br/>        &lt;v-container&gt;<br/>          &lt;v-btn<br/>            color="primary"<br/>            elevation="10"<br/>            class="space"<br/>            large<br/>            @click="addInput"<br/>          &gt;Add Categ &amp; Key&lt;/v-btn&gt;<br/>          &lt;v-container v-for="(content, i) in contentFields" :key="i"&gt;<br/>            &lt;child :conte="content" @show="getElements" /&gt;<br/>          &lt;/v-container&gt;<br/>          &lt;v-btn<br/>            color="secondary"<br/>            elevation="13"<br/>            class="btnEl"<br/>            dark<br/>            large<br/>            @click="getResult"<br/>          &gt;Save Data&lt;/v-btn&gt;<br/>          &lt;div v-if="showData"&gt;{{ contentFields }}&lt;/div&gt;<br/>        &lt;/v-container&gt;<br/>      &lt;/v-main&gt;<br/>    &lt;/v-app&gt;<br/>  &lt;/div&gt;<br/><br/>  &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"&gt;&lt;/script&gt;<br/>  &lt;script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"&gt;&lt;/script&gt;</span></pre><p id="31bf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">运行代码段。</p><h1 id="fbbc" class="na lv in bd me nb nc nd mh ne nf ng mk jt nh ju mn jw ni jx mq jz nj ka mt nk bi translated"><a class="ae ks" href="https://vuejs.org/v2/guide/components.html#Passing-Data-to-Child-Components-with-Props" rel="noopener ugc nofollow" target="_blank">用道具传递数据给子组件</a></h1><p id="f287" class="pw-post-body-paragraph kt ku in kv b kw mv jo ky kz mw jr lb lc mx le lf lg my li lj lk mz lm ln lo ig bi translated">前面，我们提到了为博客文章创建一个组件。问题是，除非您可以向该组件传递数据，例如我们想要显示的特定帖子的标题和内容，否则该组件没有用。这就是道具的用武之地。</p><p id="eefa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">属性是可以在组件上注册的自定义属性。当一个值被传递给一个适当属性时，它就成为组件实例上的一个属性。要将标题传递给我们的博客文章组件，我们可以使用一个<code class="fe nl nm nn lq b">props</code>选项将它包含在该组件接受的道具列表中:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="0fa6" class="lu lv in lq b gy lw lx l ly lz">Vue.component('blog-post', {<br/>  props: ['title'],<br/>  template: '&lt;h3&gt;{{ title }}&lt;/h3&gt;'<br/>})</span></pre><p id="3cc8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一个组件可以有任意多的属性，默认情况下，任何值都可以传递给任何属性。在上面的模板中，您将看到我们可以在组件实例上访问这个值，就像使用<code class="fe nl nm nn lq b">data</code>一样。</p><p id="876d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一旦注册了一个属性，就可以将数据作为自定义属性传递给它，如下所示:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="5f89" class="lu lv in lq b gy lw lx l ly lz">&lt;blog-post title="My journey with Vue"&gt;&lt;/blog-post&gt;<br/>&lt;blog-post title="Blogging with Vue"&gt;&lt;/blog-post&gt;<br/>&lt;blog-post title="Why Vue is so fun"&gt;&lt;/blog-post&gt;</span></pre><p id="980f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在你知道了。感谢您的阅读。</p><p id="776a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mb">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mb">说白了就是io </em> </strong> </a> <em class="mb">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mb">免费周报</em> </strong> </a> <em class="mb">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mb">社区获得独家访问写作机会和建议</em> </strong> </a> <em class="mb">。</em></p></div></div>    
</body>
</html>