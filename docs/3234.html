<html>
<head>
<title>How to Use ‘React.FC’ Children Prop in React 18 with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React？React 18中的“FC”子道具与TypeScript</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-react-fc-children-prop-in-react-18-with-typescript-6ab7b2c901ce?source=collection_archive---------2-----------------------#2022-08-11">https://javascript.plainenglish.io/how-to-use-react-fc-children-prop-in-react-18-with-typescript-6ab7b2c901ce?source=collection_archive---------2-----------------------#2022-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="2858" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">打字稿和反应提示</h2><div class=""/><div class=""><h2 id="d5ae" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">如何应对新React 18 "React？FC”类型和TypeScript的“子”属性</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/8ccef759f561ada199489ef55f43d059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TfUXDAdFnZZL8_A4XkZjfQ.png"/></div></div></figure><p id="1b1f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">🇫🇷这篇文章在Coding Spark博客上有法语版本，还有一些很酷的东西！ </p><p id="3da5" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">使用新的React。FC组件类型，您可能会以以下错误结束:</p><pre class="kp kq kr ks gt lx ly lz ma aw mb bi"><span id="dd5e" class="mc md iq ly b gy me mf l mg mh">Property ‘children’ does not exist on type &lt;YourCustomTypeProps&gt;</span></pre><p id="d15f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这是因为在React的最新版本中<strong class="lc ja">类型签名发生了变化。</strong></p><h1 id="7f93" class="mi md iq bd mj mk ml mm mn mo mp mq mr kf ms kg mt ki mu kj mv kl mw km mx my bi translated">FC签名为什么变了？</h1><p id="8720" class="pw-post-body-paragraph la lb iq lc b ld mz ka lf lg na kd li lj nb ll lm ln nc lp lq lr nd lt lu lv ij bi translated">从<code class="fe ne nf ng ly b">React.FunctionComponent</code> ( <code class="fe ne nf ng ly b">React.FC</code>)中移除了<code class="fe ne nf ng ly b">children</code>属性，因此您必须在组件属性中显式声明它。</p><p id="8837" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">TLDR；它可以防止这样的错误:</p><pre class="kp kq kr ks gt lx ly nh bn ni nj bi"><span id="2e20" class="nk md iq ly b be nl nm l nn mh">const ComponentWithNoChildren: React.FC = () =&gt; &lt;&gt;Hello&lt;/&gt;;<br/>...<br/>&lt;ComponentWithNoChildren&gt;<br/>   // passing children is wrong since component does not accept any<br/>   &lt;UnusedChildrenSinceComponentHasNoChildren /&gt; <br/>&lt;/ComponentWithNoChildren&gt;</span></pre><p id="c953" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这样，您可以确定您使用的组件正在处理子组件，甚至改进您的代码库和质量。</p><h1 id="6863" class="mi md iq bd mj mk ml mm mn mo mp mq mr kf ms kg mt ki mu kj mv kl mw km mx my bi translated">如何玩React？FC和React 18+中的儿童</h1><h2 id="2f7f" class="mc md iq bd mj no np dn mn nq nr dp mr lj ns nt mt ln nu nv mv lr nw nx mx iw bi translated">以前</h2><p id="4d61" class="pw-post-body-paragraph la lb iq lc b ld mz ka lf lg na kd li lj nb ll lm ln nc lp lq lr nd lt lu lv ij bi translated">在之前的版本中，<code class="fe ne nf ng ly b">children</code>道具已经被定义为<code class="fe ne nf ng ly b">React.FC</code>类型中的可选属性。</p><pre class="kp kq kr ks gt lx ly nh bn ni nj bi"><span id="8cd4" class="nk md iq ly b be nl nm l nn mh">import * as React from 'react';<br/><br/>type Props = {};<br/>const Component: React.FC&lt;Props&gt; = ({children}) =&gt; {...}</span></pre><h2 id="3082" class="mc md iq bd mj no np dn mn nq nr dp mr lj ns nt mt ln nu nv mv lr nw nx mx iw bi translated">在...之后</h2><p id="27e5" class="pw-post-body-paragraph la lb iq lc b ld mz ka lf lg na kd li lj nb ll lm ln nc lp lq lr nd lt lu lv ij bi translated">在最近的版本中，这一点已被删除。现在，您必须根据您的需要明确地指定它。它可以是可选的，也可以是必需的，这取决于你自己的逻辑。</p><pre class="kp kq kr ks gt lx ly nh bn ni nj bi"><span id="77c9" class="nk md iq ly b be nl nm l nn mh">import * as React from 'react';<br/><br/>type Props = {<br/>  children?: React.ReactNode<br/>};<br/>const Component: React.FC&lt;Props&gt; = ({children}) =&gt; {...}</span></pre><h1 id="04d8" class="mi md iq bd mj mk ml mm mn mo mp mq mr kf ms kg mt ki mu kj mv kl mw km mx my bi translated">但是如果我想保持以前的反应呢。有儿童行为的FC？</h1><p id="730e" class="pw-post-body-paragraph la lb iq lc b ld mz ka lf lg na kd li lj nb ll lm ln nc lp lq lr nd lt lu lv ij bi translated">您可以通过创建自定义类型定义文件来覆盖react类型。它可以是您已经存在的全局变量，或者您可以创建一个新的名为arbitrary <code class="fe ne nf ng ly b">react.d.ts</code>的变量，该变量在您的TypeScript编译器的范围内。</p><p id="51dc" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">以下定义会将类型恢复为<code class="fe ne nf ng ly b">@types/react v17</code>:</p><pre class="kp kq kr ks gt lx ly nh bn ni nj bi"><span id="6dad" class="nk md iq ly b be nl nm l nn mh">import * as React from '@types/react';<br/><br/>declare module 'react' {<br/>  interface FunctionComponent&lt;P = {}&gt; {<br/>    (props: PropsWithChildren&lt;P&gt;, context?: any): ReactElement&lt;any, any&gt; | null;<br/>  }<br/>}</span></pre><p id="7903" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">现在让我们享受强类型定义！</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="3630" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><em class="of">更多内容请看</em><a class="ae lw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lc ja"><em class="of">plain English . io</em></strong></a><em class="of">。报名参加我们的</em> <a class="ae lw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ja"> <em class="of">免费周报</em> </strong> </a> <em class="of">。关注我们关于</em><a class="ae lw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lc ja"><em class="of">Twitter</em></strong></a><a class="ae lw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lc ja"><em class="of">LinkedIn</em></strong></a><em class="of">，以及</em> <a class="ae lw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ja"> <em class="of">不和</em> </strong> </a> <em class="of">。</em></p></div></div>    
</body>
</html>