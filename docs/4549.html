<html>
<head>
<title>Asynchronous JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">异步JavaScript</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/asynchronous-javascript-f4da24dd0a21?source=collection_archive---------15-----------------------#2022-12-12">https://javascript.plainenglish.io/asynchronous-javascript-f4da24dd0a21?source=collection_archive---------15-----------------------#2022-12-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/df9645df694aaf5f9bd1b3499f965bcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*veWtXqCrkOkI5vH_tkgevw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">The above image is created by Divyojyoti Ghosh(me) on <a class="ae jz" href="http://www.canva.com/" rel="noopener ugc nofollow" target="_blank">www.canva.com</a> using different elements available for making designs.</figcaption></figure><p id="e7b1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在开始理解JavaScript中的异步编程之前，让我们先了解一下JavaScript中的同步编程是什么意思。我们用JavaSript编写的大部分代码都是同步的。</p><p id="bc76" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">同步代码的执行逐行发生<strong class="kc io"/>，这意味着，在一行的执行开始之前，它等待最后一行的执行结束。</p><p id="d0e3" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这一切都工作得很好，但是如果一个<strong class="kc io">长时间运行的同步任务</strong>发生，它就成了代码的一个障碍，它必须等待长任务的完成。例如，有时网页需要加载一些数据或为页面的一部分执行一个函数，这可能会花费很多时间，如果我们使用同步代码，整个UI将变得无响应，直到函数或数据的执行被完全加载。</p><p id="eb98" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">脸书的通知可以是一个很好的例子，如果脸书在通知中使用同步代码进行更新，每次新的通知到来时，整个UI都会停止加载新的通知，在加载新的通知期间，滚动将不起作用，我们也不能喜欢或评论任何帖子。</p><p id="5e82" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript中的异步编程允许程序执行一个潜在的长时间运行的任务，并且仍然响应其他事件，当长时间运行的任务被完全执行时，它的结果被呈现。</p><h1 id="810a" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">复试</h1><p id="dd52" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">异步任务的一个问题是，如果它在后台运行，我们如何知道它已经完成了？回调就是对这个问题的回答，回调是一个传递给另一个函数并在任务完成时被调用的函数。我们还需要理解回调的使用并不总是意味着它是异步的，它完全取决于回调作为参数传递的函数。<code class="fe mb mc md me b">setTimeout()</code>函数是一个很好的例子，其中我们将计时器计数作为第一个参数传递，将回调作为第二个参数传递。</p><figure class="mf mg mh mi gt jo"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Code Snippet 1</figcaption></figure><p id="b0ec" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上述代码片段的输出是:</p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/78d9bfc0b8a3c67509c51f7080cc52b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*glBBCCVziclI2GMee7hfKA.png"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Output for Code Snippet 1</figcaption></figure><p id="2c0b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">3在4之后被记录，这是因为setTimeout函数，它在后台运行一个5000毫秒的计时器，然后将3记录到控制台，但是setTimeout函数不会阻止它下面的代码，因为它是异步工作的。<code class="fe mb mc md me b">function(){print(3)}</code>作为setTimeout函数的回调函数，一旦超过5000毫秒，调用回调函数，然后记录3作为输出。</p><h1 id="9c2a" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">事件处理程序</h1><p id="3963" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">addEventListener函数是一个非常常见的函数，用于处理任何事件。它至少有两个参数，第一个是“事件类型”，第二个是“事件处理程序”。<strong class="kc io">事件处理器</strong>基本上是一个回调函数，一旦事件发生就会被执行。</p><p id="7282" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">该函数异步工作，因为它不阻塞任何其他代码，并且它在后台运行，一旦事件异步完成，就调用事件处理函数。</p><p id="5b88" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">除了许多UI事件，addEventListener还可以用于处理API调用，作为参数传递的事件处理程序可以在API调用完成后发出通知。下面的代码片段就是一个很好的例子。</p><figure class="mf mg mh mi gt jo"><div class="bz fp l di"><div class="mj mk l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Code Snippet 2</figcaption></figure><p id="0946" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码片段中，用户请求一个API URL，一旦用户输入该URL，该URL将作为对用户输入的反馈记录在控制台上，并且异步进行API调用。同时，没有代码被阻塞，最后一条语句在控制台上记录“Loading…”。一旦API调用完成，状态就会记录在控制台上。</p><p id="9cf2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上述代码片段的输出如下-</p><figure class="mf mg mh mi gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mm"><img src="../Images/d32bc14b7642a7384675855a8ab262f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WuP0aSrV3nq5YvN8D2p_pQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Output for code snippet 2</figcaption></figure><h1 id="4644" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">资源</h1><p id="27ab" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated"><a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Introducing" rel="noopener ugc nofollow" target="_blank">介绍异步JavaScript —学习web开发| MDN(mozilla.org)</a></p><p id="26d4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae jz" href="https://www.udemy.com/course/the-complete-javascript-course/" rel="noopener ugc nofollow" target="_blank">https://www . udemy . com/course/the-complete-JavaScript-course/</a></p><div class="mn mo gp gr mp mq"><a href="https://gist.github.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd io gy z fp mv fr fs mw fu fw im bi translated">发现要点</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">以下问题列表摘自…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">gist.github.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jt mq"/></div></div></a></div><h2 id="8ced" class="nf kz in bd la ng nh dn le ni nj dp li kl nk nl lm kp nm nn lq kt no np lu nq bi translated">更多内容请访问<a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="e8a0" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated"><em class="nr">报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nr">免费每周简讯</em> </strong> </a> <em class="nr">。关注我们关于</em> <a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nr">推特</em> </strong> </a>、<a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nr">领英</em> </strong> </a> <strong class="kc io"> <em class="nr">、</em></strong><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="nr">YouTube</em></strong></a><strong class="kc io"><em class="nr">，以及</em></strong><em class="nr"/><a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="nr">不和</em> </strong> </a>T53】</p><h2 id="9278" class="nf kz in bd la ng nh dn le ni nj dp li kl nk nl lm kp nm nn lq kt no np lu nq bi translated">想扩大你的软件创业规模吗？检查<a class="ae jz" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div></div>    
</body>
</html>