<html>
<head>
<title>JavaScript Destructuring Explained in Plain English</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用简单的英语解释JavaScript析构</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-destructuring-explained-in-plain-english-1cd457419393?source=collection_archive---------14-----------------------#2022-01-31">https://javascript.plainenglish.io/javascript-destructuring-explained-in-plain-english-1cd457419393?source=collection_archive---------14-----------------------#2022-01-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="97de" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于JavaScript中的对象/数组析构，您只需要知道</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8342dad8c0fd17f78dc26d30652d5876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4fC-kCYmZxMgI5J2"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@srkraakmo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stephen Kraakmo</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3c10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">析构赋值是从对象中提取属性或者从数组中提取值到变量中的一种方便的语法。</p><h1 id="c3b8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">数组析构</h1><p id="bb72" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">数组析构是一种从数组中解包值并将它们赋给变量的简化方法。例如，不这样做</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="7cb6" class="mu lt iq mq b gy mv mw l mx my">const fruits = ['Apple', 'Orange', 'Watermelon'];<br/>const apple = fruits[0];</span></pre><p id="7518" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">做这个</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="176d" class="mu lt iq mq b gy mv mw l mx my">const fruits = ['Apple', 'Orange', 'Watermelon'];</span><span id="7ae8" class="mu lt iq mq b gy mz mw l mx my">// extract the element at 0 index <br/>// and assign it to a constant variable apple<br/>const [apple] = fruits;</span><span id="5bad" class="mu lt iq mq b gy mz mw l mx my">console.log(apple); // Apple</span></pre><h2 id="8e8b" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">默认值</h2><p id="59f6" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当你析构一个不存在的值时，这个值被赋值<code class="fe nl nm nn mq b">undefined</code>。例如</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="ea08" class="mu lt iq mq b gy mv mw l mx my">const persons = ['John', 'Mark'];<br/>const [person1, person2, preson3] = persons;</span><span id="39a1" class="mu lt iq mq b gy mz mw l mx my">console.log(person1); // John<br/>console.log(person2); // Mark<br/>console.log(person3); // undefined</span></pre><p id="6794" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们可以指定一个默认值，比如</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6e23" class="mu lt iq mq b gy mv mw l mx my">const persons = ['John', 'Mark'];<br/>const [person1, person2, <strong class="mq ir">preson3 = 'Sara'</strong>] = persons;</span><span id="230c" class="mu lt iq mq b gy mz mw l mx my">console.log(person3); // Sara</span></pre><h2 id="a738" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">忽略数组元素</h2><p id="76de" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果您对特定索引处的数组元素不感兴趣，可以这样做</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="31e6" class="mu lt iq mq b gy mv mw l mx my">const fruits = ['Apple', 'Orange', 'Watermelon'];</span><span id="2e53" class="mu lt iq mq b gy mz mw l mx my">// ingore element at index 1<br/>const [apple, , watermelon] = fruits;</span><span id="eaf9" class="mu lt iq mq b gy mz mw l mx my">console.log(apple); // Apple<br/>console.log(watermelon); // Watermelon</span></pre><h2 id="4c36" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">将其余元素赋给一个变量</h2><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="7b4b" class="mu lt iq mq b gy mv mw l mx my">const fruits = ['Apple', 'Orange', 'Watermelon'];</span><span id="2286" class="mu lt iq mq b gy mz mw l mx my">const [apple, ...restFruits] = fruits</span><span id="266a" class="mu lt iq mq b gy mz mw l mx my">console.log(apple); // Apple<br/>constole.log(restFruits); // ['Orange', 'Watermelon']</span></pre><h2 id="6511" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">析构函数参数</h2><p id="a8dc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以在函数的签名中使用析构来提取所需的值</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="9165" class="mu lt iq mq b gy mv mw l mx my"><strong class="mq ir">function addListeners([elem1, elem2, ...rest]) {</strong><br/>  elem1.addEventListener('click', () =&gt; {});<br/>  elem2.addEventListener('click', () =&gt; {});<br/>}</span><span id="85dd" class="mu lt iq mq b gy mz mw l mx my">const elements = [<br/>  document.getElementById('div1'),<br/>  document.getElementById('div2'),<br/>];</span><span id="42cd" class="mu lt iq mq b gy mz mw l mx my">addListeners(elements);</span></pre><p id="ee39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也可以使用数组析构来交换变量</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="52d7" class="mu lt iq mq b gy mv mw l mx my">let a = 1;<br/>let b = 2;</span><span id="6d12" class="mu lt iq mq b gy mz mw l mx my">[b,a] = [a,b];</span><span id="622c" class="mu lt iq mq b gy mz mw l mx my">console.log(b); // 1<br/>console.log(a); // 2</span></pre></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><h1 id="827d" class="ls lt iq bd lu lv nv lx ly lz nw mb mc jw nx jx me jz ny ka mg kc nz kd mi mj bi translated">对象析构</h1><p id="7d68" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">对象析构允许你将一个对象的属性解包到不同的变量中。</p><p id="6fd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而不是这样做</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="35e5" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White, model: 1998 };</span><span id="c94d" class="mu lt iq mq b gy mz mw l mx my">const color = car.color;<br/>const model = car.model;</span></pre><p id="f4ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">做这个</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="0aa2" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White', model: 1998 };</span><span id="86be" class="mu lt iq mq b gy mz mw l mx my">const { color, model } = car;</span><span id="0257" class="mu lt iq mq b gy mz mw l mx my">console.log(color); // White<br/>console.log(model); // 1998</span></pre><h2 id="8740" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">析构时重命名</h2><p id="37f1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以析构属性，同时重命名它</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6023" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White', model: 1998 };</span><span id="f8e6" class="mu lt iq mq b gy mz mw l mx my">// extract car color and name it something else<br/>const { color: carColor } = car;</span><span id="92c9" class="mu lt iq mq b gy mz mw l mx my">console.log(carColor);</span></pre><p id="8b6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个例子</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="5241" class="mu lt iq mq b gy mv mw l mx my">const { test: renamedTest } = require('some-lib');</span></pre><h2 id="9950" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">默认值</h2><p id="aa8e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">给析构属性赋一个默认值。当析构的属性与对象的属性不匹配时，将使用该值。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="7fc8" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White', model: 1998 };</span><span id="56a6" class="mu lt iq mq b gy mz mw l mx my">const {<br/>  color,<br/>  model,<br/>  make = 'Toyota'<br/>} = car;</span><span id="7a05" class="mu lt iq mq b gy mz mw l mx my">console.log(color); // White<br/>console.log(make); // Toyota</span></pre><p id="0421" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者为重命名的属性分配默认值</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="4bbf" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White', model: 1998 };</span><span id="178a" class="mu lt iq mq b gy mz mw l mx my">const { make: carMake = 'Toyota' } = car;</span><span id="617b" class="mu lt iq mq b gy mz mw l mx my">console.log(carMake); // Toyota</span></pre><h2 id="5562" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">将对象的其余部分赋给变量</h2><p id="8987" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在析构的时候，我们可以将对象的剩余属性赋给一个变量，比如</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="8fab" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White', model: 1998, make: 'Toyota' };</span><span id="6864" class="mu lt iq mq b gy mz mw l mx my">const { color, ...rest } = car;</span><span id="b78f" class="mu lt iq mq b gy mz mw l mx my">console.log(color); // White<br/>console.log(rest); // { model: 1998, make: 'Toyota' }</span></pre><h2 id="d1e4" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">用动态属性名进行析构</h2><p id="296a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当您不知道要从对象中提取的属性的名称时，这很有帮助</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="20ac" class="mu lt iq mq b gy mv mw l mx my">const car = { color: 'White', model: 1998 };</span><span id="dfeb" class="mu lt iq mq b gy mz mw l mx my">const key = 'color';<br/>const { [key]: carColor } = car;</span><span id="0c1a" class="mu lt iq mq b gy mz mw l mx my">console.log(carColor); // White</span></pre><h2 id="5aaa" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">用无效标识符进行析构</h2><p id="354c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">标识符是标识变量、函数或属性的字符序列。我们可以使用析构从一个标识符无效的对象中提取属性</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="500e" class="mu lt iq mq b gy mv mw l mx my">const car = {<br/>  color: 'White',<br/>  'make-model': 'Toyota 1998'<br/>};</span><span id="f3f0" class="mu lt iq mq b gy mz mw l mx my"><strong class="mq ir">// extract a property 'make-model'<br/>// and assign it to a constant variable makeModel</strong><br/><strong class="mq ir">const { 'make-model': makeModel } = car;</strong></span><span id="12df" class="mu lt iq mq b gy mz mw l mx my">console.log(makeModel); // Toyota 1998</span><span id="c662" class="mu lt iq mq b gy mz mw l mx my">// OR<br/>const key = 'make-model'<br/>const { [key]: makeModel } = car;<br/>console.log(makeModel); // Toyota 1998</span></pre><h2 id="04f1" class="mu lt iq bd lu na nb dn ly nc nd dp mc lf ne nf me lj ng nh mg ln ni nj mi nk bi translated">析构函数参数</h2><p id="e089" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">如果你的函数接受一个对象作为参数，那么你可以像这样析构它的属性</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="4003" class="mu lt iq mq b gy mv mw l mx my"><strong class="mq ir">function printCarInfo({ color, model, make = 'Toyota' }){</strong><br/>  console.log(color); // White<br/>  console.log(model); // 1998<br/>  console.log(make); // Toyota<br/>}</span><span id="09ae" class="mu lt iq mq b gy mz mw l mx my">const car = { color: 'White', model: 1998 };</span><span id="7f2f" class="mu lt iq mq b gy mz mw l mx my">printCarInfo(car);</span></pre></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><h1 id="3fdf" class="ls lt iq bd lu lv nv lx ly lz nw mb mc jw nx jx me jz ny ka mg kc nz kd mi mj bi translated">组合对象和数组析构</h1><p id="ee1e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以一起使用对象和数组析构来提取所需的值</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="b389" class="mu lt iq mq b gy mv mw l mx my">const cars = [<br/>  { color: 'White', make: 'Toyota' },<br/>  { color: 'Red', make: 'Hyundai' },<br/>  { color: 'Black', make: 'KIA' },<br/>];</span><span id="9006" class="mu lt iq mq b gy mz mw l mx my">// ignore first two elements of cars array<br/>// extract color and make from the object at index 2<br/>const [, , { color, make }] = cars;</span><span id="2d6d" class="mu lt iq mq b gy mz mw l mx my">console.log(color); // Black<br/>console.log(make); // KIA</span></pre></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><h1 id="5c24" class="ls lt iq bd lu lv nv lx ly lz nw mb mc jw nx jx me jz ny ka mg kc nz kd mi mj bi translated">嵌套解构</h1><p id="bd37" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以从一个对象中访问嵌套属性，比如</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="185e" class="mu lt iq mq b gy mv mw l mx my">const person = {<br/>  name: 'John Doe',<br/>  email: 'johndoe@gmail.com',<br/>  address: {<br/>    city: 'NY'<br/>    country: 'USA',<br/>    coordinates: {<br/>      x: 1,<br/>      y: 2,<br/>    }<br/>  }<br/>};</span><span id="0e05" class="mu lt iq mq b gy mz mw l mx my">const { name, address: { city } } = person;</span><span id="41b1" class="mu lt iq mq b gy mz mw l mx my">console.log(name); // John Doe<br/>console.log(city); // NY</span></pre><p id="c859" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在上面的代码片段中定义了两个变量，<code class="fe nl nm nn mq b">name</code>和<code class="fe nl nm nn mq b">city</code>。我们可以到这里的另一个嵌套层次</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="c870" class="mu lt iq mq b gy mv mw l mx my">const { address: { city, coordinates: { x, y } } } = person;</span><span id="0744" class="mu lt iq mq b gy mz mw l mx my">console.log(city); NY<br/>console.log(x, y); // 1 2</span></pre><p id="ba60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更深入地访问嵌套属性会降低代码的可读性和迷惑性，所以要小心使用。</p></div><div class="ab cl no np hu nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="ij ik il im in"><p id="a6fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是JavaScript中的析构。希望这篇教程对你有用。感谢阅读</p><h1 id="8bdb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">也阅读</h1><div class="oa ob gp gr oc od"><a href="https://betterprogramming.pub/how-to-create-modern-npm-packages-7c41cf610156" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">如何创建现代NPM包</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">掌握从创建基本包到CI/CD和ES6支持的所有方法</h3></div></div><div class="ol l"><div class="om l on oo op ol oq kp od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://betterprogramming.pub/10-modern-javascript-tricks-every-developer-should-use-377857311d79" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">每个开发人员都应该使用的10个现代JavaScript技巧</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">编写简短、简洁、干净的JavaScript代码的技巧</h3></div></div><div class="ol l"><div class="or l on oo op ol oq kp od"/></div></div></a></div><p id="b58b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="os">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="os">plain English . io</em></strong></a><em class="os">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="os">免费周报</em> </strong> </a> <em class="os">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="os">社区</em> </strong> </a> <em class="os">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>