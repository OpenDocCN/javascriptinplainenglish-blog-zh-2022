<html>
<head>
<title>TypeScript 4.9 is Huge!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript 4.9是巨大的！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typescript-4-9-is-huge-ff94046e0ee5?source=collection_archive---------0-----------------------#2022-11-18">https://javascript.plainenglish.io/typescript-4-9-is-huge-ff94046e0ee5?source=collection_archive---------0-----------------------#2022-11-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/1a8aa20a9f63650387c25ac20300cbff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*r5BuWF0tf9Zlu7wW.png"/></div></div></figure><h1 id="7b25" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">介绍</h1><p id="8543" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">如果你不知道，TypeScript是一种基于JavaScript的语言，用于类型安全编程。TypeScript在业界已经非常有名了，微软上周刚刚公布了TypeScript 4.9。</p><h1 id="c264" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">有什么新鲜事？</h1><h2 id="3cae" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated"><code class="fe md me mf mg b">satisfies</code>操作员</h2><p id="1726" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><code class="fe md me mf mg b">satisfies</code>操作符的目的是在不改变变量类型的情况下对变量施加条件。</p><p id="0525" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">例如，你想说一种颜色是一个字符串，或一种RGB颜色，看起来像这样:</p><pre class="mm mn mo mp gt mq mg mr bn ms mt bi"><span id="84d1" class="mu jw in mg b be mv mw l mx my">type RGB = [red: number, green: number, blue: number];<br/>type Color = RGB | string;<br/><br/>const myColor: Color = 'blue';</span></pre><p id="c7ab" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">我们不知道<code class="fe md me mf mg b">myColor</code>是字符串还是RGB颜色。所以我们不能做类似于<code class="fe md me mf mg b">myColor.toLowerCase()</code>的事情，即使它是一个字符串。</p><p id="babd" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">但是现在，有了TS 4.9，<code class="fe md me mf mg b">satisfies</code>操作符使这成为可能:</p><pre class="mm mn mo mp gt mq mg mr bn ms mt bi"><span id="54b4" class="mu jw in mg b be mv mw l mx my">type RGB = [red: number, green: number, blue: number];<br/>type Color = RGB | string;<br/><br/>const myColor = 'blue' satisfies Color; // works<br/>const myIncorrectColor = 420 satisfies Color; // error<br/><br/>myColor.toUpperCase(); // valid because myColor is a string</span></pre><h2 id="344a" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">类中的自动访问器</h2><p id="9b7f" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">TS 4.9支持ECMAScript中即将推出的一个特性，称为自动访问器。自动访问器就像类的属性一样被声明，除了它们是用<code class="fe md me mf mg b">accessor</code>关键字声明的。</p><pre class="mm mn mo mp gt mq mg mr bn ms mt bi"><span id="1cda" class="mu jw in mg b be mv mw l mx my">class Person {<br/>    accessor name: string;<br/><br/>    constructor(name: string) {<br/>        this.name = name;<br/>    }<br/>}</span></pre><p id="8eda" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">引擎盖下是什么样子:</p><pre class="mm mn mo mp gt mq mg mr bn ms mt bi"><span id="c56a" class="mu jw in mg b be mv mw l mx my">class Person {<br/>    #__name: string;<br/><br/>    get name() {<br/>        return this.#__name;<br/>    }<br/>    set name(value: string) {<br/>        this.#__name = name;<br/>    }<br/><br/>    constructor(name: string) {<br/>        this.name = name;<br/>    }<br/>}</span></pre><h2 id="b470" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">在<code class="fe md me mf mg b">NaN</code>检查相等性</h2><p id="97bb" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated"><code class="fe md me mf mg b">NaN</code>是一个特殊的数值，代表“不是数字”。什么都不等于<code class="fe md me mf mg b">NaN</code>。</p><p id="4899" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">TypeScript现在在与<code class="fe md me mf mg b">NaN</code>的直接比较中出错，并将建议使用<code class="fe md me mf mg b">Number.isNaN</code>的一些变体。</p><h2 id="1ec1" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">“移除未使用的导入”和“排序导入”命令</h2><p id="e05e" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">过去，TypeScript在TS 4.3上只支持两个管理导入的编辑器命令:“组织导入”和“排序导入”</p><p id="956c" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">TypeScript 4.9增加了更多，现在提供了“移除未使用的导入”。TypeScript现在将移除未使用的导入名称和语句，但会保留相对顺序。</p><h2 id="2c20" class="lr jw in bd jx ls lt dn kb lu lv dp kf le lw lx kj li ly lz kn lm ma mb kr mc bi translated">使用<code class="fe md me mf mg b">in</code>运算符缩小未列出的属性</h2><p id="54b1" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">作为开发人员，我们经常需要处理运行时不完全知道的值。事实上，我们经常不知道属性是否存在，不管我们是从服务器获得响应还是读取配置文件。JavaScript的<code class="fe md me mf mg b">in</code>操作符可以检查对象上是否存在属性。</p><p id="b9f5" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">当缩小<em class="mz">根本不</em>列出属性的类型时，TypeScript 4.9使<code class="fe md me mf mg b">in</code>操作符变得更加强大。这种语言不会让它们保持原样，而是将它们的类型与<code class="fe md me mf mg b">Record&lt;"property-key-being-checked", unknown&gt;</code>相交。</p><p id="f8f5" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">TypeScript 4.9还加强了对如何使用<code class="fe md me mf mg b">in</code>的一些检查，确保左侧可赋给类型<code class="fe md me mf mg b">string | number | symbol</code>，右侧可赋给<code class="fe md me mf mg b">object</code>。这有助于检查我们是否使用了有效的属性键，而不是意外地检查原语。</p><h1 id="be71" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">结论</h1><p id="c4dd" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">本文只是对TypeScript 4.9补丁说明的一个总结。希望你能赶上你的堆栈的最新信息。</p><p id="ef42" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated">参考:<a class="ae na" href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-9/" rel="noopener ugc nofollow" target="_blank">https://dev blogs . Microsoft . com/typescript/announcing-typescript-4-9/</a></p><h1 id="d761" class="jv jw in bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">遗言</h1><p id="34c0" class="pw-post-body-paragraph kt ku in kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq ig bi translated">虽然我的内容对每个人都是免费的，但是如果你觉得这篇文章有帮助，<a class="ae na" href="https://www.buymeacoffee.com/kylele19" rel="noopener ugc nofollow" target="_blank">你可以在这里给我买杯咖啡</a></p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><p id="1e09" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated"><em class="mz">更多内容看</em> <a class="ae na" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">说白了。</em></strong></a></p><p id="6890" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated"><em class="mz">报名参加我们的</em> <a class="ae na" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">免费周报</em> </strong> </a> <em class="mz">。关注我们关于</em> <a class="ae na" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">推特</em> </strong> </a>，<a class="ae na" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">LinkedIn</em></strong></a><em class="mz">，</em><a class="ae na" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">YouTube</em></strong></a><em class="mz">，以及</em> <a class="ae na" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">不和</em> </strong> </a> <strong class="kv io"> <em class="mz">。</em> </strong></p><p id="cc85" class="pw-post-body-paragraph kt ku in kv b kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm ml lo lp lq ig bi translated"><strong class="kv io"> <em class="mz">有兴趣缩放你的软件启动</em> </strong> <em class="mz">？检查出</em> <a class="ae na" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">电路</em> </strong> </a> <em class="mz">。</em></p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><h1 id="e858" class="jv jw in bd jx jy ni ka kb kc nj ke kf kg nk ki kj kk nl km kn ko nm kq kr ks bi translated">进一步阅读</h1><div class="nn no gp gr np nq"><a rel="noopener  ugc nofollow" target="_blank" href="/typescript-made-easy-a-guide-to-your-first-type-safe-app-with-next-js-wundergraph-and-prisma-e197a59e2b30"><div class="nr ab fo"><div class="ns ab nt cl cj nu"><h2 class="bd io gy z fp nv fr fs nw fu fw im bi translated">轻松编写类型脚本:使用Next.js、WunderGraph和Prisma编写第一个类型安全应用程序的指南</h2><div class="nx l"><h3 class="bd b gy z fp nv fr fs nw fu fw dk translated">是时候抛开恐惧，学习TypeScript了。让我们给你第一次“发现！”瞬间通过建立一个完整的…</h3></div><div class="ny l"><p class="bd b dl z fp nv fr fs nw fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nz l"><div class="oa l ob oc od nz oe jt nq"/></div></div></a></div></div></div>    
</body>
</html>