<html>
<head>
<title>How to Download Data From a URL with JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript从一个URL下载数据？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-download-data-from-a-url-with-javascript-1cb2b50a53c1?source=collection_archive---------0-----------------------#2022-12-03">https://javascript.plainenglish.io/how-to-download-data-from-a-url-with-javascript-1cb2b50a53c1?source=collection_archive---------0-----------------------#2022-12-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1d048881549af2338a617c9a90ddcc9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ysro7zz9yxKbRybE"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@aaronalvaradome?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Aaron Alvarado</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f178" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望使用JavaScript以编程方式从URL下载数据到文件。</p><p id="3be4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在他的文章中，我们将研究如何使用JavaScript以编程方式从URL下载数据到文件。</p><h1 id="c43c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">创建一个不可见的链接并单击它</h1><p id="8ee9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建一个不可见的链接，用JavaScript点击它下载一个文件。</p><p id="c307" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们写道:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="6d07" class="mn lc iq mj b gy mo mp l mq mr">const downloadURI = (uri, name) =&gt; {<br/>  const link = document.createElement("a");<br/>  link.download = name;<br/>  link.href = uri;<br/>  document.body.appendChild(link);<br/>  link.click();<br/>  document.body.removeChild(link);<br/>}<br/>downloadURI('https://file-examples-com.github.io/uploads/2017/02/file-sample_100kB.doc', 'sample.doc')</span></pre><p id="3227" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe ms mt mu mj b">downloadURI</code>函数，它获取要下载文件的<code class="fe ms mt mu mj b">uri</code>和已下载文件的<code class="fe ms mt mu mj b">name</code>。</p><p id="888b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在函数体中，我们用<code class="fe ms mt mu mj b">document.createElement</code>方法创建了一个<code class="fe ms mt mu mj b">a</code>元素。</p><p id="99db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们用以下内容设置<code class="fe ms mt mu mj b">download</code>属性:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="138e" class="mn lc iq mj b gy mo mp l mq mr">link.download = name;</span></pre><p id="af59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将下载文件的文件名设置为<code class="fe ms mt mu mj b">name</code>。</p><p id="7bf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们用以下内容设置<code class="fe ms mt mu mj b">href</code>属性:</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="5e7e" class="mn lc iq mj b gy mo mp l mq mr">link.href = uri;</span></pre><p id="9311" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe ms mt mu mj b">appendChild</code>将<code class="fe ms mt mu mj b">link</code>追加到body元素。</p><p id="4bf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们通过调用<code class="fe ms mt mu mj b">click</code>点击<code class="fe ms mt mu mj b">link</code>。</p><p id="49e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们调用<code class="fe ms mt mu mj b">removeChild</code>从主体中移除链接。</p><p id="7d2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们运行<code class="fe ms mt mu mj b">downloadURI</code>功能的时候，浏览器直接打不开的文件就要下载。</p><h1 id="206e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="7a0b" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以创建一个不可见的链接，用JavaScript点击它下载一个文件。</p><p id="4663" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a><em class="mv">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们上</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">LinkedIn</em></strong></a><strong class="kf ir"><em class="mv"/></strong><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">YouTube</em></strong></a><strong class="kf ir"><em class="mv"/></strong><em class="mv">和</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">不和</em> </strong> </a>  <em class="mv">对成长黑客感兴趣？检查</em> <a class="ae kc" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">电路</em> </strong> </a> <strong class="kf ir"> <em class="mv">。</em> </strong></p></div></div>    
</body>
</html>