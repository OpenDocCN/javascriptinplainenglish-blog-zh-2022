<html>
<head>
<title>Run-Length Encoding with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript进行游程编码</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/run-length-encoding-21241e00fcbb?source=collection_archive---------8-----------------------#2022-08-25">https://javascript.plainenglish.io/run-length-encoding-21241e00fcbb?source=collection_archive---------8-----------------------#2022-08-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="94d3" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何用JavaScript执行游程编码(RLE)</h2></div><figure class="kc kd ke kf gt kg"><div class="bz fp l di"><div class="kh ki l"/></div></figure><p id="1ddc" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">因此，就简单问题而言，我已经接近AlgoExpert系列的尾声，并对转向中等问题感到兴奋。</p><p id="84c2" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">我已经看到了之前每个简单问题的一些变体，但是这个有点不同(而且很有趣)。</p><h1 id="5ad2" class="lf lg in bd lh li lj lk ll lm ln lo lp jt lq ju lr jw ls jx lt jz lu ka lv lw bi translated">问题是</h1><p id="abfd" class="pw-post-body-paragraph kj kk in kl b km lx jo ko kp ly jr kr ks lz ku kv kw ma ky kz la mb lc ld le ig bi translated">来自维基百科:</p><p id="2a6d" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated"><strong class="kl io"> <em class="mc">游程编码</em></strong><em class="mc">(</em><strong class="kl io"><em class="mc">【RLE】</em></strong><em class="mc">)是</em> <a class="ae md" href="https://en.wikipedia.org/wiki/Lossless_data_compression" rel="noopener ugc nofollow" target="_blank"> <em class="mc">无损数据压缩的一种形式</em> </a> <em class="mc">其中数据的游程(相同数据值出现在许多连续数据元素中的序列)被存储为单个数据值和计数，而不是原始游程。</em></p><p id="89e3" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">所以，简而言之，“aaaaa”可以转换成“5a”，既节省空间又不丢失数据。</p><p id="5d42" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">同样的，“aaabbb”会是“3a3b”</p><p id="1a9c" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">然而，一个额外的复杂性是我们的计数只能达到9。所以，当给定“aaaaaaaaaaaaa”时，我们会以“9a4a”结束。</p><p id="2d35" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">本质上就是这样。</p><p id="1391" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">今天，我将创建处理这种压缩的函数。</p><h1 id="f8ef" class="lf lg in bd lh li lj lk ll lm ln lo lp jt lq ju lr jw ls jx lt jz lu ka lv lw bi translated">仔细想想…</h1><p id="4d83" class="pw-post-body-paragraph kj kk in kl b km lx jo ko kp ly jr kr ks lz ku kv kw ma ky kz la mb lc ld le ig bi translated">我必须承认，这立即让我感到惊讶，因为我属于那种非常简单但包含一些需要解决的固有的笨拙逻辑的特殊算法。</p><p id="59c6" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">我想在构建结果时，在字符串的单次迭代的上下文中处理这个问题。</p><p id="be47" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">那么我该怎么做呢？</p><ol class=""><li id="fff2" class="me mf in kl b km kn kp kq ks mg kw mh la mi le mj mk ml mm bi translated">我将开始对整个字符串进行迭代</li><li id="7ba4" class="me mf in kl b km mn kp mo ks mp kw mq la mr le mj mk ml mm bi translated">我将对照当前值检查下一个值，以检测运行的开始。</li><li id="83d5" class="me mf in kl b km mn kp mo ks mp kw mq la mr le mj mk ml mm bi translated">如果我遇到一次运行，我将开始嵌套迭代，对运行进行编目，然后将相应的数字/字母添加到我的结果字符串中。</li></ol><p id="3268" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">我还没有解决的一件事是我将如何处理运行长度超过9的情况。我会用代码解决这个问题。</p><h1 id="92f3" class="lf lg in bd lh li lj lk ll lm ln lo lp jt lq ju lr jw ls jx lt jz lu ka lv lw bi translated"><strong class="ak">用图表表示出来……</strong></h1><p id="7491" class="pw-post-body-paragraph kj kk in kl b km lx jo ko kp ly jr kr ks lz ku kv kw ma ky kz la mb lc ld le ig bi translated">我将从简单的字符串输入开始</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/5b2f06980a440e18be7120d011530c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JGAovbkw7CyXfS0BFxE1QA.jpeg"/></div></div></figure><p id="0714" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">从这里，我将开始我的外部迭代，并为重复做好准备</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/ea0c050f58c97b51a8cec9b427df78a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JSp5qcigq7zd0UG73OY4Vg.jpeg"/></div></div></figure><p id="40a7" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">现在我已经找到了重复值(运行的开始)，我将开始嵌套迭代，直到找到它的结尾。一旦我找到了运行的终点，我会将适当的数字/字母组合添加到结果中…</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/2a0d82a64faf5427447cf27c10262518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uycOcFXEeo0B0WLF6s5Klw.jpeg"/></div></div></figure><p id="1b74" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">…让我跳到运行结束后的索引处。然后我将通过字符串继续我的外部迭代。</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/1e14ef41d8945e8305d6cb7430051804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P9EBcsFK160Hr8DJmUYNAQ.jpeg"/></div></div></figure><p id="05cd" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">然后对新检测到的运行重复嵌套迭代过程。</p><figure class="kc kd ke kf gt kg gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/456ffe1586941eb6d2bd58c65a3b8397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mOJtKfuQSAZHZlsQtuLC8A.jpeg"/></div></div></figure><h1 id="36fe" class="lf lg in bd lh li lj lk ll lm ln lo lp jt lq ju lr jw ls jx lt jz lu ka lv lw bi translated"><strong class="ak">编码出来</strong></h1><figure class="kc kd ke kf gt kg"><div class="bz fp l di"><div class="kh ki l"/></div></figure><p id="5d7c" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">首先，我概述了我的基本策略。</p><p id="909c" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">我有一个空字符串，我将在其中添加我的运行段，我的计数变量跟踪一次运行中有多少字符，然后我的外部迭代处理输入字符串。</p><p id="17e4" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">从这里，我想开始构建我的迭代块…</p><figure class="kc kd ke kf gt kg"><div class="bz fp l di"><div class="kh ki l"/></div></figure><p id="8071" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">在第7行，我建立了一个索引(在j处),用来比较这个值和我的当前值(在I处)。</p><p id="617b" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">如果这两个相等，那么我的while循环(在第8行)将运行。现在，我让它保持空白，过一会儿我会解决这个问题。</p><p id="1047" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">在第9行，在我的while循环结束后，count应该对运行的长度是准确的，我可以在我的结果中添加必要的数字和字母。</p><p id="386a" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">在第10行，现在我想重置count，并(在第11行)将I向上移动到最后一次运行之后。</p><h2 id="d0c9" class="mz lg in bd lh na nb dn ll nc nd dp lp ks ne nf lr kw ng nh lt la ni nj lv nk bi translated"><strong class="ak"> <em class="nl">现在为while循环</em> </strong></h2><p id="dd74" class="pw-post-body-paragraph kj kk in kl b km lx jo ko kp ly jr kr ks lz ku kv kw ma ky kz la mb lc ld le ig bi translated"><strong class="kl io">(全解)</strong></p><figure class="kc kd ke kf gt kg"><div class="bz fp l di"><div class="kh ki l"/></div></figure><p id="9b4a" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">在while循环中:</p><ul class=""><li id="9082" class="me mf in kl b km kn kp kq ks mg kw mh la mi le nm mk ml mm bi translated">首先，我将增加计数</li><li id="1e36" class="me mf in kl b km mn kp mo ks mp kw mq la mr le nm mk ml mm bi translated">然后，如果count已经是9(我们的极限)，我将增加j继续向前运行，然后也中断while循环。既然while循环已经停止，我将把“9 +字母”添加到我的结果中，向上移动I并继续完成运行。</li><li id="4e5c" class="me mf in kl b km mn kp mo ks mp kw mq la mr le nm mk ml mm bi translated">然而，如果我还没到9岁，那么这个看起来就有点不同了。在这种情况下，我只需要增加j来继续运行。</li></ul><p id="a1bb" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated">Done和<em class="mc"> done！</em></p><figure class="kc kd ke kf gt kg"><div class="bz fp l di"><div class="nn ki l"/></div></figure><p id="043f" class="pw-post-body-paragraph kj kk in kl b km kn jo ko kp kq jr kr ks kt ku kv kw kx ky kz la lb lc ld le ig bi translated"><em class="mc">更多内容看</em> <a class="ae md" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl io"> <em class="mc">说白了。报名参加我们的</em> <a class="ae md" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl io"> <em class="mc">免费周报</em> </strong> </a> <em class="mc">。关注我们关于</em> <a class="ae md" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kl io"> <em class="mc">推特</em> </strong> </a>，<a class="ae md" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kl io"><em class="mc">LinkedIn</em></strong></a><em class="mc">，</em><a class="ae md" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kl io"><em class="mc">YouTube</em></strong></a><em class="mc">，以及</em> <a class="ae md" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kl io"> <em class="mc">不和</em> </strong> </a> <em class="mc">。</em></strong></a></p></div></div>    
</body>
</html>