<html>
<head>
<title>An Introductory Guide to React Hooks for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者使用React钩子的入门指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/an-introductory-guide-to-react-hooks-for-beginners-ed4fd2aacfb6?source=collection_archive---------9-----------------------#2022-07-25">https://javascript.plainenglish.io/an-introductory-guide-to-react-hooks-for-beginners-ed4fd2aacfb6?source=collection_archive---------9-----------------------#2022-07-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fb2c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React钩子的简单介绍以及为什么你应该关心它们。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a6cf3a47298c75363bbdfea5d63b2066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lCVZjsaUgXx8j6YC"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/es/@trophytechnology?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Trophy Technology</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="82ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">React 16.8推出的时候，hooks作为一个新的附加物加入其中。这是React 16.8中包含的稳定版本，由Sophie Alpert和Dan Abramov在React 16.8年大会上发布。</p><p id="7129" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个版本是第一个支持钩子的稳定版本。什么是钩子？基本上，钩子允许你使用React特性和状态，而不需要写类。类没有被根除，但是钩子确保你不再需要依赖类来使用React的特性。</p><p id="5635" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们深入了解钩子以及它们是如何使用的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="7852" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">为什么用“钩子”这个词？</h2><p id="c703" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">钩子允许你<em class="mx">钩子</em>进入React的状态和特性，而不用为它写任何类。</p><p id="36a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数开发人员发现，职业对他们来说是非常混乱的，当学习React时，这对一些人来说是一个巨大的挫折。无论您想要重用特定的代码还是有效地组织它，类就像是这两者之间的一堵墙，导致了很多混乱。</p><p id="feb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">班级制造了更多的问题。为了确保类不会影响React的流行，引入了钩子。</p><p id="83a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，是的！钩子允许你使用React状态和特性，不需要任何类的帮助，你也不需要在React上写类。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="6936" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">内置挂钩</h2><p id="3b87" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">目前React使用了一些内置的钩子比如<code class="fe my mz na nb b">useState</code>和<code class="fe my mz na nb b">useEffect</code>。让我们用例子来看看这两者。</p><h2 id="8f11" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">使用状态示例</h2><p id="e48a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated"><code class="fe my mz na nb b">useState</code>用于更新状态，并在更新/重新渲染后保留状态值。</p><p id="dc3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看官方React <a class="ae kv" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank">文档</a>中提供的例子，因为这是一个相对简单的例子。</p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="a038" class="lz ma iq nb b gy ng nh l ni nj">import React, { useState } from 'react';<br/><br/>function Example() {<br/>  // Declare a new state variable, which we'll call "count"  <br/>const [count, setCount] = useState(0);<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;You clicked {count} times&lt;/p&gt;<br/>      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;<br/>        Click me<br/>      &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="f4bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如文档中所述，<code class="fe my mz na nb b">useState</code>是<em class="mx">“一个让你给函数组件添加反应状态的钩子。”</em></p><p id="438d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在这里所做的基本上是使用<code class="fe my mz na nb b">count</code>作为一个状态变量，并在我们每次点击“点击我”按钮时更新它的值。</p><p id="a537" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们分解下面的语句来理解语法是如何工作的。</p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="ea1d" class="lz ma iq nb b gy ng nh l ni nj">const [count, setCount] = useState(0);</span></pre><p id="98dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在这里所做的是声明一个“状态变量”——在本例中是<code class="fe my mz na nb b">count</code>。它不需要这么叫——事实上它可以叫任何名字。此外，与类组件不同，状态不必是对象；例如，<code class="fe my mz na nb b">count</code>这里是一个数字，但是如果需要的话，我们也可以使用字符串。在这个特殊的例子中，我们试图在每次用户点击“Click me”按钮时更新count变量。</p><p id="48ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe my mz na nb b">useState(0)</code>表示<code class="fe my mz na nb b">count</code>的初始值为0。传递给useState钩子的参数总是状态变量的初始状态。在这种情况下，它将意味着第一次单击“单击我”按钮会将<code class="fe my mz na nb b">count</code>的值设置为1，在重新渲染后会被React保留，第二次我们单击它时，它将被设置为2，以此类推。这是因为，与普通变量不同，状态变量由React保存。</p><p id="1ad5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们进入<code class="fe my mz na nb b">setCount</code>。同样，根据文档，<em class="mx">“</em><code class="fe my mz na nb b"><em class="mx">useState</em></code><em class="mx">钩子总是返回一对值:当前状态和更新它的函数。”</em>当我们点击“Click me”按钮时，调用<code class="fe my mz na nb b">setCount</code>函数，在这种情况下，我们传递参数<code class="fe my mz na nb b">count + 1</code>，导致状态变量<code class="fe my mz na nb b">count</code>增加1，该值将在我们点击按钮后由状态更新引起的重新呈现后保留。</p><p id="a0bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我们如何使用<code class="fe my mz na nb b">useState</code>钩子更新状态。</p><h2 id="7dd3" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">使用效果示例</h2><p id="9e09" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated"><code class="fe my mz na nb b">useEffect</code>是另一个内置挂钩。您知道，日期获取和订阅可以被称为React中的副作用，因为它们会影响其他组件。</p><p id="37f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，<code class="fe my mz na nb b">useEffect</code>是您可以使用功能组件来执行效果的东西。根据<a class="ae kv" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank">文档</a>、<em class="mx">，“获取数据、设置订阅以及手动更改React组件中的DOM都是副作用的例子。”</em></p><p id="dbf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，为了简单起见，让我们以React <a class="ae kv" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank">文档</a>中的例子为例，它使用了与我们在上面看到的<code class="fe my mz na nb b">useState</code>中相同的反例。</p><pre class="kg kh ki kj gt nc nb nd ne aw nf bi"><span id="dd64" class="lz ma iq nb b gy ng nh l ni nj">import React, { useState, useEffect } from 'react';<br/>function Example() {<br/>  const [count, setCount] = useState(0);<br/><br/>  // Similar to componentDidMount and componentDidUpdate:  useEffect(() =&gt; {    // Update the document title using the browser API    <br/>document.title = `You clicked ${count} times`;  });<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;You clicked {count} times&lt;/p&gt;<br/>      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;<br/>        Click me<br/>      &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="143e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们明白这是怎么回事。</p><blockquote class="nk nl nm"><p id="67e9" class="kw kx mx ky b kz la jr lb lc ld ju le nn lg lh li no lk ll lm np lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>如果你熟悉类组件，那么你可以把<code class="fe my mz na nb b">useEffect</code>钩子想象成<code class="fe my mz na nb b">componentDidMount</code>、<code class="fe my mz na nb b">componentDidUpdate</code>和<code class="fe my mz na nb b">componentWillUnmount</code>的组合。</p></blockquote><p id="9e8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，<code class="fe my mz na nb b">useEffect</code>钩子在每次渲染后运行，包括第一次初始渲染和每次更新后。React更新DOM后，有时会运行一些额外的代码。例如，发出网络请求(从API获取数据)或记录日志。</p><p id="9ec6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在最基本的层面上，<code class="fe my mz na nb b">useEffect</code>钩子告诉React在渲染之后你的组件需要做一些事情。我们通常将一个函数作为参数传递给<code class="fe my mz na nb b">useEffect</code>。React会记住这个函数，在DOM更新完成后，React会调用它。</p><p id="38a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了简单起见，这里的文档显示了设置文档标题(所以在这个例子中，在你点击按钮并更新状态之后，有一个重新呈现，post-函数被调用，标题被设置)但是我们也可以使用它从前面提到的API获取数据。</p><p id="8a59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我保持事情简单，因为这是一篇介绍性文章，但你可以玩它，并得到它的窍门。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="2bc4" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">使用挂钩的规则</h2><p id="e932" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">根据钩子的官方文档，基本上有两个必须遵守的主要规则。</p><p id="3c35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一条规则是你不应该在任何函数和循环中调用钩子，因此钩子只能在顶层调用。</p><p id="8d9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二条规则简单的说明了你应该只从<em class="mx"> React函数组件</em>中调用钩子，避免使用其他包含的函数来调用它。</p><p id="cbd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在React中使用钩子时，你必须记住这两条简单的规则。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="8d39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这个关于什么是钩子的简单介绍对你有用。目前，在使用React的各种JavaScript开发人员中，挂钩是一种趋势。基本上，钩子因为其易用性和高效性而越来越受欢迎。坚持编程，坚持练习。祝你的编程之旅好运！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="1dbc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://aniketz.medium.com/membership" rel="noopener"> <strong class="ky ir"> <em class="mx">用我的推荐链接给自己买一个5美元的中级会员，点击这里(我得到一小笔佣金，它直接支持我，不需要你额外付费)</em> </strong> </a></p><div class="nq nr gp gr ns nt"><a href="https://aniketz.medium.com/membership" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">通过我的推荐链接加入Medium-Aniket</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">阅读Aniket上的每一个故事(以及媒体上成千上万的其他作者)。你的会员费直接支持了一个市场…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">aniketz.medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kp nt"/></div></div></a></div><p id="6cae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://aniketz.medium.com/subscribe" rel="noopener"> <strong class="ky ir"> <em class="mx">想加入我的简讯了解更多此类内容，请点击这里</em> </strong> </a></p><p id="4b61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mx">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mx">plain English . io</em></strong></a><em class="mx">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mx">免费周报</em> </strong> </a> <em class="mx">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mx">Twitter</em></strong></a><em class="mx">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mx">LinkedIn</em></strong></a><em class="mx">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mx">社区不和谐</em> </strong> </a> <em class="mx">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mx">人才集体</em> </strong> </a> <em class="mx">。</em></p></div></div>    
</body>
</html>