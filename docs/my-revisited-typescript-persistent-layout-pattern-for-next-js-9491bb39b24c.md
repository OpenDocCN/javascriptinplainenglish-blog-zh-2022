# Next.js çš„æŒä¹…åŒ–å¸ƒå±€æ¨¡å¼

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/my-revisited-typescript-persistent-layout-pattern-for-next-js-9491bb39b24c?source=collection_archive---------8----------------------->

## ä»£ç æ¨¡å¼

## ç”¨ Next.js ç®¡ç†å¸ƒå±€çš„ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥ä¸”éå¸¸é«˜æ•ˆçš„æ¨¡å¼

![](img/5227908ddaacc4e24d8314419514447a.png)

å½“æ‚¨å¼€å‘ Next.js åº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å®šä¹‰ä¸åŒé¡µé¢ä¹‹é—´çš„é€šç”¨å¸ƒå±€ã€‚

é‚£ä¹ˆå¤ç”¨çš„é—®é¢˜å°±å‡ºç°äº†ã€‚å®˜æ–¹æ–‡æ¡£ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå®ç”¨çš„æ–¹æ³•ï¼Œä½†æ˜¯åœ¨å¦‚ä½•ç®¡ç†å®ƒçš„å¸ƒå±€æ–¹é¢å´æœ‰äº›æ¬ ç¼ºã€‚

# æˆ‘å¯¹ Next.js æŒä¹…åŒ–å¸ƒå±€çš„å»ºè®®

å®ƒç”±ä¸‰ä»¶äº‹ç»„æˆ:

1.  ä¸€ä¸ªå…è®¸ä»å±æ€§ä¸­åŠ¨æ€åŠ è½½ç»™å®šå¸ƒå±€çš„ç»„ä»¶ã€‚
2.  ä¸€ä¸ªç±»å‹æ–‡ä»¶ï¼Œå…è®¸åœ¨æˆ‘ä»¬çš„é¡µé¢å’Œå¸ƒå±€ä¹‹é—´å®šä¹‰ä¸€ä¸ªæ¥å£å¥‘çº¦ã€‚
3.  éµå®ˆæ­¤æ¥å£åå®šçš„å¸ƒå±€ç»„ä»¶ã€‚
4.  æœ€åï¼Œ`pages/_app.tsx`æ–‡ä»¶ä¸­çš„æ›´æ–°è€ƒè™‘åˆ°äº†æˆ‘ä»¬çš„å¸ƒå±€ã€‚

è®©æˆ‘ä»¬ä»ç±»å‹å®šä¹‰æ–‡ä»¶å¼€å§‹ï¼Œè¿™é‡Œæœ‰`CodingSparkAppProps`ï¼Œè¿™æ˜¯æˆ‘ä»¬å°†åœ¨`pages/_app.tsx`ä¸­ä½¿ç”¨çš„å±æ€§ï¼Œç„¶åæˆ‘ä»¬å®šä¹‰`CodingSparkPageLayoutProps`ï¼Œå®ƒç”¨æˆ‘ä»¬åº”ç”¨ç¨‹åºå¯ç”¨çš„å¸ƒå±€è¦†ç›–äº†ä¸€ä¸ªç›¸å½“é€šç”¨çš„ç±»å‹ LayoutArgsã€‚

å½“ç„¶ï¼Œå®ƒæ‰©å±•äº† Next.js çš„é»˜è®¤ç±»å‹:`NextPage`ã€‚

åœ¨ä¸‹é¢çš„æ–‡ä»¶ä¸­ï¼Œä½ ä¼šæ³¨æ„åˆ°é»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬ç®¡ç†ä¸€ä¸ª`none`å¸ƒå±€ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰å¸ƒå±€ã€‚å¦‚æœæ‚¨å°šæœªå°†æ‰€æœ‰é¡µé¢è¿ç§»åˆ°æ­¤å¸ƒå±€ç³»ç»Ÿï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚

åœ¨è¿™é‡Œï¼Œå› ä¸ºæˆ‘ä»¬çš„å¸ƒå±€å¾ˆå°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»ä¸€ä¸ª`switch/case`è¯­å¥å¼€å§‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹åº”è¡¨ï¼Œæ¯”å¦‚ä¸€ä¸ª`Map`æˆ–è€…ä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœä½ å¼€å§‹æœ‰è®¸å¤šå¸ƒå±€ï¼Œè¿™æ˜¯æˆ‘é‚€è¯·ä½ åšçš„ã€‚

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä»…åœ¨ä½¿ç”¨å¸ƒå±€æ—¶ä½¿ç”¨`next/dynamic`æ¥åŠ è½½å¸ƒå±€ï¼Œä»¥ä¾¿é€šè¿‡åˆ†å—ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„ç¬¬ä¸€æ¬¡åŠ è½½ã€‚

æœ€åï¼Œå¾ˆç®€å•ï¼Œæˆ‘ä»¬è¦ç”¨ä¸Šé¢åœ¨æ¥å£æ–‡ä»¶ä¸­å®šä¹‰çš„å…ƒæ•°æ®â€œæ ‡è®°â€æˆ‘ä»¬çš„é¡µé¢ã€‚

åœ¨è¿™é‡Œï¼Œæ²¡æœ‰ä»€ä¹ˆéå¸¸å¤æ‚çš„ï¼Œæˆ‘ä»¬ç”šè‡³åˆ©ç”¨äº†è‡ªåŠ¨å®Œæˆï¼

```
**import** **type** { CodingSparkNextPage } **from** "modules/nextjs";**const** OnboardingPage: CodingSparkNextPage = () => {   
  **return** <div>Some content</div>;
};OnboardingPage.layout = { **type**: "onboarding" };**export** **default** OnboardingPage;
```

æˆ‘ä»¬è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯å°†æˆ‘ä»¬çš„å¸ƒå±€ä¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¿æ¥èµ·æ¥ï¼Œä¸ºæ­¤æˆ‘ä»¬åœ¨æ–‡ä»¶`page/_app.tsx`ä¸­è¿›è¡Œå¦‚ä¸‹æ“ä½œã€‚

å‰©ä¸‹çš„å°±æ˜¯å“å°æˆåŠŸçš„ç”œèœœå‘³é“â€¦ğŸ˜Œ

[âš¡ï¸å’Œæ‚¨åœ¨æ³•å›½ğŸ‡«ğŸ‡·æ–¹å‘çš„é…’åº—](https://www.codingspark.io)

*æ›´å¤šå†…å®¹è¯·çœ‹* [***è¯´ç™½äº†ã€‚***](https://plainenglish.io/)

*æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬å…³äº*[***Twitter***](https://twitter.com/inPlainEngHQ)ï¼Œ[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ï¼Œ*[***YouTube***](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*ï¼Œä»¥åŠ* [***ä¸å’Œ***](https://discord.gg/GtDtUAvyhW) ***ã€‚***

***æœ‰å…´è¶£ç¼©æ”¾ä½ çš„è½¯ä»¶å¯åŠ¨*** *ï¼Ÿæ£€æŸ¥* [***ç”µè·¯***](https://circuit.ooo?utm=publication-post-cta) *ã€‚*

# è¿›ä¸€æ­¥é˜…è¯»

[](/typescript-made-easy-a-guide-to-your-first-type-safe-app-with-next-js-wundergraph-and-prisma-e197a59e2b30) [## è½»æ¾ç¼–å†™ç±»å‹è„šæœ¬:ä½¿ç”¨ Next.jsã€WunderGraph å’Œ Prisma ç¼–å†™ç¬¬ä¸€ä¸ªç±»å‹å®‰å…¨åº”ç”¨ç¨‹åºçš„æŒ‡å—

### æ˜¯æ—¶å€™æŠ›å¼€ææƒ§ï¼Œå­¦ä¹  TypeScript äº†ã€‚è®©æˆ‘ä»¬ç»™ä½ ç¬¬ä¸€æ¬¡â€œå‘ç°ï¼â€ç¬é—´é€šè¿‡å»ºç«‹ä¸€ä¸ªå®Œæ•´çš„â€¦

javascript.plainenglish.io](/typescript-made-easy-a-guide-to-your-first-type-safe-app-with-next-js-wundergraph-and-prisma-e197a59e2b30)