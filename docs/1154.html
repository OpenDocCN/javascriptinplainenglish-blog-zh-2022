<html>
<head>
<title>Goodbye HTML. Hello Canvas!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再见HTML。你好画布！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/goodbye-html-hello-canvas-part-1-92f750961666?source=collection_archive---------0-----------------------#2022-03-07">https://javascript.plainenglish.io/goodbye-html-hello-canvas-part-1-92f750961666?source=collection_archive---------0-----------------------#2022-03-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="49bb" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">第1部分:真正控制您的web应用程序</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4049f57835410256438144541b6023ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vuIjRjc9H930Pwk6"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@sammisamuel21?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sam Albury</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ac1f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">编辑:这个系列文章不是关于构建通用的网页。</p><p id="7076" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">编辑2 </strong>:如果你没有时间，下面是从该系列的第七篇文章中复制的三个链接。</p><ol class=""><li id="fdfe" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated"><a class="ae ks" href="https://storage.googleapis.com/jblate/medium/mosaic-demo.html" rel="noopener ugc nofollow" target="_blank">播放</a>的完整演示(不适用于智能手机)</li><li id="cdbd" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><a class="ae ks" href="https://github.com/JoanaBLate/mosaic-generator" rel="noopener ugc nofollow" target="_blank"> GitHub —完整演示</a></li><li id="27fe" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><a class="ae ks" href="https://github.com/JoanaBLate/goodbye-html" rel="noopener ugc nofollow" target="_blank"> GitHub — GoodbyeHtml库</a></li></ol></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="0012" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我必须承认，我发现HTML和CSS太复杂了，尤其是在页面元素的微调方面。规则太多，反直觉，互相碰撞。有时候我们<strong class="kv io">需要</strong>来使用<strong class="kv io">的招数</strong>(!)来实现简单的事情。元素的<strong class="kv io">定义可能分布在许多地方</strong> : HTML、CSS(内嵌、嵌入和外部文件)和JavaScript。在级联系统中很容易迷路。</p><p id="4c36" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">还有浏览器和设备的问题，因为在一些浏览器上运行良好的东西在另一个浏览器上可能表现不佳，甚至在不同设备上的同一浏览器上也是如此。</p><p id="dc79" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我放弃了和HTML、CSS打交道；不是因为它(对我来说)复杂。我放弃了，因为<em class="mk">它不起作用(它应该起作用)</em>。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h2 id="1a8c" class="ml mm in bd mn mo mp dn mq mr ms dp mt lc mu mv mw lg mx my mz lk na nb nc nd bi translated">浏览器/设备特性</h2><p id="fda3" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">有一次我变得非常沮丧，因为当页面被加载到iPhone上时(尽管也使用Chrome)，一个<strong class="kv io">表格</strong>中的一些文本占用了比我计划的更多的空间，因此<strong class="kv io">破坏了布局</strong>。我修改和改变CSS甚至HTML很多次都没有结果。</p><p id="a212" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你不能责怪字体，因为我用的是特殊字体(不是浏览器标准字体)，所以每个设备都应该使用相同的字体。我更深入地研究了这个字体，自己使用了一个不同的名字(也许iPhone已经缓存了一个不同的版本)。还是没有好转。我做了截图，开始一个像素一个像素地分析不同的结果，发现问题出在文本的字符间距上。iPhone上的空间更大。所以，我很快开始编辑<em class="mk">字母间距</em> CSS属性。还是没好！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/1d23490a538b50733cd050820f722eab.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*_BtsWoDe8XstKWdq4FsG4g.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Result On Non-iPhone Devices</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/6c9b3ddd5b896ce9b233ee7df9e1e64c.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*MYgXhBEpctQhlTaTZjuxvw.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Result On iPhone</figcaption></figure><p id="6e6f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然后我明白了:一个人不能依赖HTML和CSS来真正控制一个网页的显示(无论在哪里)。忘记使用复杂的CSS来设计一个漂亮的表格吧:在网页中放一张图片！</p><h2 id="9b9f" class="ml mm in bd mn mo mp dn mq mr ms dp mt lc mu mv mw lg mx my mz lk na nb nc nd bi translated">字体大小配置</h2><p id="9848" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">还有一个重要的原因是你不能控制你的网页的表现。即使世界上只有一种设备和一种浏览器，由于可访问性问题，浏览器让<strong class="kv io">用户选择最小字体大小</strong>，忽略了你对字体大小的定义，严重扰乱了网页设计。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nk"><img src="../Images/506935a9506bdcd596ac0629625290f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*Of6mjAf5-Ztk8HLeKebeag.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Planned Font Size</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nk"><img src="../Images/c26fb23983a4e1e67e5e4ca5bd4a4058.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*hVV2h7nlKzXVytdwnaqDSg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Overrided Font Size ByThe User</figcaption></figure><h2 id="c5c3" class="ml mm in bd mn mo mp dn mq mr ms dp mt lc mu mv mw lg mx my mz lk na nb nc nd bi translated">翻译</h2><p id="4eb7" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">我们可以更进一步，浏览器还有一件事可以做，不仅可以打破你的设计还可以打破应用:翻译！对此我有过非常糟糕的经历。我说的不仅仅是按钮上铺天盖地、毫无意义的文字。我说的是谷歌浏览器显示了12个菜单按钮，而它应该只有6个。它们都不起作用。我再说一遍:<strong class="kv io">因为翻译功能在用户浏览器中是活动的，Chrome *发明了* 6个菜单按钮，坏了我的web app </strong>！！！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/1786594fa3531fb00ce86f8e02225104.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*hZ0eQ_0xVKyXUgvBhA8sBg.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Standard Menu</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/a1df7e5f52ce08834a214b36a33b26b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*ds9-VEZlFwLytw1MkbKcFA.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Browser “Translated” Menu</figcaption></figure><p id="e7f8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">可能发生这种情况是因为页面元素是用JavaScript而不是HTML创建的，所以浏览器不够智能，无法识别。</p><p id="a062" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">浏览器想要为它的用户提供翻译。也许你可以欺骗一个浏览器一段时间不提供翻译，但这是不可靠的。浏览器不同，经常变化。</p><p id="cd12" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">编辑:我再次测试了旧版本(2017)的应用程序。Chrome流畅地翻译了页面。干杯！</p><p id="64b6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">编辑2:似乎<strong class="kv io"> React的人在2017年也遇到了类似的问题</strong>:<br/><a class="ae ks" href="https://github.com/facebook/react/issues/11538" rel="noopener ugc nofollow" target="_blank">让React对来自Google Translate #11538 </a>的DOM突变具有弹性</p><h2 id="a857" class="ml mm in bd mn mo mp dn mq mr ms dp mt lc mu mv mw lg mx my mz lk na nb nc nd bi translated">变焦</h2><p id="67f7" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">此外，用户更改的<strong class="kv io">缩放级别可能会破坏设计。</strong></p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h2 id="8df3" class="ml mm in bd mn mo mp dn mq mr ms dp mt lc mu mv mw lg mx my mz lk na nb nc nd bi translated">那么，现在怎么办？</h2><p id="17b6" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">如果你正在创建一个简单的(*)网页，你可以继续使用HTML和CSS，<em class="mk">推送图像，而不是</em>用HTML标签和CSS属性构造表格。因此，您的表格将在任何浏览器、任何设备、任何缩放比例、任何语言和用户配置的任何字体大小上保持美观。此外，只使用旧的，传统的，普遍的东西(小心炒作)。</p><p id="ef1e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">EDIT: About simple(*):这里的“simple”指的是一个可以适应浏览器流畅布局的页面。抱歉延迟解释。</p><p id="b067" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是，如果你正在创建一些复杂的应用程序<a class="ae ks" href="https://www.bobsprite.com/editor" rel="noopener ugc nofollow" target="_blank">，比如这个绘图工具</a>(目前只适用于PC)，那么我建议你停止使用HTML和CSS，拥抱画布和JavaScript。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/5c60ef4da19f3cdf30faac1bc92e2ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*o5fXsOh6KsfuVHwy3NTB_A.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The .html File</figcaption></figure><p id="938f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我只想说清楚，代码(。html文件)上面有<a class="ae ks" href="https://github.com/JoanaBLate/goodbye-html/blob/main/Goodbye%20HTML.html" rel="noopener ugc nofollow" target="_blank">你需要的所有HTML和CSS</a>。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><h1 id="c09b" class="nn mm in bd mn no np nq mq nr ns nt mt jt nu ju mw jw nv jx mz jz nw ka nc nx bi translated">打印文本</h1><p id="ad3b" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">在画布上打印文本很简单，使用它的标准函数<strong class="kv io"><em class="mk">fill text</em></strong>；但是结果视觉效果很差。</p><pre class="kd ke kf kg gt ny nz oa ob aw oc bi"><span id="7868" class="ml mm in nz b gy od oe l of og">var canvas = document.createElement("canvas")<br/>var context = canvas.getContext("2d")<br/>document.body.appendChild(canvas)</span><span id="2ca3" class="ml mm in nz b gy oh oe l of og">context.font = "20px arial"<br/>context.fillText("xyz", 50, 50)</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/bb5e5fa54faf5bf6c560d0ac277e2398.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*CqXUGUMA1gHzpH_dCZgY8A.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Canvas fillText Black On White (magnified)</figcaption></figure><p id="129a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">直接在网页上打印文本会产生更好的效果。</p><pre class="kd ke kf kg gt ny nz oa ob aw oc bi"><span id="d248" class="ml mm in nz b gy od oe l of og">document.body.style.fontFamily = "arial"<br/>document.body.style.fontSize = "20px"<br/>document.write("xyz")</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/bb54785b562604ca91231bff9611a4a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*e5OZz65Y4JLnhux53_4CWg.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">HTML Black Text On White (magnified)</figcaption></figure><p id="4c4f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">上面的两幅图像对应于在<strong class="kv io">白色</strong>背景上用<strong class="kv io">黑色</strong>彩色<strong class="kv io">打印“xyz”产生的真实像素，使用的字体为Arial，字体大小为20像素。</strong></p><p id="abb5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当我们用它的标准功能在画布上打印时，我们只有灰度像素。</p><p id="306e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当我们直接在页面上打印文本时，我们有大量不同颜色的像素；虽然肉眼来看，人物看起来是纯黑色(或者深灰)。此外，它们看起来比以前的印刷方式好得多。</p></div><div class="ab cl md me hr mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ig ih ii ij ik"><p id="efd5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们不打算在应用程序中显示丑陋的字符。我们不会的！</p><p id="e279" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因为涉及的内容很多，包括真实代码，所以这个主题必须分成几篇文章:</p><ol class=""><li id="b0a4" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">如何在画布上印出好看的字</li><li id="e9be" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">如何创建按钮和面板(层)</li><li id="2ec7" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">如何创建滑块和复选框</li><li id="ddb3" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">如何处理小工具上的鼠标事件</li><li id="b435" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">如何处理键盘事件(控制焦点)</li></ol><p id="1749" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将在浏览器中创建一个浏览器！这很容易，很愉快，也很有教育意义！</p><p id="9acb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是<a class="ae ks" href="https://joanaborgeslate.medium.com/goodbye-html-hello-canvas-d9e62e2e0cfe" rel="noopener">系列</a>的下一篇文章。</p><p id="552d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mk">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mk">说白了。报名参加我们的</em><strong class="kv io"><em class="mk"/></strong><a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mk">免费周报</em> </strong> </a> <em class="mk">。关注我们</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mk">Twitter</em></strong></a><em class="mk">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mk">LinkedIn</em></strong></a><em class="mk">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mk">社区</em> </strong> </a> <em class="mk">。</em></strong></a></p></div></div>    
</body>
</html>