<html>
<head>
<title>Build A Data Visualization App to Create Reports with React Hook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个数据可视化应用程序，使用React Hook创建报告</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-a-data-visualization-app-to-create-reports-with-react-hook-c1230c23d92b?source=collection_archive---------2-----------------------#2022-03-14">https://javascript.plainenglish.io/build-a-data-visualization-app-to-create-reports-with-react-hook-c1230c23d92b?source=collection_archive---------2-----------------------#2022-03-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1419" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于如何使用React从零开始构建一个用于简单报告和快速数据分析的应用程序的教程。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/be077fe50c63a58afa7f85d6fecc6ef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mVLsUJuoUV1N1oSQWkJi8Q.png"/></div></div></figure><p id="a51f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">所以最近我一直在做我的小型大学React项目——一个用于简单报告和快速数据分析的应用程序。这就是为什么我搜索了大量不同的JavaScript工具和组件，这些工具和组件很容易与React集成，并能为我提供所有必要的功能。</p><p id="63f1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">经过几天的调查和比较20多个不同的数据可视化库，我终于找到了我的完美匹配。我花了不到一个小时的时间安装和连接了所有的东西。</p><p id="7934" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">以下是我的工作成果和我点击几下就能得到的报告:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/86f7504a3dcbad5082001eb5b312aff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ADkaW0PWXv5juitMO2Gcyw.gif"/></div></div></figure><p id="5024" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，在本教程中，我想向您展示创建这样一个报告仪表板的完整过程，以便您可以重复它，并花费尽可能少的时间将这样的东西嵌入到您的项目中。</p><h1 id="074d" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">要使用的数据可视化库</h1><p id="1f27" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">我的报告的基础是一个表格，理想的是一个<strong class="kq io">数据透视表</strong>。它必须在连接和配置上非常简单，因为我没有太多的时间，但这个项目必须高质量地完成。下一个需求是易用性和功能性。最后，最重要的是与React挂钩的良好集成。</p><p id="45a6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">完全符合我要求的工具是<a class="ae mh" href="https://www.flexmonster.com/?r=qc" rel="noopener ugc nofollow" target="_blank"> Flexmonster透视表&amp;图表</a>。此外，在他们的文档中，我发现了一些与图表的集成。该工具实际上有自己的内置图表，但为了获得更广泛的功能，您可以将它与您需要的任何其他JS图表库集成。我一直想尝试一下<a class="ae mh" href="https://www.highcharts.com/?r=qc" rel="noopener ugc nofollow" target="_blank">high charts</a>library，所以我决定现在正是时候。</p><p id="6100" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我想要的仪表板应该是这样的:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mi"><img src="../Images/b454abbbfd1e5f6a358d1e4dcb8da798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZpwVxg7A-f7DnCc6RbE33Q.png"/></div></div></figure><h1 id="47c6" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">如何使用React挂钩创建报告仪表板</h1><h2 id="cc58" class="mj ll in bd lm mk ml dn lq mm mn dp lu kx mo mp lw lb mq mr ly lf ms mt ma mu bi translated">第一步。创建React应用</h2><p id="d0f8" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">如果你已经有了应用程序的基础，跳过这一步。否则，您运行这两个命令并得到它:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="2d9f" class="mj ll in mw b gy na nb l nc nd">npx create-react-app my-app</span><span id="ccbe" class="mj ll in mw b gy ne nb l nc nd">cd my-app</span></pre><h2 id="642b" class="mj ll in bd lm mk ml dn lq mm mn dp lu kx mo mp lw lb mq mr ly lf ms mt ma mu bi translated">第二步。安装Flexmonster</h2><p id="f336" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">通过运行以下CLI命令，从包含package.json的文件夹中添加<em class="nf"> react-flexmonster </em>包作为npm依赖项:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="14a5" class="mj ll in mw b gy na nb l nc nd">flexmonster add react-flexmonster</span></pre><p id="927c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">它将把<em class="nf"> react-flexmonster </em>包安装到<em class="nf"> node_modules/ folder </em>中。</p><h2 id="9687" class="mj ll in bd lm mk ml dn lq mm mn dp lu kx mo mp lw lb mq mr ly lf ms mt ma mu bi translated">第三步。设置网格样式</h2><p id="c47f" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">向Flexmonster表格样式的<em class="nf"> index.js </em>添加以下导入语句:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="d11b" class="mj ll in mw b gy na nb l nc nd">import ‘flexmonster/flexmonster.css’;</span></pre><h2 id="374e" class="mj ll in bd lm mk ml dn lq mm mn dp lu kx mo mp lw lb mq mr ly lf ms mt ma mu bi translated">第四步。导入组件</h2><p id="f391" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">要将Flexmonster Pivot与React挂钩一起使用，我们需要将<em class="nf"> FlexmonsterReact </em>作为类组件导入:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="39ac" class="mj ll in mw b gy na nb l nc nd">import * as FlexmonsterReact from ‘react-flexmonster’;</span></pre><p id="1215" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">此外，您还需要导入图表库和连接器:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="692b" class="mj ll in mw b gy na nb l nc nd">import ‘flexmonster/lib/flexmonster.highcharts.js’;</span><span id="6d53" class="mj ll in mw b gy ne nb l nc nd">import Highcharts from ‘highcharts’;</span></pre><h2 id="3c62" class="mj ll in bd lm mk ml dn lq mm mn dp lu kx mo mp lw lb mq mr ly lf ms mt ma mu bi translated">第五步。嵌入数据透视表和图表</h2><p id="a165" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">现在，您可以将Flexmonster嵌入到React Hooks组件中，管理数据源并配置切片，切片将显示在网格上:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="6559" class="mj ll in mw b gy na nb l nc nd">import React from 'react';</span><span id="0d28" class="mj ll in mw b gy ne nb l nc nd">import * as FlexmonsterReact from 'react-flexmonster';</span><span id="797e" class="mj ll in mw b gy ne nb l nc nd">function PivotTableHooks (props) {</span><span id="eb90" class="mj ll in mw b gy ne nb l nc nd">const ref = React.useRef();</span><span id="ac90" class="mj ll in mw b gy ne nb l nc nd">const onReportComplete = () =&gt; {</span><span id="63d9" class="mj ll in mw b gy ne nb l nc nd">this.myRef.current.flexmonster.off(this.reportComplete);</span><span id="3e51" class="mj ll in mw b gy ne nb l nc nd">//creating charts after Flexmonster instance is launched</span><span id="f390" class="mj ll in mw b gy ne nb l nc nd">this.createChart();</span><span id="3bae" class="mj ll in mw b gy ne nb l nc nd">}</span><span id="4676" class="mj ll in mw b gy ne nb l nc nd">return &lt;&gt;</span><span id="c10b" class="mj ll in mw b gy ne nb l nc nd">&lt;div className="App"&gt;</span><span id="3a8c" class="mj ll in mw b gy ne nb l nc nd">&lt;FlexmonsterReact.Pivot</span><span id="df41" class="mj ll in mw b gy ne nb l nc nd">ref={ref}</span><span id="bce5" class="mj ll in mw b gy ne nb l nc nd">toolbar={true}</span><span id="9fd4" class="mj ll in mw b gy ne nb l nc nd">width="100%"</span><span id="666d" class="mj ll in mw b gy ne nb l nc nd">report="https://cdn.flexmonster.com/reports/report.json"</span><span id="afae" class="mj ll in mw b gy ne nb l nc nd">reportcomplete={onReportComplete}</span><span id="bc18" class="mj ll in mw b gy ne nb l nc nd">/&gt;</span><span id="c7ee" class="mj ll in mw b gy ne nb l nc nd">&lt;div className="chart-container"&gt;</span><span id="0027" class="mj ll in mw b gy ne nb l nc nd">&lt;div id="highcharts-container"&gt;&lt;/div&gt; //creating a charts container</span><span id="e1ed" class="mj ll in mw b gy ne nb l nc nd">&lt;/div&gt;</span><span id="f805" class="mj ll in mw b gy ne nb l nc nd">&lt;/div&gt;</span><span id="a499" class="mj ll in mw b gy ne nb l nc nd">&lt;/&gt;;</span><span id="0a7e" class="mj ll in mw b gy ne nb l nc nd">}</span><span id="fbeb" class="mj ll in mw b gy ne nb l nc nd">export default PivotTableHooks;</span></pre><h2 id="8834" class="mj ll in bd lm mk ml dn lq mm mn dp lu kx mo mp lw lb mq mr ly lf ms mt ma mu bi translated">第六步。嵌入高图表</h2><p id="f517" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">让我们添加一个函数，该函数将在数据上添加图表，数据透视网格通过该函数:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="679f" class="mj ll in mw b gy na nb l nc nd">createChart = () =&gt; {</span><span id="8c08" class="mj ll in mw b gy ne nb l nc nd">//Running Flexmonster's getData method for Highcharts</span><span id="7e42" class="mj ll in mw b gy ne nb l nc nd">this.myRef.current.flexmonster.highcharts.getData(</span><span id="d635" class="mj ll in mw b gy ne nb l nc nd">{</span><span id="8802" class="mj ll in mw b gy ne nb l nc nd">type: "line"</span><span id="de4e" class="mj ll in mw b gy ne nb l nc nd">},</span><span id="88f0" class="mj ll in mw b gy ne nb l nc nd">function (data) {</span><span id="715b" class="mj ll in mw b gy ne nb l nc nd">Highcharts.chart('highcharts-container', data);</span><span id="cc75" class="mj ll in mw b gy ne nb l nc nd">},</span><span id="aa8a" class="mj ll in mw b gy ne nb l nc nd">function (data) {</span><span id="2923" class="mj ll in mw b gy ne nb l nc nd">Highcharts.chart('highcharts-container', data);</span><span id="fab4" class="mj ll in mw b gy ne nb l nc nd">}</span><span id="111c" class="mj ll in mw b gy ne nb l nc nd">);</span><span id="d599" class="mj ll in mw b gy ne nb l nc nd">}</span></pre><h1 id="a42f" class="lk ll in bd lm ln lo lp lq lr ls lt lu jt lv ju lw jw lx jx ly jz lz ka ma mb bi translated">结论</h1><p id="f970" class="pw-post-body-paragraph ko kp in kq b kr mc jo kt ku md jr kw kx me kz la lb mf ld le lf mg lh li lj ig bi translated">这就是要遵循的全部6个步骤，获得一个易于使用的带有分析仪表板的报告应用程序。正如您所看到的，这两种产品配合得很好:透视网格传递聚合数据，图表显示聚合数据。网格上的所有更改都会应用到图表上，以查看数据是如何动态可视化的。通过工具栏，您可以连接不同的数据源并更改切片或布局。</p><p id="6fa2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">是的，这两个工具只在非商业用途上是免费的，但这正是我想测试它们的确切原因！找出更多关于他们的特点，并决定他们是否真的值得花钱购买。所以你可以把这个教程看做产品概述，自己决定用不用。因为有一些免费的更简单的选项可供选择:比如<a class="ae mh" href="https://github.com/nicolaskruchten/pivottable" rel="noopener ugc nofollow" target="_blank"> PivotTable.js </a>、<a class="ae mh" href="https://developers.google.com/chart" rel="noopener ugc nofollow" target="_blank"> Google Charts </a>和<a class="ae mh" href="https://www.webdatarocks.com/?r=qc" rel="noopener ugc nofollow" target="_blank"> WebDataRocks </a>。</p><p id="7525" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果本教程对您有所帮助，我会很高兴听到您对这种集成的反馈和想法。</p><p id="4395" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nf">更多内容看</em> <a class="ae mh" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nf">说白了就是io </em> </strong> </a> <em class="nf">。报名参加我们的</em> <a class="ae mh" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nf">免费周报</em> </strong> </a> <em class="nf">。关注我们关于</em><a class="ae mh" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nf">Twitter</em></strong></a><em class="nf">和</em><a class="ae mh" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nf">LinkedIn</em></strong></a><em class="nf">。加入我们的</em> <a class="ae mh" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nf">社区</em> </strong> </a> <em class="nf">。</em></p></div></div>    
</body>
</html>