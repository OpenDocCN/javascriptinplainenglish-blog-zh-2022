<html>
<head>
<title>Test a React App with Jest and React- Testing-Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨Jestå’ŒReact- Testing-Libraryæµ‹è¯•Reactåº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/test-a-react-app-with-jest-and-react-testing-library-da9b59860051?source=collection_archive---------3-----------------------#2022-10-18">https://javascript.plainenglish.io/test-a-react-app-with-jest-and-react-testing-library-da9b59860051?source=collection_archive---------3-----------------------#2022-10-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="50cc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">åœ¨å¼€å‘Reactåº”ç”¨ç¨‹åºæ—¶ï¼Œæœ‰ä¸€éƒ¨åˆ†æˆ‘ä»¬æœ‰æ—¶æ²¡æœ‰è®¤çœŸå¯¹å¾…:æµ‹è¯•ã€‚</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1aedb3af38818341933d84d550328f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B5q98Jh14kgysGUHvp7qLw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">ä¸‰äººè¡Œï¼Œå¿…æœ‰æˆ‘å¸ˆç„‰ â€”Confucius: When three are walking together, I am sure to find teachers among them</figcaption></figure></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="acf2" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">æµ‹è¯•æ˜¯è½¯ä»¶å¼€å‘ä¸­å¿…ä¸å¯å°‘çš„å®è·µï¼Œå®ƒæœ‰åŠ©äºåˆ›å»ºå¥å£®å’Œé«˜è´¨é‡çš„åº”ç”¨ç¨‹åºï¼Œä½¿å®ƒä»¬æ›´çµæ´»ï¼Œåœ¨å¼•å…¥æˆ–ä¿®æ”¹åŠŸèƒ½æ—¶æ›´å®¹æ˜“å‡ºç°é”™è¯¯ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨è‡ªåŠ¨åŒ–æµ‹è¯•å®Œæˆä¹‹å‰ï¼Œä»»ä½•åŠŸèƒ½éƒ½ä¸åº”è¯¥å‘å¸ƒã€‚</p><p id="e582" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è‡ªä»ä¸Reactä¸€èµ·å·¥ä½œä»¥æ¥ï¼Œæˆ‘ä¸€ç›´ä½¿ç”¨<a class="ae lv" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank"> Cypress </a>è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ï¼Œå¹¶ä¸”ç”±äºæœ€è¿‘æœ‰äººé—®æˆ‘ä»¥å‰æ˜¯å¦ä½¿ç”¨è¿‡Jestï¼Œæˆ‘è®¤ä¸ºæ˜¯æ—¶å€™å°è¯•ä¸€ä¸‹äº†ï¼Œæ‰€ä»¥æˆ‘æƒ³ä»React Todoåº”ç”¨ç¨‹åºå¼€å§‹ï¼Œä»¥æ›´å¥½åœ°äº†è§£åŸºæœ¬çŸ¥è¯†ï¼Œå½“ç„¶æˆ‘ä¼šä¸æ‚¨ä»¥åŠæˆ‘çš„å…¶ä»–æ–‡ç« åˆ†äº«è¿™äº›æ­¥éª¤ã€‚</p><blockquote class="lw lx ly"><p id="95ed" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated"><a class="ae lv" href="https://jestjs.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> Jest </strong> </a>æ˜¯ä¸€ä¸ªJavaScriptæµ‹è¯•è¿è¡Œå™¨ï¼Œè®©ä½ é€šè¿‡<a class="ae lv" href="https://reactjs.org/docs/testing-environments.html#mocking-a-rendering-surface" rel="noopener ugc nofollow" target="_blank"> jsdom </a>è®¿é—®DOMï¼Œå®ƒç”¨äºè¿è¡Œå•å…ƒæµ‹è¯•ã€‚å•å…ƒæµ‹è¯•åªæ˜¯ç¡®ä¿æ‚¨çš„æ–¹æ³•è¿”å›ä¸åŒæƒ…å†µä¸‹çš„é¢„æœŸå€¼ã€‚</p><p id="ec8d" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated"><a class="ae lv" href="https://testing-library.com/docs/react-testing-library/intro/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> Reactæµ‹è¯•åº“</strong> </a>æ˜¯ä¸€ç»„å¸®åŠ©å™¨ï¼Œè®©æ‚¨æµ‹è¯•Reactç»„ä»¶ï¼Œè€Œä¸ä¾èµ–äºå®ƒä»¬çš„å®ç°ç»†èŠ‚ï¼Œå®ƒæ¨¡æ‹Ÿéš”ç¦»ç»„ä»¶ä¸Šçš„ç”¨æˆ·äº¤äº’ï¼Œå¹¶æ–­è¨€å®ƒä»¬çš„è¾“å‡ºï¼Œä»¥ç¡®ä¿UIæ­£ç¡®è¿è¡Œã€‚</p></blockquote><p id="307c" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•ä½¿ç”¨Jestå’ŒReactæµ‹è¯•åº“çš„æµè¡Œç»„åˆæ¥æµ‹è¯•ä¸€ä¸ªæœ€å°çš„todoåº”ç”¨ç¨‹åº(æ€»æ˜¯ä»todoå¼€å§‹ğŸ˜‚ ).Jestå’ŒReactæµ‹è¯•åº“éƒ½é¢„è£…äº†<a class="ae lv" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank"> Create React App </a>ã€‚<em class="lz"> *Reactæµ‹è¯•åº“å¹¶ä¸ç‰¹å®šäºä»»ä½•æµ‹è¯•æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä»»ä½•å…¶ä»–æµ‹è¯•åº“ä¸€èµ·ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…Jestå› ä¸ºReactæµ‹è¯•åº“åªæä¾›äº†å¸®åŠ©æˆ‘ä»¬ç¼–å†™æµ‹è¯•è„šæœ¬çš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»ç„¶éœ€è¦ä¸€ä¸ªJavaScriptæµ‹è¯•æ¡†æ¶æ¥è¿è¡Œæµ‹è¯•ä»£ç ï¼Œ</em> <strong class="lb io"> <em class="lz"> Jestæ˜¯å¾ˆå¤šå¼€å‘è€…æ¨èå’Œé¦–é€‰çš„ã€‚</em>T19ã€‘</strong></p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="a1e8" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è®©æˆ‘ä»¬å¼€å§‹ä¸ºTodoåº”ç”¨ç¨‹åºåˆ›å»ºç»„ä»¶ã€‚ä½ å¯ä»¥ç”¨<em class="lz"> npx create-react-appã€</em>å¯åŠ¨ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæˆ–è€…ç›´æ¥è¿›å…¥<a class="ae lv" href="https://codesandbox.io/s/todo-jest-react-zp3hhy?file=/src/App.js" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªä»£ç æ²™ç®±</a>æŸ¥çœ‹å®Œæ•´ä»£ç ğŸ‘‡</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk"><a class="ae lv" href="https://codesandbox.io/s/todo-jest-react-zp3hhy?file=/src/App.test.js:908-980" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/todo-jest-react-zp3hhy?file=/src/App.js</a></figcaption></figure><p id="8f5f" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç»“æ„éå¸¸æ¸…æ™°ï¼Œé‡Œé¢æœ‰3ä¸ªç»„ä»¶:<strong class="lb io"> Input </strong>ç»„ä»¶åŒ…å«ä¸€ä¸ªè¾“å…¥æ¡†å’Œä¸€ä¸ªæ·»åŠ æŒ‰é’®ï¼Œ<strong class="lb io"> ListView </strong>ç»„ä»¶æ˜¾ç¤ºåˆ—è¡¨æˆ–è›‹ç³•ğŸ°è¡¨æƒ…ç¬¦å·ä¸­ï¼Œ<strong class="lb io"> Reset </strong>ç»„ä»¶åªæ˜¯åŒ…å«äº†ä¸€ä¸ªå¤ä½æŒ‰é’®ã€‚</p><p id="2611" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lz">*å› ä¸ºè¿™ç¯‡æ–‡ç« æ˜¯å…³äºæµ‹è¯•çš„ï¼Œæ‰€ä»¥ä¸å¤ªä½¿ç”¨CSS</em></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/08a804638ac3df9d183daf242d13162b.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*PhP3cB1ClR-ojXinbSMYyg.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">App contains 3 components</figcaption></figure></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="072c" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è¿™æ˜¯å®Œæ•´çš„ä»£ç ğŸ‘</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="ad1c" class="ml mm in mh b gy mn mo l mp mq">// <strong class="mh io">App.js</strong><br/>import "./styles.css";<br/>import Input from "../components/input/Input";<br/>import ListView from "../components/listView/ListView";<br/>import Reset from "../components/reset/Reset";<br/>import { useState } from "react";<br/>import uuid from "react-uuid";<br/><br/>export default function App() {<br/>  const [todoList, setTodoList] = useState([]);<br/>  const [inputValue, setInputValue] = useState("");<br/>  const handleChange = (e) =&gt; setInputValue(e.target.value);<br/>  const addTodo = () =&gt; {<br/>    setTodoList([...todoList, { id: uuid(), content: inputValue }]);<br/>    setInputValue("");<br/>  };<br/>  const removeTodo = (id) =&gt; {<br/>    const newList = todoList.filter((list) =&gt; list.id !== id);<br/>    setTodoList(newList);<br/>  };<br/>  const resetTodo = () =&gt; setTodoList([]);<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;<strong class="mh io">Input</strong><br/>        inputValue={inputValue}<br/>        handleChange={handleChange}<br/>        addTodo={addTodo}<br/>      /&gt;<br/>      &lt;<strong class="mh io">ListView</strong> todoList={todoList} removeTodo={removeTodo} /&gt;<br/>      &lt;<strong class="mh io">Reset</strong> resetTodo={resetTodo} /&gt;<br/>    &lt;/div&gt;<br/>  );</span><span id="4d94" class="ml mm in mh b gy mr mo l mp mq">// <strong class="mh io">Input.js</strong><br/>const Input = ({ inputValue, handleChange, addTodo }) =&gt; <br/>   &lt;&gt;<br/>      &lt;input<br/>        onChange={handleChange}<br/>        value={inputValue}<br/>        className="inputField"<br/>        type="text"<br/>        <strong class="mh io">data-testid</strong>="input-field"<br/>      /&gt;<br/>      &lt;button<br/>        className="button"<br/>        disabled={!inputValue}<br/>        onClick={addTodo}<br/>      &gt;<br/>        add<br/>      &lt;/button&gt;<br/>    &lt;/&gt;<br/>  );<br/>export default input;</span><span id="eabe" class="ml mm in mh b gy mr mo l mp mq">// <strong class="mh io">ListView.js</strong><br/>export default function ListView({ todoList, removeTodo }) {<br/>  return (<br/>    &lt;ul&gt;<br/>      {todoList?.length ? (<br/>        todoList.map(({ content, id }) =&gt; (<br/>          &lt;li key={id}&gt;<br/>            &lt;span <strong class="mh io">data-testid</strong>="list-view"&gt;{content}&lt;/span&gt;<br/>            &lt;button className="button" onClick={() =&gt; removeTodo(id)}&gt;<br/>              remove<br/>            &lt;/button&gt;<br/>          &lt;/li&gt;<br/>        ))<br/>      ) : (<br/>        &lt;span role="img" aria-label="cake" <strong class="mh io">data-testid</strong>="emoji"&gt;<br/>          ğŸ°<br/>        &lt;/span&gt;<br/>      )}<br/>    &lt;/ul&gt;<br/>  );<br/>}</span><span id="7789" class="ml mm in mh b gy mr mo l mp mq">// <strong class="mh io">Reset.js</strong><br/>export default function Reset({ resetTodo }) {<br/>  return (<br/>    &lt;button<br/>      className="resetButton"<br/>      onClick={resetTodo}<br/>    &gt;<br/>      reset<br/>    &lt;/button&gt;<br/>  );<br/>}</span></pre></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="b3e9" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹æµ‹è¯•ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ä¾èµ–é¡¹ï¼Œ</p><blockquote class="lw lx ly"><p id="d55d" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated"><strong class="lb io"> npm </strong>å®‰è£…â€”ä¿å­˜-å¼€å‘ç¬‘è¯</p><p id="1efd" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated">æˆ–è€…</p><p id="082d" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated"><strong class="lb io">çº±çº¿</strong>æ·»åŠ â€”å¼€å‘ç¬‘è¯</p></blockquote><p id="6d95" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">* <em class="lz">ç”¨create-react-appåˆ›å»ºçš„é¡¹ç›®å·²ç»å¼€ç®±æ”¯æŒ</em> <strong class="lb io"> <em class="lz"> Reactæµ‹è¯•åº“</em> </strong> <em class="lz">ï¼Œå¦‚æœä¸æ˜¯è¿™æ ·ï¼Œå¯ä»¥è¿™æ ·æ·»åŠ :</em></p><blockquote class="lw lx ly"><p id="c490" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated">NPMinstallâ€”save-dev @ testing-library/react</p><p id="9c74" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated">æˆ–è€…</p><p id="c7a8" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated"><strong class="lb io">çº±</strong>æ·»åŠ â€”å¼€å‘@æµ‹è¯•-åº“/ååº”</p></blockquote></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="3ecb" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä¹‹åï¼Œæˆ‘ä»¬å°†å¯¹Inputã€ListViewå’ŒAppç»„ä»¶è¿›è¡Œå››é¡¹æµ‹è¯•ã€‚</p><ul class=""><li id="3e54" class="ms mt in lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><strong class="lb io">æµ‹è¯•1: </strong>æµ‹è¯•é»˜è®¤è¾“å…¥æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºï¼Œç”¨æˆ·æ˜¯å¦å¯ä»¥åœ¨è¾“å…¥æ ä¸­é”®å…¥ï¼ŒæŒ‰é’®æ˜¯å¦ä»ç¦ç”¨çŠ¶æ€å¯ç”¨(&lt;è¾“å…¥/ &gt;)</li><li id="7fcd" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io">æµ‹è¯•2: </strong>æµ‹è¯•åˆ—è¡¨æ˜¾ç¤ºæ˜¯å¦æ­£ç¡®(ListView / &gt;)</li><li id="7243" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io">æµ‹è¯•3: </strong>æµ‹è¯•æ˜¯å¦æ‰€æœ‰ç»„ä»¶éƒ½åœ¨é»˜è®¤æƒ…å†µä¸‹æ­£ç¡®åœ°å‘ˆç°åœ¨DOMä¸­(&lt; App / &gt;)</li><li id="91a4" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io">æµ‹è¯•4: </strong>æµ‹è¯•å¤ä½æŒ‰é’®æ˜¯å¦æ­£å¸¸å·¥ä½œ(&lt; App / &gt;)</li></ul><p id="3ef7" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">é¦–å…ˆè®©æˆ‘ä»¬åœ¨ç»„ä»¶æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€äº›æµ‹è¯•æ–‡ä»¶ï¼Œä¾‹å¦‚input â†’ Input.js / Input.test.jsï¼ŒlistViewâ†’ListView.js/ listView . test . jsç­‰ã€‚</p><blockquote class="lw lx ly"><p id="184d" class="kz la lz lb b lc ld jo le lf lg jr lh ma lj lk ll mb ln lo lp mc lr ls lt lu ig bi translated"><strong class="lb io">æ³¨æ„:</strong>æµ‹è¯•æ–‡ä»¶çš„åç§°åº”è¯¥ä¸ç»„ä»¶çš„åç§°ç›¸åŒï¼Œåé¢åº”è¯¥è·Ÿæœ‰<strong class="lb io"> .test.js </strong>ï¼Œå› ä¸ºå½“ä½¿ç”¨<strong class="lb io"> npm test </strong>å‘½ä»¤è¿è¡Œæµ‹è¯•æ—¶ï¼ŒReactä¼šè‡ªåŠ¨æ£€æŸ¥æ‰€æœ‰å¸¦æœ‰<strong class="lb io">çš„æ–‡ä»¶åã€‚æµ‹è¯•</strong>æ‰©å±•å¹¶è¿è¡Œæµ‹è¯•ã€‚</p></blockquote><p id="54b4" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="lb io"> Input.test.js </strong></p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="9827" class="ml mm in mh b gy mn mo l mp mq">import {render, screen} from "@testing-library/react";<br/>import "@testing-library/jest-dom";<br/>import Input from "./Input";<br/>import userEvent from "@testing-library/user-event";<br/>// import { <strong class="mh io">fireEvent</strong> } from "@testing-library/react";</span><span id="08a0" class="ml mm in mh b gy mr mo l mp mq"><strong class="mh io">describe</strong>("&lt;Input /&gt;", () =&gt; {<br/>    <strong class="mh io">test</strong>("displays text input and disabled button by default", () =&gt; {<br/>        <strong class="mh io">render</strong>(&lt;Input /&gt;);<br/>        const userInput = <strong class="mh io">screen</strong>.<strong class="mh io">getByTestId</strong>("input-field");<br/>        const addButton = <strong class="mh io">screen.getByRole</strong>("button", { name: <strong class="mh io">/add/i </strong>});</span><span id="c8fe" class="ml mm in mh b gy mr mo l mp mq">        <strong class="mh io">expect</strong>(userInput).toBeInTheDocument();<br/>        expect(userInput).toHaveAttribute("type", "text");<br/>        expect(addButton).toBeDisabled();<br/>        expect(addButton).toHaveTextContent("add");<br/>     });</span><span id="5602" class="ml mm in mh b gy mr mo l mp mq">    <strong class="mh io">test</strong>("user should be able to type in the input field", async () =&gt; {...});<br/>    <strong class="mh io">test</strong>("button should be enabled with input value", async () =&gt;{...})<br/>  });</span></pre><p id="108c" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ‘‰<em class="lz"/><code class="fe ng nh ni mh b"><strong class="lb io"><em class="lz">describe</em></strong><em class="lz">(name</em><strong class="lb io"><em class="lz">, </em></strong><em class="lz">callback)</em></code><em class="lz">å—æ˜¯æµ‹è¯•å¥—ä»¶ï¼Œ</em> <code class="fe ng nh ni mh b"><strong class="lb io"><em class="lz">test</em></strong><em class="lz">('...', () =&gt; {})</em></code> <em class="lz">å—(æˆ–è€…ç®€ç§°ä¸º</em> <code class="fe ng nh ni mh b"><em class="lz">test</em></code> <em class="lz">)æ˜¯æµ‹è¯•ç”¨ä¾‹ã€‚æè¿°å—å¯ä»¥æœ‰å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä½†æ˜¯ä¸€ä¸ªæµ‹è¯•å—ä¸ä¸€å®šè¦åœ¨æè¿°å—ä¸­ï¼Œæ¯ä¸ªæµ‹è¯•æ–‡ä»¶ä¸­è‡³å°‘éœ€è¦ä¸€ä¸ªæµ‹è¯•å—ã€‚</em></p><p id="6a69" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç¬¬ä¸€ä¸ªæµ‹è¯•å—ï¼Œå®ƒæµ‹è¯•è¾“å…¥å­—æ®µå’Œç¦ç”¨æŒ‰é’®åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¦æ­£ç¡®å‘ˆç°ã€‚</p><p id="a986" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ§šğŸ»â€â™‚ï¸ <strong class="lb io">ç¬¬ä¸€è¯•å—</strong>:</p><ul class=""><li id="cd52" class="ms mt in lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><strong class="lb io">æµ‹è¯•(</strong>åç§°<strong class="lb io">ï¼Œ</strong>å›è°ƒ<strong class="lb io"> ) </strong>:ä¸€ä¸ªæµ‹è¯•å—æ¥å—ä¸¤ä¸ªå¿…éœ€çš„å‚æ•°:1ã€‚ä¸€ä¸ªä»£è¡¨æµ‹è¯•ç”¨ä¾‹çš„<strong class="lb io">å­—ç¬¦ä¸²</strong>(ä¾‹å¦‚<em class="lz">æ­£ç¡®æ˜¾ç¤ºæŸäº›å†…å®¹</em>)ï¼Œ2ã€‚åŒ…å«æµ‹è¯•é¢„æœŸçš„<strong class="lb io">å‡½æ•°</strong>ã€‚</li><li id="9387" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io"> render( </strong>ç»„ä»¶<strong class="lb io"> ) </strong> : Reactæµ‹è¯•åº“æä¾›äº†ä¸€ä¸ª<code class="fe ng nh ni mh b">render</code>æ–¹æ³•(ä¾‹å¦‚<strong class="lb io"><em class="lz">render</em></strong><em class="lz">(&lt;Input/&gt;)</em>)å°†æˆ‘ä»¬çš„ç»„ä»¶æ¸²æŸ“åˆ°DOMä¸­ã€‚åœ¨ç»™å®šçš„ç»„ä»¶è¢«å‘ˆç°åˆ°æµ‹è¯•ç¯å¢ƒçš„å±å¹•ä¸Šä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™ä»£ç æ¥ç¡®è®¤é¢„æœŸçš„åŠŸèƒ½ã€‚</li><li id="8d37" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io">Screen:</strong>Reactæµ‹è¯•åº“æä¾›äº†ä¸€ä¸ª<code class="fe ng nh ni mh b">screen</code>å¯¹è±¡ï¼Œä½œä¸ºè®¿é—®é’ˆå¯¹æµ‹è¯•DOMç¯å¢ƒåšå‡ºæ–­è¨€æ‰€éœ€çš„ç›¸å…³æŸ¥è¯¢çš„ä¾¿æ·æ–¹å¼ã€‚(<em class="lz">const user input =</em><strong class="lb io"><em class="lz">å±å¹•</em> </strong> <em class="lz">)ã€‚</em><strong class="lb io"><em class="lz"/></strong><em class="lz">ã€è¾“å…¥å­—æ®µã€‘</em>)ã€‚</li><li id="db01" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io"> getByTestId()å’ŒgetByRole(): </strong>é»˜è®¤æƒ…å†µä¸‹ï¼ŒReactæµ‹è¯•åº“æä¾›äº†<a class="ae lv" href="https://testing-library.com/docs/react-testing-library/cheatsheet/#queries" rel="noopener ugc nofollow" target="_blank">æŸ¥è¯¢</a>ï¼Œå…è®¸æˆ‘ä»¬åœ¨DOMä¸­å®šä½å…ƒç´ ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†é‡ç‚¹ä»‹ç»<code class="fe ng nh ni mh b">getBy*</code>æŸ¥è¯¢ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„æŸ¥è¯¢ç±»å‹ï¼Œå®ƒ<em class="lz"> </em>é€šè¿‡<strong class="lb io"> data-testid </strong>å±æ€§æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œç®€å•ç‚¹è¯´ï¼Œè¿™æ˜¯ä¸€ç§<code class="fe ng nh ni mh b">screen.querySelector(`[data-testid="${someId}"]`).</code>çš„å¿«æ·æ–¹å¼</li><li id="9e1d" class="ms mt in lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated"><strong class="lb io">expect():</strong><code class="fe ng nh ni mh b">expect</code>å‡½æ•°(<em class="lz">ä¾‹å¦‚</em><strong class="lb io"><em class="lz">expect</em></strong><em class="lz">(â€¦)ã€‚someMatcher() </em>)æ¯å½“æˆ‘ä»¬æƒ³è¦æ£€æŸ¥ä¸€ä¸ªç‰¹å®šçš„ç»“æœæ—¶å°±ä¼šç”¨åˆ°ï¼Œå¤§å¤šæ•°expectå‡½æ•°éƒ½ä¸ä¸€ä¸ª<code class="fe ng nh ni mh b"><em class="lz">matcher</em></code>å‡½æ•°(å¤§éƒ¨åˆ†ç”±<a class="ae lv" href="https://github.com/testing-library/jest-dom" rel="noopener ugc nofollow" target="_blank"> jest-dom </a>æä¾›)ç»“åˆä½¿ç”¨ï¼Œä»¥ç¡®è®¤å…³äºä¸€ä¸ªç‰¹å®šå€¼çš„ä¸€äº›äº‹æƒ…ã€‚(æ¯”å¦‚<em class="lz">ã€‚toBeInTheDocument </em>æ˜¯ç¬¬ä¸€è¡Œexpectå‡½æ•°çš„åŒ¹é…å™¨ï¼Œè€Œ<em class="lz"> getByTestId()å’ŒgetByRole() </em>æ˜¯è·å–DOMå…ƒç´ çš„é€‰æ‹©å™¨)ã€‚</li></ul><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="3d1b" class="ml mm in mh b gy mn mo l mp mq">&lt;input<br/>        onChange={...}<br/>        value={...}<br/>        className="..."<br/>        type="..."<br/>        <strong class="mh io">data-testid</strong>="input-field"<br/>      /&gt;</span></pre><p id="c904" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ§šğŸ»â€â™‚ï¸ <strong class="lb io">ç¬¬äºŒä¸ªè¯•å—:</strong></p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="61c3" class="ml mm in mh b gy mn mo l mp mq"><strong class="mh io">describe</strong>("&lt;Input /&gt;", () =&gt; {<br/>   ... // same first test block</span><span id="cb15" class="ml mm in mh b gy mr mo l mp mq"><strong class="mh io">test</strong>("user should be able to type in the input field", <strong class="mh io">async</strong> () =&gt; {<br/>        const <strong class="mh io">handleChange</strong> = <strong class="mh io">jest.fn()</strong>; <br/>        render(&lt;Input handleChange={handleChange} /&gt;);<br/>        const userInput = screen.getByTestId("input-field");</span><span id="0a27" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">  // </em>fireEvent<strong class="mh io">: </strong>Simulates a specified event, e.g <em class="lz">input onChange<br/>  // </em><strong class="mh io">fireEvent</strong>.change(userInput, {target: { value: "apple" }});</span><span id="9f27" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">        <br/>        </em><strong class="mh io">await</strong> <strong class="mh io">userEvent</strong>.type(userInput, "apple");<br/>        expect(<strong class="mh io">handleChange</strong>).toHaveBeenCalled();<br/>        expect(userInput.value).toBe("apple");<br/>})});</span></pre><p id="3976" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨è¿™ä¸ªå—ä¸­ï¼Œæˆ‘ä»¬æµ‹è¯•ç”¨æˆ·æ˜¯å¦å¯ä»¥åœ¨è¾“å…¥å­—æ®µä¸­è¾“å…¥ï¼Œä¸ºæ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥è‡ª<a class="ae lv" href="https://testing-library.com/docs/dom-testing-library/intro" rel="noopener ugc nofollow" target="_blank"> <em class="lz"> DOMæµ‹è¯•åº“</em> </a>å’Œ<a class="ae lv" href="https://jestjs.io/docs/mock-functions" rel="noopener ugc nofollow" target="_blank"> <em class="lz"> Jestå‡½æ•°æ¨¡ä»¿</em> </a> <em class="lz">çš„<a class="ae lv" href="https://testing-library.com/docs/dom-testing-library/intro" rel="noopener ugc nofollow" target="_blank"> <em class="lz"> fireEvent </em> </a>ã€‚</em></p><p id="58df" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">é¦–å…ˆè®©æˆ‘ä»¬çœ‹çœ‹æ¨¡æ‹Ÿå‡½æ•°<strong class="lb io"> jest.fn </strong>()ï¼Œå®ƒå……å½“â€œé—´è°â€ï¼Œè®©æˆ‘ä»¬çª¥æ¢è¢«å…¶ä»–ä»£ç é—´æ¥è°ƒç”¨çš„å‡½æ•°çš„è¡Œä¸ºï¼Œè€Œä¸ä»…ä»…æ˜¯æµ‹è¯•è¾“å‡º(<em class="lz"> changeï¼Œclick â€¦ </em>)ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code class="fe ng nh ni mh b">jest.fn()</code> : <em class="lz"> handleChange </em>å›è°ƒå¤„ç†ç¨‹åºä¸ºç”¨æˆ·è¾“å…¥åˆ›å»ºä¸€ä¸ªæ¨¡æ‹Ÿå‡½æ•°ğŸ‘‡</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="faf5" class="ml mm in mh b gy mn mo l mp mq">const handleChange = <strong class="mh io">jest.fn()</strong>;</span></pre><p id="165d" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹DOMæµ‹è¯•åº“<em class="lz"> fireEvent </em>ï¼Œæˆ‘ä»¬æ³¨é‡Šæ‰è¿™æ®µä»£ç çš„åŸå› æ˜¯å› ä¸ºå»ºè®®ä½¿ç”¨<code class="fe ng nh ni mh b">userEvent</code>è€Œä¸æ˜¯<code class="fe ng nh ni mh b">fireEvent.</code>ä¸ºä»€ä¹ˆï¼ŸåŸå› æ˜¯<code class="fe ng nh ni mh b">userEvent</code>æ¨¡æ‹Ÿäº†<strong class="lb io">å®Œæ•´çš„äº¤äº’</strong>ï¼Œè€Œä¸ä»…ä»…æ˜¯å•ä¸ªäº‹ä»¶å¦‚<code class="fe ng nh ni mh b">mouseOver()</code>ã€<code class="fe ng nh ni mh b">focus()</code>ã€<code class="fe ng nh ni mh b">change()</code> â€¦,è€Œä¸”ä½¿ç”¨fireEventè€Œä¸æ˜¯userEventä¹Ÿæœ‰é—®é¢˜ã€‚</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="82fb" class="ml mm in mh b gy mn mo l mp mq">// import { <strong class="mh io">fireEvent</strong> } from "@testing-library/react";<em class="lz"><br/>// </em><strong class="mh io">fireEvent: </strong>Simulates a specified event. <br/><em class="lz">// </em>fireEvent.change(userInput, {target: { value: "apple" }});</span></pre><p id="e162" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç°åœ¨ï¼Œåœ¨æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ä»<em class="lz">@ testing library/user-event</em>ä¸­å¯¼å…¥<strong class="lb io"> userEvent </strong>ï¼Œç”¨<em class="lz"> userEvent.type(userInputï¼Œ" apple") </em>ï¼Œæˆ‘ä»¬åœ¨è¾“å…¥å­—æ®µä¸­é”®å…¥å­—ç¬¦ä¸²:" apple "ï¼Œå¹¶æœŸæœ›å›è°ƒå‡½æ•°<em class="lz"> handleChange </em>å·²è¢«è°ƒç”¨ï¼Œå¹¶ä¸”" apple "åº”è¯¥åœ¨è¾“å…¥å­—æ®µä¸­ã€‚</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="4d5f" class="ml mm in mh b gy mn mo l mp mq">import userEvent from "@testing-library/user-event";<br/>...// same<br/>        <strong class="mh io">userEvent</strong>.type(userInput, "apple");</span><span id="69a0" class="ml mm in mh b gy mr mo l mp mq">        expect(handleChange).toHaveBeenCalled();<br/>        expect(userInput.value).toBe("apple");</span></pre><p id="5cf9" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ§šğŸ»â€â™‚ï¸ <strong class="lb io">ç¬¬ä¸‰ä¸ªè¯•å—:</strong></p><p id="4f0d" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åŒæ ·çš„é€»è¾‘åœ¨è¿™é‡Œèµ·ä½œç”¨ï¼Œæˆ‘ä»¬æ¨¡ä»¿å‡½æ•°ï¼Œç”¨ä¸€äº›å€¼æ¸²æŸ“ç»„ä»¶ï¼Œè·å–æŒ‰é’®ï¼Œå¹¶ä½¿ç”¨Jest API<a class="ae lv" href="https://jestjs.io/docs/expect#tobefalsy" rel="noopener ugc nofollow" target="_blank"><strong class="lb io">toBeFalsy()</strong></a><strong class="lb io"/>æ¥æµ‹è¯•ç”¨æˆ·è¾“å…¥åæŒ‰é’®æ˜¯å¦è¢«å¯ç”¨ã€‚</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="7d32" class="ml mm in mh b gy mn mo l mp mq"><strong class="mh io">test</strong>("button should be enabled with input value", <strong class="mh io">async</strong> () =&gt; {<br/>        // same ...<br/>        const addTodo = jest.fn();<br/>        render(<br/>          &lt;Input inputValue="apple" addTodo={addTodo} /&gt;);<br/>          const addButton = <strong class="mh io">screen.getByRole</strong>("button", { name: /add/i });</span><span id="d4f8" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">//button enabled <br/>        </em>expect(addButton.disabled).<strong class="mh io">toBeFalsy</strong>();<br/>        <strong class="mh io">await</strong> userEvent.<strong class="mh io">click</strong>(addButton);<br/>        expect(addTodo).toHaveBeenCalled();<br/>});</span></pre><ul class=""><li id="c1f7" class="ms mt in lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><em class="lz">æˆ‘ä½¿ç”¨async-awaitçš„åŸå› æ˜¯å› ä¸º</em> <code class="fe ng nh ni mh b"><em class="lz">v13</em></code> <em class="lz">å¤„çš„</em> <code class="fe ng nh ni mh b"><em class="lz">@testing-library/user-event</em></code> <em class="lz">æ²¡æœ‰è¿”å›æ‰¿è¯ºï¼Œä½†æ˜¯</em> <code class="fe ng nh ni mh b"><em class="lz">v14</em></code> <em class="lz">çš„æ›´æ–°è¿”å›äº†ã€‚ç›®å‰ï¼Œ</em> <code class="fe ng nh ni mh b"><em class="lz">create-react-app</em></code> <em class="lz">æä¾›äº†</em> <code class="fe ng nh ni mh b"><em class="lz">v13</em></code> <em class="lz">ï¼Œæ‰€ä»¥ä¸æœ€æ–°æ–‡æ¡£ä¸ç¬¦ã€‚</em></li></ul><p id="3993" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç°åœ¨ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œæµ‹è¯•:</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="0764" class="ml mm in mh b gy mn mo l mp mq">npm test</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nj"><img src="../Images/86276c9ac55952df4ba7e90ae6a9da25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rhs-gBmCprau9Ua0Ph3SZA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Input.test.js</figcaption></figure><p id="b006" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è¿™æ˜¯è¾“å…¥æµ‹è¯•ï¼Œç°åœ¨æˆ‘ä»¬è¦æµ‹è¯•ListViewç»„ä»¶ï¼Œåœ¨æˆ‘ä»¬å®Œæˆç¬¬ä¸€æ­¥åï¼Œæ¥ä¸‹æ¥çš„æ­¥éª¤å°†ä¼šæ›´å®¹æ˜“ã€‚</p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="9f03" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="lb io"> ListView.test.js </strong></p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="5120" class="ml mm in mh b gy mn mo l mp mq">import { render, screen} from â€œ@testing-library/reactâ€;<br/>import ListView from â€œ./ListViewâ€;<br/>import â€œ@testing-library/jest-domâ€;<br/>import userEvent from â€œ@testing-library/user-eventâ€;</span><span id="3365" class="ml mm in mh b gy mr mo l mp mq">describe(â€œ&lt;<strong class="mh io">ListView</strong> /&gt;â€, () =&gt; {<br/>  test(â€œrenders emoji by defaultâ€, () =&gt; {<br/>    render(&lt;ListView /&gt;);<br/>      const emoji = screen.getAllByTestId(â€œemojiâ€);<br/>      expect(emoji).toHaveLength(1); // default as array<br/>})});</span></pre><p id="13d1" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä¸è¾“å…¥ç»„ä»¶ä¸€æ ·ï¼Œæˆ‘ä»¬é¦–å…ˆæµ‹è¯•ğŸ°é»˜è®¤æƒ…å†µä¸‹ä¼šæ˜¾ç¤ºè¡¨æƒ…ç¬¦å·ï¼Œå› ä¸ºç”¨æˆ·æ²¡æœ‰æ·»åŠ ä»»ä½•å¾…åŠäº‹é¡¹ã€‚æˆ‘ä»¬ä½¿ç”¨<strong class="lb io"> data-testid </strong>æ¥æµ‹è¯•ListView.jsä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="f52f" class="ml mm in mh b gy mn mo l mp mq">&lt;span <strong class="mh io">data-testid</strong>="list-view"&gt;{content}&lt;/span&gt;<br/>&lt;button <strong class="mh io">data-testid="remove-button"&gt;</strong>remove&lt;/button&gt;<br/>&lt;span role="img" aria-label="cake" <strong class="mh io">data-testid</strong>="emoji"&gt;ğŸ°&lt;/span&gt;</span></pre><p id="b898" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç„¶åï¼Œåœ¨ç¬¬äºŒä¸ªæµ‹è¯•å—ä¸­ï¼Œæˆ‘ä»¬æ¨¡ä»¿<em class="lz"> removeTodo </em>å‡½æ•°ï¼Œä½¿ç”¨Todoåˆ—è¡¨å‘ˆç°ç»„ä»¶ï¼Œè·å–testidå¹¶æµ‹è¯•æ˜¯å¦æ˜¾ç¤ºâ€œè‹¹æœâ€åˆ—è¡¨è€Œä¸æ˜¯è¡¨æƒ…ç¬¦å·ï¼Œç„¶åè·å–removeæŒ‰é’®å¹¶è§¦å‘å›è°ƒå‡½æ•°ã€‚</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="5850" class="ml mm in mh b gy mn mo l mp mq">test(â€œrenders list correctlyâ€, async () =&gt; {<br/>    const removeTodo = jest.fn();<br/>      render(&lt;ListView todoList={[{ id: 1, content: â€œappleâ€ }]}<br/>           removeTodo={removeTodo} /&gt; );<br/>    const listView = screen.getAllByTestId(â€œlist-viewâ€);</span><span id="5fdf" class="ml mm in mh b gy mr mo l mp mq">    <em class="lz">// displays list content:â€™appleâ€™<br/>    </em>expect(listView[0]).toHaveTextContent(â€œappleâ€);</span><span id="0580" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">    // remove list<br/></em>    const removeButton = screen.getByRole("button", {name: /remove/i });</span><span id="ee3b" class="ml mm in mh b gy mr mo l mp mq">    await userEvent.click(removeButton);<br/>    expect(removeTodo).toHaveBeenCalled();<br/>})</span></pre><p id="455d" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œæµ‹è¯•:</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="bd1e" class="ml mm in mh b gy mn mo l mp mq">npm test</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nk"><img src="../Images/ad10e46891e112865756653bc64f21cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2TvQzMjkb_zOMHKLS3y8ag.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">ListView.test.js</figcaption></figure><p id="2ae2" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="lb io"> App.test.js </strong></p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="92f3" class="ml mm in mh b gy mn mo l mp mq">import {render, screen, fireEvent} from â€œ@testing-library/reactâ€;<br/>import â€œ@testing-library/jest-domâ€;<br/>import App from â€œ./Appâ€;</span><span id="13c7" class="ml mm in mh b gy mr mo l mp mq">describe(â€œ&lt;App /&gt;â€, () =&gt; {<br/>  test(â€œdisplays Input, disabled add-button, reset-button and emoji by defaultâ€, () =&gt; {<br/>    render(&lt;<strong class="mh io">App</strong> /&gt;);<br/>    const userInput = screen.getByTestId(â€œinput-fieldâ€);<br/>    const addButton = screen.getByRole("button", { name: /add/i });<br/>    const emoji = screen.getByTestId(â€œemojiâ€);<br/>    const resetButton = screen.getByRole("button", {name: /reset/i });</span><span id="7251" class="ml mm in mh b gy mr mo l mp mq">    expect(userInput).toBeInTheDocument();<br/>    expect(emoji).toBeInTheDocument();<br/>    expect(addButton).toBeDisabled();<br/>    expect(resetButton).toBeInTheDocument();<br/>})});</span></pre><p id="6374" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç¬¬ä¸€ä¸ªæµ‹è¯•å—éå¸¸æ¸…æ¥šï¼Œæˆ‘ä»¬æµ‹è¯•äº†æ‰€æœ‰å…ƒç´ (è¾“å…¥ã€æŒ‰é’®å’Œåˆ—è¡¨)åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½èƒ½æ­£ç¡®æ˜¾ç¤ºã€‚</p><p id="8f39" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨ç¬¬äºŒä¸ªæµ‹è¯•å—ä¸­ï¼Œæˆ‘å°†å®ç°æ¥è‡ª<a class="ae lv" href="https://testing-library.com/docs/dom-testing-library/intro" rel="noopener ugc nofollow" target="_blank"> DOMæµ‹è¯•åº“</a>çš„<em class="lz"> fireEvent API </em>(ä¸æ¨èï¼Œä»…ä½œä¸ºç¤ºä¾‹)ï¼Œæ¥æµ‹è¯•åˆ—è¡¨è§†å›¾å’Œé‡ç½®æŒ‰é’®ã€‚(<em class="lz"> fireEvent.click()ï¼Œâ€¦ </em>)</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="eabc" class="ml mm in mh b gy mn mo l mp mq">test(â€œdisplays list after add button click and emoji after resetâ€, () =&gt; {<br/>    render(&lt;App /&gt;);<br/>    const userInput = screen.getByTestId(â€œinput-fieldâ€);<br/>    const addButton = screen.getByRole("button", {name: /add/i });<br/>    const resetButton = screen.getByRole("button", {name: /reset/i });</span><span id="ed5f" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">    // user input <br/>    </em><strong class="mh io">fireEvent</strong>.<strong class="mh io">change</strong>(userInput, { target: { value: â€œappleâ€ } });<br/>    expect(userInput.value).toBe(â€œappleâ€);<br/>    expect(addButton.disabled).toBeFalsy();</span><span id="e63e" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">    // click add button and add/display list<br/>    </em><strong class="mh io">fireEvent</strong>.<strong class="mh io">click</strong>(addButton);<br/>    const listView = screen.getByTestId(â€œlist-viewâ€);<br/>    expect(listView).toHaveTextContent(â€œappleâ€);</span><span id="292e" class="ml mm in mh b gy mr mo l mp mq"><em class="lz">    // reset list and display emoji<br/>    </em><strong class="mh io">fireEvent</strong>.<strong class="mh io">click</strong>(resetButton);<br/>    const emoji = screen.getByTestId(â€œemojiâ€);<br/>    expect(listView).not.toBeInTheDocument();<br/>    expect(emoji).toBeInTheDocument();<br/>});</span></pre><p id="b861" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œæµ‹è¯•:</p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="99b2" class="ml mm in mh b gy mn mo l mp mq">npm test</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nl"><img src="../Images/770bba65a226ff3ace3c8cae34a3636e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vonVgYUoHOMyl664cstQ-w.png"/></div></div></figure><p id="4830" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨æœ€åä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæµ‹è¯•æ¥éªŒè¯åº”ç”¨ç¨‹åºçš„æ˜¾ç¤ºèƒ½åŠ›ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯ä»¥å·¥ä½œäº†ã€‚</p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="d988" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨Jestã€Reactæµ‹è¯•åº“ç¼–å†™äº†æµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘ä»¬ç¼–å†™äº†åŸºäºç”¨æˆ·å¦‚ä½•ä¸UIäº¤äº’çš„æµ‹è¯•ï¼Œæˆ‘ä»¬è¿˜å®ç°äº†<em class="lz"> getBy* </em>æŸ¥è¯¢å’Œå¼‚æ­¥æµ‹è¯•ã€‚</p><p id="fd33" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è¿˜æœ‰æ›´å¤šçš„<a class="ae lv" href="https://jestjs.io/docs/expect#methods" rel="noopener ugc nofollow" target="_blank"> <em class="lz"> Jestæ–¹æ³•</em> </a>å’Œæµ‹è¯•ç”¨ä¾‹ï¼Œå¦‚ç¼–å†™<a class="ae lv" href="https://jestjs.io/docs/snapshot-testing" rel="noopener ugc nofollow" target="_blank">å¿«ç…§æµ‹è¯•</a> sç­‰ã€‚æ‚¨ä¹Ÿå¯ä»¥é˜…è¯»Kent C. Doddçš„<a class="ae lv" href="https://kentcdodds.com/blog/common-mistakes-with-react-testing-library" rel="noopener ugc nofollow" target="_blank">Reactæµ‹è¯•åº“çš„å¸¸è§é”™è¯¯</a>æ¥äº†è§£æ›´å¤šå…³äºä½¿ç”¨Reactæµ‹è¯•åº“çš„æœ€ä½³å®è·µã€‚è¿™æ˜¯ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« ï¼Œè§£é‡Šäº†æˆ‘çŠ¯çš„å‡ ä¸ªé”™è¯¯(<em class="lz">æ¸…ç†ã€ç­›é€‰ã€æŸ¥è¯¢ã€ç”¨æˆ·äº‹ä»¶ã€ç­‰å¾…â€¦ </em>)</p><p id="c6e3" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å¸Œæœ›è¿™æ˜¯æœ‰è¶£çš„ï¼Œå¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¦‚æœä½ ä¹Ÿå¯¹æˆ‘çš„å…¶ä»–æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæœ‰ä¸€äº›é“¾æ¥ï¼Œè°¢è°¢ä½ çš„æ—¶é—´ğŸŒ¹</p><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/suspense-with-lazy-axios-react-471a43113e4b"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">ååº”:ä¸æ‡’æƒ°å’ŒAxiosçš„æ‚¬å¿µ</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">ç­‰ç­‰ï¼Œæ‚¬ç–‘ä¸ä»…ä»…æ˜¯ä»£ç åˆ†è£‚</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od km np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://xiaominzhu.medium.com/common-use-cases-of-react-hook-form-b7cf961a42f6" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">React-Hook-Formåº“|å¸¸è§ç”¨ä¾‹</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">å› ä¸ºç»å¯¹æ²¡æœ‰äººå–œæ¬¢åˆ›å»ºå’Œé‡å»ºå¸¦æœ‰éªŒè¯çš„å¤æ‚è¡¨å•</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">xiaominzhu.medium.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od km np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/a-shopping-list-with-react-hook-usereducer-310a3b6578"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">ç”¨React Hook useReduceråˆ›å»ºè´­ç‰©æ¸…å•</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">å¸¦æœ‰useReducer ReactæŒ‚é’©çš„è´­ç‰©æ¸…å•â€”â€”ä¸€ä¸ªè®©useReduceræ›´å®¹æ˜“ç†è§£çš„å°ç»ƒä¹ ã€‚</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ny l"><div class="of l oa ob oc ny od km np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-simple-react-custom-hook-fc733d7b977a"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactè‡ªå®šä¹‰æŒ‚é’©</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">å…³äºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactè‡ªå®šä¹‰é’©å­çš„æ•™ç¨‹</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ny l"><div class="og l oa ob oc ny od km np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-simple-express-server-node-js-for-react-application-e2b2bd0c7e93"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">ä¸ºReactåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªç®€å•çš„ExpressæœåŠ¡å™¨(Node.js)</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">å…³äºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ExpressæœåŠ¡å™¨(Node.js)ã€å°†å…¶è¿æ¥åˆ°Reactåº”ç”¨ç¨‹åºä»¥åŠè§£å†³é”™è¯¯çš„æ•™ç¨‹â€¦</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ny l"><div class="oh l oa ob oc ny od km np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://xiaominzhu.medium.com/react-functional-components-using-refs-a5ad1d2817d4" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">ä½¿ç”¨å¼•ç”¨å¯¹åŠŸèƒ½ç»„ä»¶è¿›è¡Œååº”</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">forwardRefå’ŒuseImperativeHandleçš„ç¤ºä¾‹</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">xiaominzhu.medium.com</p></div></div><div class="ny l"><div class="oi l oa ob oc ny od km np"/></div></div></a></div><div class="nm nn gp gr no np"><a href="https://medium.com/geekculture/update-parent-state-from-child-component-with-react-context-api-a56cf3742428" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd io gy z fp nu fr fs nv fu fw im bi translated">ç”¨Reactä¸Šä¸‹æ–‡å°†çŠ¶æ€ä»å­èŠ‚ç‚¹æ›´æ–°åˆ°çˆ¶èŠ‚ç‚¹</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">â€” React Contextæä¾›äº†ä¸€ç§é€šè¿‡ç»„ä»¶æ ‘ä¼ é€’æ•°æ®çš„æ–¹æ³•ï¼Œè€Œä¸å¿…åœ¨â€¦</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">medium.com</p></div></div><div class="ny l"><div class="oj l oa ob oc ny od km np"/></div></div></a></div></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="2499" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lz">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae lv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lz">plain English . io</em></strong></a><em class="lz">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae lv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="lz">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="lz">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae lv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lz">Twitter</em></strong></a><a class="ae lv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lz">LinkedIn</em></strong></a><em class="lz"/><a class="ae lv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lz">YouTube</em></strong></a><em class="lz"/><a class="ae lv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lz">ä¸å’Œ</em> </strong> </a> <em class="lz">ã€‚å¯¹å¢é•¿é»‘å®¢æ„Ÿå…´è¶£ï¼Ÿæ£€æŸ¥</em> <a class="ae lv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="lz">ç”µè·¯</em> </strong> </a> <em class="lz">ã€‚</em></p></div></div>    
</body>
</html>