<html>
<head>
<title>Masonry Layouts with Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带棱角的砖石布局</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/masonry-layouts-with-angular-71c0b5a80c36?source=collection_archive---------2-----------------------#2022-04-08">https://javascript.plainenglish.io/masonry-layouts-with-angular-71c0b5a80c36?source=collection_archive---------2-----------------------#2022-04-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6a2e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何使用自定义角管实现砖石布局的指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/eb83737bf24b666356e627cb589b592d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hMnOKgfBF1o2TrRc"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@gareth_david?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Gareth David</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="207b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于Pinterest的有效实施，砖石布局通常被称为“Pinterest布局”，是一种视觉上吸引人的方式来显示不同高度/宽度的项目集合。它最常用于以视觉上有趣且不浪费空间的方式显示不同尺寸的图像。它的表达很简单，但是它的实现看起来很复杂。</p><p id="5dcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">事实证明，砖石布局需要JavaScript成为真正的功能性布局。以下是一些仅使用CSS的尝试以及失败的原因。</p><h2 id="c709" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">网络法🚫</h2><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="34d8" class="ls lt iq mm b gy mq mr l ms mt">display: grid;<br/>grid-template-columns: 1fr 1fr;<br/>grid-column-gap: 16px;<br/>grid-auto-flow: row;</span></pre><p id="e97f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用网格的问题是行会自动调整大小以匹配最大的元素，导致元素之间有间隙，如下图所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/d2147d3ecaf0fc47bca8618373805421.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*5L82x8MG0p_Q9Q3K9TCbCw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Grid method</figcaption></figure><h2 id="8259" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">文本列方法🚫</h2><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="90b2" class="ls lt iq mm b gy mq mr l ms mt">columns: 2;</span></pre><p id="7bb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用columns CSS属性，我们可以实现一些乍一看似乎正确的东西。然而，这里的问题是元素是从上到下排序的，而不是从左到右。因此，如果页面高度没有限制，元素会在一列中向下排序，永远不会分成两列。此外，为了在下一列中包装一个div，可以对它进行切片。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/21f981e99607d2315384c6bbccd54ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*8yihKEjWKyYyxatjyf2F2A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Text column method</figcaption></figure><h2 id="9e8c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">柔性盒方法🚫</h2><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="a05e" class="ls lt iq mm b gy mq mr l ms mt">display: flex;<br/>flex-direction: column;<br/>flex-wrap: wrap;<br/>max-height: 900px;</span></pre><p id="27c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用flexbox方法，我们解决了div被分割到多个列的问题。然而，文本列方法的其余问题也存在于flexbox方法中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/c32862b774a379902baf601c190d4677.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*0hpoqADONNYE86XokuIoHQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Flexbox method</figcaption></figure><h2 id="8038" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">浮动法🚫</h2><pre class="kg kh ki kj gt ml mm mn mo aw mp bi"><span id="f1d2" class="ls lt iq mm b gy mq mr l ms mt">float: left;</span></pre><p id="a946" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用float，我们获得了与使用grid相同的结果。浮动元素会自动对齐，再次导致元素之间的间隙。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/2a8b31e78d95c5bce9a4a87f3257eb04.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*7tniSsr2gRz8m34TT_3Maw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Float method</figcaption></figure><h2 id="65dd" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">一种测角方法✔</h2><p id="6498" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">使用一个定制的角形管道，我们可以实现一个砖石布局，给定一个单一的项目阵列，超过X个列。方法如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e72a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">管道转换一个对象数组，并接受一些列和一个列号。在检查有效输入后，它简单地使用模操作符返回给定数组的每个列号的子集。实际上，它的用法如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/3cfc64155a22ccba6f7e2af44d6d140d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*WKFVXdeK-xfopApSiDgLNw.png"/></div></figure><p id="76ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，我用一个<code class="fe ng nh ni mm b">ngFor</code>迭代了许多列，在每一列中都有一个<code class="fe ng nh ni mm b">myThings</code>列表。但是砌筑管道只返回适当列的<code class="fe ng nh ni mm b">myThings</code>数组的子集。这实现了具有独立的项目列的布局，这些项目可以独立于它们的邻居自由地调整大小，解决了间隙问题。</p><p id="11e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重要的是要知道，对于上面显示的例子来说，你的CSS至少需要包括以下内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/626400b417630d5e8e79fd408e964da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*LfFaiG-Lzh5k4UxoZQaw9Q.png"/></div></figure><p id="4981" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您可能会担心，在每个更新周期对一个非常大的数组执行管道中的函数会导致性能问题。但是管道经过了优化，因此只有在给定的输入发生变化时才会被调用。虽然这样可以节省性能，但是在更新数组时必须小心，因为简单地推送元素或更改数组中的元素不会导致管道再次运行，从而导致不均匀的列。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><p id="ef75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读；希望这篇文章对你有帮助。有关数组与管道一起使用的可能问题的更多信息，请查看Angular文档。</p><div class="nr ns gp gr nt nu"><a href="https://angular.io/guide/pipes" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd ir gy z fp nz fr fs oa fu fw ip bi translated">有角的</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">Angular是一个构建移动和桌面web应用程序的平台。加入数百万开发者的社区…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">angular.io</p></div></div></div></a></div><p id="3ba7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="od">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="od">plain English . io</em></strong></a><em class="od">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="od">免费周报</em> </strong> </a> <em class="od">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="od">Twitter</em></strong></a><em class="od">和</em><strong class="ky ir"><em class="od"/></strong><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="od">LinkedIn</em></strong></a><em class="od">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="od">社区</em> </strong> </a> <em class="od">。</em></p></div></div>    
</body>
</html>