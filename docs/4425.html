<html>
<head>
<title>How To Square Every Digit in JavaScript and TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何计算JavaScript和TypeScript中每个数字的平方</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-square-every-digit-in-javascript-and-typescript-179cf95bf58f?source=collection_archive---------11-----------------------#2022-12-01">https://javascript.plainenglish.io/how-to-square-every-digit-in-javascript-and-typescript-179cf95bf58f?source=collection_archive---------11-----------------------#2022-12-01</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><h2 id="db06" class="ip iq ir bd b dl is it iu iv iw ix dk iy translated" aria-label="kicker paragraph">毁灭2022</h2><div class=""/><figure class="gm go jy jz ka kb gi gj paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="gi gj jx"><img src="../Images/9fc8bfac30366ef458e49a97f9a86a86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_Xg0Q33zmbEzTyuIlPWGQ.jpeg"/></div></div><figcaption class="ki kj gk gi gj kk kl bd b be z dk">Image by <a class="ae km" href="https://medium.com/@el3um4s" rel="noopener">Samuele</a></figcaption></figure><p id="bbe1" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">推特世界一片混乱。我决定放弃它。我肯定漏掉了什么。例如，我不知道是否有人在组织像去年那样的灾难。去年这是一次很好的经历，我想再重复一次。但是我没有去年那么多时间。所以我决定做一些虚假的事情:每天我会从<a class="ae km" href="https://www.codewars.com/" rel="noopener ugc nofollow" target="_blank"> CodeWars </a>提出的问题中随机选择一个问题，并尝试解决它。让我们看看进展如何。</p><h1 id="07a0" class="ll lm ir bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">问题是</h1><p id="fba1" class="pw-post-body-paragraph kn ko ir kp b kq mj ks kt ku mk kw kx ky ml la lb lc mm le lf lg mn li lj lk ik bi translated">今天的问题是<a class="ae km" href="https://www.codewars.com/kata/546e2562b03326a88e000020" rel="noopener ugc nofollow" target="_blank">平方每位数</a>。这个问题非常简单:给定一个数字，返回这个数字的每个数字的平方。例如，如果数字是9119，结果将是811181。如果数字为0，结果将为0。</p><h1 id="09bf" class="ll lm ir bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">解决方案</h1><figure class="mo mp mq mr gu kb gi gj paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="gi gj jx"><img src="../Images/7ea23c5c22557c79e321bf504f8e2f26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qgHs8RFPDVJgxc0E7I8L2Q.jpeg"/></div></div><figcaption class="ki kj gk gi gj kk kl bd b be z dk">Image by <a class="ae km" href="https://medium.com/@el3um4s" rel="noopener">Samuele</a></figcaption></figure><p id="0df9" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">我建议的解决方案(在TypeScript中)是这样的:</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="000a" class="mx lm ir mt b be my mz l na nb">export class Kata {<br/>  static squareDigits(num: number): number {<br/>    const char: string = num.toString();<br/>    const result: string = [...char].map((c) =&gt; parseInt(c) ** 2).join("");<br/>    return parseInt(result);<br/>  }<br/>}</span></pre><p id="1e2f" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">我也可以用JavaScript编写解决方案:</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="031c" class="mx lm ir mt b be my mz l na nb">function squareDigits(num) {<br/>  const char = num.toString();<br/>  const result = [...char].map((c) =&gt; parseInt(c) ** 2).join("");<br/>  return +result;<br/>}</span></pre><h1 id="4556" class="ll lm ir bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">说明</h1><p id="ff00" class="pw-post-body-paragraph kn ko ir kp b kq mj ks kt ku mk kw kx ky ml la lb lc mm le lf lg mn li lj lk ik bi translated">为了简化各个步骤，我可以把问题分成几部分。</p><p id="df98" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">首先我把数字转换成一个字符串。</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="a56b" class="mx lm ir mt b be my mz l na nb">// ts<br/>const char: string = num.toString();<br/><br/>// js<br/>const char = num.toString();</span></pre><p id="15c1" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">我为什么要这么做？因为这可以让我提取数字的每一位。我可以使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" rel="noopener ugc nofollow" target="_blank"> toString() </a>方法，或者将空字符串与数字连接起来。这两种方法的工作方式相同。</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="fa5a" class="mx lm ir mt b be my mz l na nb">// ts<br/>const char: string = "" + num;<br/><br/>// js<br/>const char = "" + num;</span></pre><p id="e223" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">问题和测试是关于正数的，但是考虑负数也很有趣。我可以用各种方法解决这个问题。我可以使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/abs" rel="noopener ugc nofollow" target="_blank"> Math.abs() </a>方法将数字转换为正数。</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="da98" class="mx lm ir mt b be my mz l na nb">// ts<br/>const char: string = Math.abs(num).toString();<br/>const char: string = "" + Math.abs(num);<br/><br/>// js<br/>const char = Math.abs(num).toString();<br/>const char = "" + Math.abs(num);</span></pre><p id="dca5" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">找到字符串后，我可以将它转换成一个数组，这样我就可以使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> Array.map() </a>方法。</p><p id="ba94" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">然后我使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank">扩展操作符</a>将一个字符串转换成一个数组:</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="20af" class="mx lm ir mt b be my mz l na nb">// ts<br/>const array: Array&lt;string&gt; = [...char];<br/><br/>// js<br/>const array = [...char];</span></pre><p id="2a0a" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">要计算一个数的幂，我可以使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Exponentiation" rel="noopener ugc nofollow" target="_blank">取幂运算符(**) </a></p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="f014" class="mx lm ir mt b be my mz l na nb">// ts<br/>const result: number = 2 ** 3;<br/><br/>// js<br/>const result = 2 ** 3;</span></pre><p id="e356" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">要将字符串转换成数字，我可以使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt" rel="noopener ugc nofollow" target="_blank"> parseInt() </a>方法。</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="2b77" class="mx lm ir mt b be my mz l na nb">// ts<br/>const result: number = parseInt("123");<br/><br/>// js<br/>const result = parseInt("123");</span></pre><p id="c65b" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">我使用了<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" rel="noopener ugc nofollow" target="_blank"> Array.join() </a>方法来将数组转换成字符串。</p><p id="ad97" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">我把这些放在一起</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="f9ae" class="mx lm ir mt b be my mz l na nb">// ts<br/>const result: string = [...char].map((c) =&gt; parseInt(c) ** 2).join("");<br/><br/>// js<br/>const result = [...char].map((c) =&gt; parseInt(c) ** 2).join("");</span></pre><p id="cf70" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">我只需要返回一个数字形式的结果:</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="ab2b" class="mx lm ir mt b be my mz l na nb">return parseInt(result);</span></pre><h1 id="b62b" class="ll lm ir bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">其他解决方案</h1><figure class="mo mp mq mr gu kb gi gj paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="gi gj jx"><img src="../Images/643f321f52c78b63e8fa16dd3b217faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7qCfJhjN-6NgnVOySsFOpA.jpeg"/></div></div><figcaption class="ki kj gk gi gj kk kl bd b be z dk">Image by <a class="ae km" href="https://medium.com/@el3um4s" rel="noopener">Samuele</a></figcaption></figure><p id="5164" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">显然，这不是唯一可能的解决办法。例如，我可以使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener ugc nofollow" target="_blank"> Array.reduce() </a>方法来获得结果。</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="090e" class="mx lm ir mt b be my mz l na nb">// ts<br/>const result: number = +[...char].reduce((acc, cur) =&gt; acc + +cur * +cur, "");<br/>return result;</span></pre><p id="bfbd" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">也就是说:</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="30ef" class="mx lm ir mt b be my mz l na nb">// ts<br/>export class Kata {<br/>  static squareDigits(num: number): number {<br/>    return +[...("" + Math.abs(num))].reduce(<br/>      (acc, cur) =&gt; acc + +cur * +cur,<br/>      ""<br/>    );<br/>  }<br/>}<br/><br/>// js<br/>function squareDigits(num) {<br/>  return +[...("" + Math.abs(num))].reduce((acc, cur) =&gt; acc + +cur * +cur, "");<br/>}</span></pre><p id="7733" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">另一种方法是使用<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" rel="noopener ugc nofollow" target="_blank">正则表达式</a>和<a class="ae km" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace" rel="noopener ugc nofollow" target="_blank"> String.replace() </a>方法。</p><pre class="mo mp mq mr gu ms mt mu bn mv mw bi"><span id="2c26" class="mx lm ir mt b be my mz l na nb">// ts<br/>export class Kata {<br/>  static squareDigits(num: number): number {<br/>    return +("" + Math.abs(num)).replace(/\d/g, (x) =&gt; (+x * +x).toString());<br/>  }<br/>}<br/><br/>// js<br/>function squareDigits(num) {<br/>  return +("" + Math.abs(num)).replace(/\d/g, (x) =&gt; (+x * +x).toString());<br/>}</span></pre><p id="91ed" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl nc nd hv ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated"><strong class="kp jb"> <em class="nj">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae km" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kp jb"> <em class="nj">中邮件列表</em> </strong> </a></p><div class="nk nl gq gs nm nn"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="no ab fp"><div class="np ab nq cl cj nr"><h2 class="bd jb gz z fq ns fs ft nt fv fx ja bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="nu l"><h3 class="bd b gz z fq ns fs ft nt fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="nv l"><p class="bd b dl z fq ns fs ft nt fv fx dk translated">el3um4s.medium.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob kg nn"/></div></div></a></div><p id="9d6f" class="pw-post-body-paragraph kn ko ir kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ik bi translated"><em class="nj">更多内容看</em> <a class="ae km" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kp jb"> <em class="nj">说白了。报名参加我们的</em> <a class="ae km" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kp jb"> <em class="nj">免费每周简讯</em> </strong> </a> <em class="nj">。关注我们关于</em> <a class="ae km" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kp jb"> <em class="nj">推特</em> </strong> </a>，<a class="ae km" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kp jb"><em class="nj">LinkedIn</em></strong></a><em class="nj">，</em><a class="ae km" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kp jb"><em class="nj">YouTube</em></strong></a><em class="nj">，</em> <a class="ae km" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kp jb"> <em class="nj">不和</em> </strong> </a> <em class="nj">。对增长黑客感兴趣？检查出</em> <a class="ae km" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kp jb"> <em class="nj">电路</em> </strong> </a> <em class="nj">。</em></strong></a></p></div></div>    
</body>
</html>