<html>
<head>
<title>Publish an npm Package in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在2022年发布一个npm包</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/publish-a-npm-package-in-2022-40dbaaa5b92c?source=collection_archive---------12-----------------------#2022-04-22">https://javascript.plainenglish.io/publish-a-npm-package-in-2022-40dbaaa5b92c?source=collection_archive---------12-----------------------#2022-04-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d1f8" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于我如何创建npm包的简要指南</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/1d4f2612d5c4b87e3f3266aa6ac3af22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkafWFsTa_ue_CGUBisE4g.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Npm packages</figcaption></figure><p id="bb23" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">剧透:</strong>要发布一个好的包确实很难，需要做很多工作。如果你想让这个包易于使用，有良好的文档记录，并且经过良好的测试，除了创建包的核心逻辑之外，还需要做很多工作。</p><p id="fdca" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在接下来的几行中，我将简要介绍我是如何创建一个npm包的，我会及时对它进行改进。</p><h2 id="60da" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated"><strong class="ak">创建Github回购:</strong></h2><p id="ff11" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">这很简单。你可以使用<a class="ae mm" href="https://github.com/emilhein/puppeteer-cmp-clicker" rel="noopener ugc nofollow" target="_blank"> <em class="mn">这个</em> </a>，作为你的新npm包的一个非常基本的模板:</p><h2 id="1bfc" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated">设置CI/CD</h2><p id="356a" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">对于这个小软件包，我将使用<a class="ae mm" href="https://www.travis-ci.com/" rel="noopener ugc nofollow" target="_blank"> Travis-CI </a>，因为它是免费的并且非常容易使用。<br/>它将被设置，所以我们在每次完成对<strong class="ku io"> <em class="mn"> main </em> </strong>的提交时发布一个新版本的包。</p><ol class=""><li id="f765" class="mo mp in ku b kv kw ky kz lb mq lf mr lj ms ln mt mu mv mw bi translated">从您的npm帐户设置环境变量“npm_TOKEN”和“npm_EMAIL ”,以便您允许Travis发布到您的npm帐户</li></ol><h2 id="dbd2" class="lo lp in bd lq lr ls dn lt lu lv dp lw lb lx ly lz lf ma mb mc lj md me mf mg bi translated"><strong class="ak"> Your .travis.yml </strong></h2><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="43e6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这将简单地运行“npm测试”,然后发布你的npm包。</p><p id="4ab7" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">有些东西还取决于你的package.json文件，所以这里有一个这个包的例子:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="0d24" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在，每当我提交到主分支时，包就会被发布。为了使CI/CD管道尽善尽美，还需要做更多的工作。</p><ul class=""><li id="d7e5" class="mo mp in ku b kv kw ky kz lb mq lf mr lj ms ln mz mu mv mw bi translated">测试必须实际实现</li><li id="2649" class="mo mp in ku b kv na ky nb lb nc lf nd lj ne ln mz mu mv mw bi translated">需要设置某种类型的服务器版本</li><li id="187c" class="mo mp in ku b kv na ky nb lb nc lf nd lj ne ln mz mu mv mw bi translated">创建一个更有用的自述文件</li><li id="93de" class="mo mp in ku b kv na ky nb lb nc lf nd lj ne ln mz mu mv mw bi translated">扩展包功能</li><li id="534b" class="mo mp in ku b kv na ky nb lb nc lf nd lj ne ln mz mu mv mw bi translated">测试/覆盖的广告徽章等。</li></ul><p id="f00b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">现在，在我的其他想要使用这个包的项目中，我需要做的就是将它包含在package.json文件中的依赖项中，然后BUM！</p><p id="b53e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">npm软件包可在以下位置找到:</p><div class="nf ng gp gr nh ni"><a href="https://www.npmjs.com/package/puppeteer-cmp-clicker" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd io gy z fp nn fr fs no fu fw im bi translated">木偶师</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">现在我只有一个功能1。clickCmp({page，customKnownIds = []，customknownclass =[]})此函数采用…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">www.npmjs.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw km ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://github.com/emilhein/puppeteer-cmp-clicker" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd io gy z fp nn fr fs no fu fw im bi translated">GitHub-emil hein/puppet eer-cmp-clicker:单击CMP弹出窗口小部件的辅助函数</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">现在我只有一个功能1。</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">github.com</p></div></div><div class="nr l"><div class="nx l nt nu nv nr nw km ni"/></div></div></a></div><p id="6e4d" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="mn">更多内容请看</em><a class="ae mm" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="mn">plain English . io</em></strong></a><em class="mn">。报名参加我们的</em> <a class="ae mm" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="mn">免费周报</em> </strong> </a> <em class="mn">。关注我们关于</em><a class="ae mm" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="mn">Twitter</em></strong></a><em class="mn">和</em><a class="ae mm" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="mn">LinkedIn</em></strong></a><em class="mn">。加入我们的</em> <a class="ae mm" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="mn">社区不和谐</em> </strong> </a> <em class="mn">。</em></p></div></div>    
</body>
</html>