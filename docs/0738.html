<html>
<head>
<title>How to Route in React Native (Stack Navigation and Moving Between Screens using Buttons)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React Native中路由(堆栈导航和使用按钮在屏幕之间移动)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-route-in-react-native-stack-navigation-and-moving-between-screens-using-buttons-772d5750fbb3?source=collection_archive---------8-----------------------#2022-02-10">https://javascript.plainenglish.io/how-to-route-in-react-native-stack-navigation-and-moving-between-screens-using-buttons-772d5750fbb3?source=collection_archive---------8-----------------------#2022-02-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9ced" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在React Native中掌握路线的简单指南</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/26ded4b4305b4bd935254e5719a35607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-MI8ow0hOF_kKitE"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@marekpiwnicki?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marek Piwnicki</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8295" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你是一个绝对的初学者，并希望同时开发一个web和iOS/Android应用程序，你可能想跳到<a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/how-to-get-started-in-react-native-web-react-native-the-easiest-way-4d95c78d4470"> <strong class="kv io"> <em class="lp">这篇文章</em> </strong> </a> <strong class="kv io"> <em class="lp"> </em> </strong>来轻松设置React Native和React Native for Web。同时，在本文中，我们将只关注React Native <strong class="kv io"> <em class="lp">，而不关注与React Native for Web的</em> </strong>集成。</p><h2 id="b157" class="lq lr in bd ls lt lu dn lv lw lx dp ly lc lz ma mb lg mc md me lk mf mg mh mi bi translated">打开终端并运行这些命令—</h2><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="0dcd" class="lq lr in mk b gy mo mp l mq mr">cd desktop <br/>mkdir article<br/>cd article <br/>npx react-native init stacknav</span></pre><p id="68dc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">这些命令的含义:</strong></p><p id="2102" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe ms mt mu mk b">cd desktop</code> &amp; <code class="fe ms mt mu mk b">mkdir article</code>:在桌面上创建一个名为<strong class="kv io">文章</strong>的文件夹。</p><p id="b1c7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe ms mt mu mk b">cd article</code> &amp; <code class="fe ms mt mu mk b">npx react-native init stacknav</code>:在桌面文件夹<strong class="kv io">文章</strong>里面创建一个名为<strong class="kv io"> stacknav </strong>的文件夹，在<strong class="kv io"> stacknav </strong>里面安装React Native。</p><p id="7be7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你去你的桌面，你会找到文件夹<strong class="kv io">文章</strong>，在<strong class="kv io">文章</strong>里面，你会看到<strong class="kv io"> stacknav </strong>。在<strong class="kv io"> stacknav </strong>里面，你会发现React Native以及安装的相关文件。</p><h2 id="d955" class="lq lr in bd ls lt lu dn lv lw lx dp ly lc lz ma mb lg mc md me lk mf mg mh mi bi translated">打开VSCode —</h2><p id="7f02" class="pw-post-body-paragraph kt ku in kv b kw mv jo ky kz mw jr lb lc mx le lf lg my li lj lk mz lm ln lo ig bi translated">打开VSCode，<strong class="kv io"> <em class="lp">拖拽</em> </strong>文件夹中的<strong class="kv io">文章</strong>进去。打开VSCode的终端<strong class="kv io">和<em class="lp">分割</em>和</strong>它。在终端 左侧的<strong class="kv io"> <em class="lp">运行该命令——</em></strong></p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="90f8" class="lq lr in mk b gy mo mp l mq mr">cd stacknav<br/>npx react-native start </span></pre><p id="4ac0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在VSCode终端 的<strong class="kv io"> <em class="lp">右侧，运行该命令—</em></strong></p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="2b70" class="lq lr in mk b gy mo mp l mq mr">cd stacknav<br/>npx react-native run-ios</span></pre><p id="6da2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">→在VSCode终端的左侧，您现在应该看到这些—</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="9964" class="lq lr in mk b gy mo mp l mq mr">Welcome to Metro!<br/> Fast — Scalable — Integrated</span><span id="5fc5" class="lq lr in mk b gy na mp l mq mr">To reload the app press “r”<br/>To open developer menu press “d”</span><span id="30d0" class="lq lr in mk b gy na mp l mq mr">BUNDLE ./index.js</span><span id="e08b" class="lq lr in mk b gy na mp l mq mr">LOG Running “stacknav” with {“rootTag”:1,”initialProps”:{}}</span></pre><p id="cbb7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">→在VSCode终端的右侧，您应该能够看到这些—</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="7126" class="lq lr in mk b gy mo mp l mq mr">info Launching "org.reactjs.native.example.stacknav"<br/>success Successfully launched the app on the simulator</span></pre><h2 id="4618" class="lq lr in bd ls lt lu dn lv lw lx dp ly lc lz ma mb lg mc md me lk mf mg mh mi bi translated">安装本地Stack Navigator库和项目的其他依赖项→</h2><p id="527a" class="pw-post-body-paragraph kt ku in kv b kw mv jo ky kz mw jr lb lc mx le lf lg my li lj lk mz lm ln lo ig bi translated">在右边的终端中运行这些命令，</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="52c2" class="lq lr in mk b gy mo mp l mq mr">yarn add @react-navigation/native-stack<br/>yarn add @react-navigation/native<br/>yarn add react-native-screens react-native-safe-area-context<br/>npx pod-install ios</span></pre><h2 id="a3f7" class="lq lr in bd ls lt lu dn lv lw lx dp ly lc lz ma mb lg mc md me lk mf mg mh mi bi translated">App.js —</h2><p id="3819" class="pw-post-body-paragraph kt ku in kv b kw mv jo ky kz mw jr lb lc mx le lf lg my li lj lk mz lm ln lo ig bi translated">打开App.js文件。在App.js中，去掉<strong class="kv io"> <em class="lp">所有</em> </strong>代码，加上<strong class="kv io"> <em class="lp">这些—</em></strong></p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="70bf" class="lq lr in mk b gy mo mp l mq mr">import React from 'react';<br/>import {NavigationContainer} from '@react-navigation/native';<br/>import {View, Button, StyleSheet, Dimensions} from 'react-native';<br/>import {createNativeStackNavigator} from '@react-navigation/native-stack';</span><span id="206b" class="lq lr in mk b gy na mp l mq mr">const height = Dimensions.get('window').height;<br/>const Stack = createNativeStackNavigator();</span><span id="2b0e" class="lq lr in mk b gy na mp l mq mr">function MainScreen({navigation}) {<br/>    return (<br/>      &lt;View style = {{backgroundColor: 'white', flex: 1}}&gt;<br/>      &lt;View style = {styles.button}&gt;<br/>      &lt;Button title = "Go To Favourites"<br/>       onPress={() =&gt; navigation.navigate('Favourite')}&gt;<br/>      &lt;/Button&gt;<br/>      &lt;/View&gt;<br/>      &lt;/View&gt;<br/>  );<br/>}</span><span id="a0c9" class="lq lr in mk b gy na mp l mq mr">function FavouriteScreen({navigation}) {<br/>    return (<br/>      &lt;View style = {{<br/>       margin: height/2.1,<br/>       width: 185,<br/>       alignSelf: 'center'}}&gt;<br/>      &lt;Button title = 'Back To Main Page'<br/>       onPress={() =&gt; navigation.navigate('Main')}&gt;<br/>      &lt;/Button&gt;<br/>      &lt;/View&gt;<br/>  );<br/>}</span><span id="6cf0" class="lq lr in mk b gy na mp l mq mr">function App() {<br/>    return (<br/>      &lt;NavigationContainer&gt;<br/>      &lt;Stack.Navigator screenOptions = {{headerShown: false}}&gt;<br/>      &lt;Stack.Screen name = "Main"<br/>       component = {MainScreen}<br/>       options = {{title: 'Main'}}/&gt;<br/>      &lt;Stack.Screen name = "Favourite"<br/>       component = {FavouriteScreen}<br/>       options = {{title: 'Favourite'}}/&gt;<br/>      &lt;/Stack.Navigator&gt;<br/>      &lt;/NavigationContainer&gt;<br/>  );<br/>};</span><span id="cf89" class="lq lr in mk b gy na mp l mq mr">export default App;</span><span id="2364" class="lq lr in mk b gy na mp l mq mr">const styles = StyleSheet.create({<br/>      button: {<br/>      borderRadius: 25,<br/>      width: 185,<br/>      backgroundColor: 'orange',<br/>      alignSelf: 'center',<br/>      margin: height/2.1,<br/>  }<br/>})</span></pre><p id="084b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您看到此错误→</p><blockquote class="nb"><p id="a3f3" class="nc nd in bd ne nf ng nh ni nj nk lo dk translated">错误固定冲突:在UIManager中找不到requinativecomponent:“rnscreenstackheaderconfig”。</p></blockquote><h2 id="a864" class="lq lr in bd ls lt nl dn lv lw nm dp ly lc nn ma mb lg no md me lk np mg mh mi bi translated">解决方案—</h2><ul class=""><li id="dc43" class="nq nr in kv b kw mv kz mw lc ns lg nt lk nu lo nv nw nx ny bi translated">寻找<strong class="kv io"> node_modules </strong>文件夹</li><li id="ff3f" class="nq nr in kv b kw nz kz oa lc ob lg oc lk od lo nv nw nx ny bi translated">删除整个<strong class="kv io"> node_modules </strong>文件夹</li><li id="75fa" class="nq nr in kv b kw nz kz oa lc ob lg oc lk od lo nv nw nx ny bi translated">在MacBook上，按下→ control c <br/>(停止metro)</li><li id="3c98" class="nq nr in kv b kw nz kz oa lc ob lg oc lk od lo nv nw nx ny bi translated">检查您是否在主项目目录中。如果您一直在关注本文，您的终端应该显示“<strong class="kv io"> stacknav </strong>”。进入正确的项目目录后，运行以下命令→</li></ul><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="e542" class="lq lr in mk b gy mo mp l mq mr">yarn install</span></pre><p id="fbaa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你会看到<strong class="kv io">节点_模块</strong>文件夹已经返回。在分割VSCode终端中，运行以下命令—</p><p id="516d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在左侧终端上，运行以下命令—</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="835e" class="lq lr in mk b gy mo mp l mq mr">npx react-native start</span></pre><p id="c44d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在右侧终端上，运行以下命令—</p><pre class="kd ke kf kg gt mj mk ml mm aw mn bi"><span id="c572" class="lq lr in mk b gy mo mp l mq mr">npx react-native run-ios</span></pre><p id="5690" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，您应该可以在第一个屏幕上看到一个橙色按钮(“转到收藏夹”)，这将引导您进入第二个屏幕，该屏幕有一个无色按钮(“返回主页面”)。要创建更多的屏幕，在导航容器下添加更多的“堆栈屏幕”，然后为它们创建一个新功能。</p><p id="40e7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">要定制按钮、背景或文本的样式，请在“样式”下编辑。查看其余文章，查找遇到的任何错误的故障排除。更多关于React Native和React Native for Web的教程将会定期发布。请经常回来查看更多简单的指南和提示！</p><div class="oe of gp gr og oh"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-get-started-in-react-native-web-react-native-the-easiest-way-4d95c78d4470"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd io gy z fp om fr fs on fu fw im bi translated">如何开始使用React Native Web &amp; React Native(最简单的方法)</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">在一个源代码中创建本地应用和web应用的方法(综合指南)</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oq l"><div class="or l os ot ou oq ov km oh"/></div></div></a></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ow"><img src="../Images/714139899d5992740e4178fec2467cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Xt2oxyo_KpXhBO_K"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@milverton?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Michael Milverton</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0a81" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">说白了就是</em> </strong> </a> <em class="lp">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">免费周报</em> </strong> </a> <em class="lp">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">社区获得独家访问写作机会和建议</em> </strong> </a> <em class="lp">。</em></p></div></div>    
</body>
</html>