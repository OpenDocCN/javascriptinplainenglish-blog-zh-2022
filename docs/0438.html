<html>
<head>
<title>Say Goodbye to JSCodeshift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">告别JSCodeshift</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/say-good-bye-to-jscodeshift-cfa63898473e?source=collection_archive---------10-----------------------#2022-01-25">https://javascript.plainenglish.io/say-good-bye-to-jscodeshift-cfa63898473e?source=collection_archive---------10-----------------------#2022-01-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div class="gh gi jk"><img src="../Images/efd40b601662bb936e4c6b53620de508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*SiyfMMiBDds2cWlM.png"/></div><figcaption class="jr js gj gh gi jt ju bd b be z dk"><em class="jv">In the pasture of the world,<br/>I endlessly push aside the tall<br/>grasses in search of the Ox.<br/>Following unnamed rivers,<br/>lost upon the interpenetrating<br/>paths of distant mountains,<br/>My strength failing and my vitality exhausted, I cannot find the Ox.<br/>© Zen Ten Bulls</em></figcaption></figure><p id="6d65" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">嗨伙计们！</p><p id="6331" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">当我开始工作时，JSCodeshift给了我很多启发🐊<code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/coderaiser/putout" rel="noopener ugc nofollow" target="_blank">Putout</a></code>。这是一个伟大的想法:使<em class="kz"> codemods简单和流行</em>。但是，在过去的几年里，我没有看到增长。</p><p id="62bf" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">以下是JSCodeshift最显著的缺点:</p><ul class=""><li id="e4fa" class="la lb in jy b jz ka kd ke kh lc kl ld kp le kt lf lg lh li bi translated">❌仍然没有插件支持；</li><li id="b7bc" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">❌仍然没有配置支持；</li><li id="cf77" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">❌纯保养，难得发布；</li><li id="33f2" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">codemods的❌纯测试文化；</li><li id="669d" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">❌纯命令式jQuery类api</li></ul><p id="4e94" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">所以没错，JSCodeshift启发了我很多。灵感来自于如何以完全不同的方式制作物品！</p><p id="4a50" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">每次我安装🐊<code class="fe kv kw kx ky b">Putout</code>我看到了这个反对通知:</p><figure class="lp lq lr ls gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi lo"><img src="../Images/2f10a3a9fd20a5aa7c1056a125dc42e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZnT_6FZ6BQcPFTGA.png"/></div></div></figure><p id="0db2" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">我已经厌倦了，不想再看了。永远不会。现在东西安装得快多了。太棒了，🥳！</p><p id="9302" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">关于支持的JSCodeshift代码模块。这个功能不是很受欢迎。任何codemod都可以连接到🐊<code class="fe kv kw kx ky b">Putout</code>，但是它工作得更慢，因为<code class="fe kv kw kx ky b">recast</code>打印应该被完成以区分转换的和原始的源。</p><p id="1c38" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">非常天真和缓慢的方法。随着<code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/coderaiser/recast" rel="noopener ugc nofollow" target="_blank">@putout/recast v1.5.0</a></code>的释放，是时候放下<code class="fe kv kw kx ky b">JSCodeshift</code>了，因为它开始工作不正确，如果<code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/benjamn/recast" rel="noopener ugc nofollow" target="_blank">recast</a></code>是❤️的心脏🐊<code class="fe kv kw kx ky b">Putout</code>，<code class="fe kv kw kx ky b">JSCodeshift</code>只是支持的工具之一。</p><p id="18be" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">所以是时候说再见了！</p><p id="5f53" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">不管怎样，我应该提一下🐊输出有一个很大的支持:</p><ul class=""><li id="e46b" class="la lb in jy b jz ka kd ke kh lc kl ld kp le kt lf lg lh li bi translated">✅ <a class="ae ku" href="https://github.com/coderaiser/putout/tree/master/packages/engine-runner#supported-plugin-types" rel="noopener ugc nofollow" target="_blank"> 4类插件</a></li><li id="2c8c" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">✅ <a class="ae ku" href="https://github.com/coderaiser/putout#-configuration" rel="noopener ugc nofollow" target="_blank">配置同<strong class="jy io"> .putout.json </strong> </a></li><li id="2546" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">✅几乎每天发布</li><li id="d39c" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">✅百分百覆盖率</li><li id="8164" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated">✅丰富的声明式API</li></ul><h1 id="d3b2" class="lx ly in bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">支持的插件类型🐊输出</h1><p id="8b6f" class="pw-post-body-paragraph jw jx in jy b jz mv kb kc kd mw kf kg kh mx kj kk kl my kn ko kp mz kr ks kt ig bi translated">以下是支持的插件类型列表:</p><ul class=""><li id="c4f5" class="la lb in jy b jz ka kd ke kh lc kl ld kp le kt lf lg lh li bi translated"><code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/coderaiser/putout/tree/master/packages/engine-runner#replacer" rel="noopener ugc nofollow" target="_blank">Replacer</a></code></li><li id="0b38" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated"><code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/coderaiser/putout/tree/master/packages/engine-runner#includer" rel="noopener ugc nofollow" target="_blank">Includer</a></code></li><li id="55c7" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated"><code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/coderaiser/putout/tree/master/packages/engine-runner#traverser" rel="noopener ugc nofollow" target="_blank">Traverser</a></code></li><li id="f556" class="la lb in jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li bi translated"><code class="fe kv kw kx ky b"><a class="ae ku" href="https://github.com/coderaiser/putout/tree/master/packages/engine-runner#finder" rel="noopener ugc nofollow" target="_blank">Finder</a></code></li></ul><p id="2d6f" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">Replacer是最简单的一种，几乎总是对你足够好。例如，当您需要代码中的所有<strong class="jy io">调试器语句</strong>时，只需使用:</p><pre class="lp lq lr ls gt na ky nb nc aw nd bi"><span id="a53c" class="ne ly in ky b gy nf ng l nh ni">module.exports.report = () =&gt; 'Remove debugger';<br/><br/>module.exports.replace = () =&gt; ({<br/>    'debugger': '',<br/>});</span></pre><p id="e5cb" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">这就是<a class="ae ku" href="https://github.com/coderaiser/putout/tree/master/packages/plugin-remove-debugger#putoutplugin-remove-debugger-" rel="noopener ugc nofollow" target="_blank">@ putout/plugin-remove-debugger</a>的实现方式😏。是啊！这太简单了！</p><h1 id="4b2b" class="lx ly in bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">使用. putout.json进行配置</h1><p id="9ffa" class="pw-post-body-paragraph jw jx in jy b jz mv kb kc kd mw kf kg kh mx kj kk kl my kn ko kp mz kr ks kt ig bi translated">默认情况下启用所有规则。但是您可以禁用任何您想禁用的内容:</p><pre class="lp lq lr ls gt na ky nb nc aw nd bi"><span id="4da0" class="ne ly in ky b gy nf ng l nh ni">{<br/>    "rules": {<br/>        "remove-debugger": "off"<br/>    }<br/>}</span></pre><p id="954e" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">是的，它比ESLint的简单。只需创建<code class="fe kv kw kx ky b">.putout.json</code>并按照你喜欢的方式配置<a class="ae ku" href="https://github.com/coderaiser/putout#-configuration" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="e7cb" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">你可以阅读一些东西🐊输出帮助你在<a class="ae ku" href="https://medium.com/@coderaiser/a-couple-words-about-coverage-bb1eee6af9f8" rel="noopener">中轻松实现🎩<strong class="jy io">关于覆盖率的几句话</strong> </a> <strong class="jy io">。</strong></p><p id="d21b" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated">今天到此为止。玩得开心，伙计们🎈！</p><p id="d977" class="pw-post-body-paragraph jw jx in jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ig bi translated"><em class="kz">更多内容看</em> <a class="ae ku" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jy io"> <em class="kz">说白了就是</em> </strong> </a> <em class="kz">。报名参加我们的</em> <a class="ae ku" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jy io"> <em class="kz">免费每周简讯</em> </strong> </a> <em class="kz">。在我们的</em> <a class="ae ku" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jy io"> <em class="kz">社区不和谐</em> </strong> </a> <em class="kz">获得独家获取写作机会和建议。</em></p></div></div>    
</body>
</html>