<html>
<head>
<title>How to Sort an Object Array by a Boolean Property in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中通过布尔属性对对象数组进行排序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-sort-object-array-by-boolean-property-3b400160a842?source=collection_archive---------5-----------------------#2022-11-16">https://javascript.plainenglish.io/javascript-sort-object-array-by-boolean-property-3b400160a842?source=collection_archive---------5-----------------------#2022-11-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/11bf97deea4a6a6ff23df37790cb68e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHCBLyMepOxonTWoD_Bt5A.png"/></div></div></figure><p id="6dc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要通过JavaScript中的布尔属性对对象数组进行排序，请使用回调作为参数调用数组上的<code class="fe kt ku kv kw b">sort()</code>方法。在函数中，使用boolean属性返回计算结果为正数、负数或零的表达式。这将按布尔属性对数组进行就地排序，即:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="7650" class="lf lg in kw b be lh li l lj lk">const trueFirst = users.sort((a, b) =&gt; b.boolProp - a.boolProp);<br/><br/>const falseFirst = users.sort((a, b) =&gt; a.boolProp - b.boolProp);</span></pre><p id="2fad" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="98e0" class="lf lg in kw b be lh li l lj lk">const users = [<br/>  { name: 'Kate', premium: false },<br/>  { name: 'Bob', premium: true },<br/>  { name: 'Jeff', premium: false },<br/>  { name: 'Samantha', premium: true },<br/>];<br/><br/>const premiumFirst = users.sort((a, b) =&gt; b.premium - a.premium);<br/><br/>/*<br/>  [<br/>    { name: 'Bob', premium: true },<br/>    { name: 'Samantha', premium: true },<br/>    { name: 'Kate', premium: false },<br/>    { name: 'Jeff', premium: false }<br/>  ]<br/>*/<br/>console.log(premiumFirst);<br/><br/>const nonPremiumFirst = users.sort((a, b) =&gt; a.premium - b.premium);<br/><br/>/*<br/>  [<br/>    { name: 'Kate', premium: false },<br/>    { name: 'Jeff', premium: false },<br/>    { name: 'Bob', premium: true },<br/>    { name: 'Samantha', premium: true }<br/>  ]<br/>*/<br/>console.log(nonPremiumFirst);</span></pre><p id="70a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b"><a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" rel="noopener ugc nofollow" target="_blank">Array</a></code> <a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe kt ku kv kw b"><a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" rel="noopener ugc nofollow" target="_blank">sort()</a></code>方法将回调函数作为参数。它使用从该回调返回的值来确定对值进行排序的顺序。对于数组中的每个项目对，<code class="fe kt ku kv kw b">a</code>和<code class="fe kt ku kv kw b">b</code>:</p><p id="51f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果返回值为负，则在排序后的数组中，<code class="fe kt ku kv kw b">a</code>被放置在<code class="fe kt ku kv kw b">b</code>之前。</p><p id="24bb" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果值为正，<code class="fe kt ku kv kw b">b</code>放在<code class="fe kt ku kv kw b">a</code>之前。</p><p id="da85" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果值为<code class="fe kt ku kv kw b">0</code>，则<code class="fe kt ku kv kw b">a</code>和<code class="fe kt ku kv kw b">b</code>的顺序不变。</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="2704" class="lf lg in kw b be lh li l lj lk">const arr = [5, 3, 8, 1, 7];<br/><br/>// Sort in ascending order<br/>arr.sort((a, b) =&gt; a - b);<br/><br/>console.log(arr); // [ 1, 3, 5, 7, 8 ]<br/><br/>// Sort in descending order<br/>const desc = arr.sort((a, b) =&gt; b - a);<br/><br/>console.log(desc); // [ 8, 7, 5, 3, 1 ]</span></pre><p id="c808" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为我们对布尔值使用了减法运算符(<code class="fe kt ku kv kw b">-</code>)，所以在减法发生之前，它们被强制转换为数字。真值被强制为<code class="fe kt ku kv kw b">1</code>，假值被强制为<code class="fe kt ku kv kw b">0</code>。</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="fea1" class="lf lg in kw b be lh li l lj lk">console.log(true + true); // 2<br/><br/>console.log(true + false); // 1<br/><br/>console.log(false + false); // 0</span></pre><p id="09de" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在了解了<code class="fe kt ku kv kw b">sort()</code>方法和布尔强制的工作原理之后，就很容易理解将布尔属性值为<code class="fe kt ku kv kw b">true</code>的对象放置在布尔属性值为<code class="fe kt ku kv kw b">false</code>的对象之上的排序方式，反之亦然。</p><h1 id="9545" class="lm lg in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">按布尔属性对对象数组进行无突变排序</h1><p id="1633" class="pw-post-body-paragraph jv jw in jx b jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko mn kq kr ks ig bi translated"><code class="fe kt ku kv kw b">sort()</code>方法就地对数组进行排序，这意味着它被修改了。为了防止这种情况，我们可以使用<a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> spread语法</a> ( <code class="fe kt ku kv kw b">...</code>)为排序创建数组的浅层副本:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="ba43" class="lf lg in kw b be lh li l lj lk">const users = [<br/>  { name: 'Kate', premium: false },<br/>  { name: 'Bob', premium: true },<br/>  { name: 'Jeff', premium: false },<br/>  { name: 'Samantha', premium: true },<br/>];<br/><br/>// 👇 Clone array with spread syntax<br/>const premiumFirst = [...users].sort((a, b) =&gt; b.premium - a.premium);<br/><br/>/*<br/>  [<br/>    { name: 'Bob', premium: true },<br/>    { name: 'Samantha', premium: true },<br/>    { name: 'Kate', premium: false },<br/>    { name: 'Jeff', premium: false }<br/>  ]<br/>*/<br/>console.log(premiumFirst);<br/><br/>/*<br/>  Original not modified:<br/>  [<br/>    { name: 'Kate', premium: false },<br/>    { name: 'Bob', premium: true },<br/>    { name: 'Jeff', premium: false },<br/>    { name: 'Samantha', premium: true }<br/>  ]<br/>*/<br/>console.log(users);</span></pre><p id="f96f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">通过避免突变，我们可以使代码更具可读性、可预测性和模块化。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="010f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mv">最初发表于</em>【codingbeautydev.com】<em class="mv"/></p><h1 id="2419" class="lm lg in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko mn kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae ll" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>