<html>
<head>
<title>How to Round a Number to 2 Decimal Places in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中将数字四舍五入到小数点后两位</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-round-number-to-2-decimal-places-3537ad0736f7?source=collection_archive---------7-----------------------#2022-12-14">https://javascript.plainenglish.io/javascript-round-number-to-2-decimal-places-3537ad0736f7?source=collection_archive---------7-----------------------#2022-12-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b6495e642fd809a3caf22287735e36d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1FEgQbBQ4di45q0lLi1Teg.png"/></div></div></figure><p id="2a31" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在JavaScript中，要将一个数字四舍五入到小数点后两位，请对该数字调用<code class="fe kt ku kv kw b">toFixed()</code>方法，即<code class="fe kt ku kv kw b">num.toFixed(2)</code>。<code class="fe kt ku kv kw b">toFixed()</code>将数字四舍五入并格式化到小数点后两位。</p><p id="ffe7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><p id="e25a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Java Script语言</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="714d" class="lf lg in kw b be lh li l lj lk">const num = 5.3281;<br/><br/>const result = num.toFixed(2);<br/>console.log(result); // 5.33<br/><br/>const num2 = 3.1417<br/>const result2 = num2.toFixed(2);<br/>console.log(result2); // 3.14</span></pre><p id="76e5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b"><a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed" rel="noopener ugc nofollow" target="_blank">toFixed()</a></code>方法接受一个数字<code class="fe kt ku kv kw b">F</code>，并返回一个数字的字符串表示，小数点后有<code class="fe kt ku kv kw b">F</code>位数。<code class="fe kt ku kv kw b">F</code>这里由传递给<code class="fe kt ku kv kw b">toFixed()</code>的第一个参数决定，即<code class="fe kt ku kv kw b">fractionDigits</code>参数。</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="13f9" class="lf lg in kw b be lh li l lj lk">const num = 5.3281;<br/><br/>console.log(num.toFixed(0)); // 5<br/><br/>console.log(num.toFixed(1)); // 5.3<br/><br/>console.log(num.toFixed(2)); // 5.33<br/><br/>console.log(num.toFixed(3)); // 5.328<br/><br/>console.log(num.toFixed(4)); // 5.3281<br/><br/>console.log(num.toFixed(5)); // 5.32810</span></pre><h1 id="506e" class="lm lg in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">将<code class="fe kt ku kv kw b">toFixed()</code>的结果解析为数字</h1><p id="8180" class="pw-post-body-paragraph jv jw in jx b jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko mn kq kr ks ig bi translated">记住，<code class="fe kt ku kv kw b">toFixed()</code>返回一个<strong class="jx io">字符串</strong>表示:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="24ca" class="lf lg in kw b be lh li l lj lk">const num = 5.3281;<br/><br/>const result = num.toFixed(2);<br/><br/>console.log(result); // 5.33<br/>console.log(typeof result); // string</span></pre><p id="f077" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是我们总是可以用<code class="fe kt ku kv kw b"><a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/Number" rel="noopener ugc nofollow" target="_blank">Number()</a></code>构造函数将结果转换成一个数字:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="9000" class="lf lg in kw b be lh li l lj lk">const num = 5.3281;<br/><br/>const result = Number(num.toFixed(2));<br/>console.log(result); // 5.33<br/>console.log(typeof result); // number</span></pre><p id="1f9f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果字符串有尾随零，它们将在转换中被删除:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="a8f2" class="lf lg in kw b be lh li l lj lk">const num = 9.999999;<br/><br/>const strResult = num.toFixed(2);<br/>const result = Number(strResult);<br/>console.log(strResult); //10.00<br/>console.log(result); // 10</span></pre><p id="7537" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">小数点后的尾随零不会改变数字的值，因此<code class="fe kt ku kv kw b">10.00</code>与<code class="fe kt ku kv kw b">10</code>或<code class="fe kt ku kv kw b">10.00000000</code>相同</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="4ef6" class="lf lg in kw b be lh li l lj lk">console.log(10.00 === 10); // true<br/><br/>console.log(10.00000000 == 10); // true</span></pre><h1 id="5502" class="lm lg in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">将十进制字符串四舍五入到小数点后两位</h1><p id="3c68" class="pw-post-body-paragraph jv jw in jx b jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko mn kq kr ks ig bi translated">有时输入可能存储为字符串。在这种情况下，我们首先需要用<code class="fe kt ku kv kw b"><a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat" rel="noopener ugc nofollow" target="_blank">parseFloat()</a></code>函数将数字转换成浮点数，然后用<code class="fe kt ku kv kw b">toFixed()</code>将其四舍五入到两位小数。</p><p id="0cc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="5c2e" class="lf lg in kw b be lh li l lj lk">const numStr = '17.23593';<br/><br/>// 👇 convert string to float with parseFloat()<br/>const num = parseFloat(numStr);<br/>const result = num.toFixed(2); // 17.24<br/>console.log(result);</span></pre><p id="74f2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">不是所有的十进制数都可以用二进制精确表示，所以JavaScript的浮点数系统存在一些舍入误差。例如:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="2dac" class="lf lg in kw b be lh li l lj lk">console.log(44.85 * 0.1); // 4.485<br/><br/>console.log(45.85 * 0.1); // 4.585<br/><br/>console.log(46.85 * 0.1); // 4.6850000000000005 (?)</span></pre><p id="73d5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本例中，<code class="fe kt ku kv kw b">46.85 x 0.1</code>等于<code class="fe kt ku kv kw b">4.6850000000000005</code>，因为<code class="fe kt ku kv kw b">46.85</code>不能用二进制浮点格式准确表示。</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="b590" class="lf lg in kw b be lh li l lj lk">console.log((1.415).toFixed(2)); // 1.42<br/><br/>console.log((1.215).toFixed(2)); // 1.22<br/><br/>console.log((1.015).toFixed(2)); // 1.01 (?)</span></pre><p id="9e79" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">和第一个一样，这里的<code class="fe kt ku kv kw b">1.015</code>被四舍五入到小数点后两位作为<code class="fe kt ku kv kw b">1.01</code>而不是<code class="fe kt ku kv kw b">1.02</code>，因为<code class="fe kt ku kv kw b">1.015</code>在二进制数字系统中也无法准确表示。</p><p id="fcb2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这种缺陷最流行的例子之一是经典的<code class="fe kt ku kv kw b">0.1 + 0.2</code>:</p><pre class="kx ky kz la gt lb kw lc bn ld le bi"><span id="c695" class="lf lg in kw b be lh li l lj lk">console.log(0.1 + 0.2 === 0.3); // false<br/><br/>console.log(0.1 + 0.2); // 0.30000000000000004</span></pre><p id="c948" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在我们的<a class="ae ll" href="https://codingbeautydev.com/crazy-js-book" rel="noopener ugc nofollow" target="_blank">疯狂JS书籍</a>中找到这个和更多其他有趣的JavaScript怪癖。</p></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="52e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mv">原载于</em><a class="ae ll" href="https://cbdev.link/96e6d7" rel="noopener ugc nofollow" target="_blank"><em class="mv">【codingbeautydev.com】</em></a></p><h1 id="3897" class="lm lg in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy mj ka kb kc mk ke kf kg ml ki kj kk mm km kn ko mn kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae ll" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>