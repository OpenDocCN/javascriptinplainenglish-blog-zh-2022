<html>
<head>
<title>How to Build an Advanced Space Remover Tool With React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React构建一个高级的空间去除工具</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/space-remover-app-react-77e64ccf6fb7?source=collection_archive---------2-----------------------#2022-07-30">https://javascript.plainenglish.io/space-remover-app-react-77e64ccf6fb7?source=collection_archive---------2-----------------------#2022-07-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/9e7f68112db2498c26d5fe1e259ded88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zt5pg3E6ad-40leefZ1g5Q.png"/></div></div></figure><p id="84b7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将学习如何构建一个web应用程序，让我们能够轻松地删除任何文本中的前导和尾随空格，并能够选择性地保留文本的缩进。我们将使用React库来构建这个工具，让我们开始吧。</p><h1 id="382b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">重要链接</h1><ul class=""><li id="6bb2" class="lr ls in jx b jy lt kc lu kg lv kk lw ko lx ks ly lz ma mb bi translated"><a class="ae mc" href="https://github.com/tariibaba/remove-spaces" rel="noopener ugc nofollow" target="_blank"> Github回购</a></li><li id="4f2d" class="lr ls in jx b jy md kc me kg mf kk mg ko mh ks ly lz ma mb bi translated"><a class="ae mc" href="https://remove-spaces.web.app/" rel="noopener ugc nofollow" target="_blank">网络应用</a></li></ul><h1 id="c53c" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">设置项目</h1><p id="ac48" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">让我们首先使用Create React app创建一个新的React App。我们将使用<a class="ae mc" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱线</a>。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="b5d9" class="mu ku in mq b gy mv mw l mx my">yarn create-react-app remove-spaces</span></pre><p id="5c02" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还将使用一些打字稿，你可以使用这里的指令<a class="ae mc" href="https://create-react-app.dev/docs/adding-typescript/" rel="noopener ugc nofollow" target="_blank">来设置它</a>。</p><h1 id="e320" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">编写removeSpaces()函数</h1><p id="60e8" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">该应用程序的核心部分将是一个<code class="fe mz na nb mq b">removeSpaces()</code>函数，它将一个字符串作为输入，并返回一个删除了空格的新字符串。让我们在一个新的<code class="fe mz na nb mq b">remove-spaces.ts</code>文件中编写这个函数。</p><p id="b42e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> src/remove-spaces.ts </strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="65d0" class="mu ku in mq b gy mv mw l mx my">export default function removeSpaces(params: {<br/>  text: string;<br/>  leading: boolean;<br/>  trailing: boolean;<br/>  preserveIndent: boolean;<br/>}) {<br/>  let regex: RegExp;<br/>  const { text, leading, trailing, preserveIndent } = params;<br/>  let spaceCountPattern: string | undefined;</span><span id="217c" class="mu ku in mq b gy nc mw l mx my">  let leadingMatch: string;<br/>  if (leading) {<br/>    if (preserveIndent) {<br/>      const firstSpacePattern = new RegExp(String.raw`^(\s*).+?((\r\n)|\n|$)`);<br/>      const firstSpaces = text.match(firstSpacePattern)?.[1];<br/>      const spaceCount = firstSpaces?.length;<br/>      spaceCountPattern = `{0,${spaceCount}}`;<br/>    } else {<br/>      spaceCountPattern = '*';<br/>    }<br/>    leadingMatch = String.raw`\s${spaceCountPattern}`;<br/>  } else {<br/>    leadingMatch = '';<br/>  }</span><span id="64bc" class="mu ku in mq b gy nc mw l mx my">  const trailingMatch = trailing ? String.raw`\s*?` : '';<br/>  regex = new RegExp(String.raw`((()((\r\n)|\n))|(.*?((\r\n)|\n|$)))`, 'g');<br/>  const lines = text.match(regex);<br/>  const lineRegex = new RegExp(<br/>    String.raw`^${leadingMatch}(.*?)${trailingMatch}((\r\n)|\n|$)`,<br/>    'g'<br/>  );</span><span id="6c93" class="mu ku in mq b gy nc mw l mx my">  const result = lines<br/>    ?.map((line) =&gt; {<br/>      if (line === '\r\n' || line === '\n') return line;<br/>      return line.replace(lineRegex, '$1$2');<br/>    })<br/>    .join('');<br/>  return result;<br/>}</span></pre><p id="3d07" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">除了输入字符串，该函数还接受允许用户自定义如何删除空格的选项。</p><p id="7930" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当<code class="fe mz na nb mq b">leading</code>为<code class="fe mz na nb mq b">true</code>且<code class="fe mz na nb mq b">preserveIndent</code>为<code class="fe mz na nb mq b">false</code>时，除了添加缩进的空格外，前导空格将从文本中移除。</p><p id="41c2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当<code class="fe mz na nb mq b">leading</code>为<code class="fe mz na nb mq b">true</code>且<code class="fe mz na nb mq b">preserveIndent</code>为<code class="fe mz na nb mq b">false</code>时，所有前导空格将从文本中移除。</p><p id="958b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当<code class="fe mz na nb mq b">trailing</code>为<code class="fe mz na nb mq b">true</code>时，所有尾随空格将从文本中删除。</p><p id="bc0e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该函数从这些选项的组合中创建一个正则表达式。它使用<a class="ae mc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace" rel="noopener ugc nofollow" target="_blank"> String replace() </a>方法用从正则表达式中捕获的组替换文本的每一行。</p><h1 id="df62" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">测试removeSpaces()函数</h1><p id="d4ee" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">我们可以测试这个函数，以确保它按预期工作。让我们安装Jest测试框架来完成这项工作。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="37d1" class="mu ku in mq b gy mv mw l mx my">yarn add --dev jest ts-jest @types/jest</span></pre><p id="252b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用以下命令初始化<code class="fe mz na nb mq b">ts-jest</code>:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="2fb3" class="mu ku in mq b gy mv mw l mx my">yarn ts-jest config:init</span></pre><p id="dcf1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们在一个新的<code class="fe mz na nb mq b">remove-spaces.test.ts</code>文件中为该函数编写一些测试:</p><p id="2704" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">src/remove-spaces . test . ts</strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="77d1" class="mu ku in mq b gy mv mw l mx my">import removeSpaces from './remove-spaces';</span><span id="ed32" class="mu ku in mq b gy nc mw l mx my">const s2 = '  ';<br/>const s4 = '    ';</span><span id="8a7c" class="mu ku in mq b gy nc mw l mx my">const text = `${s4}&lt;div&gt;${s4}<br/>${s4}${s2}&lt;p&gt;&lt;/p&gt;${s4}<br/>${s4}&lt;/div&gt;${s4}`;</span><span id="6855" class="mu ku in mq b gy nc mw l mx my">it('removes leading spaces without preserving indent', () =&gt; {<br/>  const expectation = `&lt;div&gt;${s4}<br/>&lt;p&gt;&lt;/p&gt;${s4}<br/>&lt;/div&gt;${s4}`;<br/>  const result = removeSpaces({<br/>    text,<br/>    leading: true,<br/>    trailing: false,<br/>    preserveIndent: false,<br/>  });<br/>  expect(result).toBe(expectation);<br/>});</span><span id="9278" class="mu ku in mq b gy nc mw l mx my">it('removes leading spaces and preserves indent', () =&gt; {<br/>  const expectation = `&lt;div&gt;${s4}<br/>${s2}&lt;p&gt;&lt;/p&gt;${s4}<br/>&lt;/div&gt;${s4}`;<br/>  const result = removeSpaces({<br/>    text,<br/>    leading: true,<br/>    trailing: false,<br/>    preserveIndent: true,<br/>  });<br/>  expect(result).toBe(expectation);<br/>});</span><span id="d077" class="mu ku in mq b gy nc mw l mx my">it('removes trailing spaces', () =&gt; {<br/>  const expectation = `${s4}&lt;div&gt;<br/>${s4}${s2}&lt;p&gt;&lt;/p&gt;<br/>${s4}&lt;/div&gt;`;<br/>  const result = removeSpaces({<br/>    text,<br/>    leading: false,<br/>    trailing: true,<br/>    preserveIndent: false,<br/>  });<br/>  expect(result).toBe(expectation);<br/>});</span><span id="91c9" class="mu ku in mq b gy nc mw l mx my">it('removes leading and trailing spaces', () =&gt; {<br/>  const expectation = `&lt;div&gt;<br/>&lt;p&gt;&lt;/p&gt;<br/>&lt;/div&gt;`;<br/>  const result = removeSpaces({<br/>    text,<br/>    leading: true,<br/>    preserveIndent: false,<br/>    trailing: true,<br/>  });<br/>  expect(result).toBe(expectation);<br/>});</span></pre><p id="2350" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果编写正确，该函数应该通过所有这些测试。</p><h1 id="6d9b" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">创建文本输入</h1><p id="1be0" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">是时候开始用React创建用户界面了。我们将从文本输入开始。我们将创建两个——一个接受用户输入，另一个是只读的并显示输出。</p><p id="2053" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们将使用Material UI框架来使应用程序看起来很棒，你可以使用这里的说明<a class="ae mc" href="https://mui.com/material-ui/getting-started/installation/" rel="noopener ugc nofollow" target="_blank">来设置它。</a></p><p id="8a7b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> src/App.js </strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="5679" class="mu ku in mq b gy mv mw l mx my">import { Box, Typography, TextField } from '@mui/material';<br/>import { useState } from 'react';</span><span id="df11" class="mu ku in mq b gy nc mw l mx my">function App() {<br/>  const [input, setInput] = useState('');<br/>  const [output, setOutput] = useState('');</span><span id="d5b9" class="mu ku in mq b gy nc mw l mx my">  const handleInputChange = (event) =&gt; {<br/>    setInput(event.target.value);<br/>  };</span><span id="ff7e" class="mu ku in mq b gy nc mw l mx my">  return (<br/>    &lt;Box<br/>      sx={{<br/>        height: '100%',<br/>        display: 'flex',<br/>        flexDirection: 'column',<br/>        padding: 2,<br/>        boxSizing: 'border-box',<br/>      }}<br/>    &gt;<br/>      &lt;Box<br/>        sx={{<br/>          display: 'grid',<br/>          gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))',<br/>          justifyContent: 'stretch',<br/>          marginTop: 2,<br/>          rowGap: '16px',<br/>        }}<br/>      &gt;<br/>        &lt;Box sx={{ flex: 1, marginRight: 1, textAlign: 'left' }}&gt;<br/>          &lt;Typography&gt;Input&lt;/Typography&gt;<br/>          &lt;TextField<br/>            sx={{ width: '100%', marginTop: 1, minWidth: '300px' }}<br/>            multiline<br/>            value={input}<br/>            minRows={10}<br/>            inputProps={{<br/>              style: { maxHeight: '300px', overflow: 'auto' },<br/>            }}<br/>            onChange={handleInputChange}<br/>          &gt;&lt;/TextField&gt;<br/>        &lt;/Box&gt;<br/>        &lt;Box sx={{ flex: 1, marginLeft: 1, textAlign: 'right' }}&gt;<br/>          &lt;Typography&gt;Output&lt;/Typography&gt;<br/>          &lt;TextField<br/>            sx={{<br/>              width: '100%',<br/>              marginTop: 1,<br/>              minWidth: '300px',<br/>            }}<br/>            multiline<br/>            value={output}<br/>            readOnly<br/>            minRows={10}<br/>            inputProps={{<br/>              style: { maxHeight: '300px', overflow: 'auto' },<br/>            }}<br/>          &gt;&lt;/TextField&gt;<br/>        &lt;/Box&gt;<br/>      &lt;/Box&gt;<br/>    &lt;/Box&gt;<br/>  );<br/>}</span><span id="f35a" class="mu ku in mq b gy nc mw l mx my">export default App;</span></pre><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/585c3f8fc502c47c37e42c09a81d97e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0Na9Ruio0iYalK84.png"/></div></div></figure><h1 id="df2f" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">从剪贴板粘贴输入</h1><p id="20e9" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">让我们创建一个按钮，当它被点击时，将文本从系统剪贴板粘贴到输入文本域。</p><p id="783d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> src/App.js </strong></p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="311c" class="mu ku in mq b gy mv mw l mx my">// ...<br/>import { Box, Typography, TextField, Stack, Button } from '@mui/material';<br/>import { ContentPaste } from '@mui/icons-material';</span><span id="2d84" class="mu ku in mq b gy nc mw l mx my">function App() {<br/>  // ...</span><span id="e742" class="mu ku in mq b gy nc mw l mx my">  const pasteInput = async () =&gt; {<br/>    setInput(await navigator.clipboard.readText());<br/>  };</span><span id="e279" class="mu ku in mq b gy nc mw l mx my">  const handlePasteInput = async () =&gt; {<br/>    await pasteInput();<br/>  };</span><span id="99d4" class="mu ku in mq b gy nc mw l mx my">  return (<br/>    &lt;Box<br/>      sx={{<br/>        height: '100%',<br/>        display: 'flex',<br/>        flexDirection: 'column',<br/>        padding: 2,<br/>        boxSizing: 'border-box',<br/>      }}<br/>    &gt;<br/>      &lt;Stack<br/>        direction="row"<br/>        spacing={2}<br/>        justifyContent="center"<br/>        sx={{ flexWrap: 'wrap', marginTop: 2 }}<br/>      &gt;<br/>        &lt;Box&gt;<br/>          &lt;Button<br/>            onClick={handlePasteInput}<br/>            variant="outlined"<br/>            startIcon={&lt;ContentPaste /&gt;}<br/>          &gt;<br/>            Paste input<br/>          &lt;/Button&gt;<br/>        &lt;/Box&gt;<br/>      &lt;/Stack&gt;<br/>      {/* ... */}<br/>    &lt;/Box&gt;<br/>  );<br/>}</span><span id="a380" class="mu ku in mq b gy nc mw l mx my">export default App;</span></pre><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/a99cfdefe496ad8106aa37db1dc80529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DxEmkEBDzCkpa2Qq.gif"/></div></div></figure><h1 id="2d97" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">添加选项</h1><p id="a689" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">让我们创建选项，让用户决定如何从文本中删除空格。将有三个布尔选项，每个都用一个复选框表示:</p><ol class=""><li id="25ba" class="lr ls in jx b jy jz kc kd kg nf kk ng ko nh ks ni lz ma mb bi translated">删除前导空格</li><li id="e420" class="lr ls in jx b jy md kc me kg mf kk mg ko mh ks ni lz ma mb bi translated">删除尾随空格</li><li id="764a" class="lr ls in jx b jy md kc me kg mf kk mg ko mh ks ni lz ma mb bi translated">保留缩进</li></ol><p id="b378" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当用户决定删除空格时，我们将选项直接传递给<code class="fe mz na nb mq b">removeSpaces()</code>函数。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="2a42" class="mu ku in mq b gy mv mw l mx my">import {<br/>  Box,<br/>  Typography,<br/>  TextField,<br/>  Stack,<br/>  Button,<br/>  FormControlLabel,<br/>  Checkbox,<br/>} from '@mui/material';<br/>import { useState } from 'react';<br/>import { ContentPaste } from '@mui/icons-material';</span><span id="bc70" class="mu ku in mq b gy nc mw l mx my">function App() {<br/>  // ...</span><span id="afe9" class="mu ku in mq b gy nc mw l mx my">  const [leading, setLeading] = useState(true);<br/>  const [trailing, setTrailing] = useState(true);<br/>  const [preserveIndent, setPreserveIndent] = useState(true);</span><span id="109e" class="mu ku in mq b gy nc mw l mx my">  const handleLeadingChange = (event) =&gt; {<br/>    setLeading(event.target.checked);<br/>  };</span><span id="82e1" class="mu ku in mq b gy nc mw l mx my">  const handleTrailingChange = (event) =&gt; {<br/>    setTrailing(event.target.checked);<br/>  };</span><span id="5afa" class="mu ku in mq b gy nc mw l mx my">  const handlePreserveIndentChange = (event) =&gt; {<br/>    setPreserveIndent(event.target.checked);<br/>  };</span><span id="945c" class="mu ku in mq b gy nc mw l mx my">  return (<br/>    &lt;Box<br/>      sx={{<br/>        height: '100%',<br/>        display: 'flex',<br/>        flexDirection: 'column',<br/>        padding: 2,<br/>        boxSizing: 'border-box',<br/>      }}<br/>    &gt;<br/>      &lt;Box sx={{ display: 'flex', justifyContent: 'center' }}&gt;<br/>        &lt;FormControlLabel<br/>          control={<br/>            &lt;Checkbox checked={leading} onChange={handleLeadingChange} /&gt;<br/>          }<br/>          label="Remove leading spaces"<br/>        /&gt;<br/>        &lt;FormControlLabel<br/>          control={<br/>            &lt;Checkbox<br/>              checked={preserveIndent}<br/>              onChange={handlePreserveIndentChange}<br/>            /&gt;<br/>          }<br/>          label="Preserve indent"<br/>        /&gt;<br/>        &lt;FormControlLabel<br/>          control={<br/>            &lt;Checkbox checked={trailing} onChange={handleTrailingChange} /&gt;<br/>          }<br/>          label="Remove trailing spaces"<br/>        /&gt;<br/>      &lt;/Box&gt;<br/>     {/* ... */}<br/>    &lt;/Box&gt;<br/>  );<br/>}</span><span id="2e57" class="mu ku in mq b gy nc mw l mx my">export default App;</span></pre><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/2cee137b06d297bb67e7e2215a6de4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cmNGy8PZzGghkw4W.png"/></div></div></figure><h1 id="0660" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">删除空格</h1><p id="ef9f" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">现在，让我们添加一个按钮，当单击它时，空格将从输入文本中删除。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="7292" class="mu ku in mq b gy mv mw l mx my">// ...<br/>import removeSpaces from './remove-spaces';</span><span id="916a" class="mu ku in mq b gy nc mw l mx my">function App() {<br/>  const handleRemoveSpaces = () =&gt; {<br/>    setOutput(removeSpaces({ text: input, leading, trailing, preserveIndent }));<br/>  };</span><span id="d9d7" class="mu ku in mq b gy nc mw l mx my">  return (<br/>    &lt;Box<br/>      sx={{<br/>        height: '100%',<br/>        display: 'flex',<br/>        flexDirection: 'column',<br/>        padding: 2,<br/>        boxSizing: 'border-box',<br/>      }}<br/>    &gt;<br/>      &lt;Box sx={{ display: 'flex', justifyContent: 'center' }}&gt;<br/>        {/* ... */}<br/>        <br/>        &lt;Box&gt;<br/>          &lt;Button<br/>            onClick={handlePasteInput}<br/>            variant="outlined"<br/>            startIcon={&lt;ContentPaste /&gt;}<br/>          &gt;<br/>            Paste input<br/>          &lt;/Button&gt;<br/>        &lt;/Box&gt;</span><span id="cb46" class="mu ku in mq b gy nc mw l mx my">        {/* Button to remove spaces */}<br/>        &lt;Box&gt;<br/>          &lt;Button<br/>            onClick={handleRemoveSpaces}<br/>            variant="outlined"<br/>            startIcon={&lt;RemoveCircle /&gt;}<br/>          &gt;<br/>            Remove spaces<br/>          &lt;/Button&gt;<br/>        &lt;/Box&gt;<br/>      &lt;/Stack&gt;<br/>      {/* ... */}<br/>      &lt;/Box&gt;<br/>    &lt;/Box&gt;<br/>  );<br/>}</span><span id="208b" class="mu ku in mq b gy nc mw l mx my">export default App;</span></pre><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/c01355576d2a4465db483d54d1289a90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cEyusZ3TipCGBUsH.gif"/></div></div></figure><h1 id="0689" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">将输出复制到剪贴板</h1><p id="cd92" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">让我们创建另一个按钮，当单击该按钮时，它会将输出文本字段中的文本复制到系统剪贴板。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="40a4" class="mu ku in mq b gy mv mw l mx my">// ...<br/>import { ContentCopy, ContentPaste, RemoveCircle } from '@mui/icons-material';<br/>import removeSpaces from './remove-spaces';</span><span id="82f1" class="mu ku in mq b gy nc mw l mx my">function App() {<br/>  // ...</span><span id="ee13" class="mu ku in mq b gy nc mw l mx my">  const handleCopyOutput = () =&gt; {<br/>    navigator.clipboard.writeText(output);<br/>  };</span><span id="30cd" class="mu ku in mq b gy nc mw l mx my">  return (<br/>    &lt;Box<br/>      sx={{<br/>        height: '100%',<br/>        display: 'flex',<br/>        flexDirection: 'column',<br/>        padding: 2,<br/>        boxSizing: 'border-box',<br/>      }}<br/>    &gt;<br/>      {/* ... */}<br/>      &lt;Stack<br/>        direction="row"<br/>        spacing={2}<br/>        justifyContent="center"<br/>        sx={{ flexWrap: 'wrap', marginTop: 2 }}<br/>      &gt;<br/>        {/* ... */}<br/>        &lt;Box&gt;<br/>          &lt;Button<br/>            onClick={handleRemoveSpaces}<br/>            variant="outlined"<br/>            startIcon={&lt;RemoveCircle /&gt;}<br/>          &gt;<br/>            Remove spaces<br/>          &lt;/Button&gt;<br/>        &lt;/Box&gt;</span><span id="6074" class="mu ku in mq b gy nc mw l mx my">        {/* Button to copy output */}        <br/>        &lt;Box&gt;<br/>          &lt;Button<br/>            startIcon={&lt;ContentCopy /&gt;}<br/>            onClick={handleCopyOutput}<br/>            variant="outlined"<br/>          &gt;<br/>            Copy output<br/>          &lt;/Button&gt;<br/>        &lt;/Box&gt;<br/>      &lt;/Stack&gt;<br/>          <br/>    &lt;/Box&gt;<br/>  );<br/>}</span><span id="419d" class="mu ku in mq b gy nc mw l mx my">export default App;</span></pre><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nd"><img src="../Images/7d82162b9b44d75e878e8cc849e1667f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Vdzu9kNAThRsxrfA.png"/></div></div></figure><h1 id="cc22" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">组合粘贴、移除和复制操作</h1><p id="9e23" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">用户很可能会通过按顺序执行以下操作来使用该工具:</p><ol class=""><li id="a22d" class="lr ls in jx b jy jz kc kd kg nf kk ng ko nh ks ni lz ma mb bi translated">点击<code class="fe mz na nb mq b">Paste Input</code>按钮，将剪贴板中的文本放入输入文本字段</li><li id="5be1" class="lr ls in jx b jy md kc me kg mf kk mg ko mh ks ni lz ma mb bi translated">点击<code class="fe mz na nb mq b">Remove Spaces</code>按钮，删除输入文本中的空格，并将结果输入输出文本字段</li><li id="c5e5" class="lr ls in jx b jy md kc me kg mf kk mg ko mh ks ni lz ma mb bi translated">点击<code class="fe mz na nb mq b">Copy Output</code>将文本从输出文本字段复制到剪贴板。</li></ol><p id="fa01" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为了使事情变得简单，我们将创建一个按钮，让用户同时执行这三个操作:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="3140" class="mu ku in mq b gy mv mw l mx my">// ...</span><span id="9c81" class="mu ku in mq b gy nc mw l mx my">function App() {<br/>  // ...</span><span id="5ca0" class="mu ku in mq b gy nc mw l mx my">  const handlePasteRemoveCopy = async () =&gt; {<br/>    const input = await navigator.clipboard.readText();<br/>    const output = removeSpaces({<br/>      text: input,<br/>      leading,<br/>      trailing,<br/>      preserveIndent,<br/>    });<br/>    navigator.clipboard.writeText(output);<br/>    setInput(input);<br/>    setOutput(output);<br/>  };</span><span id="7178" class="mu ku in mq b gy nc mw l mx my">  return (<br/>    &lt;Box<br/>      sx={{<br/>        height: '100%',<br/>        display: 'flex',<br/>        flexDirection: 'column',<br/>        padding: 2,<br/>        boxSizing: 'border-box',<br/>      }}<br/>    &gt;<br/>      &lt;Box sx={{ display: 'flex', justifyContent: 'center' }}&gt;<br/>        {/* ... */}<br/>        &lt;FormControlLabel<br/>          control={<br/>            &lt;Checkbox checked={trailing} onChange={handleTrailingChange} /&gt;<br/>          }<br/>          label="Remove trailing spaces"<br/>        /&gt;<br/>      &lt;/Box&gt;</span><span id="f2bd" class="mu ku in mq b gy nc mw l mx my">      {/* Button to perform past, remove, and copy actions at once */}<br/>      &lt;Box sx={{ display: 'flex', justifyContent: 'center', marginTop: 2 }}&gt;<br/>        &lt;Button onClick={handlePasteRemoveCopy} variant="contained"&gt;<br/>          Paste + Remove + Copy<br/>        &lt;/Button&gt;<br/>      &lt;/Box&gt;</span><span id="f3f1" class="mu ku in mq b gy nc mw l mx my">      &lt;Stack<br/>        direction="row"<br/>        spacing={2}<br/>        justifyContent="center"<br/>        sx={{ flexWrap: 'wrap', marginTop: 2 }}<br/>      &gt;<br/>        &lt;Box&gt;<br/>          &lt;Button<br/>            onClick={handlePasteInput}<br/>            variant="outlined"<br/>            startIcon={&lt;ContentPaste /&gt;}<br/>          &gt;<br/>            Paste input<br/>          &lt;/Button&gt;<br/>        &lt;/Box&gt;<br/>        {/* ... */}<br/>      &lt;/Stack&gt;<br/>    &lt;/Box&gt;<br/>  );<br/>}</span><span id="57f1" class="mu ku in mq b gy nc mw l mx my">export default App;</span></pre><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ne"><img src="../Images/af520fe7d85de7e4edce91c9c355bea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZXnXTXEJRC0hpI0k.gif"/></div></div></figure><p id="5939" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的空间清除应用程序是完整的！我们已经能够构建一个方便的实用程序来删除任何文本中的前导和尾随空格，并在必要时保留缩进。</p><h1 id="7c5d" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">这个工具可以用来做什么？</h1><p id="2b96" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">在Coding Beauty，我们发现这个工具在创建显示HTML或JSX标记中缩进了一定量的代码片段时非常有用。例如，在我们的<a class="ae mc" href="https://codingbeautydev.com/blog/material-ui-button/" rel="noopener ugc nofollow" target="_blank">材质UI按钮教程</a>中，有时示例文件包含如下标记:</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/92765333d3bd1626706b0ca1c2d5e246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/0*ZEbFyFlCkJziRh8r.png"/></div><figcaption class="nk nl gj gh gi nm nn bd b be z dk">The complete source code for an example in the tutorial.</figcaption></figure><p id="fd2e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是我们只想显示与示例相关的文件部分:</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi no"><img src="../Images/80679dd25ddbcd649001058edba02203.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/0*fZx6HnO2pe00kPxO.png"/></div></div><figcaption class="nk nl gj gh gi nm nn bd b be z dk">Explaining contained buttons in the Material UI button tutorial.</figcaption></figure><p id="7a42" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个工具通过删除空格来帮助正确格式化相关部分。</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi np"><img src="../Images/131aca328b2df94b1e65327628ed10ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wyEmwQwCWQgNM9oV.png"/></div></div></figure><h1 id="cf63" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">String trim()呢？</h1><p id="940e" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">我们不能使用<code class="fe mz na nb mq b">trim()</code>或<code class="fe mz na nb mq b">trimStart()</code>字符串方法，因为这样就不可能保留整个文本的缩进。这些方法只能移除给定字符串中的所有前导空格。</p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><p id="6e37" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nx">最初发表于:</em><a class="ae mc" href="https://cbdev.link/54f1cf" rel="noopener ugc nofollow" target="_blank"><em class="nx">【codingbeautydev.com】</em></a></p><h1 id="c3c9" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg mi ki kj kk mj km kn ko mk kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="ml mm mn mo gt jo gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae mc" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>