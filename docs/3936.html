<html>
<head>
<title>Build THE MOST Practical Todo List with React &amp; Websockets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React &amp; Websockets构建最实用的待办事项列表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/xd-4c3ddb22e2cf?source=collection_archive---------5-----------------------#2022-10-11">https://javascript.plainenglish.io/xd-4c3ddb22e2cf?source=collection_archive---------5-----------------------#2022-10-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e3f7" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何用React.js和Socket.io构建团队待办事项列表创建、读取、删除待办事项并通过Socket.io为每个待办事项添加评论创建或删除待办事项时向应用程序添加通知。</h2></div><h1 id="9b5c" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">这篇文章是关于什么的？</h1><p id="2c03" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在本文中，您将了解如何使用React.js和Socket.io构建团队待办事项列表。用户可以通过Socket.io创建、读取和删除待办事项，并为每个待办事项添加评论。您还将了解如何在创建或删除待办事项时向应用程序添加通知。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/e2227abd9a8e57e260af988693b22c9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/0*sikb5rueDFS3UEbz.gif"/></div></figure><h1 id="acd2" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">novu——第一个开源通知基础设施</h1><p id="eddf" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">简单介绍一下我们的背景。Novu是第一个开源的<a class="ae ly" href="https://novu.co/" rel="noopener ugc nofollow" target="_blank">通知基础设施</a>。我们基本上帮助管理所有的产品通知。它可以是<strong class="kw io">应用内</strong>(就像你在开发社区中看到的铃铛图标— <strong class="kw io"> Websockets </strong>)、电子邮件、短信等等。</p><p id="6c21" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">如果你能给我们一颗星星，我会非常高兴！这将帮助我每周写更多的文章🚀<br/><a class="ae ly" href="https://github.com/novuhq/novu" rel="noopener ugc nofollow" target="_blank">https://github.com/novuhq/novu</a></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/cdbc13660488b8234766a96fa4697dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aQNR9DpEGAdYylEX.gif"/></div></div></figure><p id="3da4" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">我们还将在Hacktoberfest期间送出一些精美礼品😇</p><h1 id="f358" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">Socket.io是什么？</h1><p id="a208" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated"><a class="ae ly" href="https://socket.io/" rel="noopener ugc nofollow" target="_blank"> Socket.io </a>是一个流行的JavaScript库，它允许我们在web浏览器和Node.js服务器之间创建实时的双向通信。这是一个高性能和可靠的库，旨在以最小的延迟处理大量数据。它遵循WebSocket协议，并提供更好的功能，例如回退到HTTP长轮询或自动重新连接，这使我们能够构建高效的实时应用程序。</p><h1 id="38dd" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">如何用React &amp; Socket.io创建实时连接</h1><p id="6383" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在这里，我们将为待办事项列表应用程序设置项目环境。您还将学习如何将Socket.io添加到React和Node.js应用程序中，并通过Socket.io连接两个开发服务器进行实时通信。</p><p id="d0cb" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">创建包含两个子文件夹<code class="fe mj mk ml mm b">client</code>和<code class="fe mj mk ml mm b">server</code>的项目文件夹。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="02ce" class="mr kd in mm b gy ms mt l mu mv">mkdir todo-list<br/>cd todo-list<br/>mkdir client server</span></pre><p id="145d" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">通过终端导航到客户端文件夹，创建一个新的React.js项目。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="db2d" class="mr kd in mm b gy ms mt l mu mv">cd client<br/>npx create-react-app ./</span></pre><p id="757a" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">安装Socket.io客户端API和React路由器。<a class="ae ly" href="https://reactrouter.com/docs/en/v6" rel="noopener ugc nofollow" target="_blank"> React Router </a>是一个JavaScript库，使我们能够在React应用程序的页面之间导航。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="b493" class="mr kd in mm b gy ms mt l mu mv">npm install socket.io-client react-router-dom</span></pre><p id="ff2f" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">从React app中删除logo、测试文件等多余文件，更新<code class="fe mj mk ml mm b">App.js</code>文件，显示如下<code class="fe mj mk ml mm b">Hello World</code>。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="b87f" class="mr kd in mm b gy ms mt l mu mv">function App() {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;p&gt;Hello World!&lt;/p&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}<br/>export default App;</span></pre><p id="9107" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">导航到服务器文件夹并创建一个<code class="fe mj mk ml mm b">package.json</code>文件。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="cda1" class="mr kd in mm b gy ms mt l mu mv">cd server &amp; npm init -y</span></pre><p id="7b60" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">安装Express.js、CORS、Nodemon和Socket.io服务器API。</p><p id="85dc" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated"><a class="ae ly" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express.js </a>是一个快速、极简的框架，为在Node.js中构建web应用程序提供了几个特性。<a class="ae ly" href="https://www.npmjs.com/package/cors" rel="noopener ugc nofollow" target="_blank"> CORS </a>是一个Node.js包，允许不同域之间的通信。</p><p id="137b" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated"><a class="ae ly" href="https://www.npmjs.com/package/nodemon" rel="noopener ugc nofollow" target="_blank"> Nodemon </a>是一个Node.js工具，在检测到文件变化后自动重启服务器，而<a class="ae ly" href="https://socket.io/docs/v4/server-api/" rel="noopener ugc nofollow" target="_blank"> Socket.io </a>允许我们在服务器上配置一个实时连接。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="1170" class="mr kd in mm b gy ms mt l mu mv">npm install express cors nodemon socket.io</span></pre><p id="d762" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">创建一个<code class="fe mj mk ml mm b">index.js</code>文件web服务器的入口点。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="8f43" class="mr kd in mm b gy ms mt l mu mv">touch index.js</span></pre><p id="d147" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">使用Express.js设置一个简单的Node.js服务器。当您在浏览器中访问<code class="fe mj mk ml mm b">http://localhost:4000/api</code>时，下面的代码片段会返回一个JSON对象。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="5ded" class="mr kd in mm b gy ms mt l mu mv">//👇🏻index.js<br/>const express = require("express");<br/>const app = express();<br/>const PORT = 4000;</span><span id="07f2" class="mr kd in mm b gy mw mt l mu mv">app.use(express.urlencoded({ extended: true }));<br/>app.use(express.json());</span><span id="ed85" class="mr kd in mm b gy mw mt l mu mv">app.get("/api", (req, res) =&gt; {<br/>    res.json({<br/>        message: "Hello world",<br/>    });<br/>});</span><span id="b046" class="mr kd in mm b gy mw mt l mu mv">app.listen(PORT, () =&gt; {<br/>    console.log(`Server listening on ${PORT}`);<br/>});</span></pre><p id="039d" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">导入HTTP和CORS库，以允许客户端和服务器域之间的数据传输。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="03ad" class="mr kd in mm b gy ms mt l mu mv">const express = require("express");<br/>const app = express();<br/>const PORT = 4000;</span><span id="7da7" class="mr kd in mm b gy mw mt l mu mv">app.use(express.urlencoded({ extended: true }));<br/>app.use(express.json());</span><span id="823c" class="mr kd in mm b gy mw mt l mu mv">//👇🏻 New imports<br/>const http = require("http").Server(app);<br/>const cors = require("cors");</span><span id="efad" class="mr kd in mm b gy mw mt l mu mv">app.use(cors());</span><span id="b7a2" class="mr kd in mm b gy mw mt l mu mv">app.get("/api", (req, res) =&gt; {<br/>    res.json({<br/>        message: "Hello world",<br/>    });<br/>});</span><span id="c08b" class="mr kd in mm b gy mw mt l mu mv">http.listen(PORT, () =&gt; {<br/>    console.log(`Server listening on ${PORT}`);<br/>});</span></pre><p id="f6e1" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">接下来，将Socket.io添加到项目中，以创建实时连接。在<code class="fe mj mk ml mm b">app.get()</code> <br/>块之前，复制下面的代码。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="69ac" class="mr kd in mm b gy ms mt l mu mv">//👇🏻 New imports<br/>.....<br/>const socketIO = require('socket.io')(http, {<br/>    cors: {<br/>        origin: "http://localhost:3000"<br/>    }<br/>});</span><span id="0843" class="mr kd in mm b gy mw mt l mu mv">//👇🏻 Add this before the app.get() block<br/>socketIO.on('connection', (socket) =&gt; {<br/>    console.log(`⚡: ${socket.id} user just connected!`);</span><span id="edf6" class="mr kd in mm b gy mw mt l mu mv">    socket.on('disconnect', () =&gt; {<br/>      socket.disconnect()<br/>      console.log('🔥: A user disconnected');<br/>    });<br/>});</span></pre><p id="e970" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">从上面的代码片段来看，<code class="fe mj mk ml mm b">socket.io("connection")</code>函数与React应用程序建立连接，然后为每个套接字创建一个唯一的ID，并在用户访问网页时将该ID记录到控制台。</p><p id="1c80" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">当您刷新或关闭网页时，套接字触发disconnect事件，表明用户已从套接字断开连接。</p><p id="0210" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">通过将start命令添加到<code class="fe mj mk ml mm b">package.json</code>文件中的脚本列表来配置Nodemon。下面的代码片段使用Nodemon启动服务器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="3c29" class="mr kd in mm b gy ms mt l mu mv">//👇🏻 In server/package.json</span><span id="019d" class="mr kd in mm b gy mw mt l mu mv">"scripts": {<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",<br/>    "start": "nodemon index.js"<br/>  },</span></pre><p id="2b91" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">现在，您可以使用下面的命令运行带有Nodemon的服务器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="674e" class="mr kd in mm b gy ms mt l mu mv">npm start</span></pre><h1 id="7a21" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">构建用户界面</h1><p id="1e67" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">这里，我们将为待办事项列表应用程序创建用户界面。用户将能够登录，添加和删除待办事项，并为每个待办事项添加评论。</p><p id="119a" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">导航到<code class="fe mj mk ml mm b">client/src</code>文件夹，创建一个包含<code class="fe mj mk ml mm b">Home.js</code>和<code class="fe mj mk ml mm b">Main.js</code>文件的组件文件夹。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="ef32" class="mr kd in mm b gy ms mt l mu mv">cd client<br/>mkdir components<br/>cd components<br/>touch Home.js Main.js</span></pre><p id="ff04" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">更新<code class="fe mj mk ml mm b">App.js</code>文件，通过React Router在不同的路径上渲染新创建的组件。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="a671" class="mr kd in mm b gy ms mt l mu mv">import React from "react";<br/>import socketIO from "socket.io-client";<br/>import { BrowserRouter, Routes, Route } from "react-router-dom";<br/>import Main from "./components/Main";<br/>import Home from "./components/Home";</span><span id="fb64" class="mr kd in mm b gy mw mt l mu mv">const socket = socketIO.connect("http://localhost:4000");</span><span id="7c46" class="mr kd in mm b gy mw mt l mu mv">const App = () =&gt; {<br/>    return (<br/>        &lt;BrowserRouter&gt;<br/>            &lt;Routes&gt;<br/>                &lt;Route path='/' element={&lt;Home /&gt;} /&gt;<br/>                &lt;Route path='/app' element={&lt;Main socket={socket} /&gt;} /&gt;<br/>            &lt;/Routes&gt;<br/>        &lt;/BrowserRouter&gt;<br/>    );<br/>};</span><span id="081e" class="mr kd in mm b gy mw mt l mu mv">export default App;</span></pre><p id="acaa" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">导航到<code class="fe mj mk ml mm b">src/index.css</code>文件并复制下面的代码。它包含了设计这个项目所需的所有CSS。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="fde7" class="mr kd in mm b gy ms mt l mu mv">@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap");<br/>* {<br/>    box-sizing: border-box;<br/>    margin: 0;<br/>    padding: 0;<br/>    font-family: "Space Grotesk", sans-serif;<br/>}<br/>.navbar {<br/>    width: 100%;<br/>    height: 10vh;<br/>    background-color: #256d85;<br/>    display: flex;<br/>    align-items: center;<br/>    justify-content: space-between;<br/>    padding: 0 20px;<br/>    color: #dff6ff;<br/>}<br/>.form {<br/>    width: 100%;<br/>    min-height: 20vh;<br/>    display: flex;<br/>    align-items: center;<br/>    justify-content: center;<br/>    padding: 0 30px;<br/>}<br/>.input {<br/>    padding: 10px 15px;<br/>    width: 80%;<br/>    margin-right: 15px;<br/>}<br/>.form__cta,<br/>.home__form &gt; button {<br/>    width: 200px;<br/>    cursor: pointer;<br/>    padding: 10px;<br/>    height: 45px;<br/>    font-size: 16px;<br/>    background-color: #256d85;<br/>    color: #dff6ff;<br/>    border: none;<br/>    outline: none;<br/>    border-radius: 3px;<br/>}<br/>.todo__container {<br/>    width: 100%;<br/>    display: flex;<br/>    align-items: center;<br/>    flex-direction: column;<br/>    min-height: 300px;<br/>}<br/>.todo__item {<br/>    display: flex;<br/>    align-items: center;<br/>    width: 70%;<br/>    padding: 20px;<br/>    background-color: #ddd;<br/>    margin: 10px 0;<br/>    justify-content: space-between;<br/>    color: #06283d;<br/>}</span><span id="188b" class="mr kd in mm b gy mw mt l mu mv">.deleteBtn {<br/>    padding: 5px 10px;<br/>    background-color: rgb(202, 22, 22);<br/>    border: none;<br/>    outline: none;<br/>    color: #fff;<br/>    cursor: pointer;<br/>}<br/>.deleteBtn:hover {<br/>    color: rgb(202, 22, 22);<br/>    background-color: #fff;<br/>}<br/>.commentsBtn {<br/>    padding: 5px 10px;<br/>    margin-right: 10px;<br/>    outline: none;<br/>    cursor: pointer;<br/>    border: none;<br/>    background-color: #fff;<br/>}<br/>.commentsBtn:hover {<br/>    background-color: #ddd;<br/>    border: 1px solid #000;<br/>}<br/>.modal {<br/>    min-height: 100vh;<br/>    width: 100%;<br/>    position: fixed;<br/>    top: 0;<br/>    background-color: #fff;<br/>    display: flex;<br/>    align-items: center;<br/>    justify-content: center;<br/>}<br/>.modal__container {<br/>    width: 70%;<br/>    background-color: #fff;<br/>    min-height: 80vh;<br/>    padding: 30px;<br/>    border-radius: 3px;<br/>    border: 1px solid #333;<br/>}<br/>.modal__container &gt; h3 {<br/>    margin-bottom: 30px;<br/>}<br/>.comment__form {<br/>    display: flex;<br/>    margin-bottom: 30px;<br/>    align-items: center;<br/>}<br/>.comment__form &gt; input {<br/>    padding: 10px;<br/>    border: 1px solid #256d85;<br/>    width: 70%;<br/>    margin-right: 20px;<br/>}<br/>.comment {<br/>    margin-bottom: 5px;<br/>}<br/>.comment__form &gt; button {<br/>    padding: 15px 20px;<br/>    cursor: pointer;<br/>    background-color: #256d85;<br/>    color: #fff;<br/>    outline: none;<br/>    border: none;<br/>    height: 45px;<br/>}<br/>.home {<br/>    width: 100%;<br/>    min-height: 100vh;<br/>    display: flex;<br/>    flex-direction: column;<br/>    align-items: center;<br/>    justify-content: center;<br/>}<br/>.home__form {<br/>    width: 100%;<br/>    display: flex;<br/>    flex-direction: column;<br/>    align-items: center;<br/>}<br/>.home__form &gt; * {<br/>    margin-bottom: 10px;<br/>}<br/>.home &gt; h2 {<br/>    margin-bottom: 15px;<br/>}</span></pre><h1 id="3b64" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">主页</h1><p id="acce" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在这里，应用程序接受用户名，并将其保存在本地存储中以供用户识别。将下面的代码复制到Home组件中。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="6261" class="mr kd in mm b gy ms mt l mu mv">import React, { useState } from "react";<br/>import { useNavigate } from "react-router-dom";</span><span id="db50" class="mr kd in mm b gy mw mt l mu mv">const Home = () =&gt; {<br/>    const [username, setUsername] = useState("");<br/>    const navigate = useNavigate();</span><span id="69b4" class="mr kd in mm b gy mw mt l mu mv">    const handleSubmit = (e) =&gt; {<br/>        e.preventDefault();<br/>        localStorage.setItem("_username", username);<br/>        //👇🏻 Navigates to the application<br/>        navigate("/app");<br/>    };<br/>    return (<br/>        &lt;div className='home'&gt;<br/>            &lt;h2&gt;Sign in to your todo-list&lt;/h2&gt;<br/>            &lt;form onSubmit={handleSubmit} className='home__form'&gt;<br/>                &lt;label htmlFor='username'&gt;Your Username&lt;/label&gt;<br/>                &lt;input<br/>                    value={username}<br/>                    required<br/>                    onChange={(e) =&gt; setUsername(e.target.value)}<br/>                    className='input'<br/>                /&gt;<br/>                &lt;button&gt;SIGN IN&lt;/button&gt;<br/>            &lt;/form&gt;<br/>        &lt;/div&gt;<br/>    );<br/>};</span><span id="e87c" class="mr kd in mm b gy mw mt l mu mv">export default Home;</span></pre><h1 id="ee1e" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">主要成分</h1><p id="1eb1" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">这里，我们将为应用程序的核心部分构建用户界面。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/85d86561d5100cbdd7c86b5f5ef0d65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*X0EPJn2Ezv88KKfE.png"/></div></div></figure><p id="9c5e" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">将下面的代码片段复制到<code class="fe mj mk ml mm b">Main.js</code>文件中。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="14bb" class="mr kd in mm b gy ms mt l mu mv">import React, { useState } from "react";<br/>import Nav from "./Nav";</span><span id="0c51" class="mr kd in mm b gy mw mt l mu mv">function Main({ socket }) {<br/>    const [todo, setTodo] = useState("");</span><span id="76fc" class="mr kd in mm b gy mw mt l mu mv">    //👇🏻 Generates a random string as the todo ID<br/>    const generateID = () =&gt; Math.random().toString(36).substring(2, 10);</span><span id="afd7" class="mr kd in mm b gy mw mt l mu mv">    const handleAddTodo = (e) =&gt; {<br/>        e.preventDefault();<br/>    //👇🏻 Every todo has this structure - id, todo &amp; comments.<br/>        console.log({<br/>            id: generateID(),<br/>            todo,<br/>            comments: [],<br/>        });<br/>        setTodo("");<br/>    };</span><span id="7e2a" class="mr kd in mm b gy mw mt l mu mv">    return (<br/>        &lt;div&gt;<br/>            &lt;Nav /&gt;<br/>            &lt;form className='form' onSubmit={handleAddTodo}&gt;<br/>                &lt;input<br/>                    value={todo}<br/>                    onChange={(e) =&gt; setTodo(e.target.value)}<br/>                    className='input'<br/>                    required<br/>                /&gt;<br/>                &lt;button className='form__cta'&gt;ADD TODO&lt;/button&gt;<br/>            &lt;/form&gt;</span><span id="b97b" class="mr kd in mm b gy mw mt l mu mv">            &lt;div className='todo__container'&gt;<br/>                &lt;div className='todo__item'&gt;<br/>                    &lt;p&gt;Contributing to open-source&lt;/p&gt;<br/>                    &lt;div&gt;<br/>                        &lt;button className='commentsBtn'&gt;View Comments&lt;/button&gt;<br/>                        &lt;button className='deleteBtn'&gt;DELETE&lt;/button&gt;<br/>                    &lt;/div&gt;<br/>                &lt;/div&gt;</span><span id="edcd" class="mr kd in mm b gy mw mt l mu mv">                &lt;div className='todo__item'&gt;<br/>                    &lt;p&gt;Coffee chat with the team&lt;/p&gt;<br/>                    &lt;div&gt;<br/>                        &lt;button className='commentsBtn'&gt;View Comments&lt;/button&gt;<br/>                        &lt;button className='deleteBtn'&gt;DELETE&lt;/button&gt;<br/>                    &lt;/div&gt;<br/>                &lt;/div&gt;</span><span id="60e5" class="mr kd in mm b gy mw mt l mu mv">                &lt;div className='todo__item'&gt;<br/>                    &lt;p&gt;Work on my side projects&lt;/p&gt;<br/>                    &lt;div&gt;<br/>                        &lt;button className='commentsBtn'&gt;View Comments&lt;/button&gt;<br/>                        &lt;button className='deleteBtn'&gt;DELETE&lt;/button&gt;<br/>                    &lt;/div&gt;<br/>                &lt;/div&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span><span id="ab30" class="mr kd in mm b gy mw mt l mu mv">export default Main;</span></pre><p id="631a" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">上面的代码片段代表了一个用户界面，它使用户能够创建待办事项、查看评论和删除现有的待办事项。</p><p id="f62d" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated"><code class="fe mj mk ml mm b">Nav</code>组件是应用程序的导航栏——在本教程的后面，我们将在这个组件中发送带有Novu的通知。</p><p id="bb22" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">创建Nav组件，并将下面的代码复制到其中:</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="9b19" class="mr kd in mm b gy ms mt l mu mv">//👇🏻 Within /src/components/Nav.js<br/>import React from "react";</span><span id="2fb9" class="mr kd in mm b gy mw mt l mu mv">const Nav = () =&gt; {<br/>    return (<br/>        &lt;nav className='navbar'&gt;<br/>            &lt;h2&gt;Todo List&lt;/h2&gt;<br/>        &lt;/nav&gt;<br/>    );<br/>};</span><span id="3383" class="mr kd in mm b gy mw mt l mu mv">export default Nav;</span></pre><p id="54fb" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">恭喜你！🔥我们已经为应用程序创建了用户界面。在接下来的小节中，您将学习如何使用Socket.io发送实时数据，使用Novu发送通知。</p><h1 id="1910" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">如何创建新的待办事项</h1><p id="f7af" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在本节中，我将指导您创建新的待办事项，并使用Socket.io在React应用程序上显示它们。</p><p id="ad71" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">更新<code class="fe mj mk ml mm b">Main.js</code>文件中的<code class="fe mj mk ml mm b">handleAddTodo</code>函数，通过Socket.io将新的待办事项发送给服务器</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="619a" class="mr kd in mm b gy ms mt l mu mv">const handleAddTodo = (e) =&gt; {<br/>    e.preventDefault();<br/>    //👇🏻 Sends a event - addTodo via Socket.io<br/> // containing the id, todo, and the comments array<br/>    socket.emit("addTodo", {<br/>        id: generateID(),<br/>        todo,<br/>        comments: [],<br/>    });<br/>    setTodo("");<br/>};</span></pre><p id="0938" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在服务器上创建事件的侦听器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="d816" class="mr kd in mm b gy ms mt l mu mv">socketIO.on("connection", (socket) =&gt; {<br/>    console.log(`⚡: ${socket.id} user just connected!`);</span><span id="cc34" class="mr kd in mm b gy mw mt l mu mv">    socket.on("addTodo", (todo) =&gt; {<br/>        //👇🏻 todo - contains the object from the React app<br/>        console.log(todo);<br/>    });</span><span id="a1b7" class="mr kd in mm b gy mw mt l mu mv">    socket.on("disconnect", () =&gt; {<br/>        socket.disconnect();<br/>        console.log("🔥: A user disconnected");<br/>    });<br/>});</span></pre><p id="12ac" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在后端服务器上创建一个包含所有待办事项的数组，并将新的待办事项添加到列表中。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="4721" class="mr kd in mm b gy ms mt l mu mv">//👇🏻 Array containing all the to-dos<br/>let todoList = [];</span><span id="c500" class="mr kd in mm b gy mw mt l mu mv">socketIO.on("connection", (socket) =&gt; {<br/>    console.log(`⚡: ${socket.id} user just connected!`);</span><span id="748c" class="mr kd in mm b gy mw mt l mu mv">    socket.on("addTodo", (todo) =&gt; {<br/>        //👇🏻 Adds the to-do object to the list of to-dos<br/>        todoList.unshift(todo);<br/>        //👇🏻 Sends all the to-dos to the React app<br/>        socket.emit("todos", todoList);<br/>    });</span><span id="e9b7" class="mr kd in mm b gy mw mt l mu mv">    socket.on("disconnect", () =&gt; {<br/>        socket.disconnect();<br/>        console.log("🔥: A user disconnected");<br/>    });<br/>});</span></pre><p id="adb9" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">通过<code class="fe mj mk ml mm b">useEffect</code>钩子为React应用程序上的待办事项创建一个监听器。复制下面的代码:</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="f4ea" class="mr kd in mm b gy ms mt l mu mv">//In src/components/Main.js<br/>useEffect(() =&gt; {<br/>    socket.on("todos", (data) =&gt; console.log(data));<br/>}, [socket]);</span></pre><p id="e409" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">显示如下待办事项:</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="f0a9" class="mr kd in mm b gy ms mt l mu mv">import React, { useState, useEffect } from "react";<br/>import Nav from "./Nav";</span><span id="3801" class="mr kd in mm b gy mw mt l mu mv">function Main({ socket }) {<br/>    const [todo, setTodo] = useState("");<br/>    const [todoList, setTodoList] = useState([]);</span><span id="ddb9" class="mr kd in mm b gy mw mt l mu mv">    const generateID = () =&gt; Math.random().toString(36).substring(2, 10);</span><span id="9288" class="mr kd in mm b gy mw mt l mu mv">    const handleAddTodo = (e) =&gt; {<br/>        e.preventDefault();<br/>        socket.emit("addTodo", {<br/>            id: generateID(),<br/>            todo,<br/>            comments: [],<br/>        });<br/>        setTodo("");<br/>    };</span><span id="1fbb" class="mr kd in mm b gy mw mt l mu mv">    useEffect(() =&gt; {<br/>        socket.on("todos", (data) =&gt; setTodoList(data));<br/>    }, [socket]);</span><span id="447c" class="mr kd in mm b gy mw mt l mu mv">    return (<br/>        &lt;div&gt;<br/>            &lt;Nav /&gt;<br/>            &lt;form className='form' onSubmit={handleAddTodo}&gt;<br/>                &lt;input<br/>                    value={todo}<br/>                    onChange={(e) =&gt; setTodo(e.target.value)}<br/>                    className='input'<br/>                    required<br/>                /&gt;<br/>                &lt;button className='form__cta'&gt;ADD TODO&lt;/button&gt;<br/>            &lt;/form&gt;</span><span id="bd95" class="mr kd in mm b gy mw mt l mu mv">            &lt;div className='todo__container'&gt;<br/>                {todoList.map((item) =&gt; (<br/>                    &lt;div className='todo__item' key={item.id}&gt;<br/>                        &lt;p&gt;{item.todo}&lt;/p&gt;<br/>                        &lt;div&gt;<br/>                            &lt;button className='commentsBtn'&gt;View Comments&lt;/button&gt;</span><span id="707b" class="mr kd in mm b gy mw mt l mu mv">                            &lt;button className='deleteBtn'&gt;DELETE&lt;/button&gt;<br/>                        &lt;/div&gt;<br/>                    &lt;/div&gt;<br/>                ))}<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span><span id="47a9" class="mr kd in mm b gy mw mt l mu mv">export default Main;</span></pre><p id="987c" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">到目前为止，我们只能在添加一个待办事项时查看现有的待办事项。接下来，让我们在加载页面时显示待办事项。</p><p id="1c37" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在服务器上创建一个返回待办事项列表的路由。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="e617" class="mr kd in mm b gy ms mt l mu mv">app.get("/api", (req, res) =&gt; {<br/>    res.json(todoList);<br/>});</span></pre><p id="c0b8" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">更新<code class="fe mj mk ml mm b">useEffect</code>钩子从服务器获取待办事项列表，并监听新的待办事项。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="85e1" class="mr kd in mm b gy ms mt l mu mv">useEffect(() =&gt; {<br/>    function fetchTodos() {<br/>        fetch("http://localhost:4000/api")<br/>            .then((res) =&gt; res.json())<br/>            .then((data) =&gt; setTodoList(data))<br/>            .catch((err) =&gt; console.error(err));<br/>    }<br/>    fetchTodos();</span><span id="39bf" class="mr kd in mm b gy mw mt l mu mv">    socket.on("todos", (data) =&gt; setTodoList(data));<br/>}, [socket]);</span></pre><p id="74a1" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">恭喜，我们现在可以在待办事项列表中添加新的待办事项了。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/98b4543b3e3b39142d1269c9fe5dd97a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*437ibflpDTVZRlwm.gif"/></div></div></figure><h1 id="9bf3" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">如何删除现有的待办事项</h1><p id="7917" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">向删除按钮添加一个<code class="fe mj mk ml mm b">onClick</code>事件，该事件获取所选待办事项的ID。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="db98" class="mr kd in mm b gy ms mt l mu mv">&lt;button className='deleteBtn' onClick={() =&gt; deleteTodo(item.id)}&gt;<br/>    DELETE<br/>&lt;/button&gt;</span></pre><p id="c103" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">创建<code class="fe mj mk ml mm b">deleteTodo</code>函数，通过Socket.io将待办事项的ID发送给服务器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="e87e" class="mr kd in mm b gy ms mt l mu mv">const deleteTodo = (id) =&gt; socket.emit("deleteTodo", id);</span></pre><p id="97a0" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">为<code class="fe mj mk ml mm b">deleteTodo</code>事件创建一个监听器，通过其ID从待办事项列表中删除待办事项。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="ac82" class="mr kd in mm b gy ms mt l mu mv">//👇🏻 Array containing all the to-dos<br/>let todoList = [];</span><span id="e4df" class="mr kd in mm b gy mw mt l mu mv">socketIO.on("connection", (socket) =&gt; {<br/>    console.log(`⚡: ${socket.id} user just connected!`);</span><span id="5f8b" class="mr kd in mm b gy mw mt l mu mv">    socket.on("addTodo", (todo) =&gt; {<br/>        todoList.unshift(todo);<br/>        socket.emit("todos", todoList);<br/>    });</span><span id="8ffd" class="mr kd in mm b gy mw mt l mu mv">    //👇🏻 Filters the array of to-dos and<br/>    //   sends the updated to-do to the React app.<br/>    socket.on("deleteTodo", (id) =&gt; {<br/>        todoList = todoList.filter((todo) =&gt; todo.id !== id);<br/>        //👇🏻 Sends the updated to-do to the React app<br/>        socket.emit("todos", todoList);<br/>    });</span><span id="bf23" class="mr kd in mm b gy mw mt l mu mv">    socket.on("disconnect", () =&gt; {<br/>        socket.disconnect();<br/>        console.log("🔥: A user disconnected");<br/>    });<br/>});</span></pre><p id="b928" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">现在，您可以通过Socket.io添加和删除每个待办事项。接下来，您将学习如何为每个待办事项添加和显示注释。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/8d270dfdbc82e6be4cc21c759606028a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dr5VYLE0BISbd4kG.gif"/></div></div></figure><h1 id="11d0" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">如何为每个待办事项显示和添加评论</h1><p id="261a" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在这一节中，我将指导您向每个待办事项添加注释，您还将学习如何在React中创建模态。</p><h1 id="b39e" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">在React.js中创建模态</h1><p id="c353" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">创建一个<code class="fe mj mk ml mm b">Modal.js</code>文件，包含每个待办事项的注释，如下所示:</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="9531" class="mr kd in mm b gy ms mt l mu mv">import React, { useState } from "react";</span><span id="8e3f" class="mr kd in mm b gy mw mt l mu mv">const Modal = ({ socket }) =&gt; {<br/>    const [comment, setComment] = useState("");</span><span id="b502" class="mr kd in mm b gy mw mt l mu mv">    const addComment = (e) =&gt; {<br/>        e.preventDefault();<br/>        console.log({ comment });<br/>        setComment("");<br/>    };</span><span id="15c6" class="mr kd in mm b gy mw mt l mu mv">    return (<br/>        &lt;div className='modal'&gt;<br/>            &lt;div className='modal__container'&gt;<br/>                &lt;h3&gt;Comments&lt;/h3&gt;<br/>                &lt;form className='comment__form' onSubmit={addComment}&gt;<br/>                    &lt;input<br/>                        className='comment__input'<br/>                        type='text'<br/>                        value={comment}<br/>                        onChange={(e) =&gt; setComment(e.target.value)}<br/>                        required<br/>                    /&gt;<br/>                    &lt;button&gt;Add Comment&lt;/button&gt;<br/>                &lt;/form&gt;<br/>                &lt;div className='comments__container'&gt;<br/>                    &lt;div className='comment'&gt;<br/>                        &lt;p&gt;<br/>                            &lt;strong&gt;Nevo - &lt;/strong&gt; Hello guys<br/>                        &lt;/p&gt;<br/>                    &lt;/div&gt;<br/>                &lt;/div&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    );<br/>};</span><span id="dba0" class="mr kd in mm b gy mw mt l mu mv">export default Modal;</span></pre><p id="4292" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">为了使这个组件显示为模态，我们需要在下面的<code class="fe mj mk ml mm b">src/index.css</code>文件中给它一些样式，特别是位置和z-index属性。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="862c" class="mr kd in mm b gy ms mt l mu mv">.modal {<br/>    min-height: 100vh;<br/>    width: 100%;<br/>    position: fixed;<br/>    z-index: 10;<br/>    top: 0;<br/>    background-color: #fff;<br/>    display: flex;<br/>    align-items: center;<br/>    justify-content: center;<br/>}</span></pre><p id="9004" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">接下来，让我们在点击<code class="fe mj mk ml mm b">Main.js</code>文件中的View Comment按钮时切换<code class="fe mj mk ml mm b">Modal.js</code>组件。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="a2aa" class="mr kd in mm b gy ms mt l mu mv">import React, { useState, useEffect } from "react";<br/>import Nav from "./Nav";<br/>import Modal from "./Modal";</span><span id="884c" class="mr kd in mm b gy mw mt l mu mv">function Main({ socket }) {<br/>    const [todo, setTodo] = useState("");<br/>    const [todoList, setTodoList] = useState([]);<br/>    const [showModal, setShowModal] = useState(false);</span><span id="a329" class="mr kd in mm b gy mw mt l mu mv">    const toggleModal = () =&gt; setShowModal(!showModal);<br/>    //...other functions<br/>    return (<br/>        &lt;div&gt;<br/>            ...<br/>            &lt;div className='todo__container'&gt;<br/>                {todoList.map((item) =&gt; (<br/>                    &lt;div className='todo__item' key={item.id}&gt;<br/>                        &lt;p&gt;{item.todo}&lt;/p&gt;<br/>                        &lt;div&gt;<br/>                            {/*👇🏻 This button toggles the Modal component---*/}<br/>                            &lt;button className='commentsBtn' onClick={toggleModal}&gt;<br/>                                View Comments<br/>                            &lt;/button&gt;<br/>                            &lt;button className='deleteBtn' onClick={() =&gt; deleteTodo(item.id)}&gt;<br/>                                DELETE<br/>                            &lt;/button&gt;<br/>                        &lt;/div&gt;<br/>                    &lt;/div&gt;<br/>                ))}<br/>            &lt;/div&gt;<br/>            {/*👇🏻 The Modal replaces the Main component*/}<br/>            {showModal ? (<br/>                &lt;Modal showModal={showModal} setShowModal={setShowModal} /&gt;<br/>            ) : (<br/>                ""<br/>            )}<br/>        &lt;/div&gt;<br/>    );<br/>}</span><span id="4a8b" class="mr kd in mm b gy mw mt l mu mv">export default Main;</span></pre><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/7e543cfcc8fadad227772f25c0fcc6d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G6uShzud3oypargd.gif"/></div></div></figure><p id="b240" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">既然我们已经能够在单击View按钮时显示模态，接下来，让我们在comments容器外单击时切换模态。</p><p id="1a81" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">如下更新<code class="fe mj mk ml mm b">Modal.js</code>文件:</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="f99d" class="mr kd in mm b gy ms mt l mu mv">import React, { useState, useRef } from "react";</span><span id="956c" class="mr kd in mm b gy mw mt l mu mv">const Modal = ({ socket, showModal, setShowModal }) =&gt; {<br/>    const [comment, setComment] = useState("");</span><span id="9468" class="mr kd in mm b gy mw mt l mu mv">    const modalRef = useRef();<br/>    //👇🏻 If the container (modalRef) is clicked, it closes the modal.<br/>    const closeModal = (e) =&gt; {<br/>        if (modalRef.current === e.target) {<br/>            setShowModal(!showModal);<br/>        }<br/>    };</span><span id="bfbc" class="mr kd in mm b gy mw mt l mu mv">    const addComment = (e) =&gt; {<br/>        e.preventDefault();<br/>        console.log({ comment });<br/>        setComment("");<br/>    };<br/>    return (<br/>        &lt;div className='modal' onClick={closeModal} ref={modalRef}&gt;<br/>            ...<br/>        &lt;/div&gt;<br/>    );<br/>};</span></pre><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/3336649b428d26f785cb4475ad12b67f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*chOB7HA9JMB5o89Q.gif"/></div></div></figure><p id="8b9b" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">恭喜你！💃🏻您已经学习了如何向React应用程序添加模态。因此，让我们让用户能够添加和显示评论。</p><h1 id="c560" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">显示待办事项注释</h1><p id="4bfc" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">更新<code class="fe mj mk ml mm b">Main.js</code>文件中的<code class="fe mj mk ml mm b">toggleModal</code>函数，将所选待办事项的ID发送给服务器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="5a8e" class="mr kd in mm b gy ms mt l mu mv">const toggleModal = (todoId) =&gt; {<br/>    socket.emit("viewComments", todoId);<br/>    setShowModal(!showModal);<br/>};</span></pre><p id="c607" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在服务器上创建一个侦听器，该侦听器接受待办事项ID，获取它的详细信息，并将其发送回React应用程序。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="9bf0" class="mr kd in mm b gy ms mt l mu mv">socket.on("viewComments", (id) =&gt; {<br/>    for (let i = 0; i &lt; todoList.length; i++) {<br/>        if (id === todoList[i].id) {<br/>            //👇🏻 sends the todo details back to the React app for display<br/>            socket.emit("commentsReceived", todoList[i]);<br/>        }<br/>    }<br/>});</span></pre><p id="979b" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在<code class="fe mj mk ml mm b">Modal.js</code>文件中为<code class="fe mj mk ml mm b">commentsReceived</code>事件创建一个监听器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="3510" class="mr kd in mm b gy ms mt l mu mv">useEffect(() =&gt; {<br/>    socket.on("commentsReceived", (todo) =&gt; console.log(todo));<br/>}, [socket]);</span></pre><p id="3c9d" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">通过复制以下内容呈现注释:</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="94e3" class="mr kd in mm b gy ms mt l mu mv">import React, { useEffect, useRef, useState } from "react";</span><span id="98d6" class="mr kd in mm b gy mw mt l mu mv">const Modal = ({ showModal, setShowModal, socket }) =&gt; {<br/>    const modalRef = useRef();<br/>    const [comment, setComment] = useState("");<br/>    const [comments, setComments] = useState([]);</span><span id="32c3" class="mr kd in mm b gy mw mt l mu mv">    const closeModal = (e) =&gt; {<br/>        if (modalRef.current === e.target) {<br/>            setShowModal(!showModal);<br/>        }<br/>    };</span><span id="03ee" class="mr kd in mm b gy mw mt l mu mv">    const addComment = (e) =&gt; {<br/>        e.preventDefault();<br/>        console.log({ comment });<br/>        setComment("");<br/>    };</span><span id="0b3b" class="mr kd in mm b gy mw mt l mu mv">    //👇🏻 Listens for the todo details from the server<br/>    useEffect(() =&gt; {<br/>        socket.on("commentsReceived", (todo) =&gt; setComments(todo.comments));<br/>    }, [socket]);</span><span id="69b2" class="mr kd in mm b gy mw mt l mu mv">    return (<br/>        &lt;div className='modal' onClick={closeModal} ref={modalRef}&gt;<br/>            &lt;div className='modal__container'&gt;<br/>                &lt;h3&gt;Comments&lt;/h3&gt;<br/>                &lt;form className='comment__form' onSubmit={addComment}&gt;<br/>                    &lt;input<br/>                        className='comment__input'<br/>                        type='text'<br/>                        value={comment}<br/>                        onChange={(e) =&gt; setComment(e.target.value)}<br/>                        required<br/>                    /&gt;<br/>                    &lt;button&gt;Add Comment&lt;/button&gt;<br/>                &lt;/form&gt;</span><span id="35ca" class="mr kd in mm b gy mw mt l mu mv">                {/*👇🏻 Displays the comments --- */}<br/>                &lt;div className='comments__container'&gt;<br/>                    {comments.length &gt; 0 ? (<br/>                        comments.map((item, index) =&gt; (<br/>                            &lt;div className='comment' key={index}&gt;<br/>                                &lt;p&gt;<br/>                                    &lt;strong&gt;{item.name} - &lt;/strong&gt; {item.text}<br/>                                &lt;/p&gt;<br/>                            &lt;/div&gt;<br/>                        ))<br/>                    ) : (<br/>                        &lt;p&gt;No comments available yet...&lt;/p&gt;<br/>                    )}<br/>                &lt;/div&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    );<br/>};</span><span id="a33d" class="mr kd in mm b gy mw mt l mu mv">export default Modal;</span></pre><h1 id="bd3d" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">给待办事项添加注释</h1><p id="e669" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">在<code class="fe mj mk ml mm b">Main.js</code>中创建一个状态，保存所选待办事项的ID。将状态传递给<code class="fe mj mk ml mm b">Modal.js</code>组件。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="47a6" class="mr kd in mm b gy ms mt l mu mv">const toggleModal = (itemId) =&gt; {<br/>    socket.emit("viewComments", itemId);<br/>    //👇🏻 Pass this ID into the Modal component<br/>    setSelectedItemID(itemId);<br/>    setShowModal(!showModal);<br/>};</span></pre><p id="1739" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">更新<code class="fe mj mk ml mm b">Modal.js</code>文件中的<code class="fe mj mk ml mm b">addComment</code>函数，将评论细节发送给服务器。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="e6ec" class="mr kd in mm b gy ms mt l mu mv">const addComment = (e) =&gt; {<br/>    e.preventDefault();<br/>    socket.emit("updateComment", {<br/>        todoID: selectedItemID, //The ID passed from the Main.js file<br/>        comment,<br/>        user: localStorage.getItem("_username"),<br/>    });<br/>    setComment("");<br/>};</span></pre><p id="2278" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在服务器上为<code class="fe mj mk ml mm b">addComment</code>事件创建一个监听器，将注释添加到待办事项的注释中。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="cbe5" class="mr kd in mm b gy ms mt l mu mv">socket.on("updateComment", (data) =&gt; {<br/>    //👇🏻 Destructure the items from the object<br/>    const { user, todoID, comment } = data;</span><span id="3b85" class="mr kd in mm b gy mw mt l mu mv">    for (let i = 0; i &lt; todoList.length; i++) {<br/>        //👇🏻 Gets the todo<br/>        if (todoID === todoList[i].id) {<br/>            //👇🏻 Add the comment to the list of comments<br/>            todoList[i].comments.push({ name: user, text: comment });<br/>            //👇🏻 Sends an update to React app<br/>            socket.emit("commentsReceived", todoList[i]);<br/>        }<br/>    }<br/>});</span></pre><p id="72da" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">恭喜你！我们现在可以为每个待办事项添加评论，并在React应用程序上显示它们。</p><h1 id="d382" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">额外:用Novu发送通知</h1><p id="dc74" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">如果您想在用户添加评论或新的待办事项时向应用程序添加通知，您可以在<code class="fe mj mk ml mm b">Nav.js</code>组件中使用Novu轻松实现。</p><p id="a5ba" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">Novu允许您添加各种通知类型，如电子邮件、短信和应用程序内通知。</p><h1 id="6711" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">如何向React和Node.js应用程序添加Novu</h1><p id="a61f" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">要添加应用内通知，请在服务器上安装Novu Node.js SDK，并在React应用中安装通知中心。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="9b5d" class="mr kd in mm b gy ms mt l mu mv">👇🏻 Install on the client<br/>npm install @novu/notification-center</span><span id="454f" class="mr kd in mm b gy mw mt l mu mv">👇🏻 Install on the server<br/>npm install @novu/node</span></pre><p id="c43e" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">通过运行下面的代码创建一个Novu项目。您可以使用个性化的仪表板。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="d543" class="mr kd in mm b gy ms mt l mu mv">👇🏻 Install on the client<br/>npx novu init</span></pre><p id="7e83" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">在创建Novu项目之前，您需要登录GitHub。下面的代码片段包含运行<code class="fe mj mk ml mm b">npx novu init</code>后应该遵循的步骤</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="3277" class="mr kd in mm b gy ms mt l mu mv">Now let's setup your account and send your first notification<br/>❓ What is your application name? Devto Clone<br/>❓ Now lets setup your environment. How would you like to proceed?<br/>   &gt; Create a free cloud account (Recommended)<br/>❓ Create your account with:<br/>   &gt; Sign-in with GitHub<br/>❓ I accept the Terms and Condidtions (https://novu.co/terms) and have read the Privacy Policy (https://novu.co/privacy)<br/>    &gt; Yes<br/>✔️ Create your account successfully.</span><span id="9ac3" class="mr kd in mm b gy mw mt l mu mv">We've created a demo web page for you to see novu notifications in action.<br/>Visit: http://localhost:57807/demo to continue</span></pre><p id="209e" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">访问演示网页<code class="fe mj mk ml mm b">http://localhost:57807/demo</code>，从该页面复制您的订户ID，然后单击跳过教程按钮。我们将在本教程的后面使用它。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/7d84be0365b1ce4a1a55cbd698c5ca57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rSmXwjBSUIwlVfew.png"/></div></div></figure><p id="e41a" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">更新<code class="fe mj mk ml mm b">components/Nav.js</code>文件，以包含来自<a class="ae ly" href="https://docs.novu.co/notification-center/react-components" rel="noopener ugc nofollow" target="_blank">文档</a>的Novu及其应用内通知所需的元素。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="6e2f" class="mr kd in mm b gy ms mt l mu mv">import React from "react";<br/>import {<br/>    NovuProvider,<br/>    PopoverNotificationCenter,<br/>    NotificationBell,<br/>} from "@novu/notification-center";<br/>import { useNavigate } from "react-router-dom";</span><span id="4193" class="mr kd in mm b gy mw mt l mu mv">const Nav = () =&gt; {<br/>    const navigate = useNavigate();</span><span id="53da" class="mr kd in mm b gy mw mt l mu mv">    const onNotificationClick = (notification) =&gt;<br/>        navigate(notification.cta.data.url);<br/>    return (<br/>        &lt;nav className='navbar'&gt;<br/>            &lt;h2&gt;Todo List&lt;/h2&gt;<br/>            &lt;div&gt;<br/>                &lt;NovuProvider<br/>                    subscriberId='&lt;YOUR_SUBSCRIBER_ID'<br/>                    applicationIdentifier='&lt;YOUR_APP_ID&gt;'<br/>                &gt;<br/>                    &lt;PopoverNotificationCenter<br/>                        onNotificationClick={onNotificationClick}<br/>                        colorScheme='light'<br/>                    &gt;<br/>                        {({ unseenCount }) =&gt; (<br/>                            &lt;NotificationBell unseenCount={unseenCount} /&gt;<br/>                        )}<br/>                    &lt;/PopoverNotificationCenter&gt;<br/>                &lt;/NovuProvider&gt;<br/>            &lt;/div&gt;<br/>        &lt;/nav&gt;<br/>    );<br/>};</span><span id="28f2" class="mr kd in mm b gy mw mt l mu mv">export default Nav;</span></pre><p id="e339" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">上面的代码片段将Novu通知铃图标添加到Nav组件中，使我们能够查看应用程序中的所有通知。</p><p id="995d" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">💡<code class="fe mj mk ml mm b">NovuProvider</code>组件需要您的订户标识(之前从<code class="fe mj mk ml mm b">http://localhost:57807/demo</code>复制的)和您的应用程序标识(可在<a class="ae ly" href="https://web.novu.co/settings" rel="noopener ugc nofollow" target="_blank">诺沃管理平台</a>上的API Keys下的设置部分找到)。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/01390ac8acb64376bf051667ddf8589b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Fk1qQXrjdjZeHkAD.jpeg"/></div></div></figure><p id="32da" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">接下来，让我们为应用程序创建工作流，它描述了您想要添加到应用程序中的特性。</p><p id="5c8d" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">从“发展”边栏中选择“通知”，并创建一个通知模板。选择新创建的模板，点击工作流编辑器，确保工作流如下:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/c32186aebbf903f16a869978d42ca66b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JJ4lTRYYFc4huJ3c.jpeg"/></div></div></figure><p id="e00e" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">从上图中，Novu会在发送应用内通知之前触发摘要引擎。</p><p id="88e1" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated"><a class="ae ly" href="https://docs.novu.co/platform/digest" rel="noopener ugc nofollow" target="_blank"> Novu Digest </a>允许我们控制在应用程序中发送通知的方式。它收集多个触发事件，并将其作为单个消息发送。上面的图像每2分钟发送一次通知，当您有很多用户并且经常更新时，它会很有效。</p><p id="9324" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">单击<code class="fe mj mk ml mm b">In-App</code>步骤，编辑通知模板，使其包含以下内容。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="71f9" class="mr kd in mm b gy ms mt l mu mv">{{userId}} added a new to-do.</span></pre><p id="bf78" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">💡 💡Novu允许您使用<a class="ae ly" href="https://docs.novu.co/platform/templates#messages" rel="noopener ugc nofollow" target="_blank">车把模板引擎</a>向模板添加动态内容或数据。用户名变量的数据将作为请求的有效载荷插入模板。</p><p id="cdc1" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">点击<code class="fe mj mk ml mm b">Update</code>按钮保存模板，返回代码编辑器。</p><h1 id="a7d4" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">向应用程序中添加Novu</h1><p id="5e00" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">从包中导入Novu，并在服务器上使用您的API密钥创建一个实例。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="46d9" class="mr kd in mm b gy ms mt l mu mv">//server/index.js</span><span id="535a" class="mr kd in mm b gy mw mt l mu mv">const { Novu } = require("@novu/node");<br/>const novu = new Novu("&lt;YOUR_API_KEY&gt;");</span></pre><p id="4153" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">创建一个功能，通过Novu向React应用程序发送通知。</p><pre class="lr ls lt lu gt mn mm mo mp aw mq bi"><span id="9f68" class="mr kd in mm b gy ms mt l mu mv">const sendNotification = async (template_id) =&gt; {<br/>    try {<br/>        const result = await novu.trigger(template_id, {<br/>            to: {<br/>                subscriberId: &lt;SUBSCRIBER_ID&gt;,<br/>            },<br/>        });<br/>        console.log(result);<br/>    } catch (err) {<br/>        console.error("Error &gt;&gt;&gt;&gt;", { err });<br/>    }<br/>};</span><span id="e32f" class="mr kd in mm b gy mw mt l mu mv">socket.on("addTodo", (todo) =&gt; {<br/>        todoList.unshift(todo);<br/>        socket.emit("todos", todoList);</span><span id="5426" class="mr kd in mm b gy mw mt l mu mv">    //👇🏻 Triggers the notification via Novu<br/>        sendNotification("&lt;TEMPLATE_ID&gt;");<br/>    });</span></pre><p id="fcab" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">当一个新的待办事项被添加到应用程序中时，上面的代码片段向所有用户发送了一个通知。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/bb15ae90825d4cff4f4c70beaa75197d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-4wCMDuJzRPHCHk6.png"/></div></div></figure><p id="cfb8" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">祝贺你，你已经完成了托多里斯大厦的建造！🎉</p><h1 id="a42a" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">结论</h1><p id="79d0" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">到目前为止，您已经学习了如何在React和Node.js应用程序中设置Socket.io，以及如何通过Socket.io在服务器和客户端之间进行通信。</p><p id="7e9a" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated">这是一个演示，展示了你可以使用Socket.io和reaction构建什么。通过添加身份验证、实时数据库和当用户放弃评论时通过Novu的通知，您可以随意改进应用程序。<br/>本教程的源代码可在此处找到:<br/><a class="ae ly" href="https://github.com/novuhq/blog/tree/main/todolist-with-react-and-socketIO" rel="noopener ugc nofollow" target="_blank">https://github . com/novuhq/blog/tree/main/todolis-with-reaction-socketIO</a></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/91d46405088f08daf7230b639afdcf99.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*3v0Sy0ohxRW_rB8-.gif"/></div></figure><p id="b57a" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated"><strong class="kw io"> P.S </strong> Novu在黑客节上送来了令人敬畏的礼物！来参加吧！如果你能给我们一颗<strong class="kw io">星来支持我们，那就太好了！</strong> ⭐️</p><div class="my mz gp gr na nb"><a href="https://github.com/novuhq/novu" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd io gy z fp ng fr fs nh fu fw im bi translated">GitHub - novuhq/novu: ⭐一个全功能的实时通知中心，为您的网络和反应…</h2><div class="ni l"><h3 class="bd b gy z fp ng fr fs nh fu fw dk translated">⭐为您的web和react应用程序提供了一个功能齐全的实时通知中心。唯一的开源通知…</h3></div><div class="nj l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">github.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np lw nb"/></div></div></a></div></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><p id="0d4e" class="pw-post-body-paragraph ku kv in kw b kx lz jo kz la ma jr lc ld mb lf lg lh mc lj lk ll md ln lo lp ig bi translated"><em class="nx">更多内容请看</em><a class="ae ly" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="nx">plain English . io</em></strong></a><em class="nx">。报名参加我们的</em> <a class="ae ly" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="nx">免费周报</em> </strong> </a> <em class="nx">。关注我们关于</em><a class="ae ly" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="nx">Twitter</em></strong></a><a class="ae ly" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="nx">LinkedIn</em></strong></a><em class="nx"/><a class="ae ly" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="nx">YouTube</em></strong></a><em class="nx"/><a class="ae ly" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="nx">不和</em> </strong> </a> <em class="nx">。对增长黑客感兴趣？检查</em> <a class="ae ly" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="nx">电路</em> </strong> </a> <em class="nx">。</em></p></div></div>    
</body>
</html>