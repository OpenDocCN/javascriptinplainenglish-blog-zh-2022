<html>
<head>
<title>Advanced TypeScript With Code Challenges: Class Decorators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有代码挑战的高级类型脚本:类装饰器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/advanced-typescript-with-code-challenges-class-decorators-afd9043d41f6?source=collection_archive---------4-----------------------#2022-09-19">https://javascript.plainenglish.io/advanced-typescript-with-code-challenges-class-decorators-afd9043d41f6?source=collection_archive---------4-----------------------#2022-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f952" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">装饰器提供了一种为类声明和成员添加注释的方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5b698621cee9ace700561513eecd9cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jUBpz0DE_5DSUvDOk_3ZJg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo template by <a class="ae kv" href="https://www.pexels.com/de-de/@rachel-claire?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Rachel Claire</a> from <a class="ae kv" href="https://www.pexels.com/de-de/foto/natur-feld-trocken-tier-4577793/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="27a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将学习打字稿<strong class="ky ir">装饰</strong>。Decorator遵循同名结构软件<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9">的设计原则<strong class="ky ir"> Decorator </strong> </a>，为扩展功能提供了子类化的灵活替代方案。</p><p id="9936" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要了解关于高级TypeScript特性的更多信息，请查看我的其他文章。以下是一个概述:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Overview TypeScript Features</figcaption></figure><div class="lu lv gp gr lw lx"><a href="https://web-highlights.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Web亮点— PDF和Web荧光笔</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Web Highlights是一个在Web上突出显示文本的工具，可以更有效地组织您的研究。提升你的…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">web-highlights.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="bf95" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">装饰者</h1><p id="0bfe" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated"><strong class="ky ir">结构</strong> <strong class="ky ir">装饰</strong>模式非常强大，帮助我们防止子类的<strong class="ky ir">爆炸。</strong></p><p id="d5a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰模式的目的是动态地给一个对象附加额外的责任，并为扩展功能提供一个灵活的子类化替代方案。</p><p id="2903" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰模式在许多用例中被广泛使用和应用。只要您想，就使用该模式:</p><ul class=""><li id="d088" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr nv nw nx ny bi translated">创建大量的子类。有时太多的子类是不切实际的，并导致子类<strong class="ky ir">的爆炸</strong>来支持每一种组合。</li><li id="e361" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated">在不影响其他对象的情况下，动态地为单个对象<strong class="ky ir">添加职责</strong>。</li><li id="2698" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated">在运行时给对象<strong class="ky ir">分配额外的行为</strong>，而不破坏使用这些对象的代码。</li></ul><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">带有类型脚本示例的软件设计模式:装饰器</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">装饰模式为扩展功能提供了子类化的灵活替代方案</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mg l"><div class="oe l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="a1ff" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">打字稿装饰者</h1><p id="9bbb" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">由于类是在Typescript和ES6中引入的，Typescript也想提供支持用Decorators注释或修改类和类成员的可能性。</p><p id="8384" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实验性的Typescript Decorator特性帮助我们修饰<strong class="ky ir">类</strong>、<strong class="ky ir">方法</strong>、<strong class="ky ir">属性</strong>、<strong class="ky ir">访问器</strong>和<strong class="ky ir">参数</strong>。</p><blockquote class="of og oh"><p id="48d0" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">注释装饰器是一个实验性的特性，在未来的版本中可能会改变。——<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="56f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于这个特性仍然是实验性的，我们首先需要通过在我们的<code class="fe om on oo op b">tsconfig.json</code>的<code class="fe om on oo op b">compilerOptions</code>中设置<code class="fe om on oo op b">experimentalDecorators</code>到<code class="fe om on oo op b">true</code>来启用它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="bc6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦这个额外的设置完成，我们就可以创建装饰函数，可以在它前面加一个<code class="fe om on oo op b">@</code>来使用。</p><blockquote class="of og oh"><p id="e45f" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">装饰者使用形式<code class="fe om on oo op b">@expression</code>，其中<code class="fe om on oo op b">expression</code>必须计算出一个函数，这个函数将在运行时用被装饰声明的信息来调用。——<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="79b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，这里有一个非常简单的例子，说明如何创建一个名为<code class="fe om on oo op b">logMessage</code>的<strong class="ky ir">类</strong> <strong class="ky ir">装饰器</strong>函数，一旦创建了该类的一个对象，该函数将返回一个内部函数来简单地打印出一个<code class="fe om on oo op b">message</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="00c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">拥有一个内部函数的概念叫做<strong class="ky ir">装饰工厂</strong>，它使我们能够传递参数。</p><blockquote class="of og oh"><p id="bf93" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated"><em class="iq">要配置你的装饰者在某个场景中有不同的行为，你可以使用一个叫做</em> <strong class="ky ir"> <em class="iq">装饰者工厂</em> </strong> <em class="iq">的概念。—</em><a class="ae kv" href="https://blog.logrocket.com/a-practical-guide-to-typescript-decorators/" rel="noopener ugc nofollow" target="_blank"><em class="iq">blog . log rocket . com/a-practical-guide-to-typescript-decorators</em></a></p></blockquote><p id="07ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以使用<code class="fe om on oo op b">@logMessage('some Message')</code>注释任何类。假设我们有一个<code class="fe om on oo op b">User</code>类，我们像这样使用装饰器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="b1bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每次创建新用户时，我们都会在控制台中看到一条新消息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/80a0a65db6a86ca4f8a208b046ff9ef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*xlkJaRgAv0yR30MpaLJ7Qw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Screenshot console</figcaption></figure><p id="7439" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里是上面例子的打字稿playground 。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="4490" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个非常简单的例子。但是Typescript decorators可能更有用，也更复杂。有五种装饰者:</p><ul class=""><li id="3485" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr nv nw nx ny bi translated"><strong class="ky ir">类装修工</strong></li><li id="adc7" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-method-decorators-dd87b0897d5e"> <strong class="ky ir">方法装饰者</strong> </a></li><li id="5e6a" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><a class="ae kv" href="https://medium.com/p/88c757cd3435" rel="noopener"> <strong class="ky ir">访问者装饰者</strong> </a></li><li id="7257" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">物业装修工</strong></li><li id="bda7" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">参数装饰者</strong></li></ul><p id="70ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我看来，详细查看每种类型的装饰器是有意义的，因为Typescript装饰器是更复杂的特性之一。在本文中，我们将仔细观察<strong class="ky ir">类装饰器</strong>和<strong class="ky ir"> </strong>做一个代码挑战来内在化这个特性。</p><p id="5468" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在接下来的文章中，我们将会看到我在这里链接的其他类型的装饰者。你也可以只<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>我的故事，以免错过。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="eb9b" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">班级装饰者</h1><p id="4699" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">在前面的例子中，我们已经看到了一个非常简单的类装饰器。让我们通过扩展我们的<code class="fe om on oo op b">User</code>类的构造函数来创建一个更有用的。我们想创建一个<code class="fe om on oo op b">@admin</code>装饰器来给我们的类添加一些功能。</p><p id="014e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是我们的<code class="fe om on oo op b">User</code>类目前的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">User class</figcaption></figure><p id="566c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您将一个函数作为装饰器附加到一个类时，您会收到作为第一个参数的<strong class="ky ir">类构造函数</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="d840" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想在类中覆盖或添加新的属性，您可以返回一个扩展其构造函数的新类:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Class decorators</figcaption></figure><p id="c9f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们创建我们的<code class="fe om on oo op b">@admin</code>装饰器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Admin decorator</figcaption></figure><p id="22e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个函数现在可以在我们的<code class="fe om on oo op b">User</code>类中进行修饰，并将<code class="fe om on oo op b">onlyAdminsFunction</code>添加到这个类中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="2d10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，您可以轻松地向一个类中添加多个decorators。创建一个新的<code class="fe om on oo op b">User</code>类对象将使我们能够调用<code class="fe om on oo op b">onlyAdminsFunction()</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="362e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是日志:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/8f284e2eee43b66b36847b0df68d5b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*KL9qbXJzeOcC3Az1PP4osw.png"/></div></figure><p id="0a3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，装饰器没有更改该类的Typescript类型，因此我们会看到以下Typescript错误:</p><blockquote class="of og oh"><p id="9037" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">类型“User”上不存在属性“onlyAdminsFunction”。</p></blockquote><p id="5b9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不幸的是，装饰者不能影响Typescript类型的结构。这意味着我们必须在这里与<code class="fe om on oo op b">@ts-ignore</code>合作。如果在这里实现类型安全是可能的，请留下评论。我很想知道！</p><p id="4787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/GYVwdgxgLglg9mABAGzgcwLIFMDOOCGaWAFALa4FEBciOUATjGGgJQ0DCy+eAIlhHHr4ogxAG8AUIkT0sUEPSShIsBImJtEANzgwAJuKnTEAsDjjIsAOlRoyFQlhZGAvhLcTTdRPj2kmiAC86iA4WPTsCHT0INCCNGBYAO7qLEEAfIgAqmH0mokpGhnZuYgAZOKICMgAngCCfkw4AGLg0PBgNEWBmTr6iC7FktKy8oomXHiIWAAeUFhgejiIoeGRZgyxIvSGxlVgtQ3+Zq0qHUXDeyZRFta2xADkfJawzCu5DywA3EbSbn-uCQSAACvmOINs2DwjkeOXCJlkwiwek+nkmyzhO0uWFI+BgyAAhDRokw0D8PJ4olB3vDggUSuEND8JAB6FmIABycHmiCgAAthLy+VhEHp+IJhKIAPp6OC4RBgblSkwC5gi-kigAqNQADlgAMoQRg66lQXVYVns-CLWhwIUi+k6+hwPX0M2IAAGsh1gleaCyACUADIexAwZaK6kAa0VSTAlt5do1vPNtBqdBxVAkq3oVmq9UaJzaqjATKAA" rel="noopener ugc nofollow" target="_blank">这里是class decorator示例的类型脚本playground </a>。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="b246" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">代码挑战💻</h1><p id="0748" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我们已经学习了如何通过使用我们的<code class="fe om on oo op b">@admin</code>装饰器对具有<code class="fe om on oo op b">onlyAdminsFunction()</code>函数的<code class="fe om on oo op b">User</code>类进行注释来扩展它。</p><p id="f906" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们希望我们的<code class="fe om on oo op b">User</code>类有额外的属性。我们希望它有一个<code class="fe om on oo op b">image</code>和<code class="fe om on oo op b">displayName</code>属性，但不想修改现有的类。这就是为什么我们将创建一个<code class="fe om on oo op b">@displayable</code>装饰器来动态修改我们的类。</p><p id="ea40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">新的<code class="fe om on oo op b">displayable</code> decorator函数应该接受两个参数，并将它们传递给新创建的<code class="fe om on oo op b">class</code>对象的属性。注意，decorators不改变TypeScript类型，所以可以使用<code class="fe om on oo op b">@ts-ignore</code>来访问新的属性。</p><h2 id="0e17" class="os mu iq bd mv ot ou dn mz ov ow dp nd lf ox oy nf lj oz pa nh ln pb pc nj pd bi translated">密码</h2><p id="1386" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">这里是的<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/PQKgUGDqCmAEAWBDAbnRAbATtRATAnrOjpgHbS4ID2A7rAC5WzQAe90plVArprAKoBnaHwDG6RIMEIUAS1IBzWIlhgqpdPgCCuALbzBAMW6lR9WeoAUASlgAzE2YulYAI0KJSpKvUTnFsLL0sNyC8ko8fAACePouuNCiVJh+yQB0qmAAcrQANLA0cDSewZECwmISUgxMSKjKuLhBzhiwAA6YVG0i5tCCGVBFJYHBjDL1noG6iAponLBNgm0S+FmIumj09JiyrtzsbvsL6gDkwcWko0xgulRNdoT08HCssoL+SuKS-bAAKkj0AAG0ho8EIhQKsnQ6FgomwfjQsCii2WiHwiFcxAWiWSqT4YDGt3uhDKX2qBFI61kogwmjSEH+cHIdBRKwxWISSRSjD4DlM5nUsEE8B46EovgA1nB5AxngwaEw2ogUht2JhpGBPJQldUntBdDVZXAOl0erI+rAqHYjbBmZpYfD2JQydIqK4AFaJegDbI+alwJ5+bFcvHSXBMbzBURIRQBuW-fDdADKcNkbVGibggiYgeCQUC0js8jgBKYCswEshTyR9EEAFpZApvNhDYhRKI+tI9bboHQTd1ML1+hAQMAIHynIL0FQFABZTszaCWDZSRcALiF23C1g3AGEqoIACI47nJWAAbzAsFg2HovBcE4FLhsG+QVFklEv1+vSVI2eIaTTgoy4LrM1hXrAAC+YDQWAv7vA0cSwAAvLAlihCIu7qO8mDcGYyQbsyaG2MhAB85QiDuPZ0DYKHkUIIiwAAZBeloaNoegGMY-LOButFkbAb4flBdEXhBt73rCB7MGwHC4NIGGYFhf7bHhPJid+bGaDocRGI4T60V+mmwthVAAUBlgnMexAfCEFQnNYADcEHXtBrkwRAyJvKi6KYkuJwAFKCoeVDQCc+QnNmGwNtMsxpG0igOWAMScaQyVAfOq6zJZDFiI6FBJS6FF8EZ+qIFCACEG44eEzmwXB2HBIpKHUcVNjOWAwDALAOQHLmNqcri6kAPrhhakbDbCMazDaCbJqm6YMJmnXdVqQo5nKRH9j0hCAtgbTJB8-AAEoADKAgWto+LAEreDQaVdYa3b0JmQr4O8+pritNb1o2zbQGAilpOo2mpXpPFWE5ECPVEtYNk2yQA-BZnQIBM7oRUaSsmiawbFDMNw39iMNX+KNo8BQOyLF0BOUAA" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">启动代码</strong> </a>，它包含一些错误，可以通过创建正确的<code class="fe om on oo op b">displayable</code>类装饰函数来修复。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="73aa" class="os mu iq bd mv ot ou dn mz ov ow dp nd lf ox oy nf lj oz pa nh ln pb pc nj pd bi translated">解决办法</h2><p id="f185" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">下面是<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/PQKgUGDqCmAEAWBDAbnRAbATtRATAnrOjpgHbS4ID2A7rAC5WzQAe90plVArprAKoBnaHwDG6RIMEIUAS1IBzWIlhgqpdPgCCuALbzBAMW6lR9WeoAUASlgAzE2YulYAI0KJSpKvUTnFsLL0sNyC8ko8fAACePouuNCiVJh+yQB0qmAAcrQANLA0cDSewZECwmISUgxMSKjKuLhBzhiwAA6YVG0i5tCCGVBFJYHBjDL1noG6iAponLBNgm0S+FmIumj09JiyrtzsbvsL6gDkwcWko0xgulRNdoT08HCssoL+SuKS-bAAKkj0AAG0ho8EIhQKsnQ6FgomwfjQsCii2WiHwiFcxAWiWSqT4YDGt3uhDKX2qBFI61kogwmjSEH+cHIdBRKwxWISSRSjD4DlM5nUsEE8B46EovgA1nB5AxngwaEw2ogUht2JhpGBPJQldUntBdDVZXAOl0erI+rAqHYjbBmZpYfD2JQydIqK4AFaJegDbI+alwJ5+bFcvHSXBMbzBURIRQBuW-fDdADKcNkbVGibggiYgeCQUC0js8jgBKYCswEshTyR9EEAFpZApvNhDYhRKI+tI9bboHQTd1ML1+hAQMAIHynIL0FQFABZTszaCWDZSRcALiF23C1g3AGEqoIACI47nJWAAbzAsFg2HovBcE4FLhsG+QVFklEv1+vSVI2eIaTTgoy4LrM1hXrAAC+YDQWAv7vA0cSwAAvLAlihCIu7qO8mDcGYyQbsyaG2MhAB85QiDuPZ0DYKHkUIIiwAAZBeloaNoegGMY-LOButFkbAb4flBdEXhBt73rCB7MGwHC4NIGGYFhf7bHhPJid+bGaDocRGI4T60V+mmwthVAAUBlgnMexAfCEFQnNYADcEHXtBrkweO+nOAsbyouimJLqyaJrBsG44eE+SyNMsxhVuii2EZElkPYXmCuhFTKThakEdRxGiQxmAJS5N7QHeyUujJ7CcApGXYap+F8EZmlBas6xwKhLUhdAznGVMi4oX1sw9d+blQR5YDIr5bIBZZABSgqHlQ0AnPkJzZhsDbRdAaRtIoDkTbE8gTUB86rrMlkFQ6OBOvtFWXUZ+qIFCACEsU7IozmwXBdV2YxqFEQVNjOWAwDALAOQHLmNqcri6kAPrhhakZw7CMazDaCbJqm6YMJmINg1qQo5nKRH9j0hCAtgbTJB8-AAEoADKAgWto+LAEreDQpD44a3b0JmQr4O8+prjzUS1g2TbJNAYCKWk6jaZxf7cZOpBAxAoM1vWjbNjL8FmdtFly51bVOWLEs69L31-gbgEzulIhpFFi5OUAA" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">解</strong> </a>为练习题:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="d4e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个练习的棘手之处在于，我们需要在我们的装饰器周围包装另一个函数，因为我们将参数传递给了<code class="fe om on oo op b">@displayable</code>注释。那是我们的<strong class="ky ir">装潢厂</strong>。</p><p id="1b81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，我们可以扩展<code class="fe om on oo op b">User</code>类，使其具有额外的属性<code class="fe om on oo op b">displayName</code>和<code class="fe om on oo op b">image</code>，并为函数的参数赋值。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="f8fd" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">最后的想法</h1><p id="4696" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我希望你喜欢阅读这篇文章。我总是乐于回答问题，并乐于接受批评。随时欢迎联系我！通过<strong class="ky ir"/><a class="ae kv" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir">，</strong>关注我<strong class="ky ir"/><a class="ae kv" href="https://twitter.com/MariusBongarts" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Twitter</strong></a>或<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>通过电子邮件获取我的故事。</p><p id="7d66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="ky ir">这里是无限制访问媒体</strong> </a>上每一个内容的链接。如果你注册使用这个链接，我会赚一小笔钱，不需要你额外付费。</p><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pe l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="4bee" class="os mu iq bd mv ot ou dn mz ov ow dp nd lf ox oy nf lj oz pa nh ln pb pc nj pd bi translated">关于作者</h2><p id="206e" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我是埃森哲软件工程分析师宋。我们一直在寻找最好的开发人员，所以如果你有兴趣加入我们，请随时联系我们！</p><p id="3fe5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最驱动我的是我想创造一些对他人有帮助和改变生活的东西的冲动🙌比如你是否厌倦了浏览自己的历史来寻找前几天看到的信息？我的<a class="ae kv" href="https://chrome.google.com/webstore/detail/web-highlights-%20-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">网站重点介绍Chrome扩展</strong> </a>覆盖了你，并且将通过以结构化和高效的方式组织你的研究来提高你的生产力。就像你在书和文章上做的那样，突出显示任何网页或PDF上的文本。你的精彩片段会直接同步到web-highlights.com的网络应用上，你可以在任何地方找到它们。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="2e40" class="os mu iq bd mv ot ou dn mz ov ow dp nd lf ox oy nf lj oz pa nh ln pb pc nj pd bi translated">进一步阅读</h2><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">我的第一个9.99美元之旅与我的副业</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Chrome扩展带来的被动收入</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pf l mi mj mk mg ml kp lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/will-web-components-replace-frontend-frameworks-535891d779ba" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Web组件会取代前端框架吗？</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">它们是为解决不同的问题而构建的。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pg l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="ac93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oi">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">plain English . io</em></strong></a><em class="oi">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">免费周报</em> </strong> </a> <em class="oi">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">LinkedIn</em></strong></a><em class="oi"/><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">YouTube</em></strong></a><em class="oi"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">不和</em> </strong> </a> <em class="oi">。对增长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">电路</em> </strong> </a> <em class="oi">。</em></p></div></div>    
</body>
</html>