<html>
<head>
<title>4 Cool Language Tricks with the Intl JavaScript API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Intl JavaScript API的4个很酷的语言技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-cool-language-tricks-with-the-intl-javascript-api-ec6cd0a94a94?source=collection_archive---------2-----------------------#2022-10-29">https://javascript.plainenglish.io/4-cool-language-tricks-with-the-intl-javascript-api-ec6cd0a94a94?source=collection_archive---------2-----------------------#2022-10-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8b4499bfe7a8599595b79a66fdd8749e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3U3uN1O25sIVx-C7"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@cifilter?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Shannon Potter</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f0fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">是ECMAScript国际化API。它为数字、日期、列表等提供了对语言敏感的格式。这里有4个真正有用的东西可以用这个API来做。</p><h1 id="9a97" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">序数</strong></h1><p id="4f75" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">序数是表示位置的数字，如1、2、3。我们可以使用<code class="fe lb lc ld le b">PluralRules</code>构造函数，设置为类型<code class="fe lb lc ld le b">ordinal</code>，并根据返回值将响应映射到一系列后缀。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="5e9e" class="mq lg iq le b gy mr ms l mt mu">const suffixes = new Map([<br/>  ['one',   'st'],<br/>  ['two',   'nd'],<br/>  ['few',   'rd'],<br/>  ['other', 'th'],<br/>]);</span><span id="2fae" class="mq lg iq le b gy mv ms l mt mu">const formatter = new Intl.PluralRules('en-US', { type: 'ordinal' });</span><span id="4e50" class="mq lg iq le b gy mv ms l mt mu">const numberToOrdinal = (n) =&gt; {<br/>  const suffix = suffexes.get(formatter.select(n));<br/>  return `${n}${suffix}`;<br/>};</span></pre><p id="d89c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要转换一个数字，我们只需将它传递给<code class="fe lb lc ld le b">numberToOrdinal</code>方法。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="e0f8" class="mq lg iq le b gy mr ms l mt mu">numberToOrdinal(1) // '1st'<br/>numberToOrdinal(2) // '2nd'<br/>numberToOrdinal(11) // '11th'<br/>numberToOrdinal(33); // '33rd'</span></pre><h1 id="c283" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">列表格式</strong></h1><p id="e961" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">如果你想显示一个字符串数组，你可以使用<code class="fe lb lc ld le b">Intl.ListFormat</code>构造函数来代替<code class="fe lb lc ld le b">.join(', ')</code>调用，从而获得简单国际化的额外好处。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="a49f" class="mq lg iq le b gy mr ms l mt mu">// Conjunction<br/>const formatter = new Intl.ListFormat('en-US', { style: 'long' })<br/>formatter.format(['apple', 'orange', 'banana']) // 'apple, orange, and banana'</span><span id="12e2" class="mq lg iq le b gy mv ms l mt mu">// Disjunction<br/>const formatter = new Intl.ListFormat('en-US', { style: 'long', type: 'disjunction' })<br/>formatter.format(['apple', 'orange', 'banana']) // 'apple, orange, or banana'</span><span id="b9f4" class="mq lg iq le b gy mv ms l mt mu">// German Conjunction<br/>const formatter = new Intl.ListFormat('de', { style: 'long' })<br/>formatter.format(['apple', 'orange', 'banana']) // 'apple, orange und banana'</span></pre><h1 id="e199" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">大数格式</strong></h1><p id="8c31" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated"><code class="fe lb lc ld le b">NumberFormat</code>有助于将较大的数字格式化成可读性更强的东西。例如，您可以用乘法单位显示一个紧凑的数字(如“m”代表百万或“k”代表千)以减少它所占的空间。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="9cf9" class="mq lg iq le b gy mr ms l mt mu">const formatter = new Intl.NumberFormat('en-US', { notation: 'compact' })<br/>formatter.format(87654321) // '88M'</span></pre><p id="5341" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，如果你只是想在数字之间用逗号分隔，那么“标准”符号就很容易做到。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="34e8" class="mq lg iq le b gy mr ms l mt mu">const formatter = new Intl.NumberFormat('en-US', { notation: 'standard' })<br/>formatter.format(87654321) // '87,654,321'</span></pre><p id="b6a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你甚至可以格式化科学数字。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="bf82" class="mq lg iq le b gy mr ms l mt mu">const formatter = new Intl.NumberFormat('en-US', { notation: 'scientific' })<br/>formatter.format(87654321) // '8.765E7'</span></pre><h1 id="781a" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">翻译国家和地区名称</strong></h1><p id="c652" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">使用<code class="fe lb lc ld le b">DisplayNames</code>构造函数，我们可以将国家和地区名称翻译成用户偏好的语言。我们将<code class="fe lb lc ld le b">type</code>设置为region，并调用传递区域代码的<code class="fe lb lc ld le b">of</code>方法。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="2f53" class="mq lg iq le b gy mr ms l mt mu">const formatter = new Intl.DisplayNames('en-US', { type: 'region' })<br/>formatter.of('us') // United States</span><span id="7902" class="mq lg iq le b gy mv ms l mt mu">const formatter = new Intl.DisplayNames('it', { type: 'region' })<br/>formatter.of('us') // Stati Uniti</span></pre><h1 id="ff60" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">奖励:自动检测用户的语言</strong></h1><p id="fa5a" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">通过将第一个参数(<code class="fe lb lc ld le b">locales</code>)保留为<code class="fe lb lc ld le b">undefined</code>，我们告诉JavaScript自动检测用户的语言。</p><pre class="mi mj mk ml gt mm le mn mo aw mp bi"><span id="0eab" class="mq lg iq le b gy mr ms l mt mu">// My English configured laptop<br/>const formatter = new Intl.ListFormat(undefined, { style: 'long' })<br/>formatter.format(['apple', 'orange', 'banana']) // 'apple, orange and banana'</span><span id="f5a0" class="mq lg iq le b gy mv ms l mt mu">// Someone's German configured laptop<br/>const formatter = new Intl.ListFormat(undefined, { style: 'long' }) // 'apple, orange und banana'</span></pre><h1 id="36f0" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">资源</strong></h1><p id="0626" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">- <code class="fe lb lc ld le b"><a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl" rel="noopener ugc nofollow" target="_blank">Intl</a></code> <a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl" rel="noopener ugc nofollow" target="_blank"> API参考— MDN </a></p><p id="4477" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a><em class="mw">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们上</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">LinkedIn</em></strong></a><strong class="kf ir"><em class="mw"/></strong><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">YouTube</em></strong></a><strong class="kf ir"><em class="mw"/></strong><em class="mw">和</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">不和</em> </strong> </a>  <em class="mw">对成长黑客感兴趣？检查</em> <a class="ae kc" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">电路</em> </strong> </a> <strong class="kf ir"> <em class="mw">。</em> </strong></p></div></div>    
</body>
</html>