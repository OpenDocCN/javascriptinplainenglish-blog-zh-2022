<html>
<head>
<title>Type Challenges: Implement the Built-In Pick<t k=""> Utility Type</t></title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型挑战:实现内置Pick <t k="">实用程序类型</t></h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/type-challenges-implement-the-built-in-pick-t-k-utility-type-90f1970f121c?source=collection_archive---------8-----------------------#2022-10-06">https://javascript.plainenglish.io/type-challenges-implement-the-built-in-pick-t-k-utility-type-90f1970f121c?source=collection_archive---------8-----------------------#2022-10-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dbb1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Master TypeScript挑选通用的，一起完成类型挑战，巩固你的打字知识。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1b6a695f9da66872fb3d1773fc49b451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b4_YTmRzI-yABERb5eB8NQ.jpeg"/></div></div></figure><p id="b258" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">欢迎来到<strong class="kt ir">掌握打字稿</strong>系列，这个系列有几十篇文章。为了帮助读者更好地巩固自己的TypeScript知识，我从Github上的<a class="ae ln" href="https://github.com/type-challenges/type-challenges" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">type-challenges</strong></a>资源库中挑选了几十个挑战，和大家一起完成type challenge。</p><div class="lo lp gp gr lq lr"><a href="https://medium.com/frontend-canteen/with-these-articles-you-will-not-be-confused-when-learning-typescript-d96a5c99e229" rel="noopener follow" target="_blank"><div class="ls ab fo"><div class="lt ab lu cl cj lv"><h2 class="bd ir gy z fp lw fr fs lx fu fw ip bi translated">有了这些文章，你在学习TypeScript的时候就不会迷茫了</h2><div class="ly l"><h3 class="bd b gy z fp lw fr fs lx fu fw dk translated">通过生动的动画，让你轻松了解TypeScript的难点和核心知识！不断地…</h3></div><div class="lz l"><p class="bd b dl z fp lw fr fs lx fu fw dk translated">medium.com</p></div></div><div class="ma l"><div class="mb l mc md me ma mf kp lr"/></div></div></a></div><blockquote class="mg mh mi"><p id="b7ba" class="kr ks mj kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">通过生动的动画，让你轻松了解TypeScript的难点和核心知识！<strong class="kt ir">持续更新~~~ </strong></p></blockquote><h1 id="d8bf" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">挑战</h1><p id="29fa" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">实现内置的<code class="fe nk nl nm nn b">Pick&lt;T, K&gt;</code>泛型而不使用它。通过从<code class="fe nk nl nm nn b">T</code>中选取属性集<code class="fe nk nl nm nn b">K</code>来构造类型。</p><p id="bf26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如:</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="216c" class="ns mo iq nn b gy nt nu l nv nw">interface Todo {<br/>  title: string<br/>  description: string<br/>  completed: boolean<br/>}</span><span id="ad3f" class="ns mo iq nn b gy nx nu l nv nw">type TodoPreview = MyPick&lt;Todo, 'title' | 'completed'&gt;</span><span id="9225" class="ns mo iq nn b gy nx nu l nv nw">const todo: TodoPreview = {<br/>    title: 'Clean room',<br/>    completed: false,<br/>}</span></pre><h1 id="99e1" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">解决办法</h1><p id="7351" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">我们的类型挑战是实现内置的<code class="fe nk nl nm nn b">Pick&lt;Type,Keys&gt;</code>泛型，所以让我们先了解一下<code class="fe nk nl nm nn b">Pick&lt;Type,Keys&gt;</code>泛型是做什么的。</p><h2 id="9b1f" class="ns mo iq bd mp ny nz dn mt oa ob dp mx la oc od mz le oe of nb li og oh nd oi bi translated">选择<type keys=""/></h2><p id="e4ee" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">通过从<code class="fe nk nl nm nn b">Type</code>中挑选一组属性<code class="fe nk nl nm nn b">Keys</code>(字符串或字符串的并集)来构造类型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/97c573df839cd3b9f9729ffa290df02a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P5BnL1MpvpTyoXhu2ki9iQ.jpeg"/></div></div></figure><p id="3b82" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在JavaScript中，我们处理对象，在TypeScript中，我们处理类型。为了在JavaScript中实现类似的东西，我们可以很容易地实现一个<code class="fe nk nl nm nn b">Pick</code>函数:</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="4dbe" class="ns mo iq nn b gy nt nu l nv nw">function Pick(obj, keys) {<br/>  const ret = {};<br/>  for (const key of keys) {<br/>    ret[key] = obj[key];<br/>  }<br/>  return ret;<br/>}</span><span id="93ec" class="ns mo iq nn b gy nx nu l nv nw">const user = {<br/>  name: "bytefer",<br/>  password: "123456",<br/>  address: "XXX",<br/>  phone: "YYY",<br/>};</span><span id="55f9" class="ns mo iq nn b gy nx nu l nv nw">const PickedUser = Pick(user, ["name", "address"]);<br/>// PickedUser =&gt; { name: 'bytefer', address: 'XXX' }</span></pre><p id="e7e8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上面的<code class="fe nk nl nm nn b">Pick</code>函数从传入的obj对象中选取包含在keys数组中的属性，以形成一个新对象。对于TypeScript的<code class="fe nk nl nm nn b">Pick</code>泛型，它的能力是将现有的对象类型转换成新的对象类型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8d67d9648a7b9f2cfd9c348e1f2aed01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2abSQCWs8SyzCSXZs7kcqQ.jpeg"/></div></div></figure><p id="6a20" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了实现上面的类型转换，我们需要能够迭代传入的键的类型，并返回新的对象类型。对于这个需求，我们需要使用TypeScript提供的<strong class="kt ir">映射类型</strong>。</p><h2 id="6d2e" class="ns mo iq bd mp ny nz dn mt oa ob dp mx la oc od mz le oe of nb li og oh nd oi bi translated">映射类型</h2><p id="ffa9" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated"><strong class="kt ir">映射类型</strong>的语法如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/76de5401a4d68791fe5efa8057d15833.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7iuvURZie0JxNSmuAQe94w.jpeg"/></div></div></figure><p id="e7a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其中K 中的<strong class="kt ir"> P类似于JavaScript <code class="fe nk nl nm nn b">for...in</code>语句，用于迭代K类型中的所有类型，T类型变量，用于表示TypeScript中的任意类型。</strong></p><p id="8285" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">介绍完相关知识，我们来定义一个<code class="fe nk nl nm nn b">MyPick</code>泛型。</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="28f6" class="ns mo iq nn b gy nt nu l nv nw">type MyPick&lt;T, K extends keyof T&gt; = {<br/>  [P in K]: T[P];<br/>};</span></pre><p id="b401" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在上面的代码中，<code class="fe nk nl nm nn b">T</code>和<code class="fe nk nl nm nn b">K</code>被称为类型参数，类似于<code class="fe nk nl nm nn b">Pick</code>函数中的参数。<code class="fe nk nl nm nn b">keyof</code>操作符用于获取一个类型中的所有键，其返回类型是联合类型。如果<code class="fe nk nl nm nn b">keyof</code>操作一个对象类型，它的功能类似于<code class="fe nk nl nm nn b">Object.keys</code>方法。</p><p id="c710" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">而<code class="fe nk nl nm nn b">K extends keyof T</code>是泛型约束，用于约束类型参数<code class="fe nk nl nm nn b">K</code>对应的实际类型是由对象类型的所有键组成的联合类型的子类型。<code class="fe nk nl nm nn b">T[P]</code>用于获取T类型中P属性对应的类型，其中类型变量P的值在遍历过程中会不断变化。</p><p id="d275" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了更好地理解上述内容，让我们来看看实际的映射过程:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/e0ac7e83eaa0d579530fa7819cf91d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qo48Z8jJEtHkp4dEoD9N2Q.gif"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d5e08666f616444cd0311f6f3e11e287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TvSlFqkDhO-YmwN_6dD1YA.jpeg"/></div></div></figure><h2 id="df41" class="ns mo iq bd mp ny nz dn mt oa ob dp mx la oc od mz le oe of nb li og oh nd oi bi translated">完全码</h2><p id="e2c5" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">最后，让我们看看完整的代码:</p><pre class="kg kh ki kj gt no nn np nq aw nr bi"><span id="8727" class="ns mo iq nn b gy nt nu l nv nw">interface Todo {<br/>  title: string;<br/>  description: string;<br/>  completed: boolean;<br/>}</span><span id="0af9" class="ns mo iq nn b gy nx nu l nv nw">type MyPick&lt;T, K extends keyof T&gt; = {<br/>  [P in K]: T[P];<br/>};</span><span id="3d3c" class="ns mo iq nn b gy nx nu l nv nw">type TodoPreview = MyPick&lt;Todo, "title" | "completed"&gt;;</span><span id="0bb3" class="ns mo iq nn b gy nx nu l nv nw">const todo: TodoPreview = {<br/>  title: "Clean room",<br/>  completed: false,<br/>};</span></pre><p id="c10c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个挑战涉及的主要知识是TypeScript的<strong class="kt ir">映射类型</strong>。如果您想了解更多关于<strong class="kt ir">映射类型</strong>的信息，您可以阅读以下文章:</p><div class="lo lp gp gr lq lr"><a rel="noopener  ugc nofollow" target="_blank" href="/using-typescript-mapped-types-like-a-pro-be10aef5511a"><div class="ls ab fo"><div class="lt ab lu cl cj lv"><h2 class="bd ir gy z fp lw fr fs lx fu fw ip bi translated">像专业人员一样使用TypeScript映射类型</h2><div class="ly l"><h3 class="bd b gy z fp lw fr fs lx fu fw dk translated">映射类型—用动画解释。掌握TypeScript映射类型并理解TypeScript的内置…</h3></div><div class="lz l"><p class="bd b dl z fp lw fr fs lx fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ma l"><div class="ok l mc md me ma mf kp lr"/></div></div></a></div><p id="eba4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果遇到不清楚的内容，可以给我留言。如果你喜欢学习动画形式的TypeScript，可以在<a class="ae ln" href="https://medium.com/@bytefer" rel="noopener"> Medium </a>或者<a class="ae ln" href="https://twitter.com/Tbytefer" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，了解更多关于TS和JS的内容！</p><h1 id="9400" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">资源</h1><div class="lo lp gp gr lq lr"><a href="https://github.com/type-challenges/type-challenges/blob/main/questions/00004-easy-pick/README.md" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab fo"><div class="lt ab lu cl cj lv"><h2 class="bd ir gy z fp lw fr fs lx fu fw ip bi translated">type-challenges/readme . MD at main type-challenges/type-challenges</h2><div class="ly l"><h3 class="bd b gy z fp lw fr fs lx fu fw dk translated">收集打字稿类型的挑战与在线法官类型的挑战/README.md在主…</h3></div><div class="lz l"><p class="bd b dl z fp lw fr fs lx fu fw dk translated">github.com</p></div></div><div class="ma l"><div class="ol l mc md me ma mf kp lr"/></div></div></a></div></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><p id="1766" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mj">更多内容请看</em><a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mj">plain English . io</em></strong></a><em class="mj">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mj">免费周报</em> </strong> </a> <em class="mj">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mj">Twitter</em></strong></a><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mj">LinkedIn</em></strong></a><em class="mj"/><a class="ae ln" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mj">YouTube</em></strong></a><em class="mj"/><a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mj">不和</em> </strong> </a> <em class="mj">。对增长黑客感兴趣？检查</em> <a class="ae ln" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mj">电路</em> </strong> </a> <em class="mj">。</em></p></div></div>    
</body>
</html>