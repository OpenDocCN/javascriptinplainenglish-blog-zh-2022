<html>
<head>
<title>How to Listen to the Form Submit Event in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中监听表单提交事件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-listen-to-the-form-submit-event-in-javascript-f991b6dac01a?source=collection_archive---------1-----------------------#2022-10-26">https://javascript.plainenglish.io/how-to-listen-to-the-form-submit-event-in-javascript-f991b6dac01a?source=collection_archive---------1-----------------------#2022-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/839ac291bbba9e9c3a516e491f35f96e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0-COKviImMHjklbg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Austin Distel</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0667" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们希望用JavaScript来监听表单提交事件，这样我们就可以在客户端对表单数据做一些事情。</p><p id="b817" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何用JavaScript监听表单提交事件。</p><h1 id="8afd" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">监听提交事件</h1><p id="f96e" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以监听表单的<code class="fe me mf mg mh b">submit</code>事件来观察表单提交按钮的按下情况。</p><p id="66fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，如果我们有以下形式:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="09a8" class="mq lc iq mh b gy mr ms l mt mu">&lt;form&gt;<br/>  &lt;input type="text" name="name"&gt;<br/>  &lt;input type="submit" name="submit"&gt;<br/>&lt;/form&gt;</span></pre><p id="2793" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="0b13" class="mq lc iq mh b gy mr ms l mt mu">const form = document.querySelector("form")<br/>form.addEventListener("submit", (e) =&gt; {<br/>  e.preventDefault();<br/>  const formData = new FormData(form)<br/>  console.log(formData.entries())<br/>});</span></pre><p id="7158" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">监听表单提交事件，并使用<code class="fe me mf mg mh b">FormData</code>构造函数从表单中获取数据。</p><p id="35df" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">document.querySelector</code>得到表格。</p><p id="fa63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们用<code class="fe me mf mg mh b">'submit'</code>作为第一个参数调用<code class="fe me mf mg mh b">addEventListener</code>。</p><p id="7e25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">addEventListener</code>的第二个参数是一个回调函数，它在表单提交时处理表单。</p><p id="3f2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在回调中，我们调用<code class="fe me mf mg mh b">e.preventDefault()</code>来停止服务器端的表单提交行为。</p><p id="dbf7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用带有我们选择的<code class="fe me mf mg mh b">form</code>元素的<code class="fe me mf mg mh b">FormData</code>构造函数来获取它的值。</p><p id="be31" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们使用<code class="fe me mf mg mh b">entries</code>方法获得输入的值。</p><p id="34ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它返回带有表单值的键值对的迭代器。</p><p id="02ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每个条目的关键字是字段的<code class="fe me mf mg mh b">name</code>属性值。</p><p id="42c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而值就是值。</p><p id="99dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果我们在文本字段中输入“aaa ”,我们会得到:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="378c" class="mq lc iq mh b gy mr ms l mt mu">[<br/>  [<br/>    "name",<br/>    "aaa"<br/>  ]<br/>]</span></pre><p id="8864" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为<code class="fe me mf mg mh b">entries</code>返回的结果。</p><h1 id="cde4" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="d523" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以监听表单的<code class="fe me mf mg mh b">submit</code>事件来观察表单提交按钮的按下。</p><p id="631d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以用<code class="fe me mf mg mh b">FormData</code>构造函数得到输入的值。</p><p id="87d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mv">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">plain English . io</em></strong></a><em class="mv">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们上</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">LinkedIn</em></strong></a><strong class="kf ir"><em class="mv"/></strong><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mv">YouTube</em></strong></a><strong class="kf ir"><em class="mv"/></strong><em class="mv">和</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">不和</em> </strong> </a>  <em class="mv">对成长黑客感兴趣？检查</em> <a class="ae kc" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mv">电路</em> </strong> </a> <strong class="kf ir"> <em class="mv">。</em> </strong></p></div></div>    
</body>
</html>