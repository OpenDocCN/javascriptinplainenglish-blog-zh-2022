<html>
<head>
<title>JavaScript: How to Power Up Your Logging</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:如何启动您的日志记录</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-how-to-power-up-your-logging-bbf33064929f?source=collection_archive---------3-----------------------#2022-04-23">https://javascript.plainenglish.io/javascript-how-to-power-up-your-logging-bbf33064929f?source=collection_archive---------3-----------------------#2022-04-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="a563" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">增强您的日志记录并培养良好的开发习惯。随着代码库的增长，你需要更容易地调试它。调试中的一个重要工具是日志。本文主要关注客户端JavaScript的基本方面。</p><p id="9271" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">相反，要了解Node.js中的日志记录，请参见<a class="ae ki" href="https://medium.com/@prplcode/node-js-how-to-power-up-your-logging-8f0df7bcef93" rel="noopener"> Node.js:如何启动日志记录。</a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/5bd0957081ec58bfdb5919bf1ed42cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iGf-yM2W1z6a39ALDF-srA.png"/></div></div></figure><h1 id="bb4d" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">客户端日志记录</h1><p id="01c4" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">对于JavaScript，您的应用程序将输出的日志将在浏览器的控制台中可见。这不同于服务器端日志记录，在服务器端日志记录中，日志将被写入文件或发送到日志聚合服务器。</p><p id="af74" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">知道浏览器处理日志的方式不同很重要，但是基本原理是一样的。查看不同浏览器如何处理日志记录:</p><ul class=""><li id="4bac" class="ly lz in jm b jn jo jr js jv ma jz mb kd mc kh md me mf mg bi translated"><a class="ae ki" href="https://developer.chrome.com/docs/devtools/console/api/" rel="noopener ugc nofollow" target="_blank"> Chrome </a></li><li id="56f4" class="ly lz in jm b jn mh jr mi jv mj jz mk kd ml kh md me mf mg bi translated"><a class="ae ki" href="https://developer.mozilla.org/en-US/docs/Web/API/console" rel="noopener ugc nofollow" target="_blank">火狐</a></li><li id="6d2b" class="ly lz in jm b jn mh jr mi jv mj jz mk kd ml kh md me mf mg bi translated"><a class="ae ki" href="https://support.apple.com/guide/safari-developer/log-messages-with-the-console-dev4e7dedc90/mac" rel="noopener ugc nofollow" target="_blank"> Safari </a></li><li id="f69c" class="ly lz in jm b jn mh jr mi jv mj jz mk kd ml kh md me mf mg bi translated"><a class="ae ki" href="https://docs.microsoft.com/en-us/microsoft-edge/devtools-guide-chromium/console/console-log" rel="noopener ugc nofollow" target="_blank">微软Edge </a></li></ul><p id="24c2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">关于如何使用<code class="fe mm mn mo mp b">console</code>进行日志记录，有一个<a class="ae ki" href="https://console.spec.whatwg.org/#logging" rel="noopener ugc nofollow" target="_blank">标准</a>存在，但不幸的是，<a class="ae ki" href="https://github.com/whatwg/console/blob/main/NOTES.md" rel="noopener ugc nofollow" target="_blank">并不是所有的浏览器都尊重它</a>。</p><p id="3f39" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">很可能你已经习惯使用<code class="fe mm mn mo mp b">console.log()</code>，但是在<code class="fe mm mn mo mp b">console</code>对象上有更多的方法来增强你的日志记录！</p><h1 id="4d66" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">记录消息级别</h1><p id="e3ff" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">JavaScript支持不同级别的消息。它们都工作相同，但输出看起来不同。消息的级别传达不同的含义，例如，当出现问题时，您应该使用<code class="fe mm mn mo mp b">error</code>级别，而<code class="fe mm mn mo mp b">info</code>级别可以用于更一般的日志。</p><p id="638a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在我的例子中，我使用的是谷歌浏览器版本98.0.4758。</p><h2 id="6e83" class="mq kw in bd kx mr ms dn lb mt mu dp lf jv mv mw lj jz mx my ln kd mz na lr nb bi translated">console.log()</h2><p id="be90" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">用于常规输出。通常和<code class="fe mm mn mo mp b">info</code>一个级别。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="5b4c" class="mq kw in mp b gy ng nh l ni nj">console.log("Look at me -- I'm a simple log line");</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/c57608611b3a86ebacc8613da142cbf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*POIEeG7Ch0xc4vhd.png"/></div></div></figure><h2 id="1af3" class="mq kw in bd kx mr ms dn lb mt mu dp lf jv mv mw lj jz mx my ln kd mz na lr nb bi translated">console.info()</h2><p id="4eb5" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">通常与<code class="fe mm mn mo mp b">log</code>相同。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="4cd9" class="mq kw in mp b gy ng nh l ni nj">console.info("I look identical to log()");</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/21b60754301803d11a89e9c43a66d965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SLACZeMesyxMVY7_.png"/></div></div></figure><h2 id="dab6" class="mq kw in bd kx mr ms dn lb mt mu dp lf jv mv mw lj jz mx my ln kd mz na lr nb bi translated">console.debug()</h2><p id="bc2d" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">用于您不希望在生产应用程序日志输出中出现的详细日志。这个关卡很特别，因为你需要<a class="ae ki" href="https://support.google.com/chrome/a/answer/6271282?hl=en" rel="noopener ugc nofollow" target="_blank">自己激活</a>。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="2e7e" class="mq kw in mp b gy ng nh l ni nj">console.debug("Some debug output");</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/e8ef5be5f0a014dde0dec982a5ffbc3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PsUjf8UY8z1EpU7H.png"/></div></div></figure><h2 id="b26f" class="mq kw in bd kx mr ms dn lb mt mu dp lf jv mv mw lj jz mx my ln kd mz na lr nb bi translated">console.warn()</h2><p id="1802" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">用于警告。将消息格式化为警告，并且在某些浏览器中包含堆栈跟踪。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="6869" class="mq kw in mp b gy ng nh l ni nj">console.warn("Warning! Something might be wrong");</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/3f027c315720c5a6b4fdc62c843fe040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9z-eJS90OnPBQ-oF.png"/></div></div></figure><h2 id="9e68" class="mq kw in bd kx mr ms dn lb mt mu dp lf jv mv mw lj jz mx my ln kd mz na lr nb bi translated">console.error()</h2><p id="4ac6" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">用于错误。将消息格式化为错误，并包含堆栈跟踪。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="4c06" class="mq kw in mp b gy ng nh l ni nj">console.error("Error! Something went wrong");</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/ec931e243d90246772a97f7dd30af54e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VTe2a9iGAzyyC2D9.png"/></div></div></figure><h1 id="b0a2" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">像JSON这样的日志对象</h1><p id="53a2" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">为了更容易阅读对象，可以应用JSON格式来记录它。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="ea9a" class="mq kw in mp b gy ng nh l ni nj">const obj = { name: "Simon", lang: "JS", colors: ["purple", "blue"] };<br/>console.dir(obj);</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/931b69773dcae7dd03ba361245f80b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gVlG2re95s7DM9Vu.png"/></div></div></figure><h1 id="ea35" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">数数东西</h1><p id="e2b9" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">例如，记录一个函数被调用的次数可能是有用的。为此，您可以调用<code class="fe mm mn mo mp b">console.count([label])</code>。它会记录它被调用的次数。如果没有提供<code class="fe mm mn mo mp b">label</code>，它将返回到<code class="fe mm mn mo mp b">default</code>标签。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="8e05" class="mq kw in mp b gy ng nh l ni nj">console.count();<br/>console.count();<br/>console.count("fruit");<br/>console.count();<br/>console.count("fruit");</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/483cffec4e653ab1946fa00c1e442e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gyTeyTpgryDIs3jQ.png"/></div></div></figure><h1 id="8599" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">群组日志消息</h1><p id="56c3" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">有时您可能想要记录属于一起的行。为此，您可以使用<code class="fe mm mn mo mp b">console.group(label)</code>来创建日志组。您可以使用<code class="fe mm mn mo mp b">console.groupCollapsed(label)</code>将群组记录为折叠状态。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="db92" class="mq kw in mp b gy ng nh l ni nj">const label = "Fruit";<br/>console.group(label);<br/>console.info("Apple");<br/>console.info("Pear");<br/>console.info("Banana");<br/>console.info("Orange");<br/>console.groupEnd(label);</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/3f6bbb167d0440b6135cd4e9748cc2b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*94B6rXRIO4XXpI6a.png"/></div></div></figure><h1 id="b8df" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">测量时间</h1><p id="4027" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">在职业生涯的某个阶段，您可能需要优化代码运行的时间。在知道你优化什么之前，你想知道时间花在哪里。你可以使用的一个测量时间的工具是<code class="fe mm mn mo mp b">console.time([label])</code>。这将启动一个计时器，然后您可以使用<code class="fe mm mn mo mp b">console.timeEnd([label])</code>停止并记录。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="8536" class="mq kw in mp b gy ng nh l ni nj">console.time();<br/>for (var i = 0; i &lt; 100000; i++) {<br/>  let random = Math.floor(Math.random() * i);<br/>}<br/>console.timeEnd();</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/ae35fac817c3e2cc3bbe982b8c54bea8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Af1nVGzcj1W3fmv5.png"/></div></div></figure><h1 id="f88f" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">表格格式</h1><p id="41e0" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">为了更容易阅读你的数组，你可以用表格格式记录它。</p><pre class="kk kl km kn gt nc mp nd ne aw nf bi"><span id="a164" class="mq kw in mp b gy ng nh l ni nj">const array = [<br/>  { name: "Apple", color: "Red" },<br/>  { name: "Banana", color: "Yellow" },<br/>  { name: "Pear", color: "Green" },<br/>  { name: "Orange", color: "Orange" }<br/>];<br/>console.table(array);</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/0b34276ab8d5daeb23eeb3d8baf567b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3Q2t0VREEKRinhgT.png"/></div></div></figure><h1 id="e4e1" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">结论</h1><p id="706b" class="pw-post-body-paragraph jk jl in jm b jn lt jp jq jr lu jt ju jv lv jx jy jz lw kb kc kd lx kf kg kh ig bi translated">使用JavaScript进行客户端日志记录非常简单！使用内置控制台对象是登录浏览器的首选方式。有很多图书馆，但是真的没有必要去使用它们。</p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="8473" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ns">在</em><a class="ae ki" href="https://twitter.com/prplcode" rel="noopener ugc nofollow" target="_blank"><em class="ns">Twitter</em></a><em class="ns">，</em><a class="ae ki" href="https://linkedin.com/in/simeg" rel="noopener ugc nofollow" target="_blank"><em class="ns">LinkedIn</em></a><em class="ns">，或者</em> <a class="ae ki" href="https://github.com/simeg" rel="noopener ugc nofollow" target="_blank"> <em class="ns"> GitHub </em> </a></p><p id="5120" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ns">最初发布于</em><a class="ae ki" href="https://prplcode.dev/" rel="noopener ugc nofollow" target="_blank"><em class="ns">prplcode . dev</em></a></p><p id="5849" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="ns">更多内容请看</em><a class="ae ki" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ns">plain English . io</em></strong></a><em class="ns">。报名参加我们的</em> <a class="ae ki" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="ns">免费周报</em> </strong> </a> <em class="ns">。关注我们关于</em><a class="ae ki" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ns">Twitter</em></strong></a><em class="ns">和</em><a class="ae ki" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="ns">LinkedIn</em></strong></a><em class="ns">。查看我们的</em> <a class="ae ki" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="ns">社区不和谐</em> </strong> </a> <em class="ns">加入我们的</em> <a class="ae ki" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="ns">人才集体</em> </strong> </a> <em class="ns">。</em></p></div></div>    
</body>
</html>