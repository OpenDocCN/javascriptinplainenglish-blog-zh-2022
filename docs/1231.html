<html>
<head>
<title>6 Killer Functions in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的6个黑仔函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/6-killer-functions-in-javascript-72caa8720b18?source=collection_archive---------9-----------------------#2022-03-10">https://javascript.plainenglish.io/6-killer-functions-in-javascript-72caa8720b18?source=collection_archive---------9-----------------------#2022-03-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7a70" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你应该知道的简单的JavaScript魔术</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ae0f885d8b359e31f47ede9b020e0d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2aeFbTPc7d1uTg8f"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@kmaimg?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">KMA .img</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ddc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript，正如我通常所说的，充满了惊喜。它从未停止让我们震惊。每天，我都会在这种编程语言中获得一项新技能。一些小问题，但对你的代码有重大影响。是值得分享的东西。</p><p id="69d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示可以在日常开发中使用的六个JavaScript函数。所以让我们继续学习新的东西吧！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="df3c" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">1.检查元素在视口中是否可见</h2><p id="b639" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">IntersectionObserver 是检查一个元素在视窗中是否可见的好方法。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="1c7a" class="lz ma iq my b gy nc nd l ne nf">const callback = (entries) =&gt; {<br/>    entries.forEach((entry) =&gt; {<br/>        if (entry.isIntersecting) {<br/>            // 'entry.target' is the DOM element<br/>            console.log(`${entry.target.id} is visible.`);<br/>        }<br/>    });<br/>};</span><span id="67f0" class="lz ma iq my b gy ng nd l ne nf">const options = {<br/>    threshold: 1.0,<br/>};</span><span id="55e0" class="lz ma iq my b gy ng nd l ne nf">const observer = new IntersectionObserver(callback, options);<br/>const btn = document.getElementById("btn");<br/>const bottomBtn = document.getElementById("bottom-btn");</span><span id="5268" class="lz ma iq my b gy ng nd l ne nf">observer.observe(btn);<br/>observer.observe(bottomBtn);</span></pre><p id="11a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe nh ni nj my b">option</code>参数自定义观察器的行为。<code class="fe nh ni nj my b">threshold</code>是最有用的属性，它定义了观察点触发时需要在视口中可见的元素的百分比。</p><p id="4da7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有关IntersectionObserver的更多信息，请单击此处的<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="72d5" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">2.检测设备</h2><p id="63b8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">您可以使用<code class="fe nh ni nj my b">navigator.userAgent</code>获得细微的洞察力，并检测运行该应用程序的设备。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="de93" class="lz ma iq my b gy nc nd l ne nf">const detectDeviceType = () =&gt;<br/>    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)<br/>        ? "Mobile"<br/>        : "Desktop";</span><span id="f460" class="lz ma iq my b gy ng nd l ne nf">console.log(detectDeviceType());</span></pre><blockquote class="nk nl nm"><p id="fff0" class="kw kx nn ky b kz la jr lb lc ld ju le no lg lh li np lk ll lm nq lo lp lq lr ij bi translated">不建议使用这种方法，因为它取决于浏览器的当前版本。任何浏览器的未来版本都可能会删除对此方法的支持。所以使用它时一定要小心，并且只适用于当前和以前版本的浏览器。</p></blockquote><p id="fa0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">你可以在这里</strong>  <strong class="ky ir">阅读更多关于</strong> <code class="fe nh ni nj my b"><strong class="ky ir">navigator.userAgent</strong></code> <strong class="ky ir"> </strong> <a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/userAgent" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">。</strong></a></p><h2 id="724f" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">3.隐藏元素</h2><p id="594a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">你可以使用<code class="fe nh ni nj my b">style.visibility</code>属性切换一个元素的可见性，如果你想从渲染流中移除它，你可以使用<code class="fe nh ni nj my b">style.display</code>属性。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="39d0" class="lz ma iq my b gy nc nd l ne nf">const hideElement = (element, removeFromFlow = false) =&gt; {<br/>    removeFromFlow<br/>        ? (element.style.display = "none")<br/>        : (element.style.visibility = "hidden");<br/>};</span></pre><blockquote class="nk nl nm"><p id="431e" class="kw kx nn ky b kz la jr lb lc ld ju le no lg lh li np lk ll lm nq lo lp lq lr ij bi translated">如果不从渲染流中移除元素，它将被隐藏，但其空间仍将被占用。</p></blockquote><p id="5039" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这在渲染长元素列表时非常有用，不在视图中的元素(可以使用<code class="fe nh ni nj my b">IntersectionObserver</code>进行测试)可以被隐藏以提高性能。</p><h2 id="0e4b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">4.从URL获取参数</h2><p id="1fe4" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">JavaScript使得使用URL对象从任何地址获取参数变得轻而易举。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="7a97" class="lz ma iq my b gy nc nd l ne nf">const url = new URL(window.location.href);<br/>const paramValue = url.searchParams.get("paramName");<br/>console.log(paramValue);</span></pre><h2 id="a7f0" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">5.轻松深层复制对象</h2><p id="231c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">您可以通过将任何对象转换为字符串并转换回对象来对其进行深度复制。这不仅适用于对象，也适用于其他复合数据类型，比如数组。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="071d" class="lz ma iq my b gy nc nd l ne nf">const deepCopy = (obj) =&gt; JSON.parse(JSON.stringify(obj));</span></pre><p id="19a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">此处阅读</strong><a class="ae kv" href="https://www.geeksforgeeks.org/what-is-shallow-copy-and-deep-copy-in-javascript/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"/></a><strong class="ky ir">详细讲述深、浅抄。</strong></p><h2 id="e876" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">6.等待功能</h2><p id="85f6" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">JavaScript确实附带了一个<code class="fe nh ni nj my b">setTimeout</code>函数，但是它不返回一个<code class="fe nh ni nj my b">Promise</code>对象，这使得它很难在<code class="fe nh ni nj my b">async</code>函数中使用。所以我们要自己写<strong class="ky ir">等待/睡眠</strong>函数。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="7fdc" class="lz ma iq my b gy nc nd l ne nf">const wait = (ms) =&gt; new Promise((resolve) =&gt; setTimeout(resolve, ms));</span><span id="8f82" class="lz ma iq my b gy ng nd l ne nf">const asyncFunc = async () =&gt; {<br/>    await wait(1000);<br/>    console.log("async");<br/>};</span><span id="d199" class="lz ma iq my b gy ng nd l ne nf">asyncFunc();</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="25fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是这篇文章的内容。我希望你今天学到了一些新东西。您可以在<a class="ae kv" href="https://gouravkajal.medium.com/membership" rel="noopener">媒体</a>上<a class="ae kv" href="https://gouravkajal.medium.com/" rel="noopener">关注我</a>或者在<a class="ae kv" href="https://www.linkedin.com/in/gouravkajal/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系。想看更多这样的文章，敬请期待！</p><p id="5c19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p><p id="786d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nn">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nn">说白了就是</em> </strong> </a> <em class="nn">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nn">免费每周简讯</em> </strong> </a> <em class="nn">。关注我们</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nn">推特</em> </strong> </a> <em class="nn">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nn">LinkedIn</em></strong></a><em class="nn">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nn">社区不和谐</em> </strong> </a> <em class="nn">。</em></p></div></div>    
</body>
</html>