<html>
<head>
<title>How to Draw a Smooth Curve Through N Points Using JavaScript HTML5 Canvas?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript HTML5 Canvas画出一条通过N个点的光滑曲线？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-draw-a-smooth-curve-through-n-points-using-javascript-html5-canvas-86ecb84b6d6d?source=collection_archive---------3-----------------------#2022-10-22">https://javascript.plainenglish.io/how-to-draw-a-smooth-curve-through-n-points-using-javascript-html5-canvas-86ecb84b6d6d?source=collection_archive---------3-----------------------#2022-10-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ea49358ef931cbc251045c3b03c4541b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N6WocH5tu2D1x1KP"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jxk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jan Kopřiva</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3c10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们想在网页上画一条平滑的曲线，通过一些点。</p><p id="0539" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将看看如何使用JavaScript HTML5 canvas绘制一条通过多个点的平滑曲线。</p><h1 id="ed16" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用quadraticCurveTo方法</h1><p id="4727" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用canvas context对象附带的<code class="fe me mf mg mh b">quadraticCurveTo</code>方法来绘制一条穿过<code class="fe me mf mg mh b">n</code>点的曲线。</p><p id="42f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用它，我们可以先编写下面的HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="549c" class="mq lc iq mh b gy mr ms l mt mu">&lt;canvas width="200" height="200"&gt;&lt;/canvas&gt;</span></pre><p id="5cd4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以通过写来使用它:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="61e4" class="mq lc iq mh b gy mr ms l mt mu">const points = [{<br/>  x: 1,<br/>  y: 1<br/>}, {<br/>  x: 20,<br/>  y: 30<br/>}, {<br/>  x: 30,<br/>  y: 40<br/>}, {<br/>  x: 40,<br/>  y: 20<br/>}, {<br/>  x: 50,<br/>  y: 60<br/>}]</span><span id="32ac" class="mq lc iq mh b gy mv ms l mt mu">const canvas = document.querySelector('canvas')<br/>const ctx = canvas.getContext("2d")<br/>ctx.beginPath();<br/>ctx.moveTo(points[0].x, points[0].y);</span><span id="c9f2" class="mq lc iq mh b gy mv ms l mt mu">for (const point of points) {<br/>  const xMid = (point.x + point.x) / 2;<br/>  const yMid = (point.y + point.y) / 2;<br/>  const cpX1 = (xMid + point.x) / 2;<br/>  const cpX2 = (xMid + point.x) / 2;<br/>  ctx.quadraticCurveTo(cpX1, point.y, xMid, yMid);<br/>  ctx.quadraticCurveTo(cpX2, point.y, point.x, point.y);<br/>}<br/>ctx.stroke();</span></pre><p id="1bb6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们有<code class="fe me mf mg mh b">points</code>数组，它有一些点的<code class="fe me mf mg mh b">x</code>和<code class="fe me mf mg mh b">y</code>坐标。</p><p id="98de" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们得到带有<code class="fe me mf mg mh b">document.querySelector</code>的画布。</p><p id="a1b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们调用<code class="fe me mf mg mh b">getContext</code>方法来获取上下文对象。</p><p id="3704" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">beginPath</code>开始画图。</p><p id="3f54" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们调用<code class="fe me mf mg mh b">moveTo</code>移动到第一个点。</p><p id="8370" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们调用<code class="fe me mf mg mh b">quadraticCurveTo</code>从我们计算的第一个点(<code class="fe me mf mg mh b">cpX1</code>、<code class="fe me mf mg mh b">point.y</code>)到(<code class="fe me mf mg mh b">xMid</code>、<code class="fe me mf mg mh b">yMid</code>)绘制曲线。</p><p id="386f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们画出从(<code class="fe me mf mg mh b">cpX2</code>、<code class="fe me mf mg mh b">point.y</code>)到(<code class="fe me mf mg mh b">point.x</code>、<code class="fe me mf mg mh b">point.y</code>)的曲线。</p><p id="7ce8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe me mf mg mh b">cpX1</code>和<code class="fe me mf mg mh b">cpX2</code>是一点和下一点之间线段的x和y的中心点。</p><p id="87f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们调用<code class="fe me mf mg mh b">stroke</code>在屏幕上画线。</p><h1 id="35c6" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="4563" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以使用画布上下文对象附带的<code class="fe me mf mg mh b">quadraticCurveTo</code>方法，通过<code class="fe me mf mg mh b">n</code>点绘制一条曲线。</p><p id="0b7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mw">更多内容请看</em><a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">plain English . io</em></strong></a><em class="mw">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">LinkedIn</em></strong></a><strong class="kf ir"><em class="mw"/></strong><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">YouTube</em></strong></a><strong class="kf ir"><em class="mw">，以及</em></strong><em class="mw"/><a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="mw">不和</em> </strong> </a>  <em class="mw">对成长黑客感兴趣？检查</em> <a class="ae kc" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mw">电路</em> </strong> </a> <strong class="kf ir"> <em class="mw">。</em> </strong></p></div></div>    
</body>
</html>