<html>
<head>
<title>How the TypeScript Omit Type works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript省略类型的工作原理</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-the-typescript-omit-type-works-d22a8e7d9ceb?source=collection_archive---------11-----------------------#2022-04-22">https://javascript.plainenglish.io/how-the-typescript-omit-type-works-d22a8e7d9ceb?source=collection_archive---------11-----------------------#2022-04-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/05878f4ac952230af38c3d1460574c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZsJRmZ1H8OhqoPyyonmPw.png"/></div></div></figure><p id="402e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">TypeScript提供了许多实用工具类型，用于解决在Javascript中使用类型所产生的特定问题。TypeScript中使用的一个非常有用的实用类型是Omit类型，它允许我们自定义一个已经存在的类型。让我们看看它是如何工作的。</p><h1 id="bf91" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">自定义类型</h1><p id="1f3e" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">本文假设您知道如何在TypeScript中创建自定义类型。如果您不知道，请在这里阅读我关于自定义类型的文章。</p><h1 id="6dc8" class="kt ku in bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">TypeScript省略类型</h1><p id="031e" class="pw-post-body-paragraph jv jw in jx b jy lr ka kb kc ls ke kf kg lt ki kj kk lu km kn ko lv kq kr ks ig bi translated">在TypeScript中，我们经常创建自定义类型，这让我们可以确保数据符合特定的格式。例如，如果我们想要创建一个自定义用户类型，它有四个字段— <code class="fe lx ly lz ma b">firstName</code>、<code class="fe lx ly lz ma b">lastName</code>、<code class="fe lx ly lz ma b">age</code>和<code class="fe lx ly lz ma b">lastActive</code>，我们可以这样做:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="bcf1" class="mj ku in ma b gy mk ml l mm mn">type User = {<br/>  firstName: string;<br/>  lastName: string;<br/>  age: number;<br/>  lastActive: number;<br/>}</span></pre><p id="100e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">可悲的是，编码并不总是一帆风顺的。有时，我们希望再次使用我们的类型，但是从它那里删除某些元素，从而创建一个新的类型。为此，我们可以使用<code class="fe lx ly lz ma b">Omit&lt;Type, Omissions&gt;</code>。省略接受两个值:</p><ul class=""><li id="82dc" class="mo mp in jx b jy jz kc kd kg mq kk mr ko ms ks mt mu mv mw bi translated">我们的新类型所基于的类型</li><li id="8a9f" class="mo mp in jx b jy mx kc my kg mz kk na ko nb ks mt mu mv mw bi translated">列出所有要移除的字段的联合类型。例如，如果我们想要获取我们的用户类型，并删除age和lastActive，我们可以执行以下操作:</li></ul><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="8e7f" class="mj ku in ma b gy mk ml l mm mn">type User = {<br/>  firstName: string;<br/>  lastName: string;<br/>  age: number;<br/>  lastActive: number;<br/>}</span><span id="4ed5" class="mj ku in ma b gy nc ml l mm mn">type UserNameOnly = Omit&lt;User, "age" | "lastActive"&gt;</span></pre><p id="0957" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们有两种类型——<code class="fe lx ly lz ma b">User</code>，这是我们的核心用户类型，<code class="fe lx ly lz ma b">UserNameOnly</code>，这是我们的用户类型减去<code class="fe lx ly lz ma b">age</code>和<code class="fe lx ly lz ma b">lastActive</code>。类似地，如果我们只想删除<code class="fe lx ly lz ma b">age</code>，这就足够了:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="14c0" class="mj ku in ma b gy mk ml l mm mn">type UserNameAndActive = Omit&lt;User, "age"&gt;</span></pre><p id="6bee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们可以在代码中的任何地方使用新类型。这使我们可以灵活地使用一个类型，并根据具体情况对其进行转换。下面是使用这两种新类型的示例:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="4aa9" class="mj ku in ma b gy mk ml l mm mn">type User = {<br/>  firstName: string;<br/>  lastName: string;<br/>  age: number;<br/>  lastActive: number;<br/>}</span><span id="f79e" class="mj ku in ma b gy nc ml l mm mn">type UserNameOnly = Omit&lt;User, "age" | "lastActive"&gt;<br/>type UserNameAndActive = Omit&lt;User, "age"&gt;</span><span id="d40e" class="mj ku in ma b gy nc ml l mm mn">const userByName:UserNameOnly = {<br/>    firstName: "John",<br/>    lastName: "Doe",<br/>};<br/>const userWithoutAge:UserNameAndActive = {<br/>    firstName: "John",<br/>    lastName: "Doe",<br/>    lastActive: -16302124725<br/>}</span></pre><p id="bdd3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nd">更多内容请看</em><a class="ae lw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">plain English . io</em></strong></a><em class="nd">。报名参加我们的</em> <a class="ae lw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。关注我们关于</em><a class="ae lw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">Twitter</em></strong></a><em class="nd">和</em><a class="ae lw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nd">LinkedIn</em></strong></a><em class="nd">。加入我们的</em> <a class="ae lw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nd">社区不和谐</em> </strong> </a> <em class="nd">。</em></p></div></div>    
</body>
</html>