<html>
<head>
<title>HeadlessUI: Combobox Autocomplete</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HeadlessUI: Combobox自动完成</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/headlessui-combobox-autocomplete-part-5-active-option-70fd5f59269a?source=collection_archive---------13-----------------------#2022-08-05">https://javascript.plainenglish.io/headlessui-combobox-autocomplete-part-5-active-option-70fd5f59269a?source=collection_archive---------13-----------------------#2022-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="62d1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第5部分:主动选项</h2></div><p id="b657" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这一部分中，我们将讨论活动选项属性，但这在用于选择单值时有意义，而不是用于多值。</p><figure class="lb lc ld le gt lf"><div class="bz fp l di"><div class="lg lh l"/></div></figure><p id="8d80" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为它将只显示最近选择的值。</p><p id="7c3b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我们将selectedPerson的默认值还原为单个人，而不是数组。</p><pre class="lb lc ld le gt li lj lk ll aw lm bi"><span id="edb2" class="ln lo iq lj b gy lp lq l lr ls">const [selectedPerson, setSelectedPerson] = useState(people[0])</span></pre><p id="6271" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还移除了&lt;组合框&gt;中的<code class="fe lt lu lv lj b">multiple</code>道具</p><p id="53ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在<combobox>下，写一个这样的模板</combobox></p><pre class="lb lc ld le gt li lj lk ll aw lm bi"><span id="fb7f" class="ln lo iq lj b gy lp lq l lr ls">{({activeOption})=&gt;(</span><span id="4d9f" class="ln lo iq lj b gy lw lq l lr ls">&lt;&gt;&lt;/&gt;</span><span id="cd0f" class="ln lo iq lj b gy lw lq l lr ls">)} </span></pre><p id="f280" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后把所有的<combobox.label>、<combobox.input>和<combobox.options>放到片段里。</combobox.options></combobox.input></combobox.label></p><pre class="lb lc ld le gt li lj lk ll aw lm bi"><span id="8086" class="ln lo iq lj b gy lp lq l lr ls">&lt;div className="fixed top-16 w-72 p-3"&gt;</span><span id="4e52" class="ln lo iq lj b gy lw lq l lr ls">&lt;Combobox value={selectedPerson} onChange={setSelectedPerson} &gt;</span><span id="3b44" class="ln lo iq lj b gy lw lq l lr ls">{({activeOption})=&gt;(</span><span id="e2a0" class="ln lo iq lj b gy lw lq l lr ls">&lt;&gt;</span><span id="59e6" class="ln lo iq lj b gy lw lq l lr ls">&lt;Combobox.Label&gt;Assignee:&lt;/Combobox.Label&gt;</span><span id="c688" class="ln lo iq lj b gy lw lq l lr ls">&lt;div className="relative mt-1"&gt;</span><span id="3f8b" class="ln lo iq lj b gy lw lq l lr ls">&lt;div className="relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm"&gt;</span><span id="4f51" class="ln lo iq lj b gy lw lq l lr ls">&lt;Combobox.Input className="w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0"</span><span id="a47c" class="ln lo iq lj b gy lw lq l lr ls">onChange={(event) =&gt; setQuery(event.target.value)}</span><span id="0e8d" class="ln lo iq lj b gy lw lq l lr ls">displayValue={(person) =&gt; person.name}</span><span id="a973" class="ln lo iq lj b gy lw lq l lr ls">/&gt;</span><span id="ae38" class="ln lo iq lj b gy lw lq l lr ls">&lt;/div&gt;</span><span id="f18e" class="ln lo iq lj b gy lw lq l lr ls">&lt;Combobox.Options className="absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"&gt;</span><span id="ad8d" class="ln lo iq lj b gy lw lq l lr ls">{filteredPeople.map((person) =&gt; (</span><span id="164f" class="ln lo iq lj b gy lw lq l lr ls">&lt;Combobox.Option key={person.id}</span><span id="d7fc" class="ln lo iq lj b gy lw lq l lr ls">value={person}</span><span id="e1a2" class="ln lo iq lj b gy lw lq l lr ls">disabled={person.unavailable}</span><span id="938a" class="ln lo iq lj b gy lw lq l lr ls">as={Fragment}</span><span id="96a0" class="ln lo iq lj b gy lw lq l lr ls">&gt;</span><span id="c0ac" class="ln lo iq lj b gy lw lq l lr ls">{({ active, selected }) =&gt; (</span><span id="92ea" class="ln lo iq lj b gy lw lq l lr ls">&lt;li</span><span id="855c" class="ln lo iq lj b gy lw lq l lr ls">className={`flex ${active ? 'bg-blue-500 text-white' : 'bg-white text-black'</span><span id="9926" class="ln lo iq lj b gy lw lq l lr ls">}`}</span><span id="ad1a" class="ln lo iq lj b gy lw lq l lr ls">&gt;</span><span id="dafb" class="ln lo iq lj b gy lw lq l lr ls">{selected ? &lt;CheckIcon className="h-5 w-5" aria-hidden="true" /&gt; : &lt;div className="h-5 w-5"&gt;&lt;/div&gt;}</span><span id="785f" class="ln lo iq lj b gy lw lq l lr ls">&lt;div&gt;{person.name}&lt;/div&gt;</span><span id="ec15" class="ln lo iq lj b gy lw lq l lr ls">&lt;/li&gt;</span><span id="fe1d" class="ln lo iq lj b gy lw lq l lr ls">)}</span><span id="5987" class="ln lo iq lj b gy lw lq l lr ls">&lt;/Combobox.Option&gt;</span><span id="c1a4" class="ln lo iq lj b gy lw lq l lr ls">))}</span><span id="8cab" class="ln lo iq lj b gy lw lq l lr ls">{activeOption &amp;&amp; (</span><span id="2cd0" class="ln lo iq lj b gy lw lq l lr ls">&lt;div&gt;The current active user is: {activeOption.name}&lt;/div&gt;</span><span id="a087" class="ln lo iq lj b gy lw lq l lr ls">)}</span><span id="8a72" class="ln lo iq lj b gy lw lq l lr ls">&lt;/Combobox.Options&gt;</span><span id="faf2" class="ln lo iq lj b gy lw lq l lr ls">&lt;/div&gt;</span><span id="3409" class="ln lo iq lj b gy lw lq l lr ls">&lt;/&gt;</span><span id="3886" class="ln lo iq lj b gy lw lq l lr ls">)}</span><span id="b2dd" class="ln lo iq lj b gy lw lq l lr ls">&lt;/Combobox&gt;</span><span id="6df8" class="ln lo iq lj b gy lw lq l lr ls">&lt;/div&gt;</span></pre><figure class="lb lc ld le gt lf gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/d0306b0466926772872197cc740d257c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/1*2cxkWG3jNVTRZqloo5FT9w.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">display the active option at the bottom</figcaption></figure><p id="8886" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您可以看到列表底部显示的活动选项。</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><p id="ee41" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢这个故事，你可能也喜欢中等会员。一个月才5美元(一杯咖啡的价格！)但是它会在支持你最喜欢的作家的同时，给你无限的接触故事的机会。如果你注册使用<a class="ae ml" href="https://ckmobile.medium.com/membership" rel="noopener">这个链接</a>，我会赚一小笔佣金。谢谢！</p></div><div class="ab cl me mf hu mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="ij ik il im in"><h1 id="4205" class="mm lo iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">关注我们:<a class="ae ml" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> YouTube </a>，<a class="ae ml" href="https://ckmobile.medium.com/" rel="noopener"> Medium </a>，<a class="ae ml" href="https://www.udemy.com/user/cyruschan2/" rel="noopener ugc nofollow" target="_blank"> Udemy </a>，<a class="ae ml" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>，<a class="ae ml" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae ml" href="https://www.instagram.com/ckmobile8050" rel="noopener ugc nofollow" target="_blank"> Instagram </a>，<a class="ae ml" href="https://app.gumroad.com/ckmobile" rel="noopener ugc nofollow" target="_blank"> Gumroad </a>，<a class="ae ml" href="https://ckmobile.quora.com/" rel="noopener ugc nofollow" target="_blank"> Quora </a>，<a class="ae ml" href="https://t.me/ckmobi" rel="noopener ugc nofollow" target="_blank"> Telegram </a></h1><p id="f22c" class="pw-post-body-paragraph kf kg iq kh b ki nd jr kk kl ne ju kn ko nf kq kr ks ng ku kv kw nh ky kz la ij bi translated"><em class="ni">更多内容请看</em><a class="ae ml" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ni">plain English . io</em></strong></a><em class="ni">。报名参加我们的</em> <a class="ae ml" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ni">免费周报</em> </strong> </a> <em class="ni">。关注我们关于</em><a class="ae ml" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ni">Twitter</em></strong></a><a class="ae ml" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ni">LinkedIn</em></strong></a><strong class="kh ir"><em class="ni"/></strong><a class="ae ml" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ni">YouTube</em></strong></a><strong class="kh ir"><em class="ni">，以及</em></strong><em class="ni"/><a class="ae ml" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="ni">不和</em> </strong> </a>  <em class="ni">对成长黑客感兴趣？检查</em> <a class="ae ml" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="ni">电路</em> </strong> </a> <strong class="kh ir"> <em class="ni">。</em> </strong></p></div></div>    
</body>
</html>