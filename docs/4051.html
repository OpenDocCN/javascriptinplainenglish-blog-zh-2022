<html>
<head>
<title>How to Get the Position of the Mouse in the React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•è·å¾—é¼ æ ‡åœ¨Reactä¸­çš„ä½ç½®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/react-get-mouse-position-d900c9fe09cd?source=collection_archive---------10-----------------------#2022-10-20">https://javascript.plainenglish.io/react-get-mouse-position-d900c9fe09cd?source=collection_archive---------10-----------------------#2022-10-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d75197ed38ca72c4dbd0f0d19dc672ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t7y4AkmcQJVUbctFHWq3vw.png"/></div></div></figure><p id="bc0c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¦è·å¾—é¼ æ ‡åœ¨Reactä¸­çš„ä½ç½®ï¼Œéœ€è¦å‘<code class="fe kt ku kv kw b">window</code>å¯¹è±¡æ·»åŠ ä¸€ä¸ª<code class="fe kt ku kv kw b">mousemove</code>äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¹¶è®¿é—®<code class="fe kt ku kv kw b">MouseEvent</code>å¯¹è±¡çš„<code class="fe kt ku kv kw b">clientX</code>å’Œ<code class="fe kt ku kv kw b">clientY</code>å±æ€§ï¼Œä»¥åˆ†åˆ«è·å¾—é¼ æ ‡çš„Xå’ŒYåæ ‡ã€‚</p><p id="8c09" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¾‹å¦‚:</p><p id="6aab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">App.js</code></p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="23fe" class="lf lg in kw b gy lh li l lj lk">import { useEffect, useState } from 'react';</span><span id="1add" class="lf lg in kw b gy ll li l lj lk">export default function App() {<br/>  const [mousePos, setMousePos] = useState({});</span><span id="cc3e" class="lf lg in kw b gy ll li l lj lk">  useEffect(() =&gt; {<br/>    const handleMouseMove = (event) =&gt; {<br/>      setMousePos({ x: event.clientX, y: event.clientY });<br/>    };</span><span id="65fb" class="lf lg in kw b gy ll li l lj lk">    window.addEventListener('mousemove', handleMouseMove);</span><span id="a928" class="lf lg in kw b gy ll li l lj lk">    return () =&gt; {<br/>      window.removeEventListener(<br/>        'mousemove',<br/>        handleMouseMove<br/>      );<br/>    };<br/>  }, []);</span><span id="26b4" class="lf lg in kw b gy ll li l lj lk">  return (<br/>    &lt;div&gt;<br/>      The mouse is at position{' '}<br/>      &lt;b&gt;<br/>        ({mousePos.x}, {mousePos.y})<br/>      &lt;/b&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><figure class="kx ky kz la gt jo gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/5b0650c45bed05cb74aa2832839e318f.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*meWLn3bw_1XRg47E.gif"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">The current mouse position is displayed.</figcaption></figure><p id="9217" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å½“é¼ æ ‡åœç•™åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œè¯¥å…ƒç´ è§¦å‘<code class="fe kt ku kv kw b">mousemove</code>äº‹ä»¶ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œå½“é¼ æ ‡ç§»åŠ¨å¹¶ä¸”å…‰æ ‡çš„çƒ­ç‚¹åœ¨å…ƒç´ çš„è¾¹ç•Œå†…æ—¶ï¼Œå®ƒè¢«è§¦å‘ã€‚</p><p id="2526" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬å°†äº‹ä»¶ç›‘å¬å™¨é™„åŠ åˆ°<code class="fe kt ku kv kw b">window</code>å¯¹è±¡ï¼Œä»¥ä¾¿æ¯å½“é¼ æ ‡ç§»åŠ¨åˆ°é¡µé¢ä¸Šçš„ä»»ä½•ä½ç½®æ—¶è§¦å‘äº‹ä»¶ã€‚</p><p id="d4f7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬å‘<a class="ae lr" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank"> useEffect </a>é’©å­ä¼ é€’äº†ä¸€ä¸ªç©ºçš„ä¾èµ–æ•°ç»„ï¼Œå› ä¸ºæˆ‘ä»¬åªæƒ³ä¸º<code class="fe kt ku kv kw b">mousemove</code>äº‹ä»¶æ·»åŠ ä¸€ä¸ªå¤„ç†ç¨‹åºâ€”â€”å½“ç»„ä»¶æŒ‚è½½æ—¶ã€‚</p><p id="f789" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨cleanupå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code class="fe kt ku kv kw b">removeEventListener()</code>æ–¹æ³•åˆ é™¤ä¹‹å‰æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶é˜²æ­¢ç»„ä»¶å¸è½½æ—¶å‡ºç°å†…å­˜æ³„æ¼ã€‚</p><p id="0d26" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">mousemove</code>äº‹ä»¶ç›‘å¬å™¨æ¥æ”¶ä¸€ä¸ª<a class="ae lr" href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent" rel="noopener ugc nofollow" target="_blank">é¼ æ ‡äº‹ä»¶</a>å¯¹è±¡ï¼Œç”¨äºè®¿é—®ä¿¡æ¯å’Œæ‰§è¡Œä¸äº‹ä»¶ç›¸å…³çš„åŠ¨ä½œã€‚æˆ‘ä»¬ä½¿ç”¨è¯¥å¯¹è±¡çš„<code class="fe kt ku kv kw b">clientX</code>å’Œ<code class="fe kt ku kv kw b">clientY</code>å±æ€§æ¥åˆ†åˆ«è·å–é¼ æ ‡åœ¨åº”ç”¨ç¨‹åºè§†çª—ä¸­Xåæ ‡å’ŒYåæ ‡ä¸Šçš„ä½ç½®ã€‚</p><h1 id="9952" class="ls lg in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">è·å–ç›¸å¯¹äºReactä¸­å…ƒç´ çš„é¼ æ ‡ä½ç½®</h1><p id="7423" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè·å¾—é¼ æ ‡åœ¨å…¨å±€åæ ‡ä¸­çš„ä½ç½®ã€‚</p><p id="d56c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨å…¨å±€åæ ‡ä¸­ï¼Œä½ç½®<code class="fe kt ku kv kw b">(0,0)</code>åœ¨ç½‘é¡µçš„å·¦ä¸Šè§’ï¼Œä½ç½®<code class="fe kt ku kv kw b">(Xmax, Ymax)</code>åœ¨å³ä¸‹è§’ã€‚</p><p id="09ee" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç›¸åï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›è·å¾—å…ƒç´ åŒºåŸŸå†…çš„é¼ æ ‡ä½ç½®ã€‚</p><p id="0300" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¦è·å¾—ç›¸å¯¹äºReactä¸­å…ƒç´ çš„é¼ æ ‡ä½ç½®ï¼Œåœ¨å…ƒç´ ä¸Šè®¾ç½®ä¸€ä¸ª<code class="fe kt ku kv kw b">onMouseMove</code>äº‹ä»¶å¤„ç†ç¨‹åºï¼Œç„¶åä½¿ç”¨ä¼ é€’ç»™äº‹ä»¶å¤„ç†ç¨‹åºçš„<code class="fe kt ku kv kw b">MouseEvent</code>å¯¹è±¡çš„å±æ€§è®¡ç®—æœ¬åœ°Xå’ŒYä½ç½®ã€‚</p><p id="8381" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¾‹å¦‚:</p><p id="aec9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">App.js</code></p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="54d1" class="lf lg in kw b gy lh li l lj lk">import { useEffect } from 'react';<br/>import { useState } from 'react';</span><span id="5bac" class="lf lg in kw b gy ll li l lj lk">export default function App() {<br/>  const [globalMousePos, setGlobalMousePos] = useState({});<br/>  const [localMousePos, setLocalMousePos] = useState({});</span><span id="d188" class="lf lg in kw b gy ll li l lj lk">  const handleMouseMove = (event) =&gt; {<br/>    // ğŸ‘‡ Get mouse position relative to element<br/>    const localX = event.clientX - event.target.offsetLeft;<br/>    const localY = event.clientY - event.target.offsetTop;</span><span id="5c74" class="lf lg in kw b gy ll li l lj lk">    setLocalMousePos({ x: localX, y: localY });<br/>  };</span><span id="9652" class="lf lg in kw b gy ll li l lj lk">  useEffect(() =&gt; {<br/>    const handleMouseMove = (event) =&gt; {<br/>      setGlobalMousePos({<br/>        x: event.clientX,<br/>        y: event.clientY,<br/>      });<br/>    };</span><span id="78a6" class="lf lg in kw b gy ll li l lj lk">    window.addEventListener('mousemove', handleMouseMove);</span><span id="a0c0" class="lf lg in kw b gy ll li l lj lk">    return () =&gt; {<br/>      window.removeEventListener(<br/>        'mousemove',<br/>        handleMouseMove<br/>      );<br/>    };<br/>  }, []);</span><span id="4b16" class="lf lg in kw b gy ll li l lj lk">  return (<br/>    &lt;div&gt;<br/>      &lt;div<br/>        style={{<br/>          border: '1px solid gray',<br/>          display: 'inline-block',<br/>          padding: '75px',<br/>          textAlign: 'center',<br/>        }}<br/>        onMouseMove={handleMouseMove}<br/>      &gt;<br/>        Local<br/>        &lt;br /&gt;<br/>        &lt;b&gt;<br/>          ({localMousePos.x}, {localMousePos.y})<br/>        &lt;/b&gt;<br/>      &lt;/div&gt;<br/>      &lt;br /&gt;<br/>      Global<br/>      &lt;br /&gt;<br/>      &lt;b&gt;<br/>        ({globalMousePos.x}, {globalMousePos.y})<br/>      &lt;/b&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="e0fd" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç°åœ¨äº§ç”Ÿçš„Xå’ŒYåæ ‡å°†ç›¸å¯¹äºå…ƒç´ ã€‚ä¾‹å¦‚ï¼Œä½ç½®<code class="fe kt ku kv kw b">(0,0)</code>å°†ä½äºå…ƒç´ çš„å·¦ä¸Šè§’ï¼Œè€Œä¸æ˜¯é¡µé¢çš„å·¦ä¸Šè§’:</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/1064ccd6c5c9b47fe94304e18124264b.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/0*fagOJT4R0w8sNM-i.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">The mouse position relative to an element is displayed.</figcaption></figure><p id="fea5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ‘ä»¬ä»<code class="fe kt ku kv kw b">MouseEvent</code>å¯¹è±¡çš„<code class="fe kt ku kv kw b">clientX</code>å±æ€§ä¸­å‡å»å…ƒç´ çš„<code class="fe kt ku kv kw b">offsetLeft</code>å±æ€§ï¼Œå¾—åˆ°ç›¸å¯¹äºå…ƒç´ çš„Xä½ç½®ã€‚</p><p id="225d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç±»ä¼¼åœ°ï¼Œä¸ºäº†è·å¾—Yä½ç½®ï¼Œæˆ‘ä»¬ä»<code class="fe kt ku kv kw b">MouseEvent</code>å¯¹è±¡çš„<code class="fe kt ku kv kw b">clientY</code>å±æ€§ä¸­å‡å»å…ƒç´ çš„<code class="fe kt ku kv kw b">offsetTop</code>å±æ€§ã€‚</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="88fa" class="lf lg in kw b gy lh li l lj lk">const handleMouseMove = (event) =&gt; {<br/>  // Calculate position within bounds of element<br/>  const localX = event.clientX - event.target.offsetLeft;<br/>  const localY = event.clientY - event.target.offsetTop;</span><span id="9ce2" class="lf lg in kw b gy ll li l lj lk">  setLocalMousePos({ x: localX, y: localY });<br/>};</span></pre><p id="98af" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetLeft" rel="noopener ugc nofollow" target="_blank"> offsetLeft </a>å±æ€§è¿”å›å…ƒç´ å·¦ä¾§ä½ç½®ä¸å…¶çˆ¶å…ƒç´ å·¦ä¾§ä½ç½®ä¹‹é—´çš„åƒç´ æ•°ã€‚</p><p id="3589" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åŒæ ·ï¼Œ<a class="ae lr" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop" rel="noopener ugc nofollow" target="_blank"> offsetTop </a>å±æ€§è¿”å›å…ƒç´ é¡¶éƒ¨ä½ç½®ä¸å…¶çˆ¶å…ƒç´ é¡¶éƒ¨ä½ç½®ä¹‹é—´çš„åƒç´ æ•°ã€‚</p></div><div class="ab cl mv mw hr mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ig ih ii ij ik"><p id="1842" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">åŸè½½äº</em><a class="ae lr" href="https://cbdev.link/896b8a" rel="noopener ugc nofollow" target="_blank"><em class="nc">codingbeautydev.com</em></a></p><h1 id="680e" class="ls lg in bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">JavaScriptåšçš„æ¯ä¸€ä»¶ç–¯ç‹‚çš„äº‹æƒ…</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy mp ka kb kc mq ke kf kg mr ki kj kk ms km kn ko mt kq kr ks ig bi translated">ä¸€æœ¬å…³äºJavaScriptå¾®å¦™çš„è­¦å‘Šå’Œé²œä¸ºäººçŸ¥çš„éƒ¨åˆ†çš„è¿·äººæŒ‡å—ã€‚</p><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lr" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">æŠ¥å</strong> </a>ç«‹å³å…è´¹é¢†å–ä¸€ä»½ã€‚</p><p id="d385" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nc">æ›´å¤šå†…å®¹è¯·çœ‹</em> <a class="ae lr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nc">è¯´ç™½äº†å°±æ˜¯</em> </strong> </a> <em class="nc">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae lr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nc">å…è´¹æ¯å‘¨ç®€è®¯</em> </strong> </a> <em class="nc">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae lr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">Twitter</em></strong></a>ï¼Œ<a class="ae lr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">LinkedIn</em></strong></a><strong class="jx io"><em class="nc">ï¼Œ</em></strong><a class="ae lr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><em class="nc">YouTube</em></a><strong class="jx io"><em class="nc">ï¼Œ</em></strong><em class="nc"/><a class="ae lr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="nc">ä¸å’Œ<em class="nc"/>T75ã€‘</em></strong></a></p></div></div>    
</body>
</html>