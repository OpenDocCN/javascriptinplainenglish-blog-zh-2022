# ä¸‰åŸåˆ™â€”â€”ä¸‰æŒ¯å‡ºå±€ï¼Œä½ å°±é‡æ„

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/rule-of-three-three-strikes-and-you-refactor-942d13e7d5cd?source=collection_archive---------2----------------------->

## åœ¨åˆ é™¤é‡å¤çš„ä»£ç ä¹‹å‰ï¼Œè¯·ä¸‰æ€

![](img/04f70d93e901b6cba7862b041452915f.png)

Photo by [Joao Tzanno](https://unsplash.com/@jtzanno?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

è½¯ä»¶å¼€å‘ä¸­æœ€å¸¸è§çš„ä¸€ä¸ªè¯¯åŒºå°±æ˜¯**å¹²åŸåˆ™â€”â€”ä¸è¦é‡å¤è‡ªå·±**ã€‚è¿™é€šå¸¸å¬èµ·æ¥å¾ˆç®€å•:[DRY åŸåˆ™](https://medium.com/@mariusbongarts11/dry-your-wet-typescript-code-e3c777b3daf9)æŒ‡å‡ºï¼Œåº”è¯¥é¿å…åœ¨å­˜åœ¨äºä¸¤ä¸ªåœ°æ–¹å¹¶é‡å¤ç›¸åŒçŸ¥è¯†å’Œä¸šåŠ¡é€»è¾‘çš„ä»£ç ä¸­å‡ºç°é‡å¤å’Œé‡å¤ã€‚å®é™…ä¸Šï¼Œå³ä½¿æ˜¯æœ‰ç»éªŒçš„å¼€å‘äººå‘˜ä¹Ÿä¸ä¼šæ„è¯†åˆ°ä»£ç å¤åˆ¶å’ŒçŸ¥è¯†å¤åˆ¶çš„åŒºåˆ«ã€‚

å¯¹äºæœ‰ç»éªŒçš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œè®¤è¯†åˆ°**çŸ¥è¯†**å’Œ**æ„å¤–å¤åˆ¶**ä¹‹é—´çš„åŒºåˆ«ç”šè‡³æ›´åŠ å›°éš¾ï¼Œå› ä¸ºéœ€è¦å¯¹ä»£ç çš„é¢†åŸŸç†è§£ã€‚

# çŸ¥è¯†å¤åˆ¶

> *â€œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯è¯­æ³•é‡å¤è¿˜æ˜¯çŸ¥è¯†é‡å¤ï¼Ÿâ€â€”å®‰ä¸œå°¼Â·å¤é©¬çº³*

ä¸ºäº†ä»æ ¹æœ¬ä¸Šå‘ç°çŸ¥è¯†é‡å¤ï¼Œå¿…é¡»è‚¯å®šåœ°å›ç­”ä¸¤ä¸ªé—®é¢˜:

1.  ***æ˜¯å¦å­˜åœ¨çœ‹èµ·æ¥å®Œå…¨ç›¸åŒçš„ä»£ç ï¼Ÿ***
2.  ***ä»£ç æ˜¯å¦é‡å¤ç›¸åŒçš„çŸ¥è¯†å’Œé€»è¾‘ï¼Ÿ***

å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜å¾ˆå®¹æ˜“ã€‚å‡è®¾æ‚¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥éªŒè¯å¯†ç å¼ºåº¦:

åœ¨åº”ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ï¼Œæˆ‘ä»¬åˆå§‹åŒ–åŒä¸€ä¸ªå˜é‡ã€‚æ˜¾ç„¶ï¼Œå­˜åœ¨çœ‹èµ·æ¥å®Œå…¨ç›¸åŒçš„ä»£ç ã€‚

1.  *ç¡®å®å­˜åœ¨çœ‹èµ·æ¥å’Œâœ…ä¸€æ¨¡ä¸€æ ·çš„ä»£ç *

**ä½†æ˜¯ï¼Œä»£ç æ˜¯å¦é‡å¤äº†ç›¸åŒçš„çŸ¥è¯†å’Œé€»è¾‘ï¼Ÿ**è¿™ä¸ªé—®é¢˜æ¯”è¾ƒéš¾ã€‚å¦‚æœä¸ç¡®å®šï¼Œå¯ä»¥é—®ä¸€ä¸ªæ›¿æ¢é—®é¢˜:*æ”¹å˜ä¸€ä¸ªä»£ç å—ä¼šå¯¼è‡´æ”¹å˜å¦ä¸€ä¸ªå—ï¼Ÿ*

> å­˜åœ¨çœŸæ­£çš„å¤åˆ¶ï¼Œå…¶ä¸­å¯¹ä¸€ä¸ªå®ä¾‹çš„æ¯ä¸€ä¸ªæ”¹å˜éƒ½éœ€è¦å¯¹è¯¥å®ä¾‹çš„æ¯ä¸€ä¸ªå‰¯æœ¬è¿›è¡Œç›¸åŒçš„æ”¹å˜ã€‚â€”â€”ç½—ä¼¯ç‰¹Â·é©¬ä¸

æˆ‘æœ‰æ„è¯†åœ°é€‰æ‹©äº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚å‡è®¾éªŒè¯å¯†ç çš„æ­£åˆ™è¡¨è¾¾å¼ç”¨äºç›¸åŒä¸Šä¸‹æ–‡ä¸­çš„ç›¸åŒåº”ç”¨ç¨‹åºï¼Œå¦‚æœé€»è¾‘å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸¤ä¸ªåœ°æ–¹æ›´æ”¹ä»£ç ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé‡å¤ç›¸åŒçš„çŸ¥è¯†ã€‚

*2ã€‚ä»£ç é‡å¤ç€åŒæ ·çš„çŸ¥è¯†å’Œé€»è¾‘* âœ…

ç”±äºä¸¤ä¸ªæ¡ä»¶éƒ½é€‚ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤ä»£ç ä¸­çš„çŸ¥è¯†é‡å¤ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ é™¤é‡å¤çš„ä»£ç æ¥é‡æ„æˆ‘ä»¬çš„ä»£ç ã€‚

ä¹Ÿè®¸ï¼Œä½ å·²ç»æ„è¯†åˆ°å›ç­”ç¬¬äºŒä¸ªé—®é¢˜å¹¶ä¸å®¹æ˜“ã€‚æˆ‘ä»¬éœ€è¦ç†è§£åº”ç”¨ç¨‹åºçš„åº•å±‚ä¸šåŠ¡é€»è¾‘ï¼Œä»¥é¿å…åˆ é™¤**æ„å¤–çš„é‡å¤**ã€‚

# **æ„å¤–é‡å¤**

ä¸ºäº†ç†è§£æ„å¤–å¤åˆ¶ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€äº›ç¤ºä¾‹ä»£ç :

è®©æˆ‘ä»¬å†æ¬¡æ£€æŸ¥æˆ‘ä»¬çš„é—®é¢˜:

1.  ***æ˜¯å¦å­˜åœ¨çœ‹èµ·æ¥å®Œå…¨ç›¸åŒçš„ä»£ç ï¼Ÿ***
2.  ***ä»£ç æ˜¯å¦é‡å¤ç›¸åŒçš„çŸ¥è¯†å’Œé€»è¾‘ï¼Ÿ***

å’Œç¬¬ä¸€ä¸ªä¾‹å­ä¸€æ ·ï¼Œè¿™æ®µä»£ç åŒ…å«ä¸€äº›é‡å¤çš„è¯­æ³•ã€‚`ProductService`å’Œ`FeedbackService`éƒ½åœ¨é‡å¤è¿™ä¸ªä»£ç å—:

æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†è¿™æ®µä»£ç å¤–åŒ…ç»™æŠ½è±¡è¶…ç±»`CRUDService`ã€‚è¿™å°†ä¸ºæˆ‘ä»¬èŠ‚çœå‡ è¡Œé‡å¤çš„ä»£ç ã€‚

1.  *ç¡®å®å­˜åœ¨çœ‹èµ·æ¥å’Œâœ…ä¸€æ¨¡ä¸€æ ·çš„ä»£ç *

ç°åœ¨ï¼Œå…³äºç¬¬äºŒä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬ä»æå‡ºæ›¿æ¢é—®é¢˜å¼€å§‹:*æ”¹å˜ä¸€ä¸ªä»£ç å—ä¼šå¯¼è‡´æ”¹å˜å¦ä¸€ä¸ªä»£ç å—å—ï¼Ÿ*

å‡è®¾æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘å‘ç”Ÿäº†å˜åŒ–:

> ***ç°åœ¨æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥åˆ›å»ºåé¦ˆï¼Œä½†åˆ›å»ºäº§å“ä»éœ€è¦æ‹¥æœ‰é€‚å½“çš„æƒé™ã€‚***

è¿™å°†å¯¼è‡´æˆ‘ä»¬æ”¹å˜`FeedbackService`ç±»ï¼Œä½†`ProductService`ç±»ä¸éœ€è¦æ”¹å˜ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å‘ç°äº†**å¶ç„¶çš„é‡å¤**ï¼Œæˆ‘ä»¬ä¸åº”è¯¥æŠ½è±¡æˆ‘ä»¬çš„ä»£ç ã€‚

*2ã€‚ä»£ç ä¸é‡å¤ç›¸åŒçš„çŸ¥è¯†å’Œé€»è¾‘* âŒ

> *â€œå¦‚æœä¸¤ä¸ªæ˜æ˜¾é‡å¤çš„ä»£ç æ®µæ²¿ç€ä¸åŒçš„è·¯å¾„å‘å±•â€”â€”å¦‚æœå®ƒä»¬ä»¥ä¸åŒçš„é€Ÿç‡å˜åŒ–ï¼Œå¹¶ä¸”å‡ºäºä¸åŒçš„åŸå› â€”â€”é‚£ä¹ˆå®ƒä»¬ä¸æ˜¯çœŸæ­£çš„é‡å¤â€â€”â€”ç½—ä¼¯ç‰¹Â·cÂ·é©¬ä¸*

æƒ³è±¡ä¸€ä¸‹ï¼Œé€šè¿‡æ¸…ç†é‡å¤çš„ä»£ç æ¥æŠ½è±¡æˆ‘ä»¬çš„ä»£ç ï¼Œä¸ä»…æˆ‘ä»¬çš„ä¸¤ä¸ªç¤ºä¾‹ç±»ç»§æ‰¿äº†æˆ‘ä»¬çš„è¶…ç±»ï¼Œè¿˜æœ‰æ›´å¤šã€‚å› ä¸ºæˆ‘ä»¬æ¸…ç†äº†æ„å¤–çš„é‡å¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»å–æ¶ˆäº†ä»£ç çš„é‡æ„ã€‚è¿™æ¯”æ‹¥æœ‰ä¸€äº›é‡å¤çš„ä»£ç è¦ç³Ÿç³•å¾—å¤šã€‚

ç†è®ºä¸Šï¼Œæˆ‘ä»¬ç°åœ¨åº”è¯¥èƒ½å¤ŸåŒºåˆ†å¿…è¦çš„å’Œå¶ç„¶çš„å¤åˆ¶ã€‚

ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¸ç¡®å®šå‘¢ï¼Ÿ

# ä¸‰æ³•åˆ™

> *ä¸‰æŒ¯å‡ºå±€ï¼Œä½ é‡æ„*

å‘ç°çŸ¥è¯†é‡å¤å¹¶ä¸å®¹æ˜“ï¼Œæ¸…ç†æ„å¤–é‡å¤è¿œæ¯”å¤åˆ¶ä»£ç æ›´æœ‰å®³ã€‚

ä¸‰ 3ï¸âƒ£æ³•åˆ™å®šä¹‰äº†å½“ä½ å‘ç°ä¸€äº›é‡å¤çš„ä»£ç å¹¶ä¸”å‰ä¸¤ç§æƒ…å†µä¸è¶³ä»¥è¯†åˆ«å…±äº«çš„çŸ¥è¯†æ—¶ï¼Œ**åœ¨ä½ é‡æ„ä¹‹å‰ç­‰å¾…ç¬¬ä¸‰ä¸ªé‡å¤çš„**ã€‚

> *çœŸçš„å¾ˆéš¾ï¼Œæ„Ÿè§‰å¾ˆå¯æ€•ï¼Œä½†è¿˜æ˜¯é—­ä¸Šçœ¼ç›è¯•è¯•å§ã€‚â€”â€”*[*è´¾æ–¯æ±€Â·ç»´æ–¯*](https://www.justinweiss.com/articles/i-dry-ed-up-my-code-and-now-its-hard-to-work-with-what-happened/)

é©¬ä¸Â·ç¦å‹’åœ¨ä»–çš„ä¹¦*ä¸­å®šä¹‰äº†ä¸‰æ¡è§„åˆ™:é‡æ„:æ”¹è¿›ç°æœ‰ä»£ç çš„è®¾è®¡:*

*   ç¬¬ä¸€æ¬¡åšæŸä»¶äº‹ï¼Œä½ å°±å»åšã€‚
*   å½“ä½ ç¬¬äºŒæ¬¡åšç±»ä¼¼çš„äº‹æƒ…æ—¶ï¼Œä½ ä¼šå› ä¸ºé‡å¤è€Œé€€ç¼©ï¼Œä½†ä½ è¿˜æ˜¯åšäº†åŒæ ·çš„äº‹æƒ…ã€‚
*   *å½“ä½ ç¬¬ä¸‰æ¬¡åšç±»ä¼¼çš„äº‹æƒ…æ—¶ï¼Œä½ å°±é‡æ„äº†ã€‚*

# æœ€åçš„æƒ³æ³•

é‡å¤ä»£ç æ˜¯è½¯ä»¶ä¸­æŠ€æœ¯å€ºåŠ¡å’Œé”™è¯¯çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ DRY åŸåˆ™æ˜¯è½¯ä»¶å¼€å‘ä¸­æœ€æœ‰ä»·å€¼çš„åŸåˆ™ä¹‹ä¸€ã€‚ä½†æ˜¯ï¼Œæ­£ç¡®åº”ç”¨å®ƒæ›´ä¸ºé‡è¦ã€‚

è®°ä½ï¼Œæ¯å½“ä½ å‘ç° dome é‡å¤çš„ä»£ç æ—¶ï¼Œé—®é—®è‡ªå·±:*â€œæˆ‘çœ‹åˆ°çš„æ˜¯é‡å¤çš„è¯­æ³•* *è¿˜æ˜¯é‡å¤çš„çŸ¥è¯†* *ï¼Ÿâ€ã€‚*å¦‚æœä½ ä¸ç¡®å®šï¼Œåº”ç”¨ä¸‰çš„**æ³•åˆ™ã€‚**

æˆ‘å¸Œæœ›ä½ å–œæ¬¢é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚æˆ‘æ€»æ˜¯å¾ˆä¹æ„å›ç­”é—®é¢˜ï¼Œä¹Ÿä¹äºæ¥å—æ‰¹è¯„ã€‚è¯·éšæ—¶è”ç³»æˆ‘ğŸ˜Š

è¿™é‡Œæ˜¯æ— é™åˆ¶è®¿é—®åª’ä½“ä¸Šæ‰€æœ‰å†…å®¹çš„é“¾æ¥ã€‚å¦‚æœä½ ç”¨è¿™ä¸ªé“¾æ¥æ³¨å†Œï¼Œæˆ‘ä¼šèµšä¸€å°ç¬”é’±ï¼Œä¸éœ€è¦ä½ é¢å¤–ä»˜è´¹ã€‚

[](https://medium.com/@mariusbongarts/membership) [## é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium-Marius bong arts

### ä½œä¸ºä¸€ä¸ªåª’ä½“ä¼šå‘˜ï¼Œä½ çš„ä¼šå‘˜è´¹çš„ä¸€éƒ¨åˆ†ä¼šç»™ä½ é˜…è¯»çš„ä½œå®¶ï¼Œä½ å¯ä»¥å®Œå…¨æ¥è§¦åˆ°æ¯ä¸€ä¸ªæ•…äº‹â€¦

medium.com](https://medium.com/@mariusbongarts/membership) 

å…³æ³¨æˆ‘ï¼Œä¸è¦é”™è¿‡æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚æˆ‘å†™äº†å…³äº Typescriptã€Web ç»„ä»¶ã€å‰ç«¯æ¡†æ¶ã€è½¯ä»¶è®¾è®¡æ¨¡å¼ã€Chrome æ‰©å±•ä»¥åŠæ›´å¤šçš„ä¸»é¢˜ï¼ğŸ™

# å…³äºä½œè€…

Marius Bongarts æ˜¯åŸƒæ£®å“²äº’åŠ¨å…¬å¸çš„è½¯ä»¶å·¥ç¨‹åˆ†æå¸ˆã€‚ä»–è¿˜åˆ›å»ºäº† [Web Highlights Chrome æ‰©å±•](https://chrome.google.com/webstore/detail/web-highlights-%20-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm)ï¼Œå…è®¸æˆåƒä¸Šä¸‡çš„ç”¨æˆ·åœ¨æ¯ä¸ªç½‘ç«™ä¸Šåˆ›å»ºæ–‡æœ¬äº®ç‚¹å’Œä¹¦ç­¾ã€‚é€šè¿‡æä¾›æ ‡ç­¾å’Œç›®å½•ï¼Œæ‚¨å¯ä»¥åœ¨ web-highlights.com ä¸Šçš„ç›¸åº”ç½‘ç»œåº”ç”¨ç¨‹åºä¸­è½»æ¾åœ°é‡æ–°æ‰¾åˆ°æ‚¨çš„ç½‘ç»œç ”ç©¶ã€‚çœ‹çœ‹å§ï¼

é€šè¿‡**[**LinkedIn**](https://www.linkedin.com/in/marius-bongarts-6b3638171/)**ä¸æˆ‘å–å¾—è”ç³»æˆ–è€…åœ¨ [**Twitter**](https://twitter.com/MariusBongarts) ä¸Šå…³æ³¨æˆ‘ã€‚****

****[](https://medium.com/@mariusbongarts11/will-web-components-replace-frontend-frameworks-535891d779ba) [## Web ç»„ä»¶ä¼šå–ä»£å‰ç«¯æ¡†æ¶å—ï¼Ÿ

### å®ƒä»¬æ˜¯ä¸ºè§£å†³ä¸åŒçš„é—®é¢˜è€Œæ„å»ºçš„ã€‚

medium.com](https://medium.com/@mariusbongarts11/will-web-components-replace-frontend-frameworks-535891d779ba) [](https://medium.com/@mariusbongarts11/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d) [## æˆ‘çš„ç¬¬ä¸€ä¸ª 9.99 ç¾å…ƒä¹‹æ—…ä¸æˆ‘çš„å‰¯ä¸š

### Chrome æ‰©å±•å¸¦æ¥çš„è¢«åŠ¨æ”¶å…¥

medium.com](https://medium.com/@mariusbongarts11/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d) [](/publish-your-side-project-now-1e3bb170c079) [## å‘å¸ƒä½ çš„å‰¯ä¸šï¼Œç°åœ¨ï¼

### å¦‚æœä½ ä¸ä¸ºä½ çš„ç¬¬ä¸€æ¬¡å‘å¸ƒæ„Ÿåˆ°å°´å°¬ï¼Œé‚£ä½ å‘å¸ƒå¾—å¤ªæ™šäº†ã€‚

javascript.plainenglish.io](/publish-your-side-project-now-1e3bb170c079) 

*æ›´å†…å®¹äº* [***æ™®é€šè‹±è¯­***](https://plainenglish.io/) *ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚* [***æ¨ç‰¹***](https://twitter.com/inPlainEngHQ) *å’Œ*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*è¿½éšæˆ‘ä»¬ã€‚åŠ å…¥æˆ‘ä»¬çš„* [***ç¤¾ç¾¤ä¸å’Œ***](https://discord.gg/GtDtUAvyhW) *ã€‚*****