<html>
<head>
<title>A Simple, Quick &amp; Easy Guide to JavaScript Cookies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单、快速和容易的JavaScript Cookies指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-simple-quick-easy-guide-to-javascript-cookies-8d71dfe2a64?source=collection_archive---------9-----------------------#2022-09-12">https://javascript.plainenglish.io/a-simple-quick-easy-guide-to-javascript-cookies-8d71dfe2a64?source=collection_archive---------9-----------------------#2022-09-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="232e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何使用JavaScript cookies在浏览器中保存数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/53b00fced27c1a23f99162f44df6fbf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yxshS_LthbVtOkg8"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@mockaroon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mockaroon</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a>, I know, they are macaroon and not cookies</figcaption></figure><p id="8f08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我一直认为JavaScript是一种“易变的”语言。这不是真的。仅仅因为一门语言是为web脚本而构建的，并不意味着你不能永久保存东西。</p><p id="2e1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JavaScript是一种庞大的语言，结合各种框架，你可以用它来编写数据库，这里我们将讨论最简单的方法。在浏览器中保存数据，特别是通过cookies。</p><p id="0f6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这项技术非常有用，因为它使您有可能保存数据，并在重新打开浏览器时检索这些数据。一个应用程序的例子可能是编写一个Google Chrome扩展，并将这一知识与使用cookies编写一些有用的扩展的可能性相结合。</p><div class="ls lt gp gr lu lv"><a href="https://levelup.gitconnected.com/how-to-write-a-google-chrome-extension-c9dc2ec8ff85" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">如何编写Google Chrome扩展</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">两分钟内创建一个谷歌浏览器扩展</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><h2 id="e839" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">JavaScript中cookies的工作原理</h2><p id="1477" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">Cookies很简单:选择一个名称和值，一切都设置好了。好吧，没那么快，他们甚至需要一个有效期！<br/>你应该把cookies看作一个键-值对，你选择一个名字作为键和一个值来关联。<br/>cookie遵循这个结构<code class="fe ni nj nk nl b">[nameOfYourCookie]=[valueOfYourCookie]; expires=[expirationDate]</code>。<br/>如果您不设置到期日期，当您关闭浏览器时，cookie将会丢失，因为它仅在会话期间有效。</p><h2 id="f5aa" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">JavaScript cookies的一个例子</h2><p id="58f7" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">我使用了Visual Studio代码和Live Server扩展来简化这个例子。这是一个快速设置本地服务器的好方法。如果您没有使用这个不错的扩展，请在您的环境中安装它，或者为您的文本编辑器/IDE找到一个等效的替代方案。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/72620ac468dfe90150fd14a23fe4c08c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nJNojhGRJMlFgqkc-zTRtg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Live Server</figcaption></figure><p id="d443" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意这一步，使用一个程序来模拟一个本地服务器，因为如果你直接用浏览器(例如Google Chrome)打开<code class="fe ni nj nk nl b">saveCookies.html</code>,这个例子将无法工作。如果你直接打开一个文件，你会看到一个类似于<code class="fe ni nj nk nl b">file:///C:/Users/Loryn/Desktop/Coding/JavascriptCookiesTutorial/saveCookies.html </code>的路径，在这种情况下，你的浏览器不会保存任何cookie。<br/>作为参考，您可以随时在以下链接查看该项目的GitHub资源库:<a class="ae kv" href="https://github.com/Lorebitryo/cookies-javascript-tutorial-medium.git" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/Lorebitryo/cookies-JavaScript-tutorial-medium . git</a></p><p id="18c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个简单的例子将教你如何使用cookies，我们将使用四个简单的文件:<code class="fe ni nj nk nl b">saveCookies.html, saveCookies.js, viewCookies.html, viewCookies.js</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/12410e6551660edee2de16ddbd226a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*3saZETNOWYHSU6U6icSlpg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The four files that we will use</figcaption></figure><h2 id="b5ea" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">创建HTML模板</h2><p id="fb04" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><code class="fe ni nj nk nl b">saveCookies.html</code>文件是一个<code class="fe ni nj nk nl b">.html</code>页面，有两个输入字段、一个“保存”按钮和一个到您保存的cookies页面的链接。<br/>我们将使用第一个输入字段保存cookie的名称，第二个字段保存值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/05a9d0720bc5378b64aa85bc7c72ccf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*3Bqfqx8k0oZNPf-W9Ig1Dg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">saveCookies.html page</figcaption></figure><p id="0db0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是创建此页面的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">saveCookies.html code</figcaption></figure><p id="44b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们将创建模板来查看我们保存的cookies。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/c7a4f1eb0e81ca54d819585297824790.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*kzL3hrWN1HZN3SGTf4SI9Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">viewCookies.html page</figcaption></figure><p id="0171" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用下面的HTML创建<code class="fe ni nj nk nl b">viewCookies.html</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">viewCookies.html code</figcaption></figure><p id="1f6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个带有空div的简单页面，我们将使用cookies动态填充这个div。</p><h2 id="33a7" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">如何用JavaScript保存cookies</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">saveCookies.js file</figcaption></figure><p id="43f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在第5–6行中，我们从输入字段中检索了<code class="fe ni nj nk nl b">cookieName</code>和<code class="fe ni nj nk nl b">cookieValue</code>，并将它们用作<code class="fe ni nj nk nl b">setCookies</code>函数的输入。<br/>基础部分是第10行中的函数<code class="fe ni nj nk nl b">setCookies</code>，它将cookie的名称、值和有效天数作为输入。为了实际设置cookie，我们必须使用对象<code class="fe ni nj nk nl b">document.cookie</code>，您可以在第15行看到一个例子。<br/>我认为最烦人的部分是截止日期，这里有一个分解:<br/>在第11行我们检索当前日期，在第12行我们使用<code class="fe ni nj nk nl b">setTime() </code>函数，它需要毫秒的输入，因为我们必须在<code class="fe ni nj nk nl b">expirationDate</code>上调用<code class="fe ni nj nk nl b">getTime()</code>函数(以毫秒为单位返回当前日期)，现在我们可以添加我们想要的所有日期。<br/>你可以添加任何你想要的值，在这个例子中，我在输入中使用<code class="fe ni nj nk nl b">days</code>乘以<code class="fe ni nj nk nl b">ONE_DAY_MILLISECONDS</code>来设置到期日期。</p><h2 id="cae1" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">如何用JavaScript检索所有cookies</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">viewCookies.js file</figcaption></figure><p id="1de2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过使用<code class="fe ni nj nk nl b">document.cookie</code>对象来检索所有保存的cookies。<br/>一个cookie和下一个cookie之间用分号隔开，所以在这个例子中，为了检索所有cookie并返回一个数组，我们使用了<code class="fe ni nj nk nl b">split(";")</code>函数。我们将把检索到的cookies分配给div <code class="fe ni nj nk nl b">divSavedCookies</code>。</p><h2 id="a71d" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">享受您的网站与保存和阅读cookies的功能</h2><p id="73d7" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">单击“Go Live”按钮激活您的本地服务器(如果您使用的是启用了Live服务器的Visual Studio代码)或启动您的本地服务器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/b7ced0e69f1edd5d136eaef9b2f12251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-khMY3q82bmFnd_hnFgwQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Go Live button</figcaption></figure><p id="6f61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开浏览器，连接到<a class="ae kv" href="http://127.0.0.1:5500/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:5500/ </a>(使用Live Server可以读取右下角的端口号，在我的例子中是5500)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/c1351ed8e18821afad116c05629cc058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V_ECR5BgS3HJobrwjpPCpQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Port 5500</figcaption></figure><p id="43bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您应该会看到包含所有文件的目录</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/978a840fc6a07916e1bf03356d6c3d60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sF73sLUQeFzXI2R78UE3OQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Directory localhost:5500</figcaption></figure><p id="ef02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击<code class="fe ni nj nk nl b">saveCookies.html</code>并测试您的程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/cd963ae8fa0f28f7fb10b5aa683b8684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*tsw_jH9Anv8mOzRo5Z4ooQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Save Cookies page</figcaption></figure><p id="ff68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设置您的cookie并按“保存”，然后点击“查看cookie”链接并阅读您的所有cookie。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/1da682f191911fba02ae73bcb68a4a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*8KX0OocsJWIn0-wgDUs7GQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">View Cookies page</figcaption></figure><p id="8a2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">学习如何使用浏览器中的开发工具是非常重要的。<br/>在谷歌Chrome中，按F12，你将打开DevTools。从DevTools中，你可以读取你保存的所有cookies，点击“应用程序”，“Cookies”，然后点击你的地址(在我的例子中是<code class="fe ni nj nk nl b">http://127.0.0.1:5500</code>)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/16541a148bad8740de98acfaa753ab9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GIz9Cv6l-A8fOnzS54oPPA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Google Chrome DevTools</figcaption></figure><h2 id="bc03" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">结论</h2><p id="d060" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在本文中，我们学习了如何设置一个简单的页面来保存和读取我们的cookies。</p><p id="9218" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非常感谢您花时间阅读我的文章。</p><h2 id="96d3" class="mk ml iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated">资源</h2><p id="8689" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/Lorebitryo/cookies-javascript-tutorial-medium.git" rel="noopener ugc nofollow" target="_blank"> GitHub项目库</a> <br/> <a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer" rel="noopener ugc nofollow" target="_blank"> Live服务器扩展</a> <br/> <a class="ae kv" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a></p><p id="3745" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ny">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">免费周报</em> </strong> </a> <em class="ny">。关注我们上</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">推特</em> </strong> </a>，<a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">领英</em> </strong> </a> <strong class="ky ir"> <em class="ny">，</em></strong><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">YouTube</em></strong></a><strong class="ky ir"><em class="ny">，以及</em></strong><em class="ny"><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">不和</em> </strong> </a></em> </strong> <em class="ny">对成长黑客感兴趣？检查出</em> </a><a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">电路</em> </strong> </a> <strong class="ky ir"> <em class="ny">。</em>T77】</strong></p></div></div>    
</body>
</html>