# æŒæ¡ä½¿ç”¨ Next.js å’Œ Firebase æ„å»ºåº”ç”¨ç¨‹åº

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/master-building-an-app-with-next-js-and-firebase-64ca4867a202?source=collection_archive---------1----------------------->

## äº†è§£åœ¨ Next.js å’Œ Firebase ä¸­å¼€å‘åº”ç”¨ç¨‹åºçš„æŠ€å·§ã€‚

![](img/6d5b41f818159b43ef3b1d35e8441855.png)

Screenshot of the project

å¦‚æœæ‚¨é˜…è¯»äº†è¿™ç¯‡æ–‡ç« ï¼Œé‚£ä¹ˆæ‚¨å¸Œæœ›äº†è§£å¦‚ä½•åœ¨ Next.js å’Œ Firebase ä¸­å¼€å‘åº”ç”¨ç¨‹åºï¼Œæˆ–è€…æ‚¨åªæ˜¯ä¸€ä¸ªå¥½å¥‡çš„äººï¼Œæƒ³è¦æ¢ç´¢è¿™äº›é€‰é¡¹ã€‚è¿™æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œå› ä¸º Next.js å’Œ Firebase æ˜¯ç›®å‰ web å¼€å‘ä¸­å¿…ä¸å¯å°‘çš„å·¥å…·ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Next.js å’Œ Firebase å¼€å‘åº”ç”¨ç¨‹åºã€‚é€šè¿‡æ•°å°æ—¶çš„å®è·µå’Œåº”ç”¨ä½ å°†åœ¨è¿™é‡Œæ‰¾åˆ°çš„æŠ€å·§ï¼Œå¦‚æœæœ‰äººå‘Šè¯‰æˆ‘ä½ æ˜¯ web å¼€å‘é¢†åŸŸçš„ä½¼ä½¼è€…ï¼Œæˆ‘ä¼šæ¯«ä¸æ€€ç–‘ã€‚

ä¸ºäº†å®ç°è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘å°†ä½¿ç”¨**æ´›è’‚åŠ¨ç”»**æ¥è·å¾—è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘è¿˜å°†ä½¿ç”¨**é¡ºé£ CSS** ä½œä¸ºæˆ‘çš„ç»„ä»¶çš„æ ·å¼ï¼Œä½¿ç”¨**ååº”çƒ­åå¸**ä½œä¸ºé€šçŸ¥ã€‚

# æ¦‚è§‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°:

*   ***å¦‚ä½•ç”¨ Firebase è®¤è¯å®ç°è®¤è¯*** ï¼Œ
*   ***å¦‚ä½•ç®¡ç†å¯¹è®¤è¯ç”¨æˆ·é¡µé¢çš„è®¿é—®*** ï¼Œ
*   ***ç”¨ Firebase Firestore è¿›è¡Œæ•°æ®æ“ä½œã€‚***

ä¸ºäº†å®ç°ä¸Šè¿°æ¦‚å¿µï¼Œæˆ‘ä»¬å°†å¼€å‘ä¸€ä¸ª **Todo åº”ç”¨ç¨‹åº**ä½œä¸ºæœ¬æ–‡çš„æ•™å­¦æ¨¡å‹ã€‚

# 1.æˆ‘ä»¬å¼€å§‹å§

[**Next.js**](https://nextjs.org/) æ˜¯ç”Ÿäº§ç”¨çš„ React æ¡†æ¶ã€‚Next.js ä¸ºæ‚¨æä¾›äº†æœ€ä½³çš„å¼€å‘äººå‘˜ä½“éªŒï¼Œå®ƒæ‹¥æœ‰ç”Ÿäº§æ‰€éœ€çš„æ‰€æœ‰åŠŸèƒ½:æ··åˆé™æ€&æœåŠ¡å™¨æ¸²æŸ“ã€ç±»å‹è„šæœ¬æ”¯æŒã€æ™ºèƒ½ç»‘å®šã€è·¯å¾„é¢„å–ç­‰ç­‰ã€‚ä¸éœ€è¦é…ç½®(*ä½ å¯ä»¥åœ¨ Next.js ä¸»é¡µä¸Šçœ‹åˆ°*)ã€‚

è¦åˆ©ç”¨æ‰€æœ‰è¿™äº›ä¼˜åŠ¿ï¼Œæ‚¨åº”è¯¥ä»ğŸ‘‰[æ­¤å¤„](https://nextjs.org/docs/getting-started)

**Firebase** æ˜¯ä¸€ä¸ªåç«¯å³æœåŠ¡ï¼Œå®ƒä¸ºæ‚¨æä¾›ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼Œæ‚¨åªéœ€å°†è¿™äº›è§£å†³æ–¹æ¡ˆä¸æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆäº’è”å³å¯ã€‚åœ¨è¿™äº›ç°æˆçš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°:èº«ä»½è®¤è¯ã€æ•°æ®åº“ã€å­˜å‚¨å’Œè®¸å¤šå…¶ä»–è§£å†³æ–¹æ¡ˆã€‚

è¦åˆ©ç”¨æ‰€æœ‰è¿™äº›ä¼˜åŠ¿ï¼Œæ‚¨åº”è¯¥ä»ğŸ‘‰[æ­¤å¤„](https://firebase.google.com/)

## å±¥è¡Œ

å¯¹äºæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ yarn æ¥åˆ›å»ºé¡¹ç›®ï¼Œå¹¶æ·»åŠ é¡¹ç›®çš„ä¸åŒä¾èµ–é¡¹ã€‚æˆ‘ä»¬çš„é¡¹ç›®å°†åœ¨æ‰“å­—ç¨¿ä¸­å®Œæˆï¼

1ï¸âƒ£åˆ›å»ºçš„é¡¹ç›®:`yarn create next-app --typescript`

2ï¸âƒ£å®‰è£…æ¶ˆé˜²åŸºåœ°:`yarn add firebase`

## a.ç«åŸºé…ç½®

åœ¨ä¸‹é¢çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘å±•ç¤ºäº† firebase çš„åˆå§‹åŒ–ï¼Œæ­£å¦‚æ‚¨å°†çœ‹åˆ°çš„ï¼Œæˆ‘å¯¼å‡ºäº† Firebase çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹å°†è¢« Firestore é‡æ–°ç”¨äºèº«ä»½éªŒè¯å’Œæ•°æ®æ“ä½œã€‚

firebase.ts

## b.ä½¿ç”¨ Firebase å’Œ Next.js è¿›è¡Œèº«ä»½éªŒè¯

1ï¸âƒ£:æˆ‘é¦–å…ˆç”¨ Firebase åˆ›å»ºå®ç°è®¤è¯é€»è¾‘çš„æœåŠ¡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä½¿ç”¨äº†ä¸‰ä¸ªå‡½æ•°:

-ä¸€ä¸ªç”¨äºä¸ Google çš„è¿æ¥ï¼Œ
-å¦ä¸€ä¸ªç”¨äºåŒ¿åè®¤è¯ï¼Œ
-æœ€åä¸€ä¸ªç”¨äºæ³¨é”€ã€‚

2ï¸âƒ£:ä¸€æ—¦å®Œæˆäº†è¿™äº›ï¼Œæˆ‘ä»¬å°±åˆ›å»ºè¿æ¥é¡µé¢æ¥å®ç°åº”ç”¨ç¨‹åºä¸­çš„è¿æ¥ã€‚

ä¸ºæ­¤ï¼Œæˆ‘åˆ›é€ äº†:

*   å°†å‘ˆç°çš„è¿æ¥ä»¥åŠè¿æ¥é¡µé¢çš„ç»„ä»¶ã€‚

components/Login.tsx

pages/index.tsx

*   ç„¶åï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªèº«ä»½éªŒè¯ä¸Šä¸‹æ–‡ï¼Œå…è®¸æˆ‘é€šè¿‡æ·»åŠ åˆ°åº”ç”¨ç¨‹åºæ ¹çš„æä¾›è€…æ¥ä¿å­˜å’Œå…±äº«æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­çš„ç”¨æˆ·çŠ¶æ€ã€‚

store/auth.context.tsx

pages/__app.tsx

*   æœ€åï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºæ£€æŸ¥ç”¨æˆ·åœ¨è¯·æ±‚è®¿é—®å—ä¿æŠ¤èµ„æºæ—¶æ˜¯å¦ç™»å½•ã€‚è¯¥ç»„ä»¶å…è®¸åœ¨ä»–ä¸åœ¨æ—¶å°†ä»–é‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼Œåœ¨ä»–åœ¨æ—¶å°†ä»–é‡å®šå‘åˆ°æ‰€è¯·æ±‚çš„èµ„æºã€‚

components/AuthCheck.tsx

ç°åœ¨ï¼Œç»„ä»¶å°† AuthCheck ä½œä¸ºçˆ¶ç»„ä»¶ï¼Œä»¥ç¡®ä¿å—ä¿æŠ¤çš„èµ„æºåªæœ‰åœ¨ç™»å½•æ—¶æ‰å¯è®¿é—®ã€‚æˆ‘å°†åœ¨ä¸‹é¢å‡ è¡Œä¸­å‘æ‚¨å±•ç¤ºè¿™ä¸€ç‚¹ã€‚

## c.ç”¨ Firestore å’Œ Next.js è¿›è¡Œæ•°æ®æ“ä½œ

èº«ä»½éªŒè¯å®Œæˆåï¼Œè®©æˆ‘ä»¬ç»§ç»­åº”ç”¨ç¨‹åºä¸­å…¶ä»–é¡µé¢åŠå…¶æœåŠ¡çš„å®ç°ã€‚

![](img/24382a9d0b5b84d551a54bec48138c24.png)![](img/1a6742d6611d11f58adc568540080e84.png)![](img/90ce66f9bed7c71aaafc20056f66976d.png)![](img/ec4ffc05969ee96303a512c1d24a4da6.png)![](img/f51de5b8f795f4f3adfd4888f63ed6f1.png)![](img/e367e48409007e7d1a494ed961e7c838.png)

1ï¸âƒ£:è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä» Firebase åˆ›å»ºã€æ£€ç´¢å’Œä¿®æ”¹æ•°æ®çš„æœåŠ¡ã€‚

firebase/firestore.ts

2ï¸âƒ£:è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼Œå®ƒä½¿ç”¨å‰ä¸€ä¸ªæœåŠ¡çš„åŠŸèƒ½æ¥æ”¶é›†ä»»åŠ¡ã€‚

firebase/task.firestore.ts

3ï¸âƒ£:ç°åœ¨è®©æˆ‘ä»¬ä¸ºåº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†åˆ›å»ºé¡µé¢å’Œç»„ä»¶ã€‚

*   è·å–æ‰€æœ‰ä»»åŠ¡:`pages/todo/index.tsx`ã€`components/Todos.tsx`ã€`components/Todo.tsx`ã€`components/EmptyTodo.tsx`å’Œ`components/Loading.tsx`

pages/todo/index.tsx

components/Todos.tsx

components/Todo.tsx

components/EmptyTodo.tsx

components/Loading.tsx

*   ç”¨äºåˆ›å»ºä»»åŠ¡å¹¶å°†å…¶æ ‡è®°ä¸ºå®Œæˆ:`pages/todo/new-task.tsx`å’Œ`components/NewTodo.tsx`

pages/todo/new-task.tsx

components/NewTodo.tsx

*   ç”¨äºæŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…:`pages/todo/detail/[todoId].tsx`å’Œ`components/SingleTodo.tsx`

pages/todo/detail/[todoId].tsx

components/SingleTodo.tsx

# ä¸´ç»ˆé—è¨€

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•ä½¿ç”¨ Next.js æŒæ¡ Firebase å¼€å‘ã€‚

æˆ‘ä»¬æ¢ç´¢äº†:

*   ***å¦‚ä½•ç”¨ Firebase è®¤è¯å®ç°è®¤è¯*** ï¼Œ
*   ***å¦‚ä½•ç®¡ç†å¯¹è®¤è¯ç”¨æˆ·é¡µé¢çš„è®¿é—®*** ï¼Œ
*   ***ç”¨ Firebase Firestore è¿›è¡Œæ•°æ®æ“ä½œã€‚***

è¿˜æœ‰å¾ˆå¤šå…¶ä»–ä½ å¯ä»¥ç”¨ Firebase åšçš„äº‹æƒ…ï¼Œä½ å¯ä»¥åœ¨[***Firebase å®˜æ–¹ç½‘ç«™*** ä¸Šæ‰¾åˆ°ã€‚](http://firebase.google.com)

> æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ å¯¹è¿™ä¸ªé—®é¢˜æœ‰æ›´æ¸…æ™°çš„è®¤è¯†ã€‚ä¸è¦çŠ¹è±«å»çœ‹ [**æºä»£ç **](https://github.com/ShekMak/todo-next) æˆ–è€…å»çœ‹ [**æ¼”ç¤º**](http://todo-next-firebase-lottie.vercel.app/) *ğŸ˜Šã€‚*

æ„Ÿè°¢æ‚¨é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æœŸå¾…æ‚¨çš„åé¦ˆã€‚

# å‚è€ƒ

[](https://github.com/ShekMak/todo-next) [## GitHub-shek mak/Todo-Next:Todo Next æ˜¯ä¸€ä¸ªæ¼”ç¤ºåº”ç”¨ç¨‹åºï¼Œç»™å‡ºäº†å¦‚ä½•ä½¿ç”¨ Nextjs çš„æç¤ºâ€¦

### Todo Next æ˜¯ä¸€ä¸ªæ¼”ç¤ºåº”ç”¨ç¨‹åºï¼Œç»™å‡ºäº†å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Nextjsã€Firebase å’Œ Lottie åŠ¨ç”»çš„æŠ€å·§ã€‚â€¦

github.com](https://github.com/ShekMak/todo-next) [](https://nextjs.org) [## Vercel çš„ next . js-React æ¡†æ¶

### ç”Ÿäº§çº§ååº”å¯æ‰©å±•çš„åº”ç”¨ã€‚ä¸–ç•Œé¢†å…ˆçš„å…¬å¸ä½¿ç”¨ Vercel çš„ Next.js æ¥æ„å»ºé™æ€å’Œâ€¦

nextjs.org](https://nextjs.org) [](https://firebase.google.com) [## é‡ç«åŠ›ç‚¹

### ç”± Google æ”¯æŒï¼Œå—åˆ°åº”ç”¨ç¨‹åºå¼€å‘å›¢é˜Ÿçš„å–œçˆ±â€”â€”ä»åˆåˆ›å…¬å¸åˆ°å…¨çƒä¼ä¸šï¼Œæˆ‘ä»¬åˆšåˆšå®Œæˆäº† Firebaseâ€¦

firebase.google.com](https://firebase.google.com) [](https://lottiefiles.com) [## å…è´¹ Lottie åŠ¨ç”»æ–‡ä»¶ã€å·¥å…·å’Œæ’ä»¶

### ä¸–ç•Œä¸Šæœ€å¤§çš„åœ¨çº¿å¹³å°ï¼Œä¸–ç•Œä¸Šæœ€å°çš„åŠ¨ç”»æ ¼å¼ï¼Œä¾›è®¾è®¡å¸ˆã€å¼€å‘äººå‘˜ç­‰ä½¿ç”¨â€¦

lottiefiles.com](https://lottiefiles.com) [](https://tailwindcss.com) [## æ— éœ€ç¦»å¼€ä½ çš„ HTML å°±èƒ½å¿«é€Ÿå»ºç«‹ç°ä»£ç½‘ç«™ã€‚

### é¡ºé£ CSS æ¡†æ¶çš„æ–‡æ¡£ã€‚

tailwindcss.com](https://tailwindcss.com) [](https://react-hot-toast.com/) [## ååº”-çƒ­-åå¸-é•‡ä¸Šæœ€å¥½çš„ååº”é€šçŸ¥-ååº”-çƒ­-åå¸

### ä½¿ç”¨ react-hot-toast å°†æ¼‚äº®çš„é€šçŸ¥æ·»åŠ åˆ° React åº”ç”¨ç¨‹åºä¸­ã€‚è½»é‡çº§ã€‚é»˜è®¤å¸çƒŸçƒ­ã€‚

react-hot-toast.com](https://react-hot-toast.com/) 

*æ›´å¤šå†…å®¹çœ‹* [***è¯´ç™½äº†ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„***](http://plainenglish.io/) **[***å…è´¹æ¯å‘¨ç®€è®¯***](http://newsletter.plainenglish.io/) *ã€‚åœ¨æˆ‘ä»¬çš„* [***ç¤¾åŒºä¸å’Œè°***](https://discord.gg/GtDtUAvyhW) *è·å¾—ç‹¬å®¶è·å¾—å†™ä½œæœºä¼šå’Œå»ºè®®ã€‚***