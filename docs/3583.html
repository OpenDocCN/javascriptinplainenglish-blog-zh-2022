<html>
<head>
<title>How to Use the FormData Object</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用FormData对象</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-the-formdata-object-430ba5f94629?source=collection_archive---------6-----------------------#2022-09-09">https://javascript.plainenglish.io/how-to-use-the-formdata-object-430ba5f94629?source=collection_archive---------6-----------------------#2022-09-09</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="15c1" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">了解如何在JavaScript/TypeScript中使用FormData对象</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/808c6b4759b068e1b8701dd680934131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*86ImgqLiTZiWUoPx5JFf2Q.jpeg"/></div></div></figure><p id="6b19" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">JavaScript FormData接口为我们提供了一种创建表示表单字段及其值的键值对对象的方法。</p><p id="866b" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果编码类型设置为<code class="fe lo lp lq lr b">“multipart/form-data"</code>，它使用的格式与表单使用的格式相同。这使得在与fetch或XMLHTTPRequest一起发送表单数据之前格式化表单数据变得容易。</p><h2 id="d727" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">什么是FormData对象？</h2><p id="ebd1" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">为了完全理解FormData对象，我们需要知道它是什么。FormData接口是所有主流浏览器都支持的原生浏览器接口<a class="ae mq" href="https://caniuse.com/mdn-api_formdata" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="fa17" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">创建这个接口是为了让开发人员更容易地访问表单域的内容及其值。这有助于准备提交给API的内容，或者有助于对所述字段执行验证。</p><h2 id="f21b" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">如何创建FormData对象？</h2><p id="8558" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">可以使用FormData构造函数创建FormData对象。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mr ms l"/></div></figure><h2 id="bca1" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">如何访问FormData对象中的数据？</h2><p id="6114" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">FormData对象允许我们直接通过get()方法检索值。您还可以通过相应的方法追加或删除值。还可以用set()方法为一个键设置一个新值。</p><p id="ba8d" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">最后，还可以通过遍历formDate.entries()或使用for…of循环来遍历键值对。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mr ms l"/></div></figure><h2 id="ee1a" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">如何基于表单数据创建URL查询参数？</h2><p id="e6c8" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">如果你想把表单数据转换成一组查询参数，这很容易做到。您可以将FormData对象直接传递到URLSearchParams中。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mr ms l"/></div></figure><h2 id="3c53" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">如何使用Fetch API发布表单数据</h2><p id="bca7" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">FormData对象可以很容易地与Fetch API一起使用。您可以简单地将对象作为请求的主体进行传递。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mr ms l"/></div></figure><h2 id="087c" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">如何使用FormData事件</h2><p id="3a48" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">每当为窗体创建FormData对象时，都会针对该窗体调度一个事件。我们可以监听这个事件，并将一些逻辑绑定到它，例如将表单数据提交给一个API端点。</p><p id="542b" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">在下面的例子中，我们在提交表单时创建了一个FormData对象。我们侦听FormData事件并提交数据。这让我们可以自由地创建表单数据，而不仅仅是提交表单数据。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="mr ms l"/></div></figure><h2 id="e7a5" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">额外资源</h2><ul class=""><li id="47f9" class="mt mu ir ku b kv ml ky mm lb mv lf mw lj mx ln my mz na nb bi translated"><a class="ae mq" href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" rel="noopener ugc nofollow" target="_blank"> MDN表单数据</a></li><li id="cc1f" class="mt mu ir ku b kv nc ky nd lb ne lf nf lj ng ln my mz na nb bi translated"><a class="ae mq" href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" rel="noopener ugc nofollow" target="_blank"> MDN URLSearchParams </a></li><li id="6867" class="mt mu ir ku b kv nc ky nd lb ne lf nf lj ng ln my mz na nb bi translated"><a class="ae mq" href="https://caniuse.com/mdn-api_formdata" rel="noopener ugc nofollow" target="_blank">表单数据浏览器支持</a></li><li id="da9d" class="mt mu ir ku b kv nc ky nd lb ne lf nf lj ng ln my mz na nb bi translated"><a class="ae mq" href="https://developer.mozilla.org/en-US/docs/Web/API/FormDataEvent" rel="noopener ugc nofollow" target="_blank"> MDN表单数据事件</a></li></ul><h2 id="019e" class="ls lt ir bd lu lv lw dn lx ly lz dp ma lb mb mc md lf me mf mg lj mh mi mj mk bi translated">结论</h2><p id="50cc" class="pw-post-body-paragraph ks kt ir ku b kv ml js kx ky mm jv la lb mn ld le lf mo lh li lj mp ll lm ln ik bi translated">FormData对象在处理表单数据、获取请求和url参数处理时非常有用。它的浏览器支持是全面绿色的，没有理由不利用这个API。</p><p id="b141" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">感谢阅读。如果你对此有想法，一定要留下评论。</p><p id="02df" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果你喜欢我的内容，并想支持我的努力，考虑通过<a class="ae mq" href="https://medium.com/@WesleySmits/membership" rel="noopener">我的会员链接</a>成为一个媒体订阅者。这不会花费你任何额外的费用，但Medium会把部分收益给我，让我推荐你。</p><p id="97f7" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果你愿意，你可以在<a class="ae mq" href="https://www.linkedin.com/in/wesley-robert-smits/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae mq" href="https://twitter.com/iamwesleysmits" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上联系我！</p><div class="nh ni gq gs nj nk"><a href="https://medium.com/@WesleySmits/membership" rel="noopener follow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd is gz z fq np fs ft nq fv fx iq bi translated">通过我的推荐链接加入Medium-Wesley Smits</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">阅读韦斯利·斯密特(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kq nk"/></div></div></a></div></div><div class="ab cl nz oa hv ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="ik il im in io"><p id="e4c0" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated"><em class="og">更多内容看</em> <a class="ae mq" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="og">说白了就是io </em> </strong> </a> <em class="og">。报名参加我们的</em> <a class="ae mq" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="og">免费周报</em> </strong> </a> <em class="og">。关注我们关于</em> <a class="ae mq" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="og">推特</em> </strong> </a>，<a class="ae mq" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="og">领英</em> </strong> </a> <em class="og">，</em><a class="ae mq" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="og">YouTube</em></strong></a><em class="og"/><a class="ae mq" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="og">不和</em> </strong> </a> <em class="og">。</em></p></div></div>    
</body>
</html>