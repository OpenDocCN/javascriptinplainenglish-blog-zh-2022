# æ¯ä¸ªå¼€å‘äººå‘˜éƒ½åº”è¯¥çŸ¥é“çš„ 4 ä¸ªè‡ªå®šä¹‰ React æŒ‚é’©

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/4-custom-react-hooks-every-developer-should-know-5d85ce681c6a?source=collection_archive---------0----------------------->

## 4 ä¸ªè‡ªå®šä¹‰ååº”æŒ‚é’©ï¼Œæé«˜æ‚¨çš„æ•ˆç‡

![](img/558b7aa00b58a41c20bfab5501f367d9.png)

Photo by [Lautaro Andreani](https://unsplash.com/@lautaroandreani?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

æœ‹å‹ä»¬ï¼Œå¦‚æœæˆ‘æ—©ç‚¹å­¦ä¼šè¿™ 4 ä¸ª React é’©å­ï¼Œä¹Ÿè®¸æˆ‘èƒ½å†™å‡ºæ›´æ¼‚äº®çš„ä»£ç ã€‚

å®ƒä»¬æå¤§åœ°æé«˜äº†æˆ‘çš„å·¥ä½œæ•ˆç‡å’Œä»£ç çš„å¯ä¼¸ç¼©æ€§å’Œå¯è¯»æ€§ã€‚ä½ ä¸€å®šä¹Ÿæƒ³å­¦å§ï¼Ÿ

# 1.ä½¿ç”¨æ•°é‡

ä»¥å‰æˆ‘ç»å¸¸å†™è¿™ç§é£æ ¼çš„ä»£ç ï¼Œç»„ä»¶åˆšæ¸²æŸ“çš„æ—¶å€™ï¼Œéœ€è¦å‘é€ä¸€ä¸ªè¯·æ±‚æˆ–è€…åšä¸€äº›å…¶ä»–çš„é€»è¾‘ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ã€‚

è¿™å¾ˆç®€å•ï¼Œä¸æ˜¯å—ï¼Ÿä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹:*è¯­ä¹‰ä¸å¤Ÿæ¸…æ™°ï¼Œå³ä½¿æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªç©ºæ•°ç»„ã€‚*

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®šåˆ¶ä¸€ä¸ªåä¸º`useMount`çš„é’©å­ï¼Œåªåœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡å‘ˆç°çš„æ—¶å€™æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚

**æºä»£ç **

**ç¤ºä¾‹**

ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œ`useMount`ä¸å†æ‰§è¡Œï¼Œå¤ªå¥½äº†ï¼

![](img/ee095b6a30bfd1d9d959850bacef1a7e.png)

# 2.ä½¿ç”¨å¸è½½

å½“ç»„ä»¶è¢«å¸è½½æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦è§¦å‘ä¸€äº›é€»è¾‘ï¼Œæ¯”å¦‚æ¸…é™¤è®¡æ—¶å™¨ï¼Œæˆ‘ä»¬å°†ç¼–å†™å¦‚ä¸‹ä»£ç :

æ˜¾ç„¶ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥çœ‹åˆ°å®ƒæ˜¯åœ¨ç»„ä»¶å¸è½½æ—¶æ‰§è¡Œçš„ã€‚

æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ªé’©å­ï¼Œ`useUnmount`æ¥æŒ‡ç¤ºå½“ç»„ä»¶è¢«å¸è½½æ—¶å›è°ƒå‡½æ•°è¢«æ‰§è¡Œã€‚

**æºä»£ç **

çœŸçš„è¿™ä¹ˆç®€å•å—ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å®ƒã€‚

**ä¾‹å­**

å½“â€œå­â€ç»„ä»¶è¢«é”€æ¯æ—¶ï¼Œç¡®å®æ‰§è¡Œäº†â€œuseUnmountâ€å›è°ƒå‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°`count`çš„å€¼æ˜¯åˆå§‹å€¼ 0ï¼Œè€Œä¸æ˜¯ 10ï¼Œ**æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´è¿™æ ·é”™è¯¯çš„ç»“æœï¼Ÿ**

æ˜¯ç”±`useEffect`ä¸­çš„å…³é—­æœºåˆ¶é€ æˆçš„ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡æ¸²æŸ“å¸è½½ç»„ä»¶æ—¶ä¼ å…¥çš„å‡½æ•°ï¼Œä¸ºäº†å¾—åˆ°å®æ—¶çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦ç”¨`useRef`æ¥å®ç°ã€‚

![](img/f28566dda68f008a9e52f6895d60b2ad.png)

å¤ªå¥½äº†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ç»„ä»¶è¢«ç ´åæ—¶æ­£ç¡®è·å–`count`çš„å€¼ã€‚

# 3.useUpdateEffect

æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›åªåœ¨ä¾èµ–å…³ç³»æ”¹å˜åæ‰æ‰§è¡Œé€»è¾‘ä»£ç ã€‚è¿™æ ·å†™èƒ½è¾¾åˆ°ç›®çš„å—ï¼Ÿ

![](img/aa53754593de167532521a8e55596f89.png)

ä¸å¹¸çš„æ˜¯ï¼Œä¸€æ—¦ç»„ä»¶è¢«å®‰è£…ï¼Œâ€œè®¡æ•°â€å°†æ‰“å°å‡ºâ€œ0â€ã€‚â€œè®¡æ•°â€æ”¹å˜åå¦‚ä½•æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Ÿ

![](img/f217eb63646cc128cbb0a7339b3a8285.png)

å¤ªå¥½äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªè¶…çº§å®ç”¨çš„æŒ‚é’©ã€‚

# 4.ä½¿ç”¨è®¾ç½®çŠ¶æ€

å½“æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª`class`ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨`this.setState`æ¥æ“ä½œç»„ä»¶çš„æ•°æ®ï¼Œè€Œ`setState`åœ¨æ“ä½œå¯¹è±¡ç±»å‹æ•°æ®æ—¶å¾€å¾€æ›´æ–¹ä¾¿ã€‚

èƒ½å¦å®ç°ä¸€ä¸ª`useSetState`é’©å­æ¥ç®€åŒ–`setPerson`çš„æ“ä½œï¼Ÿè¿™å¾ˆç®€å•ï¼Œåªè¦å›´ç»•`useState`åšä¸€ä¸ªç®€å•çš„åŒ…è£…å°±å¯ä»¥äº†ã€‚

**ä¾‹å­**

![](img/5c5eb07e63575381f53561732a986f0b.png)

# æœ€å

**æ„Ÿè°¢é˜…è¯»ã€‚**æˆ‘æœŸå¾…æœŸå¾…æ‚¨çš„å…³æ³¨å’Œé˜…è¯»æ›´å¤šé«˜è´¨é‡çš„æ–‡ç« ã€‚

[](/interviewer-what-happened-to-npm-run-xxx-cdcb37dbaf44) [## é‡‡è®¿è€…:â€œnpm è·‘ xxxâ€æ€ä¹ˆäº†ï¼Ÿ

### ä¸€ä¸ªå¤§å¤šæ•°äººéƒ½ä¸çŸ¥é“çš„ç§˜å¯†ã€‚

javascript.plainenglish.io](/interviewer-what-happened-to-npm-run-xxx-cdcb37dbaf44) [](/my-boss-you-dont-know-react-at-all-f493970f1807) [## æˆ‘è€æ¿:ä½ æ ¹æœ¬ä¸çŸ¥é“ååº”ï¼ğŸ˜ 

### ä½ å¿…é¡»çŸ¥é“çš„ React çš„ 3 ç§é”™è¯¯ç”¨æ³•ã€‚

javascript.plainenglish.io](/my-boss-you-dont-know-react-at-all-f493970f1807) [](/8-cool-github-tricks-to-make-you-look-like-a-senior-developer-ab8fe9ae9b14) [## è®©ä½ çœ‹èµ·æ¥åƒé«˜çº§å¼€å‘äººå‘˜çš„ 8 ä¸ªå¾ˆé…·çš„ GitHub æŠ€å·§

### ä½¿ç”¨ GitHub å¯ä»¥åšçš„ 8 ä»¶å¾ˆé…·çš„äº‹æƒ…

javascript.plainenglish.io](/8-cool-github-tricks-to-make-you-look-like-a-senior-developer-ab8fe9ae9b14) [](/interviewer-can-x-x-return-true-in-javascript-7e1d1fa7b5cd) [## é¢è¯•å®˜:å¯ä»¥â€œxï¼== x "åœ¨ JavaScript ä¸­è¿”å› Trueï¼Ÿ

### ä½ å¯èƒ½ä¸çŸ¥é“çš„äº”ä¸ªç¥å¥‡çš„ JavaScript çŸ¥è¯†ç‚¹ï¼

javascript.plainenglish.io](/interviewer-can-x-x-return-true-in-javascript-7e1d1fa7b5cd) [](/what-does-123-tostring-length-123-print-out-in-javascript-2c804a414325) [## 123['toString']ã€‚length + 123)ç”¨ JavaScript æ‰“å°å‡ºæ¥ï¼Ÿ

### 95%çš„å‰ç«¯å¼€å‘è€…å›ç­”é”™è¯¯çš„é—®é¢˜ã€‚

javascript.plainenglish.io](/what-does-123-tostring-length-123-print-out-in-javascript-2c804a414325) 

*æ›´å¤šå†…å®¹çœ‹* [***è¯´ç™½äº†ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„***](https://plainenglish.io/) **[***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬å…³äº* [***æ¨ç‰¹***](https://twitter.com/inPlainEngHQ) ï¼Œ[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ï¼Œ*[***YouTube***](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*ï¼Œ* [***ä¸å’Œ***](https://discord.gg/GtDtUAvyhW) *ã€‚å¯¹å¢é•¿é»‘å®¢æ„Ÿå…´è¶£ï¼Ÿæ£€æŸ¥* [***ç”µè·¯***](https://circuit.ooo/) *ã€‚***