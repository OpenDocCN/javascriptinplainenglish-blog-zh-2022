<html>
<head>
<title>JavaScript Recipe for Detecting Narcissistic Numbers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">检测自恋数字的JavaScript方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-recipe-for-detecting-narcissistic-numbers-45a2837bf19f?source=collection_archive---------8-----------------------#2022-12-20">https://javascript.plainenglish.io/javascript-recipe-for-detecting-narcissistic-numbers-45a2837bf19f?source=collection_archive---------8-----------------------#2022-12-20</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><h2 id="e87e" class="ip iq ir bd b dl is it iu iv iw ix dk iy translated" aria-label="kicker paragraph">毁灭2022</h2><div class=""/><div class=""><h2 id="6373" class="pw-subtitle-paragraph jx ja ir bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">识别以10为基数的阿姆斯特朗数的分步指南</h2></div><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/332f9f45259db070e6dc459d6fb9cfc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coYwlgEiJRIIO6L88-gf1w.jpeg"/></div></div></figure><p id="0136" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我们正在接近圣诞节，因此灾难的结束。今天的练习还包括数学和数字的性质。我必须说，我对CodeWars提供的各种数学问题感到惊喜。这也让我发现了许多新事物，比如，<a class="ae lx" href="https://en.wikipedia.org/wiki/Narcissistic_number" rel="noopener ugc nofollow" target="_blank">自恋的数字</a>。但是让我们像往常一样从问题的正文开始。</p><h1 id="7298" class="ly lz ir bd ma mb mc md me mf mg mh mi kg mj kh mk kj ml kk mm km mn kn mo mp bi translated">问题是:我的号码看起来很大吗？</h1><p id="9ce6" class="pw-post-body-paragraph lb lc ir ld b le mq kb lg lh mr ke lj lk ms lm ln lo mt lq lr ls mu lu lv lw ik bi translated">链接到<a class="ae lx" href="https://www.codewars.com/kata/5287e858c6b5a9678200083c" rel="noopener ugc nofollow" target="_blank">形</a></p><p id="7823" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">自恋数(或阿姆斯特朗数)是一个正数，它是它自己的数字的和，每个数字的幂是给定基数的数字的幂。在这个形中，我们将限制自己为十进制(基数为10)。</p><p id="dd8e" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">比如拿153 (3位数)，很自恋:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="d2a0" class="na lz ir mw b be nb nc l nd ne">1^3 + 5^3 + 3^3 = 1 + 125 + 27 = 153</span></pre><p id="3ecc" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">和1652 (4位数)，这不是:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="56f8" class="na lz ir mw b be nb nc l nd ne">1^4 + 6^4 + 5^4 + 2^4 = 1 + 1296 + 625 + 16 = 1938</span></pre><p id="a33e" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb">挑战:</strong></p><p id="58be" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">您的代码必须返回true或false(不是“true”和“false”)，这取决于给定的数字是否是以10为基数的自恋数字。这在你的语言中可能是真的也可能是假的，例如PHP。</p><p id="cc66" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">不需要对文本字符串或其他无效输入进行错误检查，只有有效的非零正整数会被传递到函数中。</p><h1 id="f18c" class="ly lz ir bd ma mb mc md me mf mg mh mi kg mj kh mk kj ml kk mm km mn kn mo mp bi translated">我的解决方案</h1><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/7a9a65f828cdbf6aacb6f405fa17cd86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*83Lbh_bWkfTZ73J089NITA.jpeg"/></div></div></figure><p id="5fe9" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我最喜欢这类问题的一点是，它能够很容易地从数学定义中分解出来。所以，我从维基百科开始:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="18ce" class="na lz ir mw b be nb nc l nf ne">In number theory, a narcissistic number (also known as a pluperfect digital invariant (PPDI), an Armstrong number (after Michael F. Armstrong) or a plus perfect number) in a given number base b is a number that is the sum of its own digits each raised to the power of the number of digits.</span></pre><p id="a5d1" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">因此，要采取的步骤是:</p><ol class=""><li id="7f93" class="ng nh ir ld b le lf lh li lk ni lo nj ls nk lw nl nm nn no bi translated">把数字分成位数</li><li id="1295" class="ng nh ir ld b le np lh nq lk nr lo ns ls nt lw nl nm nn no bi translated">计算数字的位数</li><li id="9884" class="ng nh ir ld b le np lh nq lk nr lo ns ls nt lw nl nm nn no bi translated">将每个数字提升到幂</li><li id="66d6" class="ng nh ir ld b le np lh nq lk nr lo ns ls nt lw nl nm nn no bi translated">把各种结果加起来</li></ol><p id="aa69" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">最后一步是对获得的数和起始数进行简单的比较。如果两个数字相同，那么这个数字就是自恋数字。</p><p id="3aca" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">将所有这些转换成JavaScript，我得到了我一直在寻找的函数:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="c3e6" class="na lz ir mw b be nb nc l nf ne">export const narcissistic = (n: number): boolean =&gt;<br/>  [...`${n}`].map(Number).reduce((a, x) =&gt; a + x ** `${n}`.length, 0) === n;</span></pre><p id="e587" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">再次经历5个步骤，用公式将数字分成位数:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="a079" class="na lz ir mw b be nb nc l nf ne">const digits: number[] = [...`${n}`].map(Number);</span></pre><p id="6715" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">要计算一个数的位数，我可以计算出这个数本身的字符串长度(假设这个数是正数):</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="bec4" class="na lz ir mw b be nb nc l nf ne">const exponent: number = `${n}`.length;</span></pre><p id="fbae" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">为了计算一个数的幂，我使用了<a class="ae lx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Exponentiation" rel="noopener ugc nofollow" target="_blank">取幂运算符</a> ( <code class="fe nu nv nw mw b">**</code>)</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="e4d1" class="na lz ir mw b be nb nc l nf ne">const power: number = x ** exponent;</span></pre><p id="b914" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">最后，我使用<a class="ae lx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" rel="noopener ugc nofollow" target="_blank"> Array.reduce() </a>方法来计算幂的和。</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="76ed" class="na lz ir mw b be nb nc l nf ne">const sum: number = digits.reduce((a, x) =&gt; a + x ** exponent, 0);</span></pre><p id="bdb9" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我可以将各种操作合并成一个，从而获得问题的解决方案:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="6692" class="na lz ir mw b be nb nc l nf ne">export const narcissistic = (n: number): boolean =&gt;<br/>  [...`${n}`].map(Number).reduce((a, x) =&gt; a + x ** `${n}`.length, 0) === n;</span></pre><p id="3037" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">或者我可以用扩展的方式写同样的东西。结果更长，但可读性更强:</p><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="0386" class="na lz ir mw b be nb nc l nf ne">export function narcissistic(n: number): boolean {<br/>  const digits: number[] = [...`${n}`].map(Number);<br/>  const exponent: number = digits.length;<br/>  const pow = (x: number) =&gt; x ** exponent;<br/>  const sum: number = digits.reduce((a, x) =&gt; a + pow(x), 0);<br/><br/>  const result: boolean = sum === n;<br/>  return result;<br/>}</span></pre><h1 id="fc2d" class="ly lz ir bd ma mb mc md me mf mg mh mi kg mj kh mk kj ml kk mm km mn kn mo mp bi translated">人工智能解决方案</h1><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/a92440c5f73c29eab644746ac43ddfa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8QTi-vQhSu2ep-ynfPedpA.jpeg"/></div></div></figure><p id="c642" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我让ChatGPT(现有最先进的人工智能之一)来解决同样的问题。这是它的解决方案:</p><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj nx"><img src="../Images/3299d40e6f0af7f02e6642221cb29cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iPJ-nMuTGsWGb87GQ6giyw.jpeg"/></div></div></figure><pre class="kq kr ks kt gu mv mw mx bn my mz bi"><span id="e99d" class="na lz ir mw b be nb nc l nf ne">function isNarcissistic(num: number): boolean {<br/>  // Convert the number to a string so that we can access each digit<br/>  const numStr = num.toString();<br/><br/>  // Calculate the number of digits in the number<br/>  const numDigits = numStr.length;<br/><br/>  // Initialize a variable to hold the sum of the digits raised to the power of the number of digits<br/>  let sum = 0;<br/>  // Iterate over each digit in the number<br/>  for (const digit of numStr) {<br/>    // Convert the digit to a number and raise it to the power of the number of digits<br/>    sum += Math.pow(parseInt(digit, 10), numDigits);<br/>  }<br/>  // Return whether the sum of the digits raised to the power of the number of digits is equal to the original number<br/>  return sum === num;<br/>}</span></pre><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj ny"><img src="../Images/3e4bb3303d45fd9c5ccfc4c4307353f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YO7Rqds1Cnsl14aMDFF8-g.jpeg"/></div></div></figure><p id="132f" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">解决方案是正确的，虽然不是很优雅。然而，与过去几天的测试相比，今天ChatGPT在第一次尝试中提供了一个正确的答案。</p><p id="9997" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl nz oa hv ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="og">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae lx" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="ld jb"> <em class="og">中邮箱列表</em> </strong> </a></p><div class="oh oi gq gs oj ok"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="ol ab fp"><div class="om ab on cl cj oo"><h2 class="bd jb gz z fq op fs ft oq fv fx ja bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="or l"><h3 class="bd b gz z fq op fs ft oq fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="os l"><p class="bd b dl z fq op fs ft oq fv fx dk translated">el3um4s.medium.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kz ok"/></div></div></a></div><p id="3b65" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><em class="og">更多内容看</em> <a class="ae lx" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="og">说白了。报名参加我们的</em> <a class="ae lx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="og">免费周报</em> </strong> </a> <em class="og">。关注我们关于</em> <a class="ae lx" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="og">推特</em> </strong> </a>，<a class="ae lx" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="og">LinkedIn</em></strong></a><em class="og">，</em><a class="ae lx" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="og">YouTube</em></strong></a><em class="og">，以及</em> <a class="ae lx" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="og">不和</em> </strong> </a> <strong class="ld jb"> <em class="og">。</em>T59】</strong></strong></a></p><p id="136f" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="og">有兴趣缩放你的软件启动</em> </strong> <em class="og">？检查出</em> <a class="ae lx" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="og">电路</em> </strong> </a> <em class="og">。</em></p></div></div>    
</body>
</html>