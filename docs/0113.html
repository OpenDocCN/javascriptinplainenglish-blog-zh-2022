<html>
<head>
<title>Tips for Making Interfaces Strong with Utility Types in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript中的实用工具类型增强接口的技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/tips-for-making-interfaces-strong-with-utility-types-in-typescript-5775cd5b6f53?source=collection_archive---------18-----------------------#2022-01-07">https://javascript.plainenglish.io/tips-for-making-interfaces-strong-with-utility-types-in-typescript-5775cd5b6f53?source=collection_archive---------18-----------------------#2022-01-07</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/5652cf781c8a79286c209764f2869060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YkDlCZZN97cx0zVy"/></div></div><figcaption class="iw ix gj gh gi iy iz bd b be z dk">Photo by <a class="ae ja" href="https://unsplash.com/@medbadrc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Med Badr Chemmaoui</a> on <a class="ae ja" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="bbf9" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">大家好！自从我回到这里已经有很长时间了。最近几个月我一直很忙。好了，先不说这个，让我们来了解一下TypeScript提供的一些惊人的知识。</p><p id="9c6d" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本节中，我们将介绍实用程序类型。如果你们都还在用JavaScript，你们就找不到什么类型了吧？例如，任何有效载荷——假设我们知道:</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="f789" class="lh li jd ld b gy lj lk l ll lm">function store (payload) {<br/>  const store = new Blog<br/>  store.title = payload.title<br/>  store.shortDescription = payload.shortDescription<br/>  store.content = payload.content<br/>  store.metaTitle = payload.metaTitle<br/>  store.metaDescription = payload.metaDescription</span><span id="3318" class="lh li jd ld b gy ln lk l ll lm">  if (store.save()) return true</span><span id="3291" class="lh li jd ld b gy ln lk l ll lm">  return false<br/>}</span></pre><blockquote class="lo"><p id="e88b" class="lp lq jd bd lr ls lt lu lv lw lx kx dk translated">阅读注意:如果我是一个新的SE(阅读:软件工程师)，或者我是一个新加入项目的人，我会对这个功能感到困惑。因为到底什么是有效载荷，有哪些类型？您应该使用传统的方法进行跟踪，直到您可以使用现代的方法来调试有效负载和类型。</p></blockquote><p id="5e8e" class="pw-post-body-paragraph ka kb jd kc b kd ly kf kg kh lz kj kk kl ma kn ko kp mb kr ks kt mc kv kw kx ig bi translated">因此TypeScript可以通过使用类型和接口来处理这个问题。有了这些实用程序，您可以确定您使用的类型或他们使用的类型。<strong class="kc je">至少我一直用到了这个时候</strong>。界面(基础)详情，可登陆官网。</p><p id="5591" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">好吧，看看这个。</p><p id="2cd5" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们来定义博客界面。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="1336" class="lh li jd ld b gy lj lk l ll lm">interface IBlog {<br/>  id: string<br/>  title: string<br/>  shortDescription: string<br/>  content: string<br/>  metaTitle: string<br/>  metaDescription: string<br/>  isFeatured: boolean<br/>}</span></pre><h2 id="419d" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">部分<type/></h2><p id="a74f" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">我们可以选择使用有效载荷。我们可以部分确定。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="a284" class="lh li jd ld b gy lj lk l ll lm">const payload = { <br/>  id: 'abc123',<br/>  title: 'Example Title',<br/>  shortDescription: 'Example Excerpt',<br/>  content: 'Example content',<br/>  metaTitle: 'Example meta title',<br/>  metaDescription: 'Example meta description'<br/>}</span><span id="a486" class="lh li jd ld b gy ln lk l ll lm">function updateStatus(payload: Partial&lt;IBlog&gt;) {<br/>  return {<br/>    id: payload.id,<br/>    title: payload.title,<br/>    content: payload.content<br/>  }<br/>}</span><span id="1735" class="lh li jd ld b gy ln lk l ll lm">console.log(updateStatus(payload))</span><span id="9ca0" class="lh li jd ld b gy ln lk l ll lm">or you can give strict define like this</span><span id="4ea4" class="lh li jd ld b gy ln lk l ll lm">function updateStatus(payload: Partial&lt;IBlog, 'id' | 'title' | 'content'&gt;) {<br/>  return {<br/>    id: payload.id,<br/>    title: payload.title,<br/>    content: payload.content<br/>  }<br/>}</span></pre><p id="fcf4" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然而，对于最后一个例子，你不能使用可变有效载荷。你还必须定义严格，以及有效载荷。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="536b" class="lh li jd ld b gy lj lk l ll lm">const payload = {<br/>  id: 'abc123',<br/>  title: 'Example title',<br/>  content: 'Example content'<br/>}</span><span id="086b" class="lh li jd ld b gy ln lk l ll lm">console.log(updateStatus(payload)</span></pre><h2 id="70c2" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">必需的<type/></h2><p id="461b" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">偏科的反义词。有效负载的定义应该存在。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="aa8f" class="lh li jd ld b gy lj lk l ll lm">const Blog: Required&lt;IBlog&gt; = {<br/>  id: 'abc123',<br/>  title: 'title',<br/>  shortDescription: 'excerpt',<br/>  content: 'content',<br/>  metaTitle: 'meta title',<br/>  metaDescription: 'meta description'<br/>}</span></pre><p id="9afa" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您将会得到一个类似这样的错误:</p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mz"><img src="../Images/cad06b36438b6734deab67b5be228131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DbsPZAwEBFr1-imhXTMLmA.png"/></div></div></figure><h2 id="e105" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">只读<type/></h2><p id="81c6" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">有效负载的定义应该是只读的。有效负载不能重新分配。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="686e" class="lh li jd ld b gy lj lk l ll lm">const Blog: Readonly&lt;IBlog&gt; = {<br/>  id: 'abc123',<br/>  title: 'title',<br/>  shortDescription: 'excerpt',<br/>  content: 'content',<br/>  metaTitle: 'meta title',<br/>  metaDescription: 'meta description',<br/>  isFeatured: true<br/>}</span><span id="a296" class="lh li jd ld b gy ln lk l ll lm">Blog.title = 'title 2'</span></pre><p id="4b7c" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您将得到一条类似这样的错误消息。</p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi na"><img src="../Images/b0e4296825e84f478199318390a8bef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CpV85zkdEK2JqCIQUZKAmw.png"/></div></div></figure><p id="dbbc" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc je">图片说明</strong>:“不能分配给‘标题’，因为它是只读属性”</p><h2 id="afee" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">选择<type keys=""/></h2><p id="420c" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">拿你想要的有效载荷。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="4712" class="lh li jd ld b gy lj lk l ll lm">const Blog: Pick&lt;IBlog, 'id' | 'title'&gt; = {<br/>  id: 'abc123',<br/>  title: 'title'<br/>}</span></pre><p id="4249" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果您添加的有效负载与之前添加的不匹配，将会出现如下错误:</p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nb"><img src="../Images/19c3e3f77d5a8b7cf8133d748c9a0105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Wgg9oNE2sNRCKveWQCCyA.png"/></div></div></figure><p id="4cc7" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc je">图片说:</strong>“Type“{ id:string；标题:字符串；is featured:boolean；} '不能赋给类型' Pick &lt; IBlog，" id" | "title" &gt;'。对象文本只能指定已知属性，并且“isFeatured”在类型“Pick &lt; IBlog，" id" | "title" &gt;”中不存在。</p><h2 id="228d" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">省略<type keys=""/></h2><p id="8f73" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">去掉不必要的负载。</p><pre class="ky kz la lb gt lc ld le lf aw lg bi"><span id="93b1" class="lh li jd ld b gy lj lk l ll lm">const Blog: Omit&lt;IBlog, 'id' | 'title' | 'shortDescription' | 'content' | 'metaDescription' | 'metaTitle'&gt; = {<br/>  isFeatured: false<br/>}</span></pre><h1 id="0ed2" class="nc li jd bd md nd ne nf mg ng nh ni mj nj nk nl mm nm nn no mp np nq nr ms ns bi translated">结论</h1><p id="e01e" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">实用工具类型是TypeScript提供的非常有用的功能。开发人员应该利用它们来避免硬编码类型。</p><h1 id="3e56" class="nc li jd bd md nd ne nf mg ng nh ni mj nj nk nl mm nm nn no mp np nq nr ms ns bi translated">警惕！</h1><p id="a492" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated">如果你们来自印度尼西亚，想要支持我越来越多的写作，希望你们能从钱包里拿出一点来。你可以通过一些方式分享你的天赋，</p><h2 id="b9c6" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">萨韦里亚</h2><p id="a572" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated"><a class="ae ja" href="https://saweria.co/pandhuwibowo" rel="noopener ugc nofollow" target="_blank">https://saweria.co/pandhuwibowo</a></p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/0089e6c52b43886c90f7f853a7b8a73b.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*xFmG4J1rW-MHyEqO_mzIaw.png"/></div></figure><h2 id="b9fb" class="lh li jd bd md me mf dn mg mh mi dp mj kl mk ml mm kp mn mo mp kt mq mr ms mt bi translated">特拉克特尔</h2><p id="c63d" class="pw-post-body-paragraph ka kb jd kc b kd mu kf kg kh mv kj kk kl mw kn ko kp mx kr ks kt my kv kw kx ig bi translated"><a class="ae ja" href="https://trakteer.id/goodpeopletogivemoney" rel="noopener ugc nofollow" target="_blank">https://trakteer.id/goodpeopletogivemoney</a></p><figure class="ky kz la lb gt ip gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/d26e4901a3c5106b7c99a3c8a99d74a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*Q-ZYOzqJ6R3ijDlVlM5JMw.jpeg"/></div></figure><h1 id="9ad2" class="nc li jd bd md nd ne nf mg ng nh ni mj nj nk nl mm nm nn no mp np nq nr ms ns bi translated">参考</h1><div class="im in gp gr io nv"><a href="https://www.typescriptlang.org/docs/handbook/utility-types.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd je gy z fp oa fr fs ob fu fw jc bi translated">文档-实用程序类型</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">TypeScript提供了几种实用工具类型来促进常见的类型转换。这些实用程序可用…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">www.typescriptlang.org</p></div></div><div class="oe l"><div class="of l og oh oi oe oj iu nv"/></div></div></a></div><p id="6470" class="pw-post-body-paragraph ka kb jd kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ok">更多内容看</em> <a class="ae ja" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ok">说白了. io </em> </a> <em class="ok">。报名参加我们的</em> <a class="ae ja" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ok">免费每周简讯</em> </a> <em class="ok">。在我们的</em> <a class="ae ja" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="ok">社区</em> </a> <em class="ok">获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>