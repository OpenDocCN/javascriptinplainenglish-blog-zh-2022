<html>
<head>
<title>From TypeScript Hater to TypeScript Convinced User</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从讨厌打字稿到相信打字稿的用户</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/from-typescript-hater-to-typescript-convinced-user-85cd0179c6aa?source=collection_archive---------16-----------------------#2022-02-21">https://javascript.plainenglish.io/from-typescript-hater-to-typescript-convinced-user-85cd0179c6aa?source=collection_archive---------16-----------------------#2022-02-21</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="2856" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">从服务器端的角度看，我是如何从一个讨厌TypeScript的人变成一个相信TypeScript的用户的。</h2></div><p id="7a21" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">让我们来看看打字稿的比例:</p><figure class="ld le lf lg gu lh gi gj paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gi gj lc"><img src="../Images/0547e809dfe835461c7883a073af1f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_za1ZFduq4RsnsAI2ZPrDQ.png"/></div></div></figure><p id="d935" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">几年前，我在2/10左右。</p><p id="b6d2" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在这篇文章中，我将主要从服务器端的角度来谈。</p></div><div class="ab cl lp lq hv lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ik il im in io"><p id="bc82" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">不久前，我还不是谈论TypeScript的最佳伙伴。我脑子里总是想着同样的话:</p><ul class=""><li id="c663" class="lw lx ir ki b kj kk km kn kp ly kt lz kx ma lb mb mc md me bi translated">它将<strong class="ki is">在您的本地开发环境和CI中添加一个编译步骤</strong>，这会减慢速度。</li><li id="3b1a" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">如果你依赖于来自<a class="ae mk" href="https://github.com/DefinitelyTyped/DefinitelyTyped" rel="noopener ugc nofollow" target="_blank">的类型</a>和<strong class="ki is">其中一个变得不同步</strong>，你的编译步骤一直对你大喊大叫<strong class="ki is">你完全被卡住了</strong>。</li><li id="10a5" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">“你最终会<strong class="ki is">更多地关注你的类型</strong>而不是你的代码，这是完成事情的一个切线。”摘自本期Github:<a class="ae mk" href="https://github.com/staltz/ama/issues/49" rel="noopener ugc nofollow" target="_blank">https://github.com/staltz/ama/issues/49</a></li><li id="35a1" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">如果你想要类型，就使用不同的编程语言，让我们JavaScript开发者享受我们的自由吧！</li></ul><p id="6232" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我总是热衷于寻找和阅读这样的帖子:</p><ul class=""><li id="f292" class="lw lx ir ki b kj kk km kn kp ly kt lz kx ma lb mb mc md me bi translated"><a class="ae mk" href="https://medium.com/javascript-scene/the-shocking-secret-about-static-types-514d39bf30a3" rel="noopener">关于静态类型的令人震惊的秘密</a>摘自Eric Elliott(2016)<br/><em class="lo">TL；dr: </em>“说到bug减少，我觉得可以这么说:<strong class="ki is">静态类型被高估了。</strong></li><li id="d114" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">Axel Rauschmayer博士的《<a class="ae mk" href="https://2ality.com/2018/03/javascript-typescript-reasonml.html" rel="noopener ugc nofollow" target="_blank">JavaScript vs . TypeScript vs . reason ml</a>》(2018)(评论也值得一读)。<br/>阅读时想起的例子:“那些附加类型系统<strong class="ki is">只支持语言的一部分</strong>，它们有很多很多的bug。”(来自<a class="ae mk" href="https://disqus.com/by/LionessLover/" rel="noopener ugc nofollow" target="_blank"> LionessLover </a>的第一条评论)</li><li id="6348" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">迈克尔·克拉斯诺夫(2020)的“7个不使用打字稿的好理由”</li><li id="47c1" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">克里斯·古兹曼(2020)的“请把打字稿放下一会儿”</li></ul><p id="e189" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">并会毫不犹豫地与任何和我聊天的人分享。(我过去在OCTO的一些同事可能还记得……)</p><p id="b4be" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我也不喜欢<strong class="ki is"> Angular </strong>强迫整个社区转用TS的方式。(嗯，不是“被迫”，而是好运在JS中找到有棱角的代码片段)</p><p id="346e" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">因此，对我来说，平衡显然是不利的一面，而不是有利的一面。</p></div><div class="ab cl lp lq hv lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ik il im in io"><p id="4286" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="lo">让我们及时跳跃，若干年后……</em></p><h1 id="df37" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated"><strong class="ak">2022年，让我们重新考虑</strong></h1><p id="3881" class="pw-post-body-paragraph kg kh ir ki b kj nd js kl km ne jv ko kp nf kr ks kt ng kv kw kx nh kz la lb ik bi translated">今年早些时候，一个新项目摆在我面前。</p><p id="f6b0" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我的一些同事是打字爱好者，大多数是年轻人。我不是在评判，恰恰相反，我忍不住好奇。<br/>在阅读各种科技新闻的时候，我很清楚地意识到<strong class="ki is"> TypeScript已经越来越受欢迎</strong>。</p><p id="5143" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">但是正如所料，我开始用… JavaScript引导我的新Node.js项目！我是当时唯一的开发者，事情进展顺利，我在进步，数据库+ ORM的选择来了。</p><p id="bb45" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">长话短说，我下定决心PostgreSQL + <strong class="ki is"> Prisma </strong>。(更多细节见上一篇文章:“<a class="ae mk" href="https://medium.com/nerd-for-tech/prisma-to-interact-with-my-db-13da91562600" rel="noopener"> Prisma与我的DB </a>交互”。)<br/>我开始意识到Prisma的一大优势是它生成的所有ts类型。</p><p id="f47a" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这看起来像是给打字稿一次机会的好机会，不是吗？我知道这一天会到来，我没有理由不去尝试。</p><p id="de35" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">然后我添加TS作为开发依赖项，并开始在我的DAOs(数据访问对象)中使用一些Prisma类型。<br/>我的IDE看起来更智能，通过检查我的Prisma查询，它立即让我获得了价值。让我们更进一步，在上面一层添加一些类型脚本:调用DAOs的逻辑函数。</p><p id="22b8" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">几个月后，<strong class="ki is">我整个节点服务器几乎只有TypeScript </strong>。</p><p id="69e4" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">很明显，我也遇到过神秘的类型错误，我仍然觉得它们太冗长，但是我预料会有更难的问题阻止我将文件切换到TypeScript。事实并非如此。</p><h1 id="86cd" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">我热衷的是</h1><ul class=""><li id="3014" class="lw lx ir ki b kj nd km ne kp ni kt nj kx nk lb mb mc md me bi translated">现在越来越多的工具和库是用打字稿编写的，并且附带了它们的声明。(因此，不同步类型的风险要低得多)</li><li id="fc62" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">ide包括一些只有在TypeScript代码库中才有的智能。</li><li id="58e3" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">它打开了一个更广阔的生态系统，而不仅仅是JavaScript生态系统。</li><li id="3090" class="lw lx ir ki b kj mf km mg kp mh kt mi kx mj lb mb mc md me bi translated">使用TypeScript给了我重新考虑lodash的另一个理由。的确，lodash和TypeScript不是好朋友。我已经从包大小的角度考虑过了。</li></ul><h1 id="1033" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">再次出现在打字稿上</h1><p id="66ec" class="pw-post-body-paragraph kg kh ir ki b kj nd js kl km ne jv ko kp nf kr ks kt ng kv kw kx nh kz la lb ik bi translated">所以在打字稿的比例上，我现在是8/10左右。</p><figure class="ld le lf lg gu lh gi gj paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gi gj lc"><img src="../Images/52c5de831e26ea5d4a05922903554c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b4g5K2UjKy2L8X8IKg07_w.png"/></div></div></figure><p id="3ad0" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">不是9或10，我仍然缺乏必要的耐心在一个小时的会议中与同事讨论复杂的类型。</p></div><div class="ab cl lp lq hv lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ik il im in io"><p id="1ea6" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">简而言之，我会说是否使用TypeScript，在某种程度上取决于您使用或计划使用的框架/工具/库。如果没有Prisma，这个故事可能会不同。</p><p id="d073" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">所以在某种程度上，谢谢Prisma给我这个机会重新思考，改变我对TypeScript的看法。🙂</p><p id="3048" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="lo">更多内容尽在</em> <a class="ae mk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki is"> <em class="lo">说白了. io </em> </strong> </a> <em class="lo">。报名参加我们的</em> <a class="ae mk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki is"> <em class="lo">免费周报</em> </strong> </a> <em class="lo">。关注我们关于</em> <a class="ae mk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ki is"> <em class="lo">推特</em> </strong> </a> <em class="lo">和</em><a class="ae mk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ki is"><em class="lo">LinkedIn</em></strong></a><em class="lo">。加入我们的</em> <a class="ae mk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ki is"> <em class="lo">社区不和谐</em> </strong> </a> <em class="lo">。</em></p></div></div>    
</body>
</html>