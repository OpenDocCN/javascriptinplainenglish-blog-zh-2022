<html>
<head>
<title>5 Tips to Write Clean Code in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript编写干净代码的5个技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-tips-to-write-clean-code-in-javascript-25c3f66dd3aa?source=collection_archive---------8-----------------------#2022-07-25">https://javascript.plainenglish.io/5-tips-to-write-clean-code-in-javascript-25c3f66dd3aa?source=collection_archive---------8-----------------------#2022-07-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="212c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">随着您对JavaScript越来越有经验，您应该知道一些关于如何编写干净代码的技巧和原则。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e4a82afee8825d76c94fa890b05f2da9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zkLydRp3AHLjUgpu7AuA-w.png"/></div></div></figure><p id="f9e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">软件工程工艺是一个相对较新的工艺。医学工艺已经存在了几千年，而软件工程只是从20世纪60年代初才出现。我们都还在学习如何编写干净的代码。尽管有一些原则被社区广泛接受为最佳实践。</p><p id="9b6a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">写干净的代码有很多原则，但是我决定把重点放在最重要的五条上。这些提示是建议，而不是严格的规则。实践这些原则，你的代码会更干净！</p><h1 id="fa6d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">为什么干净的代码很重要</h1><p id="acd5" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">作为初学者，你的重点不一定是写干净的代码。你的重点应该是让代码工作，让你的测试通过。随着你越来越有经验，你可以开始专注于编写干净的代码。</p><p id="eb98" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我将干净的代码定义为:</p><ul class=""><li id="94ef" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">易于阅读</li><li id="4396" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">容易理解</li></ul><p id="41c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">干净的代码将帮助你跟上并维护代码库。<strong class="kt ir">努力让你的代码更干净总是值得的，即使这会花更长的时间来写！</strong></p><h1 id="0d26" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">用JavaScript编写干净的代码</h1><p id="becc" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">和其他语言一样，JavaScript也有其特殊之处。这些技巧不一定局限于JavaScript，可以用于许多其他语言。</p><h2 id="800f" class="my lo iq bd lp mz na dn lt nb nc dp lx la nd ne lz le nf ng mb li nh ni md nj bi translated">将幻数提取为常数</h2><p id="65a1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">“幻数”是指直接在代码中使用的数字，没有任何上下文。它们没有意义，应该提取为具有有意义的变量名的常量。</p><p id="b5aa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">坏:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="2e6c" class="my lo iq nl b gy np nq l nr ns">const isOldEnough = (person) =&gt; {<br/>  // What does 100 refer to? This is a so-called "magic number"<br/>  return person.getAge() &gt;= 100;<br/>}</span></pre><p id="fa84" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">好:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="084b" class="my lo iq nl b gy np nq l nr ns">const AGE_REQUIREMENT = 100; // Now we know what 100 refers to</span><span id="b3a6" class="my lo iq nl b gy nt nq l nr ns">const isOldEnough = (person) =&gt; {<br/>  return person.getAge() &gt;= AGE_REQUIREMENT;<br/>}</span></pre><h2 id="5e27" class="my lo iq bd lp mz na dn lt nb nc dp lx la nd ne lz le nf ng mb li nh ni md nj bi translated">避免布尔函数参数</h2><p id="1343" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">布尔函数参数是一种典型的“代码味道”(打破了基本的编程标准)。这是因为它们缺乏意义。这表明你的函数不止做一件事，这是你应该避免的！</p><p id="ce60" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">坏:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="5287" class="my lo iq nl b gy np nq l nr ns">const validateCreature = (creature, isHuman) =&gt; {<br/>  if (isHuman) {<br/>    // ...<br/>  } else {<br/>    // ...<br/>  }<br/>}</span></pre><p id="9d46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">好:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="5668" class="my lo iq nl b gy np nq l nr ns">const validatePerson = (person) =&gt; {<br/>  // ...<br/>}</span><span id="3b56" class="my lo iq nl b gy nt nq l nr ns">const validateCreature = (creature) =&gt; {<br/>  // ...<br/>}</span></pre><h2 id="95bb" class="my lo iq bd lp mz na dn lt nb nc dp lx la nd ne lz le nf ng mb li nh ni md nj bi translated">封装条件</h2><p id="429f" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">长的条件语句很难读懂，因为你必须把它们都记在脑子里。通过将它们封装到一个函数或变量中，你的代码将更容易推理。</p><p id="cf5e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">坏:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="97d3" class="my lo iq nl b gy np nq l nr ns">if (<br/>  person.getAge() &gt; 30 &amp;&amp;<br/>  person.getName() === "simon" &amp;&amp;<br/>  person.getOrigin() === "sweden"<br/>) {<br/>  // ...<br/>}</span></pre><p id="e8d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">好:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="5649" class="my lo iq nl b gy np nq l nr ns">const isSimon =<br/>  person.getAge() &gt; 30 &amp;&amp;<br/>  person.getName() === "simon" &amp;&amp;<br/>  person.getOrigin() === "sweden";</span><span id="b809" class="my lo iq nl b gy nt nq l nr ns">if (isSimon) {<br/>  // ...<br/>}</span><span id="4188" class="my lo iq nl b gy nt nq l nr ns">// OR use a function</span><span id="a4e9" class="my lo iq nl b gy nt nq l nr ns">const isSimon = (person) =&gt; {<br/>  return (<br/>    person.getAge() &gt; 30 &amp;&amp;<br/>    person.getName() === "simon" &amp;&amp;<br/>    person.getOrigin() === "sweden"<br/>  );<br/>};</span><span id="9f56" class="my lo iq nl b gy nt nq l nr ns">if (isSimon(person)) {<br/>  // ...<br/>}</span></pre><h2 id="8369" class="my lo iq bd lp mz na dn lt nb nc dp lx la nd ne lz le nf ng mb li nh ni md nj bi translated">避免消极条件句</h2><p id="af44" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">当你阅读代码时，否定条件句(“双重否定”)给你的大脑增加了一个额外的条件。你不会说“我不困”。你会说“<em class="nu">我困了</em>”。同样的做法也适用于代码！</p><p id="f367" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">不好:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="fa6c" class="my lo iq nl b gy np nq l nr ns">const isCreatureNotHuman = (creature) =&gt; {<br/>  // ...<br/>}</span><span id="fbae" class="my lo iq nl b gy nt nq l nr ns">if (!isCreatureNotHuman(creature)) {<br/>  // ...<br/>}</span></pre><p id="ce93" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">好:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="c100" class="my lo iq nl b gy np nq l nr ns">const isCreatureHuman = (creature) =&gt; {<br/>  // ...<br/>}</span><span id="832e" class="my lo iq nl b gy nt nq l nr ns">if (isCreatureHuman(creature)) {<br/>  // ...<br/>}</span></pre><h2 id="60dc" class="my lo iq bd lp mz na dn lt nb nc dp lx la nd ne lz le nf ng mb li nh ni md nj bi translated">不要使用If语句</h2><p id="991b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这听起来可能很疯狂，但是听我说完！If语句易于理解，但不具有伸缩性。一旦在同一个函数中有一两个以上的if语句，代码就很容易变得难以理解。</p><p id="5467" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">相反，请使用switch语句，或者如果可能的话，使用Array、Set或Map之类的数据结构。</p><p id="c555" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">坏:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="85fd" class="my lo iq nl b gy np nq l nr ns">const isMammal = (creature) =&gt; {<br/>  if (creature === "human") {<br/>    return true;<br/>  } else if (creature === "dog") {<br/>    return true;<br/>  } else if (creature === "cat") {<br/>    return true;<br/>  }<br/>  // ...</span><span id="051d" class="my lo iq nl b gy nt nq l nr ns">return false;<br/>}</span></pre><p id="0152" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">好:</strong></p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="e4f2" class="my lo iq nl b gy np nq l nr ns">const isMammal = (creature) =&gt; {<br/>  switch (creature) {<br/>    case "human":<br/>    case "dog":<br/>    case "cat":<br/>    // ...<br/>      return true;<br/>    default:<br/>      return false;<br/>  }<br/>}</span><span id="5a83" class="my lo iq nl b gy nt nq l nr ns">// OR even better, use a data structure</span><span id="cdc3" class="my lo iq nl b gy nt nq l nr ns">const isMammal = (creature) =&gt; {<br/>  const mammals = ["human", "dog", "cat", /* ... */];<br/>  return mammals.includes(creature);<br/>}</span></pre><h1 id="c69c" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结论</h1><p id="c22a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这是我用JavaScript写干净代码的五个最重要的原则。熟能生巧，写代码也一样。如果你今天已经遵循了这些原则——坚持下去！我相信你已经练习过很多次写代码了。如果没有，不要气馁！我们都从某处开始🙂</p><p id="94d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">总结一下:</p><ul class=""><li id="4f81" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">将幻数提取为常数</li><li id="703f" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">避免布尔函数参数</li><li id="3116" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">封装条件</li><li id="caa4" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">避免消极条件句</li><li id="fa54" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">不要使用If语句</li></ul></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><p id="a931" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">在</em> <a class="ae oc" href="https://twitter.com/prplcode" rel="noopener ugc nofollow" target="_blank"> <em class="nu"> Twitter </em> </a> <em class="nu">，</em><a class="ae oc" href="https://linkedin.com/in/simeg" rel="noopener ugc nofollow" target="_blank"><em class="nu">LinkedIn</em></a><em class="nu">，或者</em> <a class="ae oc" href="https://github.com/simeg" rel="noopener ugc nofollow" target="_blank"> <em class="nu"> GitHub </em> </a>上与我联系</p><p id="c233" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">更多内容看</em> <a class="ae oc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">说白了就是</em> </strong> </a> <em class="nu">。报名参加我们的</em> <a class="ae oc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">免费每周简讯</em> </strong> </a> <em class="nu">。关注我们</em> <a class="ae oc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">推特</em> </strong> </a> <em class="nu">和</em><a class="ae oc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">LinkedIn</em></strong></a><em class="nu">。查看我们的</em> <a class="ae oc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">社区不和谐</em> </strong> </a> <em class="nu">加入我们的</em> <a class="ae oc" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">人才集体</em> </strong> </a> <em class="nu">。</em></p></div></div>    
</body>
</html>