# 如何在 JavaScript 中实现正则表达式

> 原文：<https://javascript.plainenglish.io/how-to-implement-regular-expressions-in-javascript-1ac85bd52e2?source=collection_archive---------10----------------------->

## 日常生活中我们认为理所当然的非常普通的事情。

![](img/811c475b97e8a8df35de24acb1cf2d4a.png)

Photo by [Stefan Steinbauer](https://unsplash.com/@usinglight?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

不久前，我刚刚参加完一家公司的两轮面试，他们邀请我参加最后一轮面试，也就是技术面试，这种面试总是让我有点紧张。面试没有像我希望的那样进行，所以面试后我花了一些时间来学习。

# 什么是正则表达式？

正则表达式(或 *regex* )是一种模式，或一组字符，用于匹配字符串中的组合。它通常在用户建立新帐户或更新帐户时使用。

Regex 可用于检查给定的字符组合是否是电子邮件、电话号码或密码是否符合站点的要求。让我们通过一些基本的例子来看看它是如何实现的。

## 电话号码

在填写税收、工作申请、大学申请、银行账户、医疗信息等时，通常需要电话号码。电话号码还有多种不同的储存方式:

*   1234567890
*   (123) 456–7890
*   123–456–7890
*   123 456 7890
*   +11234567890
*   +1 (123) 456–7890

还有更多。

我们可以实现正则表达式，而不是遍历一组数字中的每个数字，然后检查它是否满足特定的要求。

为了简单起见，我们将仅对上述数字应用正则表达式。我们将为所有符合上述模式的电话号码返回 true。

看一眼所有的数字，可以看出是有规律的；大部分都是 3 位数开头，后面再加 3 位数，最后 4 位数结尾。我们可以用**固定量词** `{}`来应用它:

我们构造一个新的正则表达式，然后使用内置函数`test`来测试电话号码的匹配。

这是检查电话号码的一个好的开始，但是如果你用上面的例子测试这个代码片段，你会发现除了例子 1 和 5 之外，所有的都返回`false`。这是为什么呢？

当前代码片段将在所有具有至少*10 位数的示例上返回`true`。为了对电话号码进行更严格的检查，我们将使用锚。*

*regex 中的**锚点**用于匹配一个字符串的开头`^`和结尾`$`。因此，如果我们希望代码片段更严格地检查字符串是否是电话号码，我们可以这样做:*

*现在，该代码片段只为第一个示例返回`true`。*

*让我们试着解决例 3 和例 4。我们在这两个例子中看到了相似的模式；中间的数字用破折号或空格括起来。确保示例 3 和 4 包含在这些符号中的捷径是使用**替换** `|`并将它们放在括号中:*

```
*const regex = new RegExp(/^\d{3}(\s|-)\d{3}(\s|-)\d{4}$/);*
```

*这种分组和交替有几个问题。第一个是第一个例子不再返回`true`，第二个是分组将返回`true`到封装不匹配的电话号码。那么我们该如何解决这个问题呢？*

*解决这个问题的一种方法是添加更多的分组和替换，以使匹配更加严格:*

*现在示例 1、3 和 4 返回`true`。*

*在我们处理其他示例之前，为了可读性，我将分别测试其他示例与我们之前的解决方案的条件。虽然可以把它们放在一起作为一个正则表达式，但为了可读性，我更喜欢把它们分开。*

*让我们把例子 2、5 和 6 与其他例子分开来处理。*

*我们可以将前面例子中的解决方案结合起来。确保在开头和结尾添加锚点，并使用固定的量词。一个很好的起点是让例 2 回归`true`:*

*确保我们的正则表达式必须以`+`开头，后跟 10 位数字，如 example1。示例 5 是最容易处理的，我们应该得到类似于下面的解决方案:*

*确保你没有忘记锚！*

*现在，在示例 6 中，我们可以看到解决方案是示例 2 和示例 5 的组合。我们得到这样的解决方案:*

*所以这是对你的一个挑战:*

*如何检查用户的新密码是否符合以下要求:*

*   *至少有 10 个字符*
*   *至少有一个大写字母*
*   *至少有一个小写字母*
*   *至少有一个数字*
*   *至少有一个特殊字符*
*   *与他们的旧密码不同(假设我们将他们的旧密码存储在一个数组中)*

*这些是解决电话号码正则表达式的唯一方法吗？当然不是！让我知道你会用什么方法来解决这个问题。*

**更多内容请看*[***plain English . io***](https://plainenglish.io/)*。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于*[***Twitter***](https://twitter.com/inPlainEngHQ)*和*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*。加入我们的* [***社区不和谐***](https://discord.gg/GtDtUAvyhW) *。**