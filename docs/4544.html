<html>
<head>
<title>Master the apply Function and Boost your JavaScript Skills</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握apply函数并提高您的JavaScript技能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/master-the-apply-function-and-boost-your-javascript-skills-6a8a57f17953?source=collection_archive---------10-----------------------#2022-12-12">https://javascript.plainenglish.io/master-the-apply-function-and-boost-your-javascript-skills-6a8a57f17953?source=collection_archive---------10-----------------------#2022-12-12</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><figure class="in io gq gs ip iq gi gj paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="gi gj im"><img src="../Images/6447055ce2d8142244c3dec24893d75b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7UT1tvK_lZN5TugFRhsBlQ.jpeg"/></div></div><figcaption class="ix iy gk gi gj iz ja bd b be z dk"><a class="ae jb" href="https://unsplash.com/photos/BfrQnKBulYQ" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/BfrQnKBulYQ</a></figcaption></figure><div class=""/><div class=""><h2 id="de5c" class="pw-subtitle-paragraph kf jd je bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">如何在JavaScript中使用<code class="fe kb kc kd ke b">apply</code>函数:示例和常见陷阱</h2></div><p id="ae5b" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated"><code class="fe kb kc kd ke b">apply</code>函数是JavaScript中一个强大的工具，它允许您使用指定的上下文和一组参数调用指定的函数，这在许多情况下都很有用，比如当您想要将一组参数传递给不接受直接参数的函数时。但是，理解和正确使用可能会很困难。在这篇文章中，我们将仔细研究并提供如何在您的JavaScript代码中使用它的示例，最终，您将对<code class="fe kb kc kd ke b">apply</code>函数有一个很好的理解，并知道何时以及如何有效地使用它，让我们来看看吧！</p><p id="cc06" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">让我们从语法开始:</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="98c2" class="mb mc je ke b be md me l mf mg">func.apply(thisArg, argsArray)</span></pre><p id="fed5" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">显然在这段代码中，<code class="fe kb kc kd ke b">func</code>是一个函数</p><h2 id="8a58" class="mh mc je bd mi mj mk dn ml mm mn dp mo lg mp mq mr lk ms mt mu lo mv mw mx my bi translated">JavaScript中的<code class="fe kb kc kd ke b">apply</code>函数是什么？</h2><p id="867b" class="pw-post-body-paragraph kx ky je kz b la mz kj lc ld na km lf lg nb li lj lk nc lm ln lo nd lq lr ls ih bi translated"><code class="fe kb kc kd ke b">apply</code>函数是JavaScript中所有<code class="fe kb kc kd ke b">function</code>对象都有的函数。<code class="fe kb kc kd ke b">apply</code>函数接受<strong class="kz jf">两个</strong>参数:</p><ol class=""><li id="b0a1" class="ne nf je kz b la lb ld le lg ng lk nh lo ni ls nj nk nl nm bi translated">一个上下文<em class="nn"> thisArg </em>(可以是一个对象或者<code class="fe kb kc kd ke b">null</code>)</li><li id="0a4c" class="ne nf je kz b la no ld np lg nq lk nr lo ns ls nj nk nl nm bi translated">参数数组<em class="nn"> argsArray </em>(可以是数组或者<code class="fe kb kc kd ke b">null</code>)。</li></ol><p id="3891" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated"><code class="fe kb kc kd ke b">apply</code>函数使用提供的上下文和参数调用指定的函数，然后返回该函数返回的值。</p><p id="edc6" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">以下是如何使用<code class="fe kb kc kd ke b">apply</code>函数在特定上下文中调用函数的示例:</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="6a82" class="mb mc je ke b be md me l mf mg">function greet(greeting, punctuation) {<br/>  return greeting + ' ' + this.name + punctuation;<br/>}<br/><br/>var person = {<br/>  name: 'John Doe'<br/>};<br/><br/>// Invoke the `greet` function using `person` as the context<br/>var message = greet.apply(person, ['Hello', '!']);<br/><br/>console.log(message); // 'Hello John Doe!'</span></pre><p id="3120" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">在这个例子中，<code class="fe kb kc kd ke b">greet</code>函数接受一个问候和一个标点符号作为参数，并使用上下文中指定对象的名称来创建一个问候消息。<code class="fe kb kc kd ke b">apply</code>函数用于调用<code class="fe kb kc kd ke b">greet</code>函数，使用<code class="fe kb kc kd ke b">person</code>对象作为上下文，并将参数<code class="fe kb kc kd ke b">'Hello'</code>和<code class="fe kb kc kd ke b">'!'</code>作为数组传递。</p><p id="3766" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">使用<code class="fe kb kc kd ke b">apply</code>函数的另一种方法是将一组参数传递给不接受直接参数的函数:</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="702d" class="mb mc je ke b be md me l mf mg">function sum() {<br/>  return Array.prototype.reduce.call(arguments, function(a, b) {<br/>    return a + b;<br/>  });<br/>}<br/><br/>var numbers = [1, 2, 3, 4, 5];<br/><br/>// Invoke the `sum` function using `numbers` as the arguments<br/>var total = sum.apply(null, numbers);<br/><br/>console.log(total); // 15<br/></span></pre><p id="2f5e" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">在这个例子中，<code class="fe kb kc kd ke b">sum</code>函数使用数组的<code class="fe kb kc kd ke b">reduce</code>函数对传递给该函数的所有参数求和。然而，<code class="fe kb kc kd ke b">sum</code>函数不接受直接参数，所以<code class="fe kb kc kd ke b">apply</code>函数用于将数字数组作为参数传递给<code class="fe kb kc kd ke b">sum</code>函数。这允许使用<code class="fe kb kc kd ke b">sum</code>函数对数组元素求和，而不必直接将它们作为参数传递。</p><h2 id="4669" class="mh mc je bd mi mj mk dn ml mm mn dp mo lg mp mq mr lk ms mt mu lo mv mw mx my bi translated">另外两种方式</h2><p id="09f2" class="pw-post-body-paragraph kx ky je kz b la mz kj lc ld na km lf lg nb li lj lk nc lm ln lo nd lq lr ls ih bi translated">还有其他方法可以使用<code class="fe kb kc kd ke b">apply</code>功能，让我们来看看。<br/>首先是使用apply()进行f <strong class="kz jf">函数借用</strong>，下面是一个例子</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="0f26" class="mb mc je ke b be md me l mf mg">// object definition<br/>const airplane = {<br/>  brand: "Airbus",<br/>  model: "A380-800",<br/>  lengthinMeters: "72",<br/>  description() {<br/>    return `The ${this.name} of ${this.model} is approximately ${this.lengthinMeters} meters in length.`;<br/>  },<br/>};<br/><br/>// object definition<br/>const car = {<br/>  brand: "Ford",  <br/>  model: "Tourneo Courier",<br/>  lengthinMeters: "4",<br/>};<br/><br/>// car is borrowing description() method from airplane using apply() <br/>let result = airplane.description.apply(car);<br/><br/>console.log(result); <br/><br/>//Output:<br/>//The Tourneo Courier of Ford is approximately 4 meters in length.<br/></span></pre><p id="68ad" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">在上面的代码中，我们借助apply()方法借用了<code class="fe kb kc kd ke b">car</code>对象中的<code class="fe kb kc kd ke b">airplane</code>对象方法。</p><p id="50ec" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">第二个是<strong class="kz jf">将它与内置函数</strong>一起使用，比如<code class="fe kb kc kd ke b">Math</code>它不是一个函数对象，但它是一个内置对象，具有数学常数和函数的属性和方法:</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="2c29" class="mb mc je ke b be md me l mf mg">const numbers = [1, 25, 12, 32, 7];<br/><br/>const max = Math.max.apply(null, numbers);<br/><br/>console.log(max);<br/>// expected output: 32<br/><br/>const min = Math.min.apply(null, numbers);<br/><br/>console.log(min);<br/>// expected output: 1</span></pre><p id="57a3" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">使用<code class="fe kb kc kd ke b">apply</code>函数的另一种方法是用一个<strong class="kz jf">p end两个数组</strong>。看看这段代码:</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="b4fc" class="mb mc je ke b be md me l mf mg">let brand1 = ["BMW", "Audi", "Volvo"];<br/>let brand2 = ["Toyota", "Ford"];<br/><br/>// appending two arrays color1 and color2<br/>brand1.push.apply(brand1, brand2);<br/><br/>console.log(brand1);<br/><br/>//Output:<br/>//[ 'BMW', 'Audi', 'Volvo', 'Toyota', 'Ford' ]</span></pre><p id="adb0" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">现在让我们来看看什么时候使用apply()比较合适，根本不需要。</p><h2 id="d549" class="mh mc je bd mi mj mk dn ml mm mn dp mo lg mp mq mr lk ms mt mu lo mv mw mx my bi translated">在JavaScript中何时以及如何使用<code class="fe kb kc kd ke b">apply</code>函数</h2><p id="f21c" class="pw-post-body-paragraph kx ky je kz b la mz kj lc ld na km lf lg nb li lj lk nc lm ln lo nd lq lr ls ih bi translated">如前所述，<code class="fe kb kc kd ke b">apply</code>功能可能难以理解和正确使用。困难的原因之一是不总是清楚什么时候使用应用功能，什么时候使用不同的方法。</p><p id="a5c3" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">让我们举一个例子，你根本不需要使用应用功能。</p><p id="6f2b" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">例如，在许多情况下，您希望使用<code class="fe kb kc kd ke b">apply</code>函数向函数传递一组参数，您可以简单地使用JavaScript <code class="fe kb kc kd ke b">spread operator</code> ( <code class="fe kb kc kd ke b">...</code>)来代替。</p><p id="68e4" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">以下是如何使用<code class="fe kb kc kd ke b">spread operator</code>而不是<code class="fe kb kc kd ke b">apply</code>函数将数组元素作为参数传递给函数的示例:</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="9da4" class="mb mc je ke b be md me l mf mg"><br/><br/>function sum(a, b, c, d, e) {<br/>  return a + b + c + d + e;<br/>}<br/><br/>var numbers = [1, 2, 3, 4, 5];<br/><br/>// Invoke the `sum` function using the `spread operator` to pass the elements of `numbers` as arguments<br/>var total = sum(...numbers);<br/><br/>console.log(total); // 15</span></pre><p id="df17" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">在这个例子中，<code class="fe kb kc kd ke b">sum</code>函数接受五个参数，它们对应于<code class="fe kb kc kd ke b">numbers</code>数组的元素。我们没有使用<code class="fe kb kc kd ke b">apply</code>函数来传递数组作为参数，而是在调用<code class="fe kb kc kd ke b">sum</code>函数时，在<code class="fe kb kc kd ke b">numbers</code>数组之前使用了<code class="fe kb kc kd ke b">spread operator</code> ( <code class="fe kb kc kd ke b">...</code>)。这扩展了数组的元素，并将它们作为单独的参数传递给<code class="fe kb kc kd ke b">sum</code>函数，这样我们就可以在不使用<code class="fe kb kc kd ke b">apply</code>函数的情况下获得相同的结果。</p><p id="eefe" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">在某些情况下，不使用apply更正确，因为其他函数更快、更有效。例如，在大型阵列上，<code class="fe kb kc kd ke b">spread operator</code>要快得多</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="970a" class="mb mc je ke b be md me l mf mg">//Create an array of ten thousand random numbers<br/>function randomArray() {<br/>  var array = [];<br/>  for (var i = 0; i &lt; 100000; i++) {<br/>    array.push(Math.floor(Math.random() * 100000));<br/>  }<br/>  return array;<br/>}<br/><br/>//sum takes an indefinite number of arguments and returns their sum<br/>function sum() {<br/>  var total = 0;<br/>  for (var i = 0; i &lt; arguments.length; i++) {<br/>    total += arguments[i];<br/>  }<br/>  return total;<br/>}<br/><br/>var tenkNumbers = randomArray(); <br/><br/>console.time('apply');<br/>var totalApply = sum.apply(null, tenkNumbers);<br/>console.log(totalApply);<br/>console.timeEnd('apply');<br/>// 4997699420<br/>// apply: 5.138ms<br/><br/>console.time('...');<br/>var totalSpread = sum(...tenkNumbers);<br/>console.log(totalSpread);<br/>console.timeEnd('...');<br/>// 4997699420<br/>// ...: 0.684ms</span></pre><p id="ee0d" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">如您所见，<code class="fe kb kc kd ke b">spread operator</code>比<code class="fe kb kc kd ke b">apply</code>功能快5倍多(<em class="nn">0.684毫秒对5.138毫秒</em>)，因此尽管它在两种情况下都能工作，但最好使用扩展功能。时刻关注性能！</p><h2 id="4536" class="mh mc je bd mi mj mk dn ml mm mn dp mo lg mp mq mr lk ms mt mu lo mv mw mx my bi translated">…最后但同样重要的是</h2><p id="2351" class="pw-post-body-paragraph kx ky je kz b la mz kj lc ld na km lf lg nb li lj lk nc lm ln lo nd lq lr ls ih bi translated">如果你熟悉<code class="fe kb kc kd ke b">call()</code>函数，理解<code class="fe kb kc kd ke b">apply()</code>函数会更容易，因为它们几乎是相同的，除了<code class="fe kb kc kd ke b">call()</code>接受一个参数列表，而<code class="fe kb kc kd ke b">apply()</code>接受一个参数数组。</p><pre class="lt lu lv lw gu lx ke ly bn lz ma bi"><span id="3f99" class="mb mc je ke b be md me l mf mg">//apply<br/>func.apply(this, ['drive', 'car']) <br/>//call <br/>func.call(this, 'drive', 'car')</span></pre><h2 id="46d7" class="mh mc je bd mi mj mk dn ml mm mn dp mo lg mp mq mr lk ms mt mu lo mv mw mx my bi translated">结论</h2><p id="a8c8" class="pw-post-body-paragraph kx ky je kz b la mz kj lc ld na km lf lg nb li lj lk nc lm ln lo nd lq lr ls ih bi translated">总之，<code class="fe kb kc kd ke b">apply</code>函数在JavaScript中很有用，但是很难理解何时以及如何正确使用<code class="fe kb kc kd ke b">apply</code>函数，所以理解它的操作并知道何时可以使用不同的方法是很重要的。我希望这篇文章让您对apply函数有了基本的了解，并帮助您在JavaScript项目中正确使用它。</p><p id="fb67" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated">让我知道你的想法，如果你喜欢，也可以在推特或LinkedIn 上关注我！</p><p id="e1cc" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated"><em class="nn">更多内容请看</em><a class="ae jb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz jf"><em class="nn">plain English . io</em></strong></a><em class="nn">。</em></p><p id="cdd6" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated"><em class="nn">报名参加我们的</em> <a class="ae jb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz jf"> <em class="nn">免费周报</em> </strong> </a> <em class="nn">。关注我们上</em> <a class="ae jb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kz jf"> <em class="nn">推特</em> </strong> </a>，<a class="ae jb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz jf"> <em class="nn">领英</em> </strong> </a> <strong class="kz jf"> <em class="nn">，</em></strong><a class="ae jb" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kz jf"><em class="nn">YouTube</em></strong></a><strong class="kz jf"><em class="nn">，以及</em></strong><em class="nn"/><a class="ae jb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kz jf"><em class="nn">不和</em> </strong> </a>T47】</p><p id="a077" class="pw-post-body-paragraph kx ky je kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls ih bi translated"><strong class="kz jf"> <em class="nn">用</em> </strong> <a class="ae jb" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kz jf"> <em class="nn">电路</em> </strong> </a> <em class="nn">为你的科技创业建立认知和采用。</em></p></div></div>    
</body>
</html>