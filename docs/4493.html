<html>
<head>
<title>Why Divs Don’t Make Good Buttons</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么div做不好纽扣</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-divs-dont-make-good-buttons-2620a77aad05?source=collection_archive---------7-----------------------#2022-12-08">https://javascript.plainenglish.io/why-divs-dont-make-good-buttons-2620a77aad05?source=collection_archive---------7-----------------------#2022-12-08</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/134ca83bec0a9788ddd06f5404da0076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ijzv6QrA2eTlNB33JssWDg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk"><a class="ae jz" href="https://www.pexels.com/photo/portrait-photo-of-woman-in-red-top-wearing-black-framed-eyeglasses-holding-out-her-hand-in-stop-gesture-3762802/" rel="noopener ugc nofollow" target="_blank">Photo by Andrea Piacquadio</a></figcaption></figure><p id="5dc8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在网络上，按钮无处不在。它们允许我们与网络内容互动。它们有助于给我们一种动态体验。因为按钮是网络的核心，所以我们必须把它们做好。</p><p id="e5c5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">许多开发者抱怨不同浏览器的按钮风格不同。使用这些默认值是一件令人头疼的事情。</p><p id="e6fc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以创建按钮时最常见的反模式是使用<code class="fe ky kz la lb b">div</code>标签，然后通过javascript使其可点击。</p><p id="9770" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">假设您创建了一个div并添加了<code class="fe ky kz la lb b">onclick</code>方法使其可点击。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="88f7" class="lk ll in lb b be lm ln l lo lp">&lt;div onclick="doSomething();"&gt;<br/>    Click me!<br/>&lt;/div&gt;</span></pre><p id="bc85" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">按钮工作正常吗？你可以点击它，那么问题在哪里？</p><h1 id="a8ad" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">焦点</h1><p id="0bf9" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">并不是每个访问你网站的人都使用鼠标导航。许多用户将改为使用键盘导航。</p><p id="16c0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">例如，可能有一个有缺陷的用户限制他使用鼠标，或者用户只是用他用来操作鼠标的手吃饭。</p><p id="4322" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">键盘导航最重要的方面是<em class="ms"> </em> <strong class="kc io"> <em class="ms">焦点</em> </strong>，它表示当前活动的元素，可以用键盘按键操作。</p><p id="01e2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以现在你看到这显然是一个问题。如果用户够不到按钮，他们将如何与它交互？</p><p id="b240" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">幸运的是，有一个简单的解决方法。您可以在div上添加属性<code class="fe ky kz la lb b">tabindex="0"</code>。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="e335" class="lk ll in lb b be lm ln l lo lp">&lt;div tabindex="0" onclick="doSomething();"&gt;<br/>    Click me!<br/>&lt;/div&gt;</span></pre><p id="32da" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们为什么用“0”呢？<code class="fe ky kz la lb b">tabindex</code>接受三种类型的输入—</p><ul class=""><li id="3d92" class="mt mu in kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated"><strong class="kc io"> 0: </strong>元素根据DOM顺序获得焦点。</li><li id="dded" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="kc io">负值:</strong>该元素不能通过连续的键盘导航来访问，但是可以通过JavaScript或用鼠标点击来聚焦。这不能解决我们的问题。</li><li id="54ec" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="kc io">正值:</strong>元素获得焦点，其顺序由数值定义。例如，<code class="fe ky kz la lb b">tabindex="4"</code>在<code class="fe ky kz la lb b">tabindex="5"</code>之前聚焦。这使得很难浏览页面。</li></ul><p id="07cf" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以现在我们已经解决了焦点问题，我们一定要好好的。</p><p id="0224" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">但是等等，仍然有一个问题:键盘用户可以够到按钮，但是实际上不能用任何键按下它。</p><h1 id="8ffe" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">键</h1><p id="63b1" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">我们的<code class="fe ky kz la lb b">onclick</code>方法只适用于鼠标点击和移动点击。通过键盘导航的用户会期望通过<code class="fe ky kz la lb b">space</code>或<code class="fe ky kz la lb b">enter</code>键按下键盘。</p><p id="0aa4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这意味着，我们的div也需要处理按键事件。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="19df" class="lk ll in lb b be lm ln l lo lp">const ENTER = 13;<br/>const SPACE = 32;<br/>// Select for your button and store it in `myButton`<br/>myButton.addEventListener('keydown', function(event) {<br/>    if (event.keyCode === ENTER || event.keyCode === SPACE) {<br/>        event.preventDefault(); // Prevents unintentional form submissions, page scrollings, the like<br/>        doSomething(event);<br/>    }<br/>});</span></pre><p id="e89e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">啊，开始了。现在，我们可以使用鼠标和键盘与按钮进行交互。</p><p id="1db5" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">等等，还有一个问题。辅助技术不会将<code class="fe ky kz la lb b">div</code>视为按钮。</p><h1 id="eafe" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">作用</h1><p id="f2dd" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">目前，我们的按钮没有向辅助技术提供任何它是按钮的指示。所以屏幕阅读器错过了两个重要的东西，它们可以通过一个按钮得到。</p><p id="fe8e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">首先，每当屏幕阅读器通过一个按钮时，它会宣布它是一个按钮。例如，当用户关注我们的按钮时，他们会听到<em class="ms">“点击我”</em>，而当他们关注一个真正的按钮时，他们会听到<em class="ms">“按钮点击我”</em>。</p><p id="e067" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">其次，您还可以为屏幕阅读器启用其他类型的导航。对于屏幕阅读器来说，从一个标题跳到另一个标题、从一个按钮跳到另一个按钮是很常见的。这是导航页面的有效方式。但是，只有当屏幕阅读器知道页面上的每个元素应该表示什么时，这才是可能的。</p><p id="45c0" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">幸运的是，有一种方法可以解决这个问题。你只需要将<code class="fe ky kz la lb b">role="button”</code>添加到我们的div中。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="9565" class="lk ll in lb b be lm ln l lo lp">&lt;div tabindex="0" role="button" onclick="doSomething();"&gt;<br/>    Click me!<br/>&lt;/div&gt;</span></pre><h1 id="9cbe" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">状态</h1><p id="02bb" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">按钮很少孤立存在。它们通常存在于表单的上下文中。并且它们可能被一些复杂的形式逻辑所约束。例如，应该根据某些输入验证来启用或禁用按钮。</p><p id="90f7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了在我们可点击的<code class="fe ky kz la lb b">div</code>中实现这一点，我们必须通过编程来切换<code class="fe ky kz la lb b">onclick</code>和<code class="fe ky kz la lb b">tabindex</code>。当然，这是可以做到的，但是这会给你带来很多麻烦。</p><p id="a9fe" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这一点上，我们已经投入了大量的时间来使我们的div表现得像一个按钮。</p><p id="9d1c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们使用<code class="fe ky kz la lb b">&lt;button&gt;</code>元素，我们可以摆脱这一切，它给了我们所有现成的东西。</p><p id="577e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们来解决按钮在不同浏览器中有不同风格的问题。处理这些违约让人感觉很痛苦。</p><p id="3a3c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你可以使用这个<a class="ae jz" href="https://archive.hankchizljaw.com/wrote/introducing-the-button-element/" rel="noopener ugc nofollow" target="_blank">优秀的按钮重置</a>，它让我们的<code class="fe ky kz la lb b">button</code>看起来像只有11行代码的<code class="fe ky kz la lb b">div</code>。从那里你可以随心所欲地设计它。</p><h1 id="da28" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">包扎</h1><p id="3ae6" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">今天，您了解到用户希望他们的按钮具有以下功能-</p><ul class=""><li id="a315" class="mt mu in kc b kd ke kh ki kl mv kp mw kt mx kx my mz na nb bi translated">它应该可以用鼠标点击，在手机上点击。</li><li id="9962" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">它应该是可聚焦的。</li><li id="12af" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">应使用<code class="fe ky kz la lb b">enter</code>或<code class="fe ky kz la lb b">space</code>键触发。</li><li id="9857" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">它应该可以被辅助技术识别。</li><li id="738e" class="mt mu in kc b kd nc kh nd kl ne kp nf kt ng kx my mz na nb bi translated">它应该能够处理不同的状态，如禁用。</li></ul><p id="85b2" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">您可以通过使用<code class="fe ky kz la lb b">button</code>元素免费获得所有这些。希望这篇文章已经说服你在你的应用程序和网站的按钮中使用<code class="fe ky kz la lb b">&lt;button&gt;</code>元素而不是<code class="fe ky kz la lb b">&lt;div&gt;</code>元素。</p><p id="b4f4" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">你还有什么问题吗？如果你愿意，请在下面留下你的评论，我会尽快回复你。</p><p id="6c08" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> <em class="ms">如果你喜欢这个，请看看我的其他作品</em></strong><a class="ae jz" href="https://tahajiru.start.page/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ms"/></strong></a><strong class="kc io"><em class="ms">。</em>T13】</strong></p></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="4c27" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ms">报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ms">免费每周简讯</em> </strong> </a> <em class="ms">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ms">Twitter</em></strong></a>，<a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ms">LinkedIn</em></strong></a><em class="ms">，</em><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ms">YouTube</em></strong></a><em class="ms"/><a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ms">不和</em> </strong> </a> <strong class="kc io"> <em class="ms">。</em>T55】</strong></p><p id="5341" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="kc io"> <em class="ms">对缩放您的软件启动感兴趣</em> </strong> <em class="ms">？检查出</em> <a class="ae jz" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ms">电路</em> </strong> </a> <em class="ms">。</em></p></div></div>    
</body>
</html>