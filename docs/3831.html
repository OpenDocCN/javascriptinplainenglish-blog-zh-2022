<html>
<head>
<title>Shop Rutina (A React-Based E-Commerce Store): Front-End Dive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于React的电子商务商店:前端潜水</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/shop-rutina-front-end-dive-d030912af9f3?source=collection_archive---------15-----------------------#2022-09-29">https://javascript.plainenglish.io/shop-rutina-front-end-dive-d030912af9f3?source=collection_archive---------15-----------------------#2022-09-29</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><div class=""/><div class=""><h2 id="8ede" class="pw-subtitle-paragraph jl in io bd b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc dk translated">第2部分:产品模型构建</h2></div><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gi gj kd"><img src="../Images/6246e11335c206e08dea61fdd616b93a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7hulWNINMqt748TrmUOBLQ.png"/></div></div></figure><p id="6bf5" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">这篇文章的中心是我创建产品模型的方法。正如我在<a class="ae ll" rel="noopener ugc nofollow" target="_blank" href="/shop-rutina-a-simple-react-e-commerce-store-9360db2cbbc4">概述</a>中提到的，从视觉上讲，每个商业商店都有一个展示产品的总主题。我选择使用Material UI，它是React的开源组件库。在技术方面，我将产品数据以key: value的形式存储在一个对象数组中。这是一个简单的方法来结合谷歌的材料设计和AWS的S3反应版本，同时完全可定制。</p><h2 id="aade" class="lm ln io bd lo lp lq dn lr ls lt dp lu ky lv lw lx lc ly lz ma lg mb mc md me bi translated">设计→开发</h2><h2 id="9c9f" class="lm ln io bd lo lp lq dn lr ls lt dp lu ky lv lw lx lc ly lz ma lg mb mc md me bi translated">设计</h2><p id="9ed6" class="pw-post-body-paragraph kp kq io kr b ks mf jp ku kv mg js kx ky mh la lb lc mi le lf lg mj li lj lk ih bi translated">构思的早期阶段始于Figma。我对可以合并的组件库做了一些研究。梅脱颖而出有几个原因:</p><ol class=""><li id="6922" class="mk ml io kr b ks kt kv kw ky mm lc mn lg mo lk mp mq mr ms bi translated">React程序的易用性</li><li id="419e" class="mk ml io kr b ks mt kv mu ky mv lc mw lg mx lk mp mq mr ms bi translated">与谷歌的设计系统相似</li><li id="2f1d" class="mk ml io kr b ks mt kv mu ky mv lc mw lg mx lk mp mq mr ms bi translated">获取详细的文件</li><li id="951a" class="mk ml io kr b ks mt kv mu ky mv lc mw lg mx lk mp mq mr ms bi translated">定制能力</li></ol><p id="a9b6" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">下面这张图片是我创建Home.js页面的第一个低保真度视觉效果。简单功能Deep Dive在Home.js和ShoppingBag.js之间分解了商店的功能，考虑一下每个页面上的功能。</p><p id="26a2" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated"><strong class="kr ip"> Home.js </strong></p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj my"><img src="../Images/0c009c2db023a81bb758c1830fb1b618.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*JKlelMgI4h7zPsP32EIjqA.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">lo-fi starter wireframe</figcaption></figure><p id="5f42" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">从这一点开始，我简单地重复上面的设计，以达到终点。我发现当我有一个能把我和行动联系起来的计划时，我工作得最好。至少在我看来，视觉上看到(或想象)什么是可能的是行动的温床。幸运的是，梅的媒体卡最能反映我想要的风格。</p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj nd"><img src="../Images/1f430a2c81919f31f8259f9c31b737b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*5i_tMede72TbZqCfqFtytQ.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">MUI’s media card from card components</figcaption></figure><p id="8ece" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">为了将媒体卡添加到我的主页，我导航到Home.js，并使用以下命令将每个元素直接导入到文件的顶部:</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="a496" class="lm ln io nf b gz nj nk l nl nm">import * as React from 'react';<br/>import Card from "@mui/material/Card";<br/>import CardActions from "@mui/material/CardActions";<br/>import CardContent from "@mui/material/CardContent";<br/>import CardMedia from “@mui/material/CardMedia”;<br/>import Typography from "@mui/material/Typography";<br/>import Button from "@mui/material/Button";</span></pre><p id="e029" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">这确保了稍后在函数Home( ) return中调用时，产品数据将根据所选的卡显示。因为Home.js页面是保存产品项目的页面，所以确定数据显示非常重要。通常，电子商务商店遵循一个相似的主题，包括:产品图片、描述、价格、尺寸、“添加”按钮等。有了这张媒体卡，我就可以随心所欲地进行定制了。</p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj nn"><img src="../Images/9ece3856082e70c2ed7b433656306e07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*LAME8bJ8o4qm6AG0DfILjg.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">Customized Media Card</figcaption></figure><p id="db99" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">在插入和使用显示器之后，我定制了原始的卡片，添加了:<br/>——一个可点击的“+”按钮来添加购物<br/>——一个“+”图标到按钮<br/>——一个盒子来封装产品卡片<br/>——一个堆栈组件来分隔产品卡片</p><p id="3ce2" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">为了添加这些组件，我在上面的导入中添加了:</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="68d0" class="lm ln io nf b gz nj nk l nl nm">import Fab from "@mui/material/Fab"; <br/>import AddIcon from "@mui/icons-material/Add";<br/>import Box from “@mui/material/Box”;<br/>import Stack from "@mui/material/Stack";</span></pre><p id="ac13" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">查看源代码，了解每个组件是如何编程的，以及我在返回函数中调整了哪些定制特性。现在，让我们把重点放在视觉设计上。</p><p id="6c12" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated"><strong class="kr ip"> ShoppingBag.js </strong></p><p id="496e" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">购物袋页面是另一个主页面，反映了一些添加到主页中的内容，但具有更多功能，包括:查看购物袋中的产品，移除一个项目或清空袋子，计算总价格，替代结账选项和继续购物的能力。</p><p id="777d" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">这是我想象的起点:</p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj no"><img src="../Images/e5c7a4698dbd4d632ff2d0e981212708.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*KVx1bRojuQSNUpx5kiTMhQ.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">ShoppingBag.js lo-fi starter</figcaption></figure><p id="80da" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">为了给上面的特性添加功能，我确保从它的相对路径导入Home。</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="7f8e" class="lm ln io nf b gz nj nk l nl nm">import React from "react";<br/>import Home from “./Home”;</span></pre><p id="c20a" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">之后，我添加了ShoppingBag()来保存动作:<br/> 1。查看袋子<br/> 2中的产品。从袋子中取出<br/> 3。空袋<br/> 4。总价<br/> 5。订单确认通知</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="03ae" class="lm ln io nf b gz nj nk l nl nm"><strong class="nf ip">function</strong> ShoppingBag() {</span><span id="d5a7" class="lm ln io nf b gz np nk l nl nm"><strong class="nf ip">const</strong> { productsInBag, removeFromBag, emptyBag } =</span><span id="b8ec" class="lm ln io nf b gz np nk l nl nm">useContext(ShoppingBagContext);</span><span id="f8d9" class="lm ln io nf b gz np nk l nl nm"><strong class="nf ip">const</strong> totalBagPrice = (arr) <strong class="nf ip">=&gt;</strong> {</span><span id="dff5" class="lm ln io nf b gz np nk l nl nm"><strong class="nf ip">let</strong> totalPrice = 0;</span><span id="e7f2" class="lm ln io nf b gz np nk l nl nm">arr.map((item) <strong class="nf ip">=&gt;</strong> {</span><span id="ff98" class="lm ln io nf b gz np nk l nl nm">totalPrice = totalPrice + item.price;</span><span id="2388" class="lm ln io nf b gz np nk l nl nm">return totalPrice;</span><span id="e232" class="lm ln io nf b gz np nk l nl nm">});</span><span id="66f7" class="lm ln io nf b gz np nk l nl nm">return totalPrice / 100;</span><span id="c183" class="lm ln io nf b gz np nk l nl nm">};</span></pre><p id="7c14" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">然后添加“订单确认”通知，我使用了<a class="ae ll" href="https://www.npmjs.com/package/react-toastify" rel="noopener ugc nofollow" target="_blank"> Toast </a>通知。</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="8eec" class="lm ln io nf b gz nj nk l nl nm">import { ToastContainer, toast } from “react-toastify”;<br/>import "react-toastify/dist/ReactToastify.css";</span></pre><p id="cc06" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">然后创建了一个notify变量，在单击“Checkout Now”按钮时推送toast通知。</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="12bc" class="lm ln io nf b gz nj nk l nl nm"><strong class="nf ip">const</strong> notify = () <strong class="nf ip">=&gt;</strong> toast(“Order confirmed!”);</span></pre><p id="0a26" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">该设置背后的想法是显示从主页添加到包中的产品，带有图像和标题，以及“从包中移除”选项。总数将在底部居中显示，其下的三个组件将作为<br/> 1的选项。继续购物<br/> 2。空袋子<br/> 3。检验</p><p id="5de2" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">总价设置为随着箱包的更新或清算而更新。每个选项都将引导购物者浏览购物功能。“继续购物”按钮引导用户返回到主页产品页面，“空包”按钮清空包中的所有产品并将总价更新为$0.00，“立即结账”向用户发送“订单确认”通知。由于这不是一个活跃的商店，我不担心添加Stripe的支付处理API或任何其他更动态的大小调整功能。</p><h2 id="c0e6" class="lm ln io bd lo lp lq dn lr ls lt dp lu ky lv lw lx lc ly lz ma lg mb mc md me bi translated">发展</h2><p id="4b9b" class="pw-post-body-paragraph kp kq io kr b ks mf jp ku kv mg js kx ky mh la lb lc mi le lf lg mj li lj lk ih bi translated">在设计阶段之后，更容易投入到功能中，因为我对什么将去哪里以及它将如何运行有一个大致的想法。这给了我一个任务，构建一个包含产品卡片图像的产品模型。我有所有可用的数据，只需简单地插入，我只需要找到一种方法来组织和显示它。我首先将ProductData.js文件添加到根Src文件夹中。</p><p id="efce" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated"><strong class="kr ip"> ProductData.js </strong></p><p id="c289" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">在这个文件中，我创建了一个对象数组，并将数据存储到一个产品列表中，该列表以key: value的形式包含5个属性。像这样:</p><pre class="ke kf kg kh gu ne nf ng nh aw ni bi"><span id="31d1" class="lm ln io nf b gz nj nk l nl nm">const productList = [<br/>{<br/>title: "",<br/>description: "",<br/>brand: "",<br/>price: num,<br/>img: "",<br/>},</span></pre><p id="d315" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">ProductData.js文件上的productList由4个对象(产品)组成，这些对象具有由键和相应值定义的5个属性。对于这个特定的用例，有四个标记为产品信息的字符串和一个反映美元价格的数字值。以下是通用项目运动鞋产品卡的代码:</p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gi gj nq"><img src="../Images/308d7882b7804afefc317bcb2be3f2bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yn0FnDS55b5JX_AGCzrTrA.png"/></div></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">1/4 objects from the productList</figcaption></figure><p id="6c50" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">其他项目的关键命名约定是相同的，但是它们的值是不同的，以反映多样性。正如您将在VS代码截图中看到的，有5个属性:<br/> 1。标题<br/> 2。描述<br/> 3。品牌<br/> 4。价格<br/> 5。image <br/>您还可以看到，有4个字符串值由引号“”表示，还有1个数字值反映价格。字符串非常简单，但是计算价格可能会令人困惑。来看看我是怎么算出来的。</p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj nr"><img src="../Images/91bfd86478a58b026909aaea57043138.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*iqYwNUnPXSehQi_Tb0mPRw.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">Function for calculating total price of shopping — ShoppingBag.js</figcaption></figure><p id="3c8d" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">让我们用简单的英语来解释一下:</p><p id="e88a" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">在ShoppingBag()函数中，我添加了一个变量来定义总数，并将其命名为totalBagPrice。然后，我使用对象数组(来自productList)作为参数来传递函数。然后，我定义了另一个名为totalPrice的变量，并将其设置为零($0.00)。<em class="ns">随着购物者向购物袋中添加物品，总数会根据袋子中的物品主动更新。</em>我用了。map方法，并通过item组件来跟踪选择了哪个项目/产品，以便程序可以识别选择了数组(arr)中的哪个项目。totalPrice等于totalPrice加上item.price(每种产品的单个价格数值)，得出total除以100。</p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="gi gj nq"><img src="../Images/3f6a6234fa00422f1ceeef25556296ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bwhAFY_7j7suBTT6Os1l6w.png"/></div></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">return totalPrice / 100 || so if the price is $479, 47900 / 100 = 479</figcaption></figure><p id="021c" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">在ProductData.js文件的底部，添加了一个导出来使用fetchProducts获取productList的项目，但是本文不会涉及我使用Express或任何后端材料创建的端点。在这里，我将展示产品模型的前端视图是如何构建的。</p><p id="9199" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated"><strong class="kr ip">首页</strong></p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj nt"><img src="../Images/c4cb829d72cb4a1da34f1467b516f77f.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*TbHC2Ca2_ZUOj0sp1EQ6EQ.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">Visual for Home.js</figcaption></figure><p id="dcd5" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated"><strong class="kr ip">购物袋页面</strong></p><figure class="ke kf kg kh gu ki gi gj paragraph-image"><div class="gi gj nu"><img src="../Images/b738287a19a48137cfe512a0e8ae187e.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*gDyyoSBfMuIfqhk7F2TUlg.png"/></div><figcaption class="mz na gk gi gj nb nc bd b be z dk">Visual for ShoppingBag.js</figcaption></figure><p id="031e" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated">接下来阅读:<br/> <a class="ae ll" href="https://medium.com/aws-in-plain-english/shop-rutina-front-end-dive-3f66ec31d57d" rel="noopener">第3部分:AWS S3数据托管</a> <br/> <a class="ae ll" href="https://medium.com/@daisydocuments/shop-rutina-front-end-dive-65cd9a47b00d" rel="noopener">第1部分:功能分解</a></p></div><div class="ab cl nv nw hs nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ih ii ij ik il"><p id="5a13" class="pw-post-body-paragraph kp kq io kr b ks kt jp ku kv kw js kx ky kz la lb lc ld le lf lg lh li lj lk ih bi translated"><em class="ns">更多内容请看</em><a class="ae ll" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kr ip"><em class="ns">plain English . io</em></strong></a><em class="ns">。报名参加我们的</em> <a class="ae ll" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kr ip"> <em class="ns">免费周报</em> </strong> </a> <em class="ns">。关注我们关于</em><a class="ae ll" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kr ip"><em class="ns">Twitter</em></strong></a><a class="ae ll" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kr ip"><em class="ns">LinkedIn</em></strong></a><strong class="kr ip"><em class="ns"/></strong><a class="ae ll" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kr ip"><em class="ns">YouTube</em></strong></a><strong class="kr ip"><em class="ns">，以及</em></strong><em class="ns"/><a class="ae ll" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kr ip"><em class="ns">不和</em> </strong> </a>  <em class="ns">对成长黑客感兴趣？检查</em> <a class="ae ll" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kr ip"> <em class="ns">电路</em> </strong> </a> <strong class="kr ip"> <em class="ns">。</em> </strong></p></div></div>    
</body>
</html>