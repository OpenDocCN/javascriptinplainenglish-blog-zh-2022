<html>
<head>
<title>Menu Navigation Accessibility</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">菜单导航可访问性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/menu-navigation-accessibility-7761b114b2dd?source=collection_archive---------10-----------------------#2022-03-25">https://javascript.plainenglish.io/menu-navigation-accessibility-7761b114b2dd?source=collection_archive---------10-----------------------#2022-03-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5b7d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">创建与键盘兼容的自定义菜单</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e9ec485d44325df713bfaab3ed65ee15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0FjpbRHS5URpqK4huKspCg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@girlwithredhat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Girl with red hat</a> on <a class="ae ks" href="https://unsplash.com/s/photos/keyboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="0bb4" class="kt ku in bd kv kw kx ky kz la lb lc ld jt le ju lf jw lg jx lh jz li ka lj lk bi translated">什么是键盘兼容菜单？</h1><p id="2ca9" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">根据Web Accessibility Initiative(Web Accessibility Initiative)的说法，键盘兼容性意味着“所有功能都必须可以使用键盘”。在我们的例子中，一个兼容键盘的菜单应该允许通过键盘和正确的画外音帮助在项目间导航和点击它们。</p><p id="8865" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">例如，让我们看看脸书菜单的一部分—</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/dd99e3a7f078185da1ca9e570792800a.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*g43OpH6x9ExsQIuFS6dPPQ.png"/></div></figure><p id="b44c" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">这个菜单有自定义的项目，这些项目不会呈现为<code class="fe mn mo mp mq b">button</code>或<code class="fe mn mo mp mq b">link</code>元素。任何使用键盘的人都希望能够使用Tab键浏览不同的选项，并使用Enter键选择特定的项目。我们还希望画外音程序能够识别每个菜单项都是可点击的。</p><p id="8b8d" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">事实证明，这种行为不能想当然。那么，我们如何让它发挥作用呢？</p><p id="3376" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">对于以下所有示例，我们将使用这个用React构建的自定义菜单:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/901264833af06af4783e4e0c4de7096c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GsRMc8t0kDeZ0bIboEKK3g.png"/></div></div></figure></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="674b" class="kt ku in bd kv kw mz ky kz la na lc ld jt nb ju lf jw nc jx lh jz nd ka lj lk bi translated">标签索引</h1><p id="62a7" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">每个HTML元素都有一个<code class="fe mn mo mp mq b">tabIndex</code>属性，这允许它获得焦点。当<code class="fe mn mo mp mq b">tabIndex</code>设置为0或正数时，可以使用Tab键进行导航。交互元素(按钮、链接等。)已经有了允许它们导航的内置行为，但是通常不交互的元素(<code class="fe mn mo mp mq b">div</code> s)没有。因此，当菜单项呈现在<code class="fe mn mo mp mq b">div</code>元素中时，它们不会自动呈现为页面跳转顺序的一部分。</p><p id="3a15" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">因此，在我们的例子中，我们将把<code class="fe mn mo mp mq b">tabIndex=0</code>添加到我们的定制项目中:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="3b79" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">使用<code class="fe mn mo mp mq b">:focus</code>选择器可以定制菜单项聚焦时的外观:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="f02a" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">一旦项目是可聚焦的，它将获得默认的浏览器焦点行为，在大多数浏览器中是蓝色轮廓。在这里，我选择改变这一点，以粉红色的轮廓。(补充说明——使用<code class="fe mn mo mp mq b">outline</code>而不是<code class="fe mn mo mp mq b">border</code>,因为边框会占用空间，会让你的项目跳跃)。</p><p id="4a8c" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">所以我们目前的情况是这样的:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/ce96598dfbcfbbabdd3ea00bba668548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*_uEH9SXJht4f6ZFJ9AFyHQ.gif"/></div></figure></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="84de" class="kt ku in bd kv kw mz ky kz la na lc ld jt nb ju lf jw nc jx lh jz nd ka lj lk bi translated">按下以点击</h1><p id="5075" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">接下来，我们希望能够使用Enter键选择一个菜单项，这相当于使用鼠标单击。我们需要为<code class="fe mn mo mp mq b">onKeyPress</code>添加一个回调，并检查收到的<code class="fe mn mo mp mq b">event</code>以确保Enter键被按下。在我们的例子中，我选择了在项目被点击时显示一个祝酒词。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="5ab4" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">所以我们现在看到的是这样的—</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/5ca4c1debe6bc42fc2b0d38194842041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*bYZoVlOkVOc_UolBVa40rA.gif"/></div></figure></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="0be0" class="kt ku in bd kv kw mz ky kz la na lc ld jt nb ju lf jw nc jx lh jz nd ka lj lk bi translated">画外音</h1><p id="8ca1" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">最后，我们希望使用画外音助手的用户可以访问我们的菜单，以便在屏幕上导航。我们为一个<code class="fe mn mo mp mq b">div</code>元素添加了导航和点击功能，但是画外音不知道这一点——它看到的是一个<code class="fe mn mo mp mq b">div</code>而不是一个按钮，所以它没有告诉用户这个元素是可点击的。</p><p id="97db" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">为了解决这个问题，我们需要做两件事——指定这个元素的行为像一个按钮，并处理用户的点击(这不是普通的点击，而是一个特定的按钮序列)。</p><p id="b800" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">对于第一个问题，我们可以将<code class="fe mn mo mp mq b">role="button"</code>添加到我们的元素中。<br/>对于第二个问题，我们将为<code class="fe mn mo mp mq b">click</code>事件添加一个特定的事件处理程序。所以最后，我们的<code class="fe mn mo mp mq b">Item</code>组件将看起来像这样:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="00ad" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated">并将按预期方式运行:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/155418e9639274aab444aed991cfa151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*DLWUKVCvSy5BafG9xmgjWg.gif"/></div></figure></div><div class="ab cl ms mt hr mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ig ih ii ij ik"><h1 id="7a20" class="kt ku in bd kv kw mz ky kz la na lc ld jt nb ju lf jw nc jx lh jz nd ka lj lk bi translated">包裹</h1><p id="9f6e" class="pw-post-body-paragraph ll lm in ln b lo lp jo lq lr ls jr lt lu lv lw lx ly lz ma mb mc md me mf mg ig bi translated">网页可访问性非常重要，我们的设计或编码决策如何影响我们网站的可访问性并不总是显而易见的。希望这篇教程对你有帮助！</p><p id="b74c" class="pw-post-body-paragraph ll lm in ln b lo mh jo lq lr mi jr lt lu mj lw lx ly mk ma mb mc ml me mf mg ig bi translated"><em class="nh">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ln io"> <em class="nh">说白了就是io </em> </strong> </a> <em class="nh">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ln io"> <em class="nh">免费周报</em> </strong> </a> <em class="nh">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"><em class="nh">Twitter</em></strong></a><em class="nh">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ln io"><em class="nh">LinkedIn</em></strong></a><em class="nh">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ln io"> <em class="nh">社区</em> </strong> </a> <em class="nh">。</em></p></div></div>    
</body>
</html>