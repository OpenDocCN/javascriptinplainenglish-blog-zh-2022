<html>
<head>
<title>Express and Serverless: A Beginner’s Ultimate Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速和无服务器:初学者最终指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/expressjs-and-serverless-a-beginners-ultimate-guide-a70794fa8b73?source=collection_archive---------18-----------------------#2022-07-20">https://javascript.plainenglish.io/expressjs-and-serverless-a-beginners-ultimate-guide-a70794fa8b73?source=collection_archive---------18-----------------------#2022-07-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/63656beeea1095914cfed0fd02052043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QaqNxRg7nRydo97AO7q89A.jpeg"/></div></div></figure><p id="55b9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">越来越多的个人使用无服务器部署web应用程序。按执行付费的定价、自动扩展和闪电般的安装只是众多优势中的一部分。</p><p id="5143" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然而，切换到无服务器有自己的学习曲线。您必须熟悉您所使用的平台的细微差别，小到最小的细节，比如请求输入的格式和响应输出的必要形式。这可能会阻碍你，减缓你的发展。</p><p id="0c68" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">今天我有一个好消息要告诉你:无服务器将与你当前的web框架工具完美结合。在本文中，我将演示如何使用众所周知的Node web framework Express.js安装无服务器REST API。</p><h2 id="aebd" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">入门指南</h2><p id="00d8" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">要开始，你需要安装<a class="ae lr" href="https://serverless.com/framework/docs/providers/aws/guide/quick-start/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>。您还需要用<a class="ae lr" href="https://serverless.com/framework/docs/providers/aws/guide/credentials/" rel="noopener ugc nofollow" target="_blank"> AWS凭证</a>配置您的环境。</p><h2 id="db57" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">创建和部署Todo应用程序</h2><p id="a1dc" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">让我们从简单的事情开始——部署一个具有基本CRUD功能的todo应用程序。</p><p id="161d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，用一个<code class="fe ls lt lu lv b">package.json</code>文件创建一个新目录(名为<code class="fe ls lt lu lv b">express-serverless</code>):</p><pre class="lw lx ly lz gt ma lv mb mc aw md bi"><span id="f92e" class="kt ku in lv b gy me mf l mg mh">$ mkdir express-serverless &amp;&amp; cd express-serverless<br/>$ npm init --y</span></pre><p id="4aaf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">然后，让我们安装一些依赖项。我们将安装<code class="fe ls lt lu lv b">express</code>框架，以及<code class="fe ls lt lu lv b"><a class="ae lr" href="https://github.com/dougmoscrop/serverless-http" rel="noopener ugc nofollow" target="_blank">serverless-htt</a>p</code>和(一个非强制依赖)<code class="fe ls lt lu lv b">nodemon</code>:</p><pre class="lw lx ly lz gt ma lv mb mc aw md bi"><span id="e2f0" class="kt ku in lv b gy me mf l mg mh">$ npm install --save express serverless-http uuid<br/>$ npm install -D nodemon</span></pre><p id="0b60" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">管理Node.js应用程序和错综复杂的API网关之间的接口的一个有效的中间件是由big ups的<code class="fe ls lt lu lv b">Doug Moscrop</code>创建的<code class="fe ls lt lu lv b">serverless-http </code>包！</p><p id="8486" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe ls lt lu lv b">uuid</code>用于为我们的todos生成随机Id，而<code class="fe ls lt lu lv b">nodemon</code>用于监控我们的javascript文件的变化。</p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="c0b1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们深入研究编码本身:)。</p><p id="9df8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">您的<code class="fe ls lt lu lv b">package.json</code>应该是这样的(您的依赖版本可能比显示的要高，但这不是问题！)</p><figure class="lw lx ly lz gt jo"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="fbc4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用下面这段代码创建一个<code class="fe ls lt lu lv b">index.js</code>文件:</p><figure class="lw lx ly lz gt jo"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="cde8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">另外，在根目录下创建一个<code class="fe ls lt lu lv b">serverless.yml</code>文件，内容如下:</p><figure class="lw lx ly lz gt jo"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="3c93" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当然，不要忘记同步你的<code class="fe ls lt lu lv b">serverless-offline</code>插件。你可以通过跑步做到这一点</p><pre class="lw lx ly lz gt ma lv mb mc aw md bi"><span id="229b" class="kt ku in lv b gy me mf l mg mh">$ serverless plugin install -n serverless-offline</span></pre><p id="d327" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，用<code class="fe ls lt lu lv b">todos.controller.js</code>创建一个<code class="fe ls lt lu lv b">controller</code>文件夹</p><figure class="lw lx ly lz gt jo"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1b15" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们有了控制器端点，我们需要一个路由器将请求路由到它们。在根目录下用<code class="fe ls lt lu lv b">todo.route.js</code>文件创建一个<code class="fe ls lt lu lv b">route</code>文件夹。</p><figure class="lw lx ly lz gt jo"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="c1d6" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">此时，您的文件夹结构应该如下所示:</p><figure class="lw lx ly lz gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/7fa09ee5988cc04c4e4ffbfcf3e5b8aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MjJL_aWvau2qgvplFyCw2A.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Final folder structure</figcaption></figure></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="246e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">是啊，你猜对了，让我们带着这个野兽去兜风吧xD！</p><p id="2c4e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果您想在没有服务器的情况下测试运行您的应用程序:</p><pre class="lw lx ly lz gt ma lv mb mc aw md bi"><span id="3c07" class="kt ku in lv b gy me mf l mg mh">$ npm run start</span></pre><p id="900e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">使用<code class="fe ls lt lu lv b">serverless</code>，运行您的应用程序:</p><pre class="lw lx ly lz gt ma lv mb mc aw md bi"><span id="e63f" class="kt ku in lv b gy me mf l mg mh">$ serverless offline start</span></pre></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="3fdf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">耶！你做到了。</p><p id="ce3f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以在这里获得完整源代码<a class="ae lr" href="https://github.com/airscholar/express-serverless" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0bf8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">感谢您的阅读。</p><p id="4b62" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mw">更多内容看</em> <a class="ae lr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mw">说白了。</em></strong></a></p><p id="3f84" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mw">报名参加我们的</em> <a class="ae lr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em> <a class="ae lr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mw">推特</em> </strong> </a>，<a class="ae lr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">LinkedIn</em></strong></a><em class="mw">，</em><a class="ae lr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">YouTube</em></strong></a><em class="mw">，以及</em> <a class="ae lr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mw">不和</em> </strong> </a> <strong class="jx io"> <em class="mw">。</em> </strong></p><p id="ddcf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="mw">有兴趣缩放你的软件启动</em> </strong> <em class="mw">？检查出</em> <a class="ae lr" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mw">电路</em> </strong> </a> <em class="mw">。</em></p></div></div>    
</body>
</html>