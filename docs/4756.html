<html>
<head>
<title>How to Remove a File from a JavaScript FileList?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从JavaScript文件列表中删除文件？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-remove-a-file-from-a-javascript-filelist-4c55f78067ea?source=collection_archive---------0-----------------------#2022-12-31">https://javascript.plainenglish.io/how-to-remove-a-file-from-a-javascript-filelist-4c55f78067ea?source=collection_archive---------0-----------------------#2022-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/60968a159c5f59a64b726e8b6d6839d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MlOiPW_dfGD2XgAB"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@kxvn_lx?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">kevin laminto</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9d17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有时，我们想从JavaScript文件列表对象中删除一个文件。</p><p id="9dbf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将研究如何从JavaScript文件列表对象中移除文件。</p><h1 id="2932" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用扩展运算符</h1><p id="e8f2" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从JavaScript文件列表中删除文件的一种方法是使用spread操作符将文件列表转换为数组。</p><p id="8f8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我们可以调用<code class="fe me mf mg mh b">splice</code>来删除我们想要的文件。</p><p id="a738" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以编写以下HTML:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="05b5" class="mq lc iq mh b gy mr ms l mt mu">&lt;input type='file' multiple id='files'&gt;</span></pre><p id="993c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加<code class="fe me mf mg mh b">multiple</code>让选择多个文件。</p><p id="c578" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们可以通过编写以下内容来删除选择的项目之一:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="1443" class="mq lc iq mh b gy mr ms l mt mu">const input = document.getElementById('files')<br/>input.addEventListener('change', () =&gt; {<br/>  const fileListArr = [...input.files]<br/>  fileListArr.splice(1, 1)<br/>  console.log(fileListArr)<br/>})</span></pre><p id="257e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用<code class="fe me mf mg mh b">getElementById</code>得到文件输入元素。</p><h2 id="b6bd" class="mq lc iq bd ld mv mw dn lh mx my dp ll ko mz na lp ks nb nc lt kw nd ne lx nf bi translated">更多内容请访问<a class="ae kc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="3aa9" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated"><em class="ng">报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="ng">免费每周简讯</em> </strong> </a> <em class="ng">。关注我们关于</em><a class="ae kc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="ng">Twitter</em></strong></a><a class="ae kc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="ng">LinkedIn</em></strong></a><strong class="kf ir"><em class="ng"/></strong><a class="ae kc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="ng">YouTube</em></strong></a><strong class="kf ir"><em class="ng">，以及</em></strong><em class="ng"/><a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir"><em class="ng">不和</em> </strong> </a>T57】</p><h2 id="a759" class="mq lc iq bd ld mv mw dn lh mx my dp ll ko mz na lp ks nb nc lt kw nd ne lx nf bi translated">希望扩大你的科技创业公司的知名度和采用率吗？检查<a class="ae kc" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="0d6c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将<code class="fe me mf mg mh b">input.files</code>展开成一个数组。</p><p id="a569" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们调用数组上的<code class="fe me mf mg mh b">splice</code>,将索引1作为第一个参数，并指定用第二个参数移除1个项目。</p><p id="dc10" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，<code class="fe me mf mg mh b">fileListArr</code>列出了第1和第3档。</p><h1 id="7888" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">使用Array.from方法</h1><p id="b0cf" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">我们可以用<code class="fe me mf mg mh b">Array.from</code>方法代替spread操作符。</p><p id="e675" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我们可以写:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="01b3" class="mq lc iq mh b gy mr ms l mt mu">&lt;input type='file' multiple id='files'&gt;</span></pre><p id="3fa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且:</p><pre class="mi mj mk ml gt mm mh mn mo aw mp bi"><span id="498e" class="mq lc iq mh b gy mr ms l mt mu">const input = document.getElementById('files')<br/>input.addEventListener('change', () =&gt; {<br/>  const fileListArr = Array.from(input.files)<br/>  fileListArr.splice(1, 1)<br/>  console.log(fileListArr)<br/>})</span></pre><p id="070b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">做同样的事情。</p><p id="8b58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">唯一的区别是spread操作符被替换为<code class="fe me mf mg mh b">Array.from</code>。</p><h1 id="988a" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">结论</h1><p id="68dc" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">从JavaScript文件列表中删除文件的一种方法是使用spread操作符将文件列表转换为数组。</p><p id="3104" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，我们可以用<code class="fe me mf mg mh b">Array.from</code>方法代替spread操作符。</p></div></div>    
</body>
</html>