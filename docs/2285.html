<html>
<head>
<title>How to Convert an Array to a Map in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中将数组转换成地图</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-convert-array-to-map-12907a8a334a?source=collection_archive---------1-----------------------#2022-05-27">https://javascript.plainenglish.io/javascript-convert-array-to-map-12907a8a334a?source=collection_archive---------1-----------------------#2022-05-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b27203dece125b628273619628cc5f1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ph-tVFCic4a3NwlIfd7Jmw.png"/></div></div></figure><p id="af12" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本文中，我们将研究两种在JavaScript中将对象数组快速转换为<code class="fe kt ku kv kw b">Map</code>对象的方法。</p><h1 id="ffb5" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">1.Map()构造函数和数组map()</h1><p id="69e2" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">要将对象数组转换成地图，我们可以使用<code class="fe kt ku kv kw b">Array</code> <code class="fe kt ku kv kw b">map()</code>方法创建一个键值对数组，然后将得到的数组传递给<code class="fe kt ku kv kw b">Map()</code>构造函数来创建一个<code class="fe kt ku kv kw b">Map</code>对象。</p><pre class="ma mb mc md gt me kw mf mg aw mh bi"><span id="c2d1" class="mi ky in kw b gy mj mk l ml mm">const arr = [<br/>  { key: 'user1', value: 'John' },<br/>  { key: 'user2', value: 'Kate' },<br/>  { key: 'user3', value: 'Peter' },<br/>];<br/>const map = new Map(arr.map((obj) =&gt; [obj.key, obj.value]));</span><span id="af8b" class="mi ky in kw b gy mn mk l ml mm">// Map(3) { 'user1' =&gt; 'John', 'user2' =&gt; 'Kate', 'user3' =&gt; 'Peter' }<br/>console.log(map);</span></pre><p id="e175" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在传递给<code class="fe kt ku kv kw b">map()</code>方法的回调中，我们返回一个包含每个对象的键和值的数组。这将产生一个键值对数组:</p><pre class="ma mb mc md gt me kw mf mg aw mh bi"><span id="48a9" class="mi ky in kw b gy mj mk l ml mm">// [ [ 'user1', 'John' ], [ 'user2', 'Kate' ], [ 'user3', 'Peter' ] ]<br/>console.log(arr.map((obj) =&gt; [obj.key, obj.value]));</span></pre><p id="e486" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe kt ku kv kw b">Map</code>构造函数可以将这种形式的数组作为参数来创建一个<code class="fe kt ku kv kw b">Map</code>对象。</p><h1 id="ed21" class="kx ky in bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">2.映射集()和数组forEach()</h1><p id="03c4" class="pw-post-body-paragraph jv jw in jx b jy lv ka kb kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ig bi translated">另一种将对象数组转换成地图的方法是使用<code class="fe kt ku kv kw b">Array</code> <code class="fe kt ku kv kw b">forEach()</code>方法。首先，我们创建一个新的<code class="fe kt ku kv kw b">Map</code>对象。然后，我们通过调用传递给<code class="fe kt ku kv kw b">forEach()</code>的回调中的<code class="fe kt ku kv kw b">Map</code> <code class="fe kt ku kv kw b">set()</code>方法，将所有数组元素的条目添加到<code class="fe kt ku kv kw b">Map</code>。这里有一个例子:</p><pre class="ma mb mc md gt me kw mf mg aw mh bi"><span id="80b5" class="mi ky in kw b gy mj mk l ml mm">const arr = [<br/>  { key: 'user1', value: 'John' },<br/>  { key: 'user2', value: 'Kate' },<br/>  { key: 'user3', value: 'Peter' },<br/>];</span><span id="afe9" class="mi ky in kw b gy mn mk l ml mm">const map = new Map();<br/>arr.forEach((obj) =&gt; {<br/>  map.set(obj.key, obj.value);<br/>});</span><span id="e5d5" class="mi ky in kw b gy mn mk l ml mm">// Map(3) { 'user1' =&gt; 'John', 'user2' =&gt; 'Kate', 'user3' =&gt; 'Peter' }<br/>console.log(map);</span></pre></div><div class="ab cl mo mp hr mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ig ih ii ij ik"><p id="f375" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mv">更新于:</em><a class="ae mw" href="https://codingbeautydev.com/blog/javascript-convert-array-to-map/" rel="noopener ugc nofollow" target="_blank"><em class="mv">codingbeautydev.com</em></a></p><p id="31f0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">每周获取新的web开发技巧和教程。</p><figure class="ma mb mc md gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mx"><img src="../Images/b8db4799ac3fa2b55b41c7ca714bdf64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KLG9Wxq6Sqt3jxTaL00Tnw.png"/></div></div></figure><p id="420a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae mw" href="https://codingbeautydev.com/newsletter" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">订阅</strong> </a></p></div></div>    
</body>
</html>