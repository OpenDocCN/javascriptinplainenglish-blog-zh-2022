<html>
<head>
<title>How to Set Up Your TCP Client/Server App with Node.js from Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js从头开始设置TCP客户端/服务器应用程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-set-up-your-tcp-client-server-application-with-nodejs-from-scratch-5d218a1300f2?source=collection_archive---------1-----------------------#2022-04-24">https://javascript.plainenglish.io/how-to-set-up-your-tcp-client-server-application-with-nodejs-from-scratch-5d218a1300f2?source=collection_archive---------1-----------------------#2022-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e552" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Node.js设置自己的TCP客户机/服务器应用程序的分步指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fc1733158fc86c29d8407fd3b5997cfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*884L6QD6iED-hK_S"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@joshuaryanphoto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Reddekopp</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fc47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，您将学习如何使用Node.js设置和编写TCP客户端/服务器应用程序，使用简单的词语和从零开始的逐步方法进行解释！</p><p id="71c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">学习完本教程后，您将理解它是如何工作的，并且能够设置TCP服务器和TCP客户端，并使用Node.js在它们之间交换数据。</p><p id="3612" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(这个例子是基于Windows的，但是对于Linux也是一样的)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/5ba0882ef08c24b59825fc5fa2b04925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*erTO3_-BMjgvcneu"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ac91" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">什么是TCP？</h1><p id="4903" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">TCP代表<strong class="ky ir">传输控制协议</strong>，是TCP/IP互联网协议之一。</p><p id="56a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用TCP，您可以在客户端和服务器之间以可靠的方式交换数据。</p><p id="a748" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你要记住的是:</p><ul class=""><li id="0483" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">TCP是一种面向连接的协议:这意味着客户端必须先与服务器建立连接，然后才能与它交换数据</li><li id="2d6f" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">TCP是可靠的:这意味着当发送方的消息被接收方收到时，发送方会得到通知</li><li id="70a3" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">如果接收方没有收到消息，数据会重新传输，因此不会丢失数据</li><li id="24ca" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">您的数据是按顺序传送的，这意味着接收方将按照发送方发送数据包的顺序接收数据包</li><li id="427b" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">误差检测</li></ul><p id="20d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但在某些应用中，TCP可能不是正确的选择，因为与其他协议相比，它可能会很慢，而且对于视频流等一些应用来说，它可能会很重。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/1f1887eaa0b6bfbe3084848f8be673d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Zg-ilpYfTtbtRiAy"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jordanharrison?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jordan Harrison</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="9836" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">Node.js是什么？</h1><p id="9268" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Node.js定义为:</p><blockquote class="nf ng nh"><p id="59ca" class="kw kx ni ky b kz la jr lb lc ld ju le nj lg lh li nk lk ll lm nl lo lp lq lr ij bi translated"><em class="iq">“作为异步事件驱动的JavaScript运行时，Node.js旨在构建可扩展的网络应用。在下面的“hello world”示例中，可以并发处理许多连接。在每次连接时，回调被触发，但是如果没有工作要做，Node.js将休眠“(*) </em></p></blockquote><p id="4e22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">【https://nodejs.org/en/about/】(*)<a class="ae kv" href="https://nodejs.org/en/about/" rel="noopener ugc nofollow" target="_blank"><em class="ni"/></a></p><h1 id="1856" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">如何安装Node.js？</h1><p id="de91" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">要安装Node.js，建议从下载部分下载一个预构建的版本:</p><p id="871c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/download/</a></p><p id="a1a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请务必安装LTS版本，这是稳定的，并有“长期支持”。</p><p id="7f90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了检查它是否安装正确，请打开命令行(cmd)并执行以下命令(该命令检查Node.js的版本):</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="8c50" class="nr lu iq nn b gy ns nt l nu nv">node -v</span></pre><p id="4544" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出将是Node.js版本，例如:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/9f626d2224b2f441b0f4353c03fad563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*keZq9k7vVgHK44UZ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">check nodeJS version</figcaption></figure><p id="5b0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果可以的话，我们就可以开始编码了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/4b92abc946a92fff7b539ab1d746dc88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jnCRNjefw3vUbZ3b"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@casparrubin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Caspar Camille Rubin</a> on <a class="ae kv" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ad48" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">开始编码吧！</h1><h2 id="19c5" class="nr lu iq bd lv nx ny dn lz nz oa dp md lf ob oc mf lj od oe mh ln of og mj oh bi translated">1.我们的应用架构</h2><p id="00af" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">对于本教程，它将是一个简单的TCP客户端/服务器架构:</p><ul class=""><li id="992d" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">服务器:它将监听客户机消息将要到达的特定端口，并发送对客户机请求的响应。</li><li id="3844" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">客户端将向服务器发送一条消息，并等待对其请求的响应</li></ul><p id="f940" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>我尽量让它对你来说非常简单，这样你就可以学习，并且在实际应用中使用它取决于你自己。:)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/13ff9b8a6ee838e23b2368f58808a119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*eAHMg5ETPZ_G1cnN1Hg4rA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Our application architecture</figcaption></figure><h2 id="6c29" class="nr lu iq bd lv nx ny dn lz nz oa dp md lf ob oc mf lj od oe mh ln of og mj oh bi translated">2.TCP客户端</h2><p id="fdb3" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在本节中，我们将使用“net”模块创建两个TCP客户端。</p><blockquote class="nf ng nh"><p id="0ccf" class="kw kx ni ky b kz la jr lb lc ld ju le nj lg lh li nk lk ll lm nl lo lp lq lr ij bi translated">“<code class="fe oj ok ol nn b">net</code>模块为创建基于流的TCP提供了异步网络API”。<a class="ae kv" href="https://nodejs.org/api/net.html#net" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/api/net.html#net</a></p></blockquote><p id="34b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，每个客户端将:</p><ul class=""><li id="cf06" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">连接到服务器</li><li id="80a6" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">表达重要意思</li><li id="ecb7" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">等待服务器响应</li></ul><p id="e966" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是该示例的完整代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">TCP client code in NodeJS</figcaption></figure><p id="79da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一些解释:</p><p id="6d70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您需要通过调用以下命令来获取“net”模块:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="fdec" class="nr lu iq nn b gy ns nt l nu nv">const net = require('net');</span></pre><p id="2647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您需要创建套接字以连接到服务器:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="2170" class="nr lu iq nn b gy ns nt l nu nv">const client1 = new net.Socket();</span></pre><p id="a8e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以使用适当的端口(在本例中为8888)通过以下函数连接到服务器:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="4ed8" class="nr lu iq nn b gy ns nt l nu nv">client1.connect(.....)</span></pre><p id="1fe1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">建立连接后，您可以使用以下方式发送消息:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="9b78" class="nr lu iq nn b gy ns nt l nu nv">client1.write('Hi from the client 1')</span></pre><p id="9c09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要处理数据接收、错误、连接关闭等事件，您可以使用:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="a562" class="nr lu iq nn b gy ns nt l nu nv">client1.on('XXX',function(x){<br/>   // you function code <br/>});</span></pre><ul class=""><li id="3b60" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">' XXX '是要处理的事件，它可以是' data '，' close' …</li><li id="b8a7" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">function(){}:事件发生时是否调用回调</li></ul><p id="4d2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以使用以下命令在命令行中启动我们的客户端代码:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="093f" class="nr lu iq nn b gy ns nt l nu nv">node tcp_client.js</span></pre><h2 id="4e11" class="nr lu iq bd lv nx ny dn lz nz oa dp md lf ob oc mf lj od oe mh ln of og mj oh bi translated">3.TCP服务器</h2><p id="6f91" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">与TCP客户端一样，要设置TCP服务器，我们将使用“net”模块。</p><p id="b19a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">启动后，服务器将监听特定端口(在本例中为8888 ),并将:</p><ul class=""><li id="e332" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">等待客户端连接</li><li id="c2d7" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">从每个连接的客户端接收数据</li><li id="5d95" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">向每个连接的客户端发回响应</li></ul><p id="4c44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是服务器的完整代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">TCP server code in NodeJS</figcaption></figure><p id="8177" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一些解释:</p><p id="a151" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您必须使用以下命令创建服务器:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="f25d" class="nr lu iq nn b gy ns nt l nu nv">const server = net.createServer(onClientConnection);</span></pre><p id="b9d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意</strong>是一个回调函数，每次客户端连接到服务器时都会调用。</p><p id="35b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们必须使用以下命令启动服务器监听:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="cbb4" class="nr lu iq nn b gy ns nt l nu nv">server.listen(....)</span></pre><p id="183d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们前面说过的，每次客户端连接到服务器时，<code class="fe oj ok ol nn b">onClientConnection</code>都会被调用，所以让我们来看看这个函数的内部:</p><p id="14cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以注意到，在<code class="fe oj ok ol nn b">onClientConnection</code>中，我们设置了一些事件发生时要调用的回调函数(正如我们在上面的客户端部分所解释的)。</p><p id="14b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本例中，我们设置了一个接收数据时的回调:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="78c7" class="nr lu iq nn b gy ns nt l nu nv">sock.on('data',function(data){....})</span></pre><p id="ffdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以及当连接关闭时要调用的另一个函数:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="2633" class="nr lu iq nn b gy ns nt l nu nv">sock.on('close',function(){....})</span></pre><p id="62e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以及对错误的回调:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="6d22" class="nr lu iq nn b gy ns nt l nu nv">sock.on('error',function(error){...})</span></pre><p id="22c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用<code class="fe oj ok ol nn b">sock.write(…)</code>向客户端发送消息，并使用<code class="fe oj ok ol nn b">sock.end()</code>关闭客户端连接。</p><p id="453e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">话虽如此，现在让我们使用命令行启动我们的服务器代码:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="725c" class="nr lu iq nn b gy ns nt l nu nv">node tcp_server.js</span></pre><h2 id="accf" class="nr lu iq bd lv nx ny dn lz nz oa dp md lf ob oc mf lj od oe mh ln of og mj oh bi translated">4.结果</h2><p id="5a6d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">现在，结果是:</p><p id="0979" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于客户端，结果如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/43dd6b68ec15d280040169836ff56d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d-zPZjkmF4uDaS4dYfRnoA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">TCP clients using NodeJS</figcaption></figure><p id="19f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以看到两个客户端成功启动，向服务器发送消息，从服务器接收消息，最后连接关闭。</p><p id="1056" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在服务器端:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/607fc6cdde15877b55f507705f223fc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxxLH7KP_vMaCE2DIdXWWg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">TCP server using NodeJS</figcaption></figure><p id="4428" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到两个客户端连接到服务器(记录了它们的IP地址，您可以注意到每个客户端有两个不同的IP地址)。然后，服务器从每个客户端收到一条消息，并发回响应，最后关闭每个客户端的连接。</p><p id="d58b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这样！</p><h1 id="f1a2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">结论</h1><p id="3ec5" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在本教程结束时:</p><ul class=""><li id="a4ff" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">您对TCP有基本的了解</li><li id="1ccd" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">您已经在计算机上安装了Node.js</li><li id="36d9" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">设置一个从客户端接收数据并发回响应的TCP服务器</li><li id="9631" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">设置TCP客户端以连接到TCP服务器，从服务器发送消息和接收数据</li></ul><p id="c648" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望本教程对您来说是清晰的，并帮助您使用Node.js构建自己的TCP客户机/服务器应用程序。</p><p id="279d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">请不要忘记点击“跟随”按钮并留言！</strong></p><p id="d8e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢！请继续关注更多教程。</p><p id="1080" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了支持我制作更多教程，请加入media:</p><div class="oq or gp gr os ot"><a href="https://medium.com/@khalilsaidi19/membership" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd ir gy z fp oy fr fs oz fu fw ip bi translated">加入Medium，我的推荐链接- Khalil SAIDI</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">作为一名中型会员，您的部分会员费将支付给您所阅读的作家，您可以完全接触到每个故事……</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph kp ot"/></div></div></a></div><p id="93d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ni">更内容于</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ni"/></strong></a><em class="ni">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ni">免费周报</em> </strong> </a> <em class="ni">。跟随我们登上</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ni">推特</em> </strong> </a>和 <a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ni">领英</em> </strong> </a> <em class="ni">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ni">社群不和</em> </strong> </a> <em class="ni">。</em></p></div></div>    
</body>
</html>