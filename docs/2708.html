<html>
<head>
<title>JavaScript is Weird and That’s Why We Love it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript很奇怪，这也是我们喜欢它的原因</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-is-weird-and-that-is-why-we-love-it-2b46dff3ec73?source=collection_archive---------6-----------------------#2022-06-28">https://javascript.plainenglish.io/javascript-is-weird-and-that-is-why-we-love-it-2b46dff3ec73?source=collection_archive---------6-----------------------#2022-06-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d842c21bdad31a7ab4158ffce4ea6b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vTVj5mnhLq6rwBubOxiX6Q.png"/></div></div></figure><p id="a73b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">JavaScript是世界上最流行的语言之一。大多数精通技术的公司都在寻找JavaScript开发者，这并不奇怪。但是除此之外，它也是一种奇怪的语言。这篇文章将详细讨论为什么会这样，并且在这个过程中，也试图消除你的一些疑虑。</p><p id="794c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">还有，这只是为了学习，也是为了好玩。这将有助于提高您的JavaScript知识的深度，所以我们开始吧。🚗 😉</p><ol class=""><li id="efa8" class="ku kv in jx b jy jz kc kd kg kw kk kx ko ky ks kz la lb lc bi translated"><code class="fe ld le lf lg b">ParseInt()</code></li></ol><p id="f71b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个函数应该将传递的变量转换成整数，但是如果我们传递这个呢？</p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="f0b1" class="lp lq in lg b gy lr ls l lt lu">parseInt(0.0000005)<br/>#output <br/>5</span><span id="565d" class="lp lq in lg b gy lv ls l lt lu">#but if we passed that <br/>parseInt(0.000005)<br/>#output <br/>0</span></pre><p id="0796" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">是不是很奇怪？在两种情况下我们都应该得到0，但是我们得到了不同的结果😖。这个问题的答案在于ParseInt的定义，它首先将传递的值转换为字符串，然后返回在任何特殊字符之前收到的第一个数值。因此，当我们转换<code class="fe ld le lf lg b">0.0000005 to String</code>时，我们得到<code class="fe ld le lf lg b">‘5e-7’ </code>，这导致了问题。</p><p id="f6d8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">2.<code class="fe ld le lf lg b">JSON.parse()</code></p><p id="c8f0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当你得到一个非常大的数字时，这个函数有一些限制。它开始变得像这样奇怪:</p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="9c4c" class="lp lq in lg b gy lr ls l lt lu">JSON.parse('{"key":12345678910111213}')<br/>#output<br/>{key: 12345678910111212}</span></pre><p id="7a20" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">结尾的13怎么自动变成12？为了正确地工作，您必须将那个<code class="fe ld le lf lg b">12345678910111213</code>作为一个字符串传递，或者您可以使用另一个库，比如<a class="ae lw" href="https://npmjs.org/package/json-bigint" rel="noopener ugc nofollow" target="_blank"> json-bitint </a>。</p><p id="306b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">3.<code class="fe ld le lf lg b">NaN</code>是一个数字</p><p id="d23d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在JavaScript中，NaN是“<strong class="jx io">非数字</strong>”的缩写。在JavaScript中，NaN不是一个数字，但是当我们这样做时:</p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="efb8" class="lp lq in lg b gy lr ls l lt lu">typeof NaN;<br/>#output<br/>'number'</span></pre><p id="e6aa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们得到“number”作为输出，这意味着NaN的全局属性也是一个数字。</p><p id="4129" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">4.<code class="fe ld le lf lg b">(‘b’+ ‘a’ + + ‘a’ + ‘a’).toLowerCase()</code></p><p id="3bb3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">JavaScript似乎非常喜欢香蕉，因为这段代码显示了这一点。😆</p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="b352" class="lp lq in lg b gy lr ls l lt lu">(‘b’+ ‘a’ + + ‘a’ + ‘a’).toLowerCase()<br/>'banana'</span></pre><figure class="lh li lj lk gt jo gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/1d98f130b3fe76bd3227d1a149a3634c.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*88qio2pqCyM6mXMy3A45aQ.jpeg"/></div></figure><p id="4aac" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">5.<code class="fe ld le lf lg b">0.2+0.1 == 0.3</code>不是真的😕</p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="bd27" class="lp lq in lg b gy lr ls l lt lu">0.5+0.1 == 0.6<br/>#output<br/>true</span><span id="6255" class="lp lq in lg b gy lv ls l lt lu">#but when we pass<br/>0.1+0.2 == 0.3<br/>#output<br/>false</span></pre><p id="4d1b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这似乎让我感到困惑，因为这是一件非常愚蠢的事情。但这背后也有一个逻辑。当您这样做时:</p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="95f7" class="lp lq in lg b gy lr ls l lt lu">0.2+0.1<br/>#output<br/>0.30000000000000004</span></pre><p id="b9a2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">解释</strong></p><blockquote class="ly lz ma"><p id="3861" class="jv jw kt jx b jy jz ka kb kc kd ke kf mb kh ki kj mc kl km kn md kp kq kr ks ig bi translated"><em class="in">“数字类型正好有18437736874454810627(即2⁶⁴ — 2⁵ + 3)个值，表示IEEE二进制浮点运算标准中规定的双精度64位格式IEEE 754值”“</em> <a class="ae lw" href="https://www.ecma-international.org/ecma-262/5.1/#sec-8.5" rel="noopener ugc nofollow" target="_blank"> <em class="in"> ECMAScript语言规范</em> </a></p></blockquote><p id="fda4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">为什么会发生这种情况？</p><blockquote class="ly lz ma"><p id="1a21" class="jv jw kt jx b jy jz ka kb kc kd ke kf mb kh ki kj mc kl km kn md kp kq kr ks ig bi translated"><em class="in">“你的语言没坏，是在做浮点数学。计算机本身只能存储整数，所以它们需要某种方式来表示十进制数。这种表述并不完全准确。这就是为什么，</em> <code class="fe ld le lf lg b"><em class="in">0.1 + 0.2 != 0.3</em></code> <em class="in">”— </em></p><p id="22b5" class="jv jw kt jx b jy jz ka kb kc kd ke kf mb kh ki kj mc kl km kn md kp kq kr ks ig bi translated"><a class="ae lw" href="https://medium.com/u/a2ac2bff6025?source=post_page-----d7e218224a72--------------------------------" rel="noopener"> <em class="in">埃里克·威芬</em> </a></p></blockquote><p id="b177" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">上</em>下<a class="ae lw" href="https://0.30000000000000004.com/" rel="noopener ugc nofollow" target="_blank">上<em class="kt">0.30000000000000004.com</em>下</a></p><p id="53dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">6.<code class="fe ld le lf lg b">Math.max()</code>小于<code class="fe ld le lf lg b">Math.min()</code></p><pre class="lh li lj lk gt ll lg lm ln aw lo bi"><span id="f189" class="lp lq in lg b gy lr ls l lt lu">Math.max()<br/>#output<br/>-Infinity</span><span id="1de7" class="lp lq in lg b gy lv ls l lt lu">Math.min()<br/>#output<br/>Infinity</span><span id="82a4" class="lp lq in lg b gy lv ls l lt lu">Math.min() &gt; Math.max()<br/>#output<br/>true</span></pre><p id="0395" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我知道这没有意义，因为max和min函数用于从列表中查找max和min值；所以这是没有用的，但它仍然表现得如此怪异。😆</p><h1 id="c43e" class="me lq in bd mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na bi translated"><strong class="ak">就这样</strong></h1><p id="e82b" class="pw-post-body-paragraph jv jw in jx b jy nb ka kb kc nc ke kf kg nd ki kj kk ne km kn ko nf kq kr ks ig bi translated">谢谢你花时间读完它。为你找到这些东西需要付出很多努力和研究。JS中还有更多奇怪的东西，但是今天已经足够了。评论你的观点，与你的JavaScript程序员朋友分享。</p><div class="ng nh gp gr ni nj"><a href="https://www.linkedin.com/in/jaykishan-khemani-a0452850/" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd io gy z fp no fr fs np fu fw im bi translated">Jaykishan Khemani -解决方案工程师- GAMMASTACK | LinkedIn</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">查看Jaykishan Khemani在世界上最大的职业社区LinkedIn上的个人资料。Jaykishan列出了3个工作…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">www.linkedin.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx jt nj"/></div></div></a></div><p id="cc70" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="kt">更多内容看</em> <a class="ae lw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">说白了就是</em> </strong> </a> <em class="kt">。报名参加我们的</em> <a class="ae lw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">免费周报</em> </strong> </a> <em class="kt">。关注我们</em> <a class="ae lw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">推特</em> </strong> </a> <em class="kt">和</em><a class="ae lw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="kt">LinkedIn</em></strong></a><em class="kt">。查看我们的</em> <a class="ae lw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">社区不和谐</em> </strong> </a> <em class="kt">加入我们的</em> <a class="ae lw" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="kt">人才集体</em> </strong> </a> <em class="kt">。</em></p></div></div>    
</body>
</html>