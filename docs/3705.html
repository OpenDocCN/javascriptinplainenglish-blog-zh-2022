<html>
<head>
<title>How to Remove the Hash From URLs in Vue Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Vue路由器中删除URL中的哈希</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/vue-router-remove-hash-a7d9ac8f9c06?source=collection_archive---------8-----------------------#2022-09-19">https://javascript.plainenglish.io/vue-router-remove-hash-a7d9ac8f9c06?source=collection_archive---------8-----------------------#2022-09-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="bbb8" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何在Vue路由器中轻松删除URL中的哈希字符。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/547586af3cb500a722fc93f5112057ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_N8aV1wra-CsCaFcMvXMAg.png"/></div></div></figure><p id="dabf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要从Vue 3中的Vue路由器的URL中删除哈希，将<code class="fe lk ll lm ln b">createRouter()</code>中的<code class="fe lk ll lm ln b">history</code>选项设置为<code class="fe lk ll lm ln b">createWebHistory()</code>的结果。</p><p id="8df1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">main.js</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="e79f" class="ls lt in ln b gy lu lv l lw lx">const router = VueRouter.createRouter({<br/>  history: VueRouter.createWebHistory(),<br/>  ...<br/>});</span></pre><p id="1a51" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果你使用的是Vue 2，在<code class="fe lk ll lm ln b">VueRouter()</code>构造函数中将<code class="fe lk ll lm ln b">mode</code>选项设置为<code class="fe lk ll lm ln b">'history'</code>。</p><p id="ffc7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">main.js</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="c16f" class="ls lt in ln b gy lu lv l lw lx">const router = new VueRouter({<br/>  mode: 'history',<br/>  ...<br/>});</span></pre><h1 id="08d2" class="ly lt in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">从Vue 3和Vue路由器4中的URL中删除哈希</h1><p id="a0c1" class="pw-post-body-paragraph ko kp in kq b kr mp jo kt ku mq jr kw kx mr kz la lb ms ld le lf mt lh li lj ig bi translated">这是一个样例Vue 3应用程序，其中我们使用了Vue Router 4。</p><p id="242d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">main.js</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="038b" class="ls lt in ln b gy lu lv l lw lx">import { createApp } from 'vue';<br/>import { createRouter } from 'vue-router';<br/>import App from './App.vue';<br/>import HomePage from '@/views/HomePage.vue';<br/>import ContactPage from '@/views/ContactPage.vue';<br/>import AboutPage from '@/views/AboutPage.vue';</span><span id="b03d" class="ls lt in ln b gy mu lv l lw lx">const app = createApp(App);</span><span id="6206" class="ls lt in ln b gy mu lv l lw lx">const routes = [<br/>  { path: '/', component: HomePage },<br/>  { path: '/about', component: AboutPage },<br/>  { path: '/contact', component: ContactPage },<br/>];</span><span id="798e" class="ls lt in ln b gy mu lv l lw lx">const router = createRouter({<br/>  routes,<br/>});</span><span id="4c6c" class="ls lt in ln b gy mu lv l lw lx">app.use(router);</span><span id="7a32" class="ls lt in ln b gy mu lv l lw lx">app.mount('#app');</span></pre><p id="2761" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">App.vue</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="2865" class="ls lt in ln b gy lu lv l lw lx">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;router-link to="/"&gt;Home&lt;/router-link&gt;{{ ' ' }}<br/>    &lt;router-link to="/about"&gt;About&lt;/router-link&gt;{{ ' ' }}<br/>    &lt;router-link to="/contact"&gt;Contact&lt;/router-link&gt;<br/>    &lt;router-view&gt;&lt;/router-view&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="9dcd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">views/HomePage.vue</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="32e0" class="ls lt in ln b gy lu lv l lw lx">&lt;template&gt;<br/>  &lt;div&gt;&lt;h2&gt;Welcome&lt;/h2&gt;&lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="90c9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">views/AboutPage.vue</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="5337" class="ls lt in ln b gy lu lv l lw lx">&lt;template&gt;<br/>  &lt;div&gt;&lt;h2&gt;About us&lt;/h2&gt;&lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="1214" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">views/ContactPage.vue</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="7033" class="ls lt in ln b gy lu lv l lw lx">&lt;template&gt;<br/>  &lt;div&gt;&lt;h2&gt;Contact us&lt;/h2&gt;&lt;/div&gt;<br/>&lt;/template&gt;</span></pre><p id="3116" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这是此web应用程序的主页外观:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/b65cb0159b91fd2ffbfbe2b67712337d.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*AUMRmfxni3FYthII.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">There is a hash character before the index route path.</figcaption></figure><p id="6723" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">可以看到页面的URL中的索引路径(<code class="fe lk ll lm ln b">/</code>)前有一个哈希字符(<code class="fe lk ll lm ln b">#</code>)。这是因为Vue路由器使用哈希历史模式来表示不同路由的URL。在哈希模式下，在路由路径之前放置一个哈希字符，这可以防止在单击路由器链接时重新加载页面。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/a7637d3e38b85a8dd763954df4d228b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*Us_1or4HoB0FHv4V.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">There is a hash character before the “/about” route path.</figcaption></figure><p id="86cc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">vue-router</code>中的<code class="fe lk ll lm ln b">createRouter()</code>函数创建一个路由器实例，供Vue应用程序使用。我们可以向函数传递一个带有一堆选项的对象来定制路由器的行为。</p><p id="91e4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">main.js</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="822b" class="ls lt in ln b gy lu lv l lw lx">import { createApp } from 'vue';<br/>import { createRouter, createWebHistory } from 'vue-router';<br/>import App from './App.vue';<br/>import HomePage from '@/views/HomePage.vue';<br/>import ContactPage from '@/views/ContactPage.vue';<br/>import AboutPage from '@/views/AboutPage.vue';</span><span id="28d1" class="ls lt in ln b gy mu lv l lw lx">const app = createApp(App);</span><span id="014a" class="ls lt in ln b gy mu lv l lw lx">const routes = [<br/>  { path: '/', component: HomePage },<br/>  { path: '/about', component: AboutPage },<br/>  { path: '/contact', component: ContactPage },<br/>];</span><span id="e92e" class="ls lt in ln b gy mu lv l lw lx">// 👇<br/>const router = createRouter({<br/>  history: createWebHistory(),<br/>  routes,<br/>});</span><span id="f9d7" class="ls lt in ln b gy mu lv l lw lx">app.use(router);</span><span id="379a" class="ls lt in ln b gy mu lv l lw lx">app.mount('#app');</span></pre><p id="096f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">将<code class="fe lk ll lm ln b">history</code>选项设置为来自<code class="fe lk ll lm ln b">vue-router</code>的<code class="fe lk ll lm ln b">createWebHistory()</code>函数的结果会将路由器从哈希历史模式切换到HTML5历史模式。这将从URL中删除哈希。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/0baa9939dcdd8b64b19364feb4818ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*2Duo3n0NC9ybgivF.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">There is no hash character before the index route path.</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/55faca260fc2604ff95e3484c49c9064.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/0*WE9jGmVub4EIl_eX.png"/></div><figcaption class="mw mx gj gh gi my mz bd b be z dk">There is no hash character before the “/about” route path.</figcaption></figure><h1 id="efa7" class="ly lt in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">从Vue 2和Vue路由器3中的URL中删除哈希</h1><p id="2fcd" class="pw-post-body-paragraph ko kp in kq b kr mp jo kt ku mq jr kw kx mr kz la lb ms ld le lf mt lh li lj ig bi translated">Vue 2应用使用Vue路由器3，因此路由器初始化逻辑会有所不同。</p><p id="e74d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你的<code class="fe lk ll lm ln b">main.js</code>文件现在可能是这样的:</p><p id="667f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">main.js</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="cd5d" class="ls lt in ln b gy lu lv l lw lx">import Vue from 'vue';<br/>import App from './App.vue';<br/>import VueRouter from 'vue-router';<br/>import HomePage from '@/views/HomePage.vue';<br/>import ContactPage from '@/views/ContactPage.vue';<br/>import AboutPage from '@/views/AboutPage.vue';</span><span id="fdfd" class="ls lt in ln b gy mu lv l lw lx">Vue.config.productionTip = false;<br/>Vue.use(VueRouter);</span><span id="ec9f" class="ls lt in ln b gy mu lv l lw lx">const routes = [<br/>  { path: '/', component: HomePage },<br/>  { path: '/about', component: AboutPage },<br/>  { path: '/contact', component: ContactPage },<br/>];</span><span id="90eb" class="ls lt in ln b gy mu lv l lw lx">const router = new VueRouter({<br/>  routes,<br/>});</span><span id="b6cc" class="ls lt in ln b gy mu lv l lw lx">new Vue({<br/>  router,<br/>  render: (h) =&gt; h(App),<br/>}).$mount('#app');</span></pre><p id="dacf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这里我们使用一个<code class="fe lk ll lm ln b">VueRouter()</code>构造函数来创建一个新的路由器实例。像<code class="fe lk ll lm ln b">createRouter()</code>一样，我们可以通过一组选项来定制它的行为。要从哈希历史模式切换到HTML5历史模式并从URL中删除哈希，请将<code class="fe lk ll lm ln b">mode</code>选项设置为<code class="fe lk ll lm ln b">'history'</code>。</p><p id="b4b6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">main.js</code></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="4c69" class="ls lt in ln b gy lu lv l lw lx">import Vue from 'vue';<br/>import App from './App.vue';<br/>import VueRouter from 'vue-router';<br/>import HomePage from '@/views/HomePage.vue';<br/>import ContactPage from '@/views/ContactPage.vue';<br/>import AboutPage from '@/views/AboutPage.vue';</span><span id="51c4" class="ls lt in ln b gy mu lv l lw lx">Vue.config.productionTip = false;<br/>Vue.use(VueRouter);</span><span id="d492" class="ls lt in ln b gy mu lv l lw lx">const routes = [<br/>  { path: '/', component: HomePage },<br/>  { path: '/about', component: AboutPage },<br/>  { path: '/contact', component: ContactPage },<br/>];</span><span id="91a1" class="ls lt in ln b gy mu lv l lw lx">// 👇<br/>const router = new VueRouter({<br/>  mode: 'history',<br/>  routes,<br/>});</span><span id="775c" class="ls lt in ln b gy mu lv l lw lx">new Vue({<br/>  router,<br/>  render: (h) =&gt; h(App),<br/>}).$mount('#app');</span></pre></div><div class="ab cl na nb hr nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ig ih ii ij ik"><p id="7229" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nh">原载于</em>【codingbeautydev.com】<em class="nh"/></p><h1 id="4bf9" class="ly lt in bd lz ma mb mc md me mf mg mh jt mi ju mj jw mk jx ml jz mm ka mn mo bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph ko kp in kq b kr mp jo kt ku mq jr kw kx mr kz la lb ms ld le lf mt lh li lj ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae ni" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>