<html>
<head>
<title>How to Create Universal Link in Expo Using Firebase Dynamic Link</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何利用Firebase动态链接创建世博会通用链接</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-universal-link-in-expo-using-firebase-dynamic-link-7c70eba737c2?source=collection_archive---------2-----------------------#2022-02-23">https://javascript.plainenglish.io/how-to-create-universal-link-in-expo-using-firebase-dynamic-link-7c70eba737c2?source=collection_archive---------2-----------------------#2022-02-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ea9f" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用Firebase动态链接创建世博会通用链接指南。</h2></div><h1 id="2f33" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated"><strong class="ak">什么是DeepLink </strong></h1><p id="a904" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">DeepLink是一种超链接，将用户发送到应用商店或应用程序。它是你的应用程序内部的一个链接。</p><p id="94b9" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">深度链接有两种情况:</p><ul class=""><li id="4eeb" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated">如果安装了应用程序，它将打开应用程序中的屏幕。</li><li id="be88" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated">如果应用程序没有安装，那么它会打开Play Store(在Android的情况下)或App Store(在iOS的情况下)</li></ul><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/b63619ef04dcc449bcc121882f0920bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*P3U2Xs51TXMeIvy1.png"/></div></div></figure><h1 id="3b30" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">深度链接的类型</h1><p id="fe31" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">以世博会为例，深层链接可以有多种类型-</p><ul class=""><li id="3b6d" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated">世博会的发展:</li></ul><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="4acf" class="na kd in mw b gy nb nc l nd ne">exp://127.0.0.1:19000/ — /path/into/app?hello=world</span></pre><ul class=""><li id="79aa" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated">Expo Go中发布的应用程序:</li></ul><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="0e41" class="na kd in mw b gy nb nc l nd ne">exp://exp.host/@community/with-webbrowser-redirect/ — /path/into/app?hello=world</span></pre><ul class=""><li id="f28e" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated">独立发布的应用程序:</li></ul><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="4e0d" class="na kd in mw b gy nb nc l nd ne">myapp://path/into/app?hello=world</span></pre><ul class=""><li id="034f" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated">已发布的独立应用程序(通用链接):</li></ul><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="1805" class="na kd in mw b gy nb nc l nd ne">https://www.myapp.io/records/123</span></pre><p id="14a4" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">前两个链接只能在Expo Go中使用，这就是为什么我们不能在我们的生产应用程序中使用它们。</p><p id="2b2b" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">第三个环节是在所谓的<strong class="kw io">计划</strong>的帮助下完成的。只有当我们从其他应用程序打开我们的应用程序时，方案链接才有用。例如，<strong class="kw io"> App 1 </strong>中的一个按钮打开<strong class="kw io"> App 2 </strong>中的一个屏幕。</p><p id="db24" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">这些类型的链接在作为可共享链接共享时是不可点击的。😕</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nf"><img src="../Images/494186a30969dd564ec59c076724c3ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PJ9ujwXcb3sEzmj6.jpeg"/></div></div></figure><p id="4a18" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">最后一个被称为<strong class="kw io">通用链接</strong>，因为它可以在任何地方共享，并且可以点击(由HTTPS方案组成)。这是我们感兴趣的环节。🤩</p><h1 id="f294" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">用例</h1><ul class=""><li id="44da" class="lv lw in kw b kx ky la lb ld ng lh nh ll ni lp ma mb mc md bi translated">推送通知</li><li id="c11a" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated">可用于直接打开应用程序的电子邮件</li><li id="7b26" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated">可以分享屏幕(产品等)的链接。)</li></ul><h1 id="9cba" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">应用程序设置</h1><p id="134c" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">让我们不要在理论上花更多的时间，开始设置应用程序😃。</p><p id="c0bf" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">我们将使用expo-cli创建我们的应用程序。</p><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="ef0d" class="na kd in mw b gy nb nc l nd ne">expo init deep-link</span></pre><p id="fcd7" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">它会询问一些选项，选择<strong class="kw io">最小屏幕的打字稿和反应导航</strong>。</p><p id="30b0" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">我们将从添加两个屏幕开始—</p><ul class=""><li id="7941" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated"><strong class="kw io">所有用户屏幕</strong> —它将显示所有用户</li><li id="34c2" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated"><strong class="kw io">用户屏幕</strong> —将显示个人用户屏幕</li></ul><p id="d62d" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">我们将把<code class="fe nj nk nl mw b">userId</code>从所有用户屏幕传递到用户屏幕。</p><p id="93bc" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated"><strong class="kw io"> AllUsersScreen.tsx </strong></p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nm"><img src="../Images/d258ea9a77db4723293140315a7c0c72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-kRmm2icYMGqwqL1.png"/></div></div></figure><p id="51bb" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">一个简单的功能组件，其中的用户数据是一个静态的对象数组。每当有人点击任何一个用户名，它就会和<strong class="kw io">用户Id </strong>一起推送到新的屏幕。</p><p id="cf8c" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">将该组件导入到<strong class="kw io"> TabTwoScreen.tsx </strong>中。</p><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="c80c" class="na kd in mw b gy nb nc l nd ne">import React from ‘react’;<br/>import AllUsersScreen from ‘./AllUsersScreen’;</span><span id="190b" class="na kd in mw b gy nn nc l nd ne">export default function TabTwoScreen() {<br/> return &lt;AllUsersScreen /&gt;;<br/>}</span></pre><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi no"><img src="../Images/6017bdfc8d6429fa129f593ef6c58a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IzIGvoL88G8GvTcw.png"/></div></div></figure><p id="54a8" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">下一步是设置<strong class="kw io">用户屏幕。</strong></p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi np"><img src="../Images/6f760f4167b3ab83e9b3691375eff516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IhcwUDJUVB9sz0OL.png"/></div></div></figure><p id="4610" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">这是一个基本的功能组件，我们在其中创建了一个基本的<strong class="kw io">反应-导航</strong>界面。然后，这个基本接口被一个特定于屏幕的接口继承，在我们的例子中，这个接口就是<strong class="kw io">UserScreenNavigationProps</strong>。该接口用于接受<strong class="kw io"> id </strong>作为路线参数。</p><p id="0095" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">现在，我们需要将这个组件添加到<strong class="kw io">堆栈中。屏幕</strong>定义我们的<strong class="kw io">堆栈导航器</strong>中的屏幕。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nq"><img src="../Images/4381e8888cb37c82cd61127c388b8f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XzkE5bet0Qox6C7s.png"/></div></div></figure><p id="c2b2" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">大多数屏幕都来自模板。我们的是用户。TypeScript可能会给出一个错误，所以在<strong class="kw io"> types.tsx </strong>文件中，编辑type<strong class="kw io">RootStackParamList</strong>。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nr"><img src="../Images/eafc66c3c4505e4ae2e26084ef6c249d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xe28r_PMTEhwBl97.png"/></div></div></figure><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ns"><img src="../Images/8b2a23a4cec541600ce02bc0a6e6584d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UIcDn1nZogGzqCbD.png"/></div></div></figure><h1 id="a624" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">Firebase托管设置</h1><p id="f4ef" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">我们稍后将设置共享链接逻辑，因为首先，我们需要在我们的web域端设置通用链接。世博文档说我们需要在一个web域上部署两个文件——<code class="fe nj nk nl mw b">/.well-known/apple-app-site-association</code><strong class="kw io">(iOS)</strong><code class="fe nj nk nl mw b">/.well-known/assetlinks.json</code><strong class="kw io">(Android)</strong>。</p><p id="1a4d" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">我们可以通过创建一个Firebase项目，然后使用Firebase托管来轻松做到这一点。</p><p id="b0ae" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">所以，第一步是创建一个Firebase项目。打开<a class="ae nt" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> Firebase控制台</strong> </a>，点击<strong class="kw io">添加项目</strong>。它会要求一个项目的名称，给它一个名称，就这样。项目已创建。😌</p><p id="abb3" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">现在，我们可以打开<strong class="kw io"> Firebase托管</strong>并按照步骤操作。</p><p id="b4d3" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">1.<code class="fe nj nk nl mw b">firebase login</code> <br/>需要通过CLI登录firebase。</p><p id="4e31" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">2.创建一个目录，并在该目录中运行<code class="fe nj nk nl mw b">firebase init</code></p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nu"><img src="../Images/10d0872d14539db92f91c2aac7f9eb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PZm2tb4ctlUv4n94.png"/></div></div></figure><p id="450d" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">它会问很多问题，我们需要选择<strong class="kw io">托管:为Firebase托管配置文件，并(可选)设置GitHub动作部署</strong></p><p id="84e2" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">然后在这之后是<strong class="kw io">项目ID </strong>，它将与我们新创建的Firebase项目中的ID相同。</p><p id="6c5a" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">回答完所有问题后，它将创建我们的应用程序。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/8dc38e69634832c5f8c49c7004197ea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/format:webp/0*z8UMJplgmS18nfor.png"/></div></figure><p id="1e9e" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">项目结构看起来像这样，一个基本的应用程序。我们可以先从Android设置开始。</p><p id="0bbb" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">1.在<code class="fe nj nk nl mw b">public</code>目录下创建一个目录<code class="fe nj nk nl mw b">.well-known</code>。<br/> 2。在<code class="fe nj nk nl mw b">.well-known</code>目录中，创建<code class="fe nj nk nl mw b">assetlinks.json</code>文件。<br/> 3。在文件中添加以下内容。关于这个文件的详细信息可以在<a class="ae nt" href="https://developer.android.com/training/app-links/verify-site-associations" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> Android文档</strong> </a> <strong class="kw io">上找到。</strong></p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nw"><img src="../Images/c6dca4d60f8b8277a48980f1073c25db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T17w-tMsVCezHMJ6.png"/></div></div></figure><p id="e7a7" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">接下来，我们需要编辑<strong class="kw io"> firebase.json </strong>文件。在其中添加以下内容。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nx"><img src="../Images/de356a3dc65d83b55230335561cde0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yQPLDc3Z7SXeUR3R.png"/></div></div></figure><p id="0cd2" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">- <strong class="kw io">头</strong>很重要，因为这个文件是JSON，它需要有合适的头来提供JSON内容。</p><p id="5c97" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">- <strong class="kw io">重写</strong>被使用，因为文件说在创建自定义域链接的情况下使用它。</p><p id="c63c" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">最后，我们可以使用<code class="fe nj nk nl mw b">firebase deploy</code>来部署网站。</p><p id="d5ab" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">网站准备好了，我们可以打开web app — <code class="fe nj nk nl mw b">https://&lt;domain&gt;/.well-known/assetlinks.json</code>查看文件。它会显示文件的内容。</p><h1 id="51f3" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">Firebase动态链接设置</h1><p id="8061" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">这一步非常短。只需访问<strong class="kw io">接合</strong>部分内的<strong class="kw io">动态链接</strong>。<br/>添加新的URL前缀。它可以是任何东西，也可以是你自己的域名，我们也可以使用Firebase提供的域名。</p><p id="1ff9" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">我将使用<strong class="kw io"> dynamiclink.page.link </strong>。<strong class="kw io"> .page.link </strong>子域由Firebase提供。</p><h1 id="7472" class="kc kd in bd ke kf kg kh ki kj kk kl km jt kn ju ko jw kp jx kq jz kr ka ks kt bi translated">返回应用程序</h1><p id="adc0" class="pw-post-body-paragraph ku kv in kw b kx ky jo kz la lb jr lc ld le lf lg lh li lj lk ll lm ln lo lp ig bi translated">现在，我们可以使用这些域值来恢复应用程序中的通用链接设置。<br/>对于Android，我们需要编辑Expo的<strong class="kw io"> app.json </strong>文件，添加<strong class="kw io"> intentFilters </strong>和<strong class="kw io">包名</strong>。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ny"><img src="../Images/c17b0d79146972bd42897db0f48456c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3YPDU8XNjt5RM54Y.png"/></div></div></figure><p id="adc6" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">域将是使用Firebase托管创建的。</p><p id="0f69" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">在这之后，我们需要在我们的<strong class="kw io">共享用户</strong>按钮中添加逻辑。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi nz"><img src="../Images/ddce81363d9e4f1bc78c34c246e10723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CJvcaH_wsW1lXQW3.png"/></div></div></figure><p id="501e" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">哈！😵代码太多😆。嗯，不能做任何事情，这是必要的。无论如何，让我们看看所有重要的事情。</p><p id="b244" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">有效载荷和URL 是两件重要的事情。剩下的很简单，首先是对URL发出HTTP请求，另一个是React-Native的<a class="ae nt" href="https://reactnative.dev/docs/0.66/share" rel="noopener ugc nofollow" target="_blank"><strong class="kw io">Share</strong></a><strong class="kw io"/>模块提供的模板。</p><p id="23a4" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">URL是为了生成我们可以共享的动态链接的简短版本。这是Firebase提供的，可以在<a class="ae nt" href="https://firebase.google.com/docs/dynamic-links/rest" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> Firebase动态链接— REST </strong> </a>的文档中查到。</p><p id="9a07" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">这是一个POST请求，也接受<strong class="kw io"> WEB_API_KEY </strong>。我们可以通过在Firebase项目中生成一个web应用程序来获得API密钥。POST请求也需要一个有效负载对象。这就是为什么我们要传递一个给它。</p><p id="8e98" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">这个有效载荷对象的有效属性可以在 这里找到<a class="ae nt" href="https://firebase.google.com/docs/reference/dynamic-links/link-shortener" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io">。我们只使用了几个重要的属性。</strong></a></p><ul class=""><li id="6bab" class="lv lw in kw b kx lq la lr ld lx lh ly ll lz lp ma mb mc md bi translated"><strong class="kw io"> domainUriPrefix </strong>:这个是使用Firebase动态链接生成的</li><li id="acbb" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated"><strong class="kw io">链接</strong>:是我们app可以处理的路径。它应该打开我们的应用程序中的任何屏幕。</li><li id="77ac" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated"><strong class="kw io">安卓信息</strong>:安卓相关信息</li><li id="e6f5" class="lv lw in kw b kx me la mf ld mg lh mh ll mi lp ma mb mc md bi translated">Social Meta taginfo:Social Meta info，每当我们在Whatsapp等其他应用程序上共享链接时，它就会显示该对象中提供的图片、标题和描述。😎</li></ul><p id="fd90" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">在链接属性中，我们不应该使用Firebase动态链接域，因为它会给出警告，并且不会打开应用程序。它只会打开应用程序的主屏幕。😪</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi oa"><img src="../Images/4b3a327744912e1eb936f977708d6cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*447smO4JJyMqYGpu.png"/></div></div></figure><p id="5777" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">第一个警告— <strong class="kw io">参数链接不应该在FDL域</strong>上。</p><p id="002a" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">如你所见，它生成了两个链接，<strong class="kw io">快捷链接</strong>和<strong class="kw io">预览链接</strong>。快捷链接是我们可以与其他应用程序共享的链接。previewLink包含一个由Firebase创建的流程图，用于可视化应用程序的流程。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi ob"><img src="../Images/b5e559654b8d38b70f02b2682cbdf913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*d7ncJxdLZo3Dbwim.png"/></div></div></figure><p id="435d" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">最后一步是编辑导航容器的链接配置。我们将添加前缀值并定义我们的<strong class="kw io">用户</strong>路由。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi oc"><img src="../Images/264146b65deb122b60d01698bca2608f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6MttOqNkTpWuPze5.png"/></div></div></figure><p id="f220" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">随着这最后一步，我们的准备工作已经就绪。我们可以使用<strong class="kw io"> eas build </strong>来构建应用程序。<a class="ae nt" href="https://docs.expo.dev/eas/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io">文档</strong> </a>非常好，所以你可以按照它们来创建构建。</p><p id="fd48" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">iOS的<strong class="kw io">几乎是一样的，只要跟着Android的文档走，你就能很容易地配置它。😛</strong></p><p id="03a1" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">最后，我们有我们的工作通用链接。🤩</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi od"><img src="../Images/4c27ee757aa47ad1dc8875b382068ac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/0*MxbHxh-74b7KelnV.gif"/></div></figure><p id="ceeb" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">如果你能跟进到这一点，那么恭喜你。🥳:你终于知道如何在世博会上建立全球联系了。😎</p><p id="c711" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">就这样，这就是我们旅程的终点。我希望你能达到这一点。😃</p><p id="5bb5" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated">谢谢！敬请关注React/React-Native的更多文章。🤩😎</p><p id="e8c0" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated"><strong class="kw io">【编辑1】</strong>—最好将共享逻辑移动到您的后端应用程序，以便通过隐藏Firebase Web API密钥为我们的应用程序提供一些安全性。</p><p id="4bde" class="pw-post-body-paragraph ku kv in kw b kx lq jo kz la lr jr lc ld ls lf lg lh lt lj lk ll lu ln lo lp ig bi translated"><em class="oe">更多内容请看</em> <a class="ae nt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="oe">说白了就是</em> </strong> </a> <em class="oe">。报名参加我们的</em> <a class="ae nt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="oe">免费每周简讯</em> </strong> </a> <em class="oe">。关注我们</em><a class="ae nt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="oe">Twitter</em></strong></a><em class="oe">和</em><a class="ae nt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kw io"><em class="oe">LinkedIn</em></strong></a><em class="oe">。加入我们的</em> <a class="ae nt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kw io"> <em class="oe">社区不和谐</em> </strong> </a> <em class="oe">。</em></p></div></div>    
</body>
</html>