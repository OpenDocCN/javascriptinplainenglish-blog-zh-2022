<html>
<head>
<title>Building a Human-Readable Time Formatter in JavaScript and TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript和TypeScript构建人类可读的时间格式化程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-human-readable-time-formatter-in-javascript-and-typescript-5997c05df4d7?source=collection_archive---------18-----------------------#2022-12-27">https://javascript.plainenglish.io/building-a-human-readable-time-formatter-in-javascript-and-typescript-5997c05df4d7?source=collection_archive---------18-----------------------#2022-12-27</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><h2 id="d678" class="ip iq ir bd b dl is it iu iv iw ix dk iy translated" aria-label="kicker paragraph">JavaScript技巧</h2><div class=""/><div class=""><h2 id="8bcb" class="pw-subtitle-paragraph jx ja ir bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">解决“人类可读时间”形的逐步指南</h2></div><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/cc1354f84553be9168f4fdaf641b5a41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U_z2ELU7khcATUWAfVj5Og.jpeg"/></div></div></figure><p id="25ba" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我决定继续用JavaScript和TypeScript编写我对CodeWars谜题的解决方案。我的目标是继续练习，不满足于现在的知识。所以我开始撰写这个关于JavaScript和TypeScript的技巧“专栏”。我今天从第一个问题开始:给定一个数字，我如何将它转换成人类可读的时间？</p><h1 id="972e" class="lx ly ir bd lz ma mb mc md me mf mg mh kg mi kh mj kj mk kk ml km mm kn mn mo bi translated">问题是:人类可读的时间</h1><p id="3298" class="pw-post-body-paragraph lb lc ir ld b le mp kb lg lh mq ke lj lk mr lm ln lo ms lq lr ls mt lu lv lw ik bi translated">链接到<a class="ae mu" href="https://www.codewars.com/kata/52685f7382004e774f0001f7" rel="noopener ugc nofollow" target="_blank">形</a></p><p id="1f5f" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">编写一个函数，它接受一个非负整数(秒)作为输入，并以人类可读的格式(<code class="fe mv mw mx my b">HH:MM:SS</code>)返回时间</p><p id="93a7" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><code class="fe mv mw mx my b">HH</code> =小时，填充到2位数，范围:00 - 99 <code class="fe mv mw mx my b">MM</code> =分钟，填充到2位数，范围:00 - 59 <code class="fe mv mw mx my b">SS</code> =秒，填充到2位数，范围:00 - 59</p><p id="999b" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">最长时间不超过<code class="fe mv mw mx my b">359999</code> ( <code class="fe mv mw mx my b">99:59:59</code>)</p><h1 id="e224" class="lx ly ir bd lz ma mb mc md me mf mg mh kg mi kh mj kj mk kk ml km mm kn mn mo bi translated">我的解决方案</h1><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/14994a8961b079daeb757d3ea5542101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AdCxqGQTnFAOa2UjF59nQA.jpeg"/></div></div></figure><p id="15fa" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">问题评级<code class="fe mv mw mx my b">5 kyu</code>。这是一个错误的评级:它更容易。最复杂的部分是计算一分钟和一小时的秒数。剧透:一分钟总有<code class="fe mv mw mx my b">60</code>秒，一小时总有<code class="fe mv mw mx my b">3600</code>秒。</p><p id="6987" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">知道了这一点，我可以使用<a class="ae mu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder" rel="noopener ugc nofollow" target="_blank">余数运算符(</a> <code class="fe mv mw mx my b"><a class="ae mu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder" rel="noopener ugc nofollow" target="_blank">%</a></code> <a class="ae mu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder" rel="noopener ugc nofollow" target="_blank"> ) </a>来获得我需要的值:</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="aecc" class="nd ly ir my b be ne nf l ng nh">const getSeconds = (s: number): number =&gt; s % 60;<br/>const getMinutes = (s: number): number =&gt; Math.floor((s % 3600) / 60);<br/>const getHours = (s: number): number =&gt; Math.floor(s / 3600);</span></pre><p id="e7f5" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">第二个困难是理解如何将数字转换成字符串。或者，更准确地说，如何确保一位数前面有一个零。为此，我可以使用<a class="ae mu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart" rel="noopener ugc nofollow" target="_blank"> String.padStart() </a>方法，将长度设置为<code class="fe mv mw mx my b">2</code>，并将<code class="fe mv mw mx my b">0</code>字符用作<code class="fe mv mw mx my b">padString</code>。</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="dc03" class="nd ly ir my b be ne nf l ng nh">const pad = (n: number): string =&gt; n.toString().padStart(2, "0");</span></pre><p id="1c84" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">最后，我可以使用<a class="ae mu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" rel="noopener ugc nofollow" target="_blank">模板文字</a>来创建最终的字符串。</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="ab18" class="nd ly ir my b be ne nf l ng nh">`${pad(hh)}:${pad(mm)}:${pad(ss)}`;</span></pre><p id="7868" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">通过将所有这些函数放在一起，我得到了我的编程问题的解决方案。</p><pre class="kq kr ks kt gu mz my na bn nb nc bi"><span id="42c1" class="nd ly ir my b be ne nf l ng nh">const getSeconds = (s: number): number =&gt; s % 60;<br/>const getMinutes = (s: number): number =&gt; Math.floor((s % 3600) / 60);<br/>const getHours = (s: number): number =&gt; Math.floor(s / 3600);<br/><br/>const pad = (n: number): string =&gt; n.toString().padStart(2, "0");<br/><br/>export function humanReadable(seconds: number): string {<br/>  const s: number = getSeconds(seconds);<br/>  const m: number = getMinutes(seconds);<br/>  const h: number = getHours(seconds);<br/><br/>  return `${pad(h)}:${pad(m)}:${pad(s)}`;<br/>}</span></pre><p id="11d9" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl ni nj hv nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="np">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae mu" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="ld jb"> <em class="np">中邮箱列表</em> </strong> </a></p><div class="nq nr gq gs ns nt"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="nu ab fp"><div class="nv ab nw cl cj nx"><h2 class="bd jb gz z fq ny fs ft nz fv fx ja bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="oa l"><h3 class="bd b gz z fq ny fs ft nz fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="ob l"><p class="bd b dl z fq ny fs ft nz fv fx dk translated">el3um4s.medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kz nt"/></div></div></a></div><h2 id="8adb" class="oi ly ir bd lz oj ok dn md ol om dp mh lk on oo mj lo op oq ml ls or os mn ix bi translated">更多内容请访问<a class="ae mu" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="e8a0" class="pw-post-body-paragraph lb lc ir ld b le mp kb lg lh mq ke lj lk mr lm ln lo ms lq lr ls mt lu lv lw ik bi translated"><em class="np">报名参加我们的</em> <a class="ae mu" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="np">免费每周简讯</em> </strong> </a> <em class="np">。关注我们关于</em> <a class="ae mu" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="np">推特</em> </strong> </a>，<a class="ae mu" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="np">领英</em> </strong> </a> <strong class="ld jb"> <em class="np">，</em></strong><a class="ae mu" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="np">YouTube</em></strong></a><strong class="ld jb"><em class="np">，以及</em></strong><em class="np"/><a class="ae mu" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="np">不和</em> </strong> </a>T59】</p><h2 id="9278" class="oi ly ir bd lz oj ok dn md ol om dp mh lk on oo mj lo op oq ml ls or os mn ix bi translated">想扩大你的软件创业规模吗？检查<a class="ae mu" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div></div>    
</body>
</html>