<html>
<head>
<title>5 Very Useful Tricks for TypeScript Typeof Operator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个非常有用的技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-very-useful-tricks-for-thetypescript-typeof-operator-404c0d30cd5?source=collection_archive---------0-----------------------#2022-08-17">https://javascript.plainenglish.io/5-very-useful-tricks-for-thetypescript-typeof-operator-404c0d30cd5?source=collection_archive---------0-----------------------#2022-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d6fa61d1998592f10d6f70ae980e1c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T7dWFdZvr3dZ2yFCMTDrkg.jpeg"/></div></div></figure><p id="e7b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">欢迎来到<strong class="ka ir">掌握打字稿</strong>系列。本系列将以动画的形式介绍打字稿<strong class="ka ir">的核心知识和技巧。让我们一起学习吧！以前的文章如下:</strong></p><ul class=""><li id="ee50" class="kw kx iq ka b kb kc kf kg kj ky kn kz kr la kv lb lc ld le bi translated"><a class="ae lf" href="https://medium.com/frontend-canteen/what-are-k-t-and-v-in-typescript-generics-9fabe1d0f0f3" rel="noopener"><strong class="ka ir">TypeScript泛型中的K、T、V是什么？</strong>T11】</a></li><li id="257c" class="kw kx iq ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated"><a class="ae lf" rel="noopener ugc nofollow" target="_blank" href="/using-typescript-mapped-types-like-a-pro-be10aef5511a"> <strong class="ka ir">使用TypeScript像Pro一样映射类型</strong> </a></li><li id="3b5a" class="kw kx iq ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated"><a class="ae lf" rel="noopener ugc nofollow" target="_blank" href="/use-typescript-conditional-types-like-a-pro-7baea0ad05c5"> <strong class="ka ir">使用TypeScript条件类型像亲</strong> </a></li><li id="b922" class="kw kx iq ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated"><a class="ae lf" rel="noopener ugc nofollow" target="_blank" href="/using-typescript-intersection-types-like-a-pro-a55da6a6a5f7"> <strong class="ka ir">使用TypeScript交集类型像亲</strong> </a></li><li id="14f5" class="kw kx iq ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated"><a class="ae lf" href="https://levelup.gitconnected.com/using-typescript-infer-like-a-pro-f30ab8ab41c7" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">使用打字稿推断像亲</strong> </a></li><li id="5ec9" class="kw kx iq ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated"><a class="ae lf" href="https://medium.com/javascript-in-plain-english/how-to-use-typescript-template-literal-types-like-a-pro-2e02a7db0bac" rel="noopener"> <strong class="ka ir">使用TypeScript模板字面类型像亲</strong> </a></li><li id="f23a" class="kw kx iq ka b kb lg kf lh kj li kn lj kr lk kv lb lc ld le bi translated"><a class="ae lf" rel="noopener ugc nofollow" target="_blank" href="/15-utility-types-that-every-typescript-developer-should-know-6cf121d4047c"> <strong class="ka ir">可视化打字稿:15种最常用的实用类型</strong> </a></li></ul><p id="189e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在JavaScript中，可以通过<code class="fe ll lm ln lo b">typeof</code>运算符得到变量的类型，那么你知道<code class="fe ll lm ln lo b">typeof</code>运算符在TypeScript中是干什么用的吗？在本文中，我将介绍运算符类型的5个常见应用场景，您可能会在未来的项目中用到它们。</p><h1 id="7030" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">1.获取对象的类型</h1><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b2093f786ab4da43fa1db8df8abb5ae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F32vOJNDrqhT1jd0ig1OEg.jpeg"/></div></div></figure><p id="2a9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe ll lm ln lo b">man</code>对象是一个普通的JavaScript对象，在TypeScript中你可以使用type或interface来定义对象的类型。通过这种对象类型，可以使用TypeScript的内置实用程序类型(如Partial、Required、Pick或Readonly)来处理对象类型，以满足不同的需求。</p><p id="84ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于简单的对象来说，这可能不是什么大事。但是对于嵌套层次更深的大型复杂对象，手动定义它们的类型可能会让人感到麻木。要解决这个问题，可以使用typeof运算符。</p><pre class="mn mo mp mq gt mr lo ms mt aw mu bi"><span id="1de7" class="mv lq iq lo b gy mw mx l my mz">type Person = typeof man;</span><span id="4272" class="mv lq iq lo b gy na mx l my mz">type Address = Person["address"];</span></pre><p id="c804" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与以前手动定义类型相比，使用typeof运算符变得容易得多。<code class="fe ll lm ln lo b">Person["address"]</code>是一种索引访问类型，用于在另一种类型(人员类型)上查找特定属性(地址)。</p><h1 id="d3df" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">2.获取将所有枚举键表示为字符串的类型</h1><p id="617e" class="pw-post-body-paragraph jy jz iq ka b kb nb kd ke kf nc kh ki kj nd kl km kn ne kp kq kr nf kt ku kv ij bi translated">在TypeScript中，枚举类型是编译成常规JavaScript对象的特殊类型:</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/83f72db0a127c5939647e1e6ac0ee350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5qo-I1FQmCkjNvtxbKLyEw.jpeg"/></div></div></figure><p id="a4fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，也可以在枚举类型上使用<code class="fe ll lm ln lo b">typeof</code>操作符。但是这通常没有太大的实际用途，当处理枚举类型时，它通常与<code class="fe ll lm ln lo b">keyof</code>操作符结合使用:</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/c97c2b62fa5b5de87f1cb64181cd7601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ydxUMjz9sILWRCzr7ffLWw.jpeg"/></div></div></figure><h1 id="8645" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">3.获取函数对象的类型</h1><p id="27dd" class="pw-post-body-paragraph jy jz iq ka b kb nb kd ke kf nc kh ki kj nd kl km kn ne kp kq kr nf kt ku kv ij bi translated">还有一个更常见的场景，在您的工作中使用了typeof运算符。获得对应的函数类型后，可以继续使用TypeScript内置的<strong class="ka ir"> ReturnType </strong>和<strong class="ka ir"> Parameters </strong>实用类型分别获得函数的返回值类型和参数类型。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/005f1bb1ca7cfa375b68a3f3ac7010bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R0SCjLKjRdWK7O9KmaiSPA.jpeg"/></div></div></figure><h1 id="833e" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">4.获取类对象的类型</h1><p id="943c" class="pw-post-body-paragraph jy jz iq ka b kb nb kd ke kf nc kh ki kj nd kl km kn ne kp kq kr nf kt ku kv ij bi translated">既然<code class="fe ll lm ln lo b">typeof</code>操作符可以处理函数对象，那么它也可以处理类对象吗？答案是肯定的。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e028b1c75609b9556d98732c1ff81b57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*caSCq6i992iVMc0Fvhs8mQ.jpeg"/></div></div></figure><p id="80ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，<code class="fe ll lm ln lo b">createPoint</code>是一个创建Point类实例的工厂函数。通过typeof运算符，可以获得Point类对应的构造签名，从而实现对应的类型验证。在定义构造函数的参数类型时，如果没有使用type of运算符，将出现以下错误信息:</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b54d7e0acbf48aa47cacc5e79f6fe937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kL0H_ff0dlqlIMl_NF0kyA.jpeg"/></div></div></figure><h1 id="df92" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">5.获取更精确的类型</h1><p id="9fc1" class="pw-post-body-paragraph jy jz iq ka b kb nb kd ke kf nc kh ki kj nd kl km kn ne kp kq kr nf kt ku kv ij bi translated">当使用<code class="fe ll lm ln lo b">typeof</code>操作符时，如果你想得到更精确的类型，那么你可以将它与TypeScript版本中引入的<strong class="ka ir"> const断言</strong>结合使用。这是用在下面的方式。</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e53b97eb9c4a80e232c2333a735da53c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aZMG61kJ-hz5qmBhvD8Brw.jpeg"/></div></div></figure><p id="4aaa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从上图可以看出，在使用了<strong class="ka ir"> const断言</strong>之后，再使用typeof运算符，我们可以得到一个更精确的类型。</p><p id="b16d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想学习打字稿，那么就不要错过<strong class="ka ir">掌握打字稿</strong>系列。在<a class="ae lf" href="https://medium.com/@bytefer" rel="noopener"> Medium </a>或<a class="ae lf" href="https://twitter.com/Tbytefer" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，阅读更多关于TS和JS的内容！</p><div class="ng nh gp gr ni"><div role="button" tabindex="0" class="ab bv gv cb fp nj nk bn nl jw ex"><div class="nm l"><div class="ab q"><div class="l di"><img alt="Bytefer" class="l de bw nn no fe" src="../Images/238cf2afd3c689b50719951ba2fd880d.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*krjVh9VFhDEcMUif4Ewt-A.png"/><div class="fb bw l nn no fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@bytefer?source=post_page-----404c0d30cd5--------------------------------" rel="noopener follow" target="_top"> Bytefer </a></p></div></div><div class="nr ns gw l"><h2 class="bd ir tq kw fp tr fr fs oq fu fw ip bi translated">掌握打字稿系列</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi ts au tt tu tv qa tw an eh ei tx ty tz el em eo de bk ep" href="https://medium.com/@bytefer/list/mastering-typescript-series-688ee7c12807?source=post_page-----404c0d30cd5--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="ua l fo"><span class="bd b dl z dk">47 stories</span></div></div></div><div class="oe dh of fp ab og fo di"><div class="di nw bv nx ny"><div class="dh l"><img alt="" class="dh" src="../Images/8fba4cad7ae795f6abed5234e33e0356.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*l87u8lL_MzD5n4z_"/></div></div><div class="di nw bv nz oa ob"><div class="dh l"><img alt="" class="dh" src="../Images/373c978fed504a3c38f0fdb5b617fedb.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*94uN4q2Of_fg3WaQ"/></div></div><div class="di bv oc od ob"><div class="dh l"><img alt="" class="dh" src="../Images/a8ea3e3ecad1c2d2697107f3ce466e42.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*tGza_iE2o--HjQwD"/></div></div></div></div></div><h1 id="b176" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">资源</h1><div class="ng nh gp gr ni ok"><a href="https://www.typescriptlang.org/docs/handbook/enums.html" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">手册-列举</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">枚举是TypeScript具有的为数不多的特性之一，它不是JavaScript的类型级扩展。枚举允许一个…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">www.typescriptlang.org</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy jw ok"/></div></div></a></div><p id="b8f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="oz">更多内容请看</em><a class="ae lf" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="oz">plain English . io</em></strong></a><em class="oz">。报名参加我们的</em> <a class="ae lf" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="oz">免费周报</em> </strong> </a> <em class="oz">。关注我们关于</em><a class="ae lf" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="oz">Twitter</em></strong></a><a class="ae lf" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="oz">LinkedIn</em></strong></a><em class="oz"/><a class="ae lf" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="oz">YouTube</em></strong></a><em class="oz"/><a class="ae lf" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="oz">不和</em> </strong> </a> <em class="oz">。</em></p></div></div>    
</body>
</html>