<html>
<head>
<title>What are JavaScript Maps and How do They Work: A Complete Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是JavaScript映射以及它们是如何工作的:一个完整的指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-are-javascript-maps-and-how-do-they-work-a-complete-guide-94ffeaec945c?source=collection_archive---------3-----------------------#2022-09-29">https://javascript.plainenglish.io/what-are-javascript-maps-and-how-do-they-work-a-complete-guide-94ffeaec945c?source=collection_archive---------3-----------------------#2022-09-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ec5e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript映射是存储数据的好方法，在许多情况下比对象更高效。他们是这样工作的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/69a228cff120861de2327dd79c0e4c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XmOpG47pjo2PXKrlJjFL0A.png"/></div></div></figure><p id="25b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可能对<a class="ae ln" href="https://fjolt.com/article/javascript-objects-introduction" rel="noopener ugc nofollow" target="_blank"> JavaScript对象</a>很熟悉——但是你知道在JavaScript中还有另外一种创建数据集的方法吗，叫做<strong class="kt ir">映射</strong>？您现在可能正在使用JavaScript普通旧对象，而地图可能是您问题的更好解决方案。</p><p id="88bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">JavaScript映射在几个主要方面与对象不同。虽然<code class="fe lo lp lq lr b">typeof new Map()</code>回报<code class="fe lo lp lq lr b">object</code>，但是不要让那个骗了你！以下是对象和贴图之间的一些主要区别:</p><ul class=""><li id="6a30" class="ls lt iq kt b ku kv kx ky la lu le lv li lw lm lx ly lz ma bi translated"><strong class="kt ir">默认不包含任何键</strong>，不像objects，它包含一个<code class="fe lo lp lq lr b">prototype</code>对象。</li><li id="f1c7" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated"><strong class="kt ir">保证它们按照插入的顺序排序</strong>。如今，物品也是如此，但它们没有同样的保证。</li><li id="dcc0" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated"><strong class="kt ir">地图的键可以是任何东西</strong>，包括一个功能，甚至是一个对象。而在JavaScript中，它必须是字符串或符号。</li><li id="d8eb" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">在需要快速或频繁删除或添加数据的任务中，它们比对象具有更好的性能。</li><li id="daea" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">与对象不同，默认情况下它们是可迭代的。</li></ul><p id="7dc7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">鉴于地图有如此多的好处，让我们来看看它们是如何工作的。</p><h1 id="8379" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">JavaScript映射如何工作的基础知识</h1><p id="67dd" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">JavaScript中的任何映射都是使用<code class="fe lo lp lq lr b">new Map()</code>构造函数初始化的。例如，让我们创建一个名为<code class="fe lo lp lq lr b">myFirstMap</code>的地图:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="a5d2" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span></pre><p id="66f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不同之处在于从地图中设置、获取或删除按键，你必须使用<code class="fe lo lp lq lr b">Map</code>附带的特定方法。所以要用键<code class="fe lo lp lq lr b">firstKey</code>设置一个新的值<code class="fe lo lp lq lr b">someValue</code>，我可以运行下面的方法:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="23da" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="91f8" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.set('firstKey', 'someValue');</span></pre><h1 id="8ca8" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">删除JavaScript地图中的项目</h1><p id="97c0" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">如果我们想删除JavaScript映射中的一个键，我们必须调用<code class="fe lo lp lq lr b">delete()</code>方法:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="ca5b" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="993b" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.set('firstKey', 'someValue');<br/>myFirstMap.delete('firstKey');</span></pre><p id="0c5c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您也可以使用<code class="fe lo lp lq lr b">clear()</code>删除整个地图，不留下任何项目:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="b199" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="956d" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.set('firstKey', 'someValue');<br/>myFirstMap.clear();<br/>console.log(myFirstMap); // Returns Map(0)</span></pre><h1 id="b09c" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">获取JavaScript映射中的一个键</h1><p id="07a2" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">与其他方法的用法类似，为了获得<code class="fe lo lp lq lr b">firstKey</code>的值，我们必须使用<code class="fe lo lp lq lr b">get()</code>:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="cb4d" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="23ce" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.set('firstKey', 'someValue');</span><span id="77ae" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.get('firstKey') // 'someValue'</span></pre><h1 id="fb6a" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">检查JavaScript映射中是否存在键</h1><p id="9709" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">JavaScript Maps也有一个名为<code class="fe lo lp lq lr b">has()</code>的方法，如果我们想检查一个map是否有某个键:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="9bc2" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="bb1d" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.set('firstKey', 'someValue');</span><span id="e930" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.has('firstKey') // true</span></pre><h1 id="4b7e" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">警告:不要在贴图中使用典型的对象属性</h1><p id="cd59" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">JavaScript充满了怪癖，地图也不例外。奇怪的是，地图也可以支持对象符号。例如，这似乎行得通:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="bb77" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="3f1c" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap['firstKey'] = 'someValue';</span><span id="7089" class="nh mh iq lr b gy nm nj l nk nl">console.log(myFirstMap); // Map(0) { firstKey: 'someValue' }</span></pre><p id="f2c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">但是，你不应该这样做！</strong>这是<strong class="kt ir">而不是</strong>在地图中创建新条目——您只是在创建一个对象。所以你会失去JavaScript地图的所有好处。</p><h1 id="b9dd" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">说明JavaScript地图有多大</h1><p id="041f" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">地图比对象更容易使用的另一个有用的地方是找出地图中有多少个键。为此，我们可以使用<code class="fe lo lp lq lr b">size()</code>方法，该方法返回键的数量:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="888d" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();</span><span id="ddb0" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.set('firstKey', 'someValue');</span><span id="6837" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.size // 1</span></pre><p id="820f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于物体，我们通常混合使用<code class="fe lo lp lq lr b">Object.keys()</code>和<code class="fe lo lp lq lr b">length</code>来确定物体的大小:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="479c" class="nh mh iq lr b gy ni nj l nk nl">let myObj = { "name" : "John" };<br/>let sizeOfObj = Object.keys(myObj).length; // 1</span></pre><h1 id="0301" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">使用带有非字符串键的地图</h1><p id="e464" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">正如我提到的，JavaScript映射允许非常规的键，比如函数和对象，而对象只允许字符串和符号。例如，这在地图中是有效的:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="8133" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>let myFunction = function() { return "someReturn"; }<br/>myFirstMap.set(myFunction, "value");</span></pre><p id="f38f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">映射键<a class="ae ln" href="https://fjolt.com/article/javascript-by-reference-by-value" rel="noopener ugc nofollow" target="_blank">基于引用，而不是值</a>。这意味着尽管下面的方法可行:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="deca" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>let myFunction = function() { return "someReturn"; }<br/>myFirstMap.set(myFunction, "value");</span><span id="848c" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.get(myFunction); // Returns "someReturn"</span></pre><p id="d879" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这不会:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="125a" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>let myFunction = function() { return "someReturn"; }<br/>myFirstMap.set(myFunction, "value");</span><span id="857c" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.get(function() { return "someReturn"; }); // Returns undefined<br/>myFirstMap.get('someReturn'); // Returns undefined</span></pre><p id="6905" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是因为虽然<code class="fe lo lp lq lr b">function() { return "someReturn"; }</code>和<code class="fe lo lp lq lr b">myFunction</code>的值相同，但是它们在系统内存中的存储位置不同。所以它们并不完全等同。类似地，map不处理返回值——所以<code class="fe lo lp lq lr b">myFirstMap.get('someReturn')</code>也返回undefined。</p><p id="681c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">相同的示例适用于对象，结果相似:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="b4d3" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>let myObject = { "someKey" : "someValue" }<br/>myFirstMap.set(myObject, "value");</span><span id="17cf" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.get({ "someKey" : "someValue" }); // Returns undefined<br/>myFirstMap.get(myObject); // Returns 'value'</span></pre><h1 id="5118" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">合并JavaScript地图</h1><p id="aacb" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">如果您想要将多个贴图合并为一个，您可以使用与合并对象相同的方式合并它们，即使用扩展语法。例如，这里我使用扩展语法将<code class="fe lo lp lq lr b">myFirstMap</code>和<code class="fe lo lp lq lr b">mySecondMap</code>合并成<code class="fe lo lp lq lr b">myNewMap</code>:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="9b12" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>let mySecondMap = new Map();<br/>mySecondMap.set("someOther", "value");</span><span id="3a4f" class="nh mh iq lr b gy nm nj l nk nl">let myNewMap = new Map([...myFirstMap, ...mySecondMap]);</span><span id="8e67" class="nh mh iq lr b gy nm nj l nk nl">console.log(myNewMap);<br/>// Map(2) { some: "value", someOther: "value" }</span></pre><h1 id="58e1" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">在地图上迭代</h1><p id="1788" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">如前所述，默认情况下，地图是可迭代的。如果我们想要迭代对象，我们通常必须使用像<code class="fe lo lp lq lr b">Object.keys</code>这样的函数。最终这意味着我们可以在任何地图上使用<code class="fe lo lp lq lr b">forEach</code>，就像这样:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="3504" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>myFirstMap.set("someOther", "value");</span><span id="8fab" class="nh mh iq lr b gy nm nj l nk nl">myFirstMap.forEach(function(value, key, map) {<br/>    // value -&gt; the value of that key in the map<br/>    // key -&gt; the key for this item in the map<br/>    // map -&gt; the entire map<br/>    console.log(value, key, map);<br/>})</span></pre><h1 id="6de7" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">使用for对JavaScript映射进行迭代</h1><p id="1630" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">您还可以使用<code class="fe lo lp lq lr b">for(let ... of )</code>在地图上迭代！如果这样做，每一项都作为键和值的数组返回。例如:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="7d23" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");</span><span id="66c2" class="nh mh iq lr b gy nm nj l nk nl">for(let x of myFirstMap) {<br/>    // Returns [ 'some', 'value' ]<br/>    console.log(x);<br/>}</span></pre><h1 id="3a9b" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">在JavaScript映射中迭代值或键</h1><p id="5110" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">我们在JavaScript中迭代值或键的另一个很酷的方法是使用<code class="fe lo lp lq lr b">values()</code>或<code class="fe lo lp lq lr b">entries()</code>方法。这些函数分别为map中的值和项返回一个新的迭代器<strong class="kt ir">。这意味着我们可以使用<code class="fe lo lp lq lr b">next()</code>函数访问下一个键或值，就像在<a class="ae ln" href="https://fjolt.com/article/javascript-generator-functions" rel="noopener ugc nofollow" target="_blank">生成器函数</a>中一样。</strong></p><p id="db0f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，我们来看看<code class="fe lo lp lq lr b">entries()</code>是如何工作的:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="1cc8" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>myFirstMap.set("someOther", "value");<br/>myFirstMap.set("aFinal", "value");</span><span id="c26b" class="nh mh iq lr b gy nm nj l nk nl">let allKeys = myFirstMap.entries();<br/>console.log(allKeys); // Returns MapIterator {} object</span><span id="efa3" class="nh mh iq lr b gy nm nj l nk nl">console.log(allKeys.next()); // Returns { value: [ 'some', 'value' ], done: false }<br/>console.log(allKeys.next().value); // Returns [ 'some', 'value' ]</span></pre><p id="2998" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们从<code class="fe lo lp lq lr b">allKeys.next()</code>回来是一个对象。这个对象中的值是<code class="fe lo lp lq lr b">[ 'some', 'value' ]</code>——我们地图中第一个项目的数组。我们可以继续运行<code class="fe lo lp lq lr b">next()</code>来获得地图中的以下物品。相当酷！我们可以再做一次同样的事情，只用价值观:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="65ff" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>myFirstMap.set("someOther", "value");<br/>myFirstMap.set("aFinal", "value");</span><span id="a664" class="nh mh iq lr b gy nm nj l nk nl">let allValues = myFirstMap.values();<br/>console.log(allValues); // Returns MapIterator {} object</span><span id="1675" class="nh mh iq lr b gy nm nj l nk nl">console.log(allValues.next()); // Returns { value: 'value' done: false }<br/>console.log(allValues.next().value); // Returns 'value'</span></pre><p id="eebe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">像这样的迭代器在某些特定情况下证明是有用的，并且是遍历地图中所有数据的一种很酷的方式。</p><h1 id="776d" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">JavaScript中地图的序列化</h1><p id="4bcc" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">对于一些人来说，地图的一个缺点是它们不容易用<code class="fe lo lp lq lr b">JSON.parse()</code>和<code class="fe lo lp lq lr b">JSON.stringify</code>序列化。这样做的结果是一个空的对象，这是有意义的——因为如果我们只在map中填充条目，那么它就是空的:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="062f" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>myFirstMap.set("someOther", "value");<br/>myFirstMap.set("aFinal", "value");</span><span id="9f5c" class="nh mh iq lr b gy nm nj l nk nl">// Returns {}<br/>console.log(JSON.stringify(myFirstMap));</span></pre><p id="00d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">序列化Map的唯一现实的方法是将它转换成一个对象或数组，这意味着如果您使用Map的话，您必须维护一些单独的帮助器函数来完成这项任务。例如，我们可以使用<code class="fe lo lp lq lr b">Array.from()</code>将地图转换为数组，然后使用<code class="fe lo lp lq lr b">JSON.stringify()</code>将其序列化:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="c1fd" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>myFirstMap.set("someOther", "value");<br/>myFirstMap.set("aFinal", "value");</span><span id="8799" class="nh mh iq lr b gy nm nj l nk nl">let arrayMap = Array.from(myFirstMap);</span><span id="96a8" class="nh mh iq lr b gy nm nj l nk nl">// Returns [["some","value"],["someOther","value"],["aFinal","value"]]<br/>console.log(JSON.stringify(arrayMap));</span></pre><p id="0bb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，如果我们想把它变回地图，我们必须结合使用<code class="fe lo lp lq lr b">JSON.parse()</code>和<code class="fe lo lp lq lr b">new Map()</code>:</p><pre class="kg kh ki kj gt nd lr ne nf aw ng bi"><span id="a8f5" class="nh mh iq lr b gy ni nj l nk nl">let myFirstMap = new Map();<br/>myFirstMap.set("some", "value");<br/>myFirstMap.set("someOther", "value");<br/>myFirstMap.set("aFinal", "value");</span><span id="3f95" class="nh mh iq lr b gy nm nj l nk nl">// Turn our map into an array<br/>let arrayMap = Array.from(myFirstMap);</span><span id="15e9" class="nh mh iq lr b gy nm nj l nk nl">// The JSON stringed version of our map:<br/>let stringifiedMap = JSON.stringify(arrayMap);</span><span id="058d" class="nh mh iq lr b gy nm nj l nk nl">// Use new Map(JSON.parse...) to turn our stringed map into a map again:<br/>let getMap = new Map(JSON.parse(stringifiedMap));</span><span id="6a7c" class="nh mh iq lr b gy nm nj l nk nl">// Returns Map(3) {'some' =&gt; 'value', 'someOther' =&gt; 'value', 'aFinal' =&gt; 'value'}<br/>console.log(getMap);</span></pre><h1 id="dd12" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">结论</h1><p id="eca0" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">当您不需要对象的所有灵活性时，JavaScript Maps是存储数据的一种很好的方式，并且像数据的顺序这样的事情非常重要。在需要频繁添加和删除项目的情况下，它们也被证明比对象更有性能。在本指南中，我们已经涵盖了你需要了解的关于地图的一切，但是如果你想<a class="ae ln" href="https://fjolt.com/category/javascript" rel="noopener ugc nofollow" target="_blank">了解更多关于JavaScript的知识，请点击这里</a>。</p><p id="74b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">希望你喜欢这个——祝你有美好的一天。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="8b4d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">更多内容请看</em><a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">plain English . io</em></strong></a><em class="nu">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">免费周报</em> </strong> </a> <em class="nu">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">Twitter</em></strong></a><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">LinkedIn</em></strong></a><em class="nu"/><a class="ae ln" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">YouTube</em></strong></a><em class="nu"/><a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">不和</em> </strong> </a> <em class="nu">。对增长黑客感兴趣？检查</em> <a class="ae ln" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">电路</em> </strong> </a> <em class="nu">。</em></p></div></div>    
</body>
</html>