<html>
<head>
<title>What are Polyfills and Transpilers?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是聚合填充和传输填充？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-are-polyfills-and-transpilers-271e4b940e53?source=collection_archive---------5-----------------------#2022-04-05">https://javascript.plainenglish.io/what-are-polyfills-and-transpilers-271e4b940e53?source=collection_archive---------5-----------------------#2022-04-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="068b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您将JavaScript代码部署在web浏览器上，您可能会在代码中遇到这些单词。polyfill是一种代码，它在web浏览器上实现一种功能，而这种功能不支持像JS库这样的功能，它实现HTML5或CSS web标准或任何ES6或ES7标准，这些标准对许多浏览器来说可能太新了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/97af46793f854c0fe9363e365490b26d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/0*TbBKhCQZM7Nj0lcT.jpg"/></div></figure><p id="404a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然您可以通过使用旧的特性实现来管理它，但是如果您真的想使用新的特性，您有两个工具可以使用。</p><ol class=""><li id="c5ba" class="kt ku iq jp b jq jr ju jv jy kv kc kw kg kx kk ky kz la lb bi translated">运输工人</li><li id="ab52" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk ky kz la lb bi translated">多填充物</li></ol><h1 id="35ef" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">运输工人</h1><p id="9433" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">翻译程序是一种特殊的软件，它将一个源代码翻译成另一个源代码。它可以解析现代代码，并使用旧的语法结构重写代码，因此它也可以在过时的浏览器中工作。</p><p id="439d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">比如2020年之前，JavaScript没有“可选链接操作符”<code class="fe mk ml mm mn b">?.</code>。所以，如果你用的是过时的浏览器，它可能无法理解像<code class="fe mk ml mm mn b">height = user?.height</code>这样的代码。</p><p id="03ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">transpiler会分析我们的代码并将<code class="fe mk ml mm mn b">user?.height</code>重写为<code class="fe mk ml mm mn b">(user.height !== undefined &amp;&amp; user.height !== null) ? user.height : undefined</code>。</p><pre class="km kn ko kp gt mo mn mp mq aw mr bi"><span id="1179" class="ms li iq mn b gy mt mu l mv mw">// before running the transpiler<br/>height = user?.height;</span><span id="5aba" class="ms li iq mn b gy mx mu l mv mw">// after running the transpiler<br/>height = (user.height !== undefined &amp;&amp; user.height !== null) ? user.height : undefined;</span></pre><p id="e7a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在重构后的代码适用于旧的JS引擎和旧的浏览器。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi my"><img src="../Images/33f507db37c38454313adce23b0b6ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/0*d-D0Gw8xPYw-SplH.jpg"/></div></figure><blockquote class="mz na nb"><p id="7a5b" class="jn jo nc jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">最著名的transpilers之一是Babel。</p><p id="f16c" class="jn jo nc jp b jq jr js jt ju jv jw jx nd jz ka kb ne kd ke kf nf kh ki kj kk ij bi translated">现代项目构建系统，例如<a class="ae ng" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>，通过提供在每次代码变更时自动运行transpiler的方法，使得将它集成到开发过程中变得非常容易。</p></blockquote><h1 id="8c30" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">多填充物</h1><p id="78f5" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">新的语言特性可能不仅包括语法结构和操作符，还包括旧浏览器可能不支持的内置函数。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/516e84e61f9bd331e9f2f04295d946e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/0*qVydKQCu5UsmjLrH.jpeg"/></div></figure><p id="fb54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，<code class="fe mk ml mm mn b">Math.cbrt(n)</code>是一个返回一个数的立方根的函数，但可能老版本的浏览器不支持，在这种情况下这个方法会失败。</p><p id="e3e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Polyfill </strong>是更新/添加新功能的脚本。它填补了空白，并在需要时添加了缺失的实现。</p><p id="d531" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这个特殊的例子，<code class="fe mk ml mm mn b">Math.cbrt</code>的polyfill是一个实现它的脚本，如下所示:</p><pre class="km kn ko kp gt mo mn mp mq aw mr bi"><span id="c37d" class="ms li iq mn b gy mt mu l mv mw">if (!Math.cbrt) { // if no such function<br/>  // implement it<br/>  Math.cbrt = function(number) {<br/>    // Math.pow exist even in ancient JavaScript engines<br/>    return Math.pow(number,0.33);<br/>  };<br/>}</span></pre><p id="6a50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">JavaScript是一种高度动态的语言。随着每个新标准的出现，它可能会增加新的功能或修改旧的功能。</p><p id="f3bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">两个有趣的聚合填充库是:</p><ul class=""><li id="e890" class="kt ku iq jp b jq jr ju jv jy kv kc kw kg kx kk ni kz la lb bi translated"><a class="ae ng" href="https://github.com/zloirock/core-js" rel="noopener ugc nofollow" target="_blank"> core-js </a></li><li id="80b2" class="kt ku iq jp b jq lc ju ld jy le kc lf kg lg kk ni kz la lb bi translated"><a class="ae ng" href="http://polyfill.io/" rel="noopener ugc nofollow" target="_blank"> polyfill.io </a></li></ul><p id="2b3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您甚至可以调用polyfill API来获得一组已经缩小并准备好用于生产的polyfill。下面是<a class="ae ng" href="https://polyfill.io/v3/api/" rel="noopener ugc nofollow" target="_blank">环节</a>。</p><h1 id="bc84" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">结论</h1><p id="c72a" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">在向世界发布您的解决方案之前，请确保您记住这些概念，因为您不希望您的应用程序在一些旧的浏览器上失败。你甚至可以基于<a class="ae ng" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">的webpack </a>和<a class="ae ng" href="https://github.com/babel/babel-loader" rel="noopener ugc nofollow" target="_blank">的babel-loader </a>插件建立一个代码构建系统，以便于使用，这样你以后就不需要手动进行poly fills/trans filling了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/91f410bdb736a34f032995b0a2bcd663.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*ZBFR8OUEHz9ccEaq.jpg"/></div></figure><p id="538f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢这篇文章，一定要看看我的其他文章，并关注最新的更新。</p><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/what-is-webpack-ed18b68bd5d3"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">JavaScript中的Webpack是什么？</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">我们大多数人在构建JavaScript应用程序时都听说过术语“Webpack”。这是什么？它是如何工作的…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob kr nn"/></div></div></a></div><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/type-coercion-in-javascript-ef5e390d2318"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">JavaScript中的类型强制</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">虽然JavaScript被认为是对初学者来说最简单的编程语言之一，但它也可能变得令人沮丧…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nw l"><div class="oc l ny nz oa nw ob kr nn"/></div></div></a></div><div class="nk nl gp gr nm nn"><a rel="noopener  ugc nofollow" target="_blank" href="/event-loop-in-javascript-how-javascript-works-51c7bd73f07"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">JavaScript中的事件循环:JavaScript如何在幕后工作</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">事件循环是JavaScript异步编程背后的秘密。</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nw l"><div class="od l ny nz oa nw ob kr nn"/></div></div></a></div><p id="329c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nc">更多内容看</em> <a class="ae ng" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nc">说白了。报名参加我们的</em> <a class="ae ng" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。关注我们关于</em><a class="ae ng" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nc">Twitter</em></strong></a><em class="nc">和</em><a class="ae ng" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nc">LinkedIn</em></strong></a><em class="nc">。加入我们的</em> <a class="ae ng" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nc">社区</em> </strong> </a> <em class="nc">。</em></strong></a></p></div></div>    
</body>
</html>