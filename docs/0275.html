<html>
<head>
<title>Create a Config File for Your JavaScript Project Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专家一样为你的JavaScript项目创建一个配置文件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-config-file-for-your-javascript-project-like-a-pro-42d098a43179?source=collection_archive---------5-----------------------#2022-01-17">https://javascript.plainenglish.io/create-a-config-file-for-your-javascript-project-like-a-pro-42d098a43179?source=collection_archive---------5-----------------------#2022-01-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6e57" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为什么我们需要一个配置文件，如何创建它？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bb36e1c69139116d0caa0604f91dc600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GiaUSqRem8Jllsq4lmNOkw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@surface?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Surface</a> on <a class="ae kv" href="https://unsplash.com/s/photos/files?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1136" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现代的JavaScript框架需要配置文件。配置文件配置文件的简称包含项目开始时需要的初始参数和设置的列表。</p><p id="153b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它可以是任何东西，比如不同开发环境、语言设置、用户设置等中数据库URL的连接字符串。</p><p id="2d0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，如果是私有或敏感的信息，比如API密钥或登录凭证，建议将信息放在。而不是在配置文件中。</p><p id="401e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有人可能会说，我们可以将所有东西放入不同的变量中，并按预期运行应用程序，但正如我上面所说的，开发人员应该尝试编写干净且良好的可伸缩代码。</p><p id="c8e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开发应用程序时，编写他人能够理解的简洁代码总是明智的。配置文件可以帮助你做到这一点。</p><p id="2c86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有三种不同的方式来编写你的配置文件<em class="ls">。它们如下-</em></p><ol class=""><li id="8172" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">JSON</li><li id="0d0a" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">YAML</li><li id="285e" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">初始化设置文件的后缀名</li></ol><p id="b450" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在开发Javascript应用程序时，开发人员更喜欢以JSON格式编写配置文件。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="75fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们用MongoDB数据库为用node编写的服务器应用程序创建一个简单的配置文件。</p><p id="658c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过键入以下命令，启动一个新的节点应用程序并下载所有依赖项-</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="6d23" class="mt mu iq mp b gy mv mw l mx my">npm init<br/>npm i --save express</span></pre><p id="a206" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在项目的根目录下创建一个config.js文件。将以下代码添加到其中:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="eaf2" class="mt mu iq mp b gy mv mw l mx my">const config = {<br/> app: {<br/>   port: 3000, <br/>   name: 'myapp'<br/> },<br/> db: {<br/>   host: 'localhost',<br/>   port: 27017,<br/>   name: 'db'<br/> }<br/>};</span><span id="7cd1" class="mt mu iq mp b gy mz mw l mx my">module.exports = config;</span></pre><p id="3e1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在项目的根目录下创建一个db.js文件。将以下代码添加到其中:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="7517" class="mt mu iq mp b gy mv mw l mx my">const mongoose = require('mongoose');<br/>const config = require('./config');</span><span id="dd73" class="mt mu iq mp b gy mz mw l mx my">const { db: { host, port, name } } = config;<br/>const connectionString = `mongodb://${host}:${port}/${name}`;<br/>mongoose.connect(connectionString);</span></pre><p id="f4a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，将以下代码添加到app.js文件中:</p><pre class="kg kh ki kj gt mo mp mq mr aw ms bi"><span id="5db7" class="mt mu iq mp b gy mv mw l mx my">// app.js<br/>const express = require('express');<br/>const config = require('./config');</span><span id="764a" class="mt mu iq mp b gy mz mw l mx my">const app = express();<br/>app.listen(config.app.port);<br/>console.log(config.app.name);</span></pre><p id="dda2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以上代码是为节点项目创建配置文件的最简单方法。现在，您可以通过向文件添加更多信息来增加复杂性，并根据您的用例来使用它。</p><p id="e96f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码更容易阅读，所有的配置信息都保存在一个文件中。</p><p id="fdd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以从npm安装配置包，并通过阅读文档获得相同的结果，但是如果您愿意，现在可以忽略它。</p><p id="725e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您阅读帖子。我希望你喜欢它。</p></div><div class="ab cl mh mi hu mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="ij ik il im in"><p id="5204" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">你在应用程序中使用配置文件吗？</strong></p><p id="b1bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在任何开源项目中，您是否见过类似但稍微复杂一点的配置文件？或者</p><p id="c83d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你是否不愿意使用它，因为你可能已经发现了实现相同结果的不同方法？</p><p id="a8c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请在评论区告诉我。我很想知道你的意见。</p><p id="0d9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a><em class="ls">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费周报</em> </strong> </a> <em class="ls">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">社区</em> </strong> </a> <em class="ls">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>