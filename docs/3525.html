<html>
<head>
<title>How to Use The Native JavaScript Share API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用原生JavaScript共享API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-the-native-javascript-share-api-6ec67399a9d3?source=collection_archive---------5-----------------------#2022-09-05">https://javascript.plainenglish.io/how-to-use-the-native-javascript-share-api-6ec67399a9d3?source=collection_archive---------5-----------------------#2022-09-05</a></blockquote><div><div class="fc ic id ie if ig"/><div class="ih ii ij ik il"><h2 id="d14e" class="im in io bd b dl ip iq ir is it iu dk iv translated" aria-label="kicker paragraph">教程</h2><div class=""/><div class=""><h2 id="b37a" class="pw-subtitle-paragraph ju ix io bd b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl dk translated">让用户共享他们安装的应用程序的文本、链接和文件。</h2></div><figure class="kn ko kp kq gu kr gi gj paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gi gj km"><img src="../Images/0b5a890ca9b2e2e42dbf8b2f8291e191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DnqWLQit72YPa9TsenBtA.jpeg"/></div></div></figure><p id="bf72" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">原生Web Share API允许用户与安装在设备上的其他应用程序共享文本、链接和文件，方式与特定于平台的应用程序相同。让我们来看看如何使用这个新功能。</p><h2 id="fc33" class="lu lv io bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml iu bi translated">如何使用Web Share API共享链接和文本？</h2><p id="2b98" class="pw-post-body-paragraph ky kz io la b lb mm jy ld le mn kb lg lh mo lj lk ll mp ln lo lp mq lr ls lt ih bi translated">这个API在navigator对象上公开了一个<code class="fe mr ms mt mu b">share()</code>方法。这是一个基于承诺的方法，有一个必需的properties对象。您至少需要传递下列属性之一:</p><ul class=""><li id="182b" class="mv mw io la b lb lc le lf lh mx ll my lp mz lt na nb nc nd bi translated"><strong class="la iy">标题</strong> —例如，共享的主题被用作电子邮件的主题。</li><li id="6e11" class="mv mw io la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated"><strong class="la iy"> text </strong> —例如，消息的正文被用作电子邮件内容。</li><li id="cac3" class="mv mw io la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated"><strong class="la iy"> url </strong> —您想要分享的url会附加在您的正文之后。</li><li id="0d58" class="mv mw io la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated"><strong class="la iy">文件</strong> —例如，您想要共享的文件被用作电子邮件的附件。</li></ul><p id="c746" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">下面的代码示例显示了使用本机share方法并将其绑定到一个简单的按钮click是多么容易:</p><figure class="kn ko kp kq gu kr"><div class="bz fq l di"><div class="nj nk l"/></div></figure><h2 id="d60f" class="lu lv io bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml iu bi translated">如何用Web Share API共享文件？</h2><p id="f015" class="pw-post-body-paragraph ky kz io la b lb mm jy ld le mn kb lg lh mo lj lk ll mp ln lo lp mq lr ls lt ih bi translated">为了使用Web Share API共享文件，使用<code class="fe mr ms mt mu b">navigator.canShare()</code>方法添加一个检查来测试文件是否可以共享是一个好主意。</p><p id="215e" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">然后你可以在<code class="fe mr ms mt mu b">files</code>属性中添加文件作为数组。</p><figure class="kn ko kp kq gu kr"><div class="bz fq l di"><div class="nj nk l"/></div></figure><h2 id="bcbc" class="lu lv io bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml iu bi translated">浏览器对Web共享API的支持</h2><figure class="kn ko kp kq gu kr gi gj paragraph-image"><div class="ab gv cl nl"><img src="../Images/82716969e4b86248e54bde646f33fc9c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*38_lNPmAkSJ6jxgpyl_KnQ.png"/></div></figure><p id="5f25" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">浏览器对Web Share API的支持非常好，但是Firefox不支持。有趣的是，尽管Chrome在Windows和Chrome OS上支持它，但目前它在macOS或Linux发行版上不支持它。</p><h2 id="1559" class="lu lv io bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml iu bi translated">资源</h2><ul class=""><li id="daf9" class="mv mw io la b lb mm le mn lh nm ll nn lp no lt na nb nc nd bi translated"><a class="ae np" href="https://caniuse.com/web-share" rel="noopener ugc nofollow" target="_blank">can use—Web共享API浏览器支持表</a></li><li id="af23" class="mv mw io la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated"><a class="ae np" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share" rel="noopener ugc nofollow" target="_blank"> MDN — Navigator.share文档</a></li></ul><h2 id="9a45" class="lu lv io bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml iu bi translated">结论</h2><p id="e248" class="pw-post-body-paragraph ky kz io la b lb mm jy ld le mn kb lg lh mo lj lk ll mp ln lo lp mq lr ls lt ih bi translated">Web Share API是一个很棒的特性，在一些网站上可以提供一种用户友好的共享方式。这比一堆自定义的共享链接更容易实现。此外，它会根据用户安装的应用程序自动显示用户选项。</p><p id="a2d9" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">感谢阅读。如果你对此有想法，一定要留下评论！</p><p id="117f" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">如果你喜欢我的内容，并想支持我的努力，考虑通过<a class="ae np" href="https://medium.com/@WesleySmits/membership" rel="noopener">我的会员链接</a>成为一个媒体订阅者。这不会花费你任何额外的费用，但Medium会把部分收益给我，让我推荐你。</p><p id="838e" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated">如果你愿意，你可以在<a class="ae np" href="https://www.linkedin.com/in/wesley-robert-smits/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae np" href="https://twitter.com/iamwesleysmits" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上与我联系！</p><div class="nq nr gq gs ns nt"><a href="https://medium.com/@WesleySmits/membership" rel="noopener follow" target="_blank"><div class="nu ab fp"><div class="nv ab nw cl cj nx"><h2 class="bd iy gz z fq ny fs ft nz fv fx ix bi translated">通过我的推荐链接加入Medium-Wesley Smits</h2><div class="oa l"><h3 class="bd b gz z fq ny fs ft nz fv fx dk translated">阅读韦斯利·斯密特(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="ob l"><p class="bd b dl z fq ny fs ft nz fv fx dk translated">medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kw nt"/></div></div></a></div></div><div class="ab cl oi oj hs ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ih ii ij ik il"><p id="96fa" class="pw-post-body-paragraph ky kz io la b lb lc jy ld le lf kb lg lh li lj lk ll lm ln lo lp lq lr ls lt ih bi translated"><em class="op">更多内容看</em> <a class="ae np" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iy"> <em class="op">说白了就是</em> </strong> </a> <em class="op">。报名参加我们的</em> <a class="ae np" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iy"> <em class="op">免费周报</em> </strong> </a> <em class="op">。关注我们关于</em> <a class="ae np" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="la iy"> <em class="op">推特</em> </strong> </a>，<a class="ae np" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="la iy"> <em class="op">领英</em> </strong> </a> <em class="op">，</em><a class="ae np" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="la iy"><em class="op">YouTube</em></strong></a><em class="op">，以及</em> <a class="ae np" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="la iy"> <em class="op">不和</em> </strong> </a> <em class="op">。</em></p></div></div>    
</body>
</html>