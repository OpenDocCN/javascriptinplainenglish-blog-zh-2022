<html>
<head>
<title>Make Dynamic Web Content Accessible With a One-line Code Change</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">只需更改一行代码，即可访问动态Web内容</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/make-dynamic-web-content-accessible-with-a-one-line-code-change-7070e830d155?source=collection_archive---------3-----------------------#2022-09-14">https://javascript.plainenglish.io/make-dynamic-web-content-accessible-with-a-one-line-code-change-7070e830d155?source=collection_archive---------3-----------------------#2022-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a756" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让JavaScript修改的文本内容可以被屏幕阅读器阅读</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d31ca88fabf09c38084385e678cfee84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OC7mfIfqtPKu41PaW5RDCw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@untodesign_?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Daniel Ali</a> on <a class="ae kv" href="https://unsplash.com/s/photos/accessibility?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7b28" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">许多web应用程序没有考虑可访问性的一个主要方面是应用程序中的那些区域，这些区域的内容由javaScript动态生成，并随着时间的推移而变化。</p><p id="9b9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果构建不当，在屏幕阅读器等辅助技术的帮助下与我们的产品进行交互的用户将无法访问这些内容，也无法获得这些内容发生变化的通知。</p><p id="35bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇短文中，我们以JavaScript支持的计数器应用程序为例，通过修改底层模板来提高应用程序的可访问性。</p><h1 id="c225" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">不可访问的计数器应用程序:</h1><p id="fa25" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们考虑以下简单的计数器应用:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="09cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个简单的网页，DOM元素中的计数将由添加到其中的JavaScript代码定期更新。</p><p id="f138" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您在浏览器中打开这个HTML文件，您应该会看到如下内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/efa6b3ed998053e4e723a4f15d732b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-vy4rCVkOhMvJKq687GHpA.gif"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Counter demo</figcaption></figure><p id="7860" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一切看起来都很正常，所以让我们用Mac内置的画外音应用程序做一个快速的屏幕阅读器测试。</p><p id="0661" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要打开画外音功能，请按<code class="fe ms mt mu mv b">command+F5</code>键。现在你会听到有人大声朗读课文。但是您会注意到计数器上的数值不会被屏幕阅读器读出。这是因为内容是动态的，屏幕阅读器程序不知道这个事实。</p><p id="d725" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们在下一节中解决这个问题。</p><h1 id="812a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使动态区域可访问:</h1><p id="d207" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以通过使用语义HTML标签来快速解决上述问题。</p><p id="4d2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们将修改以下部分:</p><pre class="kg kh ki kj gt mw mv mx my aw mz bi"><span id="bdc8" class="na lt iq mv b gy nb nc l nd ne">&lt;main&gt;<br/>   &lt;h1&gt;Counter Demo&lt;/h1&gt;<br/>   &lt;div id="result"&gt;&lt;/div&gt;<br/> &lt;/main&gt;</span></pre><p id="1353" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如下图所示:</p><pre class="kg kh ki kj gt mw mv mx my aw mz bi"><span id="b556" class="na lt iq mv b gy nb nc l nd ne">&lt;main&gt;<br/>   &lt;h1&gt;Counter Demo&lt;/h1&gt;<br/>   &lt;output id="result" aria-label="current count"&gt;&lt;/output&gt;<br/>&lt;/main&gt;</span></pre><p id="3360" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果您再次运行相同的屏幕阅读器测试，您将听到应用程序在每次内容更新时读取更新的计数。</p><h1 id="14a9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么有效？</h1><p id="fe4b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">它能工作的原因是大多数浏览器认为<code class="fe ms mt mu mv b">&lt;output&gt;</code>标签是<code class="fe ms mt mu mv b">aria-live</code>地区。因此，其中内容的任何变化都将被通知给辅助技术，使读者在应用程序中通过底层代码改变时读取改变的计数。</p><p id="8a85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我们还添加了<code class="fe ms mt mu mv b">aria-label="current count"</code>，这样读者每次在阅读数字之前都会说，给用户一个数字是什么的上下文。</p><h1 id="d99f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">视频演示:</h1><p id="49c0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在我的频道上的这个youtube短片中，我添加了一个我们在这篇文章中讨论的内容的快速演示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf mq l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Dynamic Content Accessibility Demo</figcaption></figure><h2 id="eaa2" class="na lt iq bd lu ng nh dn ly ni nj dp mc lf nk nl me lj nm nn mg ln no np mi nq bi translated">注意:</h2><p id="c11a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">值得注意的是，<code class="fe ms mt mu mv b">&lt;output&gt;</code>标签默认是一个内嵌标签。但是我们可以让它显示块，如果我们想，通过CSS，正如我们在这个演示中所做的。</p><h1 id="6590" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论:</h1><p id="daa4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">因此，我们已经看到了如何通过修改一行代码，让屏幕阅读器快速访问我们的动态内容。</p><p id="4c67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想看到更多这样的内容，可以考虑在Medium上关注我。</p><p id="d777" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也偶尔在我的<a class="ae kv" href="https://www.youtube.com/channel/UClBKcKjVHWtePORTW1vJM8A" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a>上发布有用的技术视频。</p><p id="a6a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢你通读这篇文章，我希望你今天学到了一些新东西。我会在我的下一篇文章中告诉你们。</p><p id="9a75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">干杯:)</p></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><p id="4665" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ny">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">说白了就是</em> </strong> </a> <em class="ny">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">免费周报</em> </strong> </a> <em class="ny">。关注我们关于</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">推特</em> </strong> </a>，<a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">领英</em> </strong> </a> <em class="ny">，</em><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">YouTube</em></strong></a><em class="ny">，以及</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">不和</em> </strong> </a> <em class="ny">。对增长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">电路</em> </strong> </a> <em class="ny">。</em></p></div></div>    
</body>
</html>