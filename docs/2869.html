<html>
<head>
<title>A Guide to TypeScript Optional Parameters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript可选参数指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/a-guide-to-typescript-optional-parameters-f2583cfe2c6e?source=collection_archive---------8-----------------------#2022-07-11">https://javascript.plainenglish.io/a-guide-to-typescript-optional-parameters-f2583cfe2c6e?source=collection_archive---------8-----------------------#2022-07-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/135b929fc2b0d01dd022fa51ab3f8b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_m-4-5SnQT5RoH-6vQ5ayA.png"/></div></div></figure><p id="de4e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在JavaScript中，如果一个函数有4个参数，而我们只用了3个，这没什么大不了的——JavaScript只是忽略缺失的参数，并像运行<code class="fe kt ku kv kw b">undefined</code>一样运行函数。</p><p id="ad9e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在TypeScript中，情况略有不同。如果您试图运行一个参数数量与实际数量不同的函数，您会得到一个错误。例如，考虑以下情况:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="cb22" class="lf lg in kw b gy lh li l lj lk">const myFunction = (a: string, b: string, c?: string) =&gt; {<br/>    return a + " " + b + " " + c;<br/>}<br/><br/>let runFunction = myFunction("Hello", "there");</span><span id="d086" class="lf lg in kw b gy ll li l lj lk">let runFunction = myFunction("Hello", "there");</span></pre><p id="f7e9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">上面的代码将抛出以下错误:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="971c" class="lf lg in kw b gy lh li l lj lk">Expected 3 arguments, but got 2.</span></pre><p id="0455" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">TypeScript这样做是为了确保更少的错误，因为在调用的函数中遗漏一个参数有时会破坏函数。因此，我们需要明确告诉TypeScript，我们在函数中定义的一个或多个参数是可选的。为了做到这一点，我们在参数后面使用了一个<code class="fe kt ku kv kw b">?</code>，来表示它实际上是一个可选的<strong class="jx io">参数。</strong></p><p id="7e4d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如，如果我们想让<code class="fe kt ku kv kw b">c</code>在我们的原始函数中是可选的，我们可以写下面的代码——并且不会出错:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="26e2" class="lf lg in kw b gy lh li l lj lk">const myFunction = (a: string, b: string, c?: string) =&gt; {<br/>    return a + " " + b + " " + c;<br/>}<br/><br/>let runFunction = myFunction("Hello", "there");<br/><br/>console.log(runFunction);</span></pre><p id="863a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们的函数将按预期运行，但是，输出将是<code class="fe kt ku kv kw b">Hello there undefined</code>。这可能不是您想要的行为，这正是TypeScript提供这些控件的原因——它可以通过要求某些参数来帮助防止不必要的结果。</p><p id="5fa7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是，在TypeScript中，可选参数后面不能跟必需的参数。例如，下面的代码将不起作用:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="fe1c" class="lf lg in kw b gy lh li l lj lk">const myFunction = (a: string, b?: string, c: string) =&gt; {<br/>    return a + " " + b + " " + c;<br/>}</span></pre><p id="923b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">它将产生以下错误:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="4677" class="lf lg in kw b gy lh li l lj lk">A required parameter cannot follow an optional parameter.</span></pre><p id="010f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以将这种可选性与使用<a class="ae lm" href="https://fjolt.com/article/typescript-typeof-operator" rel="noopener ugc nofollow" target="_blank">类型的操作符</a>结合起来，以产生有意义的代码。例如，如果<code class="fe kt ku kv kw b">c</code>是可选的且未定义，那么我们可以忽略它，就像这样:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="bb1d" class="lf lg in kw b gy lh li l lj lk">const myFunction = (a: string, b: string, c?: string) =&gt; {<br/><br/>    if(typeof c === undefined) {<br/>        return a + " " + b;<br/>    }<br/><br/>    return a + " " + b + " " + c;<br/>}<br/><br/>let runFunction = myFunction("Hello", "there");<br/><br/>console.log(runFunction);</span></pre><p id="46d5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们代码的输出将是<code class="fe kt ku kv kw b">Hello there</code>，但是我们也可以用<code class="fe kt ku kv kw b">c</code>运行它来产生不同的输出，例如:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="d89d" class="lf lg in kw b gy lh li l lj lk">const myFunction = (a: string, b: string, c?: string) =&gt; {<br/><br/>    if(typeof c === undefined) {<br/>        return a + " " + b;<br/>    }<br/><br/>    return a + " " + b + " " + c;<br/>}<br/><br/>let runFunction = myFunction("How", "are", "you?");<br/><br/>// Returns "How are you?"<br/>console.log(runFunction);</span></pre><p id="89a1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ln">更多内容请看</em><a class="ae lm" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ln">plain English . io</em></strong></a><em class="ln">。报名参加我们的</em> <a class="ae lm" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ln">免费周报</em> </strong> </a> <em class="ln">。关注我们关于</em><a class="ae lm" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ln">Twitter</em></strong></a><em class="ln">和</em><a class="ae lm" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ln">LinkedIn</em></strong></a><em class="ln">。查看我们的</em> <a class="ae lm" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ln">社区不和谐</em> </strong> </a> <em class="ln">加入我们的</em> <a class="ae lm" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ln">人才集体</em> </strong> </a> <em class="ln">。</em></p></div></div>    
</body>
</html>