<html>
<head>
<title>Overcome The Language Barrier in Your Surveys With Easy i18n Using SurveyJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SurveyJS通过Easy i18n克服调查中的语言障碍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/overcome-the-language-barrier-in-your-surveys-with-easy-i18n-using-surveyjs-228cd4248126?source=collection_archive---------13-----------------------#2022-08-15">https://javascript.plainenglish.io/overcome-the-language-barrier-in-your-surveys-with-easy-i18n-using-surveyjs-228cd4248126?source=collection_archive---------13-----------------------#2022-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="3bb7" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何使用SurveyJS + React构建一个完全国际化、本地化的调查，而无需使用任何i18n库。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/c5d5c058189cea2a9d70e431b9ae4b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CQcI5Ocu8nZlCIyaPwKQKQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">A look at the finished product; with three locale options provided. <a class="ae ks" href="https://www.pexels.com/photo/photo-of-people-doing-handshakes-3183197/" rel="noopener ugc nofollow" target="_blank">Background image</a> by Fauxels @ Pexels.</figcaption></figure><p id="a2eb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在全球范围内提供您的调查，适当地本地化，可能是您和数百万潜在收入之间的障碍。毕竟，你的样本规模越大，你的调查就越有效——这就是为什么国际化(<em class="lp">又名</em> i18n)是至关重要的。</p><p id="ce22" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://www.w3.org/International/questions/qa-i18n" rel="noopener ugc nofollow" target="_blank">i18n</a>——其中18代表单词<em class="lp">国际化</em>中第一个<em class="lp"> i </em>和最后一个<em class="lp"> n </em>之间的字母数——是从头开始设计调查以支持不同国家和地区的过程，确保它们<strong class="kv io">准备好</strong>用于国际发布，不需要补丁或临时拼凑的功能。</p><p id="c5de" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><a class="ae ks" href="https://surveyjs.io/?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=JS_in_Plain_English_6" rel="noopener ugc nofollow" target="_blank"> SurveyJS </a>是一个免费的开源(在MIT许可下)JavaScript库，它可以让你做到这一点——使用各种前端技术设计动态的、数据驱动的、多语言的调查。它附带了一个精简的、可扩展的国际化+本地化解决方案，不需要单独的i18n库或定制代码。</p><p id="aa59" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们建立一个自己的多语言调查，看看这有多简单。</p><h1 id="8d5f" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">游戏计划</h1><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Try out the finished survey here if you’d like. It’s a short example that can be expanded, and used to gauge how collaboration is valued within your organization.</figcaption></figure><p id="2f43" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">SurveyJS通过两步流程简化了我们的国际化和本地化流程:</p><ol class=""><li id="c5e9" class="mk ml in kv b kw kx kz la lc mm lg mn lk mo lo mp mq mr ms bi translated">第一个是基于选择的语言环境自动翻译UI元素。这只是一个变量，可以从回答者的系统区域设置中提取(并且<strong class="kv io">不</strong>与地理定位相同)，或者在你的应用程序的用户界面中手动设置。翻译后的字符串以<a class="ae ks" href="https://github.com/surveyjs/survey-library/tree/master/src/localization" rel="noopener ugc nofollow" target="_blank">字典文件</a>的形式发布，来源于社区，支持30多种语言，如果需要可以被覆盖。</li></ol><p id="551e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以像这样在JavaScript中手动设置区域设置(如果您设计的应用程序支持通过UI更改语言，这就是您应该做的)。</p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="01a0" class="my lr in mu b gy mz na l nb nc">survey.locale = “fr”;</span></pre><p id="0ccd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">或者在JSON模式中作为默认值。</p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="8ae8" class="my lr in mu b gy mz na l nb nc">“locale”: “fr”</span></pre><p id="5ce5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">2.第二阶段是手动翻译调查内容(任何不属于股票用户界面的内容。换句话说，这是你的实际调查)——问题、选择、标题、描述等。—由于SurveyJS的数据驱动方法而得以简化。调查被定义为用JSON编写的数据模型(模式),它位于与应用程序其余部分的JavaScript和CSS不同的层上。</p><p id="a788" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这个JSON模式中，使用嵌套键来表示每个字符串的名称空间/区域，每个值都是问题/选择/标题/描述的实际翻译字符串。这是许多JavaScript本地化库使用的常见模式(例如:i18 next)——只是，在这里除了SurveyJS本身，你不需要任何东西。</p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="8711" class="my lr in mu b gy mz na l nb nc">const surveyJson = {</span><span id="b058" class="my lr in mu b gy nd na l nb nc">  “elements”: [{</span><span id="883e" class="my lr in mu b gy nd na l nb nc">    “type”: “text”,</span><span id="f347" class="my lr in mu b gy nd na l nb nc">    “name”: “firstname”</span><span id="a4d6" class="my lr in mu b gy nd na l nb nc">    “title”: {</span><span id="dcbe" class="my lr in mu b gy nd na l nb nc">      “default”: “Enter your first name”,</span><span id="33a7" class="my lr in mu b gy nd na l nb nc">      “de”: “Geben Sie Ihren Vornamen ein”,</span><span id="8132" class="my lr in mu b gy nd na l nb nc">      “fr”: “Entrez votre prénom”</span><span id="1ba0" class="my lr in mu b gy nd na l nb nc">      }</span><span id="01ab" class="my lr in mu b gy nd na l nb nc">    }]</span><span id="c57e" class="my lr in mu b gy nd na l nb nc">};</span></pre><p id="64a4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用这种设计模式，您的开发团队可以用他们的母语编写所有的字符串作为默认语言，然后将JSON发送给您的本地化团队，本地化团队将发送回相同的JSON调查模式，编辑后包括其他语言的翻译字符串。</p><h1 id="1fb0" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">代码</h1><p id="dab0" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">在这个例子中，我们将使用React，但是SurveyJS作为组件库提供给<a class="ae ks" href="https://www.npmjs.com/package/survey-react-ui" rel="noopener ugc nofollow" target="_blank"> React </a>、<a class="ae ks" href="https://www.npmjs.com/package/survey-angular" rel="noopener ugc nofollow" target="_blank"> Angular </a>、<a class="ae ks" href="https://www.npmjs.com/package/survey-vue-ui" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>、<a class="ae ks" href="https://surveyjs.io/Documentation/Library?id=get-started-knockout&amp;utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=JS_in_Plain_English_6" rel="noopener ugc nofollow" target="_blank"> Knockout </a>，当然还有<a class="ae ks" href="https://surveyjs.io/Documentation/Library?id=get-started-jquery&amp;utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=JS_in_Plain_English_6" rel="noopener ugc nofollow" target="_blank"> jQuery </a>，所以您已经基本了解了。</p><p id="fd84" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">首先是JSON模式。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="6669" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在调查模型中，您可以看到我们刚刚讨论过的模式。问题和页面标题/描述是一个包含每个区域设置的键值对的对象，所有可能的选择也是如此——但是每个都有一个<strong class="kv io">单一返回值，该值只在您的开发团队使用的本地语言中出现，并且它是以编程方式使用的值。</strong></p><pre class="kd ke kf kg gt mt mu mv mw aw mx bi"><span id="e312" class="my lr in mu b gy mz na l nb nc">{</span><span id="0cba" class="my lr in mu b gy nd na l nb nc">  value: “male”,</span><span id="53dc" class="my lr in mu b gy nd na l nb nc">  text: {</span><span id="faf1" class="my lr in mu b gy nd na l nb nc">    “default”: “Male”,</span><span id="9223" class="my lr in mu b gy nd na l nb nc">    “de”: “Männlich”,</span><span id="f891" class="my lr in mu b gy nd na l nb nc">    “nl”: “Man”</span><span id="7715" class="my lr in mu b gy nd na l nb nc">    },</span><span id="d263" class="my lr in mu b gy nd na l nb nc">}</span></pre><p id="fd99" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">一个可能的选择可以有不同的字符串，每个区域设置一个，但只有一个单一的值被传回并在应用程序的逻辑中使用。</p><p id="5efc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您还会注意到，您不必为每个可能的地区提供键-值对——<code class="fe nj nk nl mu b">default</code>值将用于任何没有明确定义的地区字符串。</p><p id="7155" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">接下来是JavaScript/React代码。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Our React code is relatively simple. We did our heavy lifting in the survey definition itself.</figcaption></figure><p id="3d01" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">首先，确保导入SurveyJS本地化模块，或者作为HTML的<code class="fe nj nk nl mu b">&lt;head&gt;</code>标签中的<code class="fe nj nk nl mu b">&lt;script&gt;</code>，或者作为呈现调查的组件中的导入。</p><p id="0851" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe nj nk nl mu b">&lt;script src=”<a class="ae ks" href="https://unpkg.com/survey-core/survey.i18n.min.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/survey-core/survey.i18n.min.js</a>"&gt;&lt;/script&gt;</code></p><p id="1b90" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe nj nk nl mu b">import “survey-core/survey.i18n”;</code></p><p id="747f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这个例子中，我们将只支持3种语言，作为道具传递，可以通过下拉菜单选择。<code class="fe nj nk nl mu b">Dropdown</code>是一个相当简单的React组件。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Remember: values flow down the component tree, and events propagate up to parents.</figcaption></figure><p id="3291" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您唯一需要警惕的是，您不希望在呈现您的调查的组件(这里是App)中将locale设置为状态变量。每当通过下拉菜单选择一种新语言时，这将强制重新呈现整个调查，重置它并丢失所有进度。</p><p id="1086" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请将它放在<code class="fe nj nk nl mu b">Dropdown</code>组件中，因为无论何时我们使用它来更改语言，您都<em class="lp">希望</em>用当前选择重新呈现它。</p><p id="15a6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">至于<code class="fe nj nk nl mu b">App</code>，你可以有一个函数来改变区域设置(这个函数使用<code class="fe nj nk nl mu b">surveyjs.setLocale = newLocale</code>来设置区域设置)，把它传递给<code class="fe nj nk nl mu b">Dropdown</code>，后者将在自己的<code class="fe nj nk nl mu b">onChange</code>事件上调用它。双赢的局面。</p><p id="c1fa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，CSS超出了本文的范围，但是如果您想要一些灵感，这里就有。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">The design pattern here is to define custom CSS classes as overrides for SurveyJS UI elements in JavaScript, then code those classes in CSS.</figcaption></figure><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="5c2e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">检查<a class="ae ks" href="https://www.surveyjs.io/Examples/Library/?id=survey-customcss&amp;platform=jQuery&amp;utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=JS_in_Plain_English_6#content-docs" rel="noopener ugc nofollow" target="_blank">这里的</a>以获得您可以覆盖的SurveyJS CSS类和属性的列表。</p><h1 id="dea2" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">所有这些，还有自由软件！</h1><p id="0381" class="pw-post-body-paragraph kt ku in kv b kw ne jo ky kz nf jr lb lc ng le lf lg nh li lj lk ni lm ln lo ig bi translated">使用SurveyJS，我们不需要定制的JavaScript代码来构建和适当地国际化/本地化这个调查，也不需要使用任何专门的i18n/l10n库。事实上，我们唯一使用的库——survey js本身——是免费的、开源的、自托管的，非常适合在任何平台上发布多个分散的本地化调查。</p><p id="e020" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">能用母语阅读问题的受访者越多，你的回答率就越高。对产品的控制越多，在应对不同文化、货币和监管/税收制度时就越灵活。因此，使用SurveyJS来<strong class="kv io">简化您的调查代码的创建和维护</strong>在这个极其快速的实现和周转时间至关重要的行业中是很有意义的。</p><p id="52da" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用这种模式，您的开发团队可以专注于只使用一种语言的应用程序代码/业务逻辑，将样板文件传递给您的本地化团队，他们只需要编辑翻译后的字符串，并将JSON模式发送回来，就可以使用了。</p></div><div class="ab cl nm nn hr no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ig ih ii ij ik"><p id="e36b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lp">plain English . io</em></strong></a><em class="lp">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">免费周报</em> </strong> </a> <em class="lp">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lp">Twitter</em></strong></a><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lp">LinkedIn</em></strong></a><em class="lp">，以及</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">不和</em> </strong> </a> <em class="lp">。</em></p></div></div>    
</body>
</html>