<html>
<head>
<title>Git Merge: Merging Changes From Other Branches</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git合并:合并来自其他分支的变更</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/git-merge-merging-changes-from-other-branches-f665f99efd26?source=collection_archive---------9-----------------------#2022-10-26">https://javascript.plainenglish.io/git-merge-merging-changes-from-other-branches-f665f99efd26?source=collection_archive---------9-----------------------#2022-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8918" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">合并是Git非常重要的一部分。了解Git合并是如何工作的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5a35ff8727cd2da1ad55983f049de04d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GKMwMv-EAV5C_kuL8y_teA.png"/></div></div></figure><p id="8c1c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Git通过让我们创建<a class="ae ln" href="https://fjolt.com/article/git-branches" rel="noopener ugc nofollow" target="_blank">分支</a>提供了一个强大的工具。当我们的分支完成后，我们经常想要将它合并回我们的<code class="fe lo lp lq lr b">main</code>或<code class="fe lo lp lq lr b">master</code>分支——或者甚至可能将它完全合并到另一个分支中。与git合并很简单。在本指南中，我们将介绍<code class="fe lo lp lq lr b">merge</code>命令。</p><h1 id="7af7" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">合并您的git分支</h1><p id="0761" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">合并非常简单。假设您在您的<code class="fe lo lp lq lr b">main</code>分支上，并且您想要合并一个名为<code class="fe lo lp lq lr b">my-branch</code>的分支。您只需运行以下命令:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="1139" class="mt lt iq lr b gy mu mv l mw mx">git merge my-branch</span></pre><p id="2ff4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了形象化这一点，请看下图。这里，<code class="fe lo lp lq lr b">main</code>分支显示为绿色。在我们执行合并之前，我们正在提交标记为<code class="fe lo lp lq lr b">main commit</code>的文件。之后，<code class="fe lo lp lq lr b">merge</code>创建一个新的合并提交，标记为<code class="fe lo lp lq lr b">new merge commit</code>。这意味着无论何时进行合并，都会进行提交:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/d4177c8a30a033950c88ebe994930a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wvGjMeULCByh2KuW.png"/></div></div></figure><h1 id="0c02" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">执行合并</h1><p id="ae58" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">如前所述，您需要使用<code class="fe lo lp lq lr b">git merge</code>将另一个分支合并到您当前的分支中。但是，在这样做之前，您必须提交当前分支上的所有内容。因此，首先，确保检查您想要合并内容的分支:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="263f" class="mt lt iq lr b gy mu mv l mw mx">git checkout main</span></pre><p id="9c0f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后添加并提交分支上的任何文件:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="e7da" class="mt lt iq lr b gy mu mv l mw mx">git add -A<br/>git commit -m "Some merge message"</span></pre><p id="c0a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，您准备将一些内容合并到您的分支中:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="5d2e" class="mt lt iq lr b gy mu mv l mw mx">git merge my-branch</span></pre><h1 id="260a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">快速向前合并</h1><p id="2be7" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">因为分支在这里分叉，所以只进行一次新的提交。然而，如果分支没有分叉，那么被称为“快速前进”合并的东西被提交。这是将特性的整个提交历史复制到<code class="fe lo lp lq lr b">main</code>分支的地方。例如，如果我们有一个<code class="fe lo lp lq lr b">main</code>分支，我们创建了一个分支，然后<strong class="kt ir">只有</strong>改变了分支，而<code class="fe lo lp lq lr b">main</code>没有，那么将创建一个快速前进合并。</p><p id="ab38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着我们的提交历史将看起来像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/d40f3884a2c01583ae1893fcd693869f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XlXnQpS3fntzt1F6.png"/></div></div></figure><p id="e1e3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以通过使用<code class="fe lo lp lq lr b">--no-ff</code>来避免快进合并:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="2409" class="mt lt iq lr b gy mu mv l mw mx">git merge --no-ff my-branch</span></pre><p id="819c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">还有一些其他的<code class="fe lo lp lq lr b">ff</code>选项:</p><ul class=""><li id="d9a7" class="mz na iq kt b ku kv kx ky la nb le nc li nd lm ne nf ng nh bi translated"><code class="fe lo lp lq lr b">--ff</code> -默认-可能时会快进。</li><li id="b334" class="mz na iq kt b ku ni kx nj la nk le nl li nm lm ne nf ng nh bi translated"><code class="fe lo lp lq lr b">--ff-only</code> -只有在可以快进的情况下才会合并。否则什么都不会发生。</li></ul><h1 id="d8e0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">解决合并冲突</h1><p id="533b" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">合并代码有时会导致合并冲突。这就是当你试图合并代码时，Git不能自动确定应该发生什么的时候。在这些情况下，您必须在完成合并之前手动解决它。如果你认为你现在不能解决它，你可以通过运行<code class="fe lo lp lq lr b">git merge --abort</code>退出合并。</p><p id="c020" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://fjolt.com/article/git-merge-conflicts" rel="noopener ugc nofollow" target="_blank">你可以在这里了解更多关于合并冲突及其解决方法的信息</a>。</p><h1 id="1194" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">设置合并提交消息</h1><p id="e8ff" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">正如我提到的，合并还会在您的git历史中创建一个新的提交。如果您想添加自定义消息，您可以像使用<code class="fe lo lp lq lr b">git commit</code>一样使用<code class="fe lo lp lq lr b">-m</code>标志:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="5cd6" class="mt lt iq lr b gy mu mv l mw mx">git merge my-branch -m "Some commit message"</span></pre><h1 id="554d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">防止自动提交</h1><p id="5216" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">有时候，一个合并消息是不够的——你想把你的代码合并到一个分支中，稍微修改一下，然后完成你的提交。您可以使用<code class="fe lo lp lq lr b">--no-commit</code>合并一个分支，而不需要创建一个提交:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="943c" class="mt lt iq lr b gy mu mv l mw mx">git merge --no-comit my-branch</span></pre><p id="e62a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">之后，您可以对代码进行任何想要的更改，然后在空闲时进行新的提交:</p><pre class="kg kh ki kj gt mp lr mq mr aw ms bi"><span id="a3df" class="mt lt iq lr b gy mu mv l mw mx">git add -A <br/>git commit -m "New commit message"</span></pre><h1 id="507e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="1dd5" class="pw-post-body-paragraph kr ks iq kt b ku mk jr kw kx ml ju kz la mm lc ld le mn lg lh li mo lk ll lm ij bi translated">在本指南中，我们已经介绍了您需要了解的关于合并的主题。在git中，合并代码是与他人协作和管理分支的一个重要主题。如果你遇到合并冲突，你可以在这里阅读。否则，<a class="ae ln" href="https://fjolt.com/category/git" rel="noopener ugc nofollow" target="_blank">点击这里</a>查看更多git内容。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="5066" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">更多内容请看</em><a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">plain English . io</em></strong></a><em class="nu">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">免费周报</em> </strong> </a> <em class="nu">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">Twitter</em></strong></a><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">LinkedIn</em></strong></a><em class="nu"/><a class="ae ln" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">YouTube</em></strong></a><em class="nu"/><a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">不和</em> </strong> </a> <em class="nu">。对增长黑客感兴趣？检查</em> <a class="ae ln" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">电路</em> </strong> </a> <em class="nu">。</em></p></div></div>    
</body>
</html>