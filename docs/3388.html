<html>
<head>
<title>How to Get the URL of the Last Visited Page in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中获取上次访问页面的URL</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-get-last-page-url-dc47a2ca5087?source=collection_archive---------6-----------------------#2022-08-24">https://javascript.plainenglish.io/javascript-get-last-page-url-dc47a2ca5087?source=collection_archive---------6-----------------------#2022-08-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1e20" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何在JavaScript中轻松获取最后访问的页面的URL。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/40f42d7e81bcea71347f03792fda4753.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aydrd5B7ROrRMd1avHsumw.png"/></div></div></figure><p id="a323" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们可以用JavaScript中的<code class="fe lk ll lm ln b">document.referrer</code>属性获得最后一个页面的URL。</p><p id="dd82" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="5785" class="ls lt in ln b gy lu lv l lw lx">const lastPageUrl = document.referrer;</span><span id="b48f" class="ls lt in ln b gy ly lv l lw lx">console.log(`Last visited page URL: ${lastPageUrl}`);</span></pre><p id="00ab" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">document.referrer</code>是一个只读属性，返回用于导航到当前页面的页面的URL。</p><p id="918e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这里有一个更实际的例子:</p><p id="62f0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">index.html</strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="9cb2" class="ls lt in ln b gy lu lv l lw lx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Coding Beauty Tutorial&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;a href="get-last-page.html"&gt;Link&lt;/a&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="a5fb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">get-last-page.html</strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="3258" class="ls lt in ln b gy lu lv l lw lx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Coding Beauty Tutorial&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    You visited this page from: &lt;span id="last-page"&gt;&lt;/span&gt;<br/>    &lt;script src="get-last-page.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="125b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">获取最后一页. js </strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="adac" class="ls lt in ln b gy lu lv l lw lx">const lastPage = document.getElementById('last-page');</span><span id="8124" class="ls lt in ln b gy ly lv l lw lx">lastPage.textContent = document.referrer;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/adddee1b243e20f2d9098ef3785fad55.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/0*cs1uOqCDHSLc24Ik.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">Displaying the last page URL on the visited page.</figcaption></figure><h1 id="2bbc" class="me lt in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">document.referrer的限制</h1><p id="da94" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">尽管<code class="fe lk ll lm ln b">document.referrer</code>属性并不总是有效。它通常在用户单击上一页的链接导航到当前页的情况下给出正确的值。</p><p id="3ed2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是，如果用户通过在地址栏中键入或使用书签直接访问URL，<code class="fe lk ll lm ln b">document.referrer</code>将没有任何价值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi na"><img src="../Images/aea6510b9e082d9475e4aaa1c29b0b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/0*fgZ6_3g4JYcsM4S-.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">The last page URL can’t be displayed for a direct visit.</figcaption></figure><p id="267d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果被点击的链接标有<code class="fe lk ll lm ln b">rel="noreferrer"</code>属性，<code class="fe lk ll lm ln b">document.referrer</code>也不会有值。将<code class="fe lk ll lm ln b">rel</code>设置为<code class="fe lk ll lm ln b">noreferrer</code>特别防止推荐信息被传递到所链接的网页。</p><p id="80fb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">index.html</strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="1966" class="ls lt in ln b gy lu lv l lw lx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Coding Beauty Tutorial&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;a href="get-last-page.html"&gt;Link&lt;/a&gt;<br/>    &lt;a href="get-last-page" rel="noreferrer"&gt;Link (noreferrer)&lt;/a&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi na"><img src="../Images/926cf9530233d439d4d55f6a0241bbcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/0*plQ5tGS1QV0xApa7.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">“rel=noreferrer” prevents access to referral information in the linked page.</figcaption></figure><h1 id="378b" class="me lt in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">导航到最后一页</h1><p id="720a" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">也许您想获得最后一个页面的URL，以便能够导航到该页面。你可以用<code class="fe lk ll lm ln b">history.back()</code>方法轻松做到这一点。</p><p id="b565" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">获取最后一页. js </strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="4e8f" class="ls lt in ln b gy lu lv l lw lx">...<br/>const backButton = document.getElementById('back');</span><span id="313d" class="ls lt in ln b gy ly lv l lw lx">backButton.onclick = () =&gt; {<br/>  history.back();<br/>};</span></pre><p id="63b3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">get-last-page.html</strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="8772" class="ls lt in ln b gy lu lv l lw lx">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Coding Beauty Tutorial&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    You visited this page from: &lt;span id="last-page"&gt;&lt;/span&gt; &lt;br /&gt;<br/>    &lt;br /&gt;<br/>    &lt;button id="back"&gt;Back&lt;/button&gt;</span><span id="50a7" class="ls lt in ln b gy ly lv l lw lx">    &lt;script src="get-last-page.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi na"><img src="../Images/59688ca0c6246f5eead2e098a2c38928.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/1*9vR6PwFcqEVO3X094emwFA.gif"/></div></figure></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><p id="50c7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">【codingbeautydev.com】原载于<a class="ae nj" href="https://cbdev.link/871b4c" rel="noopener ugc nofollow" target="_blank"><em class="ni"/></a></p><h1 id="7dcf" class="me lt in bd mf mg mh mi mj mk ml mm mn jt mo ju mp jw mq jx mr jz ms ka mt mu bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph ko kp in kq b kr mv jo kt ku mw jr kw kx mx kz la lb my ld le lf mz lh li lj ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae nj" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank">报名</a>立即免费领取一份。</p></div></div>    
</body>
</html>