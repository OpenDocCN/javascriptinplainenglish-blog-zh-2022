<html>
<head>
<title>How to Animate an SVG Circle with CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用CSS制作SVG圆形动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-animate-svg-circle-with-javascript-8e8c720ee3a2?source=collection_archive---------2-----------------------#2022-04-06">https://javascript.plainenglish.io/how-to-animate-svg-circle-with-javascript-8e8c720ee3a2?source=collection_archive---------2-----------------------#2022-04-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1c85" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何制作SVG圆动画的初学者指南。</h2></div><p id="d240" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在我们开始之前，我想承认我是SVG(可伸缩矢量图形)的新手。因此，我对SVG的工作原理做了大量的研究。终于开始有基本的了解了。所以，简而言之，这篇文章为那些对SVG <code class="fe ky kz la lb b">&lt;circle&gt;</code>感兴趣的人提供了一个初学者指南。</p><h2 id="f448" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">创建SVG圆</h2><p id="137a" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">第一个问题:<strong class="ke io"> <em class="ma">如何建立一个圈子？</em> </strong>先说简单的<strong class="ke io">数学</strong>！圆的周长= 2 *π*半径。</p><p id="9756" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">公式:C = 2 × π × r</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/ff0df99c862e0391aa1a4b8b2b86e6c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*VDZlUSVaXLB2kXFU0-qyHQ.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">radius decides how big is the circle</figcaption></figure><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="8d0d" class="lc ld in lb b gy mr ms l mt mu">&lt;svg&gt;<br/>  &lt;circle cx="100" cy="100" r="75" /&gt;<br/>&lt;/svg&gt;</span></pre><p id="aed8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你将代码复制粘贴到<strong class="ke io"> <em class="ma"> codepen.io </em> </strong>中，你会得到一个不完整的圆。<strong class="ke io">为什么？</strong>考察一下<code class="fe ky kz la lb b">&lt;circle&gt;</code>元素，就知道答案了。</p><p id="2078" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">y轴坐标(cy)有问题吗？</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/8db44bf256557d61cb2144588e589443.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*gPevFaXtbVE5neqGyjM2lQ.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Inspect <code class="fe ky kz la lb b">&lt;circle&gt;</code> element</figcaption></figure><p id="b14d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">作为一种解决方案，我们可以将<code class="fe ky kz la lb b">cy</code>值更改为<strong class="ke io"> 75 </strong>以使<code class="fe ky kz la lb b">&lt;circle&gt;</code>元素在<strong class="ke io"> y轴</strong>上居中。同样，对于<code class="fe ky kz la lb b">cx</code>值，将300除以2。</p><p id="2d43" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">代码如下所示:</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="99ea" class="lc ld in lb b gy mr ms l mt mu">&lt;svg&gt;<br/>  &lt;circle cx="150" cy="75" r="75" /&gt;<br/>&lt;/svg&gt;</span></pre><h2 id="2808" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">将SVG居中</h2><p id="5e95" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">接下来，这一步是<strong class="ke io">可选</strong>。如果你想让你的SVG在网页上居中，你可以遵循下面的代码:</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="8dcf" class="lc ld in lb b gy mr ms l mt mu"><strong class="lb io">svg </strong>{<br/>  background: #ffece3;<br/> <strong class="lb io"> position: absolute;<br/>  left: 50%;<br/>  top: 50%;<br/>  transform: translate(-50%, -50%);</strong><br/>}</span></pre><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/0f12302ed754789edb0a5fc43404cc97.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*r-l1BKLzmOCuNjC_Un0MrQ.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk"><code class="fe ky kz la lb b">Center &lt;circle&gt;</code> element</figcaption></figure><h2 id="72b4" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">制作动画</h2><p id="0973" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">我计划以顺时针方向<strong class="ke io">制作圆形动画</strong>。因此，我将<code class="fe ky kz la lb b">stroke-width</code> CSS属性添加到10px。</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="e344" class="lc ld in lb b gy mr ms l mt mu">circle {<br/>    fill: transparent;<br/>    stroke: orange;<br/>    stroke-width: 10px;<br/>}</span></pre><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi mx"><img src="../Images/d0b1b166523d0a4b7eb4fc50b39dec09.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*Owz15KsGNbmUiKCaII1sng.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Circle with 10px stroke</figcaption></figure><p id="e9fe" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">哎呀！<code class="fe ky kz la lb b">&lt;circle&gt;</code>元素没有足够空间。让我们把“空间”变大。因此，为SVG元素添加大约400px的<strong class="ke io"> <em class="ma">宽度</em> </strong>和<strong class="ke io"> <em class="ma">高度</em> </strong> CSS属性。并且您的<code class="fe ky kz la lb b">&lt;circle&gt;</code>元素没有再次将中心放在网页上。</p><p id="b606" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">然后，您需要通过<strong class="ke io">将</strong>的宽度和高度值除以2或者使用<strong class="ke io">的百分比(%) </strong>值来表示x轴和y轴坐标，从而再次进行调整。</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="4c9d" class="lc ld in lb b gy mr ms l mt mu">&lt;svg&gt;<br/>  &lt;circle cx="50%" cy="50%" r="75" /&gt;<br/>&lt;/svg&gt;</span></pre><p id="7002" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">接下来，我们需要知道动画的<code class="fe ky kz la lb b">stroke-dasharray</code>和<code class="fe ky kz la lb b">stroke-dashoffset</code> CSS属性。</p><p id="876b" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">CSS中的<code class="fe ky kz la lb b">stroke-dasharray</code>属性用于在SVG形状的笔画中创建破折号。<strong class="ke io">来自CSS-Trick。</strong></p><h2 id="14cd" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated"><span class="l nc nd ne bm nf ng nh ni nj di"> H </span> <strong class="ak">如何认识</strong> <code class="fe ky kz la lb b"><strong class="ak">stroke-dasharray</strong></code> <strong class="ak"> </strong> <code class="fe ky kz la lb b"><strong class="ak">&lt;circle&gt;</strong></code> <strong class="ak">元素？</strong></h2><p id="ec8b" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">有一个计算<code class="fe ky kz la lb b">&lt;circle&gt;</code>元素的<code class="fe ky kz la lb b"><em class="ma">stroke-dasharray</em></code>属性的公式。我在这里找到了<a class="ae nk" href="https://stackoverflow.com/questions/29909403/how-to-get-exact-amount-of-stroke-dasharray-on-circle-and-rect" rel="noopener ugc nofollow" target="_blank">解决方案</a>！</p><p id="af2d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ma">为</em> <code class="fe ky kz la lb b"><em class="ma">&lt;circle&gt;</em></code> <em class="ma">元素，</em> <code class="fe ky kz la lb b"><em class="ma">stroke-dasharray</em></code> <em class="ma">属性代表</em> <strong class="ke io"> <em class="ma">圆周</em> </strong> <em class="ma">。</em></p><p id="cc89" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">所以，我们可以得到<code class="fe ky kz la lb b"><em class="ma">stroke-dasharray</em></code>属性的最大值。<strong class="ke io">越低</strong>的值，<strong class="ke io">越大</strong>在<code class="fe ky kz la lb b">&lt;circle&gt;</code>元件行程中的破折号间距。</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="e39b" class="lc ld in lb b gy mr ms l mt mu">circle {<br/>    fill: transparent;<br/>    stroke: orange;<br/>    stroke-width: 10px;<br/>   <strong class="lb io"> stroke-dasharray: 471;</strong><br/>}</span></pre></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="269f" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ma">CSS中的</em> <code class="fe ky kz la lb b"><em class="ma">stroke-dashoffset</em></code> <em class="ma">属性定义了一个</em> <code class="fe ky kz la lb b"><em class="ma">stroke</em></code> <em class="ma">的破折号沿SVG路径开始的位置。</em> <strong class="ke io"> <em class="ma">来自CSS-Trick。</em> </strong></p><p id="d53d" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我用不同的值摆弄了一下<code class="fe ky kz la lb b"><em class="ma">stroke-dashoffset</em></code>属性。结果如下:</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ns"><img src="../Images/f21cffa07484ba2741492d4b1a3d4254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEhtDyEOmUwSxy30XdqqgQ.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Different value for <code class="fe ky kz la lb b"><em class="nt">stroke-dashoffset</em></code></figcaption></figure><p id="fc63" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你把相同的值和<code class="fe ky kz la lb b"><em class="ma">stroke-dasharray</em></code>值放在一起，你会得到一个空圆。因此，我们将制作<code class="fe ky kz la lb b"><em class="ma">stroke-dashoffset</em></code>属性的动画。现在，我们可以为<code class="fe ky kz la lb b">&lt;circle&gt;</code>元素声明动画。</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="f208" class="lc ld in lb b gy mr ms l mt mu">circle {<br/>  fill: transparent;<br/>  stroke: orange;<br/>  stroke-width: 10px;<br/>  stroke-dasharray: 471;<br/>  stroke-dashoffset: 471;<br/>  animation: <strong class="lb io">clock-animation</strong> 10s linear infinite;<br/>}<br/><a class="ae nk" href="http://twitter.com/keyframes" rel="noopener ugc nofollow" target="_blank">@keyframes</a> <strong class="lb io">clock-animation</strong> {<br/>  0% {<br/>    stroke-dashoffset: 471;<br/>  }<br/>  100% {<br/>    stroke-dashoffset: 0;<br/>  }<br/>}</span></pre><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nu"><img src="../Images/1af85e2c54607e39028cc33010042fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fHfympdwD2ezB5ryDfTNrw.gif"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Circle animation</figcaption></figure><h2 id="e777" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated"><strong class="ak">问题:起始动画点在圆圈右侧？如何让起点从最上面开始？</strong></h2><p id="e924" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated"><em class="ma">解决方法</em>:将圆旋转到<strong class="ke io"> -90度</strong>。并且记得将<code class="fe ky kz la lb b"><em class="ma">transform-origin</em></code>属性添加到<strong class="ke io">中心</strong>。</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="8e17" class="lc ld in lb b gy mr ms l mt mu">circle {<br/>  fill: transparent;<br/>  stroke: orange;<br/>  stroke-width: 10px;<br/>  stroke-dasharray: 471;<br/>  stroke-dashoffset: 471;<br/>  animation: clock-animation 10s linear infinite;<br/><strong class="lb io">  transform: rotate(-90deg);<br/>  transform-origin: center;</strong><br/>}</span></pre><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nu"><img src="../Images/ad9035e03858350f88982bcfffe9f9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*suS_SL5P-AqAiDfwSFQixw.gif"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Circle transform in -90 deg</figcaption></figure><p id="eed1" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">也可以换成<strong class="ke io">逆时针</strong>方向。只需更改动画代码。</p><pre class="mc md me mf gt mn lb mo mp aw mq bi"><span id="b87b" class="lc ld in lb b gy mr ms l mt mu"><a class="ae nk" href="http://twitter.com/keyframes" rel="noopener ugc nofollow" target="_blank">@keyframes</a> <strong class="lb io">anti-clock-animation</strong> {<br/>  0% {<br/>    stroke-dashoffset: 0;<br/>  }<br/>  100% {<br/>    stroke-dashoffset: 471;<br/>  }<br/>}</span></pre><h2 id="d050" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">附加功能:</h2><p id="a8fb" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">如果你想要一个<strong class="ke io">整圆</strong>动画，只需增加<code class="fe ky kz la lb b">stroke-width</code>值。假设圆半径为75，那么将数值翻倍，就是150px。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nu"><img src="../Images/311c2acca29b3e0ba5619efc861c1bfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uy0ZOJtDjqCxiT-D8iFxTA.gif"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Full SVG Circle Animation</figcaption></figure><h2 id="d677" class="lc ld in bd le lf lg dn lh li lj dp lk kl ll lm ln kp lo lp lq kt lr ls lt lu bi translated">结论</h2><p id="94db" class="pw-post-body-paragraph kc kd in ke b kf lv jo kh ki lw jr kk kl lx kn ko kp ly kr ks kt lz kv kw kx ig bi translated">希望你喜欢这篇SVG教程。感谢您的阅读！这里我附上了源代码。</p><p id="a416" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae nk" href="https://codepen.io/CCE94/pen/KKZqMRy" rel="noopener ugc nofollow" target="_blank"> SVG圆形笔画动画</a></p><p id="9ea4" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><a class="ae nk" href="https://github.com/waltzHao/SVG_Circle" rel="noopener ugc nofollow" target="_blank">完整SVG圆动画</a></p><p id="399c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">编码快乐！</p><p id="b3a7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ma">更多内容看</em> <a class="ae nk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ma">说白了。报名参加我们的</em> <a class="ae nk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ma">免费周报</em> </strong> </a> <em class="ma">。关注我们关于</em><a class="ae nk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ma">Twitter</em></strong></a><em class="ma">和</em><a class="ae nk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ma">LinkedIn</em></strong></a><em class="ma">。加入我们的</em> <a class="ae nk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ma">社区</em> </strong> </a> <em class="ma">。</em></strong></a></p></div></div>    
</body>
</html>