<html>
<head>
<title>CSS Houdini, an API Designed for the Future</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS Houdini，一个为未来设计的API</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/css-houdini-an-api-designed-for-the-future-402c8a45a921?source=collection_archive---------7-----------------------#2022-03-20">https://javascript.plainenglish.io/css-houdini-an-api-designed-for-the-future-402c8a45a921?source=collection_archive---------7-----------------------#2022-03-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="39fc" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">深入CSS胡迪尼的世界。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/8fc988031c3f18e9fe5e6e31b131bf25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pPgj9vVx6w8gzMcH"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@jacksonsophat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jackson So</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="82be" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们知道HTML和JavaScript在过去几年是如何发展的。然而，CSS并没有以同样的方式发展。但谢天谢地，今天，我们有了胡迪尼API。</p><p id="17ad" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们开始吧。但是等等。你对名字不感兴趣吗？<br/>胡迪尼这个名字来自美国魔术师哈里·胡迪尼。</p><h1 id="ae5d" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">CSS胡迪尼是什么？</h1><p id="f0d2" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated"><strong class="kv io"> CSS Houdini </strong>是一组暴露CSS引擎部分的API。API促进了CSS扩展的开发。您可以使用扩展来添加浏览器中没有的功能，探索新的布局方法，或者添加有创意的边框或其他效果。</p><h1 id="840b" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">胡迪尼是做什么的？</h1><p id="e5da" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">Houdini API使开发人员能够通过挂钩浏览器呈现引擎的样式和布局过程来扩展CSS的功能。开发人员可以使用Houdini编写浏览器可以解析为CSS的代码，从而开发新的CSS功能，而无需等待浏览器中的本机实现。CSS_Object_Model(CSSOM)API由Houdini提供，提供对CSS _ Object _ Model的直接访问。</p><h1 id="b9f4" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">让我们来看看它的神奇之处。</h1><p id="9171" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated"><strong class="kv io">自定义CSS属性的注册<br/> </strong>注册一个自定义属性可以告诉浏览器自定义属性应该如何表现。它讲述了允许的类型、自定义属性是否继承其值以及自定义属性的默认值。</p><p id="bdc3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有两种方法可以注册自定义属性:</p><p id="e2dc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">1.通过JS</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mm"><img src="../Images/c31d91841600f59a012eecb7ebd2878d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRZnwpQG-G9Z2-t7OKdARA.png"/></div></div></figure><p id="bd92" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">2.通过CSS</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mn"><img src="../Images/e36762864509e072413b0ce99bfdc426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z-GRmbLhP47geWrWF5eRmA.png"/></div></div></figure><p id="6b54" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这允许属性类型检查、默认值以及继承或不继承其值的属性。同样，如果属性无效，它也不会给出无效值，而是会返回到初始值</p><p id="9cc7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">CSS的使用— TOM(类型化对象模型)<br/></strong><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Typed_OM_API" rel="noopener ugc nofollow" target="_blank">CSS类型化对象模型API </a>将CSS值公开为类型化JavaScript对象，以允许其执行操作。将<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model" rel="noopener ugc nofollow" target="_blank"> CSS对象模型</a>的值字符串转换成有意义类型的JavaScript表示并返回(通过<code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style" rel="noopener ugc nofollow" target="_blank">HTMLElement.style</a></code>)会导致显著的性能开销。</p><p id="65e7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CSS类型化OM通过提供对象功能(而不是CSSOM字符串操作)，提供对CSS值的类型、方法和对象模型的访问，使CSS操作更具逻辑性和性能。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ms"><img src="../Images/3231c93fb931479b3abd86c9c3e5d1c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjXSmJ_yHi6K5S-fWeWL0g.png"/></div></div></figure><p id="f577" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CSS画图API<br/>CSS画图API旨在使开发人员能够用类似画布的自定义画图函数以编程方式定义图像，然后可以在任何可以调用CSS图像的地方使用这些函数，如CSS <code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-image" rel="noopener ugc nofollow" target="_blank">background-image</a></code>、<code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/CSS/border-image-source" rel="noopener ugc nofollow" target="_blank">border-image</a></code>、<code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask-image" rel="noopener ugc nofollow" target="_blank">mask-image</a></code>等。</p><p id="7995" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">要以编程方式创建CSS样式表使用的图像，我们需要完成几个步骤:</p><ol class=""><li id="ab39" class="mt mu in kv b kw kx kz la lc mv lg mw lk mx lo my mz na nb bi translated">使用<code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/PaintWorklet/registerPaint" rel="noopener ugc nofollow" target="_blank">registerPaint()</a></code>功能定义一个绘画小工具</li><li id="e63b" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">注册工作单</li><li id="ba40" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo my mz na nb bi translated">包括<code class="fe mo mp mq mr b"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/CSS/image/paint()" rel="noopener ugc nofollow" target="_blank">paint()</a></code> CSS函数</li></ol><p id="b975" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以参考这个伟大的例子</p><div class="nh ni gp gr nj nk"><a href="https://glitch.com/~angled-corners" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd io gy z fp np fr fs nq fu fw im bi translated">Glitch:一个友好的社区，每个人都在这里建立网站</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">简单、强大、免费的工具来创建和使用数百万个应用程序。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">glitch.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny km nk"/></div></div></a></div><p id="33d1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nz">上面的例子使用了具有不同参数的画图小工具来实现这个结果- </em></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi oa"><img src="../Images/ee4783abe86ce7e2a0ecd096c64153ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sz59qphPTZ16rYx9uMKHPQ.png"/></div></div></figure><p id="8b80" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这些是胡迪尼能提供的一些例子。CSS Houdini是七个强大API的总括API</p><p id="1abf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">CSS Houdini包括以下API，按支持顺序排列:</p><ul class=""><li id="4d46" class="mt mu in kv b kw kx kz la lc mv lg mw lk mx lo ob mz na nb bi translated"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Typed_OM_API" rel="noopener ugc nofollow" target="_blank">类型化对象模型:</a>这允许浏览器理解CSS和类型化Javascript对象，而不是字符串，这导致了更好的解析和语义操作。</li><li id="5f35" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo ob mz na nb bi translated"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Properties_and_Values_API" rel="noopener ugc nofollow" target="_blank">属性和值API: </a>开发者可以通过语法检查、默认值和继承来定义自定义属性。</li><li id="c8b3" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo ob mz na nb bi translated"><a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Painting_API" rel="noopener ugc nofollow" target="_blank"> Paint Worklet: </a>为开发人员提供了定义类似画布的自定义绘画功能的能力，他们可以在CSS中直接使用这些功能作为背景、边框、遮罩等等。</li><li id="01b1" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo ob mz na nb bi translated"><a class="ae ks" href="https://developers.google.com/web/updates/2018/10/animation-worklet" rel="noopener ugc nofollow" target="_blank">动画小工具:</a>这允许动画挂钩到GPU，这样它们就不会阻塞主线程。动画工作件还支持滚动链接动画。</li><li id="ee03" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo ob mz na nb bi translated"><a class="ae ks" href="https://www.w3.org/TR/css-layout-api-1/" rel="noopener ugc nofollow" target="_blank">布局小工具:</a>除了用户代理自带的原生算法之外，还为web开发者提供了编写布局算法的能力。</li><li id="adcf" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo ob mz na nb bi translated"><a class="ae ks" href="https://drafts.css-houdini.org/font-metrics-api/" rel="noopener ugc nofollow" target="_blank">字体度量API: </a>为文档内和文档外的内容提供基本的字体度量。</li><li id="886a" class="mt mu in kv b kw nc kz nd lc ne lg nf lk ng lo ob mz na nb bi translated"><a class="ae ks" href="https://github.com/WICG/css-parser-api" rel="noopener ugc nofollow" target="_blank">解析器API: </a>允许开发者访问引擎的解析器(构建在类型化OM之上)</li></ul><h2 id="7439" class="oc lq in bd lr od oe dn lv of og dp lz lc oh oi mb lg oj ok md lk ol om mf on bi translated">结论</h2><p id="87b0" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">尽管Houdini还处于初始阶段，需要时间来被浏览器采用。值得等待。此外，还有一个<a class="ae ks" href="https://github.com/GoogleChromeLabs/css-paint-polyfill" rel="noopener ugc nofollow" target="_blank"> polyfill </a>可用于不受支持的浏览器。你可以找到更多关于CSS胡迪尼在</p><div class="nh ni gp gr nj nk"><a href="https://houdini.how/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd io gy z fp np fr fs nq fu fw im bi translated">胡迪尼，怎么做</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">CSS Houdini worklets的社区驱动资源库。了解CSS Houdini，它的API，用法，多填充，和…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">胡迪尼，怎么做</p></div></div><div class="nt l"><div class="oo l nv nw nx nt ny km nk"/></div></div></a></div><div class="nh ni gp gr nj nk"><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Houdini" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd io gy z fp np fr fs nq fu fw im bi translated">CSS:层叠样式表| MDN</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">CSS Houdini是一组公开CSS引擎部分的API。这使得开发人员更容易创建…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">developer.mozilla.org</p></div></div><div class="nt l"><div class="op l nv nw nx nt ny km nk"/></div></div></a></div></div><div class="ab cl oq or hr os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ig ih ii ij ik"><p id="1c80" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nz">感谢通读🙌🏼。如果您觉得这篇文章有用，请使用👏按钮，并通过您的圈子分享。</em></p><p id="cc70" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nz">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nz">说白了。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nz">免费周报</em> </strong> </a> <em class="nz">。关注我们</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nz">Twitter</em></strong></a><em class="nz">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nz">LinkedIn</em></strong></a><em class="nz">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nz">社区</em> </strong> </a> <em class="nz">。</em></strong></a></p></div></div>    
</body>
</html>