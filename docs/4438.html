<html>
<head>
<title>CSS Grid Layouts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS网格布局</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/css-grid-layouts-101933ac9347?source=collection_archive---------1-----------------------#2022-12-03">https://javascript.plainenglish.io/css-grid-layouts-101933ac9347?source=collection_archive---------1-----------------------#2022-12-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dc7e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">释放CSS网格布局的力量。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b6a7c1a4ec8b81234b05b3a6da645af6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OgHMd6_N2StKlGqL"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sndrgb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alessandro Rigobello</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2190" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我经常看到开发人员纠结于CSS的布局部分。主要原因是他们不知道如何创建布局，因为他们没有接受过正式的CSS培训。他们大多依赖于过时的CSS教程，这些教程使用了flexboxes或者怪异过时的东西。我并不是说flexboxes不利于布局，它们有自己的用例，但是网格通常是完成工作的更好的工具。在本文中，我将举例说明我何时以及为什么使用网格而不是flex或其他替代技术。</p><h2 id="70f9" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">页面级布局</h2><p id="669b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">页面级的布局是一个很好的例子，当网格是解决这个问题的更好的方法时，就使用了flexboxes。看一下下面的例子:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="0939" class="mv lt iq mr b be mw mx l my mz">&lt;style&gt;<br/>* {<br/>  margin: 0;<br/>  padding: 0;<br/>}<br/><br/>body {<br/>  min-height: 100vh;<br/>  display: flex;<br/>  flex-direction: column;<br/>}<br/><br/>main {<br/>  flex-grow: 1;<br/>}<br/>&lt;/style&gt;<br/><br/>&lt;header&gt;<br/>  header<br/>&lt;/header&gt;<br/>&lt;main&gt;<br/>  content<br/>&lt;/main&gt;<br/>&lt;footer&gt;<br/>  footer<br/>&lt;/footer&gt;</span></pre><p id="f31b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它将创建一个全高的页面，在那里身体占据了自由空间(见这个小提琴:<a class="ae kv" href="https://jsfiddle.net/udtmavs6/2/" rel="noopener ugc nofollow" target="_blank">https://jsfiddle.net/udtmavs6/2/</a>)。</p><p id="621b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个使用网格的例子。标记保持不变，只是CSS不同:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="666d" class="mv lt iq mr b be mw mx l my mz">&lt;style&gt;<br/>* {<br/>  margin: 0;<br/>  padding: 0;<br/>}<br/><br/>body {<br/>  min-height: 100vh;<br/>  display: grid;<br/>  grid-template-rows: auto 1fr auto;<br/>}<br/>&lt;/style&gt;</span></pre><p id="51f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我同意；几乎是一样的，但是网格解决方案要灵活得多。假设您想要一个在页面级别使用12个网格布局的3列页面。我们是这样做的:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="fbd4" class="mv lt iq mr b be mw mx l my mz">&lt;style&gt;<br/>* {<br/>  padding: 0;<br/>  margin: 0;<br/>}<br/><br/>body {<br/>  min-height: 100vh;<br/>  display: grid;<br/>  grid-template-areas:<br/>    "top    top    top    top    top    top    top    top    top    top    top   top"<br/>    "left   left   main   main   main   main   main   main   main   right  right right"<br/>    "bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom";<br/>  grid-template-rows: auto 1fr auto;<br/>  grid-template-columns: repeat(12, 1fr);<br/>}<br/><br/>header {<br/>  grid-area: top;<br/>}<br/><br/>footer {<br/>  grid-area: bottom;<br/>}<br/><br/>div {<br/>  grid-area: left;<br/>}<br/><br/>main {<br/>  grid-area: main;<br/>}<br/><br/>aside {<br/>  grid-area: right;<br/>}<br/>&lt;/style&gt;<br/><br/>&lt;header&gt;header&lt;/header&gt;<br/>&lt;div&gt;left&lt;/div&gt;<br/>&lt;main&gt;content&lt;/main&gt;<br/>&lt;aside&gt;right&lt;/aside&gt;<br/>&lt;footer&gt;footer&lt;/footer&gt;</span></pre><p id="cafa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:这只是一个例子；您将得到一个更好的标记和类名。</p><p id="140e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这在Chrome Devtools中将是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/573c07e02f12d6e0df041ebb9306f80b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uHPkV2PSH7r_Vq7hUUn_Uw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">The view of a grid in Chrome Devtools</figcaption></figure><p id="d34b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，我们的页眉和页脚跨越了所有12列，左侧、主区域和右侧区域分别跨越了2、7和3列。诀窍是使用<code class="fe nb nc nd mr b">grid-template-areas</code>。您可以在那里阅读我是如何定义我的列的。有了这个定义和元素上的网格区域名称，很明显这在调试布局时会很有帮助——尤其是在Devtools的帮助下。Flexboxes无法真正与CSS网格的调试能力相抗衡。我喜欢在flexboxes上使用网格，特别是对于复杂的布局，我必须在特定的位置放置元素。</p><p id="b1b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，除了显式地编写<code class="fe nb nc nd mr b">grid-template-areas</code>、<code class="fe nb nc nd mr b">grid-templates-rows</code>和<code class="fe nb nc nd mr b">grid-template-columns</code>之外，您还可以使用<code class="fe nb nc nd mr b">grid</code>或<code class="fe nb nc nd mr b">grid-template</code>速记(注意:到目前为止，repeat函数在这里不起作用):</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="c856" class="mv lt iq mr b be mw mx l my mz">body {<br/>  grid:<br/>    "top    top    top    top    top    top    top    top    top    top    top   top" auto<br/>    "left   left   main   main   main   main   main   main   main   right  right right" 1fr<br/>    "bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom" auto<br/>    / 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;<br/>}</span></pre><p id="8855" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">但是响应性呢？<br/> </strong>在flex布局中，您可能会更改<code class="fe nb nc nd mr b">flex-direction</code>并结束一天的工作。我们可以对网格布局做类似的事情。</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="7210" class="mv lt iq mr b be mw mx l my mz">@media (max-width: 600px) {<br/>  body {<br/>    grid-template:<br/>      "top    top    top    top    top    top    top    top    top    top    top    top" auto<br/>      "left   left   left   left   left   left   left   left   left   left   left   left" auto<br/>      "main   main   main   main   main   main   main   main   main   main   main   main" 1fr<br/>      "right  right  right  right  right  right  right  right  right  right  right  right" auto<br/>      "bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom bottom" auto;<br/>  }<br/>}</span></pre><p id="4967" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我同意这看起来很冗长。但是，如果没有复杂的布局可以受益于详细的网格，可以使用更简单的方法，比如我首先展示的方法。这里有一把小提琴供你演奏:<a class="ae kv" href="https://jsfiddle.net/ejmzho47/" rel="noopener ugc nofollow" target="_blank">https://jsfiddle.net/ejmzho47/</a>。</p><h2 id="da1d" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">Makro组件布局</h2><p id="e7cc" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">网格布局也有利于组件布局，如媒体卡。看看下面这个使用flexboxes的例子(这里有一个小提琴<a class="ae kv" href="https://jsfiddle.net/agjvre76/" rel="noopener ugc nofollow" target="_blank">https://jsfiddle.net/agjvre76/</a>):</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="92cc" class="mv lt iq mr b be mw mx l my mz">&lt;style&gt;<br/>* {<br/>  margin: 0;<br/>  padding: 0;<br/>}<br/><br/>body {<br/>  font-family: system-ui;<br/>}<br/><br/>.card {<br/>  max-width: 600px;<br/>  display: flex;<br/>  margin: 5rem auto;<br/>  box-shadow: 2px 1px 3px #0004, 0 0 2px #0003;<br/>}<br/><br/>.card &gt; .content-container {<br/>  padding: 1rem;<br/>}<br/><br/>.card &gt; .content-container h4 {<br/>  font-size: 1.25rem;<br/>}<br/><br/>.card &gt; .content-container p {<br/>  margin-top: 2px;<br/>}<br/>&lt;/style&gt;<br/><br/>&lt;div class="card"&gt;<br/>  &lt;img src="https://via.placeholder.com/100" alt=""&gt;<br/>  &lt;div class="content-container"&gt;<br/>    &lt;h4&gt;Lorem ipsum&lt;/h4&gt;<br/>    &lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="5b11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是使用网格的相同情况(仅CSS，标记保持不变):</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="c6c3" class="mv lt iq mr b be mw mx l my mz">* {<br/>  margin: 0;<br/>  padding: 0;<br/>}<br/><br/>body {<br/>  font-family: system-ui;<br/>}<br/><br/>.card {<br/>  max-width: 600px;<br/>  display: grid;<br/>  grid: "card-media card-content" / auto 1fr;<br/>  margin: 5rem auto;<br/>  box-shadow: 2px 1px 3px #0004, 0 0 2px #0003;<br/>}<br/><br/>.card &gt; img {<br/>  grid-area: card-media;<br/>}<br/><br/>.card &gt; .content-container {<br/>  grid-area: card-content;<br/>  padding: 1rem;<br/>}<br/><br/>.card &gt; .content-container h4 {<br/>  font-size: 1.25rem;<br/>}<br/><br/>.card &gt; .content-container p {<br/>  margin-top: 2px;<br/>}</span></pre><p id="9706" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一把小提琴:【https://jsfiddle.net/3w0u2cny/】T2。</p><p id="c4b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我相信你已经注意到例子是不同的。例如，flexbox示例中图像的默认行为是随其内容拉伸，而网格中的图像不会拉伸。我们也可以使用网格来实现这一点，但我想更多地关注总体布局部分——尤其是网格区域。如您所见，我为卡片定义了两个网格区域:“卡片媒体”和“卡片内容”</p><p id="3250" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当我们想对卡片的布局进行修改时，我们只需修改网格区域的分配，甚至是网格模板。</p><p id="94c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们想把图像放在右边而不是左边，我们只需修改这行代码:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="3c21" class="mv lt iq mr b be mw mx l my mz">grid: "card-content card-media" / 1fr auto;</span></pre><p id="9dbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:当事情很重要的时候，不要真的那样做。使用CSS改变DOM元素的顺序是不好的做法。它可以对你的网站的可访问性做各种“有趣”的事情。这仅仅是一个展示CSS网格威力的例子。这里的事情是:有了命名的布局区域，我们就有了一个定义，我们期望我们的布局的特定部分在哪里。<br/>我重复一遍:不要轻易打乱DOM元素的顺序。</p><p id="795b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在处理专业设计时，我们可以添加详细的网格来实现布局。看看Figma的这个例子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/435127134bedb36b859df5081773c329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*D_uiKiFKk_Xpd_wj.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Original article: <a class="ae kv" href="https://help.figma.com/hc/en-us/articles/360040450513-Create-layout-grids-with-grids-columns-and-rows" rel="noopener ugc nofollow" target="_blank">https://help.figma.com/hc/en-us/articles/360040450513-Create-layout-grids-with-grids-columns-and-rows</a></figcaption></figure><p id="7cec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">专业艺术家通常使用网格。现在，我们可以用CSS来描述这个布局。标题为“保持正轨”的卡片是最有趣的一张。图标在第一行第三列的末尾对齐。最后一行可能跨越三列。该卡的CSS定义如下所示:</p><pre class="kg kh ki kj gt mq mr ms bn mt mu bi"><span id="e435" class="mv lt iq mr b be mw mx l my mz">.figma-card {<br/>  display: grid;<br/>  grid: ". . icon" 1fr ". . ." 1fr "content content content" 1fr / 1fr 1fr 1fr;<br/>  gap: 1rem;<br/>}</span></pre><p id="944e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:网格模板区域定义中的点表示该列不应该被占用。</p><p id="d68f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/e7844ff9fa1cbdfa2a607a478f0e1157.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*OI64RD02ktAmQxIFg-EFgw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A simple example of Figmas’ grid</figcaption></figure><p id="ec18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，Chromes的Devtools帮助我们看到我们的网格确实大致遵循了Figmas的例子。</p><p id="bd4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">小提琴在这里:<a class="ae kv" href="https://jsfiddle.net/4p3ujo71/" rel="noopener ugc nofollow" target="_blank">https://jsfiddle.net/4p3ujo71/</a></p><h2 id="6326" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">网络布局的未来</h2><p id="f006" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">另外两个特性将很快出现在网络上，你应该密切关注。子网格和容器查询将极大地丰富我在本文中概述的技术。您可以在此阅读有关容器查询的更多信息:</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/css-container-queries-3393fbeb6ea8"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">CSS容器查询</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">什么是容器查询，它们解决了哪些问题？</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kp nj"/></div></div></a></div><p id="a757" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我迫不及待地想看看网页设计的未来会带来什么！</p><p id="a355" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这些了，伙计们。感谢您的阅读。</p><p id="efbc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ny">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">plain English . io</em></strong></a><em class="ny">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">免费周报</em> </strong> </a> <em class="ny">。关注我们上</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">LinkedIn</em></strong></a><strong class="ky ir"><em class="ny"/></strong><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ny">YouTube</em></strong></a><strong class="ky ir"><em class="ny"/></strong><em class="ny">和</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">不和</em> </strong> </a>  <em class="ny">对成长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ny">电路</em> </strong> </a> <strong class="ky ir"> <em class="ny">。</em> </strong></p></div></div>    
</body>
</html>