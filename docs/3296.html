<html>
<head>
<title>How to Animate the Page Transition in Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Next.js中制作页面过渡动画</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-animate-the-page-transition-in-next-js-68c7b888dce3?source=collection_archive---------3-----------------------#2022-08-16">https://javascript.plainenglish.io/how-to-animate-the-page-transition-in-next-js-68c7b888dce3?source=collection_archive---------3-----------------------#2022-08-16</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="49ff" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">仅用五行代码在Next.js中制作页面转换动画。</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/11a241a9c5ad8db2257fa12b0c0d945d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nAZ8IF9T4TT2vPdoy8bayw.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://www.pexels.com/@gabriela-palai-129458?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Gabriela Palai</a> from <a class="ae kw" href="https://www.pexels.com/photo/person-standing-on-brown-wooden-dock-395196/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="60bd" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">动画给你的应用程序带来了生命。今天我们将看看如何给<strong class="kz is"> Next.js </strong>应用程序页面转换添加动画。</p><h1 id="be95" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">工具</h1><p id="8502" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">为此，我们将使用一个名为<code class="fe mq mr ms mt b"><a class="ae kw" href="https://www.framer.com/motion/" rel="noopener ugc nofollow" target="_blank">framer-motion</a></code>的奇妙的库。这个库被称为React的生产就绪动画库。</p><p id="0a1e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这个库的另一个优点是它完全支持服务器端渲染。因此，这将与Next.js理念完美契合</p><p id="f785" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们开始吧。</p><h1 id="a725" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">安装依赖项</h1><p id="0bb1" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">首先，安装依赖项:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="41bd" class="my lu ir mt b gz mz na l nb nc">yarn add framer-motion</span></pre><h1 id="9bab" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">添加动画</h1><p id="9916" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">现在转到你的<code class="fe mq mr ms mt b">_app.tsx</code>文件，在顶部导入<code class="fe mq mr ms mt b">motion</code>组件。</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="1cd7" class="my lu ir mt b gz mz na l nb nc">import { motion } from 'framer-motion'</span></pre><p id="7f25" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">接下来，使用下面的<code class="fe mq mr ms mt b">motion.div</code>包装您的组件:</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nd ne l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">_app.tsx</figcaption></figure><p id="849a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这段代码将激活我们的初始页面加载。因为你包装了<code class="fe mq mr ms mt b">Component</code>，所以它只会在你第一次加载页面时被触发。</p><p id="7be6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">但是我们希望每次页面切换都有动画，对吗？就这么办吧。</p><h1 id="39dd" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">页面变化时的动画</h1><p id="83dc" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">我们知道页面的改变意味着<code class="fe mq mr ms mt b">Nextjs</code>应用程序中路径的改变。所以我们将利用这个概念来使我们的页面生动起来。</p><p id="dcab" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们将分解路由器组件，并为运动组件添加关键元素</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nd ne l"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">_app.tsx</figcaption></figure><p id="cb01" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">所以每当我们从一页到另一页时，路径都会改变。结果，<code class="fe mq mr ms mt b">motion.div</code>的键也将改变，动画将被触发。</p><p id="4054" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">今天到此为止。祝您愉快！</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="bcc8" class="my lu ir mt b gz mz na l nb nc"><strong class="mt is"><em class="nf">Get in touch with me via </em></strong><a class="ae kw" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"><strong class="mt is"><em class="nf">LinkedIn</em></strong></a><strong class="mt is"><em class="nf"> or my </em></strong><a class="ae kw" href="https://www.mohammadfaisal.dev/" rel="noopener ugc nofollow" target="_blank"><strong class="mt is"><em class="nf">Personal Website</em></strong></a><strong class="mt is"><em class="nf">.</em></strong></span></pre><div class="ng nh gq gs ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-show-loader-on-page-changes-in-next-js-102edd0ec98d"><div class="nk ab fp"><div class="nl ab nm cl cj nn"><h2 class="bd is gz z fq no fs ft np fv fx iq bi translated">如何在Next.js中显示页面变化的加载器</h2><div class="nq l"><h3 class="bd b gz z fq no fs ft np fv fx dk translated">让你的用户参与一个伟大的视觉反应！</h3></div><div class="nr l"><p class="bd b dl z fq no fs ft np fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kq nj"/></div></div></a></div></div><div class="ab cl ny nz hv oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ik il im in io"><p id="361f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nf">更多内容请看</em><a class="ae kw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nf">plain English . io</em></strong></a><em class="nf">。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nf">免费周报</em> </strong> </a> <em class="nf">。关注我们关于</em><a class="ae kw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nf">Twitter</em></strong></a><a class="ae kw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nf">LinkedIn</em></strong></a><em class="nf"/><a class="ae kw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nf">YouTube</em></strong></a><em class="nf"/><a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nf">不和</em> </strong> </a> <em class="nf">。</em></p></div></div>    
</body>
</html>