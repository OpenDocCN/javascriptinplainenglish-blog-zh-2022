<html>
<head>
<title>The Correct Way to Pass Methods as Event Handlers in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中将方法作为事件处理程序传递的正确方式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/the-correct-way-to-pass-methods-as-event-handlers-in-javascript-f8aff0e228a4?source=collection_archive---------13-----------------------#2022-03-10">https://javascript.plainenglish.io/the-correct-way-to-pass-methods-as-event-handlers-in-javascript-f8aff0e228a4?source=collection_archive---------13-----------------------#2022-03-10</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="61b8" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">那些括号会产生很大的差别并改变结果</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/23a2c76acdc62a3550c7a0de9b4aea4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*76QIyuw21k0jdNYWa5FvUw.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@altumcode?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">AltumCode</a> on <a class="ae ks" href="https://unsplash.com/@altumcode?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dae7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">前几天，我的一个同事在JS方法中没有收到预期的参数。他正在<strong class="kv io">尝试</strong>让一个第三方Vue.js插件在一个项目中工作(就像我们所有人在信心波动时所做的那样)。</p><p id="17f0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">让我们看一个简单的普通Javascript例子，但是这个规则适用于任何地方(包括你最喜欢的JS框架)。</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="a41f" class="lu lv in lq b gy lw lx l ly lz">document.getElementById("just-do-it").addEventListener("click", spreadHappiness());<br/><br/>function spreadHappiness() {<br/>    console.log('You are awesome');<br/>}</span></pre><p id="abbf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你认为当用户点击那个按钮时会发生什么？</p><p id="9488" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">猜对了？</p><p id="49d1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">没什么！</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/ba3c100e2c0ccfa8be216a9c821a545f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*0idThE4JFMDeiqKz"/></div></figure><p id="3a29" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">该方法在页面加载时被调用，单击按钮时不会发生任何事情。嗯…</p><p id="9d95" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你有没有注意到我们在第一行的方法名<code class="fe mb mc md lq b">spreadHappiness()</code>后面加了括号<code class="fe mb mc md lq b">()</code>？</p><p id="60e7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是典型的<em class="me">引用调用</em>对<em class="me">值调用</em>的事情。</p><p id="d3f5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那一行应该这样写(去掉括号):</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="5999" class="lu lv in lq b gy lw lx l ly lz">document.getElementById("just-do-it").addEventListener("click", spreadHappiness);</span></pre><p id="2268" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这样，单击该按钮就会像预期的那样在浏览器控制台中记录该语句。</p><p id="b546" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，您知道事件处理程序接收一个基于<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/Event" rel="noopener ugc nofollow" target="_blank">事件</a>接口的对象作为参数吗？这意味着您可以在您的方法中使用事件元数据。像这样:</p><pre class="kd ke kf kg gt lp lq lr ls aw lt bi"><span id="6ed3" class="lu lv in lq b gy lw lx l ly lz">function spreadHappiness(event) {<br/>    console.log(event.type); // click<br/>}</span></pre><p id="3e68" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，在大多数情况下，当将方法名作为事件处理程序传递时，应该跳过这些括号。当需要动态获取事件处理程序时，调用另一个方法并返回它是有意义的。</p><h1 id="3b6d" class="mf lv in bd mg mh mi mj mk ml mm mn mo jt mp ju mq jw mr jx ms jz mt ka mu mv bi translated">关闭</h1><p id="ed1f" class="pw-post-body-paragraph kt ku in kv b kw mw jo ky kz mx jr lb lc my le lf lg mz li lj lk na lm ln lo ig bi translated">简而言之，在指定事件处理程序<strong class="kv io">时，在方法名后面加上括号并不是一件可选的事情。它改变了结果。</strong></p><p id="d410" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">method(): <em class="me">立即执行，返回值用作事件处理程序。</em></p><p id="b2ed" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">方法:<em class="me">用作事件处理程序，它在被调用时接收参数。</em></p><p id="99fb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">同样，<em class="me">进行方法调用</em>和<em class="me">传递方法引用</em>是两回事，开发者，尤其是初学者，应该意识到这种区别。</p><p id="5cc5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你的朋友需要知道这些吗？把这篇文章分享给他们，让他们的调试生活更轻松。</p></div><div class="ab cl nb nc hr nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ig ih ii ij ik"><p id="6c69" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="me">原载于</em><a class="ae ks" href="https://blog.freshbits.in/the-correct-way-to-pass-methods-as-event-handlers-in-javascript" rel="noopener ugc nofollow" target="_blank"><em class="me">https://blog . fresh bits . in</em></a><em class="me">。</em></p><p id="f6f6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="me">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="me">plain English . io</em></strong></a><em class="me">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="me">免费周报</em> </strong> </a> <em class="me">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="me">Twitter</em></strong></a><em class="me">和</em><strong class="kv io"><em class="me"/></strong><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="me">LinkedIn</em></strong></a><em class="me">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="me">社区</em> </strong> </a> <em class="me">。</em></p></div></div>    
</body>
</html>