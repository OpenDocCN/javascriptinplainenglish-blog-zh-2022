<html>
<head>
<title>How to Check if a Checkbox is Checked in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中检查复选框是否被选中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-check-if-checkbox-is-checked-834a50ff16ec?source=collection_archive---------4-----------------------#2022-12-14">https://javascript.plainenglish.io/react-check-if-checkbox-is-checked-834a50ff16ec?source=collection_archive---------4-----------------------#2022-12-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a14332cd74e27f6b3d142d47ce739186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3uUlwYLcWkLZJ5eZgep2fA.png"/></div></div></figure><p id="087b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">要检查React中的复选框是否已选中，请执行以下操作:</p><ol class=""><li id="1741" class="kt ku in jx b jy jz kc kd kg kv kk kw ko kx ks ky kz la lb bi translated">创建一个布尔状态变量来存储复选框的值。</li><li id="7764" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">在输入复选框上设置一个<code class="fe lh li lj lk b">onChange</code>事件监听器。</li><li id="2198" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">在监听器中，使用事件对象的<code class="fe lh li lj lk b">target.checked</code>属性来检查复选框是否被选中。</li><li id="a753" class="kt ku in jx b jy lc kc ld kg le kk lf ko lg ks ky kz la lb bi translated">将<code class="fe lh li lj lk b">checked</code>值存储在一个状态变量中，以便能够从事件监听器外部检查复选框是否被选中。</li></ol><p id="560e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lh li lj lk b">App.js</code></p><pre class="ll lm ln lo gt lp lk lq bn lr ls bi"><span id="e6b4" class="lt lu in lk b be lv lw l lx ly">import { useState } from 'react';<br/><br/>export default function App() {<br/>  const [agreement, setAgreement] = useState(false);<br/>  const handleChange = (event) =&gt; {<br/>    setAgreement(event.target.checked);<br/>  }<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;div id="app"&gt;<br/>        &lt;input<br/>          type="checkbox"<br/>          name="agreement"<br/>          onChange={handleChange}<br/>        /&gt;<br/>        &lt;label for="agreement"&gt;<br/>          I agree to the terms and conditions<br/>        &lt;/label&gt;<br/>        &lt;br /&gt;&lt;br /&gt;<br/>        &lt;button disabled={!agreement}&gt;Continue&lt;/button&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/dcbffafa50152cc2800d336e6ebd8744.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/0*lqL_2cABsYNVrWo0.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">The button is disabled depending on the checkbox’s checked value.</figcaption></figure><p id="f9a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">事件对象的<code class="fe lh li lj lk b">target</code>属性代表复选框<code class="fe lh li lj lk b">input</code>元素；它的<code class="fe lh li lj lk b">checked</code>属性的值表示复选框是否被选中。</p><p id="166d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">事件对象被传递给<code class="fe lh li lj lk b">onChange</code>监听器，每当复选框被选中或取消选中时，这个监听器都会被调用。</p><p id="1c98" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们使用<code class="fe lh li lj lk b"><a class="ae me" href="https://reactjs.org/docs/hooks-state.html" rel="noopener ugc nofollow" target="_blank">useState</a></code> React钩子来存储复选框的选中状态。<code class="fe lh li lj lk b">useState</code>返回两个值的数组；第一个是存储状态的变量，第二个是在被调用时更新状态的函数。</p><p id="13dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">所以每次勾选或取消勾选复选框时，<code class="fe lh li lj lk b">agreement</code>状态变量会自动切换到<code class="fe lh li lj lk b">true</code>或<code class="fe lh li lj lk b">false</code>。</p><p id="ca79" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当<code class="fe lh li lj lk b">agreement</code>分别为<code class="fe lh li lj lk b">true</code>和<code class="fe lh li lj lk b">false</code>时，我们将按钮的<code class="fe lh li lj lk b">disabled</code>属性设置为<code class="fe lh li lj lk b">agreement</code>的反相来禁用和启用它。</p><h1 id="0fd6" class="mf lu in bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">检查是否勾选了参考复选框</h1><p id="5063" class="pw-post-body-paragraph jv jw in jx b jy nc ka kb kc nd ke kf kg ne ki kj kk nf km kn ko ng kq kr ks ig bi translated">我们可以创建一个<a class="ae me" href="https://reactjs.org/docs/uncontrolled-components.html" rel="noopener ugc nofollow" target="_blank">非受控</a>复选框，并检查它是否被<a class="ae me" href="https://reactjs.org/docs/refs-and-the-dom.html" rel="noopener ugc nofollow" target="_blank"> ref </a>选中，而不是用React状态控制复选框的选中值。</p><p id="bbc8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><p id="bdd0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lh li lj lk b">App.js</code></p><pre class="ll lm ln lo gt lp lk lq bn lr ls bi"><span id="742f" class="lt lu in lk b be lv lw l lx ly">import { useState, useRef } from 'react';<br/><br/>export default function App() {<br/>  const [message, setMessage] = useState('');<br/>  const checkbox = useRef();<br/>  const handleClick = () =&gt; {<br/>    if (checkbox.current.checked) {<br/>      setMessage('You know JS');<br/>    } else {<br/>      setMessage("You don't know JS");<br/>    }<br/>  }<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;div id="app"&gt;<br/>        &lt;input<br/>          type="checkbox"<br/>          name="js"<br/>          ref={checkbox}<br/>        /&gt;<br/>        &lt;label for="js"&gt; JavaScript &lt;/label&gt;<br/>        &lt;br /&gt;<br/>        &lt;button onClick={handleClick}&gt;Done&lt;/button&gt;<br/>        &lt;p&gt;{message}&lt;/p&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div &gt;<br/>  );<br/>}</span></pre><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/5b1a5f76d851b8e15e5b9b39d21195b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/0*PbrkhlT8GT5JhYg4.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk">A message depending on the checkbox’s checked value is displayed.</figcaption></figure><p id="1f16" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">受控输入中的数据由React state处理，但是对于非受控输入，它由DOM本身处理。这就是为什么上例中的<code class="fe lh li lj lk b">input</code>复选框没有设置<code class="fe lh li lj lk b">value</code>道具或<code class="fe lh li lj lk b">onChange</code>事件处理程序。相反，我们检查复选框是否被React ref选中。当用户切换复选框时，DOM更新选中的值。</p><p id="f49f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们创建一个带有<code class="fe lh li lj lk b"><a class="ae me" href="https://reactjs.org/docs/hooks-reference.html#useref" rel="noopener ugc nofollow" target="_blank">useRef</a></code>钩子的ref对象，并将其分配给复选框<code class="fe lh li lj lk b">input</code>的<code class="fe lh li lj lk b">ref</code>道具。这样做将ref对象的<code class="fe lh li lj lk b">current</code>属性设置为代表checkbox的DOM对象。</p><p id="8cb5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe lh li lj lk b">useRef</code>返回一个可变对象，当组件更新时，该对象保持其值。此外，修改该对象的<code class="fe lh li lj lk b">current</code>属性的值不会导致重新渲染。这不同于从<code class="fe lh li lj lk b">useState</code>钩子返回的<code class="fe lh li lj lk b">setState</code>更新函数。</p><p id="1f2f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">尽管React文档建议使用受控组件，但非受控组件也有一些优势。如果表单非常简单，不需要即时验证，并且只需要在提交表单时访问值，那么您可能更喜欢使用它们。</p></div><div class="ab cl ni nj hr nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ig ih ii ij ik"><p id="f6a4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="np">最初发表于</em><a class="ae me" href="https://cbdev.link/a242a1" rel="noopener ugc nofollow" target="_blank"><em class="np">codingbeautydev.com</em></a></p><h1 id="ae3b" class="mf lu in bd mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy nc ka kb kc nd ke kf kg ne ki kj kk nf km kn ko ng kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="ll lm ln lo gt jo gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae me" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>