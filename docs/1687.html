<html>
<head>
<title>How to Clear the References of Multiple Ag-Grid Tables Together in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中一起清除多个Ag-Grid表的引用</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-how-can-you-clear-the-references-of-multiple-ag-grid-tables-together-353610b0c126?source=collection_archive---------5-----------------------#2022-04-12">https://javascript.plainenglish.io/angular-how-can-you-clear-the-references-of-multiple-ag-grid-tables-together-353610b0c126?source=collection_archive---------5-----------------------#2022-04-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ef2a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何在Angular中一起清除多个Ag-Grid表的参考的指南。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4113b5acc750f5224493080192a6d141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pTGajfmZEYgl8EjY"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@cgower?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christopher Gower</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d1ab" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这个故事关注两点:</p><ol class=""><li id="5dbc" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">如何通过组件中的单个变量跟踪多个Ag-Grid表。</li><li id="81e2" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated">当组件被销毁时，销毁所有Ag-Grid参考。</li></ol><p id="6ea7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们将使用2个组件来演示这个用例。ChildAComponent包含2个Ag-Grid表和2组数据，添加ChildBComponent只是为了检查当我们切换到ChildBComponent(即ChildAComponent被销毁)时如何删除Ag-Grid引用。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi md"><img src="../Images/0a6113d494b379e3fd0a7b89ba45cc42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WsOUphA9aGArbdXxNhMawg.png"/></div></div></figure><p id="5983" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">正如您在上面的应用程序截图中看到的，我们有2个Ag-Grid表显示用户和ToDos数据。</p><p id="cf2e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">子组件模板。</strong></p><p id="59dd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">Ag-Grid表是不言自明的。</p><p id="ec86" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了跟踪这两个表，我们将事件对象和一个唯一的字符串作为参数传递给<strong class="kv io">ongriddready()</strong>。我们将在课堂上看到，如何利用弦来实现我们的目标。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="64e6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">儿童组件类</strong></p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="me mf l"/></div></figure><ol class=""><li id="22d4" class="lp lq in kv b kw kx kz la lc lr lg ls lk lt lo lu lv lw lx bi translated">我们已经从<strong class="kv io"> users.ts </strong>和<strong class="kv io"> todos.ts </strong>中导出了用户和ToDos数据。数据在这里并不重要。</li><li id="73f0" class="lp lq in kv b kw ly kz lz lc ma lg mb lk mc lo lu lv lw lx bi translated"><strong class="kv io"> gridList </strong>是一个包含两个属性<strong class="kv io"> usersGrid </strong>和<strong class="kv io"> todoGrid </strong>的对象。这是传递给模板中的<strong class="kv io">ongriddready()</strong>的两个字符串。</li></ol><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="151a" class="ml mm in mh b gy mn mo l mp mq">public <strong class="mh io">gridList </strong>= { <br/><strong class="mh io">usersGrid</strong>: {}, <br/><strong class="mh io">todoGrid</strong>: {}, <br/>};</span></pre><p id="d444" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">3.现在让我们检查一下<strong class="kv io">ongriddready()</strong>。category参数只不过是我们之前传递的唯一字符串。正如我们所知，<strong class="kv io">网格列表</strong>的两个属性只不过是作为参数传递给两个网格的<strong class="kv io">ongriddready()</strong>的两个唯一字符串。</p><p id="0166" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在该方法中，我们正在访问<strong class="kv io">网格列表</strong>的每个属性。每个属性都只是一个空对象。我们正在给每个对象添加一个<strong class="kv io"> API属性</strong>，这个<strong class="kv io"> API属性</strong>被设置为<strong class="kv io"> params.api. </strong></p><pre class="kd ke kf kg gt mg mh mi mj aw mk bi"><span id="188c" class="ml mm in mh b gy mn mo l mp mq"><strong class="mh io">onGridReady(params, category) {</strong> <br/><strong class="mh io">this.gridList[category].api = params.api; </strong><br/>console.log(category, this.gridList[category]); <br/>}</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mr"><img src="../Images/5cbe35bc2c00af831c3d1fda100a4cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RcUw99IRHTIixR6e3iEVZQ.png"/></div></div></figure><p id="197c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的截图中，我们已经记录了<strong class="kv io"> usersGrid </strong>和<strong class="kv io"> todoGrid </strong>的值。</p><p id="2b8a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">4.当我点击<strong class="kv io">子B </strong>按钮时，我们切换到<strong class="kv io">子B组件。</strong>调用<strong class="kv io"> ngOnDestroy() </strong>生命周期钩子。在这个钩子中，我们遍历<strong class="kv io"> gridList的每个属性，</strong>访问API属性，然后调用<strong class="kv io"> destroy()。</strong></p><p id="be01" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如您所见，在下面的截图中,<strong class="kv io"> destroyCalled属性</strong>被设置为true:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi md"><img src="../Images/7155c8898766ab5a5f7b3e1ee355fc50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B3lFPF4BYmnSMyDAYEPVXg.png"/></div></div></figure><p id="8a69" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您可以查看以下全部作品:</p><div class="ms mt gp gr mu mv"><a href="https://stackblitz.com/edit/angular-fcm7m4?file=src/child-component-a/child-component-a.component.ts" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd io gy z fp na fr fs nb fu fw im bi translated">角形(叉形)堆叠</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">一个基于rxjs，tslib，core-js，zone.js，@angular/core，@angular/forms，@angular/common的angular-cli项目…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">stackblitz.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj km mv"/></div></div></a></div><p id="f190" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nk">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nk">plain English . io</em></strong></a><em class="nk">。报名参加我们的</em><strong class="kv io"><em class="nk"/></strong><a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nk">免费周报</em> </strong> </a> <em class="nk">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nk">Twitter</em></strong></a><em class="nk">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nk">LinkedIn</em></strong></a><em class="nk">。加入我们的</em><strong class="kv io"><em class="nk"/></strong><a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nk">社区不和谐</em> </strong> </a> <em class="nk">。</em></p></div></div>    
</body>
</html>