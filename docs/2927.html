<html>
<head>
<title>Create an Express Boilerplate with TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript创建快速样板文件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-an-express-boilerplate-with-typescript-810eb6c29196?source=collection_archive---------2-----------------------#2022-07-15">https://javascript.plainenglish.io/create-an-express-boilerplate-with-typescript-810eb6c29196?source=collection_archive---------2-----------------------#2022-07-15</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="8ca3" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">后端API入门的最低要求</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/be348ed520b4d053aaa9e0c6d1e8b9d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjuZnAsQiGFIuE_-X-wGPQ.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@marvelous?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Marvin Meyer</a> on <a class="ae kw" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="029d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">Express是Node.js应用程序最流行的框架。它非常通用，没有任何限制。所以你可以随心所欲，随心所欲地设计你的应用程序。</p><p id="85b8" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">今天，我们将使用Express来创建一个HTTP服务器，它可以接收请求，并看看如何用所需的中间件正确地设置它。</p><p id="2f00" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果你想要一个没有明确支持的样板文件，你可以参考下面的文章。</p><h2 id="3de9" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">在我们开始之前…</h2><p id="3c5a" class="pw-post-body-paragraph kx ky ir kz b la mm js lc ld mn jv lf lg mo li lj lk mp lm ln lo mq lq lr ls ik bi translated">我用ExpressJS和Typescript 创建了一个<a class="ae kw" href="https://github.com/Mohammad-Faisal/professional-express-sequelize-docker-boilerplate" rel="noopener ugc nofollow" target="_blank">专业样板。本文是这个系列的一部分。你可以在下面找到所有的文章。</a></p><pre class="kh ki kj kk gu mr ms mt bn mu mv bi"><span id="7fd0" class="mw lu ir ms b be mx my l mz na"><strong class="ms is">* </strong><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/create-an-express-boilerplate-with-typescript-810eb6c29196"><strong class="ms is">Creating a ExpressJS + Typescript Boilerplate</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/how-to-set-up-linter-formatter-for-node-js-d6b34c0c8be5"><strong class="ms is">How to setup Linter and Formatter for NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" href="https://blog.devgenius.io/how-to-handle-multiple-environments-in-nodejs-7391d2db2abe" rel="noopener ugc nofollow" target="_blank"><strong class="ms is">How to handle multiple environments in NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/error-handling-in-node-js-like-a-pro-ed210baa0600"><strong class="ms is">Error Handling in NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" href="https://medium.com/p/c69f2494cf18" rel="noopener"><strong class="ms is">Request Validation in NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" href="https://levelup.gitconnected.com/use-docker-with-nodejs-projects-like-a-pro-a9e7504e1308" rel="noopener ugc nofollow" target="_blank"><strong class="ms is">Using Docker Professionally with NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/node-js-database-with-docker-for-local-development-285212c5162f"><strong class="ms is">Using Docker for Local Development in NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" rel="noopener ugc nofollow" target="_blank" href="/node-js-logging-for-professionals-6be07c003e7f"><strong class="ms is">Logging in NodeJS</strong></a><strong class="ms is"><br/><br/>* </strong><a class="ae kw" href="https://levelup.gitconnected.com/kubernetes-deployment-with-nodejs-made-easy-eaeec32b62e3" rel="noopener ugc nofollow" target="_blank"><strong class="ms is">Kubernetes with NodeJS</strong></a></span></pre><p id="1d9f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我们开始吧！</p><h2 id="aec4" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">获取Node.js样板文件</h2><p id="eb5a" class="pw-post-body-paragraph kx ky ir kz b la mm js lc ld mn jv lf lg mo li lj lk mp lm ln lo mq lq lr ls ik bi translated">让我们首先克隆<a class="ae kw" href="https://github.com/Mohammad-Faisal/nodejs-typescript-skeleton" rel="noopener ugc nofollow" target="_blank">样板存储库</a>，在这里我们有一个工作Node.js应用程序，已经设置了TypeScript、ESLint和Prettier。我们将在此基础上集成Express。</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="9f52" class="lt lu ir ms b gz ne nf l mz na">git clone <a class="ae kw" href="https://github.com/Mohammad-Faisal/nodejs-typescript-skeleton.git" rel="noopener ugc nofollow" target="_blank">https://github.com/Mohammad-Faisal/nodejs-typescript-skeleton.git</a></span></pre><h2 id="7fe0" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">安装依赖项</h2><p id="7115" class="pw-post-body-paragraph kx ky ir kz b la mm js lc ld mn jv lf lg mo li lj lk mp lm ln lo mq lq lr ls ik bi translated">然后进入项目内部并安装依赖项:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="47af" class="lt lu ir ms b gz ne nf l mz na">cd nodejs-typescript-skeleton<br/>yarn add Express</span></pre><p id="43dc" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">另外，添加Express模块的类型定义:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="1375" class="lt lu ir ms b gz ne nf l mz na">yarn add -D @types/express</span></pre><h2 id="c459" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">测试一下！</h2><p id="18ff" class="pw-post-body-paragraph kx ky ir kz b la mm js lc ld mn jv lf lg mo li lj lk mp lm ln lo mq lq lr ls ik bi translated">进入src/index.ts文件，导入依赖项，并创建一个基本的Express应用程序:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="33d2" class="lt lu ir ms b gz ne nf l mz na">import express, { Application, Request, Response } from "express";</span><span id="232b" class="lt lu ir ms b gz ng nf l mz na">const app: Application = express();</span></pre><p id="085a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后，让我们创建一个接受GET请求并返回结果的基本路由:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="351c" class="lt lu ir ms b gz ne nf l mz na">app.get("/", async (req: Request, res: Response): Promise&lt;Response&gt; =&gt; {<br/>  return res.status(200).send({<br/>    message: "Hello World!",<br/>  });<br/>});</span></pre><p id="6591" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后在端口3000上启动服务器:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="105a" class="lt lu ir ms b gz ne nf l mz na">const PORT = 3000;</span><span id="db8f" class="lt lu ir ms b gz ng nf l mz na">try {<br/>  app.listen(PORT, (): void =&gt; {<br/>    console.log(`Connected successfully on port ${PORT}`);<br/>  });<br/>} catch (error: any) {<br/>  console.error(`Error occured: ${error.message}`);<br/>}</span></pre><p id="d238" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后运行应用程序:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="2041" class="lt lu ir ms b gz ne nf l mz na">yarn dev</span></pre><p id="a36e" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">继续点击下面的URL <code class="fe nh ni nj ms b">http://localhost:3000/</code>，你应该会看到下面的回应:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="0434" class="lt lu ir ms b gz ne nf l mz na">{ "message": "Hello World!" }</span></pre><h2 id="a775" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">添加Bodyparser</h2><p id="e9e8" class="pw-post-body-paragraph kx ky ir kz b la mm js lc ld mn jv lf lg mo li lj lk mp lm ln lo mq lq lr ls ik bi translated">现在，这是开始使用Express的最低要求。但是在现实生活中，我们需要一些东西来让服务器正常工作。</p><p id="3608" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了在Express中处理HTTP POST请求，我们需要安装一个中间件模块<a class="ae kw" href="https://www.npmjs.com/package/body-parser" rel="noopener ugc nofollow" target="_blank"> body-parser </a>。</p><p id="ca45" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">让我们先安装它:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="24c4" class="lt lu ir ms b gz ne nf l mz na">yarn add body-parser<br/>yarn add -D @types/body-parser</span></pre><p id="18e2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后在index.ts文件中使用它:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="2a77" class="lt lu ir ms b gz ne nf l mz na">import bodyParser from "body-parser";</span><span id="f3b8" class="lt lu ir ms b gz ng nf l mz na">const app: Application = express();</span><span id="1845" class="lt lu ir ms b gz ng nf l mz na">app.use(bodyParser.json());<br/>app.use(bodyParser.urlencoded({ extended: true }));</span></pre><p id="5783" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">并添加另一个路由来处理HTTP POST请求:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="629c" class="lt lu ir ms b gz ne nf l mz na">app.post("/post", async (req: Request, res: Response): Promise&lt;Response&gt; =&gt; {<br/>  console.log(req.body);<br/>  return res.status(200).send({<br/>    message: "Hello World from post!",<br/>  });<br/>});</span></pre><p id="59bd" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您会注意到，在路由处理程序中，我们可以通过以下方式获取请求体:</p><pre class="kh ki kj kk gu mr ms nb nc aw nd bi"><span id="4dbe" class="lt lu ir ms b gz ne nf l mz na">req.body;</span></pre><p id="0983" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">这是可能的，因为使用了body-parser。</p><h2 id="f5a0" class="lt lu ir bd lv lw lx dn ly lz ma dp mb lg mc md me lk mf mg mh lo mi mj mk ml bi translated">结论</h2><p id="8bc9" class="pw-post-body-paragraph kx ky ir kz b la mm js lc ld mn jv lf lg mo li lj lk mp lm ln lo mq lq lr ls ik bi translated">就是这样。现在，您已经有了一个可以接收HTTP请求的基本express应用程序。</p><p id="56bb" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">希望你今天学到了新东西。祝您愉快！</p><p id="7750" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><strong class="kz is"> <em class="nk">想连接？</em>T12】</strong></p><p id="e216" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nk">可以通过</em><a class="ae kw" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nk">LinkedIn</em></strong></a><em class="nk">或者我的</em> <a class="ae kw" href="https://www.mohammadfaisal.dev/blog" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nk">个人网站</em> </strong> </a> <strong class="kz is"> <em class="nk">联系我。</em>T19】</strong></p><h1 id="c2a3" class="nl lu ir bd lv nm nn no ly np nq nr mb jx ns jy me ka nt kb mh kd nu ke mk nv bi translated">Github知识库</h1><div class="nw nx gq gs ny nz"><a href="https://github.com/Mohammad-Faisal/express-typescript-skeleton" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fp"><div class="ob ab oc cl cj od"><h2 class="bd is gz z fq oe fs ft of fv fx iq bi translated">GitHub-Mohammad-fais al/express-Typescript-skeleton:支持类型脚本的ExpressJS样板文件</h2><div class="og l"><h3 class="bd b gz z fq oe fs ft of fv fx dk translated">今天我们将把Typescript与NodeJS样板文件集成在一起。如果您对如何使用…设置Typescript感兴趣</h3></div><div class="oh l"><p class="bd b dl z fq oe fs ft of fv fx dk translated">github.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on kq nz"/></div></div></a></div><p id="a2ef" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="nk">更多内容请看</em> <a class="ae kw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nk">说白了就是</em> </strong> </a> <em class="nk">。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nk">免费每周简讯</em> </strong> </a> <em class="nk">。关注我们</em><a class="ae kw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nk">Twitter</em></strong></a><strong class="kz is"><em class="nk"/></strong><em class="nk">和</em><a class="ae kw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="nk">LinkedIn</em></strong></a><em class="nk">。查看我们的</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nk">社区不和谐</em> </strong> </a> <em class="nk">加入我们的</em> <a class="ae kw" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="nk">人才集体</em> </strong> </a> <em class="nk">。</em></p></div></div>    
</body>
</html>