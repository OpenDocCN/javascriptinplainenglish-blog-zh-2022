<html>
<head>
<title>How to Sort an Array by Date in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中按日期对数组排序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-sort-an-array-by-date-in-javascript-3b92f2dc1119?source=collection_archive---------16-----------------------#2022-08-15">https://javascript.plainenglish.io/how-to-sort-an-array-by-date-in-javascript-3b92f2dc1119?source=collection_archive---------16-----------------------#2022-08-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fae34870929195520605902bfcf8c4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXKd6JZtsiSPP24Bt5cavw.png"/></div></div></figure><p id="64ce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在JavaScript中，我们都遇到过这样的情况，我们有一组数据，都有不同的日期，我们希望快速地按日期排序。让我们看看这是如何工作的。</p><p id="f58c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">关于JavaScript日期的注意事项</strong>:需要注意的是，JavaScript中没有所谓的<code class="fe kw kx ky kz b">date</code>。相反，Javascript本身只有<strong class="ka ir">日期时间</strong>。这意味着每个日期都有相应的时间。<a class="ae la" href="https://fjolt.com/article/javascript-date-is-weird" rel="noopener ugc nofollow" target="_blank">你可以在这里阅读更多关于JavaScript日期的内容。</a></p><h1 id="e83c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">如何在JavaScript中按日期排序</h1><p id="bc38" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">按日期排序的第一步是确保你所有的日期都是<code class="fe kw kx ky kz b">date</code>格式。假设我们有一个这样的物体:</p><pre class="me mf mg mh gt mi kz mj mk aw ml bi"><span id="bb97" class="mm lc iq kz b gy mn mo l mp mq">let articles = [<br/>    { name: "HTML Inputs", date: "03/03/2022" },<br/>    { name: "Python Tips", date: "04/04/2022" },<br/>    { name: "Javascript Objects", date: "05/05/2022" }<br/>]</span></pre><p id="ad26" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这对于排序日期来说实际上不起作用，因为我们的<code class="fe kw kx ky kz b">date</code>属性是文本格式的。根据您的具体情况，您可能需要稍微不同的处理方式。对于这一个，我将简单地用正斜杠分割每个日期，并用有效的日期值替换该值。</p><pre class="me mf mg mh gt mi kz mj mk aw ml bi"><span id="4c0a" class="mm lc iq kz b gy mn mo l mp mq">let articles = [<br/>    { name: "HTML Inputs", date: "12/03/2022" },<br/>    { name: "Python Tips", date: "04/06/2022" },<br/>    { name: "Javascript Objects", date: "05/05/2022" }<br/>]</span><span id="3c48" class="mm lc iq kz b gy mr mo l mp mq">for(let article of articles) {<br/>    // Split the date by the slash, resulting in an array of [ '03', '03', '2022' ], for example<br/>    let dateArr = article.date.split('/');<br/>    // Year, month, and day from the array. We subtract 1 from month, since months start counting from 0 in Javascript dates.<br/>    let year = parseFloat(dateArr[2]);<br/>    let month = parseFloat(dateArr[1]) - 1;<br/>    let day = parseFloat(dateArr[0])<br/>    // Pass in the different components as year, month, day to get the valid date<br/>    let articleDate = new Date(year, month, day);<br/>    // Update the object<br/>    article.date = articleDate;<br/>}   </span><span id="bcbf" class="mm lc iq kz b gy mr mo l mp mq">console.log(articles);<br/>// This will output the object, now with valid dates!</span></pre><p id="8d52" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">有时候</strong>，你就不用这么做了。有时候，你会有有效的日期。你可以检查一下，因为在我们上面的<code class="fe kw kx ky kz b">console.log</code>为<code class="fe kw kx ky kz b">articles</code>转换日期后，它们显示的格式为<code class="fe kw kx ky kz b">Thu Mar 03 2022 00:00:00 GMT+0000 (Greenwich Mean Time)}</code>。</p><p id="11d4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不管怎样，现在你已经有了标准日期格式的日期，让我们对它们进行排序。我们将使用<code class="fe kw kx ky kz b">sort</code>来做到这一点:</p><pre class="me mf mg mh gt mi kz mj mk aw ml bi"><span id="8db2" class="mm lc iq kz b gy mn mo l mp mq">let articles = [<br/>    { name: "HTML Inputs", date: "03/03/2022" },<br/>    { name: "Python Tips", date: "04/04/2022" },<br/>    { name: "Javascript Objects", date: "05/05/2022" }<br/>]</span><span id="8f8a" class="mm lc iq kz b gy mr mo l mp mq">for(let article of articles) {<br/>    // Split the date by the slash, resulting in an array of [ '03', '03', '2022' ], for example<br/>    let dateArr = article.date.split('/');<br/>    // Year, month, and day from the array. We subtract 1 from month, since months start counting from 0 in Javascript dates.<br/>    let year = parseFloat(dateArr[2]);<br/>    let month = parseFloat(dateArr[1]) - 1;<br/>    let day = parseFloat(dateArr[0])<br/>    // Pass in the different components as year, month, day to get the valid date<br/>    let articleDate = new Date(year, month, day);<br/>    // Update the object<br/>    article.date = articleDate;<br/>}   </span><span id="bd2b" class="mm lc iq kz b gy mr mo l mp mq">console.log(articles);<br/>// This will output<br/>VM93:20 (3) [{…}, {…}, {…}]0: {name: 'HTML Inputs', date: Thu Mar 03 2022 00:00:00 GMT+0000 (Greenwich Mean Time)}1: {name: 'Python Tips', date: Mon Apr 04 2022 00:00:00 GMT+0100 (British Summer Time)}2: {name: 'Javascript Objects', date: Thu May 05 2022 00:00:00 GMT+0100 (British Summer Time)}length: 3[[Prototype]]: Array(0)<br/>undefined<br/>let articles = [<br/>    { name: "HTML Inputs", date: "12/03/2022" },<br/>    { name: "Python Tips", date: "04/06/2022" },<br/>    { name: "Javascript Objects", date: "05/05/2022" }<br/>]</span><span id="95f2" class="mm lc iq kz b gy mr mo l mp mq">for(let article of articles) {<br/>    // Split the date by the slash, resulting in an array of [ '03', '03', '2022' ], for example<br/>    let dateArr = article.date.split('/');<br/>    // Year, month, and day from the array. We subtract 1 from month, since months start counting from 0 in Javascript dates.<br/>    let year = parseFloat(dateArr[2]);<br/>    let month = parseFloat(dateArr[1]) - 1;<br/>    let day = parseFloat(dateArr[0])<br/>    // Pass in the different components as year, month, day to get the valid date<br/>    let articleDate = new Date(year, month, day);<br/>    // Update the object<br/>    article.date = articleDate;<br/>}   </span><span id="89a0" class="mm lc iq kz b gy mr mo l mp mq">articles.sort((a, b) =&gt; a.date - b.date);<br/>console.log(articles);</span></pre><p id="8d6c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，这里需要注意的一点是<code class="fe kw kx ky kz b">sort</code>改变了原始数组。所以我们不需要创建一个新的变量来存储它。因此，<code class="fe kw kx ky kz b">articles</code>将永久按日期排序，从最早日期到最晚日期。</p><p id="686b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你想反过来做，就写<code class="fe kw kx ky kz b">articles.sort((a, b) =&gt; b.date - a.date)</code>。</p><h1 id="0ea7" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">为什么在JavaScript中可以像数字一样对日期进行排序？</h1><p id="5900" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">这看起来令人困惑，为什么会这样。当然<code class="fe kw kx ky kz b">date</code>是一个<strong class="ka ir">日期</strong>——那么为什么我们可以把它们相减呢？简单地说，正如我前面提到的，Javascript没有<code class="fe kw kx ky kz b">date</code>类型——只有<code class="fe kw kx ky kz b">date-time</code>类型。</p><p id="0662" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这意味着每个日期都是一个<strong class="ka ir">日期</strong>加上一个<strong class="ka ir">时间</strong>。JavaScript用一个unix时间戳来表示这一点，这是一个数字，表示自1970年1月1日<strong class="ka ir"/>以来经过的秒数(对于JavaScript来说是毫秒数)。因此，我们可以在JavaScript中将日期相减，因为它们实际上是用数字表示的。</p><p id="c319" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ms">更多内容看</em> <a class="ae la" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ms">说白了就是io </em> </strong> </a> <em class="ms">。报名参加我们的</em> <a class="ae la" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ms">免费周报</em> </strong> </a> <em class="ms">。关注我们上</em> <a class="ae la" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ms">推特</em> </strong> </a>，<a class="ae la" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ms">领英</em> </strong> </a> <strong class="ka ir"> <em class="ms">，</em> </strong> <em class="ms">，</em> <a class="ae la" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ms">不和谐</em> </strong> </a> <strong class="ka ir"> <em class="ms">。</em>T51】</strong></p></div></div>    
</body>
</html>