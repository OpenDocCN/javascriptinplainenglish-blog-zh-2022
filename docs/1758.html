<html>
<head>
<title>How to Easily Implement Text-To-Speech Functionality In Your Next JavaScript Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在下一个JavaScript项目中轻松实现文本到语音的功能</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-easily-implement-text-to-speech-functionality-in-your-next-javascript-project-16f0d14432f0?source=collection_archive---------3-----------------------#2022-04-17">https://javascript.plainenglish.io/how-to-easily-implement-text-to-speech-functionality-in-your-next-javascript-project-16f0d14432f0?source=collection_archive---------3-----------------------#2022-04-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="5fa7" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">没有时髦的装置。初学者友好的。用少于5行的代码完成它。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/59dc348f796071231761c12501a6c79d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jxJuJGnTyx4AuCom"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo By <a class="ae ks" href="https://www.instagram.com/oh.snowshade/" rel="noopener ugc nofollow" target="_blank">Oleg Laptev</a></figcaption></figure><p id="cea3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">嘿朋友们，</p><p id="e934" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">自从我们实现了一些非常酷的东西以来，这是一个非常热的时刻。最后一次大概是2月12日，你<a class="ae ks" href="https://medium.com/javascript-in-plain-english/build-a-web-scraper-with-me-beginner-friendly-19d2d98ac8d1" rel="noopener">和我</a>一起做了一个web scraper。</p><p id="8b61" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">今天，我将快速向您展示如何用不到5行代码轻松实现文本到语音的功能。我目前正在为我的高级项目<a class="ae ks" href="https://github.com/sebastians1994/MataChat" rel="noopener ugc nofollow" target="_blank"> MataChat </a>做这件事，因为其中一个需求是添加可访问性特性。请随意查看。</p><p id="94e8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">MataChat是由一群大学高年级学生和硕士生组成的团队开发的——我们当中没有人知道实现文本到语音的功能有多容易。给我几分钟时间让你看看实现起来有多容易。</p><p id="32b6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们开始吧。</p><h1 id="f1ae" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">网络语音API</h1><p id="f30c" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">首先，我们不需要在电脑上安装任何新奇的东西。我们将简单地使用Web语音API而且要使用这个API，没有繁重的幕后过程。不需要导入任何东西。你就用吧！</p><h2 id="8688" class="mm lq in bd lr mn mo dn lv mp mq dp lz lc mr ms mb lg mt mu md lk mv mw mf mx bi translated">语音合成接口</h2><p id="4f25" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">我们将从使用名为<strong class="kv io">语音合成</strong>的Web语音API接口开始。这就是我们将界面引入项目的方式:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="719c" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance();</span></pre><p id="e793" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">运筹学</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="914f" class="mm lq in mz b gy nd ne l nf ng">let utterance = new window.SpeechSynthesisUtterance();</span></pre><p id="aa48" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">两者达到相同的结果。选一个。</p><h2 id="bba3" class="mm lq in bd lr mn mo dn lv mp mq dp lz lc mr ms mb lg mt mu md lk mv mw mf mx bi translated">基本的文本到语音转换</h2><p id="4d27" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">对于文本到语音转换，我们希望将文本转换为语音。很明显。</p><p id="c533" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">比如说，我想把文字“Hello World”转换成语音。</p><p id="a383" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">第一步是创建一个<strong class="kv io">发音</strong>。基本上，让界面知道你想发声什么。在我们的例子中，我们想说“Hello World”。这里有一些我们可以创造话语的方法。选一个。</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="230a" class="mm lq in mz b gy nd ne l nf ng">// Take 1<br/>let utterance = new SpeechSynthesisUtterance("Hello World");</span><span id="b8e7" class="mm lq in mz b gy nh ne l nf ng">//Take 2<br/>let message= "Hello World";<br/>let utterance = new SpeechSynthesisUtterance(message);</span><span id="c3f8" class="mm lq in mz b gy nh ne l nf ng">//Take 3<br/>let utterance = new SpeechSynthesisUtterance();<br/>utterance.text = "Hello World";</span><span id="142e" class="mm lq in mz b gy nh ne l nf ng">//Take 4<br/>let utterance = new SpeechSynthesisUtterance();<br/>utterance["text"]= "Hello World";</span></pre><p id="d08d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">所有这些都会产生相同的最终结果。做任何对你有意义的事。选一个。</p><p id="ba94" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">至此，我们有了一个话语。我们告诉界面我们想说什么。现在我们必须告诉界面开始发出我们的声音。基本上就是告诉界面开始说话。为此，我们将使用界面的speak功能。它将如下所示:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="0c35" class="mm lq in mz b gy nd ne l nf ng">speechSynthesis.speak(utterance);</span></pre><p id="799f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">注意，speak函数的参数是我们的话语。当执行这一行时，“Hello World”将被转换为语音。</p><p id="6209" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">以下是其他一些例子:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="7351" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello There");<br/>speechSynthesis.speak(utterance);</span><span id="33db" class="mm lq in mz b gy nh ne l nf ng">let spokenWord= new SpeechSynthesisUtterance("Hello Adam");<br/>speechSynthesis.speak(spokenWord);</span><span id="8f06" class="mm lq in mz b gy nh ne l nf ng">let message= new SpeechSynthesisUtterance("Hello Becky");<br/>speechSynthesis.speak(message);</span></pre><p id="7a99" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是为了向您展示保存您的话语的变量可以被命名为您想要的任何名称(以防对我们的新开发人员来说不明显)。尽管它可以被命名为您想要的任何名称，但是您应该确保该名称有意义并且不言自明。如果其他人阅读你的代码，或者一年后你阅读你的代码，你的代码应该是有意义的。应该是<strong class="kv io">可读</strong>和<strong class="kv io">可维护</strong>。</p><p id="4ce7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在你知道了！</p><h1 id="62fe" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">密码笔</h1><p id="09f8" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">如果你想看到一个工作版本，看看这个代码笔。非常简单易懂。</p><p id="22bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当你点击按钮时，你应该会听到“你好，世界”</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="097c" class="mm lq in bd lr mn mo dn lv mp mq dp lz lc mr ms mb lg mt mu md lk mv mw mf mx bi translated">更新话语</h2><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="8e96" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello World");<br/>speechSynthesis.speak(utterance);</span></pre><p id="f4cb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是我们到目前为止所拥有的。想象一下，在许多行代码之后，我们想要更新我们的话语，这样我们就可以说些别的了。你可以这样更新话语:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="9670" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello World");<br/>speechSynthesis.speak(utterance);</span><span id="bee0" class="mm lq in mz b gy nh ne l nf ng">utterance.text = "Goodbye World." //updates value<br/>speechSynthesis.speak(utterance);</span></pre><p id="8800" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当然，你也可以创造一个新的话语；然而，这并不能有效利用内存空间。不要浪费内存空间。</p><h2 id="621d" class="mm lq in bd lr mn mo dn lv mp mq dp lz lc mr ms mb lg mt mu md lk mv mw mf mx bi translated">自定义</h2><p id="24ca" class="pw-post-body-paragraph kt ku in kv b kw mh jo ky kz mi jr lb lc mj le lf lg mk li lj lk ml lm ln lo ig bi translated">你可以对演讲做一些修改。你可以改变音调、音量、语速，甚至声音。(<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" rel="noopener ugc nofollow" target="_blank"> MDN文档</a>)让我们来看看。</p><p id="a2bd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">【1】改变音高</strong></p><p id="fbea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您想要改变说话时的音调，您可以降低或提高音调。默认情况下，音高值为1。可接受的范围在0和2之间。</p><p id="9630" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里有一个例子:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="d3dc" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello World");<br/>utterance.pitch = 4; //changes pitch<br/>speechSynthesis.speak(utterance);</span></pre><p id="6293" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> [2]改变速率</strong></p><p id="7846" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您想要更改说话的速率，您可以降低或提高速率。(基本上就是说话人说话的快慢。)默认情况下，比率的值为1。可接受的范围在0.1到10之间。</p><p id="b55d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里有一个例子:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="ece7" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello World");<br/>utterance.rate= 4; //changes pitch<br/>speechSynthesis.speak(utterance);</span></pre><p id="3f14" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">【3】改变音量</strong></p><p id="4682" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想改变讲话的音量，你可以降低或提高它。默认情况下，音量值为1。可接受的范围在0到1之间。</p><p id="f8ea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里有一个例子:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="e438" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello World");<br/>utterance.volume= 0.4; //changes pitch<br/>speechSynthesis.speak(utterance);</span></pre><p id="9c14" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">【4】改变声音</strong></p><p id="bcd0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想改变说话者的声音，你可以改变它。该界面提供了一系列声音。您可以使用<code class="fe nk nl nm mz b">speechSynthesis.getVoices()</code>来检索这个声音数组，其中<code class="fe nk nl nm mz b">getVoices()</code>是<code class="fe nk nl nm mz b">speechSynthesis </code>接口的一个方法。</p><p id="d639" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里有一个例子:</p><pre class="kd ke kf kg gt my mz na nb aw nc bi"><span id="3da5" class="mm lq in mz b gy nd ne l nf ng">let utterance = new SpeechSynthesisUtterance("Hello World");<br/>let voicesArray = speechSynthesis.getVoices();<br/>utterance.voice = voicesArray[2];<br/>speechSynthesis.speak(utterance);</span></pre><p id="ebc4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您使用CodePen来测试这些不同的声音，您可能不会马上注意到声音的变化。确保你保存了密码笔(当你改变声音的时候),给它10到20秒来载入新的声音。我不知道CodePen为什么不立即修复语音，但事情就是这样。</p><p id="5e07" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是笔。更改值。添加一些新代码。也许可以创建一个输入框，接收文本并将其转换为语音。玩弄它。看看会发生什么。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><p id="40fe" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢您的阅读。很有趣！</p><p id="9f02" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果你想学习如何使用其他<a class="ae ks" href="https://developer.mozilla.org/en-US/docs/Web/API" rel="noopener ugc nofollow" target="_blank">Web API</a>，给我一个关注。我们肯定会谈到语音到文本的转换，并获得用户的位置。几个月前，我在我的<a class="ae ks" href="https://github.com/kyledeguzmanx/fDev-website-WeatherAppV1" rel="noopener ugc nofollow" target="_blank">天气应用</a>中使用了Web API的地理定位API。我应该做一个演练，或者一个改进的第二个版本？</p><p id="32ad" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">有很多有趣的东西可以学。</p><p id="3039" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">感谢您的阅读。祝你愉快。继续编码！</p><p id="3ac1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nu">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nu">说白了就是</em> </strong> </a> <em class="nu">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nu">免费周报</em> </strong> </a> <em class="nu">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nu">Twitter</em></strong></a><em class="nu">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nu">LinkedIn</em></strong></a><em class="nu">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nu">社区</em> </strong> </a> <em class="nu">。</em></p></div></div>    
</body>
</html>