<html>
<head>
<title>Updating Object Key Values with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript更新对象键值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/updating-object-key-values-with-javascript-354906059a43?source=collection_archive---------6-----------------------#2022-10-19">https://javascript.plainenglish.io/updating-object-key-values-with-javascript-354906059a43?source=collection_archive---------6-----------------------#2022-10-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="beae" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在JavaScript对象中更新键值的最好方法是什么？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3a34ee2059d16ed5051a18729945547c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rh_2hTm4DGEcDOnnjh4uQw.png"/></div></div></figure><p id="1809" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://fjolt.com/article/javascript-objects-introduction" rel="noopener ugc nofollow" target="_blank"> Javascript对象</a>由键值对组成，是Javascript中最常见的数据结构之一。</p><p id="3342" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要更新对象中的所有值，最简单的方法是:</p><ol class=""><li id="2ece" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">使用<code class="fe lx ly lz ma b">Object.keys</code>获取对象的所有关键点。</li><li id="8ec5" class="lo lp iq kt b ku mb kx mc la md le me li mf lm lt lu lv lw bi translated">应用任何逻辑来决定哪些值应该更新。</li><li id="c1ee" class="lo lp iq kt b ku mb kx mc la md le me li mf lm lt lu lv lw bi translated">使用像<code class="fe lx ly lz ma b">forEach</code>或<code class="fe lx ly lz ma b">for</code>这样的循环更新每个的值。</li></ol><p id="f1fe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如:</p><pre class="kg kh ki kj gt mg ma mh mi aw mj bi"><span id="433c" class="mk ml iq ma b gy mm mn l mo mp">let myObject = {<br/>    name: "John", <br/>    skillItem1: 4,<br/>    skillItem2: 7,<br/>    skillItem3: 2,<br/>    skillItem4: 1<br/>}</span><span id="fabc" class="mk ml iq ma b gy mq mn l mo mp">// Updates any numerical values that are more than or equal to 4, and changes them to 10:<br/>Object.keys(myObject).forEach((item) =&gt; {<br/>    if(typeof myObject[item] == "number" &amp;&amp; myObject[item] &gt;= 4) {<br/>        myObject[item] = 10<br/>    }<br/>})</span><span id="8b2d" class="mk ml iq ma b gy mq mn l mo mp">console.log(myObject)<br/>// Returns:<br/>// let myObject = {<br/>//     name: "John", <br/>//     skillItem1: 10,<br/>//     skillItem2: 10,<br/>//     skillItem3: 2,<br/>//     skillItem4: 1</span></pre><p id="dfbb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你不必运用逻辑——但它通常是有用的。你也可以用一个<code class="fe lx ly lz ma b">for</code>循环来实现这一点——这比使用<code class="fe lx ly lz ma b">forEach</code>要稍微快一些:</p><pre class="kg kh ki kj gt mg ma mh mi aw mj bi"><span id="fb66" class="mk ml iq ma b gy mm mn l mo mp">let myObject = {<br/>    name: "John", <br/>    skillItem1: 4,<br/>    skillItem2: 7,<br/>    skillItem3: 2,<br/>    skillItem4: 1<br/>}</span><span id="9b80" class="mk ml iq ma b gy mq mn l mo mp">// Updates any numerical values that are more than or equal to 4, and changes them to 10:<br/>for(let item of Object.keys(myObject)) {<br/>    if(typeof myObject[item] == "number" &amp;&amp; myObject[item] &gt;= 4) {<br/>        myObject[item] = 10<br/>    }<br/>}</span><span id="da4d" class="mk ml iq ma b gy mq mn l mo mp">console.log(myObject)<br/>// Returns:<br/>// let myObject = {<br/>//     name: "John", <br/>//     skillItem1: 10,<br/>//     skillItem2: 10,<br/>//     skillItem3: 2,<br/>//     skillItem4: 1</span></pre><p id="5299" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要仅更新对象中的一个值，使用方括号符号<code class="fe lx ly lz ma b">[]</code>选择要更新的键。例如:</p><pre class="kg kh ki kj gt mg ma mh mi aw mj bi"><span id="75a2" class="mk ml iq ma b gy mm mn l mo mp">let myObject = {<br/>    name: "John", <br/>    skillItem1: 4,<br/>    skillItem2: 7,<br/>    skillItem3: 2,<br/>    skillItem4: 1<br/>}</span><span id="7662" class="mk ml iq ma b gy mq mn l mo mp">// Updates `skillItem2` to 15<br/>myObject['skillItem2'] = 15;</span></pre><p id="b2ca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://fjolt.com/article/javascript-by-reference-by-value" rel="noopener ugc nofollow" target="_blank"> JavaScript对象是通过引用</a>创建的，这是一种奇特的说法，当我们进行上述更改时，我们正在改变原始对象。这也意味着<code class="fe lx ly lz ma b">Object.values()</code>不允许我们更新对象的值，这就是为什么我们必须使用<code class="fe lx ly lz ma b">Object.keys()</code>。</p><p id="6351" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://www.patreon.com/smpnjn?fan_landing=true" rel="noopener ugc nofollow" target="_blank">🙇‍♂️:如果你喜欢这个，请考虑支持我</a></p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="59f0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="my">更多内容请看</em><a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="my">plain English . io</em></strong></a><em class="my">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="my">免费周报</em> </strong> </a> <em class="my">。关注我们关于</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="my">Twitter</em></strong></a><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="my">LinkedIn</em></strong></a><em class="my"/><a class="ae ln" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="my">YouTube</em></strong></a><em class="my"/><a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="my">不和</em> </strong> </a> <em class="my">。对增长黑客感兴趣？检查</em> <a class="ae ln" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="my">电路</em> </strong> </a> <em class="my">。</em></p></div></div>    
</body>
</html>