<html>
<head>
<title>React Crash Course — React Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React速成班— React路由器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-crash-course-react-router-391add340d91?source=collection_archive---------12-----------------------#2022-01-24">https://javascript.plainenglish.io/react-crash-course-react-router-391add340d91?source=collection_archive---------12-----------------------#2022-01-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2092" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第4部分:用路线和链接构建页面</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/baf4acf3caa550f67987fef02a3b09d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xkO_Lrv9efY_q_vY"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lautaro Andreani</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9451" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls"> Live dev笔记由</em> <a class="ae kv" href="https://www.youtube.com/channel/UCTZRcDjjkVajGL6wd76UnGg" rel="noopener ugc nofollow" target="_blank"> <em class="ls">丹尼斯·艾维</em></a><em class="ls">——</em><a class="ae kv" href="https://www.youtube.com/watch?v=6fM3ueN9nYM" rel="noopener ugc nofollow" target="_blank"><em class="ls">React JS速成班</em> </a></p><blockquote class="lt"><p id="0086" class="lu lv iq bd lw lx ly lz ma mb mc lr dk translated">在第4部分中，我们用另一个页面组件扩展了该应用程序，专门用于创建链接以动态生成每个注释的详细页面。</p></blockquote></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><p id="9625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以参考我的Github repo:</p><div class="mk ml gp gr mm mn"><a href="https://github.com/emilyyleung/notesapp/tree/Part-4/React-Router" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">GitHub-Emily leung/notes app at Part-4/React-Router</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">在GitHub上创建一个帐户，为Emily leung/notes app的开发做出贡献。</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">github.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kp mn"/></div></div></a></div></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="6248" class="nc nd iq bd ne nf ng nh ni nj nk nl nm jw nn jx no jz np ka nq kc nr kd ns nt bi translated">创建子页组件</h1><p id="e110" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">到目前为止，我们只使用<code class="fe nz oa ob oc b">NotesListPage</code>组件创建了一个页面视图来列出所有当前的笔记。然而，如果我们想要创建另一个页面组件来进行交换，我们将需要使用一个叫做React路由器的东西。</p><blockquote class="od oe of"><p id="93e7" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated">由于这是一个单页应用程序，因此没有创建任何模板或页面。相反，我们只是简单地切换所呈现的组件，这可以使用React Router来实现。</p></blockquote><p id="abe7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个名为<code class="fe nz oa ob oc b">NotePage.js</code>的新页面组件，它位于<code class="fe nz oa ob oc b">pages</code>文件夹中。<code class="fe nz oa ob oc b">NotePage</code>的目的是在自己的页面上显示每个单独的笔记。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="ebd3" class="on nd iq oc b gy oo op l oq or">notesapp<br/>├── public<br/>│   └── index.html<br/>└── src<br/>    ├── assets<br/>    │    └── data.js<br/>    ├── pages<br/>    │    ├── NotePage.js // New file<br/>    │    └── NotesListPage.js<br/>    ├── components<br/>    │    ├── Header.js<br/>    │    └── Body.js<br/>    ├── App.css<br/>    ├── App.js<br/>    └── index.js</span></pre><p id="db4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe nz oa ob oc b">NotePage</code>中，我们将使用快捷键<code class="fe nz oa ob oc b">rafce + tab</code>返回一个通用组件，然后在<code class="fe nz oa ob oc b">&lt;div&gt;</code>中添加一个字符串，以便在渲染时识别它。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="023e" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotePage.js</span><span id="81b5" class="on nd iq oc b gy os op l oq or">const NotePage = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;This is a single note page&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="a53f" class="on nd iq oc b gy os op l oq or">export default NotePage</span></pre><p id="983d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据上一篇文章，将页面导入到<code class="fe nz oa ob oc b">App.js</code>并将其引入到<code class="fe nz oa ob oc b">App</code>组件是有意义的。让我们开始吧。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="29c7" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="2396" class="on nd iq oc b gy os op l oq or">import './App.css';<br/>import Header from './components/Header'<br/>import NotesListPage from './pages/NotesListPage'<br/><strong class="oc ir">import NotePage from './pages/NotePage'</strong></span><span id="2428" class="on nd iq oc b gy os op l oq or">function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Header /&gt;<br/>      &lt;NotesListPage /&gt;<br/>      <strong class="oc ir">&lt;NotePage /&gt;</strong><br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="156a" class="on nd iq oc b gy os op l oq or">export default App;</span><span id="799d" class="on nd iq oc b gy os op l oq or">export default App;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/a4a986887a6dae377efbe447e54a2146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c8xLfTylPM8Zm294"/></div></div></figure><p id="81d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是你会意识到两个页面会出现在同一个视图中(如上图所示)。相反，我们想要做的是在两个页面之间切换— <code class="fe nz oa ob oc b">NotesListPage</code>和<code class="fe nz oa ob oc b">NotePage</code></p><h1 id="07be" class="nc nd iq bd ne nf ou nh ni nj ov nl nm jw ow jx no jz ox ka nq kc oy kd ns nt bi translated">安装React路由器</h1><p id="1fa4" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">出于本教程的目的，我们将使用版本<code class="fe nz oa ob oc b">5.2.1</code>。React路由器的最新版本需要完全不同的设置，这超出了本教程的范围。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="7e51" class="on nd iq oc b gy oo op l oq or">npm install react-router-dom@5.2.1</span></pre><p id="af24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦安装完毕，我们需要导入别名为<code class="fe nz oa ob oc b">Router</code>的<code class="fe nz oa ob oc b">BrowserRouter</code>，以及从<code class="fe nz oa ob oc b">react-router-dom</code>导入<code class="fe nz oa ob oc b">App.js</code>中的<code class="fe nz oa ob oc b">Route</code></p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="1ebc" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="0db7" class="on nd iq oc b gy os op l oq or">import { BrowserRouter as Router, Route } from "react-router-dom";</span></pre><h1 id="7c75" class="nc nd iq bd ne nf ou nh ni nj ov nl nm jw ow jx no jz ox ka nq kc oy kd ns nt bi translated">创建路线</h1><p id="737d" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">要使用React Router，整个应用程序组件必须用一个<code class="fe nz oa ob oc b">&lt;Router&gt;</code>元素包装。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="583d" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="9f6b" class="on nd iq oc b gy os op l oq or">import { BrowserRouter as Router, Route } from "react-router-dom";<br/>import './App.css';<br/>import Header from './components/Header'<br/>import NotesListPage from './pages/NotesListPage'<br/>import NotePage from './pages/NotePage'</span><span id="72a9" class="on nd iq oc b gy os op l oq or">function App() {<br/>  return (<br/>    <strong class="oc ir">&lt;Router&gt;</strong><br/>      &lt;div className="App"&gt;<br/>        &lt;Header /&gt;<br/>        &lt;NotesListPage /&gt;<br/>      &lt;/div&gt;<br/>    <strong class="oc ir">&lt;/Router&gt;</strong><br/>  );<br/>}</span><span id="05c6" class="on nd iq oc b gy os op l oq or">export default App;</span></pre><p id="d222" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">路由器将控制我们将看到哪些组件。因此，每个页面组件将被视为一个“路由”。任何不是用<code class="fe nz oa ob oc b">&lt;Route&gt;</code>组件创建的东西(比如<code class="fe nz oa ob oc b">Header</code>)都会出现在应用程序中。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="d9c7" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="cdd9" class="on nd iq oc b gy os op l oq or">import "./App.css";<br/>import Header from "./components/Header";<br/>import NotesListPage from "./pages/NotesListPage";<br/>import NotePage from "./pages/NotePage";<br/>import { BrowserRouter as Router, Route } from "react-router-dom";</span><span id="6f70" class="on nd iq oc b gy os op l oq or">function App() {<br/> return (<br/>  &lt;Router&gt;<br/>   &lt;div className='App'&gt;<br/>    &lt;Header /&gt;<br/>    <strong class="oc ir">&lt;Route path='/' exact component={NotesListPage} /&gt;</strong><br/>    &lt;NotePage /&gt;<br/>   &lt;/div&gt;<br/>  &lt;/Router&gt;<br/> );<br/>}</span><span id="9925" class="on nd iq oc b gy os op l oq or">export default App;</span></pre><p id="5fc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们使用<code class="fe nz oa ob oc b">Route</code>组件时，您会注意到我们添加了页面组件<code class="fe nz oa ob oc b">NotesListPage</code>作为组件参数，还包括了<code class="fe nz oa ob oc b">/</code>的确切路径。</p><p id="2518" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">声明<code class="fe nz oa ob oc b">exact</code>的原因是为了确保任何在开头包含<code class="fe nz oa ob oc b">/</code>的额外路线将被呈现到它们正确的页面组件，而不是主页，因为这是第一个匹配。</p><p id="1e83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们添加将通过<code class="fe nz oa ob oc b"><a class="ae kv" href="http://localhost:3000/note" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/note</a></code>访问的<code class="fe nz oa ob oc b">NotePage</code></p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="94a5" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="5394" class="on nd iq oc b gy os op l oq or">import { BrowserRouter as Router, Route } from "react-router-dom";<br/>import "./App.css";<br/>import Header from "./components/Header";<br/>import NotesListPage from "./pages/NotesListPage";<br/>import NotePage from "./pages/NotePage";</span><span id="02db" class="on nd iq oc b gy os op l oq or">function App() {<br/> return (<br/>  &lt;Router&gt;<br/>   &lt;div className='App'&gt;<br/>    &lt;Header /&gt;<br/>    &lt;Route path='/' exact component={NotesListPage} /&gt;<br/>    <strong class="oc ir">&lt;Route path='/note' component={NotePage} /&gt;</strong><br/>   &lt;/div&gt;<br/>  &lt;/Router&gt;<br/> );<br/>}</span><span id="0464" class="on nd iq oc b gy os op l oq or">export default App;</span></pre><p id="ef1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们转到每条路线时，我们会看到单独的页面:</p><ul class=""><li id="88ba" class="oz pa iq ky b kz la lc ld lf pb lj pc ln pd lr pe pf pg ph bi translated">http://localhost:3000/ —主页</li><li id="6ed6" class="oz pa iq ky b kz pi lc pj lf pk lj pl ln pm lr pe pf pg ph bi translated">http://localhost:3000/note-单个便笺页面</li></ul><h1 id="493a" class="nc nd iq bd ne nf ou nh ni nj ov nl nm jw ow jx no jz ox ka nq kc oy kd ns nt bi translated">动态路线</h1><p id="6c39" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">到目前为止，我们已经创建了两条路线:<code class="fe nz oa ob oc b">/</code>和<code class="fe nz oa ob oc b">/note</code>。这两者总是会返回各自的内容。</p><p id="ee97" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我们不想为每一个独特的音符创建单独的路线。最好创建一个动态路由，它将返回特定于我们单击的笔记的数据。我们可以通过一个声明的参数将注释的<code class="fe nz oa ob oc b">id</code>传递给route来实现这一点。在这种情况下，我们称之为<code class="fe nz oa ob oc b">:id</code></p><blockquote class="od oe of"><p id="b2c1" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated"><em class="iq">自定义参数必须以</em> <code class="fe nz oa ob oc b"><em class="iq">:</em></code> <em class="iq">开头，但可以指定任何名称代替【id】</em></p></blockquote><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="03cf" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="6f2f" class="on nd iq oc b gy os op l oq or">import { BrowserRouter as Router, Route } from "react-router-dom";<br/>import "./App.css";<br/>import Header from "./components/Header";<br/>import NotesListPage from "./pages/NotesListPage";<br/>import NotePage from "./pages/NotePage";</span><span id="6369" class="on nd iq oc b gy os op l oq or">function App() {<br/> return (<br/>  &lt;Router&gt;<br/>   &lt;div className='App'&gt;<br/>    &lt;Header /&gt;<br/>    &lt;Route path='/' exact component={NotesListPage} /&gt;<br/>    &lt;Route<strong class="oc ir"> path='/note/:id'</strong> component={NotePage} /&gt;<br/>   &lt;/div&gt;<br/>  &lt;/Router&gt;<br/> );<br/>}</span><span id="ef2b" class="on nd iq oc b gy os op l oq or">export default App;</span></pre><p id="81d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，当我们转到<code class="fe nz oa ob oc b">/note</code>时，只会出现标题。但是如果我们添加一个类似<code class="fe nz oa ob oc b">/note/test</code>的子路由，它将返回<code class="fe nz oa ob oc b">NotePage</code>内容。</p><p id="317c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，由于我们使用了路由器，我们还可以通过我们的<code class="fe nz oa ob oc b">NotePage</code>组件中的props提取关于路由的信息。让我们看看通过记录我们的道具可以得到什么。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="4436" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotePage.js</span><span id="4e88" class="on nd iq oc b gy os op l oq or">const NotePage = (<strong class="oc ir">props</strong>) =&gt; {<br/>    <strong class="oc ir">console.log("PROPS:", props)</strong><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;This is a single note page&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="a22a" class="on nd iq oc b gy os op l oq or">export default NotePage</span></pre><p id="a1f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">路由器给了我们关于网址的信息。我们将使用的是<code class="fe nz oa ob oc b">match</code>,因为它提供了我们将用来查询数据库的页面的<code class="fe nz oa ob oc b">id</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/1b403b11fd705606d341480bb1af3331.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*40-VhuRhM0SM0XRl"/></div></div></figure><p id="7f9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">具体来说，在<code class="fe nz oa ob oc b">match</code>中，我们想要使用存储在<code class="fe nz oa ob oc b">params</code>中的内容</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/e28a909e9ba363cc1ff6ef4f80d3e562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/0*CCKmS7rKzUItKw68"/></div></figure><p id="8d06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们要访问的东西是<code class="fe nz oa ob oc b">params</code> → <code class="fe nz oa ob oc b">id</code></p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="c762" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotePage.js</span><span id="57fb" class="on nd iq oc b gy os op l oq or">const NotePage = (props) =&gt; {<br/>    console.log("PROPS:", props)<br/>    <strong class="oc ir">console.log("PROPS:", props.match.params.id)</strong><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;This is a single note page&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="40b9" class="on nd iq oc b gy os op l oq or">export default NotePage</span></pre><p id="d3ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，让我们用析构来清理我们的代码</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="9af1" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotePage.js</span><span id="99e2" class="on nd iq oc b gy os op l oq or">const NotePage = <strong class="oc ir">({match})</strong> =&gt; {<br/>    <strong class="oc ir">let noteId = match.params.id<br/>    console.log("noteId:", noteId)</strong><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;This is a single note page&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="ca4f" class="on nd iq oc b gy os op l oq or">export default NotePage</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/211403055b52ffd1e8c4f1e7853e6fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/0*K0BhsRgpemkHDWha"/></div></figure><p id="78db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以跳转到<code class="fe nz oa ob oc b">id</code>的每一个笔记，让我们设置链接去每一个页面。为此，让我们跳回<code class="fe nz oa ob oc b">ListItem.js</code></p><p id="2d68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在其中，我们将从<code class="fe nz oa ob oc b">react-router-dom</code>导入<code class="fe nz oa ob oc b">Link</code>标签，它相当于<code class="fe nz oa ob oc b">&lt;a&gt;</code>标签。<code class="fe nz oa ob oc b">Link</code>标签需要一个<code class="fe nz oa ob oc b">to</code>属性，我们将通过模板文字(即反勾号)为其分配一个动态值</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="3d84" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; ListItem.js</span><span id="80eb" class="on nd iq oc b gy os op l oq or">import { Link } from 'react-router-dom'</span><span id="c4c9" class="on nd iq oc b gy os op l oq or">const ListItem = ({note}) =&gt; {<br/>    return (<br/>        <strong class="oc ir">&lt;Link to={`/note/${note.id}`}&gt;</strong><br/>            &lt;h3&gt;{note.body}&lt;/h3&gt;<br/>        <strong class="oc ir">&lt;/Link&gt;</strong><br/>    )<br/>}</span><span id="7081" class="on nd iq oc b gy os op l oq or">export default ListItem</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/9b9e59a083ba853fd79359a24e25fdc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/0*_L5kXY9sbjAAsTYL"/></div></figure><p id="4275" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经让每个<code class="fe nz oa ob oc b">Link</code>进入了正确的路线，我们需要将注释内容返回到每个页面。为此，我们需要将数据导入到<code class="fe nz oa ob oc b">NotePage.js</code></p><p id="3f2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了对笔记数据的访问，我们可以使用普通的JavaScript来基于<code class="fe nz oa ob oc b">noteId</code>找到笔记</p><blockquote class="od oe of"><p id="dff6" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">注意:</em> </strong> <em class="iq">我们已经确保了</em> <code class="fe nz oa ob oc b"><em class="iq">noteId</em></code> <em class="iq">变量被转换为一个数字，因为过滤器工作时要找到的</em> <code class="fe nz oa ob oc b"><em class="iq">id</em></code> <em class="iq">是一个数字，而不是字符串</em></p></blockquote><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="402b" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotePage.js</span><span id="42a1" class="on nd iq oc b gy os op l oq or">import notes from '../assets/data'</span><span id="b620" class="on nd iq oc b gy os op l oq or">const NotePage = ({match}) =&gt; {<br/>    <strong class="oc ir">let noteId = match.params.id</strong></span><span id="6a8c" class="on nd iq oc b gy os op l oq or"><strong class="oc ir">    let note = notes.find(note =&gt; note.id === Number(noteId));</strong></span><span id="7ae8" class="on nd iq oc b gy os op l oq or">    console.log("noteId:", noteId)<br/>    return (<br/>        &lt;div&gt;<br/>            <strong class="oc ir">&lt;p&gt;{note.body}&lt;/p&gt;</strong><br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="be53" class="on nd iq oc b gy os op l oq or">export default NotePage</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/d7f317a09287d9df55af3ab7cd8f85aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/0*JZSbQ6CEIpz1sR0I"/></div></figure><h1 id="fa27" class="nc nd iq bd ne nf ou nh ni nj ov nl nm jw ow jx no jz ox ka nq kc oy kd ns nt bi translated">处理不存在的笔记</h1><p id="4a96" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">为了抛出不存在的注释的错误，我们将添加一个问号(也称为可选链接)来返回一个<code class="fe nz oa ob oc b">undefined</code>值，即一个空值，因此只有<code class="fe nz oa ob oc b">Header</code>会出现。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="f3df" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotePage.js</span><span id="803d" class="on nd iq oc b gy os op l oq or">import notes from '../assets/data'</span><span id="b0e0" class="on nd iq oc b gy os op l oq or">const NotePage = ({match}) =&gt; {<br/>    let noteId = match.params.id</span><span id="6ab0" class="on nd iq oc b gy os op l oq or">    let note = notes.find(note =&gt; note.id === Number(noteId));</span><span id="db06" class="on nd iq oc b gy os op l oq or">    console.log("noteId:", noteId)<br/>    return (<br/>        &lt;div&gt;<br/>            <strong class="oc ir">&lt;p&gt;{note?.body}&lt;/p&gt;</strong><br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="3ae4" class="on nd iq oc b gy os op l oq or">export default NotePage</span></pre><p id="0101" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a><em class="ls">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费每周简讯</em> </strong> </a> <em class="ls">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">社区</em> </strong> </a> <em class="ls">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>