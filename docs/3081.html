<html>
<head>
<title>JSX Expressions Must Have Only One Parent Element — Why?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JSX表达式必须只有一个父元素——为什么？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/jsx-expressions-must-have-only-one-parent-element-why-6521e9eb9e1c?source=collection_archive---------11-----------------------#2022-07-28">https://javascript.plainenglish.io/jsx-expressions-must-have-only-one-parent-element-why-6521e9eb9e1c?source=collection_archive---------11-----------------------#2022-07-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0b42" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用例子理解JSX这种行为背后的原因。还要学习React片段，这是这个常见错误的解决方案。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3f3d7673c1a930a688b7ff40433a00c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0s68Jt_4rNMwUGyi8sN7AQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image created by the author on Canva</figcaption></figure><h1 id="fcef" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">什么是JSX？它是如何工作的？</h1><p id="a222" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">JavaScript XML (JSX)是JavaScript的语法扩展。它允许我们用JavaScript编写HTML。因此，JSX使得在React中编写和添加HTML变得更加容易。实际上，JSX在幕后将HTML标签转换成React元素。我们不需要使用JSX，但是在创建React应用程序时使用它确实很有帮助。</p><p id="72c9" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">看下面一个简单的例子。它描述了在DOM上显示React元素的两种不同方式，使用JSX和不使用JSX。</p><h2 id="5ed0" class="mo kw iq bd kx mp mq dn lb mr ms dp lf lw mt mu lh ma mv mw lj me mx my ll mz bi translated">使用JSX</h2><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="a1e8" class="mo kw iq nb b gy nf ng l nh ni">const element = &lt;h1 className="title"&gt;I am using JSX.&lt;/h1&gt;;<br/><br/>const root = ReactDOM.createRoot(document.getElementById('root'));<br/>root.render(element);</span></pre><h2 id="a37d" class="mo kw iq bd kx mp mq dn lb mr ms dp lf lw mt mu lh ma mv mw lj me mx my ll mz bi translated">不使用JSX</h2><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="53d4" class="mo kw iq nb b gy nf ng l nh ni">const element = React.createElement(<br/>    'h1',<br/>    {className: 'title'},<br/>    'I do not use JSX.'<br/>);<br/><br/>const root = ReactDOM.createRoot(document.getElementById('root'));<br/>root.render(element);</span></pre><p id="482f" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">正如您所看到的，在React DOM上创建和显示元素的两种方式几乎是相同的。JSX允许我们不用写React.createElement()就能创建一个元素，但是，在后台它会把我们的代码转换成它。React.createElement()帮助我们检查和编写无错误的代码，它创建了这样一个对象:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="24f3" class="mo kw iq nb b gy nf ng l nh ni">const element = {<br/>  type: 'h1',<br/>  props: {<br/>    className: 'title'<br/>  },<br/>  children: 'I do not use JSX.'<br/>};</span></pre><h1 id="0d2c" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">为什么JSX只支持一个父元素？</h1><p id="da82" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">到目前为止，我们简单了解了JSX幕后的基本运作，也了解了JSX的好处。这些基本概念将有助于理解文章的真正主题。让我们了解一下在使用React时经常遇到的一个常见错误背后的原因:</p><ul class=""><li id="f6a4" class="nj nk iq lp b lq mj lt mk lw nl ma nm me nn mi no np nq nr bi translated"><strong class="lp ir"><em class="ns">【JSX】表达式必须只有一个父元素或者</em> </strong></li><li id="abbf" class="nj nk iq lp b lq nt lt nu lw nv ma nw me nx mi no np nq nr bi translated"><strong class="lp ir"> <em class="ns">相邻的JSX元素必须用封闭标签</em> </strong>包围</li></ul><p id="3fd0" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">当我们试图创建一个具有多个根元素的React组件时，通常会出现这样的错误。例如:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="1f94" class="mo kw iq nb b gy nf ng l nh ni">function Example() {<br/>    return (<br/>        &lt;div&gt; This is my first div. &lt;/div&gt;<br/>        &lt;div&gt; This is my second div. &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="7dcb" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">正如我们前面讨论的，JSX是React.createElement()方法的语法糖。我还解释了这个方法类似于其他JavaScript方法，语法如下:<code class="fe ny nz oa nb b">React.createElement(element, props, ...children)</code>这意味着该方法接受元素类型、元素的道具和元素的子元素。元素的子元素也是用<em class="ns"> createElement </em>方法创建的，它们也可以有自己的子元素。</p><p id="0947" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">当我们在React中编写JSX时，React会在后台将它转换为createElement方法。我已经提到了上面的代码，但是，看看下面的React函数组件来了解后台进程。</p><h2 id="efc8" class="mo kw iq bd kx mp mq dn lb mr ms dp lf lw mt mu lh ma mv mw lj me mx my ll mz bi translated">我们编写的代码:</h2><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="8bca" class="mo kw iq nb b gy nf ng l nh ni">function Example() {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;Heading&lt;/h1&gt;<br/>            &lt;div&gt;<br/>                &lt;p&gt;Body&lt;/p&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><h2 id="2cc4" class="mo kw iq bd kx mp mq dn lb mr ms dp lf lw mt mu lh ma mv mw lj me mx my ll mz bi translated">通过React进行背景转换:</h2><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="a595" class="mo kw iq nb b gy nf ng l nh ni">function Example() {<br/>    return React.createElement(<br/>        'div',<br/>        null,<br/>        React.createElement('h1', null, 'Heading'),<br/>        React.createElement(<br/>            'div',<br/>            null,<br/>            React.createElement('p', null, 'Body')<br/>        )<br/>    );<br/>}</span></pre><p id="498e" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">从例子中，我们可以清楚地理解，它从一个根元素开始，然后它可以有许多子元素，这些子元素也可以有自己的子元素，以此类推。现在理解导致错误的代码。查看下面的代码，并查看React转换后的代码:</p><h2 id="c616" class="mo kw iq bd kx mp mq dn lb mr ms dp lf lw mt mu lh ma mv mw lj me mx my ll mz bi translated">具有多个根元素的代码:</h2><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="a90e" class="mo kw iq nb b gy nf ng l nh ni">function Example() {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;Heading&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>            &lt;p&gt;Heading&lt;p&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span></pre><h2 id="fd4e" class="mo kw iq bd kx mp mq dn lb mr ms dp lf lw mt mu lh ma mv mw lj me mx my ll mz bi translated">React对上述代码的转换:</h2><p id="1ced" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">如果我们在React组件中编写上面的代码，那么它将被翻译成下面的代码:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="1dd1" class="mo kw iq nb b gy nf ng l nh ni">function Example() {<br/>    return React.createElement(<br/>        'div',<br/>        null,<br/>        React.createElement('h1', null, 'Heading')<br/>    )<br/>    React.createElement(<br/>        'div',<br/>        null,<br/>        React.createElement('p', null, 'Body')<br/>    );<br/>}</span></pre><p id="9f4c" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">这个转换后的代码是错误的，因为一个JavaScript函数一次只能返回一个东西。</p><p id="5316" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">因此，我们可以只声明一个根/父元素，并声明任意多个子元素。然而，在某些情况下，我们不希望额外的“div”作为根父节点。对于那个场景，我们已经介绍过<strong class="lp ir"> <em class="ns">做出反应的片段</em> </strong>。React Fragment是一个空标签，我们可以将它用作根元素，它不会向React DOM添加任何内容。让我们使用React片段来纠正我们之前犯的错误。请看下面的代码:</p><pre class="kg kh ki kj gt na nb nc nd aw ne bi"><span id="e8ac" class="mo kw iq nb b gy nf ng l nh ni">function Example() {<br/>    return (<br/>        &lt;&gt;<br/>            &lt;div&gt;<br/>                &lt;h1&gt;Heading&lt;/h1&gt;<br/>            &lt;/div&gt;<br/>            &lt;div&gt;<br/>                &lt;p&gt;Heading&lt;p&gt;<br/>            &lt;/div&gt;<br/>        &lt;/&gt;<br/>    )<br/>}</span></pre><h1 id="8cea" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">结论</h1><p id="9e8e" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">本文的主要目的是理解错误的原因—‘JSX表达式必须只有一个父元素’。本文还解释了React片段，这些片段是我们在使用React应用程序时经常遇到的错误的解决方案。我希望这篇文章能帮助你清楚地理解它的目的。请关注我，阅读更多像这样有趣的文章，保持更新。</p><div class="ob oc gp gr od oe"><a href="https://medium.com/@kardaniyagnik/membership" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">通过我的推荐链接加入Medium-Yagnik Kardani</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">阅读雅格尼克·卡尔达尼(以及媒体上成千上万的其他作家)的每一个故事。如果你喜欢我的文章，请用我的…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os kp oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a href="https://www.buymeacoffee.com/kardaniyagnik" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">Yagnik Kardani正在创建帮助他人成长的技术学习材料。</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">你好👋，我是一名媒体方面的技术作家。我喜欢学习并帮助他人在软件开发和云计算方面成长…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">www.buymeacoffee.com</p></div></div><div class="on l"><div class="ot l op oq or on os kp oe"/></div></div></a></div></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><p id="9a16" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated"><em class="ns">更多内容看</em> <a class="ae pb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="ns">说白了。报名参加我们的</em> <a class="ae pb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="ns">免费周报</em> </strong> </a> <em class="ns">。关注我们</em> <a class="ae pb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="ns">推特</em></strong></a><strong class="lp ir"><em class="ns"/></strong><em class="ns">和</em><a class="ae pb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lp ir"><em class="ns">LinkedIn</em></strong></a><em class="ns">。查看我们的</em> <a class="ae pb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="ns">社区不和谐</em> </strong> </a> <em class="ns">加入我们的</em> <a class="ae pb" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="lp ir"> <em class="ns">人才集体</em> </strong> </a> <em class="ns">。</em></strong></a></p></div></div>    
</body>
</html>