<html>
<head>
<title>NestJS Back-end Architecture Files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NestJS后端架构文件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nestjs-back-end-architecture-files-quick-start-dba96f45aff4?source=collection_archive---------2-----------------------#2022-04-09">https://javascript.plainenglish.io/nestjs-back-end-architecture-files-quick-start-dba96f45aff4?source=collection_archive---------2-----------------------#2022-04-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b3fd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于NestJS后端架构文件的快速教程。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c275cc3f3e6a904683684c296f174287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2Sx_aWrsMF5lvwPt.png"/></div></div></figure><p id="eeaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> NestJS </strong>是基于Express构建的Node.js后端开发框架，利用了TypeScript的强大功能。</p><p id="efdd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">NestJS利用了JavaScript作为一种语言和Node.js作为一种技术令人难以置信的流行性和健壮性。它的灵感来自Angular、React和Vue.js等常见库和框架，这些库和框架提高了开发人员的工作效率和体验。</p><p id="fd0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">即使考虑到服务器端Node.js的优秀库、助手和工具的数量，它们都没有有效地解决主要问题——应用程序的<strong class="kt ir">架构</strong>。</p><p id="871a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">NestJS提供了一个开箱即用的应用程序架构，允许开发人员和团队创建高度可测试、可伸缩、松散耦合且易于维护的应用程序。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h2 id="7a4e" class="lu lv iq bd lw lx ly dn lz ma mb dp mc la md me mf le mg mh mi li mj mk ml mm bi translated"><strong class="ak">安装Nest CLI </strong></h2><p id="4389" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated"><code class="fe ms mt mu mv b">yarn global add @nest/cli</code></p><p id="9f6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过测试嵌套CLI命令的版本来检查您是否有权使用它，因此只需键入下一个命令:<code class="fe ms mt mu mv b">nest -v</code></p><p id="adce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你有正确的版本，那么安装将会成功，如果你有<code class="fe ms mt mu mv b"><em class="mw">nest</em>: <em class="mw">command not found</em></code>并且你有Mac，请输入下一个命令:<code class="fe ms mt mu mv b">sudo yarn global add @nest/cli</code>，然后输入密码。现在它应该全局安装Nest CLI。</p><p id="d9c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">再次键入<code class="fe ms mt mu mv b">nest -v</code>来测试我们是否有访问nest命令的权限。</p><p id="c120" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用Nest CLI创建一个新的NestJS项目</p><pre class="kg kh ki kj gt mx mv my mz aw na bi"><span id="a8d8" class="lu lv iq mv b gy nb nc l nd ne">$ nest new project-name</span></pre><h1 id="0f29" class="nf lv iq bd lw ng nh ni lz nj nk nl mc jw nm jx mf jz nn ka mi kc no kd ml np bi translated">模块</h1><p id="60aa" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">模块是用<code class="fe ms mt mu mv b">@Module()</code>装饰器标注的类。<code class="fe ms mt mu mv b">@Module()</code>装饰器提供元数据，<strong class="kt ir">嵌套</strong>利用这些元数据来组织应用程序结构。</p><p id="dd43" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用嵌套CLI创建一个新模块</p><p id="cf49" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ms mt mu mv b">yarn g module moduleName</code> —例如<code class="fe ms mt mu mv b">yarn g module users</code>现在你应该会看到一个名为<code class="fe ms mt mu mv b">users.module.ts</code>的新文件</p><h1 id="daa6" class="nf lv iq bd lw ng nh ni lz nj nk nl mc jw nm jx mf jz nn ka mi kc no kd ml np bi translated">控制器</h1><p id="6bbe" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">控制器负责处理传入的<strong class="kt ir">请求</strong>并将<strong class="kt ir">响应</strong>返回给客户端。</p><p id="b349" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">使用Nest CLI创建新控制器</strong></p><p id="be3c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ms mt mu mv b">yarn g controller moduleName</code>例如<code class="fe ms mt mu mv b">yarn g controller users</code>，现在你应该会看到一个名为<code class="fe ms mt mu mv b">users.controller.ts</code>的新文件</p><p id="217d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以添加<code class="fe ms mt mu mv b">--no-spec</code>来避免控制器创建时附带的测试文件。</p><p id="ef6d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Nest CLI会自动将控制器导入模块。</p><h1 id="ab57" class="nf lv iq bd lw ng nh ni lz nj nk nl mc jw nm jx mf jz nn ka mi kc no kd ml np bi translated">服务</h1><p id="aaae" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated"><strong class="kt ir">使用Nest CLI创建新服务</strong></p><p id="54bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如<code class="fe ms mt mu mv b">yarn g service users</code>，现在你应该会看到一个名为<code class="fe ms mt mu mv b">users.service.ts</code>的新文件</p><p id="8515" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以添加<code class="fe ms mt mu mv b">--no-spec</code>来避免服务创建时附带的测试文件。</p><p id="fe7d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以使服务可注入，以便在提供者中使用服务。</p><p id="7885" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Nest CLI会自动将服务导入模块。</p><p id="edcc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如服务:</p><pre class="kg kh ki kj gt mx mv my mz aw na bi"><span id="2f3e" class="lu lv iq mv b gy nb nc l nd ne">@<strong class="mv ir">Injectable</strong>()<br/>export class UsersService {<br/>  users:User[] = [];</span><span id="9c22" class="lu lv iq mv b gy nq nc l nd ne">  getUserById(userId: string): User {<br/>    return this.users.find((user) =&gt; user.id === userId);<br/>  }<br/>}</span></pre><h1 id="fd57" class="nf lv iq bd lw ng nh ni lz nj nk nl mc jw nm jx mf jz nn ka mi kc no kd ml np bi translated">提供者</h1><p id="bfba" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">提供者是Nest中的一个基本概念。许多基本的嵌套类可以被视为提供者——服务、存储库、工厂、助手等等。提供者的主要思想是它可以作为一个依赖项被<strong class="kt ir">注入</strong>；这意味着对象可以相互创建各种关系，并且“连接”对象实例的功能可以在很大程度上委托给Nest运行时系统。</p><pre class="kg kh ki kj gt mx mv my mz aw na bi"><span id="3092" class="lu lv iq mv b gy nb nc l nd ne">import { Module } from '@nestjs/common';<br/>import { UsersController } from './cats/cats.controller';<br/>import { UsersService } from './cats/cats.service';<br/><br/>@Module({<br/>  controllers: [UsersController],<br/>  providers: [UsersService],<br/>})<br/>export class AppModule {}</span></pre><h1 id="4c87" class="nf lv iq bd lw ng nh ni lz nj nk nl mc jw nm jx mf jz nn ka mi kc no kd ml np bi translated">模型</h1><p id="2c9d" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">我们可以用模型来定义一个物体的形状，为此我们可以使用一个界面。</p><p id="3d32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，让我们创建模型文件为<code class="fe ms mt mu mv b">user.model.ts</code></p><p id="4a4f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在文件内部，让我们键入用户对象的形状，例如:</p><pre class="kg kh ki kj gt mx mv my mz aw na bi"><span id="7878" class="lu lv iq mv b gy nb nc l nd ne">export interface <strong class="mv ir">User</strong>{<br/>  id:number;<br/>  name:string,<br/>  age:number<br/>}</span></pre><p id="0700" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们可以在服务中使用这个用户对象形状，例如:</p><pre class="kg kh ki kj gt mx mv my mz aw na bi"><span id="2829" class="lu lv iq mv b gy nb nc l nd ne">class users{<br/>  users:User[] = [<br/>    {id:1, name:'John', age:12},<br/>    {id:2, name:'Arik', age:16}<br/>  ];</span><span id="8b97" class="lu lv iq mv b gy nq nc l nd ne">  getAllUsers():<strong class="mv ir">User</strong>[]{<br/>    return this.users;<br/>  }<br/>}</span></pre><p id="a8a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的控制器中:</p><pre class="kg kh ki kj gt mx mv my mz aw na bi"><span id="af87" class="lu lv iq mv b gy nb nc l nd ne">@Get('/:userId')</span><span id="1dd5" class="lu lv iq mv b gy nq nc l nd ne">getTaskById(@Param('userId') userId: string): <strong class="mv ir">User</strong> {</span><span id="eb9c" class="lu lv iq mv b gy nq nc l nd ne">return this.usersService.getUserById(userId);</span><span id="a364" class="lu lv iq mv b gy nq nc l nd ne">}</span></pre><p id="a5d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有关NestJS的更多信息，请查看文档<a class="ae nr" href="https://docs.nestjs.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mw">此处</em> </strong> </a> <strong class="kt ir"> <em class="mw">。</em> </strong></p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><p id="f3de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">感谢您迄今为止的阅读，</strong>如果您喜欢这样的内容，并且您想支持我作为一名程序员和作家撰写更多这样的文章，<a class="ae nr" href="https://medium.com/membership/@nissimzarur" rel="noopener"> <strong class="kt ir"> <em class="mw">请使用我的链接注册Medium成为会员(每月订阅5美元)，您将可以无限制地访问Medium上的所有内容。</em> </strong> </a></p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><ul class=""><li id="0702" class="ns nt iq kt b ku kv kx ky la nu le nv li nw lm nx ny nz oa bi translated">如果你想了解<a class="ae nr" href="https://nissimzarur.medium.com/what-is-callbacks-how-it-works-in-javascript-step-by-step-real-life-example-425bc277893" rel="noopener"> <strong class="kt ir"> <em class="mw">回调</em> </strong> </a>以及它在JavaScript中是如何工作的，你可以在这里  阅读它们。</li><li id="4e07" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">如果你想了解一下<a class="ae nr" href="https://nissimzarur.medium.com/react-native-forms-formik-the-best-way-step-by-step-3bde7d02ba4f" rel="noopener"> <strong class="kt ir"> <em class="mw">用Formik </em> </strong> </a> <strong class="kt ir"> </strong>反应原生形式以及它在JavaScript中是如何工作的，你可以在这里  阅读它们<a class="ae nr" href="https://nissimzarur.medium.com/react-native-forms-formik-the-best-way-step-by-step-3bde7d02ba4f" rel="noopener"> <strong class="kt ir">。</strong></a></li><li id="5455" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">如果你想了解<a class="ae nr" href="https://towardsdev.com/4-types-of-javascript-scopes-all-you-need-to-know-about-207598da120e" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mw">范围</em> </strong> </a>以及各个范围之间的区别，你可以在这里阅读<a class="ae nr" href="https://towardsdev.com/4-types-of-javascript-scopes-all-you-need-to-know-about-207598da120e" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mw"/></strong></a>。</li><li id="30c8" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">如果你想了解<a class="ae nr" href="https://nissimzarur.medium.com/what-is-closures-how-it-works-in-javascript-step-by-step-real-life-example-eb4a97c7120d" rel="noopener"> <strong class="kt ir"> <em class="mw">闭包</em> </strong> </a>以及它在JavaScript中是如何工作的，可以在这里  阅读<a class="ae nr" href="https://nissimzarur.medium.com/what-is-closures-how-it-works-in-javascript-step-by-step-real-life-example-eb4a97c7120d" rel="noopener"> <strong class="kt ir">。</strong></a></li><li id="e971" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">如果你想了解一下<a class="ae nr" href="https://nissimzarur.medium.com/javascript-arrow-function-vs-regular-function-whats-the-difference-fast-understanding-cda1a162a355" rel="noopener"> <strong class="kt ir"> <em class="mw">箭头函数&amp;常规函数</em> </strong> </a>的区别你可以在这里阅读一下<a class="ae nr" href="https://nissimzarur.medium.com/javascript-arrow-function-vs-regular-function-whats-the-difference-fast-understanding-cda1a162a355" rel="noopener"><strong class="kt ir"><em class="mw"/></strong></a>。</li></ul><p id="1d1d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mw">更多内容请看</em><a class="ae nr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mw">plain English . io</em></strong></a><em class="mw">。报名参加我们的</em> <a class="ae nr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae nr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mw">Twitter</em></strong></a><em class="mw">和</em><a class="ae nr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="mw">LinkedIn</em></strong></a><em class="mw">。加入我们的</em> <a class="ae nr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="mw">社区不和谐</em> </strong> </a> <em class="mw">。</em></p></div></div>    
</body>
</html>