<html>
<head>
<title>How Does the JavaScript Logical OR (||) Operator Work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript逻辑OR (||)运算符是如何工作的？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-does-the-javascript-logical-or-operator-work-a184d93b63e8?source=collection_archive---------19-----------------------#2022-07-13">https://javascript.plainenglish.io/how-does-the-javascript-logical-or-operator-work-a184d93b63e8?source=collection_archive---------19-----------------------#2022-07-13</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0dac" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">逻辑OR (or ||)运算符是理解JavaScript的关键。让我们看看它是如何工作的。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/2f95c082d6d773061ebf25f772cfd72d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aETmgBaeATgFhjz_EA1cig.png"/></div></div></figure><p id="9268" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">JavaScript中的逻辑OR(或<code class="fe lk ll lm ln b">||</code>)运算符是这样一种运算符，如果左侧为<strong class="kq io">真值</strong>，则返回左侧<strong class="kq io">的值，否则默认返回右侧的值。这意味着它可以用来测试两个逻辑语句，如果左边的操作数是<code class="fe lk ll lm ln b">falsy</code>，它还可以返回右边的操作数。让我们来看看它是如何工作的。</strong></p><h1 id="77ab" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">truthy和falsy在JavaScript中实际上是什么意思？</h1><p id="568f" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">在我们继续之前，让我们先了解一下<code class="fe lk ll lm ln b">falsy</code>是什么意思。这似乎是一个模糊的说法，但它实际上有一个非常具体的定义。以下值是JavaScript中的<code class="fe lk ll lm ln b">falsy</code>:</p><ul class=""><li id="bf0f" class="ml mm in kq b kr ks ku kv kx mn lb mo lf mp lj mq mr ms mt bi translated"><code class="fe lk ll lm ln b">false</code></li><li id="66d1" class="ml mm in kq b kr mu ku mv kx mw lb mx lf my lj mq mr ms mt bi translated"><code class="fe lk ll lm ln b">0</code>或<code class="fe lk ll lm ln b">-0</code>或<code class="fe lk ll lm ln b">0n</code></li><li id="78e3" class="ml mm in kq b kr mu ku mv kx mw lb mx lf my lj mq mr ms mt bi translated"><code class="fe lk ll lm ln b">any</code>空字符串，即<code class="fe lk ll lm ln b">""</code></li><li id="830b" class="ml mm in kq b kr mu ku mv kx mw lb mx lf my lj mq mr ms mt bi translated"><code class="fe lk ll lm ln b">null</code></li><li id="7e41" class="ml mm in kq b kr mu ku mv kx mw lb mx lf my lj mq mr ms mt bi translated"><code class="fe lk ll lm ln b">undefined</code></li><li id="ffbd" class="ml mm in kq b kr mu ku mv kx mw lb mx lf my lj mq mr ms mt bi translated"><code class="fe lk ll lm ln b">NaN</code></li></ul><p id="90ca" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">同样，<code class="fe lk ll lm ln b">truthy</code>简单来说就是<strong class="kq io">不是</strong> <code class="fe lk ll lm ln b">falsy</code>的任何东西。</p><p id="c15b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因为<code class="fe lk ll lm ln b">falsy</code>可能意味着<code class="fe lk ll lm ln b">0</code>和<code class="fe lk ll lm ln b">""</code>，所以它有时可能不是设置默认值的好选择。例如，在某些场景中，如果您的值确实是<code class="fe lk ll lm ln b">0</code>并且您想要显示它，那么您将无法使用<code class="fe lk ll lm ln b">||</code>操作符。对于这些情况，最好考虑一下<a class="ae mz" href="https://fjolt.com/article/javascript-nullish-coalescing" rel="noopener ugc nofollow" target="_blank">无效合并操作符</a>。</p><h1 id="9bc2" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">JavaScript中的逻辑OR运算符是如何工作的？</h1><p id="046b" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">如前所述，<code class="fe lk ll lm ln b">||</code>操作符在JavaScript中有两个主要功能。最常见的是在逻辑<code class="fe lk ll lm ln b">if..else</code>语句中，如果它的一个或多个操作数是<code class="fe lk ll lm ln b">truthy</code>，它返回true，但是如果它是<code class="fe lk ll lm ln b">truthy</code>，它也用于返回第一个值，否则默认为右边的操作数。</p><p id="1a25" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">||</code>以这两种方式工作，因为它实际上返回一个值。</p><h1 id="c0b0" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">使用逻辑OR和逻辑</h1><p id="29e8" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">你可能已经见过在逻辑语句中最常用的<code class="fe lk ll lm ln b">||</code>，比如<code class="fe lk ll lm ln b">if</code>和<code class="fe lk ll lm ln b">else</code>。在这些情况下，我们通常测试一个逻辑语句，所以如果一个或多个操作数是<code class="fe lk ll lm ln b">truthy</code>，那么<code class="fe lk ll lm ln b">||</code>将返回<code class="fe lk ll lm ln b">true</code>。下面发生的是<code class="fe lk ll lm ln b">||</code>操作符返回一个值，然后<code class="fe lk ll lm ln b">if</code>语句将其转换为<code class="fe lk ll lm ln b">true</code>或<code class="fe lk ll lm ln b">false</code></p><pre class="kd ke kf kg gt na ln nb nc aw nd bi"><span id="cac5" class="ne lp in ln b gy nf ng l nh ni">let x = 100;</span><span id="5818" class="ne lp in ln b gy nj ng l nh ni">// This returns true, since both of these statements are correct.<br/>if(x &gt; 5 || x &gt; 10) {<br/>    // ...<br/>}</span><span id="c3da" class="ne lp in ln b gy nj ng l nh ni">// Since both "1" and "2" can be converted to true, this also returns true in this context.<br/>if("1" || "2") {<br/>    // ...<br/>}</span><span id="3de9" class="ne lp in ln b gy nj ng l nh ni">// Since both "" and null are falsy, they are converted to false, and as such this returns false.<br/>if("" || null) {<br/>    // ...<br/>}</span></pre><p id="2c0c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这是您将在代码中使用<code class="fe lk ll lm ln b">||</code>的主要方式之一，但它也经常用于根据<code class="fe lk ll lm ln b">truthy</code>或<code class="fe lk ll lm ln b">falsy</code>返回值。</p><h1 id="63fa" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">返回值</h1><p id="6d55" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">现在让我们看看逻辑语句之外的另一个例子。如上所述，<code class="fe lk ll lm ln b">||</code>如果是<code class="fe lk ll lm ln b">truthy</code>则返回其左侧，否则返回其右侧。</p><p id="3159" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这听起来有点混乱，所以让我们看几个例子。</p><pre class="kd ke kf kg gt na ln nb nc aw nd bi"><span id="42c3" class="ne lp in ln b gy nf ng l nh ni">// Is set to 1, since the first operand is falsy <br/>let x = false || 1;</span><span id="cec7" class="ne lp in ln b gy nj ng l nh ni">// Is set to hello, since "hello" is truthy<br/>let y = "hello" || true;</span></pre><p id="2afb" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在上例中，由于<code class="fe lk ll lm ln b">x</code>的左侧设置为<code class="fe lk ll lm ln b">false</code>，因此<code class="fe lk ll lm ln b">x</code>变为1。同样，在<code class="fe lk ll lm ln b">y</code>中由于<code class="fe lk ll lm ln b">"hello"</code>不是<code class="fe lk ll lm ln b">falsy</code>，<code class="fe lk ll lm ln b">y</code>的值就是<code class="fe lk ll lm ln b">"hello"</code>。该功能不同于其在逻辑语句和<code class="fe lk ll lm ln b">if..else</code>语句中的应用，但在许多情况下是有用的。</p><p id="99ab" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">有趣的是，即使最后给出的是<code class="fe lk ll lm ln b">falsy</code>，JavaScript依然会返回。例如:</p><pre class="kd ke kf kg gt na ln nb nc aw nd bi"><span id="c125" class="ne lp in ln b gy nf ng l nh ni">// Is set to null since false is falsy<br/>let x = false || null;</span><span id="9ea8" class="ne lp in ln b gy nj ng l nh ni">// Is set to false since 0 is falsy<br/>let y = 0 || false;</span></pre><h1 id="ab2a" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">链接OR运算符</h1><p id="4a39" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">在JavaScript中链接<code class="fe lk ll lm ln b">||</code>操作符是可能的。链接逻辑语句时(在<code class="fe lk ll lm ln b">if..else</code>子句中)，如果任何链接项为<code class="fe lk ll lm ln b">truthy</code>，该语句将返回true:</p><pre class="kd ke kf kg gt na ln nb nc aw nd bi"><span id="7ec9" class="ne lp in ln b gy nf ng l nh ni">// This works since both "1" and true are truthy<br/>if("1" || true || false) {<br/>    // ...<br/>    console.log('this works')<br/>}</span><span id="da3f" class="ne lp in ln b gy nj ng l nh ni">// This doesn't work since all values are falsy<br/>if(false || null || undefined) {<br/>    console.log('this does not work');<br/>}</span></pre><p id="37b8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我们在逻辑语句之外使用链接的<code class="fe lk ll lm ln b">||</code>时，它将使用找到的第一个<code class="fe lk ll lm ln b">truthy</code>值，或者默认为最终值。比如下面，<code class="fe lk ll lm ln b">x</code>等于<code class="fe lk ll lm ln b">3</code>，<code class="fe lk ll lm ln b">y</code>是<code class="fe lk ll lm ln b">true</code>，<code class="fe lk ll lm ln b">z</code>是<code class="fe lk ll lm ln b">{}</code>。如果你想知道为什么<code class="fe lk ll lm ln b">z</code>是<code class="fe lk ll lm ln b">{}</code>，那是因为任何不是<code class="fe lk ll lm ln b">falsy</code>的东西都是<code class="fe lk ll lm ln b">truthy</code>，这意味着一个对象是<code class="fe lk ll lm ln b">truthy</code>！</p><pre class="kd ke kf kg gt na ln nb nc aw nd bi"><span id="e66a" class="ne lp in ln b gy nf ng l nh ni">// x is set to 3<br/>let x = false || 0 || 3;</span><span id="4a53" class="ne lp in ln b gy nj ng l nh ni">// y is set to true<br/>let y = false || true || 3;</span><span id="a5c9" class="ne lp in ln b gy nj ng l nh ni">// z is set to  {}<br/>let z = {} || [] || x;</span></pre><h1 id="ba20" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">结论</h1><p id="f9b4" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated"><code class="fe lk ll lm ln b">||</code>操作符经常在逻辑语句中使用，如果找到一个值，则默认为非<code class="fe lk ll lm ln b">falsy</code>值。这是一个灵活的操作符，是理解JavaScript的核心。如果您对另一个类似的操作符感兴趣，您可能还想了解一下<a class="ae mz" href="https://fjolt.com/article/javascript-nullish-coalescing" rel="noopener ugc nofollow" target="_blank"> nullish合并操作符</a>。</p><p id="3568" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nk">更多内容看</em> <a class="ae mz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nk">说白了就是</em> </strong> </a> <em class="nk">。报名参加我们的</em> <a class="ae mz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nk">免费每周简讯</em> </strong> </a> <em class="nk">。关注我们</em> <a class="ae mz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nk">推特</em></strong></a><strong class="kq io"><em class="nk"/></strong><em class="nk">和</em><a class="ae mz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nk">LinkedIn</em></strong></a><em class="nk">。查看我们的</em> <a class="ae mz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nk">社区不和谐</em> </strong> </a> <em class="nk">加入我们的</em> <a class="ae mz" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nk">人才集体</em> </strong> </a> <em class="nk">。</em></p></div></div>    
</body>
</html>