# é«˜çº§ç±»å‹è„šæœ¬:ç±»å‹çº§åµŒå¥—å¯¹è±¡è·¯å¾„

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/advanced-typescript-type-level-nested-object-paths-7f3d8901f29a?source=collection_archive---------0----------------------->

## æ¡ä»¶ç±»å‹ã€ç±»å‹æ¨ç†ã€æ¨¡æ¿æ–‡å­—ç±»å‹å’Œé€’å½’çš„çœŸå®ç”¨ä¾‹ã€‚

![](img/a2d16bbd2085b6c3f2ff3aada0a9b3e0.png)

Nested Object Paths

# ç›®å½•

[â“é—®é¢˜](#7501)
[âœ…ç»“æœ](#4b40)
[ğŸ“è§£é‡Š](#4d33)
âˆ˜[nested paths](#762c)
âˆ˜[typefrompath](#0bdf)
[ğŸ’¡ç”¨ä¾‹](#1915)
âˆ˜ [ç¿»è¯‘](#278a)
âˆ˜ [Redux é€‰æ‹©å™¨](#65f9)
[ğŸ‘‹ç»“è®º](#6aac)
[ğŸ™†ğŸ»â€â™‚ï¸å…³äºä½œè€…](#866a)

# â“çš„é—®é¢˜

å¯¹äº*å¯¹è±¡è·¯å¾„*ï¼Œæˆ‘æŒ‡çš„æ˜¯ä¸€ä¸ª*ç‚¹æ ¼*å­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºå¯¹è±¡å†…éƒ¨æŸä¸ªå€¼çš„è·¯å¾„ï¼Œä¾‹å¦‚:

```
const object = {
  a: {                     // <-- 'a'
    b: "My path is 'a.b'", // <-- 'a.b'
    c: "My path is 'a.c'", // <-- 'a.c'
  },
  d: "My path is just 'd'" // <-- 'd'
}
```

åˆ°`My path is â€˜a.bâ€™`çš„è·¯å¾„æ˜¯`a.b`ï¼Œè¿™ä¸ªå¯¹è±¡æ‰€æœ‰å¯èƒ½è·¯å¾„çš„é›†åˆæ˜¯:`'a', 'a.b', 'a.c' and â€˜dâ€™`ã€‚

æˆ‘ç»å¸¸éœ€è¦ä¸€ç§æ–¹æ³•æ¥äº†è§£ç±»å‹çº§å¯¹è±¡çš„æ‰€æœ‰å¯èƒ½è·¯å¾„ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„ä¾‹å­æœ‰åŠ©äºç†è§£ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„åœºæ™¯ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œäº†è§£ç±»å‹çº§çš„æ‰€æœ‰å¯èƒ½è·¯å¾„å¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…æ— ç”¨çš„æƒ…å†µæˆ–å¯èƒ½çš„é”™è¯¯:

æˆ‘å¦‚ä½•çŸ¥é“`*homepage.header.title*`è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Ÿå³ä½¿å®ƒå­˜åœ¨ï¼Œæˆ‘æ€ä¹ˆèƒ½ç¡®å®šå®ƒæŒ‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å‘¢ï¼Ÿ

å½“ç„¶ï¼Œæˆ‘å¯ä»¥ç®€å•åœ°æ”¾ä¸€ä¸ª *if* è¯­å¥ï¼Œä½†æ˜¯æˆ‘æƒ³è¦æ›´æ™ºèƒ½çš„**ã€**è‡ªåŠ¨**å’Œ**ç±»å‹æ£€æŸ¥**ï¼**

**æˆ‘æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å‡†å¤‡å¥½çš„å¯ä»¥ä»¥é€‚å½“çš„æ–¹å¼è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘å†³å®šè‡ªå·±æ¥åšï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ æ€ä¹ˆåšï¼**

# **âœ…ç»“æœ**

**ä¸‹ä¸€ç« ï¼Œæˆ‘ä¼šç»™ä½ ä¸€ä¸ªæˆ‘æƒ³å‡ºçš„è§£å†³æ–¹æ¡ˆçš„**è¯¦ç»†** **è§£é‡Š**ï¼Œä½†é¦–å…ˆï¼Œæˆ‘è¦ç»™ä½ çœ‹ç»“æœï¼â€” *å¦‚æœä½ å¯¹è§£é‡Šä¸æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œåœä¸‹æ¥ï¼Œå¤åˆ¶&ç²˜è´´ç‰‡æ®µï¼Œä½ å°±å¯ä»¥å¼€å§‹äº†ï¼***

**![](img/29a77af6f085201a7e414473c17a2b7b.png)**

**å¼•æ“ç›–ä¸‹ä½¿ç”¨çš„ç±»å‹æœ‰:**

**ä½ æ²¡æƒ³åˆ°ä¼šè¿™ä¹ˆå¤æ‚ï¼Œæ˜¯å—ï¼Ÿæˆ‘ä¹Ÿæ˜¯ï¼Œè¯´å®è¯â€”â€”ä½†æ˜¯**è¿™æ ·æ˜¯æœ‰åŸå› çš„ï¼æ¬²çŸ¥ç¼˜ç”±ï¼Œä¸”å¬ä¸‹å›åˆ†è§£ã€‚****

# **ğŸ“è§£é‡Šè§£å†³æ–¹æ¡ˆ**

## **åµŒå¥—è·¯å¾„**

**è®©æˆ‘ä»¬ä»ç±»å‹*åµŒå¥—è·¯å¾„*å¼€å§‹â€”â€”æˆ‘ä¸å¾—ä¸è¯´**å¯ä»¥ç”¨æ›´ç®€å•çš„æ–¹å¼åˆ¶ä½œ**ï¼Œæ¯”å¦‚è¿™æ ·:**

**è¿™ç§æ–¹æ³•æ›´çŸ­ã€æ›´ç®€æ´ï¼Œä½†æ˜¯â€¦â€¦è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªè­¦å‘Š:**

**ä¸¤ç§è§£å†³æ–¹æ¡ˆéƒ½ä½¿ç”¨äº†`[Conditional Types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)`ã€`[Template Literal Types](https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html)`å’Œ`[Recursive Type Reference](https://www.typescriptlang.org/play#example/recursive-type-references)`â€”â€”å°½ç®¡æœ‰ä¸€ç‚¹ç‚¹ä½†å¾ˆå…³é”®çš„åŒºåˆ«ï¼Œè¿™ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬ä¸æ˜¯ [**å°¾é€’å½’**](https://en.wikipedia.org/wiki/Tail_call) **ã€‚****

**ç®€è€Œè¨€ä¹‹ï¼Œä¸€ä¸ªå‡½æ•°(*æˆ–è€…ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç±»å‹*)æ˜¯å°¾é€’å½’çš„**ï¼Œå¦‚æœå®ƒé€šè¿‡è¿”å›é€’å½’è°ƒç”¨**çš„å€¼è€Œç»“æŸï¼›
åœ¨è¿™ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬ä¸­ï¼Œäº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¸æ˜¯ç›´æ¥è°ƒç”¨é€’å½’ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ª*æ¨¡æ¿æ–‡å­—ç±»å‹*å†…è°ƒç”¨ä¸€ä¸ª*è”åˆç±»å‹*å†…çš„é€’å½’:**

```
K | `${K}.${***NestedPaths***<T[K]>}`
```

**ä¸ºä»€ä¹ˆç±»å‹æ˜¯å°¾éƒ¨é€’å½’çš„å¾ˆé‡è¦ï¼Ÿ**

**å› ä¸º Typescript å¯¹ç±»å‹å¯ä»¥é€’å½’è°ƒç”¨è‡ªèº«çš„æ¬¡æ•°è®¾ç½®äº†ä¸€ä¸ª**é™åˆ¶**ï¼Œå¦‚æœä¸æ˜¯å°¾é€’å½’çš„ï¼Œè¿™ä¸ªé™åˆ¶ç›¸å½“å°ï¼**

***æœ‰å¤šå°ï¼Ÿä»¥å‰æ˜¯ 9 ä¸ªï¼Œç°åœ¨å¤§æ¦‚æ˜¯ 20 æˆ– 50 ä¸ªï¼Œæˆ‘ä¸è®°å¾—å…·ä½“æ•°å­—äº†ï¼Œä½†ä¸æ˜¯å¾ˆå¤šï¼›å¦‚æœä½ çŸ¥é“ï¼Œè¯·å‘è¡¨è¯„è®ºï¼Œæˆ‘ä¼šæ›´æ–°æ–‡ç« ï¼***

**å¦‚æœç±»å‹æ˜¯**å°¾é€’å½’**è€Œä¸æ˜¯**ï¼Œè¿™ä¸ªé™åˆ¶å°±é«˜å¤šäº†ï¼**([*å®˜æ–¹æ‰“å­—ç¨¿æ–‡æ¡£*](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-5.html#tail-recursion-elimination-on-conditional-types) *ä»–ä»¬åªæ˜¯è¯´å®ƒâ€œæ¯”è¾ƒå¤§æ–¹â€*)ã€‚**

**ç°åœ¨ä¸€åˆ‡éƒ½æ¸…æ¥šäº†ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å°¾éƒ¨é€’å½’ç‰ˆæœ¬ã€‚**

***è”åˆ*å’Œ*è¿æ¥*æ˜¯å®ç”¨ç¨‹åºç±»å‹ï¼Œå¯ä»¥é¿å…*å­—ç¬¦ä¸²*å’Œ*æœªå®šä¹‰*ä¹‹é—´ä¸å¿…è¦çš„è”åˆæˆ–è¿æ¥ï¼Œå¹¶ä½¿ç±»å‹æ›´å…·å¯è¯»æ€§:**

```
Union<'a', 'b'>;      // --> 'a' | 'b'
Union<undefined, 'b'> // --> 'b'
Union<'a', undefined> // --> 'a'Join<'a', 'b'>        // --> 'a.b'
Join<undefined, 'b'>  // --> 'b'
Join<'a', undefined>  // --> 'a'
```

**çŸ¥é“äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘å°†æŠŠå®ƒä»¬ä»ä¸‹ä¸€ä¸ªä»£ç ç‰‡æ®µä¸­å»æ‰ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°å…³æ³¨ *NestedPaths* ç±»å‹:**

**è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„:**

```
type Paths = NestedPaths<{
  a: {            // <-- a
    b: {          // <-- a.b
      c: string;  // <-- a.b.c
    }
    d: string;    // <-- a.d
  }
}>
```

**æˆ‘ä»¬é¢„è®¡è¯¥å¯¹è±¡çš„å¯èƒ½è·¯å¾„æ˜¯:**

```
"a" | "a.b" | "a.b.c" | "a.d"
```

****ç¬¬ä¸€è½®****

**åœ¨é€’å½’çš„ç¬¬ä¸€ä¸ªå¾ªç¯ä¹‹åï¼Œè¿™æ˜¯è¯¥ç±»å‹çš„æ ·å­:**

```
type Paths = {
  a: NestedPaths<{
   b: { c: string },
   d: string
  },  undefined, "a">
}['a']
```

**è¿™æ˜¯å› ä¸º`keyof T`åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»…ä»…æ˜¯`a`â€”â€”å¯¹äºé”®`a`æˆ‘ä»¬æœ‰:**

```
T['a'] = { b: { c: string }, d: string }
// Which means that
T['a'] extends GenericObject ? **yes**
```

**æˆ‘ä»¬åœ¨æ¡ä»¶çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ä¸­ï¼Œæ‰€ä»¥:**

```
// Prev = undefined
// Path = undefinedNestedPaths<T['a'], Union<Prev, Path>, Join<Path, 'a'>>// Is equal to:
NestedPaths<T['a'], Union<undefined, undefined>, Join<undefined, 'a'>>// Which is just:
NestedPaths<T['a'], undefined, 'a'> // Prev = undefined, Path = 'a'
```

****ç¬¬äºŒè½®****

**åœ¨é€’å½’çš„ç¬¬äºŒä¸ªå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°:**

```
type Paths = {
  a: {
   b: NestedPaths<{ c: string },  "a", "a.b">,
   d: "a" | "a.d",
  }['b' | 'd']
}['a']
```

**åœ¨è¿™ä¸ªå¾ªç¯ä¸­ï¼Œ`keyof T`å°±æ˜¯`b | d`ã€‚
å¯¹äºå­å¯¹è±¡`a`ä¸‹çš„å…³é”®ç‚¹`b`ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤ä¹‹å‰çš„ç›¸åŒè¿‡ç¨‹(æˆ‘ä»¬åœ¨æ¡ä»¶çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯:`T['b'] extends GenericObject`)ï¼›
å¯¹äºé”®`d`ç›¸åï¼Œæ¡ä»¶`T['d'] extends GenericObject`ä¸º**å‡**ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰:**

```
// Prev = undefined
// Path = 'a'd: Union<Union<Prev, Path>, Join<Path, 'd'>>;d: Union<Union<undefined, 'a'>, Join<'a', 'd'>>;d: Union<'a', 'a.d'> --> 'a' | 'a.d'
```

****ç¬¬ä¸‰è½®****

**ç°åœ¨äº‹æƒ…å¼€å§‹å˜å¾—æœ‰è¶£äº†â€¦æˆ‘ä»¬åŸºæœ¬ä¸Šæ‹¥æœ‰äº†æ‰€éœ€çš„ä¸€åˆ‡:**

```
type Paths = {
  a: {
   b: { c: "a" | "a.b" | "a.b.c" }["c"],
   d: "a" | "a.d",
  }['b' | 'd']
}['a']
```

**`b`ä¸‹çš„`c`é”®æ˜¯è¿™æ ·è§£æçš„:**

```
c: T['c'] extends GenericObject ? nope!c: Union<Union<Prev, Path>, Join<Path, 'c'>>// Where:
// Prev = 'a'
// Path = 'a.b'c: Union<Union<'a', 'a.b'>, Join<'a.b', 'c'>>
c: Union<'a' | 'a.b', 'a.b.c'>
c: 'a' | 'a.b' | 'a.b.c'
```

****ç»ˆäº****

**é€’å½’å®Œæˆåï¼Œæˆ‘ä»¬åªéœ€ä»¥ä¸åŒçš„æ–¹å¼ç¼–å†™ç±»å‹:**

```
type Paths = {
  a: {
   b: { c: "a" | "a.b" | "a.b.c" }["c"],
   d: "a" | "a.d",
  }['b' | 'd']
}['a']// Is equal to:
type Paths = {
  a: {
   b: "a" | "a.b" | "a.b.c",
   d: "a" | "a.d",
  }["b" | "d"]
}['a']// Which is also equal to:
type Paths = {
  a: "a" | "a.b" | "a.b.c" | "a.d"
}["a"]// ğŸ‰ Which is just what we expected ğŸ‰:
type Paths = "a" | "a.b" | "a.b.c" | "a.d"
```

**ä½¿ç”¨ç±»å‹ *NestedPathsï¼Œ*æˆ‘ä»¬å¯ä»¥è·å¾—ä»»ä½•å¯¹è±¡çš„æ‰€æœ‰è·¯å¾„ï¼**

**â€¦ä½†è¿™åªæ˜¯æˆ‘æƒ³è§£å†³çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼**

## **TypeFromPath**

**äº‹å®ä¸Šï¼Œé™¤äº†è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è·¯å¾„ï¼Œæˆ‘è¿˜æƒ³æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥è·å–è¿™äº›è·¯å¾„å¼•ç”¨çš„ç±»å‹ï¼Œæˆ‘æ˜¯è¿™æ ·åšçš„:**

**è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥çœ‹çœ‹è¿™ç§ç±»å‹æ˜¯å¦‚ä½•å·¥ä½œçš„:**

```
type Result = TypeFromPath<{
  **a**: {
    **b**: {
      **c**: { foo: 'bar' }; // <-- 'a.b.c'
    }
    d: string;
  }
// We are asking for the type referred by the path 'a.b.c'
}, **'a.b.c'**>
```

**æˆ‘ä»¬é¢„è®¡`type Result`å°†ç­‰äº`{ foo: 'bar' }`ã€‚**

****ç¬¬ä¸€è½®****

**è¿™æ˜¯æˆ‘ä»¬åœ¨ç¬¬ä¸€è½®é€’å½’ä¸­å¾—åˆ°çš„ç»“æœ:**

```
type Result = {
 'a.b.c': *TypeFromPath*<{
    b: {
     c: { foo: 'bar' };
    }
    d: string;
  }, 'b.c'>
}['a.b.c']
```

**è®©æˆ‘ä»¬çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆ:**

```
// The generic type Path is equal to 'a.b.c' so
// Path = 'a.b.c'{
  [K in Path]: ???
}[Path]// Is just
{
 [K in 'a.b.c']: ???
}['a.b.c']
```

**æˆ‘ä»¬æœ‰ä»€ä¹ˆæ¥ä»£æ›¿`???`ï¼Ÿ
çŸ¥é“`K`ç­‰äº*â€˜a . b . câ€™ï¼Œ*æˆ‘ä»¬æœ‰:**

```
// T = { a: { ... }, d: string }
// Does *K* extends keyof *T*?
// No it doesn't, the keys of T are '*a*' and '*d*' and *K* is '*a.b.c*'
// so we are in the second branch of the condition{
 [K in 'a.b.c']: K extends `${infer P}.${infer S}` ? TypeFromPath<T[P], S> : never
}['a.b.c']
```

*****K å»¶ä¼¸ä»€ä¹ˆ` ${infer P}ã€‚${infer S}`*** æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
æˆ‘ä»¬è¯¢é—® Typescript æ˜¯å¦ *`a.b.c`* æ‰©å±•äº†ä¸€ä¸ªç±»ä¼¼äº`{Prefix}.{Suffix}`çš„å­—ç¬¦ä¸²ï¼›
åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯**çœŸ**ï¼Œäº‹å®ä¸Šï¼ŒK æ˜¯` a.b.c `,æˆ‘ä»¬å¯ä»¥æŠŠ` a.b.c `çœ‹æˆ`${'a'}.${'b.c'}`ã€‚**

**æ‰€ä»¥ï¼Œæœ€åï¼Œæˆ‘ä»¬å¾—åˆ°äº†:**

```
{
 ['a.b.c']: TypeFromPath<T['a'], 'b.c'>;
}['a.b.c']
```

****ç¬¬äºŒè½®****

**åœ¨é€’å½’çš„ç¬¬äºŒä¸ªå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°:**

```
type Result = {
 'a.b.c': {
   'b.c': *TypeFromPath*<{
      c: { foo: 'bar' };
   }, 'c'>
 }['b.c']
}['a.b.c'];
```

**åœ¨è¿™ä¸ªå‘¨æœŸä¸­ï¼Œæˆ‘ä»¬æ‹¥æœ‰çš„ä¸œè¥¿ä¸ä¹‹å‰åŸºæœ¬ç›¸åŒï¼Œå› æ­¤:**

```
// Path = 'b.c'
// T = { b: { c: { foo: 'bar' } } }; {
  [K in 'b.c']: TypeFromPath<T['b'], 'c'>;
}['b.c']// All together:
{
  ['a.b.c']: {
    ['b.c']: TypeFromPath<T['b'], 'c'>;
  }['b.c']
}['a.b.c']
```

****ç¬¬ä¸‰è½®****

**è¿™é‡Œæˆ‘ä»¬ç»ˆäºæœ‰äº†ä¸åŒçš„ä¸œè¥¿:**

```
type Result = {
 'a.b.c': {
   'b.c': {
      c: { foo: 'bar' };
   }['c']
 }['b.c']
}['a.b.c'];
```

**æˆ‘ä»¬æ˜¯è¿™æ ·å¾—åˆ°å®ƒçš„:**

```
// Path = 'c'
// T = { c: { foo: 'bar' } };{
  [K in 'c']: K extends keyof T ? **yes!**
}['b.c']{
  [K in 'c']: T['c'] --> { foo: 'bar' }
}// All together:
{
  ['a.b.c']: {
    ['b.c']: {
      ['c']: { foo: 'bar' }
    }['c]
  }['b.c']
}['a.b.c']
```

****ç¬¬å››è½®****

**æˆ‘ä»¬ç°åœ¨å·²ç»æ‹¥æœ‰äº†è·å–â€œa.b.câ€æ‰€å¼•ç”¨çš„ç±»å‹æ‰€éœ€çš„ä¸€åˆ‡:**

```
type Result = {
 'a.b.c': {
   'b.c': { foo: 'bar' };
 }['b.c']
}['a.b.c'];**// Which is equal to**
type Result = {
 'a.b.c': { foo: 'bar' };
}['a.b.c'];**// And finally**
type Result = { foo: 'bar' };
```

**æ­£å¦‚æˆ‘ä»¬æ‰€æ–™ï¼Œ`type Result = { foo: 'bar' };`ï¼**

# **ğŸ’¡ç”¨ä¾‹**

**æˆ‘è®¤ä¸ºè¿™äº›ç±»å‹åœ¨ä¸åŒçš„åœºæ™¯ä¸­éƒ½å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œ**ç¿»è¯‘**å’Œ**å†—ä½™é€‰æ‹©å™¨**:**

## **ç¿»è¯‘**

**é€šå¸¸ï¼Œæˆ‘ä»¬å°†ç¿»è¯‘å­˜å‚¨åœ¨å¦‚ä¸‹æ‰€ç¤ºçš„å¯¹è±¡ä¸­:**

```
const translations = {
  homePage: {
    title: 'Hello!',
    ...,
  },
  profilePage: {
    menu: {
      settings: 'Settings',
      ...,
    },
  },
  ...,
}
```

**ç„¶åæˆ‘ä»¬é€šå¸¸é€šè¿‡ä¸€ä¸ªé’©å­æ¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚ä¸‹é¢çš„`useTranslations`ï¼Œå®ƒè¿”å›`t`å‡½æ•°â€”â€”è¿™ä¸ªå‡½æ•°ä»¥ä¸€ä¸ªè·¯å¾„ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ç›¸åº”çš„ç¿»è¯‘:**

```
const HomePageTitle = () => {
  const { t } = useTranslation();

  return <h1>{t('homePage.title')}</h1>;
}
```

**è¿™æ˜¯å¤§å¤šæ•° i18n åº“çš„å·¥ä½œæ–¹å¼ï¼Œä¾‹å¦‚`i18next` ( `react-i18next`)æˆ–`react-intl`ã€‚**

**æˆ‘ä»¬å¯ä»¥å°†`useTranslation`åŒ…è£…åˆ°ä¸€ä¸ªè‡ªå®šä¹‰é’©å­ä¸­ï¼Œå¹¶ä½¿ç”¨ç±»å‹ *NestedPaths* å’Œ *TypeFromPath* æ¥æ­£ç¡®åœ°å¯¹ä¼ é€’ç»™ *t å‡½æ•°çš„è·¯å¾„è¿›è¡Œç±»å‹æ£€æŸ¥:***

**useTranslations custom hook**

**å°±è¿™æ ·ï¼Œé€šè¿‡ä½¿ç”¨è¿™ä¸ªæ–°çš„é’©å­ï¼Œæˆ‘ä»¬å°†**å§‹ç»ˆ**ç¡®ä¿ä¼ é€’ç»™ t å‡½æ•°çš„è·¯å¾„æ˜¯ translations å¯¹è±¡çš„**æœ‰æ•ˆè·¯å¾„**ï¼Œå¹¶ä¸”è¿”å›çš„ç±»å‹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²:**

```
const ***HomePageTitle*** = () => {
  const { t } = useTranslation();

  // Looks good
  return <h1>{t('homePage.title')}</h1>;
}const ***WrongHomePageTitle*** = () => {
  const { t } = useTranslation();

  // We will have an error saying that **homePage.wrongPath**
  // is not a valid path
  return <h1>{t('homePage.wrongPath')}</h1>;
}const ***AnotherWrongHomePageTitle*** = () => {
  const { t } = useTranslation();

  // We will have an error saying that **t('homePage')**
  // is not a valid React child (*because is an object*)
  return <h1>{t('homePage')}</h1>;
}
```

## **å†—ä½™é€‰æ‹©å™¨**

**å¦ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹æ˜¯å°†è¿™äº›ç±»å‹ä¸`react-redux`çš„é’©å­`useSelector`ç»“åˆèµ·æ¥ï¼Œä¾‹å¦‚:**

**usePathSelector custom hook**

# **ğŸ‘‹ç»“è®º**

**æ„Ÿè°¢ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å¸Œæœ›å®ƒå¯¹ä½ æœ‰ç”¨ã€‚æˆ‘å¯¹æ„å»ºè¿™äº›ç±»å‹çš„å…¶ä»–æ–¹æ³•å¾ˆæ„Ÿå…´è¶£ï¼Œå¦‚æœä½ çŸ¥é“å…¶ä¸­ä¸€äº›ï¼Œæˆ–è€…ä½ è®¤ä¸ºå®ƒä»¬å¯ä»¥æ”¹è¿›ï¼Œè¯·ç•™è¨€å‘Šè¯‰æˆ‘ä½ ä¼šæ€ä¹ˆåšã€‚**

# **ğŸ™†ğŸ»â€â™‚ï¸å…³äºä½œè€…**

**æˆ‘æ˜¯ [VLK å·¥ä½œå®¤](https://www.linkedin.com/company/vlk-studio/?source=about_page----------------------------------------)çš„ä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œç›®å‰æ­£åœ¨ä»äº‹ä¸€ä¸ªåä¸º [Morfeo çš„å¼€æºé¡¹ç›®ã€‚](https://morfeo.dev/?source=about_page----------------------------------------)**

**åªè¦æˆ‘èƒ½ï¼Œæˆ‘å°±åœ¨åª’ä½“ä¸Šåˆ†äº«ä¸€äº›æˆ‘çŸ¥é“çš„ä¸œè¥¿ã€‚**

**å¦‚æœä½ å–œæ¬¢æˆ‘åšçš„äº‹æƒ…ï¼Œè¯·éšæ—¶æ”¯æŒæˆ‘çš„å·¥ä½œ:[https://medium.com/@mauro.erta/membership](https://medium.com/@mauro.erta/membership?source=about_page----------------------------------------)**

***æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](https://plainenglish.io/)*ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬å…³äº*[***Twitter***](https://twitter.com/inPlainEngHQ)*å’Œ*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ã€‚åŠ å…¥æˆ‘ä»¬çš„* [***ç¤¾åŒºä¸å’Œè°***](https://discord.gg/GtDtUAvyhW) *ã€‚***