<html>
<head>
<title>Combine JavaScript &amp; Python to Improve Development Efficiency</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">结合JavaScript和Python提高开发效率</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/combine-javascript-python-to-improve-development-efficiency-bc0b9c65e67a?source=collection_archive---------7-----------------------#2022-05-19">https://javascript.plainenglish.io/combine-javascript-python-to-improve-development-efficiency-bc0b9c65e67a?source=collection_archive---------7-----------------------#2022-05-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e9f5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">完美结合JavaScript和Python高效解决工程问题的指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/74fe365e510f75c96e926f52e399055b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XL0x5GLiF1ESiDBfJNp8Ug.jpeg"/></div></div></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="e5e8" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">PHP，Python，Go，JavaScript…哪个是最好的编程语言？</p><p id="3c4b" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">每个人都有自己的答案，但是说到web开发，没有什么能打败JavaScript。但有时我们不得不做要求更高的任务，比如分析大量数据。在这种情况下，Python可能是更好的选择。但这只是我们网站的一个功能，自然也不会因为这个需求而用Python开发整个项目。</p><p id="0b53" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">今天给大家介绍一种可以完美结合JavaScript和Python高效解决工程问题的方法。</p></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><h2 id="4e22" class="lu lv iq bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">Python + JavaScript =牛逼！</h2><p id="3c1c" class="pw-post-body-paragraph ky kz iq la b lb mn jr ld le mo ju lg lh mp lj lk ll mq ln lo lp mr lr ls lt ij bi translated">我们可以使用<strong class="la ir"> Node.js </strong>中的子流程在需要时运行Python脚本。</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="7269" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">const result = require('subprocess').result,<br/>app.get("process_data", (req, res) =&gt; {<br/>   result('python3', ['demo.py'])<br/>})</strong></span></pre><p id="575f" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">编写另一个Python脚本:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="3874" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir"><em class="nb"># demo.py</em><br/>doSometing()</strong></span></pre></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="7f5f" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">除了这种方式，我们还可以将数据传递给我们的<strong class="la ir"> Python脚本</strong>。</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="c4b0" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">const result = require('subprocess').result,<br/>app.get("process_data", (req, res) =&gt; {<br/>    const msg = "Hello World"<br/>   result('python3', ['demo.py', msg])<br/>})</strong></span></pre><p id="5e03" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在Python中，为了能够读取数据，我们必须导入<strong class="la ir"> sys模块</strong>。</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="1fba" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">import sys, json<br/><br/>def main():<br/>    msg = sys.argv[1]<br/>    doSometing(msg)<br/><br/>if __name__ == '__main__':<br/>    main()</strong></span></pre><p id="e419" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">现在，我们不是在生成Python流程时传递数据，而是在任务工作流中发送数据。</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="acbf" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">const result = require('subprocess').result,<br/>const py = result('python3', ['demo.py'])<br/>const data = {<br/>    msg: "Hello World"<br/>}<br/>py.stdin.write(JSON.stringify(data)) <em class="nb">//we have to send data as a string, so we are using JSON.stringify</em><br/>py.stdin.end()</strong></span></pre><p id="456d" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">修改Python脚本:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="cf30" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">import sys, json<br/><br/>def main():<br/>    lines = sys.stdin.readlines()<br/>    data = json.loads(lines)<br/>    doSometing(data['msg'])<br/><br/>if __name__ == '__main__':<br/>    main()</strong></span></pre><p id="7b6e" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">最后，我们可以从<strong class="la ir"> Python脚本向<strong class="la ir"> Node.js </strong>发送响应。</strong></p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="3400" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">const result = require('subprocess').result,<br/>const py = result('python3', ['demo.py'])<br/><br/>py.stdout.on('data', function(res){<br/>   let data = JSON.parse(res.toString())<br/>   console.log(data)<br/>})</strong></span></pre><p id="9892" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">Python代码是:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="9020" class="lu lv iq mt b gy mx my l mz na"><strong class="mt ir">import sys<br/><br/><em class="nb"># You will have your own implementation of get data.In this case lets assume it returns a dict/json.</em></strong></span><span id="f25a" class="lu lv iq mt b gy nc my l mz na"><strong class="mt ir">res = getData()<br/>print(json.dumps(data))<br/><br/>sys.stdout.flush()</strong></span></pre><p id="946d" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这样就可以在<strong class="la ir"> web开发</strong>的过程中兼顾<strong class="la ir"> JavaScript和Python </strong>的优势，最大限度的发挥不同编程语言的价值。不需要使用数据库或者开发繁琐的<strong class="la ir"> API </strong>结构，就可以将JavaScript和Python结合起来，提高开发效率。</p></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="5a4b" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><strong class="la ir"> <em class="nb">感谢您的阅读！</em>T19】</strong></p></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><p id="0d20" class="pw-post-body-paragraph ky kz iq la b lb lc jr ld le lf ju lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><em class="nb">更多内容请看</em><a class="ae nd" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="nb">plain English . io</em></strong></a><em class="nb">。报名参加我们的</em> <a class="ae nd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="la ir"> <em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们关于</em><a class="ae nd" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="nb">Twitter</em></strong></a><em class="nb">和</em><strong class="la ir"><em class="nb"/></strong><a class="ae nd" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="la ir"><em class="nb">LinkedIn</em></strong></a><em class="nb">。查看我们的</em> <a class="ae nd" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="la ir"> <em class="nb">社区不和谐</em> </strong> </a> <em class="nb">加入我们的</em> <a class="ae nd" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="la ir"> <em class="nb">人才集体</em> </strong> </a> <em class="nb">。</em></p></div></div>    
</body>
</html>