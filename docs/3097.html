<html>
<head>
<title>TypeScript and Strictly Typed Strings</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型脚本和严格类型字符串</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typescript-and-strictly-typed-strings-786923b07bd0?source=collection_archive---------3-----------------------#2022-07-30">https://javascript.plainenglish.io/typescript-and-strictly-typed-strings-786923b07bd0?source=collection_archive---------3-----------------------#2022-07-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="c13f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">字符串插值是我们每天都在使用的东西，但我们很少使用<a class="ae ki" href="https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">模板文字类型</em> </strong> </a> <strong class="jm io"> <em class="kj">的全部功能。</em>T9】</strong></p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi kk"><img src="../Images/1a6cd04ccb886f00434c8779b014d077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHxC41JommZhJ2fjSvz2Lw.png"/></div></div></figure><p id="1dc0" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">是的，这是可能的。如果您为字符串插值定义了正确的类型，Typescript将对其进行类型检查。让我们更深入地探讨一下这种语言特性的真正好处。</p><p id="171e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">速赢(键入CSS </strong>😱<strong class="jm io"> ) </strong></p><p id="a130" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">对我来说，CSS一直是有点痛苦的，因为它很难知道所有的类型、单位等等，所以我一直在想，我们是否可以使它更加用户友好。让我们试着定义一个盒子组件css样式对象。</p><pre class="kl km kn ko gt kw kx ky kz aw la bi"><span id="17a6" class="lb lc in kx b gy ld le l lf lg"><em class="kj">export type BoxStyle </em>= {<br/>  position: <em class="kj">string</em>;<br/>  background: <em class="kj">string</em>;<br/>  boxShadow: <em class="kj">string</em>;<br/>}</span></pre><p id="ff63" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好像还行吧？</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/f7ec702b6666386d666f747e33454fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*3yenobriDmjVChDroGBZtQ.png"/></div></figure><p id="2d44" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嗯，不尽然。但是我们可以通过添加一些类型来快速改善这一点。</p><pre class="kl km kn ko gt kw kx ky kz aw la bi"><span id="398d" class="lb lc in kx b gy ld le l lf lg"><em class="kj">type BoxPosition </em>= 'absolute' | 'relative' | 'fixed';<br/><em class="kj">type BoxBackground </em>= '#000000' | '#ffffff';<br/><em class="kj">export type BoxStyle </em>= {<br/>  position: <em class="kj">BoxPosition</em>;<br/>  background: <em class="kj">BoxBackground</em>;<br/>  boxShadow: <em class="kj">string</em>;<br/>};</span></pre><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi li"><img src="../Images/1b50e46a9a349a7be3e594bdf63ca310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqbSziQxOCZbpf-GFv86Ww.png"/></div></div></figure><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi lj"><img src="../Images/fe6a89274251ce0a6e326c6e09089594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KzyFWKfBgeBO4kyHnM4JRQ.png"/></div></div></figure><p id="6d28" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">好的，我们正在接近那里，但是仍然，盒子阴影是有点时髦的，但是没有它的精确类型。我们可以试着彻底检查所有的组合，但是这太难了，不可能。</p><p id="f99c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">引入<strong class="jm io">模板文字类型</strong>的最佳时机！</p><pre class="kl km kn ko gt kw kx ky kz aw la bi"><span id="8cd8" class="lb lc in kx b gy ld le l lf lg"><em class="kj">type ShadowDirection </em>= 'inset' | '';<br/><em class="kj">type ShadowUnit </em>= 'px' | 'rem';<br/><em class="kj">type ShadowUnitValue </em>= <em class="kj">number</em>;<br/><em class="kj">type ShadowValue </em>= `${<em class="kj">ShadowUnitValue</em>}${<em class="kj">ShadowUnit</em>}`;<br/><em class="kj">type ShadowColor </em>= `rgba(${<em class="kj">number</em>},${<em class="kj">number</em>},${<em class="kj">number</em>},${<em class="kj">number</em>})`;<br/><br/><em class="kj">type BoxShadow </em>= `${<em class="kj">ShadowDirection</em>} ${<em class="kj">ShadowValue</em>} ${<em class="kj">ShadowValue</em>} ${<em class="kj">ShadowValue</em>} ${<em class="kj">ShadowValue</em>} ${<em class="kj">ShadowColor</em>}`;<br/><br/><em class="kj">export type BoxStyle </em>= {<br/>  position: <em class="kj">BoxPosition</em>;<br/>  background: <em class="kj">BoxBackground</em>;<br/>  boxShadow: <em class="kj">BoxShadow</em>;</span></pre><p id="7cb1" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">箱形阴影看起来不错。我们去看看。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi lk"><img src="../Images/008c53f21e5ce87dbcc8d0bf964a57c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3oLmgtzno7Rz-XYvyDF0VA.png"/></div></div></figure><p id="2b82" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">出错:(<br/>如果我们仔细观察我们的<em class="kj">盒影</em>类型，我们可以看到<em class="kj">阴影方向</em>和第一个<em class="kj">阴影值之间的空间。</em></p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi ll"><img src="../Images/6533b882dabb53d2a0a5b6d7a6568113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-nuMh5HnHwy3MCSPNmQWAg.png"/></div></div></figure><p id="ce8a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我们的值类型错误现在看起来不错，但看起来仍然很奇怪。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi lm"><img src="../Images/c3fb869aa1c0aa10c44aad477068b324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jt4WEqMsWINtMFNYm1bkyA.png"/></div></div></figure><p id="bd5a" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">让我们对我们的类型做最后一次健全性检查。</p><figure class="kl km kn ko gt kp gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi ln"><img src="../Images/f4a0b41e78d843a99ccd36944b856f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AUQYHnmz3aDgZIsyTj5DGw.png"/></div></div></figure><p id="68ad" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">呜哇！🎉🎉🎉我们有类型安全的CSS。老实说，这是一个穷人的版本。但是我们有拥有它的所有工具。</p><p id="0382" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我发现这种模式在我试图从代码中调用的外部CLI应用程序的命令中使用得最多。这些东西有类型安全是很好的。有时候<strong class="jm io"> <em class="kj">式串</em> </strong>不够！</p><p id="04ed" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="kj">更多内容请看</em><a class="ae ki" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">plain English . io</em></strong></a><em class="kj">。报名参加我们的</em> <a class="ae ki" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">免费周报</em> </strong> </a> <em class="kj">。关注我们关于</em><a class="ae ki" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">Twitter</em></strong></a><a class="ae ki" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">LinkedIn</em></strong></a><em class="kj"/><a class="ae ki" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">YouTube</em></strong></a><em class="kj"/><a class="ae ki" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kj">不和</em> </strong> </a> <strong class="jm io"> <em class="kj">。</em>T49】</strong></p><p id="aca6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io"> <em class="kj">对缩放您的软件启动感兴趣</em> </strong> <em class="kj">？检查</em> <a class="ae ki" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kj">电路</em> </strong> </a> <em class="kj">。</em></p></div></div>    
</body>
</html>