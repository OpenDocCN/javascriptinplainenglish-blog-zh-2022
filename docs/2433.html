<html>
<head>
<title>Create and Publish Your Own React Hook in Under 5 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在5分钟内创建并发布您自己的React Hook</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-and-publish-your-own-react-hook-in-under-5-minutes-c95592da4b1?source=collection_archive---------13-----------------------#2022-06-07">https://javascript.plainenglish.io/create-and-publish-your-own-react-hook-in-under-5-minutes-c95592da4b1?source=collection_archive---------13-----------------------#2022-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d569" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你一直在使用其他人的反应钩，但对另一个有惊人的想法？在本文中，您将学习如何编写、更新和发布您自己的注册表钩子！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/2650e91f8a7da9969e5bbae92d124105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2cfOMjs6ATlK65qz.png"/></div></div></figure><h1 id="1fe7" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">入门指南</h1><p id="a335" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我准备了一个模板库，你可以用它来启动你的包。它包括一些项目，这将使你容易得多！</p><p id="1951" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可以在<a class="ae ma" href="https://github.com/driaug/react-hook-template" rel="noopener ugc nofollow" target="_blank">我的GitHub </a>上找到。</p><h2 id="be18" class="mb ky iq bd kz mc md dn ld me mf dp lh jy mg mh ll kc mi mj lp kg mk ml lt mm bi translated">得到你的NPM代币</h2><p id="a076" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">该模板利用GitHub动作自动发布您对NPM的最新更改。</p><p id="f46a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要做到这一点，您首先需要获得您的NPM令牌，并将其添加为存储库机密。打开您的NPM帐户，并按照这些步骤<a class="ae ma" href="https://docs.npmjs.com/creating-and-viewing-access-tokens" rel="noopener ugc nofollow" target="_blank">获取您的访问令牌。</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/43301be29a26e80db047b4bad7b6158b.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/0*QKOTWG-EY4A-XFRc.png"/></div></figure><p id="895a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你有你的令牌，前往你的仓库。转到“设置”,然后转到“密码”选项卡。添加一个名为<code class="fe mo mp mq mr b">NPM_TOKEN</code>的新存储库密码，并将您的令牌粘贴到那里！</p><h2 id="909c" class="mb ky iq bd kz mc md dn ld me mf dp lh jy mg mh ll kc mi mj lp kg mk ml lt mm bi translated">给它起了个很酷的名字</h2><p id="07db" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">前往<code class="fe mo mp mq mr b">package.json</code>文件，并确保更新那里的所有信息！给你的新React钩子起一个酷但独特的名字。将您自己添加为作者，并更新所有路径和URL以使用您自己的名字。</p><h2 id="bae3" class="mb ky iq bd kz mc md dn ld me mf dp lh jy mg mh ll kc mi mj lp kg mk ml lt mm bi translated">这个模板里有什么</h2><p id="88be" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">好了，是时候看看代码了！这个存储库有两个不同的部分。我们有<code class="fe mo mp mq mr b">src</code>和<code class="fe mo mp mq mr b">example</code>文件夹。Src是你可以找到React钩子代码的地方，在模板中我们的钩子叫做<code class="fe mo mp mq mr b">useHello</code>,它带有类型和一个DocString作为一个可靠的例子！</p><p id="ebab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你打开示例文件夹，你会看到它包含了一个基本的React应用，这个应用使用了我们的<code class="fe mo mp mq mr b">useHello</code>钩子。确保在添加自己的钩子时更新示例文件夹！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/311dcab487c11126e437370b801606e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*TTx26fWmJyKKzxEZE1AtMQ.png"/></div></figure><h2 id="1560" class="mb ky iq bd kz mc md dn ld me mf dp lh jy mg mh ll kc mi mj lp kg mk ml lt mm bi translated">更新示例</h2><p id="6de6" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">因为一个存储库中有两个包，所以记住您需要启动并构建两个服务是很重要的。</p><p id="c03a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您对钩子本身进行了修改，您可以用<code class="fe mo mp mq mr b">npm run build</code>重新构建它(或者用<code class="fe mo mp mq mr b">npm run watch</code>启动一个活动服务器)。</p><p id="08f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">试着去掉原来的useHello钩子，添加自己的逻辑！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/255cbe89c7f607912832b178feb03cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S0i8nQhH-qfN91Uzb1206A.png"/></div></div></figure><p id="5416" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您对示例应用程序进行了更改，您将需要从示例文件夹中使用<code class="fe mo mp mq mr b">npm run build</code>单独重新构建它！这些例子还附带了一个可以从<code class="fe mo mp mq mr b">npm run start</code>开始的实时服务器。</p><h1 id="84cd" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">发布你的钩子</h1><p id="968b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">太好了！您已完成更改，并准备将您的挂钩发布到NPM。你所需要做的就是把你的修改推送到GitHub，我们的动作会通过他们的API自动把所有东西部署到NPM！</p><p id="2875" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦操作完成运行，您可以通过导航到您的NPM帐户，点击您的个人资料图片并转到包查看您的新包！</p><p id="859e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">人们现在可以下载并在他们的项目中使用你的React钩子了，祝贺你！</p><h1 id="8665" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">特别感谢</h1><p id="3b37" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">对于这篇文章，我要特别感谢<a class="ae ma" href="https://alistair.sh/" rel="noopener ugc nofollow" target="_blank">阿利斯泰尔·史密斯</a>。他的<a class="ae ma" href="https://github.com/alii/use-last-fm" rel="noopener ugc nofollow" target="_blank"> use-last-fm hook </a>对设置来说是一个巨大的灵感，如果没有他的伟大工作，它不会如此先进！</p></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><p id="1520" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">祝你有美好的一天！💙</p><p id="bab6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="nb">更多内容看</em> <a class="ae ma" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nb">说白了就是</em> </strong> </a> <em class="nb">。报名参加我们的</em> <a class="ae ma" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们关于</em><a class="ae ma" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nb">Twitter</em></strong></a><em class="nb">和</em><a class="ae ma" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="nb">LinkedIn</em></strong></a><em class="nb">。查看我们的</em> <a class="ae ma" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nb">社区不和谐</em> </strong> </a> <em class="nb">加入我们的</em> <a class="ae ma" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="nb">人才集体</em> </strong> </a> <em class="nb">。</em></p></div></div>    
</body>
</html>