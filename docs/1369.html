<html>
<head>
<title>Modify and Publish an npm Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">修改和发布npm包</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/modify-and-publish-an-npm-package-e8c87dc4723f?source=collection_archive---------4-----------------------#2022-03-20">https://javascript.plainenglish.io/modify-and-publish-an-npm-package-e8c87dc4723f?source=collection_archive---------4-----------------------#2022-03-20</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="2113" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">React简单聊天机器人的完整演练</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/e9ecae2a3111b44e01a4f880f115b738.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fkrctjiWdXRCehkOPaggOg.jpeg"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Photo by <a class="ae kw" href="https://unsplash.com/@pinjasaur?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Paul Esch-Laurent</a> on <a class="ae kw" href="https://unsplash.com/s/photos/npm?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="591a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">作为一名JavaScript开发人员，您一定已经使用了许多npm包。你有没有在每次输入<code class="fe lt lu lv lw b">npm install</code>或者<code class="fe lt lu lv lw b">npm start</code>的时候问自己，这些包是怎么制作和发布的？外部开发人员如何对项目做出贡献？这个简短的教程向您展示了如何修改一个开源包，向原始存储库发出一个pull请求，并以您的用户名将其发布到npm registry。我将使用Lucas Bassetti的优秀的React Simple聊天机器人和VS代码作为这个项目的编辑器。对于本教程，您需要使用<a class="ae kw" href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" rel="noopener ugc nofollow" target="_blank"> npm CLI </a>。</p><h1 id="62ee" class="lx ly ir bd lz ma mb mc md me mf mg mh jx mi jy mj ka mk kb ml kd mm ke mn mo bi translated">1.派生存储库并进行更改</h1><p id="0573" class="pw-post-body-paragraph kx ky ir kz b la mp js lc ld mq jv lf lg mr li lj lk ms lm ln lo mt lq lr ls ik bi translated">首先，进入GitHub并登录。然后叉卢卡斯的<a class="ae kw" href="https://lucasbassetti.com.br/react-simple-chatbot/" rel="noopener ugc nofollow" target="_blank">反应简单的聊天机器人</a>。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj mu"><img src="../Images/19c723d9ad87a7cb72c4cb095cdf58f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9QMGxAMf4yUJWK2W98puQ.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 1. Fork the source repository. Image by the author.</figcaption></figure><p id="9890" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后克隆您的新存储库并进行更改。例如在<code class="fe lt lu lv lw b">lib/ChatBox.js</code>中，我在第698行和第699行之间添加了一个名为<code class="fe lt lu lv lw b">onFocus</code>的新道具，并在第209行之后实现了它。通过这些更改，聊天机器人中的输入字段将在获得焦点时更新其值。</p><div class="kh ki kj kk gu ab cb"><figure class="mv kl mw mx my mz na paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/0f992f4afa18eb27115ba3ae54d1a6a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*EPS5buEA1qwjx7kR2bXT9g.png"/></div></figure><figure class="mv kl mw mx my mz na paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/b80c8a8ac565e88e03158d7d8f766a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*2DVl0WqkMXpUqiiZOlYhxQ.png"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk nb di nc nd">Figure 2. Modify the code. Image by the author.</figcaption></figure></div><p id="c84d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后在控制台中运行以下命令。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nf l"/></div></figure><p id="60a7" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">他们初始化项目，然后用你在<code class="fe lt lu lv lw b">dist</code>文件夹中的更改构建新的<code class="fe lt lu lv lw b">react-simple-chatbot.js</code>和<code class="fe lt lu lv lw b">react-simple-chatbot.js.map</code>。</p><h1 id="985e" class="lx ly ir bd lz ma mb mc md me mf mg mh jx mi jy mj ka mk kb ml kd mm ke mn mo bi translated">2.把它推到你叉子上的一个新分支</h1><p id="9a1c" class="pw-post-body-paragraph kx ky ir kz b la mp js lc ld mq jv lf lg mr li lj lk ms lm ln lo mt lq lr ls ik bi translated">现在转到VS代码中的<code class="fe lt lu lv lw b">Source Control</code>选项卡，您应该会看到四个文件。如下创建一个名为<code class="fe lt lu lv lw b">add_onfocus</code>的新分支。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ng"><img src="../Images/f2ad3bdcae3fa3efe5484483f3643609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hrnyq1tdwY9be8vhWh-fnw.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 3. Create a new branch for your changes. Image by author.</figcaption></figure><p id="1fbd" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">用消息提交更改，并将提交推送到GitHub fork。现在，您的更改已经为拉请求做好了准备。</p><h1 id="d641" class="lx ly ir bd lz ma mb mc md me mf mg mh jx mi jy mj ka mk kb ml kd mm ke mn mo bi translated">3.打开一个新问题和一个拉式请求</h1><p id="5ece" class="pw-post-body-paragraph kx ky ir kz b la mp js lc ld mq jv lf lg mr li lj lk ms lm ln lo mt lq lr ls ik bi translated">在您创建一个拉取请求之前，您最好先与项目所有者讨论一下变更。你可以通过在GitHub页面上打开一个新的问题来实现。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nh"><img src="../Images/141eef0a8dc440fb6feceaf8abeb33a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CkvBEkBXdkB86iQ60Q6IRw.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 4. Open a new issue in the repository. Image by author.</figcaption></figure><p id="cb6a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在新的一期中，你可以向业主解释提议的功能。告诉他们这些变化是关于什么的，为什么它们有用，以及用户可能如何使用它们。之后，您可以发起一个拉请求。</p><div class="kh ki kj kk gu ab cb"><figure class="mv kl ni mx my mz na paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/b29f151b79fce0d1291de9d956baa614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*pV7-LeAh5aI9wIPyYaW7BA.png"/></div></figure><figure class="mv kl nj mx my mz na paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><img src="../Images/7b5164dd4076f66a4a6778bc053b6544.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*2I-hG7BoEZfL6cv5p6uJYQ.png"/></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk nk di nl nd">Figure 5. Make a pull request. Image by author.</figcaption></figure></div><p id="3757" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您应该会在原始存储库的<code class="fe lt lu lv lw b">Pull requests</code>选项卡中看到您的新pull请求。</p><h1 id="72c0" class="lx ly ir bd lz ma mb mc md me mf mg mh jx mi jy mj ka mk kb ml kd mm ke mn mo bi translated">4.发布npm包</h1><p id="7377" class="pw-post-body-paragraph kx ky ir kz b la mp js lc ld mq jv lf lg mr li lj lk ms lm ln lo mt lq lr ls ik bi translated">您也可以选择将其发布为您自己的npm包。如果你还没有npm账户，在这里注册一个。请注意，您的帐户需要一个MFA。之后，打开您的控制台，导航到您的项目文件夹并运行以下命令。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nf l"/></div></figure><p id="b360" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">第一个命令将您的系统连接到您的npm帐户。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nm"><img src="../Images/2cb5b1a2f51c1c4b517583c5cb23d8aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7fhaeDCEN0ZsVDinpUh91Q.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 6. npm adduser. Image by the author.</figcaption></figure><p id="a1e2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">第二个命令启动项目元数据。填写您的信息。请注意，您需要增加一点您的版本号。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nn"><img src="../Images/0e81a20a905af22f886312466e4ec52c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3BGhoWph_4hF3qaVWllbAA.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 7. npm init. Image by the author.</figcaption></figure><p id="bd24" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">最后一个命令将软件包推送到npm注册表。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nn"><img src="../Images/2751f8a29fdd995f58176d4d903331dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iqauxhaFzf0k-TEScqM7uQ.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 8. npm publish. Image by the author.</figcaption></figure><p id="73b0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您现在可以登记入住<code class="fe lt lu lv lw b">npmjs.com</code>。你应该能找到你名下的新包裹。</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj no"><img src="../Images/ffe8766d1bcdfa6305d28b2f4da66d6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vIUqvy21zP5rTaYTCqU9hw.png"/></div></div><figcaption class="ks kt gk gi gj ku kv bd b be z dk">Figure 9. Your own npm package in npmjs.com. Image by the author.</figcaption></figure><h1 id="5428" class="lx ly ir bd lz ma mb mc md me mf mg mh jx mi jy mj ka mk kb ml kd mm ke mn mo bi translated">5.测试您的包</h1><p id="383b" class="pw-post-body-paragraph kx ky ir kz b la mp js lc ld mq jv lf lg mr li lj lk ms lm ln lo mt lq lr ls ik bi translated">现在，您应该能够使用这个命令在您的项目中使用自己的React简单聊天机器人。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="ne nf l"/></div></figure><p id="8381" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">此命令下载您的包并将依赖项添加到您的项目中。如果它没有错误地完成，那么恭喜你！您刚刚制作了自己的npm包。</p></div><div class="ab cl np nq hv nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ik il im in io"><h1 id="389f" class="lx ly ir bd lz ma nw mc md me nx mg mh jx ny jy mj ka nz kb ml kd oa ke mn mo bi translated">结论</h1><p id="b2ab" class="pw-post-body-paragraph kx ky ir kz b la mp js lc ld mq jv lf lg mr li lj lk ms lm ln lo mt lq lr ls ik bi translated">npm是一个庞大的生态系统。它的兴旺是因为无数开发者的无数贡献。所以对我们来说，做出贡献也很重要。这篇文章教你这一基本技能。所以请继续写你自己的库或者贡献给你最喜欢的npm模块。</p><p id="d014" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><em class="ob">更多内容尽在</em> <a class="ae kw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="ob">说白了. io </em> </strong> </a> <em class="ob">。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="ob">免费周报</em> </strong> </a> <em class="ob">。关注我们关于</em> <a class="ae kw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="ob">推特</em> </strong> </a> <em class="ob">和</em><a class="ae kw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kz is"><em class="ob">LinkedIn</em></strong></a><em class="ob">。加入我们的</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kz is"> <em class="ob">社区</em> </strong> </a> <em class="ob">。</em></p></div></div>    
</body>
</html>