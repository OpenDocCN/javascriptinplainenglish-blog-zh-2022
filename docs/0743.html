<html>
<head>
<title>S3 Helper Functions in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript中的S3助手函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/s3-helper-functions-in-typescript-8698d08a5c8b?source=collection_archive---------13-----------------------#2022-02-10">https://javascript.plainenglish.io/s3-helper-functions-in-typescript-8698d08a5c8b?source=collection_archive---------13-----------------------#2022-02-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f381437bbf1603c784e6818fe6cc52f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lA8T4cUrQp-6hi2OVqeGWg.png"/></div></div></figure><p id="d677" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面列出了一些最常用的S3函数(<a class="ae kw" href="https://github.com/aws/aws-sdk-js" rel="noopener ugc nofollow" target="_blank"> aws-sdk </a>)以及如何在TypeScript中使用它们。</p><ul class=""><li id="c69e" class="kx ky iq ka b kb kc kf kg kj kz kn la kr lb kv lc ld le lf bi translated">getObject</li><li id="6e8f" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">上传</li><li id="cf40" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">删除对象</li><li id="fba2" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">listObjectsV2</li><li id="b112" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">头部物体</li></ul></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><h1 id="2273" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">getObject</h1><p id="ccb8" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">从亚马逊S3检索对象。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="d921" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该函数需要一个<code class="fe nb nc nd ne b">GetObjectRequest</code>类型的参数，其定义可在此处找到-<a class="ae kw" href="https://github.com/aws/aws-sdk-js/blob/master/clients/s3.d.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/AWS/AWS-SDK-js/blob/master/clients/S3 . d . ts</a></p><p id="051a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以像这样调用这个函数:</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><h1 id="dd8a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">上传</h1><p id="ff6f" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">上传对象到亚马逊S3。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="af9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该函数需要一个<code class="fe nb nc nd ne b">PutObjectRequest</code>类型的参数，其定义可在此处找到-<a class="ae kw" href="https://github.com/aws/aws-sdk-js/blob/master/clients/s3.d.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/AWS/AWS-SDK-js/blob/master/clients/S3 . d . ts</a></p><p id="ec20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以像这样调用这个函数:</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><h1 id="6547" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">删除对象</h1><p id="2a3e" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">从亚马逊S3删除一个对象。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2b5b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该函数需要一个<code class="fe nb nc nd ne b">DeleteObjectRequest</code>类型的参数，其定义可在此处找到-<a class="ae kw" href="https://github.com/aws/aws-sdk-js/blob/master/clients/s3.d.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/AWS/AWS-SDK-js/blob/master/clients/S3 . d . ts</a></p><p id="8d1a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以像这样调用这个函数</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><h1 id="86cc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">listObjectsV2</h1><p id="da1a" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">在每次请求时返回bucket中的部分或全部(最多1000个)对象。您可以使用请求参数作为选择标准来返回bucket中对象的子集。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="d385" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该函数需要一个<code class="fe nb nc nd ne b">ListObjectsV2Request</code>类型的参数，其定义可在此处找到-<a class="ae kw" href="https://github.com/aws/aws-sdk-js/blob/master/clients/s3.d.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/AWS/AWS-SDK-js/blob/master/clients/S3 . d . ts</a></p><p id="e42a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以像这样调用这个函数:</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><h1 id="630d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">头部物体</h1><p id="5b03" class="pw-post-body-paragraph jy jz iq ka b kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv ij bi translated">HEAD操作从对象中检索元数据，而不返回对象本身。如果您只对对象的元数据感兴趣，此操作很有用。要使用HEAD，您必须拥有对象的读取权限。</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="3a04" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该函数需要一个<code class="fe nb nc nd ne b">HeadObjectRequest</code>类型的参数，其定义可在此处找到-<a class="ae kw" href="https://github.com/aws/aws-sdk-js/blob/master/clients/s3.d.ts" rel="noopener ugc nofollow" target="_blank">https://github . com/AWS/AWS-SDK-js/blob/master/clients/S3 . d . ts</a></p><p id="125d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如何调用此函数的示例如下:</p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="5faf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在这里看到我如何使用这些包装函数<a class="ae kw" href="https://github.com/appletreeat56/json-to-xlsx/blob/master/src/utils/awsWrapper.ts" rel="noopener ugc nofollow" target="_blank">的例子。</a></p></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><p id="af67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢您的阅读，如果您想支持我，请关注我，成为会员，支持更广泛的社区。</p><div class="nf ng gp gr nh ni"><a href="https://medium.com/@metacollective/membership" rel="noopener follow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">通过我的推荐链接加入媒体Meta Collective</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw jw ni"/></div></div></a></div></div><div class="ab cl ll lm hu ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ij ik il im in"><p id="813a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nx">更多内容请看</em><a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nx">plain English . io</em></strong></a><em class="nx">。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="nx">免费周报</em> </strong> </a> <em class="nx">。在我们的</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="nx">社区</em> </strong> </a> <em class="nx">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>