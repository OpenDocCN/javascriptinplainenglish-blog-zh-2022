<html>
<head>
<title>What Are RxJS Observables?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是RxJS可观测量？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-are-rxjs-observables-5707e0c4c7ba?source=collection_archive---------17-----------------------#2022-03-03">https://javascript.plainenglish.io/what-are-rxjs-observables-5707e0c4c7ba?source=collection_archive---------17-----------------------#2022-03-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><h2 id="877c" class="il im in bd b dl io ip iq ir is it dk iu translated" aria-label="kicker paragraph"><a class="ae ep" href="https://medium.com/@lorenzozar/list/rxjs-39bc4f4110ec" rel="noopener"> RxJS </a></h2><div class=""/><figure class="gl gn ju jv jw jx gh gi paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="gh gi jt"><img src="../Images/b84c0d9c7596b75d7a3eb8ce140725d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3k_u04JLzhFDqhh-yZ-5MA.png"/></div></div></figure><p id="bd30" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">许多人在用Angular编码时开始使用observables。然而，可观并不是Angular特有的东西！</p><p id="01de" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">在<a class="ae lc" href="https://angular.io/guide/observables#using-observables-to-pass-values" rel="noopener ugc nofollow" target="_blank"> angular.io </a>上，我们可以读到“<em class="ld">它们在angular中被频繁使用，是一种事件处理、异步编程、处理多值</em>的技术。</p><p id="ee2f" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">很多东西！但是它们肯定不是Angular框架或React库的固有部分。</p><p id="4435" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">可观察对象是由RxJS(JavaScript的反应式扩展)提供的，在<a class="ae lc" href="https://angular.io/guide/rx-library" rel="noopener ugc nofollow" target="_blank"> angular.io </a>上定义为“<em class="ld">一个使用可观察对象的反应式编程库，使得编写异步或基于回调的代码</em>变得更加容易”。</p><p id="34db" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">因此，我们可以说他们对框架和库是不可知的，尽管Angular很流行。</p><p id="282f" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">如果你不知道RxJS，你大概应该读一下<a class="ae lc" href="https://www.vitainbeta.org/2022/01/18/what-is-rxjs/" rel="noopener ugc nofollow" target="_blank">什么是RxJS？</a>首先。</p><h1 id="bc74" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">了解RxJS可观测量</h1><p id="d216" class="pw-post-body-paragraph ke kf in kg b kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx mg kz la lb ig bi translated">我将提出几个定义，但我发现它们都很令人困惑。尤其是有人第一次接近这个话题的时候。</p><ul class=""><li id="bf26" class="mh mi in kg b kh ki kl km kp mj kt mk kx ml lb mm mn mo mp bi translated"><a class="ae lc" href="https://rxjs.dev/guide/observable" rel="noopener ugc nofollow" target="_blank"> RxJS </a> : L <em class="ld"> azy推送多值集合。</em></li><li id="0a63" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb mm mn mo mp bi translated"><a class="ae lc" href="https://angular.io/guide/observables#using-observables-to-pass-values" rel="noopener ugc nofollow" target="_blank"> Angular </a>:它们<em class="ld">为在应用程序的不同部分之间传递消息提供支持。</em></li><li id="684f" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb mm mn mo mp bi translated"><a class="ae lc" href="http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html" rel="noopener ugc nofollow" target="_blank">react vex</a>:<em class="ld">任意时间内任意一组值的表示。</em></li></ul><p id="0344" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">这些定义非常准确，它们从不同的角度描述了可观测量。然而，他们没有传达主题的主旨。我们来举个例子。</p><h1 id="13c7" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">想象一份时事通讯</h1><p id="4c11" class="pw-post-body-paragraph ke kf in kg b kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx mg kz la lb ig bi translated">我发现把Observables想象成一份时事通讯很有用。在许多方面，一个可观察的就像一个时事通讯，我们将看到如何。</p><figure class="mw mx my mz gt jx gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e260a215ca2e2b9cd6b1514d0fa07546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/0*RNiRkvl_RsAP-rlP"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Explaining Observables with an email subscription</figcaption></figure><p id="f274" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">上面的图像代表一个可观察的时事通讯。时事通讯是数据(电子邮件)的来源，但是在你订阅它之前，你不会收到任何电子邮件。</p><p id="800c" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">订阅简讯后，你会在一段时间内收到一连串的电子邮件(如上图所示，正好是六封)。您将继续收到电子邮件，直到您取消订阅时事通讯。</p><p id="30bf" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">让我们回顾一下接收电子邮件的步骤。</p><ol class=""><li id="d7da" class="mh mi in kg b kh ki kl km kp mj kt mk kx ml lb ne mn mo mp bi translated"><strong class="kg ix">订阅时事通讯</strong>。简讯是(电子邮件的)数据源，在你订阅之前，它不会给你发送任何电子邮件。当你想收到一些电子邮件/内容/数据时，你只需订阅一份时事通讯。</li><li id="43ce" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb ne mn mo mp bi translated"><strong class="kg ix">开始接收邮件</strong>。一旦你订阅了时事通讯，你将开始收到一些电子邮件。您将继续收到电子邮件，直到您取消订阅时事通讯。然而，你不知道到底有多少封电子邮件或者你什么时候会收到它们，因为这是由时事通讯提供商决定的。因此，你可以把它想象成一段时间内的电子邮件/数据流。</li><li id="f514" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb ne mn mo mp bi translated"><strong class="kg ix">退订</strong>。最终，当你对内容不再感兴趣的时候，你就退订了(你退订了，对吧？)以避免不必要的电子邮件塞满我们的收件箱。</li></ol><p id="3fe6" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">如果你理解了这些步骤，理解下一段中的可观测量就容易多了。</p><h1 id="1503" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">从时事通讯到观察</h1><p id="3f91" class="pw-post-body-paragraph ke kf in kg b kh mc kj kk kl md kn ko kp me kr ks kt mf kv kw kx mg kz la lb ig bi translated">我现在将按照同样的步骤来解释可观测量。</p><figure class="mw mx my mz gt jx gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/dcdbe43f1434f2949276a27afc3a5779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/0*eSR3yhi941Adta4e"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">From email subscriptions to observables</figcaption></figure><p id="904c" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated"><strong class="kg ix">把可观察的事物看作数据源</strong>，就像时事通讯是电子邮件的来源一样。当观察者发出数据时，时事通讯发送电子邮件。</p><ol class=""><li id="f1b4" class="mh mi in kg b kh ki kl km kp mj kt mk kx ml lb ne mn mo mp bi translated"><strong class="kg ix">订阅可观察的</strong>。一个可观察对象是一个数据源，但是在你订阅之前它不会发出任何数据。基于这个原因，我们说可观测量是懒惰的。使用名副其实的Subscribe()方法订阅一个可观察对象:<code class="fe ng nh ni nj b">myObservable.subscribe()</code></li><li id="d5ad" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb ne mn mo mp bi translated"><strong class="kg ix">开始接收数据</strong>。一旦你订阅了可观测量，你将开始接收一些数据。你会不断收到“数据包”，直到你退订可观察。然而，你并不知道到底有多少“数据包”，也不知道你什么时候会收到它们，因为这是由可观测性决定的。出于这个原因，我们说<em class="ld">可观测量推动值</em>。你可以把可观测量看作一段时间内的数据流。</li><li id="0b1f" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb ne mn mo mp bi translated"><strong class="kg ix">退订</strong>。最后，当您不再需要任何数据时，您可以使用unsubscribe()方法取消订阅:<code class="fe ng nh ni nj b">myObservable.unsubscribe()</code>。这对于防止<a class="ae lc" href="https://en.wikipedia.org/wiki/Memory_leak" rel="noopener ugc nofollow" target="_blank">内存泄漏很重要。注意，当使用Angular创建的可观察对象时，不需要取消订阅，因为Angular会自动处理取消订阅。一个例子是路由环境中的<em class="ld">可观察参数</em>。</a></li></ol><p id="e9f6" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">从理论角度来看，这种模型通常被称为<a class="ae lc" href="https://en.wikipedia.org/wiki/Reactor_pattern" rel="noopener ugc nofollow" target="_blank">反应堆模式</a>。</p><p id="b31d" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">一个<a class="ae lc" href="https://www.vitainbeta.org/2022/02/08/what-are-observers/" rel="noopener ugc nofollow" target="_blank">观察者</a>订阅一个可观察的。可观察对象通过调用观察者的方法向其观察者发送数据。</p><p id="f265" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">有时观察者被称为“订阅者”、“观察者”或“反应者”。</p><h1 id="ce5a" class="le lf in bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">要点</h1><ul class=""><li id="5f4c" class="mh mi in kg b kh mc kl md kp nk kt nl kx nm lb mm mn mo mp bi translated">RxJS和Observables对框架和库是不可知的，尽管在Angular中很流行。</li><li id="a225" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb mm mn mo mp bi translated">把可观察的事物想象成数据源。要从一个可观察对象中读取和处理数据，您必须订阅它<code class="fe ng nh ni nj b">myObservable.subscribe()</code>。</li><li id="5ac7" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb mm mn mo mp bi translated">一旦你订阅了一个可观测的，它会在一段时间内发出数据。这可以同步或异步发生，数据量可以是有限的，也可以是无限的。要知道<a class="ae lc" href="https://www.vitainbeta.org/2022/01/25/why-rxjs-rxjs-vs-promises/" rel="noopener ugc nofollow" target="_blank">一个可观察到的东西类似于一个承诺，但也有很大的不同</a>。</li><li id="fda1" class="mh mi in kg b kh mq kl mr kp ms kt mt kx mu lb mm mn mo mp bi translated">当你不再需要任何数据时，退订可观测的<code class="fe ng nh ni nj b">myObservable.unsubscribe()</code>。</li></ul><p id="cb06" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated">接下来:<a class="ae lc" href="https://medium.com/p/98b90ecfda8e" rel="noopener">创建一个RxJS可观察对象</a></p><p id="cf29" class="pw-post-body-paragraph ke kf in kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ig bi translated"><em class="ld">更多内容看</em> <a class="ae lc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg ix"> <em class="ld">说白了。报名参加我们的</em> <a class="ae lc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg ix"> <em class="ld">免费周报</em> </strong> </a> <em class="ld">。关注我们关于</em><a class="ae lc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kg ix"><em class="ld">Twitter</em></strong></a><em class="ld">和</em><a class="ae lc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kg ix"><em class="ld">LinkedIn</em></strong></a><em class="ld">。加入我们的</em> <a class="ae lc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kg ix"> <em class="ld">社区</em> </strong> </a> <em class="ld">。</em></strong></a></p></div></div>    
</body>
</html>