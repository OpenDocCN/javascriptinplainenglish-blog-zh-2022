<html>
<head>
<title>All You Need to Know About the every() Array Method in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于JavaScript中的every()数组方法，您只需要知道</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/all-you-need-to-know-about-the-every-array-method-in-javascript-b416b9b02347?source=collection_archive---------6-----------------------#2022-11-16">https://javascript.plainenglish.io/all-you-need-to-know-about-the-every-array-method-in-javascript-b416b9b02347?source=collection_archive---------6-----------------------#2022-11-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6e3b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JavaScript中的every()方法允许我们对数组的每个成员进行逻辑测试。让我们看看它是如何工作的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3c7fb70070a29e2ff76d2a8f61359b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1WYcdguPExO49suj6ig2A.png"/></div></div></figure><p id="a081" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有时对于数组，我们希望测试每个元素的特定条件。虽然使用一个<code class="fe ln lo lp lq b">if</code>语句可以很容易地测试各个条件，但是使用多个数组元素会变得有点棘手。因此，JavaScript在数组上提供了一个名为<code class="fe ln lo lp lq b">every</code>的方法，该方法将测试特定测试的每个元素。如果全部通过测试，那么整个<code class="fe ln lo lp lq b">every</code>方法将通过<code class="fe ln lo lp lq b">true</code>。如果一个或多个测试失败，那么整个<code class="fe ln lo lp lq b">every</code>方法将返回<code class="fe ln lo lp lq b">false</code>。</p><h1 id="ae0f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">为测试检查数组的每个元素</h1><p id="a027" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">假设我们有一个数组，我们想测试是否每个数字都大于15。这是使用<code class="fe ln lo lp lq b">every</code>的绝佳地点。让我们来看看。</p><pre class="kg kh ki kj gt mo lq mp bn mq mr bi"><span id="ac55" class="ms ls iq lq b be mt mu l mv mw">let arr = [ 25, 35, 45, 55, 65 ];<br/>let check = arr.every((el, index, array) =&gt; {<br/>    return el &gt; 15<br/>});<br/>console.log(check); // true</span></pre><p id="7a07" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ln lo lp lq b">every</code>采用类似于<code class="fe ln lo lp lq b">(el, index, array) =&gt; ...</code>形式的函数。</p><ul class=""><li id="a617" class="mx my iq kt b ku kv kx ky la mz le na li nb lm nc nd ne nf bi translated"><code class="fe ln lo lp lq b">el</code>是被<code class="fe ln lo lp lq b">every</code>迭代的当前元素。</li><li id="80c2" class="mx my iq kt b ku ng kx nh la ni le nj li nk lm nc nd ne nf bi translated"><code class="fe ln lo lp lq b">index</code>是数组正在迭代的当前元素的索引。</li><li id="5aed" class="mx my iq kt b ku ng kx nh la ni le nj li nk lm nc nd ne nf bi translated"><code class="fe ln lo lp lq b">array</code>是被迭代的完整数组。这里应该是<code class="fe ln lo lp lq b">[ 25, 35, 45, 55, 65 ]</code>。</li></ul><p id="3f3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为如果在一行中没有<code class="fe ln lo lp lq b">return</code>语句，箭头函数将返回true，所以上面的代码也可以简化为:</p><pre class="kg kh ki kj gt mo lq mp bn mq mr bi"><span id="744d" class="ms ls iq lq b be mt mu l mv mw">let arr = [ 25, 35, 45, 55, 65 ];<br/>let check = arr.every((el, index, array) =&gt; el &gt; 15);<br/>console.log(check); // true</span></pre><p id="6328" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">同样，<code class="fe ln lo lp lq b">every</code>方法可以采用另一种形式，接受回调函数的名称，以及<code class="fe ln lo lp lq b">this</code>的自定义值。这意味着您可以创建一个函数，然后基于函数本身中的自定义<code class="fe ln lo lp lq b">this</code>来准备它的内容。例如，下面我将<code class="fe ln lo lp lq b">{value: 15}</code>传递到<code class="fe ln lo lp lq b">this</code>，允许我们在调用<code class="fe ln lo lp lq b">every</code>时更改这个值:</p><pre class="kg kh ki kj gt mo lq mp bn mq mr bi"><span id="d3e2" class="ms ls iq lq b be mt mu l mv mw">let callbackFn = function(el) {<br/>    if(this.value !== undefined) {<br/>        return el &gt; this.value<br/>    }<br/>    return false;<br/>}<br/>let arr = [ 25, 35, 45, 55, 65 ];<br/>let check = arr.every(callbackFn, { value: 15 }); // Returns true</span></pre><h1 id="8412" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">用every方法修改数组</h1><p id="9a1d" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated">与其他数组方法非常相似，Javascript允许在调用数组的方法中修改数组。例如，我们可以修改数组的每个元素，然后对其进行检查。由于<code class="fe ln lo lp lq b">every</code>本质上是一种循环，每个元素都是按顺序循环的:</p><pre class="kg kh ki kj gt mo lq mp bn mq mr bi"><span id="83c9" class="ms ls iq lq b be mt mu l mv mw">let arr = [ 25, 35, 45, 55, 65 ];<br/>let check = arr.every((el, index, array) =&gt; {<br/>    arr[index] -= 100;<br/>    return el &gt; 5<br/>});<br/>// This is true, since we subtracted 100 from each element before the check<br/>console.log(check); // true</span></pre><p id="29af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们甚至可以在<code class="fe ln lo lp lq b">every</code>循环中删除数组中的元素:</p><pre class="kg kh ki kj gt mo lq mp bn mq mr bi"><span id="be8d" class="ms ls iq lq b be mt mu l mv mw">let arr = [ 25, 35, 45, 55, 65 ];<br/>let check = arr.every((el, index, array) =&gt; {<br/>    arr.pop();<br/>    return el &gt; 15;<br/>});<br/>console.log(arr); // returns [ 25, 35 ]</span></pre><p id="fa9e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Javascript甚至允许您在<code class="fe ln lo lp lq b">every</code>中向数组添加元素。由于<code class="fe ln lo lp lq b">every</code>对数组中的每个元素只触发一次，因此简单地将元素推送到原始数组不会导致无限循环:</p><pre class="kg kh ki kj gt mo lq mp bn mq mr bi"><span id="2b25" class="ms ls iq lq b be mt mu l mv mw">let arr = [ 25, 35, 45, 55, 65 ];<br/>let check = arr.every((el, index, array) =&gt; {<br/>    arr.push(100);<br/>    return el &gt; 15;<br/>});<br/>// This is true, since we subtracted 100 from each element before the check<br/>console.log(arr); // returns [25, 35, 45, 55, 65, 100, 100, 100, 100, 100]<br/>console.log(check); // returns true</span></pre><h1 id="ff6d" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">结论</h1><p id="1789" class="pw-post-body-paragraph kr ks iq kt b ku mj jr kw kx mk ju kz la ml lc ld le mm lg lh li mn lk ll lm ij bi translated"><code class="fe ln lo lp lq b">every</code>方法是一种在整个阵列上进行逻辑测试的内置方法。在大型阵列上应该小心，因为这可能会导致性能问题。但是，在大多数情况下，它是一个非常有用的工具，可以添加到您的阵列库中。还有许多其他用例<code class="fe ln lo lp lq b">every</code>非常有用。例如，您还可以将<code class="fe ln lo lp lq b">every</code>用于其他用例，比如<a class="ae nl" href="https://fjolt.com/article/javascript-check-if-array-is-subset" rel="noopener ugc nofollow" target="_blank">检查一个数组是否是另一个数组</a>的子集。</p><p id="83e3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nm">更多内容看</em> <a class="ae nl" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nm">说白了。报名参加我们的</em> <a class="ae nl" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nm">免费周报</em> </strong> </a> <em class="nm">。关注我们关于</em> <a class="ae nl" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nm">推特</em> </strong> </a>，<a class="ae nl" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nm">LinkedIn</em></strong></a><em class="nm">，</em><a class="ae nl" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nm">YouTube</em></strong></a><em class="nm">，</em> <a class="ae nl" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nm">不和</em> </strong> </a> <em class="nm">。对增长黑客感兴趣？检查</em> <a class="ae nl" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nm">电路</em> </strong> </a> <em class="nm">。</em></strong></a></p></div></div>    
</body>
</html>