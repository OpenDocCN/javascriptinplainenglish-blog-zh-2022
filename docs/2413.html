<html>
<head>
<title>Next.js: getStaticPaths and getStaticProps explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js:解释了getStaticPaths和getStaticProps</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nextjs-static-site-generation-getstaticpaths-getstaticprops-b0c3d7f27cd0?source=collection_archive---------9-----------------------#2022-06-06">https://javascript.plainenglish.io/nextjs-static-site-generation-getstaticpaths-getstaticprops-b0c3d7f27cd0?source=collection_archive---------9-----------------------#2022-06-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3c06" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用getStaticPaths &amp; getStaticProps在Next.js中生成静态站点的教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7e98d56340f1002e4286a49f1aa4668b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TBYCvl38PsN7lmvu"/></div></div></figure><p id="cb2f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本教程中，我们将探索如何在Next.js中创建静态站点，并在我们的应用程序中使用它们。</p><p id="3f21" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在Next.js中，设置<strong class="kt ir">静态路线</strong>和<strong class="kt ir">时，需要在您的<strong class="kt ir">页面</strong>文件夹中为您的路线定义动态路线</strong>。这是在呈现之前创建页面所必需的。</p><p id="0dd5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想回忆一下Next.js动态路线，我建议您阅读我的另一篇文章:</p><div class="ln lo gp gr lp lq"><a href="https://melih193.medium.com/how-to-start-adding-new-routes-to-your-next-js-application-f529218f27d" rel="noopener follow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">如何开始向Next.js应用程序添加新路线</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">在本教程中，我们将探索如何在我们的nextjs应用程序中添加新的路线，例如(基本的，嵌套的…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">melih193.medium.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kp lq"/></div></div></a></div><h2 id="c334" class="mf mg iq bd mh mi mj dn mk ml mm dp mn la mo mp mq le mr ms mt li mu mv mw mx bi translated">如何在构建时创建动态页面？</h2><p id="72b2" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">在Next.js项目中，当您构建应用程序时，它已经在<strong class="kt ir">中为您创建了动态页面。next/server/pages/{ dynamic path }</strong></p><p id="c9c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">创建这些动态路径对于SEO和我们希望在应用程序中显示的内容非常重要。</p><p id="7581" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据我们想要使用的数据，我们需要使用两个主要函数来创建这些动态页面:</p><p id="ebc2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">1-<strong class="kt ir"><em class="nd">getStaticProps</em></strong></p><p id="ecb8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2-<strong class="kt ir"><em class="nd">getStaticPaths</em></strong></p><p id="23b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们回顾一下这些函数，并试着理解我们什么时候需要使用它们。</p><h2 id="4bdf" class="mf mg iq bd mh mi mj dn mk ml mm dp mn la mo mp mq le mr ms mt li mu mv mw mx bi translated">getStaticProps</h2><p id="dd40" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">如果您调用并使用getStaticProps，Next.js将预先呈现您的应用程序。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="741c" class="mf mg iq nf b gy nj nk l nl nm">export async function getStaticProps(context) {<br/>  return {<br/>    props: {}, // props will be passed to component<br/>  }<br/>}</span></pre><p id="c5fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您需要从数据库或CMS获取数据时，getStaticProps是在页面呈现并显示在页面上之前获取数据的方法。</p><p id="fe50" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果必须呈现页面并避免数据提取组件的闪烁问题，您应该在页面呈现之前使用getStaticProps。</p><p id="c331" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个函数总是在构建时运行，从不在客户端运行。这意味着无论何时你在你的项目中运行<strong class="kt ir">下一个构建</strong>脚本，它都已经为你获取并准备好了页面。</p><p id="acec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该功能只能在页面内从<strong class="kt ir">直接<strong class="kt ir">导出</strong>。您不能从其他文件中导出它。</strong></p><h2 id="44f2" class="mf mg iq bd mh mi mj dn mk ml mm dp mn la mo mp mq le mr ms mt li mu mv mw mx bi translated">getStaticPaths</h2><p id="d5b6" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">什么时候应该使用getStaticPaths？</p><p id="e3d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您正在获取一些数据，并且您的页面生成依赖于这些数据，我们应该使用<strong class="kt ir"><em class="nd">getStaticPaths</em></strong>和<strong class="kt ir"><em class="nd">getStaticProps</em></strong></p><p id="10ae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些从动态路径生成的静态站点使用并创建getStaticPaths中指定的所有动态页面。</p><h2 id="40ef" class="mf mg iq bd mh mi mj dn mk ml mm dp mn la mo mp mq le mr ms mt li mu mv mw mx bi translated">我们如何使用<strong class="ak"> <em class="nn"> getStaticPaths和getStaticProps并举例</em> </strong></h2><p id="ab58" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">假设我们正在应用程序中创建一个包含许多不同产品的产品页面。这些产品细节来自服务器，我们想为这些页面创建一个动态路径。</p><p id="2969" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要在一个动态页面中创建所有这些页面，我们需要创建:</p><ul class=""><li id="62d8" class="no np iq kt b ku kv kx ky la nq le nr li ns lm nt nu nv nw bi translated">这些产品及其相应标识符的动态路径。</li></ul><p id="aaa7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了能够获得所有这些路径，我们需要使用<strong class="kt ir"> <em class="nd"> getStaticPaths。</em>T3】</strong></p><p id="af3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要使用<strong class="kt ir"><em class="nd">getStaticProps</em></strong><em class="nd"/>来使用这个标识符，并在我们的动态路径中获取特定产品的相应数据。</p><p id="bce5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本例中，我们将使用<a class="ae nx" href="https://dummyjson.com/products" rel="noopener ugc nofollow" target="_blank">https://dummyjson.com/products</a>获取产品，并为每个产品创建一个动态产品页面。</p><p id="56c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们需要创建<strong class="kt ir">页面/产品/索引. tsx </strong>页面</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="3358" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在页面呈现之前，我们已经获取了所有的产品，并且创建了产品页面。</p><p id="fda9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们需要用getStaticPaths和getStaticProps创建每个单独的产品页面。</p><p id="198d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们应该在这里创建动态页面为<strong class="kt ir">/pages/products/[id]. tsx .</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="be76" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们已经用获取的数据创建了所有的动态页面。</p><p id="cbe5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想看所有的实现，你可以点击这里:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa nz l"/></div></figure><p id="f7e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仅此而已:)</p><p id="668c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nd">如果你觉得这篇文章很有帮助，你可以通过使用我的推荐链接注册一个</em> <a class="ae nx" href="https://melihyumak.medium.com/membership" rel="noopener"> <strong class="kt ir"> <em class="nd">中级会员来访问类似的文章</em> </strong> </a> <em class="nd">。</em>T32</p><p id="ecfd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="nd">关注我的</em> </strong> <a class="ae nx" href="https://twitter.com/hadnazzar" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">推特</strong> </a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://www.youtube.com/c/TechnologyandSoftware"><div class="gh gi ob"><img src="../Images/c012fae801a3ab846a63dc560d09ff17.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*dbjgfMVqPih09kJM.png"/></div></a><figcaption class="oc od gj gh gi oe of bd b be z dk">Subscribe for more on <a class="ae nx" href="https://www.youtube.com/c/TechnologyandSoftware?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"><strong class="bd og">Youtube</strong></a></figcaption></figure><h2 id="8837" class="mf mg iq bd mh mi mj dn mk ml mm dp mn la mo mp mq le mr ms mt li mu mv mw mx bi translated">编码快乐！</h2><p id="27fc" class="pw-post-body-paragraph kr ks iq kt b ku my jr kw kx mz ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">梅利赫</p><p id="7b26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nd">更多内容请看</em><a class="ae nx" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nd">plain English . io</em></strong></a><em class="nd">。报名参加我们的</em> <a class="ae nx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。关注我们关于</em><a class="ae nx" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nd">Twitter</em></strong></a><em class="nd">和</em><a class="ae nx" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nd">LinkedIn</em></strong></a><em class="nd">。查看我们的</em> <a class="ae nx" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nd">社区不和谐</em> </strong> </a> <em class="nd">加入我们的</em> <a class="ae nx" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nd">人才集体</em> </strong> </a> <em class="nd">。</em></p></div></div>    
</body>
</html>