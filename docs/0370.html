<html>
<head>
<title>Incorporate Localization into Your React App with react-i18next</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用react-i18next将本地化集成到React应用程序中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/incorporate-localization-into-your-react-app-with-react-i18next-cc55bbdb0d50?source=collection_archive---------15-----------------------#2022-01-21">https://javascript.plainenglish.io/incorporate-localization-into-your-react-app-with-react-i18next-cc55bbdb0d50?source=collection_archive---------15-----------------------#2022-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/84c9abd32966e570effa2b1bb8468cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mj9wH4JvmDMfZkv-nB8KbA.jpeg"/></div></div></figure><p id="adf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本地化可以让你的应用成功或失败，这取决于你想要的客户群。</p><p id="2a66" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">准备好本地化的基础设施对于正确处理非常重要。</p><p id="d96d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">React的国际化提供者有很多，但我最喜欢的是<a class="ae kw" href="https://react.i18next.com/" rel="noopener ugc nofollow" target="_blank"> react-i18next </a>。</p><p id="a258" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">他们有很好的文档、简单的设置和使用最新React特性的工具，比如钩子，使开发人员能够快速上手并运行。</p><p id="b062" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我想回顾一下我的react-i18next的简单实现，并强调一些让一切正常工作所需的核心特性。</p><p id="17c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的例子将演示如何使用从CDN中提取的语言文件来设置本地化。</p><p id="810c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">安装</strong></p><p id="634a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们需要做的第一件事是安装所有的软件包。</p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a601" class="lg lh iq lc b gy li lj l lk ll">npm install react-i18next i18next i18next-browser-languagedetector i18next-http-backend</span><span id="0c29" class="lg lh iq lc b gy lm lj l lk ll">or </span><span id="1dbc" class="lg lh iq lc b gy lm lj l lk ll">yarn add react-i18next i18next i18next-browser-languagedetector i18next-http-backend</span></pre><p id="bda3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">配置</strong></p><p id="0493" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，创建一个在应用程序启动时加载的配置文件。我将我的文件放在src文件夹的根目录下的一个名为i18n.ts的文件中</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="607e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">配置高亮显示</strong></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="e859" class="lg lh iq lc b gy li lj l lk ll">import LanguageDetector from “i18next-browser-languagedetector”</span></pre><p id="0b2d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个包用于从用户的浏览器中获取语言。有很多地方可以找到它。要获得完整的列表，我建议阅读他们的文件:<a class="ae kw" href="https://github.com/i18next/i18next-browser-languageDetector" rel="noopener ugc nofollow" target="_blank">https://github.com/i18next/i18next-browser-languageDetector</a></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="2880" class="lg lh iq lc b gy li lj l lk ll">import Backend from "i18next-http-backend"</span></pre><p id="695d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个包使您能够从CDN请求文件，并将它们合并到i18next生态系统中。<a class="ae kw" href="https://github.com/i18next/i18next-http-backend" rel="noopener ugc nofollow" target="_blank">https://github.com/i18next/i18next-http-backend</a></p><pre class="kx ky kz la gt lb lc ld le aw lf bi"><span id="a187" class="lg lh iq lc b gy li lj l lk ll">const backendOpts = {  loadPath: "https://{bucket-name}.s3.amazonaws.com/localization/{{lng}}/{{ns}}.json",  crossDomain: true,}</span></pre><p id="b83e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我用来请求翻译文件的配置URL方案。你的可能看起来不一样。下面的init对象中设置了{{lng}}和{{ns}}变量，以供参考。</p><p id="8108" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">剩下的都是默认值，可以在这里找到:<a class="ae kw" href="https://react.i18next.com/latest/i18next-instance" rel="noopener ugc nofollow" target="_blank">https://react.i18next.com/latest/i18next-instance</a></p><p id="141b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，将配置导入到应用程序的根目录中</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="e41f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">用途</strong></p><p id="9d9a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是translation.json文件的一个基本示例:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="abf4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是如何在功能组件中使用这些翻译:</p><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="ac80" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">react-i18next提供了一个<a class="ae kw" href="https://react.i18next.com/latest/usetranslation-hook" rel="noopener ugc nofollow" target="_blank"> useTranslation hook </a>作为将翻译拉入组件的最简单方式。</p><p id="fbff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这能让您了解向React应用程序添加本地化是多么简单。这远不像过去那样是一项艰巨的任务。</p><p id="e8ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="lp">更多内容请看</em><a class="ae kw" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="lp">plain English . io</em></strong></a><em class="lp">。报名参加我们的</em> <a class="ae kw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="lp">免费周报</em> </strong> </a> <em class="lp">。在我们的</em> <a class="ae kw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="lp">社区</em> </strong> </a> <em class="lp">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>