<html>
<head>
<title>Build Error Chart in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript构建错误图表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/build-an-error-chart-in-javascript-b54e74224bb8?source=collection_archive---------24-----------------------#2022-02-03">https://javascript.plainenglish.io/build-an-error-chart-in-javascript-b54e74224bb8?source=collection_archive---------24-----------------------#2022-02-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/6a9fd4e3bd9ed5d0b02314d0184e688f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjvQjM64FdcWuJM25J-Dcg.png"/></div></div></figure><p id="93f8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">需要一个炫酷的互动</strong> <a class="ae kt" href="https://www.anychart.com/chartopedia/chart-type/error-chart/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">错误图表</strong> </a> <strong class="jx io">为你的网页或app可视化？让我做你的向导吧！跟随本教程，你将学习如何使用JavaScript轻松创建酷的交互式错误图表。</strong></p><p id="6459" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这里，我将按政治派别可视化疫情前六个月期间美国对新冠肺炎威胁的感知数据。所以你也可以探究民主党人和共和党人在这些态度上的分歧。数据来源于发表在<em class="ku"> Plos One </em>杂志上的文章<a class="ae kt" href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0250123" rel="noopener ugc nofollow" target="_blank">“新冠肺炎和疫苗犹豫:一项纵向研究”</a>。</p><h1 id="b6db" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">什么是误差图</h1><p id="30e4" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">在我开始之前，我想确保我们在理解错误图表实际上是什么以及它是如何工作的这一点上是一致的。</p><p id="4b9e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">误差图是一种数据可视化类型，通常用于借助所谓的误差线来显示数据的不确定性或可变性。后者可以添加到主图形的顶部，除了以线、柱、条、面积、标记或其他类型的系列的形式绘制的平均值之外，还可以表示值范围。</p><h1 id="cf26" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">错误图表预览</h1><p id="81c6" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">现在，让我向您展示最终的错误图表，让您更加兴奋地学习如何自己创建一个错误图表！</p><p id="21dc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因此，我将从2020年3月到8月，用政治倾向来代表美国民众对新冠肺炎威胁的感知。确切地说，我将以如下方式展示Ariel Fridman、Rachel Gershon和Ayelet Gneezy进行的纵向调查的<a class="ae kt" href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0250123" rel="noopener ugc nofollow" target="_blank">结果</a>。自我认同的民主党人和共和党人的平均反应将在两个<a class="ae kt" href="https://www.anychart.com/chartopedia/chart-type/line-chart/" rel="noopener ugc nofollow" target="_blank">折线图</a>中可视化，误差条将代表95%的置信区间。在调查中，回答的等级从1到7，其中1是最低感知威胁，7是最高感知威胁。</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ly"><img src="../Images/49c647cfd662397f8ccea87d24586d30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y6UcEYhPPKL1TtcN.png"/></div></div></figure><h1 id="4b02" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">4个简单步骤中的基本JS错误图表</h1><p id="2a00" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">用一个好的JavaScript图表库创建错误图表非常简单。在这里，我将使用<a class="ae kt" href="https://www.anychart.com" rel="noopener ugc nofollow" target="_blank"> AnyChart </a>，这是一个灵活易用的。它有很棒的<a class="ae kt" href="https://docs.anychart.com" rel="noopener ugc nofollow" target="_blank">文档</a>，很多有用的<a class="ae kt" href="https://www.anychart.com/products/anychart/gallery/" rel="noopener ugc nofollow" target="_blank">示例</a>，还有一个<a class="ae kt" href="https://playground.anychart.com" rel="noopener ugc nofollow" target="_blank">操场</a>供你自己试验数据可视化代码。</p><p id="37d3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">掌握网络技术的基础知识总是好的。但是在创建像这样的基于JavaScript的交互式图形时，即使没有太多这样的背景知识，一切都很简单。</p><p id="2ef9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">构建JS错误图表的过程可以分为以下四个基本步骤:</p><ol class=""><li id="f185" class="md me in jx b jy jz kc kd kg mf kk mg ko mh ks mi mj mk ml bi translated">创建一个HTML页面。</li><li id="4a15" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">包括JavaScript文件。</li><li id="b7a9" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">添加数据。</li><li id="e0c9" class="md me in jx b jy mm kc mn kg mo kk mp ko mq ks mi mj mk ml bi translated">写一些JS图表代码。</li></ol><h1 id="9d4b" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">1.创建HTML页面</h1><p id="3533" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">我要做的第一件事是创建一个基本的HTML页面来保存我的错误图表。在那里，我定义了一个带有id属性的block元素(假设它是“container”)。接下来，我在<code class="fe mr ms mt mu b">&lt;head&gt;</code>部分添加了样式属性，在这里我将<code class="fe mr ms mt mu b">&lt;div&gt;</code>的宽度和高度设置为100%,这样我的图表就可以呈现在整个页面上。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="3ee2" class="mz kw in mu b gy na nb l nc nd">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Error Chart&lt;/title&gt;<br/>    &lt;style type="text/css"&gt;      <br/>      html, body, #container { <br/>        width: 100%; height: 100%; margin: 0; padding: 0; <br/>      } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="6f9e" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">2.包括JavaScript文件</h1><p id="d323" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">然后，我需要包括所有必要的脚本。我将从<a class="ae kt" href="https://cdn.anychart.com" rel="noopener ugc nofollow" target="_blank"> CDN、</a>中使用它们，但是如果你愿意，你也可以下载这些文件。</p><p id="f051" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于一个错误图表，我所需要的是<a class="ae kt" href="https://docs.anychart.com/Quick_Start/Modules#base" rel="noopener ugc nofollow" target="_blank">基础</a>模块。我在网页的<code class="fe mr ms mt mu b">&lt;head&gt;</code>部分引用了它。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="c369" class="mz kw in mu b gy na nb l nc nd">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;JavaScript Error Chart&lt;/title&gt;<br/>    &lt;script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js"&gt;&lt;/script&gt;<br/>    &lt;style type="text/css"&gt;      <br/>        html, body, #container { <br/>          width: 100%; height: 100%; margin: 0; padding: 0; <br/>        } <br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;  <br/>    &lt;div id="container"&gt;&lt;/div&gt;<br/>    &lt;script&gt;<br/><strong class="mu io"><em class="ku">      // All the JS error chart code will be here.<br/></em></strong>    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="1107" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">3.设置数据</h1><p id="1082" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">有多种方式加载数据。在这种情况下，我想要可视化的数据量非常小。所以我可以直接把它放在代码里。</p><p id="1544" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我将为民主党和共和党策划两个系列。所以我像这样添加数据:</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="010f" class="mz kw in mu b gy na nb l nc nd">var data1 = anychart.data<br/>  .set([<br/>    ['Mar', 4.26, 0.1, 0.1],<br/>    ['Apr', 4.46, 0.11, 0.11],<br/>    ['May', 4.36, 0.126, 0.126],<br/>    ['June', 4.29, 0.132, 0.132],<br/>    ['July', 4.49, 0.124, 0.124],<br/>    ['Aug', 4.47, 0.124, 0.124]<br/>  ])<br/>  <br/>var data2 = anychart.data<br/>  .set([<br/>    ['Mar', 3.9, 0.144, 0.144],<br/>    ['Apr', 4.09, 0.172, 0.172],<br/>    ['May', 3.71, 0.196, 0.196],<br/>    ['June', 3.54, 0.198, 0.198],<br/>    ['July', 3.78, 0.196, 0.196],<br/>    ['Aug', 3.7, 0.194, 0.195]<br/>  ])</span></pre><p id="7ea9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在所有的背景工作都已经整理好了，让我们进入创建JavaScript错误图表的主要部分。它只需要多几行代码。</p><h1 id="0cae" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">4.写一些JS图表代码</h1><p id="c313" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">首先，我添加了一个包含所有JavaScript图表代码的函数，以确保页面在执行任何操作之前都准备好了。在这个函数中，我创建了一个折线图，并为它提供了一个标题。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="3e6c" class="mz kw in mu b gy na nb l nc nd"><strong class="mu io"><em class="ku">// create a line chart<br/></em></strong>var chart = anychart.line();</span><span id="219a" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// add a chart title <br/></em></strong>chart.title('Perceived threat of COVID-19 by political affiliation (March–August 2020)');</span></pre><p id="b960" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，我以数组的形式设置两个系列的数据，如前一步所述。我使用<code class="fe mr ms mt mu b">mapAs</code>函数来映射数组中每个元素所对应的内容。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="dc54" class="mz kw in mu b gy na nb l nc nd"><strong class="mu io"><em class="ku">// create a dataset (democrats)<br/></em></strong>var data1 = anychart.data<br/>  .set([<br/>    ['Mar', 4.26, 0.1, 0.1],<br/>    ['Apr', 4.46, 0.11, 0.11],<br/>    ['May', 4.36, 0.126, 0.126],<br/>    ['June', 4.29, 0.132, 0.132],<br/>    ['July', 4.49, 0.124, 0.124],<br/>    ['Aug', 4.47, 0.124, 0.124]<br/>  ])<br/><strong class="mu io"><em class="ku">  // map the data<br/></em></strong>  .mapAs({<br/>    x: 0,<br/>    value: 1,<br/>    valueLowerError: 2,<br/>    valueUpperError: 3<br/>  });</span><span id="e30b" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// create a dataset (republicans)<br/></em></strong>var data2 = anychart.data<br/>  .set([<br/>    ['Mar', 3.9, 0.144, 0.144],<br/>    ['Apr', 4.09, 0.172, 0.172],<br/>    ['May', 3.71, 0.196, 0.196],<br/>    ['June', 3.54, 0.198, 0.198],<br/>    ['July', 3.78, 0.196, 0.196],<br/>    ['Aug', 3.7, 0.194, 0.195]<br/>  ])<br/><strong class="mu io"><em class="ku">  // map the data<br/></em></strong>  .mapAs({<br/>    x: 0,<br/>    value: 1,<br/>    valueLowerError: 2,<br/>    valueUpperError: 3<br/>  });</span></pre><p id="d546" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">因为所有的数据值都在一个范围内，所以我使用<code class="fe mr ms mt mu b">yScale</code>函数相应地配置Y轴。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="f53b" class="mz kw in mu b gy na nb l nc nd">var yScale = chart.yScale();<br/>yScale.minimum(3.2);<br/>yScale.maximum(4.8);</span></pre><p id="2cae" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我为每个数据集创建一个线序列，设置容器引用，并绘制结果错误图形。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="2002" class="mz kw in mu b gy na nb l nc nd"><strong class="mu io"><em class="ku">// create a line series for the first dataset<br/></em></strong>var series1 = chart.line(data1);</span><span id="9b6f" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// create a line series for the second dataset<br/></em></strong>var series2 = chart.line(data2);</span><span id="2c16" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// set a container id for the chart<br/></em></strong>chart.container('container');</span><span id="6805" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// command to draw the chart<br/></em></strong>chart.draw();</span></pre><p id="3878" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">啊哈——一个可爱的交互式错误图表就在页面上！</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/e0d819b139605eebc76f33e0d2d4b36a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RKD3eJiPEA0pHdXKOrdjhw.png"/></div></div></figure><p id="48c1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以清楚地看到，在疫情的最初几个月，民主党人(顶线)和共和党人(底线)对新冠肺炎威胁的看法存在分歧，相应的长期趋势似乎非常明显。</p><p id="31fe" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">非常欢迎您仔细看看这个基于JavaScript的初始错误图表，并在<a class="ae kt" href="https://playground.anychart.com/irYKkg0W" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>或<a class="ae kt" href="https://codepen.io/shacheeswadia/pen/KKvjQaL" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上摆弄它的代码。</p><h1 id="e12e" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">误差图表定制</h1><p id="8593" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">虽然基本的错误图表已经准备好了，但是在外观、感觉和易读性方面仍然有改进的空间。AnyChart JS库有很多很好的选项来增强错误图表，使它更加优雅，信息量更大。所以，让我带你走几个快速定制的步骤，你可能会喜欢。</p><h1 id="710b" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">1.添加网格和轴记号</h1><p id="ea98" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">首先，我想在Y轴上添加更多的记号，并显示网格线，以便于人们在研究这个错误图表时理解这些值。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="130d" class="mz kw in mu b gy na nb l nc nd">var ticks = chart.yScale().ticks();<br/>ticks.interval(0.2);</span><span id="973c" class="mz kw in mu b gy ne nb l nc nd">chart.yGrid().enabled(true).stroke({<br/><strong class="mu io"><em class="ku">  // customize the stroke color<br/></em></strong>  color: "#ededed",<br/>});</span></pre><h1 id="1aed" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">2.改变颜色</h1><p id="906e" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">蓝色和红色通常分别用来代表民主党和共和党。因此，让我使用<code class="fe mr ms mt mu b">stroke</code>属性相应地改变系列线和误差线的颜色，使图形更加直观。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="58e1" class="mz kw in mu b gy na nb l nc nd"><strong class="mu io"><em class="ku">// create a line series for the first dataset<br/></em></strong>var series1 = chart.line(data1).stroke("#031bbb", 3);</span><span id="75bf" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// create error bars for the first series<br/></em></strong>var error1 = series1.error();<br/>error1.valueErrorStroke("#031bbb", 1);</span><span id="d213" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// create a line series for the second dataset<br/></em></strong>var series2 = chart.line(data2).stroke("#de0100", 3);</span><span id="e620" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// create error bars for the second series<br/></em></strong>var error2 = series2.error();<br/>error2.valueErrorStroke("#de0100", 1);</span></pre><p id="e565" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">正如你所看到的，我还增加了笔画宽度，使线条更加突出。</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/0b5ba1737abf5e865449954e066ec94a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NuoHyJEIlOGegZbtSXS97A.png"/></div></div></figure><p id="140c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">用<a class="ae kt" href="https://playground.anychart.com/UKkV1F7X" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>或<a class="ae kt" href="https://codepen.io/shacheeswadia/pen/XWaLoVG" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上的代码检查这个JS错误表。</p><h1 id="cf04" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">3.添加标记</h1><p id="2262" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">为了强调折线图上的单个值，我想向两个系列添加两种不同类型的标记，指定它们的类型、大小和颜色。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="79dc" class="mz kw in mu b gy na nb l nc nd"><strong class="mu io"><em class="ku">// set markers for the first series<br/></em></strong>var series1 = chart.marker(data1).type("circle").size(5).stroke("#031bbb", 1).fill("#0066cc");<br/>   <br/><strong class="mu io"><em class="ku">// set markers for the second series<br/></em></strong>var series2 = chart.marker(data2).type("square").size(5).stroke("#de0100", 1).fill("#de0100");</span></pre><h1 id="83f5" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">4.增强工具提示</h1><p id="e36e" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">默认的工具提示信息不多。但是我可以很容易地让它显示系列名称、平均值和上下误差值。</p><p id="dad0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">首先，我将这个系列命名为:</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="2d54" class="mz kw in mu b gy na nb l nc nd">series1<br/>  .name('Democrats');</span><span id="231a" class="mz kw in mu b gy ne nb l nc nd">series2<br/>  .name('Republicans');</span></pre><p id="bda1" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我还想拆分工具提示，为每个系列提供自己的工具提示:</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="2edd" class="mz kw in mu b gy na nb l nc nd">var tooltip = chart.tooltip();<br/>tooltip.displayMode("separated");</span></pre><p id="0767" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">最后，我格式化值的显示方式并设置工具提示的位置。</p><pre class="lz ma mb mc gt mv mu mw mx aw my bi"><span id="2b4e" class="mz kw in mu b gy na nb l nc nd"><strong class="mu io"><em class="ku">// configure the tooltip formatter<br/></em></strong>tooltip<br/>  .fontColor('#E1E1E1')<br/>  .titleFormat('{%seriesName}')<br/>  .format(function () {<br/>    return (<br/>      'Mean value: ' +<br/>      this.value +<br/>      '\nUpper error value: ' +<br/>      this.valueLowerError +<br/>      '\nLower error value: ' +<br/>      this.valueUpperError<br/>    );<br/>  });</span><span id="efb6" class="mz kw in mu b gy ne nb l nc nd"><strong class="mu io"><em class="ku">// set the tooltip position<br/></em></strong>chart.tooltip().positionMode('point');</span></pre><p id="c13b" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">一个令人惊叹的、有洞察力的JavaScript (HTML5)错误图表已经准备好了！这些简单而有效的改变让视觉化变得更加吸引人！</p><figure class="lz ma mb mc gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nf"><img src="../Images/98f8e206adb7f521e6f60fad0212fb74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8u4qdJX_AIP4wRo_bOzgUQ.png"/></div></div></figure><p id="0212" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">查看完整的最终代码，并在<a class="ae kt" href="https://playground.anychart.com/m3sXHVgO/" rel="noopener ugc nofollow" target="_blank"> AnyChart游乐场</a>或<a class="ae kt" href="https://codepen.io/shacheeswadia/pen/LYjKqOy" rel="noopener ugc nofollow" target="_blank"> CodePen </a>上玩这个交互式JS错误图表。</p><h1 id="e51c" class="kv kw in bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls bi translated">结论</h1><p id="2ae6" class="pw-post-body-paragraph jv jw in jx b jy lt ka kb kc lu ke kf kg lv ki kj kk lw km kn ko lx kq kr ks ig bi translated">新冠肺炎的威胁可能还没有结束。但是我希望在本教程的帮助下，您使用JavaScript创建web交互式错误图表永远不会有压力！</p><p id="1304" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你有任何问题，请不要犹豫，在下面的评论区提问。谢了。</p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><p id="8c87" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ku">any Chart的团队感谢Shachee Swadia作为博客的客座博文撰写了这篇伟大的JavaScript错误图表教程。</em></p><p id="e9e4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ku">错误图表在</em> <a class="ae kt" href="https://www.anychart.com/chartopedia/chart-type/error-chart" rel="noopener ugc nofollow" target="_blank"> <em class="ku">图表目录</em> </a> <em class="ku">中描述，这是我们选择正确图表类型的综合指南。</em></p><p id="3b95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ku">我们的博客里还有其他很棒的</em> <a class="ae kt" href="https://www.anychart.com/blog/category/javascript-chart-tutorials/" rel="noopener ugc nofollow" target="_blank"> <em class="ku"> JavaScript制图教程</em> </a> <em class="ku">。</em></p><p id="5ca7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ku">想投稿客串帖子？我们将很高兴收到您的来信。</em></p></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><p id="ad91" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ku">原载于2022年2月3日https://www.anychart.com</em><a class="ae kt" href="https://www.anychart.com/blog/2022/02/03/error-chart-js/" rel="noopener ugc nofollow" target="_blank"><em class="ku"/></a><em class="ku">。</em></p><p id="4328" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ku">更多内容看</em> <a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ku">说白了就是</em> </strong> </a> <em class="ku">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ku">免费周报</em> </strong> </a> <em class="ku">。在我们的</em> <a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ku">社区不和谐</em> </strong> </a> <em class="ku">中获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>