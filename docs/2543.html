<html>
<head>
<title>React.memo — A Higher-Order Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React.memo —高阶组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-memo-a-higher-order-component-7bcb392ac40e?source=collection_archive---------6-----------------------#2022-06-15">https://javascript.plainenglish.io/react-memo-a-higher-order-component-7bcb392ac40e?source=collection_archive---------6-----------------------#2022-06-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3b76" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React.memo用一个例子的详细解释。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/976635e484e64f533349ca2ffcca22e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5fodnMCB9Ue-cQvkTu8k7Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image created by the author on <a class="ae kv" href="http://canva.com" rel="noopener ugc nofollow" target="_blank">Canva</a></figcaption></figure><h1 id="ee22" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">React中的高阶组件是什么？</h1><p id="4561" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">正如React文档中提到的，高阶组件(HOC)是React中重用组件逻辑的一种高级技术。HOC不是React API的一部分，但它只是一个以组件作为参数并返回新组件的函数。</p><h1 id="0612" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">什么是React.memo？</h1><p id="06a4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如题，<strong class="lq ir"> React.memo </strong>是一个<strong class="lq ir">高阶函数</strong>。它用于记忆组件的结果，这有助于提高React应用程序的性能。</p><p id="2df5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">简单地说，如果我们的组件为传递给它的相同属性值返回相同的结果，那么呈现相同的结果会破坏应用程序的性能。React memo是这个问题的解决方案。我们只需要将组件包装在对<em class="mp"> React.memo </em>的调用中，因此React将跳过组件的渲染，并重用之前的渲染结果。</p><h1 id="0558" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">例子</h1><p id="764b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在，让我们考虑一个简单的例子来更精确地阐明这个概念。假设我们有一个父组件和一个子组件。现在，每当父组件由于其自身的状态改变而重新呈现时，子组件也将重新呈现，这是React的常见特性。这里，子组件中没有发生状态变化，这意味着子组件的不必要呈现将影响性能。为了解决这个问题，我们只需要将我们的子组件包装在React.memo中，这样React将使用之前的渲染结果。</p><p id="89ab" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请参见下面的示例。在我们的示例中，我们有一个打印<em class="mp">值1 </em>的<em class="mp">父组件</em>，以及一个在浏览器显示上打印<em class="mp">值2 </em>的<em class="mp">子组件</em>。</p><p id="fa30" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在没有使用Memo  的<strong class="lq ir"> <em class="mp">第一种情况下，子组件在两个值都改变时重新渲染，这被称为性能差，因为子组件只使用value2作为其属性。</em></strong></p><p id="6a50" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们的<strong class="lq ir"> <em class="mp">第二个案例利用备忘录</em> </strong>解决了这个问题。在这种情况下，我已经将子组件包装在React Memo中，因此只有当value2发生变化时，它才会重新呈现。</p><h2 id="97da" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">父组件:</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h2 id="8cee" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">子组件:</h2><h2 id="0b62" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated"><strong class="ak"> <em class="ne">案例1:无反应备忘录示例&amp;输出</em> </strong></h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output video created by the author</figcaption></figure><h2 id="9ee4" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">案例2:使用React备忘录示例和输出</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf nd l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Output video created by the author</figcaption></figure><h1 id="3518" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">react . memo vs . use memo()</h1><p id="20f7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">React Memo是一个将React组件作为参数的特设组件，它用于记忆传递给它的组件的结果。另一方面，useMemo()是一个React钩子，它接受一个函数和一个依赖数组，然后记忆从传递给它的函数返回的值。如果你还是很迷茫，不要着急。去看看我在useMemo() hook  上的另一篇文章，它会帮助你理解两者之间的区别。</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/quickly-learn-usememo-hook-2fb59fd99b62"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">React Hooks — useMemo() —通过示例进行说明</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">什么是useMemo()？我们应该什么时候使用它？怎么用？</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kp nj"/></div></div></a></div><h1 id="a71b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="9ae7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">本文的目的是理解React.memo的概念，它是React中的一个高阶组件。我用一个父子组件的简单例子展示了它的用例。我还附上了显示输出的视频。两种场景中的控制台输出将帮助您跟踪子组件的重新呈现次数。我希望这篇文章能帮助你详细理解React备忘录。请跟随我阅读更多类似这样有趣的文章。</p><div class="ng nh gp gr ni nj"><a href="https://medium.com/@kardaniyagnik/membership" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">通过我的推荐链接加入Medium-Yagnik Kardani</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx kp nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://www.buymeacoffee.com/kardaniyagnik" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">Yagnik Kardani正在创建帮助他人成长的技术学习材料。</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">你好👋，我是一名媒体方面的技术作家。我喜欢学习并帮助他人在软件开发和云计算方面成长…</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">www.buymeacoffee.com</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx kp nj"/></div></div></a></div><p id="2bf5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="mp">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> <em class="mp">说白了就是</em> </strong> </a> <em class="mp">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> <em class="mp">免费周报</em> </strong> </a> <em class="mp">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir"><em class="mp">Twitter</em></strong></a><em class="mp">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir"><em class="mp">LinkedIn</em></strong></a><em class="mp">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> <em class="mp">社区不和谐</em> </strong> </a> <em class="mp">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="lq ir"> <em class="mp">人才集体</em> </strong> </a> <em class="mp">。</em></p></div></div>    
</body>
</html>