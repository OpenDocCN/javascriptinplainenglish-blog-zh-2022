<html>
<head>
<title>How to Give Props Default Values in Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Vue.js中给道具默认值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-give-props-default-values-in-vue-js-993aac2ef0f5?source=collection_archive---------2-----------------------#2022-05-11">https://javascript.plainenglish.io/how-to-give-props-default-values-in-vue-js-993aac2ef0f5?source=collection_archive---------2-----------------------#2022-05-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/f0efb1b23c9f6b8ebc037a84657c9d4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ja8bFytwP3fh0XFt8u55-A.png"/></div></div></figure><p id="1437" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当我们在<a class="ae kt" href="https://fjolt.com/category/vue" rel="noopener ugc nofollow" target="_blank"> Vue </a>中使用组件时，我们经常使用<a class="ae kt" href="https://fjolt.com/article/vue-how-do-props-work" rel="noopener ugc nofollow" target="_blank">属性或道具</a>将定制的数据片段向下传递给子组件。例如，我们可以告诉我们的子组件，对于这个版本的组件，“名称”被设置为“我的组件”:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="502d" class="ld le in kz b gy lf lg l lh li">&lt;Component name="my-component" /&gt;</span></pre><p id="0137" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果我们试图在没有<code class="fe lj lk ll kz b">name</code>属性的情况下调用这个组件，它会在代码中返回<code class="fe lj lk ll kz b">undefined</code>，或者在HTML中显示时没有文本。比方说我们的<code class="fe lj lk ll kz b">Component</code>长这样:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="4788" class="ld le in kz b gy lf lg l lh li">&lt;script&gt;<br/>export default {<br/>    props: {<br/>        name: String<br/>    },<br/>    mounted() {<br/>        console.log(this.name);<br/>    }<br/>}<br/>&lt;/script&gt;</span><span id="42b4" class="ld le in kz b gy lm lg l lh li">&lt;template&gt;<br/>    &lt;p&gt;<br/>        Hi {{ name }}<br/>    &lt;/p&gt;<br/>&lt;/template&gt;</span></pre><p id="c6d4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的组件所做的就是定义一个类型为<code class="fe lj lk ll kz b">String</code>的叫做<code class="fe lj lk ll kz b">name</code>的道具，并且控制台记录这个属性。它也以<code class="fe lj lk ll kz b">Hi {{ name }}</code>的形式显示出来。这里唯一的问题是，如果调用组件时<code class="fe lj lk ll kz b">name</code>未定义，则不会给出默认名称。</p><h1 id="c938" class="ln le in bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">在Vue中设置默认属性值</h1><p id="2d6e" class="pw-post-body-paragraph jv jw in jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">在Vue中设置默认值很容易。如果您使用的是<a class="ae kt" href="https://fjolt.com/article/vue-composition-api-vs-options-api" rel="noopener ugc nofollow" target="_blank">选项API </a>，那么就像将我们的属性扩展到一个对象中一样简单。例如，如果我们希望我们的<code class="fe lj lk ll kz b">name</code>有一个默认值“<strong class="jx io">那里</strong>”，那么我们更新我们的道具如下所示:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="1be8" class="ld le in kz b gy lf lg l lh li">export default {<br/>    props: {<br/>        name: {<br/>            type: String,<br/>            default: "there"<br/>        }<br/>    },<br/>    mounted() {<br/>        console.log(this.name);<br/>    }<br/>}</span></pre><p id="acc3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在，如果没有给出姓名，消息将简单地说“<strong class="jx io">你好</strong></p><h1 id="b708" class="ln le in bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">在合成API中设置默认属性值</h1><p id="9b0a" class="pw-post-body-paragraph jv jw in jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">在composition API中，定义props使用了<code class="fe lj lk ll kz b">defineProps</code>函数。该函数遵循与Options API上定义的props相同的语法。定义一个没有默认值的道具如下所示:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="0f60" class="ld le in kz b gy lf lg l lh li">import { defineProps } from 'vue';</span><span id="c680" class="ld le in kz b gy lm lg l lh li">const props = defineProps({<br/>    name: String<br/>});</span></pre><p id="89fc" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io">然后添加一个默认值</strong>，我们扩展<code class="fe lj lk ll kz b">name</code>来拥有一个默认属性，就像之前一样:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="aa72" class="ld le in kz b gy lf lg l lh li">import { defineProps } from 'vue';</span><span id="e42a" class="ld le in kz b gy lm lg l lh li">const props = defineProps({<br/>    name: {<br/>        type: String,<br/>        default: "there"<br/>    }<br/>});</span></pre><h1 id="96ae" class="ln le in bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">在Vue中按要求设置道具</h1><p id="2351" class="pw-post-body-paragraph jv jw in jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">为了避免在属性上设置默认值的需要，我们可以通过使用<code class="fe lj lk ll kz b">required</code>字段来强制要求一个属性。例如，如果我们想要定义我们的<code class="fe lj lk ll kz b">name</code>属性，我们只需将<code class="fe lj lk ll kz b">required</code>设置为<code class="fe lj lk ll kz b">true</code>:</p><pre class="ku kv kw kx gt ky kz la lb aw lc bi"><span id="3e67" class="ld le in kz b gy lf lg l lh li">&lt;setup&gt;<br/>import { defineProps } from 'vue';</span><span id="0eb6" class="ld le in kz b gy lm lg l lh li">const props = defineProps({<br/>    name: {<br/>        type: String,<br/>        required: true<br/>    }<br/>});<br/>&lt;/script&gt;</span></pre><p id="ed1e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mp">更多内容请看</em><a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">plain English . io</em></strong></a><em class="mp">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">免费周报</em> </strong> </a> <em class="mp">。关注我们关于</em><a class="ae kt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">Twitter</em></strong></a><em class="mp">和</em><a class="ae kt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mp">LinkedIn</em></strong></a><em class="mp">。加入我们的</em> <a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mp">社区不和谐</em> </strong> </a> <em class="mp">。</em></p></div></div>    
</body>
</html>