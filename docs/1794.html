<html>
<head>
<title>How to Set Up Next.js with TypeScript to Get a 100% Score in Google Lighthouse and Vercel Analytics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ç”¨TypeScriptè®¾ç½®Next.jsåœ¨Google Lighthouseå’ŒVercel Analyticsä¸­è·å¾—100åˆ†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/how-to-set-up-next-js-with-typescript-to-get-a-100-score-in-google-lighthouse-and-vercel-analytics-6f97501a91c7?source=collection_archive---------0-----------------------#2022-04-20">https://javascript.plainenglish.io/how-to-set-up-next-js-with-typescript-to-get-a-100-score-in-google-lighthouse-and-vercel-analytics-6f97501a91c7?source=collection_archive---------0-----------------------#2022-04-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9f83" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">å»ºç«‹ä¸€ä¸ªPWAæ¥è·å¾—Google Lighthouseã€Vercel Analyticså’ŒWebpagetest.orgå®‰å…¨å…¬å¸çš„è®¸å¯</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e8e164d1703f87a66df7f65f5b5c7ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6S4ih_mXxA-BkNAoOin5A.png"/></div></div></figure><h1 id="7bd5" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">ä»‹ç»</h1><p id="262f" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Next.jsæ„å»ºæ¸è¿›å¼Webåº”ç”¨ç¨‹åºï¼Œä»¥åœ¨Google Lighthouseå’ŒVercel Analyticsä¸­è·å¾—100%çš„åˆ†æ•°ã€‚</p><p id="d9e3" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ç»å†ä¼˜åŒ–ä¸€ä¸ªå…¨æ–°çš„Next.jsé¡¹ç›®çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ä¹Ÿå¯ä»¥å°†å…¶è§†ä¸ºä»¥ä¸‹æ–‡ç« çš„æ›´æ–°ç»„åˆ:</p><div class="mk ml gp gr mm mn"><a href="https://rockyli.medium.com/build-a-pwa-with-next-js-to-achieve-100-lighthouse-score-8bbb86598ed4" rel="noopener follow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">ç”¨Next.jsæ„å»ºPWAï¼Œå®ç°100% lighthouseè¯„åˆ†</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">è¿™ç¯‡æ–‡ç« è®²è¿°äº†æˆ‘ä»¬å¦‚ä½•ç”¨Next.js (React.js)æ„å»ºä¸€ä¸ªæ¸è¿›çš„Webåº”ç”¨ç¨‹åºï¼Œå¹¶è·å¾—100%çš„åˆ†æ•°â€¦</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">rockyli.medium.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kp mn"/></div></div></a></div><div class="mk ml gp gr mm mn"><a rel="noopener  ugc nofollow" target="_blank" href="/build-a-pwa-with-next-js-to-achieve-100-in-google-lighthouse-and-next-js-analytics-ab695765c48"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">ç”¨Next.jså»ºç«‹ä¸€ä¸ªPWAï¼Œåœ¨Google Lighthouseå’ŒNext.js Analyticsä¸­å®ç°100%</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">åœ¨Google light house+next . js Analytics+Webpagetest.orgä¸­è·å¾—æœ€é«˜æ’å</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mw l"><div class="nc l my mz na mw nb kp mn"/></div></div></a></div><p id="bd19" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å¦å¤–ï¼Œè¯¥é¡¹ç›®å°†ä½¿ç”¨TypeScriptç¼–å†™ã€‚</p><p id="6fad" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å½“æˆ‘åˆ›å»º<a class="ae nd" href="https://github.com/rockyliyanlok/nextjs-100" rel="noopener ugc nofollow" target="_blank"> nextjs-100 </a>æ—¶ï¼Œæˆ‘çš„å¤§éƒ¨åˆ†é¡¹ç›®ä»ç„¶æ˜¯ç”¨JavaScriptç¼–å†™çš„ï¼Œå¹¶å¸¦æœ‰ç”¨äºç±»å‹æ£€æŸ¥çš„PropTypesã€‚æ¸æ¸åœ°ï¼Œè¶Šæ¥è¶Šå¤šçš„é¡¹ç›®è½¬å‘äº†TypeScriptï¼Œæˆ‘å¼€å§‹æ„è¯†åˆ°ç”¨TypeScriptæ„å»ºé¡¹ç›®çš„æ›´å¤šå¥½å¤„ã€‚ä¸€é¡¹<a class="ae nd" href="https://earlbarr.com/publications/typestudy.pdf" rel="noopener ugc nofollow" target="_blank">ç ”ç©¶</a>å‘ç°15%çš„JavaScript bugså¯ä»¥é€šè¿‡ä½¿ç”¨TypeScriptæ£€æµ‹å‡ºæ¥ã€‚</p><p id="377e" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å°¤å…¶æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨ä¸€ä¸ªæœ‰è®¸å¤šè´¡çŒ®è€…çš„é¡¹ç›®ä¸Šå·¥ä½œæ—¶ã€‚ä½¿ç”¨TypeScriptï¼Œæˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°é‡æ„ä»£ç ï¼Œè€Œä¸ä¼šä¸¥é‡ç ´åä»£ç ã€‚</p><p id="4ab2" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å› æ­¤ï¼Œæ˜¯æ—¶å€™åœ¨TypeScript ä¸­æ„å»ºæˆ‘ä»¬çš„<a class="ae nd" href="https://github.com/rockyliyanlok/nextjs-100-ts" rel="noopener ugc nofollow" target="_blank"> nextjs-100äº†ï¼</a></p><h1 id="4ff9" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">å¸¦æœ‰TypeScriptçš„Next.js</h1><p id="ce34" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬ä»åˆ›å»ºä¸€ä¸ªæ–°çš„Next.jsåº”ç”¨ç¨‹åºå¼€å§‹ã€‚</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="d77e" class="nj ks iq nf b gy nk nl l nm nn">$ yarn create next-app â€” typescript</span></pre><p id="c9fd" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">æ­£å¦‚æˆ‘ä»¬åœ¨TypeScript Next.jsé¡¹ç›®ä¸­çœ‹åˆ°çš„ï¼Œåä¸º<code class="fe no np nq nf b">next-env.d.ts</code>å’Œ<code class="fe no np nq nf b">tsconfig.json</code>çš„æ–‡ä»¶å°†åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºã€‚æ–‡ä»¶<code class="fe no np nq nf b">next-env.d.ts</code>æ˜¯ä¸ºäº†ç¡®ä¿Next.jsç±»å‹è¢«TypeScriptç¼–è¯‘å™¨é€‰ä¸­ã€‚æˆ‘ä»¬ä¸åº”è¯¥åˆ é™¤æˆ–ç¼–è¾‘å®ƒã€‚</p><p id="377b" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å¦ä¸€ä¸ªæ–‡ä»¶<code class="fe no np nq nf b">tsconfig.json</code>æ˜¯TypeScriptç¼–è¯‘å™¨çš„å®šåˆ¶é…ç½®ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦é¢å¤–çš„ç±»å‹ï¼Œåœ¨æ ¹ä¸­åˆ›å»ºä¸€ä¸ª<code class="fe no np nq nf b">*.d.ts</code>ï¼Œå¹¶åœ¨<code class="fe no np nq nf b">tsconfig.json</code>çš„åŒ…å«æ•°ç»„ä¸­å¼•ç”¨ã€‚</p><p id="cf11" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">æˆ‘ä»¬å¯ä»¥åœ¨å®˜æ–¹æ–‡ä»¶ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯:<a class="ae nd" href="https://nextjs.org/docs/basic-features/typescript" rel="noopener ugc nofollow" target="_blank">https://nextjs.org/docs/basic-features/typescript</a></p><h1 id="26f8" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">æ·»åŠ å›¾æ ‡èµ„äº§</h1><p id="cb45" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">è®©æˆ‘ä»¬æ¸…ç†å¹¶æ·»åŠ ä¸€äº›é¡¹ç›®ç­¾åã€‚ä¾‹å¦‚ï¼Œåˆ é™¤ä¸å¿…è¦çš„ç»„ä»¶å¹¶æ·»åŠ åº”ç”¨ç¨‹åºå›¾æ ‡ã€‚favicon.ioå·¥å…·æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå¯ä»¥ç”Ÿæˆwebåº”ç”¨ç¨‹åºå›¾æ ‡èµ„äº§ã€‚</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="3c8a" class="nj ks iq nf b gy nk nl l nm nn">public/<br/>â”œâ”€â”€ android-chrome-192x192.png<br/>â”œâ”€â”€ android-chrome-512x512.png<br/>â”œâ”€â”€ apple-touch-icon.png<br/>â”œâ”€â”€ favicon-16x16.png<br/>â”œâ”€â”€ favicon-32x32.png<br/>â”œâ”€â”€ favicon.ico<br/>â””â”€â”€ site.webmanifest</span></pre><p id="5cf4" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">è¿™äº›å›¾æ ‡èµ„äº§åº”è¯¥æ”¾åœ¨<strong class="ll ir"> <em class="nr">å…¬å…±</em> </strong>æ–‡ä»¶å¤¹ä¸­ã€‚æˆ‘ä»¬è¿˜éœ€è¦ç»™<code class="fe no np nq nf b">site.webmanifest</code>æ·»åŠ ä¸€äº›å±æ€§ï¼Œä½¿å…¶å®Œæ•´å¹¶æ»¡è¶³æ¸è¿›å¼webåº”ç”¨ç¨‹åºçš„éœ€æ±‚ã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./public/site.webmanifest</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./pages/_document.tsx</figcaption></figure><p id="a30c" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">ä¸€æ—¦æˆ‘ä»¬å‡†å¤‡å¥½èµ„äº§ï¼Œåœ¨<code class="fe no np nq nf b">_document.tsx</code>çš„<code class="fe no np nq nf b">&lt;head&gt;</code>å…ƒç´ ä¸­æ·»åŠ metaæ ‡ç­¾ã€‚</p><h2 id="9490" class="nj ks iq bd kt ny nz dn kx oa ob dp lb ls oc od ld lw oe of lf ma og oh lh oi bi translated">manifest . JSON vs site . web manifest</h2><p id="7554" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">æ ¹æ®w3.org T21çš„è¯´æ³•ï¼Œå¼€å‘è€…å¯ä»¥é€‰æ‹©ä½¿ç”¨ä¸åŒçš„æ‰©å±•ï¼Œæ¯”å¦‚T3å’ŒT4ã€‚ç„¶è€Œï¼ŒIANAæ³¨å†Œçš„æ¸…å•æ–‡ä»¶æ‰©å±•åæ˜¯<code class="fe no np nq nf b">.webmanifest</code>ã€‚æˆ‘ä»¬å°†åœ¨è¿™ä¸ªåº“ä¸­ä½¿ç”¨<code class="fe no np nq nf b">site.webmanifest</code>ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/2b8591e106f39a8247e3a77e6720e316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0oJroErIs2nAIhNKkQklpQ.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 1</strong> Performance report from Lighthouse â€” dev build</figcaption></figure><p id="6c0b" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">ç”Ÿäº§ç‰ˆæœ¬æ˜¯åº”ç”¨ç¨‹åºçš„ä¼˜åŒ–ç‰ˆæœ¬ã€‚<strong class="ll ir">ä¸­ç”Ÿæˆçš„ä»£ç <em class="nr">ã€‚æ¥ä¸‹æ¥ç¼–è¯‘å¹¶ç¼©å°</em>å’Œ</strong>ã€‚é€šå¸¸ï¼Œä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæˆ‘ä»¬ä¼šå°†ç”Ÿäº§ç‰ˆæœ¬æ¨é€åˆ°ç°åœºã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/d9f8708fc88e04faed0ad5b771a5c794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VZqqFDlH8VWZW35d2RFEvg.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 2</strong> Performance report from Lighthouse â€” prod build</figcaption></figure><p id="924b" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">è®©æˆ‘ä»¬ç»§ç»­è®©æŠ¥å‘Šå…¨æ˜¯ç»¿è‰²çš„ã€‚</p><h1 id="9930" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">æ·»åŠ å…ƒæ ‡ç­¾æ ‡é¢˜æè¿°</h1><p id="a9f0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">æ ¹æ®Lighthouseçš„æŠ¥å‘Šï¼Œæ·»åŠ æ ‡é¢˜å’Œæè¿°å…ƒç´ å¯ä»¥æé«˜å¯è®¿é—®æ€§å’ŒSEOæŒ‡æ ‡ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/58b31dfc2dc0e54f1b5b500e3b8d1ca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVjkzQizgwOO1aJ_HgA6Vw.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 3</strong> Diagnostics from Lighthouse â€” title element</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/67196f2fd483caae6ab47603c1b79c83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9vZfPsFBdf9Er8tZ0rVNIA.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 4</strong> Diagnostics from Lighthouse â€” title element and meta description</figcaption></figure><p id="edb3" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">åœ¨Next.jsä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æè¿°å…ƒæ ‡ç­¾æ”¾åœ¨<code class="fe no np nq nf b">_document.tsx</code>æ–‡ä»¶ä¸­ã€‚ç„¶è€Œï¼Œ<code class="fe no np nq nf b">&lt;title&gt;</code>å…ƒç´ åº”è¯¥æ”¾åœ¨æ¯ä¸€é¡µä¸Šã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./pages/_document.tsx</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./pages/index.tsx</figcaption></figure><h1 id="b6c0" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">å‘HTMLå…ƒç´ æ·»åŠ langå±æ€§</h1><p id="79a4" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">ä»v10å¼€å§‹Next.jsæ”¯æŒå›½é™…åŒ–è·¯ç”±ã€‚Next.jsä¼šæ ¹æ®ç”¨æˆ·è®¿é—®çš„è¯­è¨€è‡ªåŠ¨æ·»åŠ <code class="fe no np nq nf b">lang</code>å±æ€§ã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./next.config.js</figcaption></figure><p id="5948" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">åœ¨<code class="fe no np nq nf b">next.config.js</code>ä¸­æ·»åŠ i18né…ç½®ä»¥æŒ‡å®šæ”¯æŒçš„è¯­è¨€ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è‡ªåŠ¨æ£€æµ‹çš„langå±æ€§è¢«æ·»åŠ åˆ°HTMLå…ƒç´ ä¸­ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/0324b86fad3756729950bec4c8ffa8be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kULhkbNYj2ykDLYl-GXIQ.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 5 </strong>Performance report from Lighthouse â€” all green</figcaption></figure><p id="1ccc" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å¤ªå¥½äº†ï¼æˆ‘ä»¬æˆåŠŸäº†ï¼</p><p id="b1a4" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">åœ¨LighthouseæŠ¥å‘Šä¸­ï¼Œæ‰€æœ‰å››ä¸ªæŒ‡æ ‡éƒ½æ˜¯ç»¿è‰²100ã€‚å³ä¾¿å¦‚æ­¤ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°PWAåœˆè¿˜æ˜¯ä¸€ä¸ªè´Ÿå·ã€‚</p><h1 id="595b" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">æ¸è¿›å¼Webåº”ç”¨ç¨‹åº</h1><p id="c4f0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">é€šè¿‡æ·»åŠ <code class="fe no np nq nf b">next-pwa</code>åŒ…ï¼Œä½¿Next.jsåº”ç”¨ç¨‹åºæˆä¸ºä¸€ä¸ªæ¸è¿›å¼webåº”ç”¨ç¨‹åºæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="4cf7" class="nj ks iq nf b gy nk nl l nm nn">$ yarn add next-pwa</span></pre><p id="b4f6" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å¯¼å…¥<code class="fe no np nq nf b">next.config.js</code>ä¸­çš„<code class="fe no np nq nf b">next-pwa</code>åŒ…å¹¶æ·»åŠ é…ç½®ã€‚æˆ‘ä»¬é€šå¸¸ä¸å¸Œæœ›æœåŠ¡äººå‘˜åœ¨å¼€å‘æœŸé—´è¿è¡Œã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./next.config.js</figcaption></figure><p id="f1a9" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å¯¹äºPWAè®¾ç½®æ¥è¯´,<code class="fe no np nq nf b">theme-color</code>å’Œ<code class="fe no np nq nf b">referrer</code> metaæ ‡ç­¾ä¹Ÿæ˜¯å¿…éœ€çš„ã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./pages/_document.tsx</figcaption></figure><h2 id="9589" class="nj ks iq bd kt ny nz dn kx oa ob dp lb ls oc od ld lw oe of lf ma og oh lh oi bi translated">manifest.jsonçš„é¢„ç¼“å­˜é—®é¢˜</h2><p id="3ac0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">åœ¨<a class="ae nd" href="https://github.com/shadowwalker/next-pwa/issues/295#issuecomment-971219218" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªçº¿ç¨‹</a>ä¸­æåˆ°äº†ä¸€ä¸ªé¢„ç¼“å­˜é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜ä¼šåœ¨éƒ¨ç½²åˆ°Vercelåå‘ç”Ÿã€‚å› æ­¤ï¼Œåœ¨ä¸‹ä¸€ä¸ªpwaæ„å»ºä¸­ï¼Œè¿è¡Œæ—¶ç¼“å­˜è¢«æ·»åŠ ï¼Œè€Œ<code class="fe no np nq nf b">middleware-manifest.json</code>è¢«æ’é™¤ã€‚</p><p id="83c0" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">åšäº†ä¸Šé¢çš„ä¿®æ”¹åï¼Œç¯å¡”æŠ¥å‘Šä¸­çš„PWAåœˆç¥å¥‡åœ°å˜æˆäº†ç»¿è‰²çš„å‹¾å·ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/4ad1881ac0b371a3e3f1dfa16dc2a4f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ee_1Ry1a7tFm_Y7fRuWzzw.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 6</strong> Performance report from Lighthouse â€” all green and PWA passed</figcaption></figure><h1 id="b699" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">æ£€æŸ¥å®‰å…¨æ€§</h1><p id="d5b0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">è™½ç„¶æˆ‘ä»¬åœ¨ç¯å¡”æŠ¥å‘Šä¸­åšåˆ°äº†100%ï¼Œä½†è¿™ä¸åº”è¯¥æ˜¯è¿™ä¸ªæ•…äº‹çš„ç»“å°¾ã€‚å®‰å…¨æ€§æ€»æ˜¯å¾ˆé‡è¦ï¼Œå› æ­¤è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹å®‰å…¨æ€§å¾—åˆ†ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/d4d3ebe6eb0b2b54bb0006c24ed424a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f_Tvr3N8sVd6PK5-g13dYw.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 7</strong> Security report from Webpagetest.org â€” Security score E</figcaption></figure><p id="2227" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å‚è€ƒ<a class="ae nd" href="https://webpagetest.org/" rel="noopener ugc nofollow" target="_blank">webpagetest.org</a>å®‰å…¨è¯„åˆ†åœ¨<strong class="ll ir"> E </strong>å¸¦ï¼Œæœ‰ä¸€å †é—®é¢˜éœ€è¦æˆ‘ä»¬è§£å†³ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/78c31d6e43bf4db9bf04bfb2b375352b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N9DUKbhkytYxrjkbIxAFFA.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 8</strong> Diagnostics from Webpagetest.org â€” X Content Type Options</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/7c05ce751db0ded9a42760d6a04ed470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vjPL11x3VGJ77YmiDclDGA.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 9 </strong>Diagnostics from Webpagetest.org â€” X Frame Options</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/ac1b81d9451ee586896a0a0622bd00c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YsVQpdo9T22L0R04uuQeoQ.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 10 </strong>Diagnostics from Webpagetest.org â€” X XSS Protection</figcaption></figure><h2 id="5eef" class="nj ks iq bd kt ny nz dn kx oa ob dp lb ls oc od ld lw oe of lf ma og oh lh oi bi translated">æ·»åŠ å®‰å…¨æ ‡é¢˜</h2><p id="81bf" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨<code class="fe no np nq nf b">next.config.js</code>ä¸­æ·»åŠ å®‰å…¨å¤´æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./next.config.js</figcaption></figure><h2 id="4647" class="nj ks iq bd kt ny nz dn kx oa ob dp lb ls oc od ld lw oe of lf ma og oh lh oi bi translated">æ·»åŠ å†…å®¹å®‰å…¨ç­–ç•¥</h2><p id="e84b" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">å¯¹äºå†…å®¹å®‰å…¨ç­–ç•¥ï¼Œæˆ‘ä»¬è¿˜ä¸ºVercel Analyticsæ·»åŠ äº†<strong class="ll ir"><em class="nr">vitals.vercel-insights.com</em></strong>ã€‚</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ns nt l"/></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">./next.config.js</figcaption></figure><p id="dcea" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">æ˜¯æ—¶å€™å†æ¬¡å°è¯•åœ¨<a class="ae nd" href="https://webpagetest.org/" rel="noopener ugc nofollow" target="_blank">webpagetest.org</a>è·å¾—æ›´å¥½çš„å®‰å…¨åˆ†æ•°äº†ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/e454c531a26b008ce76a7e6957ae7605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qhUkhETPHOtXrK_kaezJXw.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 11</strong> Security report from Webpagetest.org â€” Security score A+</figcaption></figure><p id="82aa" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">å¹²å¾—å¥½ï¼æœ€åæˆ‘ä»¬åœ¨å®‰å…¨çº§åˆ«ä¸Šå¾—åˆ°äº†band <strong class="ll ir"> A+ </strong>ã€‚</p><h1 id="d239" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">éŸ¦å°”å¡å°”åˆ†æå…¬å¸</h1><p id="996a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">è°·æ­Œç¯å¡”å‡ ä¹æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å·¥å…·ï¼Œæ£€æŸ¥æ ¸å¿ƒç½‘ç«™çš„ç”Ÿå‘½ä½“å¾è¯„åˆ†ã€‚ç„¶è€Œï¼Œè¿™æ˜¯å•ä¸ªæ•°æ®ç‚¹çš„åˆ†æ•°ã€‚å¦‚æœæˆ‘ä»¬æƒ³ä»çœŸå®çš„ä½“éªŒå¾—åˆ†ä¸­è¯„ä¼°ç½‘ç«™çš„é‡è¦æŒ‡æ ‡ï¼ŒVercel analyticså…è®¸æˆ‘ä»¬é€šè¿‡æ”¶é›†è®¿é—®è€…è®¿é—®é¡µé¢æ—¶çš„æŒ‡æ ‡æ¥è¡¡é‡ç½‘ç«™çš„æ€§èƒ½ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/2dce3c02024a61a51f27c7f0a0654f51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aayz88t1xw9ykEbxNHewhg.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 12</strong> Enable Vercel Analytics</figcaption></figure><p id="be82" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">åœ¨Vercelä¸Šè®¾ç½®Vercel Analyticséå¸¸å®¹æ˜“ï¼Œæˆ‘ä»¬åªéœ€åœ¨ç›®æ ‡é¡¹ç›®çš„Analyticsé€‰é¡¹å¡ä¸­å¯ç”¨å®ƒã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/f5da51f3cb47617651f9c1c8a7799ada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T5S_-P0mwq8gG313Nzg1qA.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk"><strong class="bd ok">Figure 13</strong> Performance report from Vercel Analytics</figcaption></figure><p id="c181" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">ç”±äºVercel Analyticsä»è®¿é—®è€…çš„è®¿é—®ä¸­æ”¶é›†æ€§èƒ½åˆ†æ•°ï¼Œæˆ‘ä»¬éœ€è¦è®¿é—®é¡µé¢å‡ æ¬¡ï¼Œæ•°æ®æ‰ä¼šå‡ºç°åœ¨ä»ªè¡¨æ¿ä¸­ã€‚</p><h1 id="ed40" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">ç»“è®º</h1><p id="e9e7" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">åœ¨è¿™ä¸ªæ•…äº‹ä¸­ï¼Œæˆ‘ä»¬ç»å†äº†ä½¿ç”¨Next.jsåˆ›å»ºæ¸è¿›å¼Webåº”ç”¨ç¨‹åºçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œä»¥åœ¨Google Lighthouseã€Next.js Analyticså’Œwebpagetest.orgçš„band A+ securityä¸­è·å¾—100%çš„åˆ†æ•°ã€‚æˆ‘å¸Œæœ›è¿™èƒ½æˆä¸ºä½ æƒŠäººé¡¹ç›®çš„ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼</p><p id="a4f0" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">æºä»£ç å¯ä»¥åœ¨<a class="ae nd" href="https://github.com/rockyliyanlok/nextjs-100-ts" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ªåº“</a>ä¸­æ‰¾åˆ°ã€‚ä½ å¯ä»¥éšæ„æ´¾ç”Ÿå­˜å‚¨åº“æˆ–è€…å¼€å§‹ä½ çš„Next.jsé¡¹ç›®ã€‚</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="7090" class="nj ks iq nf b gy nk nl l nm nn">$ yarn create next-app -e <a class="ae nd" href="https://github.com/rockyliyanlok/nextjs-100-ts" rel="noopener ugc nofollow" target="_blank">https://github.com/rockyliyanlok/nextjs-100-ts</a></span></pre><p id="e5d7" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated">ç¼–ç å¿«ä¹ï¼ğŸ’»</p><p id="3e84" class="pw-post-body-paragraph lj lk iq ll b lm mf jr lo lp mg ju lr ls mh lu lv lw mi ly lz ma mj mc md me ij bi translated"><em class="nr">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae nd" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="nr">plain English . io</em></strong></a><em class="nr">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae nd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="nr">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="nr">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae nd" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="nr">Twitter</em></strong></a><em class="nr">å’Œ</em><a class="ae nd" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="nr">LinkedIn</em></strong></a><em class="nr">ã€‚åŠ å…¥æˆ‘ä»¬çš„</em> <a class="ae nd" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="nr">ç¤¾åŒºä¸å’Œè°</em> </strong> </a> <em class="nr">ã€‚</em></p><h2 id="abef" class="nj ks iq bd kt ny nz dn kx oa ob dp lb ls oc od ld lw oe of lf ma og oh lh oi bi translated">è¿›ä¸€æ­¥é˜…è¯»</h2><div class="mk ml gp gr mm mn"><a rel="noopener  ugc nofollow" target="_blank" href="/typescript-made-easy-a-guide-to-your-first-type-safe-app-with-next-js-wundergraph-and-prisma-e197a59e2b30"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">è½»æ¾ç¼–å†™ç±»å‹è„šæœ¬:ä½¿ç”¨Next.jsã€WunderGraphå’ŒPrismaç¼–å†™ç¬¬ä¸€ä¸ªç±»å‹å®‰å…¨åº”ç”¨ç¨‹åºçš„æŒ‡å—</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">æ˜¯æ—¶å€™æŠ›å¼€ææƒ§ï¼Œå­¦ä¹ TypeScriptäº†ã€‚è®©æˆ‘ä»¬ç»™ä½ ç¬¬ä¸€æ¬¡â€œå‘ç°ï¼â€ç¬é—´é€šè¿‡å»ºç«‹ä¸€ä¸ªå®Œæ•´çš„â€¦</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mw l"><div class="op l my mz na mw nb kp mn"/></div></div></a></div></div></div>    
</body>
</html>