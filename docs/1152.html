<html>
<head>
<title>10 JavaScript New Features You Might Have Missed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可能错过的10个JavaScript新特性</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/10-javascript-new-features-you-might-have-missed-1c6e71fa44c0?source=collection_archive---------7-----------------------#2022-03-06">https://javascript.plainenglish.io/10-javascript-new-features-you-might-have-missed-1c6e71fa44c0?source=collection_archive---------7-----------------------#2022-03-06</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2ec6" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">让我们来看看ES11的亮点。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/8d722c387d17fc5eefc90520b2e26381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*9Mo5XTmYOFO6xrCaAfxe5Q.png"/></div></figure><p id="9979" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">很难跟上ECMAScript规范持续呈现给我们的相对较新的特性。让我们来看看ES11的亮点。</p><h1 id="9ea0" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">BigInt</h1><p id="6b03" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated"><code class="fe md me mf mg b">BigInt</code>是一个<a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive#primitive_wrapper_objects_in_javascript" rel="noopener ugc nofollow" target="_blank">原语包装对象</a>，用于表示和操作<a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" rel="noopener ugc nofollow" target="_blank">原语</a> <code class="fe md me mf mg b">bigint</code>值——这些值<a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" rel="noopener ugc nofollow" target="_blank">太大</a>而无法由<code class="fe md me mf mg b">number</code> <a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" rel="noopener ugc nofollow" target="_blank">原语</a>表示。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="5c14" class="mm lh in mg b gy mn mo l mp mq">const previouslyMaxSafeInteger = 9007199254740991n</span><span id="2815" class="mm lh in mg b gy mr mo l mp mq">const alsoHuge = BigInt(9007199254740991)<br/>// ↪ 9007199254740991n</span><span id="0853" class="mm lh in mg b gy mr mo l mp mq">const hugeString = BigInt("9007199254740991")<br/>// ↪ 9007199254740991n</span><span id="ea1a" class="mm lh in mg b gy mr mo l mp mq">const hugeHex = BigInt("0x1fffffffffffff")<br/>// ↪ 9007199254740991n</span><span id="65ba" class="mm lh in mg b gy mr mo l mp mq">const hugeOctal = BigInt("0o377777777777777777")<br/>// ↪ 9007199254740991n</span><span id="32ee" class="mm lh in mg b gy mr mo l mp mq">const hugeBin = BigInt("0b11111111111111111111111111111111111111111111111111111")<br/>// ↪ 9007199254740991n</span></pre><h1 id="6408" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">零化合并算子(？？)</h1><p id="f977" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">无效合并运算符(<code class="fe md me mf mg b">??</code>)是一种逻辑运算符，当其左侧操作数为<code class="fe md me mf mg b"><a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" rel="noopener ugc nofollow" target="_blank">null</a></code>或<code class="fe md me mf mg b"><a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" rel="noopener ugc nofollow" target="_blank">undefined</a></code>时，返回其右侧操作数，否则返回其左侧操作数。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="cce5" class="mm lh in mg b gy mn mo l mp mq">const nullValue = null;<br/>const emptyText = ""; // falsy<br/>const someNumber = 42;</span><span id="faa6" class="mm lh in mg b gy mr mo l mp mq">const valA = nullValue ?? "default for A";<br/>const valB = emptyText ?? "default for B";<br/>const valC = someNumber ?? 0;</span><span id="bd1d" class="mm lh in mg b gy mr mo l mp mq">console.log(valA); // "default for A"<br/>console.log(valB); // "" (as the empty string is not null or undefined)<br/>console.log(valC); // 42</span></pre><h1 id="9e0b" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">可选链接</h1><p id="d9bc" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">可选链接是一种简单而可行的舒适方式，可以让生活变得更简单。</p><p id="c41f" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这个特性允许您使用处理空值或未定义值的快捷方式来导航对象和函数链。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="c8f1" class="mm lh in mg b gy mn mo l mp mq">box = {<br/>  innerBox: {},<br/>  nullFunction: <strong class="mg io">function</strong>() { <strong class="mg io">return</strong> <strong class="mg io">null</strong>; },<br/>  <em class="ms">// non-existent method foo() and members bar</em><br/>}<br/><em class="ms">// with optional chaining:</em><br/><strong class="mg io">if</strong> (box?.innerBox?.foo){ }<em class="ms">// navigate object graph safely</em><br/><em class="ms">// old style without optional chaining:</em><br/><strong class="mg io">if</strong> (box.innerBox &amp;&amp; box.innerBox.foo){ }<br/><em class="ms">//also works for functions:</em><br/>box.nullFunction()?.foo<br/><em class="ms">// and nonexistent methods and members:</em><br/>box?.foo() &amp;&amp; box?.bar</span></pre><h1 id="aa9f" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">globalThis</h1><p id="dee1" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">全局<code class="fe md me mf mg b">globalThis</code>属性包含全局<code class="fe md me mf mg b">this</code>值，类似于<a class="ae mh" href="https://developer.mozilla.org/en-US/docs/Glossary/Global_object" rel="noopener ugc nofollow" target="_blank">全局对象</a>。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="9756" class="mm lh in mg b gy mn mo l mp mq">function canMakeHTTPRequest() {<br/> return typeof globalThis.XMLHttpRequest === ‘function’;<br/>}</span><span id="f1a8" class="mm lh in mg b gy mr mo l mp mq">console.log(canMakeHTTPRequest());<br/>// expected output (in a browser): true</span></pre><h1 id="86ec" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">字符串.原型.匹配</h1><p id="10fe" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">ES11规范为字符串原型增加了另一项技术:matchAll。这种技术将正则表达式应用于字符串实例，并在每次命中时返回一个迭代器。例如，假设您需要为一个单词以t或t开头的每个位置过滤一个字符串。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="468a" class="mm lh in mg b gy mn mo l mp mq"><strong class="mg io">let</strong> text = "The best time to plant a tree was 20 years ago. The second best time is now.";<br/><strong class="mg io">let</strong> regex = /(?:^|\s)(t[a-z0-9]\w*)/gi; <em class="ms">// matches words starting with t, case insensitive</em><br/><strong class="mg io">let</strong> result = text.matchAll(regex);<br/><strong class="mg io">for</strong> (match of result) {<br/>  console.log(match[1]);<br/>}</span></pre><h1 id="8042" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">动态<code class="fe md me mf mg b">import()</code></h1><p id="4a6f" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">它引入了一种新的类似函数形式的<code class="fe md me mf mg b">import</code>，与静态的<code class="fe md me mf mg b">import</code>相比，它释放了新的能力。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="14e5" class="mm lh in mg b gy mn mo l mp mq"><strong class="mg io">let</strong> asyncModule = await <strong class="mg io">import</strong>('/lib/my-module.ts');</span></pre><h1 id="311a" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">Promise.allSettled()</h1><p id="ab7c" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated"><code class="fe md me mf mg b">Promise.allSettled()</code>方法返回一个承诺，该承诺在所有给定的承诺履行或拒绝后解决，并带有一个对象数组，每个对象描述每个承诺的结果。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="e2ec" class="mm lh in mg b gy mn mo l mp mq"><strong class="mg io">let</strong> promise1 = <strong class="mg io">Promise</strong>.resolve("OK");<br/><strong class="mg io">let</strong> promise2 = <strong class="mg io">Promise</strong>.reject("Not OK");<br/><strong class="mg io">let</strong> promise3 = <strong class="mg io">Promise</strong>.resolve("After not ok");<br/><strong class="mg io">Promise</strong>.allSettled([promise1, promise2, promise3])<br/>    .<strong class="mg io">then</strong>((results) =&gt; console.log(results))<br/>    .<strong class="mg io">catch</strong>((err) =&gt; console.log("error: " + err));</span></pre><h1 id="5225" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">Export *语法</h1><p id="f74c" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">这个特性增加了从一个模块到<code class="fe md me mf mg b">export *</code>的能力。您本来可以从另一个模块中<code class="fe md me mf mg b">import *</code>，但是现在您可以用相同的语法导出</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="8dc4" class="mm lh in mg b gy mn mo l mp mq"><strong class="mg io">Export</strong> * <strong class="mg io">from</strong> '/dir/another-module.js'</span></pre><h1 id="9d31" class="lg lh in bd li lj lk ll lm ln lo lp lq jt lr ju ls jw lt jx lu jz lv ka lw lx bi translated">顶级Await运算符</h1><p id="c1b6" class="pw-post-body-paragraph kk kl in km b kn ly jo kp kq lz jr ks kt ma kv kw kx mb kz la lb mc ld le lf ig bi translated">JavaScript中使用异步函数已经有一段时间了。之前，我们无法在异步函数之外声明await关键字，这导致了一个错误。然而，我们现在可以在异步函数和类之外声明await操作符，这解决了同步问题。</p><pre class="kd ke kf kg gt mi mg mj mk aw ml bi"><span id="7751" class="mm lh in mg b gy mn mo l mp mq">import {getUser} from ‘. /data/User’ let user=await getUser();</span></pre><p id="dce1" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这个话题到此为止。感谢您的阅读。</p><p id="03c6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="ms">更多内容尽在</em> <a class="ae mh" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="ms">说白了. io </em> </strong> </a> <em class="ms">。报名参加我们的</em> <a class="ae mh" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="ms">免费周报</em> </strong> </a> <em class="ms">。关注我们关于</em><strong class="km io"><em class="ms"/></strong><a class="ae mh" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="km io"><em class="ms">推特</em> </strong> </a> <em class="ms">和</em><a class="ae mh" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="km io"><em class="ms">LinkedIn</em></strong></a><em class="ms">。加入我们的</em> <a class="ae mh" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="ms">社区</em> </strong> </a> <em class="ms">。</em></p></div></div>    
</body>
</html>