<html>
<head>
<title>How To Extract the Domain Name From a URL in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript从URL中提取域名</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-extract-the-domain-name-from-a-url-in-javascript-abe123d02cc?source=collection_archive---------1-----------------------#2022-12-15">https://javascript.plainenglish.io/how-to-extract-the-domain-name-from-a-url-in-javascript-abe123d02cc?source=collection_archive---------1-----------------------#2022-12-15</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><h2 id="6349" class="ip iq ir bd b dl is it iu iv iw ix dk iy translated" aria-label="kicker paragraph">毁灭2022</h2><div class=""/><div class=""><h2 id="f486" class="pw-subtitle-paragraph jx ja ir bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">或者，如果你依靠人工智能来完成你的工作，你会失败吗</h2></div><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/0cb053b0e70b31497f3fcedcca516114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vyHTryAiAjG8BrJv141dag.jpeg"/></div></div></figure><p id="ac7c" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">起初我想让一个人工智能来写这篇文章。看过很多对<a class="ae lx" href="https://openai.com/blog/chatgpt/" rel="noopener ugc nofollow" target="_blank"> ChatGPT </a>的热情评价。今天的倒霉事很简单。为什么不呢？</p><p id="079e" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">问题是没有办法让他解决一个微不足道的问题。我没有期待最好的解决方案(这篇文章的第三个)，但至少是正确的。然而，现在我用传统的方法解决了这个问题。</p><p id="989a" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">但是让我们从今天的问题开始。</p><h1 id="26b6" class="ly lz ir bd ma mb mc md me mf mg mh mi kg mj kh mk kj ml kk mm km mn kn mo mp bi translated">问题是</h1><p id="57b3" class="pw-post-body-paragraph lb lc ir ld b le mq kb lg lh mr ke lj lk ms lm ln lo mt lq lr ls mu lu lv lw ik bi translated">链接到<a class="ae lx" href="https://www.codewars.com/kata/514a024011ea4fb54200004b" rel="noopener ugc nofollow" target="_blank">形</a></p><p id="bb0a" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">编写一个函数，当给定一个字符串形式的URL时，它只解析出域名并以字符串形式返回。例如:</p><blockquote class="mv mw mx"><p id="ec0f" class="lb lc my ld b le lf kb lg lh li ke lj mz ll lm ln na lp lq lr nb lt lu lv lw ik bi translated">URL = "<a class="ae lx" href="http://github.com/carbonfive/raygun" rel="noopener ugc nofollow" target="_blank">http://github.com/carbonfive/raygun</a>"-&gt;域名= " github "<br/>URL = "<a class="ae lx" href="http://www.zombie-bites.com" rel="noopener ugc nofollow" target="_blank">http://www.zombie-bites.com</a>"-&gt;域名= "僵尸咬"<br/>URL = "<a class="ae lx" href="https://www.cnet.com" rel="noopener ugc nofollow" target="_blank">https://www.cnet.com</a>"-&gt;域名= cnet "</p></blockquote><h1 id="99fe" class="ly lz ir bd ma mb mc md me mf mg mh mi kg mj kh mk kj ml kk mm km mn kn mo mp bi translated">我的解决方案</h1><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj kp"><img src="../Images/7d485a75672dd10bdffb1e955d45ab63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2S0fXIJyRmTonB4oJSDdiA.jpeg"/></div></div></figure><p id="04ed" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我的解决方案是依次使用<a class="ae lx" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace" rel="noopener ugc nofollow" target="_blank"> String.replace() </a>方法。我对正则表达式不太了解，无法一步完成所有工作。</p><pre class="kq kr ks kt gu nc nd ne bn nf ng bi"><span id="6cc7" class="nh lz ir nd b be ni nj l nk nl">const domainName = (url) =&gt; url.replace(/^https?:\/\//, "")<br/>                              .replace(/^www\./, "")<br/>                              .replace(/\..*/, '');</span></pre><p id="f792" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">为了更好地解释，我将我的职能分为3个部分:</p><ul class=""><li id="704d" class="nm nn ir ld b le lf lh li lk no lo np ls nq lw nr ns nt nu bi translated"><code class="fe nv nw nx nd b">replace(/^https?:\/\//,"")</code>从字符串中删除<code class="fe nv nw nx nd b">http://</code>和<code class="fe nv nw nx nd b">https://</code></li><li id="2752" class="nm nn ir ld b le ny lh nz lk oa lo ob ls oc lw nr ns nt nu bi translated"><code class="fe nv nw nx nd b">replace(/^www\./,"")</code>移除<code class="fe nv nw nx nd b">www.</code></li><li id="cf05" class="nm nn ir ld b le ny lh nz lk oa lo ob ls oc lw nr ns nt nu bi translated"><code class="fe nv nw nx nd b">replace(/\..*/,"")</code>删除第一个点之后的所有内容</li></ul><p id="1380" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">显然，那些更好地处理正则表达式的人可以尝试编写一个单独的表达式:</p><pre class="kq kr ks kt gu nc nd ne bn nf ng bi"><span id="f7ed" class="nh lz ir nd b be ni nj l nk nl">const domainName = (url) =&gt; url.match(/(?:http(?:s)?:\/\/)?(?:w{3}\.)?([^\.]+)/i)[1];</span></pre><p id="1caa" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">但我最喜欢的解决方案是:</p><pre class="kq kr ks kt gu nc nd ne bn nf ng bi"><span id="e381" class="nh lz ir nd b be ni nj l nk nl">const domainName = (url) =&gt; url.replace(/.+\/\/|www.|\..+/g, '');</span></pre><p id="35fc" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">我觉得很优雅，比我的简洁多了。所以我推荐用这个最新版本。</p><p id="6a27" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl od oe hv of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="ik il im in io"><p id="9ef0" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="my">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae lx" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="ld jb"> <em class="my">中邮箱列表</em> </strong> </a></p><div class="ok ol gq gs om on"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="oo ab fp"><div class="op ab oq cl cj or"><h2 class="bd jb gz z fq os fs ft ot fv fx ja bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="ou l"><h3 class="bd b gz z fq os fs ft ot fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="ov l"><p class="bd b dl z fq os fs ft ot fv fx dk translated">el3um4s.medium.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb kz on"/></div></div></a></div><h2 id="37b8" class="pc lz ir bd ma pd pe dn me pf pg dp mi lk ph pi mk lo pj pk mm ls pl pm mo ix bi translated">PS:</h2><p id="2591" class="pw-post-body-paragraph lb lc ir ld b le mq kb lg lh mr ke lj lk ms lm ln lo mt lq lr ls mu lu lv lw ik bi translated">写完这个故事后，过了几天，我试着再次询问ChatGPT。这次结果更好。</p><p id="7d02" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">第一个提出的解决方案完全不合适:</p><pre class="kq kr ks kt gu nc nd ne bn nf ng bi"><span id="76d9" class="nh lz ir nd b be ni nj l nk nl">function getDomainName(url) {<br/>  // create a new anchor element<br/>  var a = document.createElement('a');<br/>  // set the href of the anchor element to the URL passed to the function<br/>  a.href = url;<br/>  // return the hostname of the URL (the domain name)<br/>  return a.hostname;<br/>}</span></pre><p id="3c48" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">另一方面，第二种解决方案是正确的，并且能够通过各种测试:</p><pre class="kq kr ks kt gu nc nd ne bn nf ng bi"><span id="eda9" class="nh lz ir nd b be ni nj l nk nl">function domainName(url) {<br/>  // create a regular expression to match the domain name<br/>  var regex = /^(?:https?:\/\/)?(?:w{3}\.)?([^\.]+)/;<br/>  // use the regex to extract the domain name from the URL<br/>  var match = url.match(regex);<br/>  // return the matched domain name, or an empty string if no match was found<br/>  return match ? match[1] : '';<br/>}</span></pre><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj pn"><img src="../Images/0bab1825ce360e7f6e1d70690f2059fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZ4Wvij1aYWWOdOcZ3pW3A.jpeg"/></div></div></figure><p id="dbcb" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">但是如果我让人工智能折射这个函数，结果还是错的:</p><pre class="kq kr ks kt gu nc nd ne bn nf ng bi"><span id="45e3" class="nh lz ir nd b be ni nj l nk nl">function domainName(url) {<br/>  // create a new URL object from the given URL string<br/>  var urlObject = new URL(url);<br/>  // return the hostname of the URL, which is the domain name<br/>  return urlObject.hostname;<br/>}</span></pre><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gi gj po"><img src="../Images/109fce58467a61fde339859bf71ca49c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g3rIV3iJ5QucpbiLUiIxYQ.jpeg"/></div></div></figure><p id="4191" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated">所以总结一下:</p><ul class=""><li id="59f9" class="nm nn ir ld b le lf lh li lk no lo np ls nq lw nr ns nt nu bi translated">ChatGPT在某些情况下令人震惊</li><li id="914c" class="nm nn ir ld b le ny lh nz lk oa lo ob ls oc lw nr ns nt nu bi translated">如果你不知道如何编程，依靠ChatGPT简直是灾难</li><li id="68e8" class="nm nn ir ld b le ny lh nz lk oa lo ob ls oc lw nr ns nt nu bi translated">有一个测试机制总是更好，因为有时人工智能提出的解决方案是可信的，但却是错误的</li></ul><p id="bad3" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><em class="my">更多内容请看</em><a class="ae lx" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="my">plain English . io</em></strong></a><em class="my">。报名参加我们的</em> <a class="ae lx" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="my">免费周报</em> </strong> </a> <em class="my">。关注我们关于</em><a class="ae lx" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="my">Twitter</em></strong></a><a class="ae lx" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="my">LinkedIn</em></strong></a><em class="my"/><a class="ae lx" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="my">YouTube</em></strong></a><em class="my"/><a class="ae lx" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ld jb"><em class="my">不和</em> </strong> </a> <strong class="ld jb"> <em class="my">。</em>T49】</strong></p><p id="be0d" class="pw-post-body-paragraph lb lc ir ld b le lf kb lg lh li ke lj lk ll lm ln lo lp lq lr ls lt lu lv lw ik bi translated"><strong class="ld jb"> <em class="my">对缩放您的软件启动感兴趣</em> </strong> <em class="my">？检查</em> <a class="ae lx" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jb"> <em class="my">电路</em> </strong> </a> <em class="my">。</em></p></div></div>    
</body>
</html>