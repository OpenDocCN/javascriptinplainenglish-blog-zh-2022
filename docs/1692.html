<html>
<head>
<title>How to Use Google Spreadsheets as a Database (Free Blog Hosting Included)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用谷歌电子表格作为数据库(包括免费博客托管)</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-use-google-spreadsheets-as-a-database-free-blog-hosting-included-5f439909d185?source=collection_archive---------10-----------------------#2022-04-12">https://javascript.plainenglish.io/how-to-use-google-spreadsheets-as-a-database-free-blog-hosting-included-5f439909d185?source=collection_archive---------10-----------------------#2022-04-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="9783" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">多亏了Papa Parse &amp; GitHub，你可以完全免费地托管最便宜的简单静态博客和数据库。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/67b8ff7eae0aac82168f05481cb66a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ADP3i7PckNGql_c3"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@ilyapavlov?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ilya Pavlov</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f3c8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们都有这样一个朋友，他有自己的小型超级利基博客，但大多数时候，这个博客要么关闭，要么超级慢。</p><p id="48fc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里的问题是，这些人中的大多数对管理网站知之甚少，甚至一无所知，他们经常向我们寻求建议，大多数时候是“用WordPress”。</p><p id="290d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是如果你想有一个稳定的博客，由于它的规模、成本和支持，有时甚至WordPress也是一种痛苦。</p><p id="0fc3" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了解决这个问题，我想出了一个最便宜、最简单的计划，完全免费(不包括注册域名的费用，第一年可以低至0.99美元)托管一个简单的静态博客和一个数据库。</p><p id="fd10" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在让我们创建我们的新博客，我将把它命名为<a class="ae ks" href="https://reda-codes.github.io/TheCatsBlog/" rel="noopener ugc nofollow" target="_blank">猫博客</a>因为为什么不呢。</p><p id="ccfa" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于我将使用的博客模板，为了保持简单，我将创建一个管理一切的单一组件应用程序。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/fd92f6b133984051669c07aee8881475.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*VGxmNDrkrup6Qey9wLVltA.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">React app directory layout</figcaption></figure><p id="6f5f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">对于数据库，进入<a class="ae ks" href="https://docs.google.com/spreadsheets" rel="noopener ugc nofollow" target="_blank">谷歌电子表格</a>并创建一个包含所有你想导入的数据的表格。</p><p id="d5d7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在我的例子中，我创建了一个包含Id、Title、Body和Image的虚拟表。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lq"><img src="../Images/63ca0d5f1a680e2cc14772f88d61db20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7bMxm6IhOxsSk5k9JenYjw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Google spreadsheets data table</figcaption></figure><h1 id="58d2" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">将数据导入我们的网站</h1><p id="cf62" class="pw-post-body-paragraph kt ku in kv b kw mj jo ky kz mk jr lb lc ml le lf lg mm li lj lk mn lm ln lo ig bi translated">为了导入数据，我们将使用一个叫做<a class="ae ks" href="https://www.papaparse.com/" rel="noopener ugc nofollow" target="_blank">的工具。</a></p><p id="27ce" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在您的项目文件夹终端运行:</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="419f" class="mt ls in mp b gy mu mv l mw mx">npm i papaparse</span></pre><p id="6058" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">瞧啊。你有工具让我们得到一些数据！</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="d72f" class="mt ls in mp b gy mu mv l mw mx">const Papa = require(“papaparse”);</span><span id="c350" class="mt ls in mp b gy my mv l mw mx">const filePrasing = () =&gt; new Promise((resolve)=&gt; {</span><span id="2157" class="mt ls in mp b gy my mv l mw mx">  Papa.parse(“<strong class="mp io">YOUR GOOGLE SPREADSHEETS LINK</strong>", {</span><span id="d925" class="mt ls in mp b gy my mv l mw mx">   download: true,</span><span id="c3db" class="mt ls in mp b gy my mv l mw mx">   header: true,</span><span id="2bce" class="mt ls in mp b gy my mv l mw mx">   newline: “”,</span><span id="a2d7" class="mt ls in mp b gy my mv l mw mx">   complete: function(results, file) {resolve(results.data);}<br/>  })<br/>})</span><span id="0af3" class="mt ls in mp b gy my mv l mw mx">const getData = async() =&gt; {</span><span id="ac0a" class="mt ls in mp b gy my mv l mw mx">const data = await filePrasing();</span><span id="cb99" class="mt ls in mp b gy my mv l mw mx">return data</span><span id="508c" class="mt ls in mp b gy my mv l mw mx">}</span></pre><p id="b686" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">注意:为了让Papa Parse解析您的工作表，它必须以CSV格式公开共享。</strong></p><p id="450a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在，在调用getdata()之后，Papa Parse将从我们的电子表格中获取数据，并返回一个承诺，在一个对象中包含我们的所有数据。</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="dd54" class="mt ls in mp b gy mu mv l mw mx">[<br/> {<br/>   “ID”: “1”,<br/>   “title”: “ARTICLE TITLE”,<br/>   “body”: “&lt;p&gt;ARTICLE BODY IN HTML&lt;/p&gt;”,<br/>   “image”: “<a class="ae ks" href="https://placekitten.com/400/500" rel="noopener ugc nofollow" target="_blank">I</a>MAGE LINK"<br/> },<br/> {<br/>   “ID”: “2”,<br/>   “title”: “ARTICLE TITLE”,<br/>   “body”: “&lt;p&gt;ARTICLE BODY IN HTML&lt;/p&gt;”,<br/>   “image”: “<a class="ae ks" href="https://placekitten.com/800/600" rel="noopener ugc nofollow" target="_blank">I</a>MAGE LINK”<br/> }<br/>]</span></pre><p id="a328" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了使用react做到这一点，我将使用react钩子useState来管理我们的状态，并在网站渲染时使用useEffect来更新状态。</p><pre class="kd ke kf kg gt mo mp mq mr aw ms bi"><span id="5c31" class="mt ls in mp b gy mu mv l mw mx">/* our data variable */</span><span id="14f9" class="mt ls in mp b gy my mv l mw mx">const [data, setData] = useState([])</span><span id="9740" class="mt ls in mp b gy my mv l mw mx">useEffect(() =&gt; {</span><span id="5da0" class="mt ls in mp b gy my mv l mw mx">  getData().then((res)=&gt; setData([…res]))</span><span id="1a72" class="mt ls in mp b gy my mv l mw mx">}, []);</span><span id="0470" class="mt ls in mp b gy my mv l mw mx">/* our data variable */</span></pre><h1 id="df44" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">博客布局</h1><p id="53ca" class="pw-post-body-paragraph kt ku in kv b kw mj jo ky kz mk jr lb lc ml le lf lg mm li lj lk mn lm ln lo ig bi translated">对于博客布局，我们的组件映射我们的状态，并在前端显示数据。同样为了保持简单，当用户点击一篇文章时，它会显示在一个包含文章正文的弹出窗口上，因为react是一个单页应用程序框架。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/18378aeed2ffd7a87b4765ca431bec25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pOiBzeynNKqmofuR29qOtw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">blog layout code</figcaption></figure><p id="5410" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">注意:要获得以上所有代码，请访问GitHub上的</strong> <a class="ae ks" href="https://github.com/Reda-codes/TheCatsBlog" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io">项目资源库</strong> </a> <strong class="kv io">。</strong></p><h1 id="d579" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">最终结果</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi na"><img src="../Images/167e6839028e61e0c7d585220c8d71f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uyw2yH10-oXstvKNWsi_hQ.png"/></div></div></figure><p id="c277" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最后，我们的<a class="ae ks" href="https://reda-codes.github.io/TheCatsBlog/" rel="noopener ugc nofollow" target="_blank">博客</a>已经完成并开始运行，剩下的唯一事情就是托管它。</p><h1 id="8f89" class="lr ls in bd lt lu lv lw lx ly lz ma mb jt mc ju md jw me jx mf jz mg ka mh mi bi translated">免费博客托管</h1><p id="1faf" class="pw-post-body-paragraph kt ku in kv b kw mj jo ky kz mk jr lb lc ml le lf lg mm li lj lk mn lm ln lo ig bi translated">由于我们的博客是一个静态网页，每次加载时都会从我们的谷歌电子表格中获取数据，我们可以免费将其托管在<a class="ae ks" href="https://reda-codes.github.io/TheCatsBlog/" rel="noopener ugc nofollow" target="_blank"> GitHub pages </a>上，如果你想为你的博客创建一个自定义域，GitHub可以免费提供。</p><p id="7612" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这个项目只是一个如何使用谷歌电子表格作为数据库的演示，而不是一个react教程，如果你使用其他需要服务器的框架，你可以建立一个更复杂的博客。</p><p id="6951" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">把这个项目的所有代码头拿到<a class="ae ks" href="https://github.com/Reda-codes/TheCatsBlog" rel="noopener ugc nofollow" target="_blank"><strong class="kv io">GitHub上的项目库</strong> </a> <strong class="kv io">。</strong></p><p id="0467" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="nb">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="nb">说白了。报名参加我们的</em><strong class="kv io"><em class="nb"/></strong><a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nb">Twitter</em></strong></a><em class="nb">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nb">LinkedIn</em></strong></a><em class="nb">。加入我们的</em><strong class="kv io"><em class="nb"/></strong><a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="nb">社区不和谐</em> </strong> </a> <em class="nb">。</em></strong></a></p></div></div>    
</body>
</html>