<html>
<head>
<title>How to Easily Convert Any HTML String to Markdown in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中轻松地将任何HTML字符串转换为Markdown</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-convert-html-to-markdown-de907c2dfa33?source=collection_archive---------10-----------------------#2022-08-15">https://javascript.plainenglish.io/javascript-convert-html-to-markdown-de907c2dfa33?source=collection_archive---------10-----------------------#2022-08-15</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/0835fc43d3c778bf4f3def477dc5cc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2KE_epkIlZEPPTaIP5Q9OQ.png"/></div></div></figure><p id="4954" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以使用<a class="ae kt" href="https://github.com/domchristie/turndown" rel="noopener ugc nofollow" target="_blank"> Turndown </a>库轻松地将HTML转换成JavaScript中的markdown。</p><h1 id="3de7" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">从NPM安装翻板</h1><p id="5e5a" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">要开始使用Turndown，我们可以使用以下命令从NPM安装它:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="a2e0" class="mg kv in mc b gy mh mi l mj mk">npm i turndown</span></pre><p id="0093" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装完成后，我们可以将其导入JavaScript模块，如下所示:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="5672" class="mg kv in mc b gy mh mi l mj mk">import TurndownService from 'turndown';</span></pre><p id="3bcf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">对于一个常见的JS模块，我们将改为这样导入它:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="0931" class="mg kv in mc b gy mh mi l mj mk">const TurndownService = require('turndown');</span></pre><p id="625c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">现在我们可以使用<code class="fe ml mm mn mc b">turndown</code>模块轻松地将任何HTML字符串转换成markdown:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="e944" class="mg kv in mc b gy mh mi l mj mk">import TurndownService from 'turndown';</span><span id="0418" class="mg kv in mc b gy mo mi l mj mk">const html = `<br/>&lt;h1&gt;Learn Web Development&lt;/h1&gt;<br/>&lt;p&gt;Check out &lt;a href="https://codingbeautydev.com/blog"&gt;Coding Beauty&lt;/a&gt; for some great tutorials!&lt;/p&gt;<br/>`;</span><span id="fcb3" class="mg kv in mc b gy mo mi l mj mk">// Create an instance of the Turndown service<br/>const turndownService = new TurndownService();</span><span id="8184" class="mg kv in mc b gy mo mi l mj mk">const markdown = turndownService.turndown(html);</span><span id="c767" class="mg kv in mc b gy mo mi l mj mk">console.log(markdown);</span></pre><p id="a505" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">该代码将有以下输出:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="9737" class="mg kv in mc b gy mh mi l mj mk">Learn Web Development<br/>=====================</span><span id="f4c4" class="mg kv in mc b gy mo mi l mj mk">Check out [Coding Beauty](https://codingbeautydev.com/blog) for some great tutorials!</span></pre><h1 id="dabb" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">在带有脚本标签的浏览器中使用关闭</h1><p id="91b7" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们也可以在浏览器中使用Turndown，方法是使用<code class="fe ml mm mn mc b">script</code>标签导入Turndown脚本:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="7056" class="mg kv in mc b gy mh mi l mj mk">&lt;script src="https://unpkg.com/turndown/dist/turndown.js"&gt;&lt;/script&gt;</span></pre><p id="dd71" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">包含该脚本后，我们将能够像在前面的代码示例中一样轻松地将HTML转换为Markdown:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="82c6" class="mg kv in mc b gy mh mi l mj mk">const html = `<br/>&lt;h1&gt;Learn Web Development&lt;/h1&gt;<br/>&lt;p&gt;Check out &lt;a href="https://codingbeautydev.com/blog"&gt;Coding Beauty&lt;/a&gt; for some great tutorials!&lt;/p&gt;<br/>`;</span><span id="678d" class="mg kv in mc b gy mo mi l mj mk">// Create an instance of the Turndown service<br/>const turndownService = new TurndownService();</span><span id="4724" class="mg kv in mc b gy mo mi l mj mk">const markdown = turndownService.turndown(html);</span><span id="9530" class="mg kv in mc b gy mo mi l mj mk">console.log(markdown);</span></pre><p id="543f" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在浏览器中，我们还可以将DOM节点作为输入传递给Turndown:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="1777" class="mg kv in mc b gy mh mi l mj mk">// convert document &lt;body&gt; to Markdown<br/>const bodyMarkdown = turndownService.turndown(document.body);</span><span id="746a" class="mg kv in mc b gy mo mi l mj mk">// convert first &lt;div&gt; tag to Markdown<br/>const divMarkdown = turndownService.turndown(document.body);</span></pre><h1 id="346d" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">传递拒绝选项</h1><p id="13b7" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated">我们可以将选项传递给Turndown来定制它应该如何将HTML字符串转换为Markdown。创建拒绝服务的新实例时，可以在构造函数中指定选项。</p><p id="de90" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">例如:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="4aaa" class="mg kv in mc b gy mh mi l mj mk">import TurndownService from 'turndown';</span><span id="293d" class="mg kv in mc b gy mo mi l mj mk">const html = `<br/>&lt;ul&gt;<br/>&lt;li&gt;HTML&lt;/li&gt;<br/>&lt;li&gt;CSS&lt;/li&gt;<br/>&lt;li&gt;JavaScript&lt;li&gt;`;</span><span id="28d8" class="mg kv in mc b gy mo mi l mj mk">// Specifying options when creating an instance of the<br/>// Turndown service<br/>const turndownService = new TurndownService({ bulletListMarker: '-' });</span><span id="bc74" class="mg kv in mc b gy mo mi l mj mk">const markdown = turndownService.turndown(html);</span><span id="1ae7" class="mg kv in mc b gy mo mi l mj mk">console.log(markdown);</span></pre><p id="7ae4" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这里，我们使用<code class="fe ml mm mn mc b">bulletListMarker</code>属性来指定Turndown应该使用<code class="fe ml mm mn mc b">-</code>符号来表示减价中的列表项。这将是代码的输出:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="49a5" class="mg kv in mc b gy mh mi l mj mk">-   HTML<br/>-   CSS<br/>-   JavaScript</span></pre><p id="43a0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><code class="fe ml mm mn mc b">bullerListMarker</code>也接受其他值，比如<code class="fe ml mm mn mc b">*</code>字符:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="1b92" class="mg kv in mc b gy mh mi l mj mk">import TurndownService from 'turndown';</span><span id="8466" class="mg kv in mc b gy mo mi l mj mk">const html = `<br/>&lt;ul&gt;<br/>&lt;li&gt;HTML&lt;/li&gt;<br/>&lt;li&gt;CSS&lt;/li&gt;<br/>&lt;li&gt;JavaScript&lt;li&gt;`;</span><span id="aff7" class="mg kv in mc b gy mo mi l mj mk">// Specifying options when creating an instance of the<br/>// Turndown service<br/>const turndownService = new TurndownService({ bulletListMarker: '*' });</span><span id="2d4d" class="mg kv in mc b gy mo mi l mj mk">const markdown = turndownService.turndown(html);</span><span id="0a6b" class="mg kv in mc b gy mo mi l mj mk">console.log(markdown);</span></pre><p id="a678" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这将产生以下输出:</p><pre class="lx ly lz ma gt mb mc md me aw mf bi"><span id="cb69" class="mg kv in mc b gy mh mi l mj mk">*   HTML<br/>*   CSS<br/>*   JavaScript</span></pre></div><div class="ab cl mp mq hr mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ig ih ii ij ik"><p id="06d2" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mw">转自</em><a class="ae kt" href="https://cbdev.link/0af2bb" rel="noopener ugc nofollow" target="_blank"><em class="mw">codingbeautydev.com</em></a></p><h1 id="2ade" class="ku kv in bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">JavaScript做的每一件疯狂的事情</h1><p id="e18c" class="pw-post-body-paragraph jv jw in jx b jy ls ka kb kc lt ke kf kg lu ki kj kk lv km kn ko lw kq kr ks ig bi translated"><a class="ae kt" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank">注册</a>并立即免费获得这本引人入胜的指南，了解JavaScript微妙的注意事项和鲜为人知的部分。</p><figure class="lx ly lz ma gt jo gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure></div><div class="ab cl mp mq hr mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ig ih ii ij ik"><p id="c293" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mw">更多内容请看</em><a class="ae kt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">plain English . io</em></strong></a><em class="mw">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae kt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">Twitter</em></strong></a><a class="ae kt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">LinkedIn</em></strong></a><em class="mw"/><a class="ae kt" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">YouTube</em></strong></a><em class="mw"/><a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="mw">不和</em> </strong> </a> <em class="mw">。</em></p></div></div>    
</body>
</html>