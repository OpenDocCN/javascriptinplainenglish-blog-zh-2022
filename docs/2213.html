<html>
<head>
<title>Advice From a Senior Dev: Stop Using the Implicit “else”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">资深开发人员的建议:停止使用隐含的“else”</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/advice-from-a-senior-dev-stop-using-the-implicit-else-2a2ecf0a3583?source=collection_archive---------0-----------------------#2022-05-23">https://javascript.plainenglish.io/advice-from-a-senior-dev-stop-using-the-implicit-else-2a2ecf0a3583?source=collection_archive---------0-----------------------#2022-05-23</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="580a" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">我认为有一种趋势——至少在初级开发人员中——认为代码越短越好。但事实并非总是如此。</h2></div><p id="37f8" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我认为有一种趋势——至少在初级开发人员中——认为代码越短越好。跟我重复:越短不一定越好。尽管我知道这种想法是错误的，但我确实深受其害；这就是为什么当我发现它时，我认为隐含的<code class="fe kz la lb lc b">else</code>是自切片面包以来最好的东西。</p><p id="bb43" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">直到一个高级开发人员教我不这样做。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ld"><img src="../Images/93a6521b9e0b6257ed9d015b06f60b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vwiBsZADO3_QHuE4"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">Photo by <a class="ae lt" href="https://unsplash.com/@benwhitephotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ben White</a> on <a class="ae lt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a>. This was me being mindblown.</figcaption></figure><h1 id="dfcf" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">这个隐含的'<code class="fe kz la lb lc b">else'</code>是什么？</h1><p id="543b" class="pw-post-body-paragraph kc kd in ke b kf mm jo kh ki mn jr kk kl mo kn ko kp mp kr ks kt mq kv kw kx ig bi translated">如果您已经熟悉这个概念，请跳到下一节。对于其他人:</p><p id="a520" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">利用</strong> <code class="fe kz la lb lc b"><strong class="ke io">else</strong></code> <strong class="ke io">与</strong> <code class="fe kz la lb lc b"><strong class="ke io">if</strong></code> <strong class="ke io">语句利用</strong> <code class="fe kz la lb lc b"><a class="ae lt" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return" rel="noopener ugc nofollow" target="_blank"><strong class="ke io">return</strong></a></code> <a class="ae lt" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io">语句结束功能执行</strong> </a> <strong class="ke io">。在某些情况下，这让我们消除了</strong> <code class="fe kz la lb lc b"><strong class="ke io">else</strong></code> <strong class="ke io">语句，从而缩短了代码。</strong></p><p id="0c82" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">看看下面的玩具功能<code class="fe kz la lb lc b">giveMeFood</code>和<code class="fe kz la lb lc b">giveMeFoodImplicit</code>。我们不需要<em class="ky">技术上的</em>需要一个<code class="fe kz la lb lc b">else</code>，因为如果你喂我巧克力(只是说说)，函数会提前返回<em class="ky">‘yum’</em>并停止执行。如果你没有，那么它会返回<em class="ky">‘不，谢谢’</em>。</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">Two functions — one with an explicit ‘else’ and one with an implicit ‘else’</figcaption></figure><p id="548c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">事实上，我可以添加更多的<code class="fe kz la lb lc b">if...return</code>语句来代替<code class="fe kz la lb lc b">if...else</code>，在末尾添加一个默认的<code class="fe kz la lb lc b">return</code>！看起来更干净，不是吗？这是不是意味着我们可以永远和<code class="fe kz la lb lc b">else</code>吻别了？</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">Using if…return instead of if…else</figcaption></figure><h1 id="c739" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">为什么以及什么时候避免隐含的<code class="fe kz la lb lc b">'else'</code></h1><p id="ff95" class="pw-post-body-paragraph kc kd in ke b kf mm jo kh ki mn jr kk kl mo kn ko kp mp kr ks kt mq kv kw kx ig bi translated">肯定有使用隐式<code class="fe kz la lb lc b">else</code>的场合，但这是一位高级开发人员向我建议的:</p><ol class=""><li id="90a7" class="mt mu in ke b kf kg ki kj kl mv kp mw kt mx kx my mz na nb bi translated">这有助于保持你的条件句清晰明了，这样它们就可以扩展并且容易被其他人理解(包括你未来的自己)。</li><li id="a57e" class="mt mu in ke b kf nc ki nd kl ne kp nf kt ng kx my mz na nb bi translated"><strong class="ke io">您可以使用final </strong> <code class="fe kz la lb lc b"><strong class="ke io">else</strong></code> <strong class="ke io">作为一个总括或者处理错误，如果一个参数被传入，而您的函数不是为处理而构建的。</strong></li></ol><p id="69d9" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里有一个例子来说明他的意思。</p><p id="39a7" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">假设我们有一个函数，它检查用户选择了哪个国家，并返回一个拨号代码。目前，<code class="fe kz la lb lc b">checkCountryCode</code>只是用来处理作为参数的<code class="fe kz la lb lc b">"United States"</code>和<code class="fe kz la lb lc b">"United Kingdom"</code>。很容易使用隐式的<code class="fe kz la lb lc b">else</code>来完全省略第二个条件并缩短代码。</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">The checkCountryCode function is initially only built to handle two inputs, so it’s tempting to want to use an implicit else</figcaption></figure><p id="7372" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果我们以后想扩展这个函数来处理更多的国家，比如乌拉圭和乌兹别克斯坦，问题就出现了。隐式的<code class="fe kz la lb lc b">return</code>应该处理什么很容易被忘记或混淆(在这种情况下，如果输入是<code class="fe kz la lb lc b">"United Kingdom"</code>，它应该返回<code class="fe kz la lb lc b">+44</code>)！</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">When we start extending the function to handle more countries, it’s easy to forget what condition the implicit else is supposed to be handling!</figcaption></figure><p id="d579" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">现在这里是用显式<code class="fe kz la lb lc b">else</code>重写的代码。它当然更长，但现在如果有人在我们尚未考虑的国家通过，将会引发一个错误——如果这个函数嵌套在一个更大的代码库中，这将特别有用。</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="mr ms l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">This implementation looks a bit more verbose, but it’s far more readable and therefore easier to scale</figcaption></figure><p id="3a67" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">是的，你可以在没有最后一个<code class="fe kz la lb lc b">else</code>的情况下<em class="ky">抛出一个错误，但是这里有一个我们需要问自己的基本问题:</em></p><p id="99b3" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><strong class="ke io">省略</strong> <code class="fe kz la lb lc b"><strong class="ke io">else</strong></code> <strong class="ke io"> s左右居中<em class="ky">其实</em>是不是让我的代码更容易理解？如果有一堆</strong> <code class="fe kz la lb lc b"><strong class="ke io">if...returns</strong></code> <strong class="ke io">然后在底部突然出现一个</strong> <code class="fe kz la lb lc b"><strong class="ke io">throw</strong></code> <strong class="ke io">语句，别人读起来会不会很直观？</strong></p><h1 id="6266" class="lu lv in bd lw lx ly lz ma mb mc md me jt mf ju mg jw mh jx mi jz mj ka mk ml bi translated">最后</h1><p id="0ce4" class="pw-post-body-paragraph kc kd in ke b kf mm jo kh ki mn jr kk kl mo kn ko kp mp kr ks kt mq kv kw kx ig bi translated">我分享这个技巧是因为我认为这是一个关于隐式和显式<code class="fe kz la lb lc b">else</code>的有趣观点。选择其中一个会对长期的可维护性和可扩展性产生影响，这对于像我这样的初级开发人员来说并不明显。当然，由我们来决定什么是我们自己代码的最佳结构——但是知道各种选项是什么总是好的！:')</p><p id="5470" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更多内容请看</em><a class="ae lt" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ky">plain English . io</em></strong></a><em class="ky">。报名参加我们的</em> <a class="ae lt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ky">免费周报</em> </strong> </a> <em class="ky">。关注我们关于</em><a class="ae lt" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ky">Twitter</em></strong></a><em class="ky">和</em><a class="ae lt" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ke io"><em class="ky">LinkedIn</em></strong></a><em class="ky">。查看我们的</em> <a class="ae lt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ky">社区不和谐</em> </strong> </a> <em class="ky">加入我们的</em> <a class="ae lt" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="ky">人才集体</em> </strong> </a> <em class="ky">。</em></p></div></div>    
</body>
</html>