# JavaScript ä¸­çš„ç®­å¤´å‡½æ•°ä¸å¸¸è§„å‡½æ•°â€”â€”ç»¼åˆæŒ‡å—

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/arrow-functions-vs-regular-functions-in-js-fa1a1f235c86?source=collection_archive---------7----------------------->

## JavaScript ä¸­ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„æ¯”è¾ƒ

![](img/1297af07a28d95409fc9904a61802186.png)

ç®­å¤´å‡½æ•°æ˜¯ ECMAScript 6(ES6)ä¸­å¼•å…¥çš„ä¸€ä¸ªå¥‡å¦™ç‰¹æ€§ã€‚ES6 å‘å¸ƒäº 2015 å¹´ã€‚2017 å¹´å¼€å§‹äº†æˆ‘çš„å¼€å‘è€…ç”Ÿæ¶¯ã€‚æ‰€ä»¥å½“æˆ‘å†™æˆ‘çš„ç¬¬ä¸€ä¸ª JavaScript ç¨‹åºæ—¶ï¼Œç®­å¤´å‡½æ•°å°±åœ¨å…¶ä¸­ã€‚åœ¨æˆ‘ä¸ªäººçœ‹æ¥ï¼Œæˆ‘æ›´å–œæ¬¢å°½å¯èƒ½åœ°ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚åŸå› æ˜¯ï¼Œå½“æˆ‘ä»¬ä¸å¸¸è§„å‡½æ•°è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¸¦æœ‰ç®­å¤´å‡½æ•°çš„ä»£ç æ˜¯æ¸…æ™°æ˜“è¯»çš„ï¼Œè€Œä¸”æˆ‘å¯¹ä½¿ç”¨ç®­å¤´å‡½æ•°æ„Ÿåˆ°å¾ˆèˆ’æœã€‚

å¦‚æœç®­å¤´å‡½æ•°å¾ˆå®¹æ˜“å®ç°ï¼Œé‚£ä¹ˆå¸¸è§„å‡½æ•°å°±ä¸å¯èƒ½è¢«ç®­å¤´å‡½æ•°å®Œå…¨å–ä»£ã€‚æœ‰äº›æƒ…å†µä¸‹æˆ‘ä»¬å¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°ã€‚æ‰€ä»¥é˜¿ç½—å‡½æ•°å¹¶ä¸æ˜¯åŒ…æ²»ç™¾ç—…çš„è‰¯è¯ã€‚

***â€œç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿâ€*** æ˜¯ JavaScript é¢è¯•ä¸­æ™®éå­˜åœ¨çš„é—®é¢˜ã€‚æ‰€ä»¥å¦‚æœä½ çš„ç›®æ ‡æ˜¯æŒæ¡ JavaScriptï¼Œä¸è¦é”™è¿‡è¿™ä¸ªå†…å®¹ã€‚

è®©æˆ‘ä»¬ä»åŸºæœ¬çš„äº‹æƒ…å¼€å§‹ï¼Œç„¶åè®¨è®ºè¿™ä¸ªè¯é¢˜çš„é«˜çº§é¡¹ç›®ã€‚

æˆ‘ä»¬ä½¿ç”¨å…³é”®å­—`function`å®šä¹‰çš„å‡½æ•°ç§°ä¸ºå¸¸è§„å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼å®šä¹‰æ­£åˆ™å‡½æ•°:

1.  å‡½æ•°å£°æ˜
2.  å‡½æ•°è¡¨è¾¾å¼

```
*// Function declaration* function sayHello(name) {
   return `Hello ${name}`
}*// Function expression* const sayHello = function(name) {
   return `Hello ${name}`
}
```

æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°å¸¸è§„å‡½æ•°å®šä¹‰ä¸ºç®­å¤´å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
const sayHello = (name) => `Hello ${name}`;
```

å®šä¹‰ç®­å¤´å‡½æ•°æ—¶è¦éµå¾ªçš„å‡†åˆ™ã€‚

*   å½“ä¸€ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ`=>`ç¬¦å·å‰çš„æ‹¬å·ä¸æ˜¯å¿…éœ€çš„ã€‚ä½†æ˜¯è¿™ä¸ªå‡½æ•°ä¸ä»…ä»…éœ€è¦å‚æ•°ï¼›æ‹¬å·æ˜¯å¼ºåˆ¶æ€§çš„ã€‚
*   å¦‚æœå‡½æ•°ä½“åªæœ‰ä¸€è¡Œè¡¨è¾¾å¼ï¼Œåˆ™ä¸éœ€è¦åœ¨`=>`ç¬¦å·åä½¿ç”¨èŠ±æ‹¬å·ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼ŒèŠ±æ‹¬å·æ˜¯å¼ºåˆ¶æ€§çš„ã€‚

è¯·å‚è€ƒä¸‹é¢çš„ä»£ç æ¥é˜æ˜ä¸Šè¿°å‡†åˆ™ã€‚

```
const add = (a, b) => a + b;const sayHello = name => `Hello ${name}`;const someFunction = (x, y, z) => {
  *// do some stuff* ...
  return z;
}
```

***åŸºæœ¬çš„äº‹æƒ…éƒ½åšå®Œäº†ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿›å…¥æ­£é¢˜ã€‚***

## **ä½¿ç”¨â€œthisâ€å…³é”®å­—çš„ä¸åŒè¡Œä¸º**

***åœ¨å¸¸è§„å‡½æ•°ä¸­****`this`å…³é”®å­—æ˜¯åŠ¨æ€çš„ï¼Œè¿™å–å†³äºæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚*

****åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œ***`this`çš„è¡Œä¸ºä¸å¸¸è§„å‡½æ•°çš„`this`è¡Œä¸ºæœ‰å¾ˆå¤§ä¸åŒã€‚`this`çš„å€¼æ€»æ˜¯ç­‰äºå¤–éƒ¨å‡½æ•°çš„`this`å€¼ï¼Œè€Œä¸æ˜¯å®šä¹‰è‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ¢å¥è¯è¯´ï¼Œ`this`æ˜¯æŒ‰è¯æ³•è§£æçš„ï¼Œä¸ç®¡ arrow å‡½æ•°æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Œä¹Ÿä¸ç®¡å®ƒåœ¨å“ªé‡Œæ‰§è¡Œã€‚*

```
*function myFunction() {
  console.log(this); // global object
}
myFunction();*
```

*åœ¨ä¸€ä¸ª ***ç®€å•è°ƒç”¨*** çš„è¿‡ç¨‹ä¸­ï¼Œå°±åƒä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸€æ ·ï¼Œ`this`ç­‰äº`global`å¯¹è±¡ã€‚å¦‚æœæˆ‘ä»¬æŠŠ`myFunction`è½¬æ¢æˆä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œæ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚*

```
*const myFunction = () => {
  console.log(this); *// global object* }
myFunction();*
```

*å¦‚æœæˆ‘ä»¬åœ¨å¸¸è§„å‡½æ•°ä¸­ä½¿ç”¨`new myFunction()`ã€
æ‰§è¡Œä¸€ä¸ª ***æ„é€ å‡½æ•°è°ƒç”¨*ã€
ï¼Œ`this`ç­‰äºæ–°åˆ›å»ºçš„`myFunction {}`å®ä¾‹ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªç®­å¤´å‡½æ•°æ‰§è¡ŒåŒæ ·çš„æ“ä½œï¼Œå®ƒä¼šç»™å‡ºä¸€ä¸ªé”™è¯¯`TypeError: myFunction is not a constructor`ã€‚***

```
*function myFunction() {
  console.log(this);   *//* myFunction {}}
// constructor invocation
new myFunction();const myFunction = () => {
  console.log(this);   *//* TypeError: myFunction is not a constructor}
// constructor invocation
new myFunction();*
```

****æ‰€ä»¥ï¼Œæ™®é€šçš„å‡½æ•°å¯ä»¥ç”¨æ¥æ„é€ å¯¹è±¡ï¼Œä½†æ˜¯ç®­å¤´å‡½æ•°ä¸æ”¯æŒè¿™ä¸€ç‚¹ï¼Œå› ä¸ºç®­å¤´å‡½æ•°æ˜¯æŒ‰ç…§è¯æ±‡æ¥è§£æ*** `this` ***çš„ã€‚****

```
*const dog = {
  name: 'Lassie',
  bark: function () {
    console.log(this);   // { name: 'Lassie', bark: Æ’ }
  }
}
// Normal function method invocation
dog.bark();const dog = {
  name: 'Lassie',
  bark: () => {
    console.log(this);  // global object
  },
}
// Arrow function method invocation
dog.bark();*
```

*åœ¨ ***æ–¹æ³•è°ƒç”¨æœŸé—´*** ä¸ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸€æ ·ï¼Œåœ¨å¸¸è§„å‡½æ•°ä¸­ï¼Œ`this`ç­‰äºå…¶æ‹¥æœ‰çš„å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œ`this`æŒ‡çš„æ˜¯å¤–éƒ¨å‡½æ•°çš„è¯æ³•èŒƒå›´ã€‚åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œ`this`ç­‰äº`global`å¯¹è±¡ï¼Œå› ä¸º`dog`å¯¹è±¡æ˜¯åœ¨è„šæœ¬çš„æ ¹çº§åˆ«ä¸­å£°æ˜çš„ã€‚*

```
*const dogObject = { name: 'Lassie' };// Normal Function
function createDog() {
  console.log(this); // { name: 'Lassie' }
}
createDog.call(dogObject);
createDog.apply(dogObject);// Arrow Function
const createDog = () => {
console.log(this); // global object
};
createDog.call(dogObject);
createDog.apply(dogObject);*
```

*åœ¨ ***ä½¿ç”¨`function.call(context)`æˆ–`function.apply(context)`é—´æ¥è°ƒç”¨*** æ—¶ï¼Œåœ¨å¸¸è§„å‡½æ•°ä¸­ï¼Œ`this`ç­‰äºç¬¬ä¸€ä¸ªå‚æ•°ï¼›åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæ˜¯`dogObject`ã€‚åœ¨ arrow å‡½æ•°ä¸­ï¼Œ`this`çš„å€¼ä¸å˜ï¼Œå¹¶ä¸”`this`ä»ç„¶æŒ‰è¯æ³•è§£æã€‚åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œ`this`ç­‰äº`global`å¯¹è±¡ï¼Œå› ä¸º`createDog`å‡½æ•°æ˜¯åœ¨è„šæœ¬çš„æ ¹çº§åˆ«ä¸­å£°æ˜çš„ã€‚*

## *å‚æ•°ç»‘å®š*

*å¸¸è§„å‡½æ•°æœ‰å‚æ•°ç»‘å®šã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨`arguments`å…³é”®å­—æ¥è®¿é—®å®ƒä»¬ã€‚ä½†æ˜¯ç®­å¤´å‡½æ•°æ²¡æœ‰å‚æ•°ç»‘å®šã€‚å¦‚æœæˆ‘ä»¬è¯•å›¾ä½¿ç”¨å…³é”®å­—`arguments`è®¿é—®è¿™äº›æ–‡ä»¶ï¼Œå®ƒä¼šç»™å‡ºé”™è¯¯:`ReferenceError: arguments is not defined`ã€‚
å‚è§ä¸‹é¢çš„ä¾‹å­ã€‚*

```
*function x() {
  console.log(arguments);
  // [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]
}
x(1, 2, 3);const y = () => {
  console.log(arguments); 
  // ReferenceError: arguments is not defined}
y(1, 2, 3);*
```

*ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ spread è¿ç®—ç¬¦è®¿é—® arrow å‡½æ•°ä¸­çš„å‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:*

```
*const y = (...n) => {
  console.log(n);
}
y(1, 2, 3);*
```

# *ä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°çš„åœ°æ–¹*

*   ****å®šä¹‰å¯¹è±¡å†…éƒ¨çš„å‡½æ•°ã€‚****

```
*const person = {
  age: 30,
  sayAge: () => {
    console.log(`I am ${this.age} years old.`);
    // I am **undefined** years old.
  },
}
person.sayAge();*
```

*ç°åœ¨ä½ åº”è¯¥çŸ¥é“æ‰“å°å¹´é¾„çš„åŸå› æ˜¯`undefined`ğŸ˜ã€‚*

*   ****æ‹…ä»»å»ºé€ å¸ˆ****

```
*const Employee = () => {};
const employee = new Employee(); 
*// TypeError: Employee is not a constructor**
```

***æ³¨:** *ç†è§£ç®­å¤´å‡½æ•°å’Œå¸¸è§„å‡½æ•°çš„åŒºåˆ«æœ‰åŠ©äºä¸ºç‰¹å®šéœ€æ±‚é€‰æ‹©æ­£ç¡®çš„è¯­æ³•ã€‚**

****ä½ çŸ¥é“ä»€ä¹ˆæ˜¯å°é—­å—ï¼Ÿ
æ²¡æœ‰ï¼Ÿç„¶åçœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« *** [***JS å°***](https://medium.com/@sudarshanadayananda/what-is-a-closure-in-js-eab2fcb68ccc) ***ã€‚
æ˜¯çš„ï¼Ÿè¿˜åœ¨è¯»ã€‚ä½ è‚¯å®šä¼šå­¦åˆ°æ–°çš„ä¸œè¥¿ã€‚****

*æ„Ÿè°¢é˜…è¯»ã€‚ğŸ˜*

> *å¸Œæœ›ä½ èƒ½ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°ä¸€äº›æ–°çš„ä¸œè¥¿ã€‚è¯·è·Ÿéšæˆ‘é˜…è¯»è¿™ç±»æ–‡ç« ã€‚å¹²æ¯ï¼*

**æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](https://plainenglish.io/)*ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹æ¯å‘¨ç®€è®¯***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬* [***æ¨ç‰¹***](https://twitter.com/inPlainEngHQ)**å’Œ*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ã€‚æŸ¥çœ‹æˆ‘ä»¬çš„* [***ç¤¾åŒºä¸å’Œè°***](https://discord.gg/GtDtUAvyhW) *åŠ å…¥æˆ‘ä»¬çš„* [***äººæ‰é›†ä½“***](https://inplainenglish.pallet.com/talent/welcome) *ã€‚***