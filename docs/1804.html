<html>
<head>
<title>Meet RxJS: Your Best Friend in Angular in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">遇见RxJS:2022年你在Angular最好的朋友</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/angular-rxjs-dont-let-it-be-your-enemy-make-it-your-best-friend-22e90640d0c1?source=collection_archive---------1-----------------------#2022-04-21">https://javascript.plainenglish.io/angular-rxjs-dont-let-it-be-your-enemy-make-it-your-best-friend-22e90640d0c1?source=collection_archive---------1-----------------------#2022-04-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3f9a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">详细查看最常用的RxJS运算符。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ebcd315524503902b93e4c204348b253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NZ5dYg_xfmzKQrEbfIOumg.png"/></div></div></figure><p id="3726" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你一直在使用Angular，你会知道Angular在使用可观察模式和在其框架中采用反应式JavaScript (RxJS)来构建高性能和反应式前端应用程序方面非常强大。今天，我将向您介绍一些最常用的RxJS运算符，希望您能够接受RxJS，并能够使用其中一些运算符优化您的应用程序。</p><h1 id="3dab" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">从</h1><p id="e994" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Angular <strong class="kt ir"> HttpClient </strong>返回我们发出的HTTP调用的可观察值，但是，如果您有返回承诺的第三方服务，请不要担心。您可以使用RxJS <code class="fe mk ml mm mn b">from</code>运算符将承诺转化为可观察的结果。通过将其转换为可观察的，您可以直接使用模板中的异步管道来显示可观察的值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/0b33b8636cc5aaa7aedf7b6a01d711ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*j880DH0XYGAElE1HwNMmVw.png"/></div></figure><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/creation/from" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">从</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">编辑描述</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="f2f3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">关于</h1><p id="4cad" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">有时，您有一个JavaScript <strong class="kt ir">映射</strong>，它在内存中保存值，以防止过多的API调用。您将编写一个额外的方法或进行特殊的处理，以使用来自Observable和JavaScript <strong class="kt ir"> Map </strong>的数据，您之前已经在其中存储了这些数据。然而，您实际上可以使用<code class="fe mk ml mm mn b">of</code>操作符将一个值(字符串、对象、数字、数组等)转换成一个可观察值。通过这种方式，与您解析API调用可观察值的方式相同，您可以将它应用于<code class="fe mk ml mm mn b">of</code>操作符的返回值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/32f05f5dd3ccc7571037f3e4d4833eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*iV2L9AhePfYfgylZ-ipfHQ.png"/></div></figure><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/creation/of" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">关于</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">在序列中发出可变数量的值，然后发出完整的通知。</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="ni l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="0b15" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">地图</h1><p id="6819" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">你是不是也犯了下面的方法？🤔</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/040e45c424992a1ba58162eacad306af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*UuL0C7ml9R0WKBtHW_WYzA.png"/></div></figure><p id="2eaa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你知道吗，你可以在不订阅的情况下从一个传入的可观测数据进行数据转换？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/5e11f0b03dc8da32d254c87e2640d599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oSvLfRRZ0MpU2tWmcuwK8g.png"/></div></div></figure><p id="4b9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">只需使用<code class="fe mk ml mm mn b">pipe</code>，就可以在管道参数内部链接多个操作符。为了将数据从一个可观察对象中转换出来，我们可以使用<code class="fe mk ml mm mn b">map</code>操作符，并在其中运行您的转换实现。现在使用这个方法，您不需要订阅或取消订阅这个可观察对象，您只需要使用模板中的异步管道来显示转换后的值。</p><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/transformation/map" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">地图</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">开始使用贴图、拾取和贴图到变换流</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="nl l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="f5a6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">轻敲，水龙头</h1><p id="d2ab" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">当一个API调用完成时，需要切换一个布尔值或者触发一个主题或者在日志文件中记录一条记录吗？尝试使用<code class="fe mk ml mm mn b">tap</code>操作符和breeze处理副作用，无需订阅。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/accd6bc1963b221db3fbee75c9655023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Oa0pKbLtdPkfWuMN8GMMA.png"/></div></div></figure><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/utility/do" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">点击/执行</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">编辑描述</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="nn l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="8bb8" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">组合最新测试</h1><p id="2db1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">当过滤器参数或分页参数改变时，消除处理多个主题/观察值以触发数据表刷新的麻烦。将它们变成可观察的，并使用<code class="fe mk ml mm mn b">combinedLatest</code>操作符在一个函数中处理它们。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/a248061fc5fc4cfd877bcbece291b079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rsuo5hmsdyMNq0Ro7Xhfgw.png"/></div></div></figure><p id="30e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">分页或过滤器参数的任何更改都将触发并重新获取最新数据。<code class="fe mk ml mm mn b">refreshList</code>如果你的表有一个刷新图标，允许用户手动刷新列表，则可以触发主题。</p><p id="ea25" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">快速提示</strong>将常规分页和过滤对象转换为可观察对象。使用<strong class="kt ir"> Angular的</strong> <code class="fe mk ml mm mn b">ActivatedRoute</code>将分页和过滤参数初始化为可观察值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/72d4b71e83470189dc30b27c9b6fab88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1YF5QLpvieBwPTp_oFU9w.png"/></div></div></figure><p id="5ed5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您没有使用<strong class="kt ir"> queryParams </strong>，您也可以使用本文中提到的方法将分页对象转换成可观察对象。</p><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/combination/combinelatest" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">组合测试</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">组合测试抓到你了，因为不会有输出和错误，但你的一个(或多个)内部观察值可能不会…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="nq l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="d0dc" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">去抖时间</h1><p id="5e02" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这个神奇的操作符<code class="fe mk ml mm mn b">debounceTime</code>可以帮助你设置用户停止输入和用文本框中的输入字符串调用API之间的延迟。它有助于防止每次击键都调用API。这里的一个小技巧是为您的搜索关键字参数创建一个<strong class="kt ir">主题</strong>,并使用前面讨论过的<code class="fe mk ml mm mn b">combinedLatest</code>操作符来创建一个完美的可搜索列表，而不改变数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/66ff4e8326f447016eaccd37844cee59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*SpVmudWSDgnVIJ2816xWYw.png"/></div></figure><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/filtering/debouncetime" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">去抖时间</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">丢弃输出间隔时间小于指定时间的发出值</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="ns l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="a5e7" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated"><strong class="ak">区分时间变化</strong></h1><p id="d649" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">在前面的例子中，您会看到这个操作符。这是作为一个额外的过滤层添加的，这样只有当主体中的值发生变化时，可观察对象才会触发。默认情况下，它只对基本类型使用<code class="fe mk ml mm mn b">===</code>比较。比较对象属性时，可以使用<code class="fe mk ml mm mn b">distinctUntilKeyChanged</code>运算符。</p><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/filtering/distinctuntilchanged" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">distinctUntilChanged</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">仅在当前值不同于上一个值时发出。</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="nt l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="04a8" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">共享重播</h1><p id="e2f1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">在我看来，最容易被忽视的操作符之一就是<code class="fe mk ml mm mn b">shareReplay</code>操作符。当有多个订户访问同一个可观察对象时，它有助于重放最后发出的值。一个常见的用例是，当您的应用程序中有不需要从数据库中重新获取的静态数据时，您可以部署这个操作符，以便在浏览器会话的整个生命周期中只进行一次API调用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/cc5310f99c050d16491eb23f43357972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PW57ipvo0kb6zu-I.png"/></div></figure><p id="7861" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在您的服务中创建一个<code class="fe mk ml mm mn b">getStaticData</code>基本函数，并在您的构造函数中调用它一次以获取一次信息，您的组件可以继续多次调用函数<code class="fe mk ml mm mn b">getCustomerInfoWithCache</code>,它不会触发对您的服务器的任何API调用，但会获得您在服务类中的构造函数中调用的缓存可观察值。</p><div class="mp mq gp gr mr ms"><a href="https://www.learnrxjs.io/learn-rxjs/operators/multicasting/sharereplay" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">共享重播</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">当你有副作用或繁重的计算，你不希望在多个…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.learnrxjs.io</p></div></div><div class="nb l"><div class="nv l nd ne nf nb ng kp ms"/></div></div></a></div><h1 id="3d0b" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">摘要</h1><p id="2eda" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">希望这篇文章向你展示了<strong class="kt ir"> RxJS </strong>如何成为你的角度应用的<strong class="kt ir">游戏规则改变者</strong>。学习曲线可能很陡，但是一旦你掌握了它并完全接受了它，你就再也不会回到编写Angular应用程序的基本方法上去了！请在下面的评论中告诉我你最喜欢的<strong class="kt ir"> RxJS </strong>操作符是哪一个，以及你是如何在你的Angular应用中实现它的。我很想了解一下。干杯。</p><div class="mp mq gp gr mr ms"><a href="https://medium.com/@devjo/membership" rel="noopener follow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">用我的推荐链接- DevJo加入媒体</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">medium.com</p></div></div><div class="nb l"><div class="nw l nd ne nf nb ng kp ms"/></div></div></a></div><p id="7d3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nx">更多内容看</em> <a class="ae ny" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">说白了。报名参加我们的</em> <a class="ae ny" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">免费周报</em> </strong> </a> <em class="nx">。关注我们关于</em><a class="ae ny" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nx">Twitter</em></strong></a><em class="nx">和</em><a class="ae ny" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nx">LinkedIn</em></strong></a><em class="nx">。加入我们的</em> <a class="ae ny" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nx">社区</em> </strong> </a> <em class="nx">。</em></strong></a></p></div></div>    
</body>
</html>