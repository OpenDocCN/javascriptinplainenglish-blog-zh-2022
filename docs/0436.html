<html>
<head>
<title>How to Get the Number of Days Between Two Dates in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中获得两个日期之间的天数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-get-the-number-of-days-between-two-dates-in-javascript-373c3343883a?source=collection_archive---------8-----------------------#2022-01-25">https://javascript.plainenglish.io/how-to-get-the-number-of-days-between-two-dates-in-javascript-373c3343883a?source=collection_archive---------8-----------------------#2022-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="977f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何用JavaScript获得两个日期之间的天数？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ecf4681ede8a89b385ab1b629b40d1f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nat2R8Az-j_0PYi3"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@datingjungle?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Datingjungle</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1675" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的JavaScript应用程序中，我们经常需要得到两个日期之间的天数。</p><p id="5049" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将看看如何用JavaScript获得两个日期之间的天数。</p><h1 id="b9c1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用字符串和日期方法</h1><p id="7cc7" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以通过使用本地字符串和日期方法用JavaScript计算两个日期之间的天数。</p><p id="84a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="bcb5" class="mu lt iq mq b gy mv mw l mx my">const parseDate = (str) =&gt; {<br/>  const [month, day, year] = str.split('/');<br/>  return new Date(year, month - 1, day);<br/>}</span><span id="a98c" class="mu lt iq mq b gy mz mw l mx my">const datediff = (first, second) =&gt; {<br/>  return Math.round((second - first) / (1000 * 60 * 60 * 24));<br/>}</span><span id="80cd" class="mu lt iq mq b gy mz mw l mx my">const diff = datediff(parseDate("1/1/2000"), parseDate("1/1/2001"))<br/>console.log(diff)</span></pre><p id="e9c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有<code class="fe na nb nc mq b">parseDate</code>函数，它采用MM/DD/YYYY格式的<code class="fe na nb nc mq b">str</code>日期字符串。</p><p id="beed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们通过用<code class="fe na nb nc mq b">'/'</code>作为分隔符分割日期字符串来解析它。</p><p id="c7e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后通过析构得到<code class="fe na nb nc mq b">year</code>、<code class="fe na nb nc mq b">month</code>和<code class="fe na nb nc mq b">day</code>。</p><p id="6a64" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将所有这些传递给<code class="fe na nb nc mq b">Date</code>构造函数来返回一个日期对象。</p><p id="4fca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们必须用1减去<code class="fe na nb nc mq b">month</code>来得到正确的JavaScript月份。</p><p id="b2ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们用<code class="fe na nb nc mq b">dateDiff</code>方法通过用<code class="fe na nb nc mq b">first</code>减去<code class="fe na nb nc mq b">second</code>来计算日期差。</p><p id="0aa1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们减去2个日期时，这两个日期都会在相减之前自动转换为时间戳。</p><p id="1ac7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们可以直接减去它们。</p><p id="3828" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们用1天除以毫秒。</p><p id="16fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们用<code class="fe na nb nc mq b">Math.round</code>将除法结果四舍五入。</p><p id="dbaa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以调用我们创建的所有函数来解析并从解析的日期中获取日期差异。</p><p id="ac4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们得到<code class="fe na nb nc mq b">diff</code>是366。</p><h1 id="dcb1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">moment.js</h1><p id="a373" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以使用moment.js轻松获得两个日期之间的差异。</p><p id="6e59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="7f50" class="mu lt iq mq b gy mv mw l mx my">const start = moment("2000-11-03");<br/>const end = moment("2001-11-04");<br/>const diff = end.diff(start, "days")<br/>console.log(diff)</span></pre><p id="d1bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们只是将日期字符串传递给<code class="fe na nb nc mq b">moment</code>函数。</p><p id="072f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们调用<code class="fe na nb nc mq b">diff</code>来获得它被调用的时刻日期和我们传入的时刻日期对象之间的差异。</p><p id="a5c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二个参数是我们要返回的差值的单位。</p><p id="7af8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以<code class="fe na nb nc mq b">diff</code>也是366，因为这两个日期相差366天。</p><h1 id="57ce" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="2dfb" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以使用本地JavaScript字符串和日期方法来计算两个日期之间的差异。</p><p id="f2b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们可以使用moment.js库来使我们的生活变得更容易。</p><p id="e30d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你知道了。感谢您的阅读。</p><p id="530b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">plain English . io</em></strong></a><em class="nd">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">社区</em> </strong> </a> <em class="nd">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>