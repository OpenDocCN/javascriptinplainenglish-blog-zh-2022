<html>
<head>
<title>The Virtual DOM — Explained as Simply as Possible</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">虚拟DOM——尽可能简单地解释</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/virtual-dom-explained-in-simple-terms-601c8dff8f73?source=collection_archive---------3-----------------------#2022-07-10">https://javascript.plainenglish.io/virtual-dom-explained-in-simple-terms-601c8dff8f73?source=collection_archive---------3-----------------------#2022-07-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="61ef" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解React和虚拟DOM如何协同工作来帮助提高网页效率。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6a8fb660fc6dc0144ca501575a87af0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wpcAMeEEQ1_xpy_7"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@pinewatt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">pine watt</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7b00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在学习Web开发的道路上，有几次当另一个新的部分被添加到拼图中时，我会翻白眼。虚拟DOM的存在就是其中之一。我刚刚真正掌握了DOM，现在有了一个虚拟的？</p><p id="931b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">如果你想更好地了解DOM，请随时查阅我的文章</em><a class="ae kv" href="https://medium.com/@simply_stef/programming-for-beginners-understanding-the-dom-c107f3ecd855" rel="noopener"><em class="ls"/></a><em class="ls">作为起点。</em></p><h2 id="1d8a" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">为什么我们甚至需要一个虚拟的DOM？</h2><p id="cc2c" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">DOM——可以被认为是网站的蓝图——随着页面的每次更改而更新。如果从图库中移除一幅图像，整个图库将被重新渲染。虽然这是有效的，但它确实意味着一个网站可能会更新和刷新很多次，特别是在单页Web应用程序的情况下。每次刷新和渲染都会占用内存，为了一个小的变化而刷新所有内容是低效的——这就是虚拟DOM的用武之地。</p><h2 id="ec78" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">那么虚拟DOM到底是什么？</h2><p id="4a1e" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">虚拟DOM虽然不是React发明的，但它是使框架如此强大的基础部分，这一点可以从React介绍页面中看出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/8bf157030a0610007244a7bfd3c0cf25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D8J_g6YcuFhLRNgNzFLRtA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">React homepage commenting on how it utilizes the virtual DOM for changes</figcaption></figure><p id="0cfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虚拟DOM是一个轻量级的层，在DOM看到并进行更新之前，它接收对网页所做的任何更改。采用JavaScript对象的形式，虚拟DOM接收变化并创建自己的新版本，但不更新物理页面上的任何内容，这意味着需要更少的处理能力。</p><p id="b691" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，系统维护虚拟DOM的两个版本，一个表示以前的状态，一个表示更新后的状态。在两个状态之间进行比较，然后仅<strong class="ky ir"><em class="ls"/></strong>将改变的项目传递给DOM进行渲染。</p><p id="dcf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后根据检测到差异的项目对“真实”DOM进行更改。这意味着每个元素不再只呈现需要的元素。</p><h2 id="6515" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">它在实践中是如何工作的？</h2><p id="c8c6" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">所有这一切都在幕后进行，因此您将永远看不到虚拟DOM，也无法与之交互——除了受益于它带来的性能提升。</p><p id="b457" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实际上，虚拟DOM起到了过滤器的作用，节省了重要的处理能力，加快了网站的运行速度。</p><p id="1e9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该过程采取以下步骤:</p><ol class=""><li id="05be" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">对站点进行了更改</li><li id="470c" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">整个虚拟DOM得到更新(在此阶段不对网页进行任何更改)</li><li id="953c" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">更新后的虚拟DOM会与其先前的状态进行比较。React然后计算出哪些对象发生了变化。</li><li id="e620" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">被改变的对象，并且仅仅是被改变的对象，在真正的DOM上得到更新。</li><li id="fd5a" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">真实DOM中的变化导致屏幕改变并更新到新状态</li></ol><h2 id="2573" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">摘要</h2><p id="5627" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">虚拟DOM虽然是一个抽象的概念，但却是使React(以及其他一些利用它的框架)强大的原因之一。限制页面更新时呈现的内容可以让网站更高效地运行。</p><p id="03aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然这不是你曾经见过或实际接触过的东西，但我希望理解它能让你更好地理解虚拟DOM——以及React——可以带来的效率优势。</p></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><p id="8660" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">感谢阅读！如果你喜欢这个帖子并想阅读更多，请务必查看我的个人资料或</em> </strong> <a class="ae kv" href="https://medium.com/subscribe/@simply_stef" rel="noopener"> <strong class="ky ir"> <em class="ls">订阅</em> </strong> </a> <strong class="ky ir"> <em class="ls">查看类似帖子。</em>T13】</strong></p><p id="95e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">订阅Medium，无限制获取所有可用的内容和想法。</em> </strong> <a class="ae kv" href="https://medium.com/@simply_stef/membership" rel="noopener"> <strong class="ky ir"> <em class="ls">如果你通过这个链接加入Medium，我会从你的费用中收取很少的一部分——而且不会额外增加你的费用！</em> </strong> </a></p><p id="429b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">plain English . io</em></strong></a><em class="ls">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费每周简讯</em> </strong> </a> <em class="ls">。关注我们</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">推特</em></strong></a><strong class="ky ir"><em class="ls"/></strong><em class="ls">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">LinkedIn</em></strong></a><em class="ls">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">社区不和谐</em> </strong> </a> <em class="ls">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">人才集体</em> </strong> </a> <em class="ls">。</em></p></div></div>    
</body>
</html>