<html>
<head>
<title>5 React Practices You Should Know in 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2022年你应该知道的5个反应实践</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-practices-you-should-know-in-2022-apply-them-now-20eb07a1fda4?source=collection_archive---------5-----------------------#2022-02-09">https://javascript.plainenglish.io/react-practices-you-should-know-in-2022-apply-them-now-20eb07a1fda4?source=collection_archive---------5-----------------------#2022-02-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e52d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">2021年不要掉队。了解这一点，并立即在React上更新您的项目和知识！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3ab73e3bf527b55726b387d76bb59be2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xXrBgK0vRG17wMvFqMiw4w.png"/></div></div></figure><h1 id="c6e7" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">1.避免支柱钻孔，使用<strong class="ak">使用上下文</strong>挂钩代替</h1><p id="f904" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">React很牛逼，很棒。React创建小的可重用组件的原则非常棒。不尽然，当你开始体验层层道具演练只是为了进入一个顶级境界。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/d0c7855f742975fde75debe928a5acf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bGx1fzUp-ViefmjHJusOKQ.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">React Component Tree Structure</figcaption></figure><p id="132b" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">想象一下，您有一个(灰色)子组件，它比(蓝色)父组件低4层，并且您需要已经在父组件中获取的用户数据。通常，React developer只会将它传递到props中的组件行(蓝色→黄色→绿色→橙色→灰色),以到达子组件props对象。</p><p id="7b46" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">这导致不必要的props对象处理，因为中间层组件不需要其组件props中的用户数据。自从React Hooks诞生以来，现在我们可以通过使用<strong class="ll ir"> useContext hook </strong>直接跨组件的不同层共享数据，而无需props drilling。</p><p id="3ef7" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">在src下创建一个新文件夹，并将其标记为<strong class="ll ir"> store </strong>。创建2个文件来设置用户数据的共享。我将它命名为<code class="fe mp mq mr ms b">UserContext.tsx</code>和<code class="fe mp mq mr ms b">UserProvider.tsx</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/cc39f6b95753e522394eed9da5eda173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*9SNuiQAEO8-7ExxRExnEEg.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">UserContext.tsx</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/1ba8258ed694d45d85b4997ffb02defe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H0t7PdQ81Hs_xdCVb5Cybw.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">UserProvider.tsx</figcaption></figure><p id="d66b" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">添加<strong class="ll ir"> UserContextProvider </strong>来包装你的<code class="fe mp mq mr ms b">app.tsx</code>文件中的应用组件</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/a625aacc9551b63e94d0fea78642d66a.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*B0Eu3unYzoiTbgYPa87ehA.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">App.tsx</figcaption></figure><p id="5c76" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">现在，在您的子组件文件中，您可以应用<strong class="ll ir"> useContext hook </strong>来获取您之前在设置文件中定义的用户数据，而不是访问props来获取用户数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/cac3133622f52812b269d75ed5b83eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*QrCGm0toYZY6oKdQhBSEwQ.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">ChildComponent.tsx</figcaption></figure><h1 id="f869" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">2.包含useState挂钩，而不是对this.state使用基于类的组件</h1><p id="ab53" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">现在是2022年，请不要落后于React开发的旧状态。使用功能组件而不是基于类的组件。用<code class="fe mp mq mr ms b">useState hook</code>代替<code class="fe mp mq mr ms b">this.state</code>来保持部件状态。</p><p id="feed" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">不要再这样了。❌</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/0dc75fb8bb83fca389945fc1da339612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ua2AKXNr00iJ70T8EUn7zQ.png"/></div></div></figure><p id="a10e" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">而是这样做。✅</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/6b5f4ef9e85257a176d7fe8020d40605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0m26Ldp5PFSpBHWQ7jqmMw.png"/></div></div></figure><h1 id="e48d" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">3.保持组件小，用于单一用例。</h1><p id="0161" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">将重复的代码重构为可重用的组件。将大的组件分割成大的组件。</p><p id="8acf" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">不要再这样了。❌:这是HTML开发人员在一个HTML文件中编写所有内容的传统方式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/377a0575b1a401f5ed368250bc4fd54d.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*w5Qrzp3zc8UEzMTgXgrO4Q.png"/></div></figure><p id="ed8b" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">相反，做这个✅，做一个大家都喜欢的现代React开发人员。😎将它们拆分成单独的组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/958a6263d8f9bcb873453fda58277036.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*BMD7aVe6jr_hGX1nYLD7MA.png"/></div></figure><h1 id="3e1a" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">4.记住你的功能组件</h1><p id="042a" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如果你知道显示的数据不会经常改变，记住你的功能组件，这意味着它总是用相同的道具重新渲染。当其他连接的组件发生变化时，这将有助于跳过重新呈现您的组件。这将提高您的应用程序的性能。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/fa80ba5a5f739b9b9d6327ed2b6ae2b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*BswV2I2lqmxJbNHDblo5qg.png"/></div></figure><p id="1c06" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">例如，您的用户名和lastSeen在您使用应用程序的过程中并没有发生太大的变化，那么您应该记住它，即使您的父组件属性发生变化，React也不会重新呈现它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/67183a9b8c245da6e5268ebe2ae24a53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*S9xT6kZ9thLMeMG_TngxDQ.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Every new like will trigger a re-render of both InstagramApp and InstagramProfile ❌</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/f3fd48426edcfd9bcc47d2e5db8ca1cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*-ksbRcCJ7GEbWUulxyq0FQ.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Every new like will not trigger a re-render of MemoizedProfile component 🌈</figcaption></figure><p id="1feb" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">经验法则:</p><ol class=""><li id="f534" class="ne nf iq ll b lm mk lp ml ls ng lw nh ma ni me nj nk nl nm bi translated">如果你的道具经常改变，不要忘记你的组件。</li><li id="65cc" class="ne nf iq ll b lm nn lp no ls np lw nq ma nr me nj nk nl nm bi translated">只使用它来优化性能，不要使用它来防止重新渲染。</li><li id="98f3" class="ne nf iq ll b lm nn lp no ls np lw nq ma nr me nj nk nl nm bi translated">不懂怎么用就不要用。如果你记住了一个积极的道具变化组件，它会带来更多的伤害而不是帮助。</li></ol><h1 id="96ea" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">5.使用TypeScript而不是JavaScript</h1><p id="6f0b" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">TypeScript是JavaScript的超集。我们都知道JavaScript的问题在于它是松散的类型实现，当出现输入错误时容易出现bug和错误。对于TypeScript，它提供了对静态类型检查和大多数IDE上智能感知的神奇支持。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/35ffa22a98b230a1bef234b052de48ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AZQVZneH8wSHw8U3hroiw.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Missing IntelliSense on JavaScript</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/6f0141082011e846880d440d426ba8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y9QAw12Jzv7BbnvUpK0pdQ.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Missing type check, missed out typo on JavaScript</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/0f5468f956b84b0a027e7e9abf142d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1tZTjeoSoHKY48KIgYjNnw.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">IntelliSense on Typescript</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/338c33df46129b8d3122251c33c1a9c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vcsQ6mUMWRAZg4PctSKNtQ.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Type check on Typescript</figcaption></figure><h1 id="292a" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">结论</h1><p id="4890" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">希望这篇文章能够推动您在2022年的React开发之旅中前进。我知道React变化非常快，有时很难跟上React已经实现的最新变化。</p><p id="5cd5" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated">但是，要知道，这些变化将使您和您的应用程序受益，当您的应用程序变得更有性能，最重要的是更新您的React知识和React开发习惯时，您肯定会从这些变化中获益。如果你认为React开发者在2022年需要知道其他重要的实践，请在下面的评论中告诉我。我也很想学。干杯。</p><div class="nw nx gp gr ny nz"><a href="https://medium.com/@devjo/membership" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">用我的推荐链接- DevJo加入媒体</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">medium.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on kp nz"/></div></div></a></div><p id="2c83" class="pw-post-body-paragraph lj lk iq ll b lm mk jr lo lp ml ju lr ls mm lu lv lw mn ly lz ma mo mc md me ij bi translated"><em class="oo">更多内容请看</em><a class="ae op" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir"><em class="oo">plain English . io</em></strong></a><em class="oo">。报名参加我们的</em> <a class="ae op" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="oo">免费周报</em> </strong> </a> <em class="oo">。在我们的</em> <a class="ae op" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> <em class="oo">社区</em> </strong> </a> <em class="oo">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>