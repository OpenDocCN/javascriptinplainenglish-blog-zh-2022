<html>
<head>
<title>An Introduction to Rendertron: SEO Performance Booster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rendertron简介:SEO性能助推器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/presenting-rendertron-seo-performance-booster-8f17b58f8cd9?source=collection_archive---------12-----------------------#2022-02-01">https://javascript.plainenglish.io/presenting-rendertron-seo-performance-booster-8f17b58f8cd9?source=collection_archive---------12-----------------------#2022-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/98432ea50eec7219dee68ad0ad19632e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qcxEICzoD4eaQ-6p"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://www.pexels.com/@introspectivedsgn?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Erik Mclean</a> from <a class="ae kc" href="https://www.pexels.com/photo/toy-robot-in-puddle-with-ripples-in-daylight-5895405/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="d11a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://github.com/GoogleChrome/rendertron" rel="noopener ugc nofollow" target="_blank"> Rendertron </a>是谷歌开源的Chrome渲染引擎。它的职责是将JS包转换成静态HTML文件。这样做的主要原因是爬虫根本不喜欢JS捆绑包，他们更喜欢在生成的HTML文件上爬行，所以我们必须让他们高兴，以便在搜索中排列我们的页面。像React和Angular这样的流行框架有一些额外的框架来获得SSR或SSG功能，如<a class="ae kc" href="https://angular.io/guide/universal" rel="noopener ugc nofollow" target="_blank"> Angular Universal </a>或<a class="ae kc" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>，但所有这些框架都需要额外的学习、基础设施和其他一大堆东西，有时会让我们问自己“真的值得吗？”。</p><p id="4ebe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">幸运的是，Rendertron消除了所有这些复杂性，并在<a class="ae kc" href="https://circuit.ooo/blog/seo-for-beginners" rel="noopener ugc nofollow" target="_blank"> SEO </a>排名中大幅提升了我们的应用程序。</p><h2 id="8d6c" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">怎么用？</h2><p id="a40d" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">Rendertron是一个独立的服务，你必须下载并运行。您可以查看<a class="ae kc" href="https://github.com/GoogleChrome/rendertron#installing--deploying" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多配置，但基本步骤如下</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="9025" class="lb lc iq me b gy mi mj l mk ml">git clone https://github.com/GoogleChrome/rendertron.git<br/>cd rendertron<br/>npm install<br/>npm run start</span></pre><p id="6ffb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行完这些命令后，我们的渲染引擎就完全可以工作了。我们现在需要做的就是将爬虫重定向到渲染引擎。所以过程如下:每当爬虫请求你的网络应用时，你的网络服务器将检查它是爬虫还是真实用户，如果它是爬虫，它将把请求代理给呈现引擎。渲染引擎本身将解析JS包，生成静态HTML，并将生成的HTML返回给爬虫。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/4793e492ce6d615502052d349d6e9593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*jvG6tSRrfJcKALz9KrgYjg.png"/></div></div></figure><p id="600c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了将请求重定向到Rendertron，我们可以使用已经<a class="ae kc" rel="noopener ugc nofollow" target="_blank" href="/&lt;mxGraphModel&gt;&lt;root&gt;&lt;mxCell id%3D&quot;0&quot;%2F&gt;&lt;mxCell id%3D&quot;1&quot; parent%3D&quot;0&quot;%2F&gt;&lt;mxCell id%3D&quot;2&quot; value%3D&quot;&quot; style%3D&quot;shape%3DsingleArrow%3Bdirection%3Dwest%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23d5e8d4%3BstrokeColor%3D%2382b366%3Brotation%3D-15%3B&quot; vertex%3D&quot;1&quot; parent%3D&quot;1&quot;&gt;&lt;mxGeometry x%3D&quot;520&quot; y%3D&quot;314&quot; width%3D&quot;100&quot; height%3D&quot;40&quot; as%3D&quot;geometry&quot;%2F&gt;&lt;%2FmxCell&gt;&lt;%2Froot&gt;&lt;%2FmxGraphModel&gt;">的预制中间件</a>或者编写我们自己的中间件，这真的不难做到。</p><p id="c419" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好了，现在是举例子的时候了。</p><h2 id="5f21" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">例子</h2><p id="8317" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">假设我们有一个简单的节点网络服务器。</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="eee1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们所做的一切都是为index.html服务</p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="81be" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们正在冻结浏览器5秒钟，以模拟我们的网站真的很烂。请记住，它可以是任何流行的框架，如Angular React或像这样的普通JavaScript。</p><p id="534b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们在我们的网站上运行Lighthouse性能检查器来看看结果。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/58a6c903a6a64034fbf5e4c2c6cc4290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bs8MHg2w_seitAu6q3e_ng.png"/></div></div></figure><p id="4cf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们在所有的<a class="ae kc" href="https://web.dev/vitals/#core-web-vitals" rel="noopener ugc nofollow" target="_blank">核心网络指标</a>统计中都失败了。</p><p id="6141" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们使用我们的全功率渲染器。</p><p id="5be7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mq">顺便说一句，我们冻结这个应用这么长时间只是为了举例，但实际上如果你的应用需要5秒钟才能加载，即使是谷歌CEO也不能帮助提升你的排名！；)</em></p><h2 id="1880" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">渲染器集成</h2><p id="5f68" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">为了集成Rendertron，我们将使用预制的<a class="ae kc" href="https://github.com/GoogleChrome/rendertron/tree/main/middleware" rel="noopener ugc nofollow" target="_blank">快速中间件</a></p><figure class="lz ma mb mc gt jr"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="8726" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我不认为有什么需要解释的，我们只是添加了中间件，仅此而已。</p><p id="0575" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们再次使用lighthouse，记住我们需要运行它两次。第一次Rendertron将花费与客户端相同的时间进行渲染，因为它需要编译并生成HTML，所以我们将获得相同的分数。但是在第二次运行时，响应被缓存，如果我们检查它，结果是惊人的。</p><figure class="lz ma mb mc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/1422550e0dc88c24c8bb30963bb57e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g0nlmtxwoWHbXUx5K9UdXA.png"/></div></div></figure><p id="f20f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mq">查看如何在docs中添加缓存功能到Rendertron，你只需要在项目根目录中添加config . JSON…</em></p><p id="4e38" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在想象一下，如果你有一个非常复杂的React/Angular/Vue应用程序，你不必担心服务器端的渲染问题。你知道，它将高度优化爬虫反正。</p><p id="16d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管Rendertron是一个很棒的工具，但在开始使用它之前，您仍然需要考虑一些细节。</p><h2 id="6b70" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">仅适用于爬虫</h2><p id="b042" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">Rendertron只对爬虫有好处，对用户本身没有好处，因为它是一个简单生成的静态HTML文件，仅此而已。因此，如果你想让应用程序对真实用户来说更快，你必须考虑SSR或SSG功能</p><h2 id="d8eb" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">基础设施中的附加层</h2><ul class=""><li id="5271" class="ms mt iq kf b kg lu kk lv ko mu ks mv kw mw la mx my mz na bi translated">你需要把它放在某个地方，这是一个独立的服务</li><li id="b419" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">你必须以某种方式监控它，否则，如果它死了，没人会关心</li><li id="4d1d" class="ms mt iq kf b kg nb kk nc ko nd ks ne kw nf la mx my mz na bi translated">尽管它是开源和免费的，但它可能会让你为托管它付出额外的预算</li></ul><h2 id="1be1" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">贮藏</h2><p id="4d23" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果你的应用程序很快，你根本不需要缓存页面，它会马上呈现出来，你会得到SEO的好处。但如果不是这样，那么你必须考虑缓存，否则你会有良好的HTML结构，但糟糕的核心网站活力。</p><p id="f5e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">缓存还会带来无效缓存，这是额外的开销</p><h2 id="4886" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">大衣料</h2><p id="392f" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">有一些想法认为使用这样的工具实际上是欺骗和不合法的，如果你使用这样的服务，爬虫会忽略你的页面。他们不明白的是爬虫是你的朋友而不是法官。你帮他们多少，他们也会帮你多少。因此，如果你给他们真正闪亮的网页，它会令人愉快，而不是生气。<a class="ae kc" href="https://developers.google.com/search/docs/advanced/javascript/dynamic-rendering#cloaking" rel="noopener ugc nofollow" target="_blank">更多信息</a></p><h1 id="8294" class="ng lc iq bd ld nh ni nj lg nk nl nm lj nn no np lm nq nr ns lp nt nu nv ls nw bi translated">摘要</h1><p id="8a67" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我鼓励你试一试。有很多大公司都在使用这样的工具，而且真的很有效。</p><p id="4b55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://prerender.io/" rel="noopener ugc nofollow" target="_blank"> Prerender </a>这是这个领域的另一个竞争对手，它非常详细地解释了关于动态渲染的一切。</p><p id="f9d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mq">更多内容看</em> <a class="ae kc" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mq">说白了就是</em> </strong> </a> <em class="mq">。报名参加我们的</em> <a class="ae kc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mq">免费周报</em> </strong> </a> <em class="mq">。在我们的</em> <a class="ae kc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> <em class="mq">社区获得独家访问写作机会和建议</em> </strong> </a> <em class="mq">。</em></p></div></div>    
</body>
</html>