<html>
<head>
<title>It's 2022, Don't Abuse the Arrow Function Anymore</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现在是2022年，不要再滥用箭头功能了</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/its-2022-don-t-abuse-the-arrow-function-anymore-905862a9c668?source=collection_archive---------0-----------------------#2022-07-14">https://javascript.plainenglish.io/its-2022-don-t-abuse-the-arrow-function-anymore-905862a9c668?source=collection_archive---------0-----------------------#2022-07-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4699" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不应该使用箭头函数的4种情况。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ddba8c98a54aa12c758731186919c4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HstPGE3pedTqGKLy"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@kristlisa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kristina Yadykina</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="037f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">箭头函数给我们的工作带来了很大的便利，但是它们有什么缺点呢？</strong></p><p id="0e03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们应该一直使用箭头函数吗？</strong></p><p id="f54b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">朋友们，我们应该在以下场景中停止使用箭头函数。</p><h1 id="efea" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">箭头函数的一些缺点</h1><h1 id="3c06" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.不支持参数对象</h1><p id="55a4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在箭头函数中，我们不能像在普通函数中那样使用<code class="fe mp mq mr ms b">arguments</code>对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="2cd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如你所见，<code class="fe mp mq mr ms b">fn1</code>箭头函数报告了一个错误，但是<code class="fe mp mq mr ms b">fn2</code>可以正常读取<code class="fe mp mq mr ms b">arguments</code>对象。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/096a46dfb7d7d9351bef500eb06d16a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IWF7sWdhZWjr_uB3.png"/></div></div></figure><p id="ee99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如何才能让arrow函数中的所有参数都传递给函数？</p><p id="dc27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">对，没错，可以用Spread算子求解。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="5922" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.没有办法通过应用、调用、绑定来改变<code class="fe mp mq mr ms b">this pointer</code></h1><p id="4285" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我相信你很容易就能看出下面的代码会输出什么。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/af804ef58616b245f4f86a0939175fad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EkmvdC6Kc7RGwJDV.png"/></div></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="83f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们想让<code class="fe mp mq mr ms b">fn1</code>和<code class="fe mp mq mr ms b">fn2</code>都打印下面的对象，应该怎么做？</p><p id="6757" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">代号</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="119a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为arrow函数在定义的时候就决定了它的<code class="fe mp mq mr ms b">this</code>指向谁，所以没有办法再用<code class="fe mp mq mr ms b">fn1.call(thisObj)</code>改变。</p><h1 id="38e9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么时候不能用箭头功能？</h1><p id="e7df" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">箭头函数不是万能的，至少有4种情况我们不应该使用它们。</p><h1 id="bcc6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.请不要在构造函数中使用箭头函数</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/ade16fd3c121d364bacccf7ed00306ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9cQz0-c6U83JjOxl.png"/></div></div></figure><p id="0435" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么<code class="fe mp mq mr ms b">new Person2</code>会抛出错误？</p><blockquote class="my mz na"><p id="45e6" class="kw kx nb ky b kz la jr lb lc ld ju le nc lg lh li nd lk ll lm ne lo lp lq lr ij bi translated"><em class="iq">构造器通过new关键字生成一个对象实例。生成对象实例的过程也是通过构造函数将其绑定到实例的过程</em></p><p id="d024" class="kw kx nb ky b kz la jr lb lc ld ju le nc lg lh li nd lk ll lm ne lo lp lq lr ij bi translated"><em class="iq">但是箭头函数没有自己的</em> <code class="fe mp mq mr ms b"><em class="iq">this</em></code> <em class="iq">，所以不能作为构造函数使用，也不能通过</em> <code class="fe mp mq mr ms b"><em class="iq">new</em></code> <em class="iq">运算符调用。</em></p></blockquote><h1 id="21fd" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.请不要在点击事件中操作这个</h1><p id="c31a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们经常在click事件中通过<code class="fe mp mq mr ms b">this</code>读取元素本身。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="19d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是如果使用箭头函数给DOM元素添加回调，<code class="fe mp mq mr ms b">this</code>将等同于全局对象<code class="fe mp mq mr ms b">window</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="826f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.请不要在对象的方法中使用箭头函数。</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="e60d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你知道这段代码会输出什么吗？</p><p id="8b57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是的，<code class="fe mp mq mr ms b">getName2</code>方法不会打印“fatfish”，因为此时<code class="fe mp mq mr ms b">this</code>和<code class="fe mp mq mr ms b">window</code>是等价的，不等于<code class="fe mp mq mr ms b">obj</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/4738c80a0a04029be942dcd5c96708d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PJLU_y5UGuztG413.png"/></div></div></figure><h1 id="d292" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.请不要在原型链中使用箭头函数。</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="27a8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">最后</h1><p id="ca8f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">感谢阅读。</strong>我期待着<strong class="ky ir"> </strong>您的关注和阅读更多高质量的文章。</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/interviewer-what-happened-to-npm-run-xxx-cdcb37dbaf44"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">采访者:“npm跑xxx”怎么了？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">一个大多数人都不知道的秘密。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kp nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/20-javascript-array-methods-every-developer-should-know-6c04cc7a557d"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">每个开发人员都应该知道的20种JavaScript数组方法</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">你知道这20个数组方法是怎么实现的吗？</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx kp nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/8-cool-github-tricks-to-make-you-look-like-a-senior-developer-ab8fe9ae9b14"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">让你看起来像高级开发人员的8个很酷的GitHub技巧</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用GitHub可以做的8件很酷的事情</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx kp nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/interviewer-can-x-x-return-true-in-javascript-7e1d1fa7b5cd"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">面试官:可以“x！== x "在JavaScript中返回True？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">你可能不知道的五个神奇的JavaScript知识点！</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="oa l nu nv nw ns nx kp nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/what-does-123-tostring-length-123-print-out-in-javascript-2c804a414325"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">123['toString']。length + 123)用JavaScript打印出来？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">95%的前端开发者回答错误的问题。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ns l"><div class="ob l nu nv nw ns nx kp nj"/></div></div></a></div><p id="d310" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nb">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nb">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nb">免费周报</em> </strong> </a> <em class="nb">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nb">Twitter</em></strong></a><em class="nb">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nb">LinkedIn</em></strong></a><em class="nb">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nb">社区不和谐</em> </strong> </a> <em class="nb">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nb">人才集体</em> </strong> </a> <em class="nb">。</em></strong></a></p></div></div>    
</body>
</html>