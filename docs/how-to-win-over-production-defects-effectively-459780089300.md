# 如何有效克服生产缺陷

> 原文：<https://javascript.plainenglish.io/how-to-win-over-production-defects-effectively-459780089300?source=collection_archive---------15----------------------->

## 调试(并最终解决)产品缺陷的最有效方法。

嗨伙计们！在这篇文章中，我将从 web 开发人员的角度与您分享一些最有效的方法，帮助我调试(并最终解决)产品缺陷。

![](img/5610e2a936f4e29f4c19141139287b55.png)

# 重要的事情先来

在举起我们的剑走向战场之前，一个具有挑战性的情况需要一个最重要的美德——正确的心态和意志力。因此，除了努力学习技能之外，我们还应该做好心理准备。

在大多数情况下，我们会尽快解决生产缺陷，所以让我们从*生产缺陷*中去掉“生产”标签。现在，我们有一个高优先级的*缺陷*。吓人的*关键词*只要一开始调试部分就可以忽略。

# 让我们调试一下

对 bug 进行根本原因分析的最重要的一步是用正确的测试数据在较低的环境中复制 bug，然后最终在本地设置中做同样的事情。在这个阶段，您将感谢应用程序的日志集成。

上述步骤将涵盖修复缺陷所需工作的 25%。为了调试，我们可以-

1.  检查浏览器控制台是否有任何错误，并检查错误堆栈
2.  添加调试器；/断点(在代码和/或浏览器中)
3.  检查“source”选项卡(在许多情况下是 main.js 编译文件)，搜索函数/关键字名称，并添加断点进行调试
4.  分析日志
5.  检查 API 调用的有效负载和响应。

但是，有时，缺陷只发生在生产中，并且在本地/较低的环境中不可复制。在这些具有挑战性的案例中，我们可以研究以下内容:

1.  分析日志
2.  如果没有足够的错误/调试日志，请确保添加适当的日志记录并部署到较低的环境中(测试并最终部署到生产)，以便更好地进行分析。
3.  检查特定浏览器是否支持 ES6/7 功能或依赖项版本！
4.  确保生产数据库中的数据可用/正确。
5.  确保需要从一个环境转移到另一个环境的必要配置在生产环境中可用。
6.  针对 2 倍、3 倍和 5 倍负载对生产应用程序进行性能测试。
7.  在生产环境中测试“非常奇怪”和“罕见”的测试用例。
8.  检查源映射并添加断点进行调试。
9.  更多地关注最近转移到更高环境中的任何修补程序。
10.  检查生产环境中最近正在进行的任何维护活动。
11.  在某些情况下，503/504/GATEWAY_TIMEOUT 错误更加难以捕捉。如果幸运的话，我们可以尝试下面的代码来捕捉这些！否则，原因可能是服务器没有响应，因为标头大小不足、负载较大时性能较差、基础设施问题等。也要检查 pod 级别的服务日志。

```
.then(result => ( console.log(result)) )) 
.catch((error) => {
    if (error?.response) {
         // if there is response, it means its not a 50x, but 4xx 
    } else {   
      // gets activated on 50x errors, since no response from server }
});
```

# **简单地说**

日志分析、测试“罕见的”测试用例、使用断点进行调试以及确保部署正确的依赖关系是我们在调试和解决任何高优先级/生产问题时需要牢记的一些重要事情。

这个帖子到此为止。不断学习，不断成长！

*更多内容请看*[***plain English . io***](https://plainenglish.io/)*。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于*[***Twitter***](https://twitter.com/inPlainEngHQ)*和*[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*。查看我们的* [***社区不和谐***](https://discord.gg/GtDtUAvyhW) *加入我们的* [***人才集体***](https://inplainenglish.pallet.com/talent/welcome) *。*