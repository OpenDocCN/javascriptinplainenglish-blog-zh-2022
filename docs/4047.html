<html>
<head>
<title>Relearn the Front End — Browser Caching Strategy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重新学习前端—浏览器缓存策略</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/relearn-the-front-end-browser-caching-strategy-21cd081886d?source=collection_archive---------6-----------------------#2022-10-20">https://javascript.plainenglish.io/relearn-the-front-end-browser-caching-strategy-21cd081886d?source=collection_archive---------6-----------------------#2022-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3644" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">作为初级前端工程师探索您的学习路径，或者作为高级前端工程师复习您的知识。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4569366773dedd624b0d104542dbaf8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Iy2ydwupUyw2ChDL"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@grakozy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Greg Rakozy</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8154" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我会花一个月的时间整理前端相关的知识。一方面我会巩固自己的技能。另一方面，我会用它来分享初级前端工程师的学习路径和高级前端工程师的知识复习。</p><p id="655c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总体文章目录</p><ul class=""><li id="8023" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearn-the-front-end-html-26a38c5ba196">重新学习前端— HTML </a></li><li id="d703" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearn-the-front-end-css-4d74eb5981f8">重新学习前端——CSS</a></li><li id="62a9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearn-the-front-end-javascript-basics-d770eefd791f">重新学习前端——JavaScript基础知识</a></li><li id="9205" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearning-the-front-end-javascript-object-oriented-913077e735bf">重新学习前端——面向JavaScript对象</a></li><li id="2f93" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearning-the-front-end-javascript-v8-engine-mechanism-cc6457b43aff">重新学习前端— JavaScript V8引擎机制</a></li><li id="d734" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearning-the-front-end-browser-rendering-mechanism-efbfc19d225f">重新学习前端—浏览器渲染机制</a></li><li id="af48" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearn-the-front-end-browser-caching-strategy-21cd081886d">重新学习前端—浏览器缓存策略</a></li><li id="fb8a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearn-the-front-end-sorting-algorithm-348f939632e0">重新学习前端—排序算法</a></li><li id="d263" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearning-the-front-end-design-patterns-e95444b6bdb">重新学习前端—设计模式</a></li><li id="e49c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearn-the-front-end-network-b0402a870336">重新学习前端网络</a></li><li id="e7b4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/relearning-the-front-end-front-end-security-bbc20ded6b12">重新学习前端—前端安全</a></li></ul><p id="479f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇文章是关于浏览器缓存策略的。</p><h1 id="9993" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">1.介绍浏览器缓存位置和优先级</h1><ul class=""><li id="a2ad" class="ls lt iq ky b kz my lc mz lf na lj nb ln nc lr lx ly lz ma bi translated">服务行业人员</li><li id="556a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">超高速缓冲存储系统</li><li id="abe0" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">磁盘高速缓存</li><li id="dc7b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">推送缓存</li><li id="52d6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">如果未命中上述缓存，将发出网络请求</li></ul><h1 id="43a9" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">2.不同缓存之间的差异</h1><h2 id="4d4c" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">2.1服务人员</h2><p id="0422" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">类似于Web Worker，是一个独立的线程。我们可以在这个线程中缓存文件，在主线程需要的时候在这里读取文件。Service Worker允许我们自由选择缓存哪些文件以及文件的匹配和读取规则。并且缓存是持久的。</p><h2 id="b655" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">2.2内存缓存</h2><p id="e05b" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">也就是内存缓存，内存缓存不是持久的，缓存会随着进程的释放而释放。</p><h2 id="606c" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">2.3磁盘缓存</h2><p id="21a3" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">也就是硬盘缓存。与内存缓存相比，硬盘缓存具有更好的持久性和容量。它会根据HTTP头的字段判断哪些资源需要缓存。</p><h2 id="8df4" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">2.4推送缓存</h2><p id="77f1" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">也就是推送缓存，也就是HTTP/2内容，目前用的比较少。</p><h1 id="04d9" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">3.浏览器缓存策略</h1><h2 id="4b42" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated"><strong class="ak"> 3.1强缓存(不要向服务器要缓存)</strong></h2><h2 id="1965" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">设置过期</h2><p id="ff3b" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">也就是到期时间。例如，“Expires: Thu，2019年12月26日10:30:42 GMT”表示缓存将在此时间后过期。该截止日期是一个绝对日期。如果本地日期被修改，或者本地日期与服务器日期不一致，那么缓存过期时间将是错误的。</p><h2 id="c3f1" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">设置缓存控制</h2><p id="9dc4" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">HTTP/1.1新增了一个字段，<code class="fe ns nt nu nv b">Cache-Control</code>可以通过max-age字段设置过期时间，比如<code class="fe ns nt nu nv b">Cache-Control:max-age=3600</code>另外，Cache-Control还可以设置private/no-cache等。一种领域。</p><h2 id="52ef" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated"><strong class="ak"> 3.2协商缓存(需要询问服务器缓存是否过期)</strong></h2><h2 id="8096" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">最后修改的</h2><p id="81b8" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">也就是最后一次修改时间。当浏览器第一次请求资源时，服务器会将Last-Modified添加到响应头中。当浏览器再次请求资源时，浏览器将把If-Modified-Since字段带到请求头中。该字段的值是由先前的服务器返回的最后修改时间。服务器比较这两个时间，如果它们相同，则返回304，否则返回新的资源并更新最后修改的资源。</p><h2 id="2792" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">ETag</h2><p id="b557" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">HTTP/1.1中的一个新字段表示文件的唯一标识符。只要文件内容改变，ETag就会重新计算。缓存过程与Last-Modified相同:服务器发送ETag字段-&gt;浏览器再次请求时发送If-None-Match-&gt;如果ETag值不匹配，则文件已更改，返回新资源并更新ETag，如果匹配，则返回304。</p><h2 id="be9f" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">最后修改的和ETag的比较</h2><p id="7eec" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">ETag比Last-Modified更准确:如果我们打开文件不做修改，Last-Modified也会发生变化，Last-Modified的单位时间是一秒。如果文件在一秒钟内被修改，它仍然会命中缓存。<br/>如果没有设置缓存策略，浏览器会将响应头中的日期减去上次修改值的10%作为缓存时间。</p><h1 id="92f2" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">最后</h1><p id="2a34" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated"><strong class="ky ir">感谢阅读</strong>。期待您的关注，阅读更多高质量的文章。</p><div class="nw nx gp gr ny"><div role="button" tabindex="0" class="ab bv gv cb fp nz oa bn ob kp ex"><div class="oc l"><div class="ab q"><div class="l di"><img alt="omgzui" class="l de bw od oe fe" src="../Images/113db82933227743d0067a68e250ac93.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*AmBIV4haXTWPO--EhE0Q1A.jpeg"/><div class="fb bw l od oe fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@omgzui?source=post_page-----21cd081886d--------------------------------" rel="noopener follow" target="_top"> omgzui </a></p></div></div><div class="oh oi gw l"><h2 class="bd ir tu ls fp tv fr fs tw fu fw ip bi translated">更好的编程</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi tx au ty tz ua qk ub an eh ei uc ud ue el em eo de bk ep" href="https://medium.com/@omgzui/list/better-programing-9b4c9bb174aa?source=post_page-----21cd081886d--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uf l fo"><span class="bd b dl z dk">109 stories</span></div></div></div><div class="ou dh ov fp ab ow fo di"><div class="di om bv on oo"><div class="dh l"><img alt="" class="dh" src="../Images/64fcf15e27c514ec49d62966b68dbc15.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*DbDdSUf5SchniJuq"/></div></div><div class="di om bv op oq or"><div class="dh l"><img alt="" class="dh" src="../Images/3e6ce891363c151131c5993ca0dcc526.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*7cAp-WibSblfO7hT"/></div></div><div class="di bv os ot or"><div class="dh l"><img alt="" class="dh" src="../Images/a7dd413de22f319a3c4729c9e737feb8.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*FcmHdVfoUOhlJlsG"/></div></div></div></div></div><div class="nw nx gp gr ny"><div role="button" tabindex="0" class="ab bv gv cb fp nz oa bn ob kp ex"><div class="oc l"><div class="ab q"><div class="l di"><img alt="omgzui" class="l de bw od oe fe" src="../Images/113db82933227743d0067a68e250ac93.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*AmBIV4haXTWPO--EhE0Q1A.jpeg"/><div class="fb bw l od oe fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@omgzui?source=post_page-----21cd081886d--------------------------------" rel="noopener follow" target="_top"> omgzui </a></p></div></div><div class="oh oi gw l"><h2 class="bd ir tu ls fp tv fr fs tw fu fw ip bi translated">Java Script语言</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi tx au ty tz ua qk ub an eh ei uc ud ue el em eo de bk ep" href="https://medium.com/@omgzui/list/javascript-48bfc7b5f93c?source=post_page-----21cd081886d--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uf l fo"><span class="bd b dl z dk">57 stories</span></div></div></div><div class="ou dh ov fp ab ow fo di"><div class="di om bv on oo"><div class="dh l"><img alt="" class="dh" src="../Images/64fcf15e27c514ec49d62966b68dbc15.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*DbDdSUf5SchniJuq"/></div></div><div class="di om bv op oq or"><div class="dh l"><img alt="" class="dh" src="../Images/3e6ce891363c151131c5993ca0dcc526.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*7cAp-WibSblfO7hT"/></div></div><div class="di bv os ot or"><div class="dh l"><img alt="" class="dh" src="../Images/a7dd413de22f319a3c4729c9e737feb8.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*FcmHdVfoUOhlJlsG"/></div></div></div></div></div><div class="nw nx gp gr ny"><div role="button" tabindex="0" class="ab bv gv cb fp nz oa bn ob kp ex"><div class="oc l"><div class="ab q"><div class="l di"><img alt="omgzui" class="l de bw od oe fe" src="../Images/113db82933227743d0067a68e250ac93.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*AmBIV4haXTWPO--EhE0Q1A.jpeg"/><div class="fb bw l od oe fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@omgzui?source=post_page-----21cd081886d--------------------------------" rel="noopener follow" target="_top"> omgzui </a></p></div></div><div class="oh oi gw l"><h2 class="bd ir tu ls fp tv fr fs tw fu fw ip bi translated">新闻</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi tx au ty tz ua qk ub an eh ei uc ud ue el em eo de bk ep" href="https://medium.com/@omgzui/list/news-67ec0a972660?source=post_page-----21cd081886d--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uf l fo"><span class="bd b dl z dk">23 stories</span></div></div></div><div class="ou dh ov fp ab ow fo di"><div class="di om bv on oo"><div class="dh l"><img alt="" class="dh" src="../Images/c3f36b36bf050f98fd5a8e3c89103cad.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*LISEmTdz19k7BAHY"/></div></div><div class="di om bv op oq or"><div class="dh l"><img alt="" class="dh" src="../Images/8459df5aae62dc00f04377e09544be88.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*RvBGLw3V9JZfn_HO"/></div></div><div class="di bv os ot or"><div class="dh l"><img alt="" class="dh" src="../Images/2864058bcedc8c1cd6492624ba9671c6.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*IUWVb3zTn1_HKV9P"/></div></div></div></div></div></div><div class="ab cl pb pc hu pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="ij ik il im in"><p id="e49e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="pi">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pi">说白了就是</em> </strong> </a> <em class="pi">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pi">免费周报</em> </strong> </a> <em class="pi">。关注我们关于</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pi">推特</em> </strong> </a>，<a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pi">领英</em> </strong> </a> <em class="pi">，</em><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pi">YouTube</em></strong></a><em class="pi">，以及</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pi">不和</em> </strong> </a> <em class="pi">。对增长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pi">电路</em> </strong> </a> <em class="pi">。</em></p></div></div>    
</body>
</html>