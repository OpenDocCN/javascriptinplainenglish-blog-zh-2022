<html>
<head>
<title>Advanced TypeScript With Code Challenges: Accessor Decorators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有代码挑战的高级类型脚本:访问器装饰器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/advanced-typescript-with-code-challenges-accessor-decorators-88c757cd3435?source=collection_archive---------6-----------------------#2022-10-06">https://javascript.plainenglish.io/advanced-typescript-with-code-challenges-accessor-decorators-88c757cd3435?source=collection_archive---------6-----------------------#2022-10-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9841" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">装饰器提供了一种为类声明和成员添加注释的方法。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5b698621cee9ace700561513eecd9cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jUBpz0DE_5DSUvDOk_3ZJg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo template by <a class="ae kv" href="https://www.pexels.com/de-de/@rachel-claire?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Rachel Claire</a> from <a class="ae kv" href="https://www.pexels.com/de-de/foto/natur-feld-trocken-tier-4577793/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="27a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解类型脚本<strong class="ky ir">访问器</strong> <strong class="ky ir">装饰器</strong>。Decorator遵循同名结构软件<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9">的设计原则<strong class="ky ir"> Decorator </strong>和</a>为扩展功能提供了子类化的灵活替代方案。</p><p id="9936" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要了解关于高级TypeScript特性的更多信息，请查看我的其他文章。以下是一个概述:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Overview TypeScript Features</figcaption></figure><div class="lu lv gp gr lw lx"><a href="https://web-highlights.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Web亮点— PDF和Web荧光笔</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Web Highlights是一个在Web上突出显示文本的工具，可以更有效地组织您的研究。提升你的…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">web-highlights.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="bf95" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">装饰者</h1><p id="0bfe" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated"><strong class="ky ir">结构</strong> <strong class="ky ir">装饰</strong>模式非常强大，帮助我们防止子类的<strong class="ky ir">爆炸。</strong></p><p id="d5a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰模式的目的是动态地给一个对象附加额外的责任，并为扩展功能提供一个灵活的子类化替代方案。</p><p id="2903" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰模式在许多用例中被广泛使用和应用。只要您想，就使用该模式:</p><ul class=""><li id="d088" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr nv nw nx ny bi translated">创建大量的子类。有时太多的子类是不切实际的，并导致子类<strong class="ky ir">的爆炸式增长</strong>来支持每一种组合。</li><li id="e361" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated">在不影响其他对象的情况下，动态地为单个对象<strong class="ky ir">添加职责</strong>。</li><li id="2698" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated">在运行时给对象分配额外的行为，而不破坏使用这些对象的代码。</li></ul><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">带有类型脚本示例的软件设计模式:装饰器</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">装饰模式为扩展功能提供了子类化的灵活替代方案</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mg l"><div class="oe l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="a1ff" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">打字稿装饰者</h1><p id="9bbb" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">由于类是在Typescript和ES6中引入的，Typescript也想提供支持用Decorators注释或修改类和类成员的可能性。</p><p id="8384" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实验性的类型脚本装饰器特性帮助我们装饰<strong class="ky ir">类</strong>、<strong class="ky ir">方法</strong>、<strong class="ky ir">属性</strong>、<strong class="ky ir">访问器</strong>和<strong class="ky ir">参数</strong>。</p><blockquote class="of og oh"><p id="48d0" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">注释装饰器是一个实验性的特性，在未来的版本中可能会改变。——<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="56f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于这个特性仍然是实验性的，我们首先需要通过在我们的<code class="fe om on oo op b">tsconfig.json</code>的<code class="fe om on oo op b">compilerOptions</code>中设置<code class="fe om on oo op b">experimentalDecorators</code>到<code class="fe om on oo op b">true</code>来启用它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="bc6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦这个额外的设置完成，我们就可以创建可以在访问器前面使用<code class="fe om on oo op b">@</code>的decorators。</p><blockquote class="of og oh"><p id="e45f" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated">装饰者使用形式<code class="fe om on oo op b"><em class="iq">@expression</em></code>，其中<code class="fe om on oo op b"><em class="iq">expression</em></code>必须计算出一个函数，这个函数将在运行时用被装饰声明的信息来调用。—<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="79b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于初学者来说，这里有一个非常简单的例子，说明如何创建一个名为<code class="fe om on oo op b">logMessage</code>的<strong class="ky ir">访问器</strong> <strong class="ky ir">装饰器</strong>函数，它将返回一个内部函数，以便在函数被调用后简单地打印出一个<code class="fe om on oo op b">message</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="d38c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">外部函数<code class="fe om on oo op b">logMessage</code>是我们的装饰工厂，它使我们能够传递一些参数。我们的装饰工厂简单地接受一个<code class="fe om on oo op b">message</code>参数，并将其传递给内部函数，该函数将在运行时被装饰器调用。</p><blockquote class="of og oh"><p id="b7c4" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated"><strong class="ky ir">装饰工厂</strong>是一个返回装饰者的函数。—<a class="ae kv" href="https://blog.logrocket.com/a-practical-guide-to-typescript-decorators/" rel="noopener ugc nofollow" target="_blank">blog . log rocket . com/a-practical-guide-to-typescript-decorators/</a></p></blockquote><p id="abcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">装饰器接受三个参数:</p><p id="2f72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.<code class="fe om on oo op b"><strong class="ky ir">target</strong></code> = <code class="fe om on oo op b">User</code>类</p><p id="ea63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.<code class="fe om on oo op b"><strong class="ky ir">propertyKey</strong></code>是“更新电子邮件”</p><p id="5697" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.<code class="fe om on oo op b"><strong class="ky ir">descriptor</strong></code>是我们的<code class="fe om on oo op b">PropertyDescriptor</code></p><p id="40b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe om on oo op b">PropertyDescriptor</code>界面如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/1882339b5ed0930cc9462cc8e2b9cf62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*WO-czEfLs4xuM8Rt3cuTzQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">PropertyDescriptor interface</figcaption></figure><p id="a0fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以使用<code class="fe om on oo op b">@logMessage('some Message')</code>注释任何访问器。关于访问器装饰器的一个特殊之处是，我们只能将它们用于成员的<code class="fe om on oo op b">get</code>或<code class="fe om on oo op b">set</code>——不能同时用于两者。</p><blockquote class="of og oh"><p id="a250" class="kw kx oi ky b kz la jr lb lc ld ju le oj lg lh li ok lk ll lm ol lo lp lq lr ij bi translated"><strong class="ky ir">注意</strong> TypeScript不允许修饰单个成员的<code class="fe om on oo op b">get</code>和<code class="fe om on oo op b">set</code>访问器。——<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/decorators.html#accessor-decorators" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a></p></blockquote><p id="7d3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们有一个<code class="fe om on oo op b">User</code>类，我们像这样使用装饰器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Accessor Decorator</figcaption></figure><p id="0ab6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每次我们访问<code class="fe om on oo op b">fullName</code> getter时，我们都会在控制台中看到一条新消息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/34b8ce85ed507253451765976684182d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*bwIMD-I6ZTyKYQSnkYxwjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Logs</figcaption></figure><p id="7439" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/GYVwdgxgLglg9mABAGzgcwLIFMDOOCGaWAFALa4FEBciOUATjGGgJSIDeAUIovVlCHpJQkWAkTEo+ekSg18YAJ4AaRAAd6cNVnpRFAaSyKadRs1UATXBEZqocejQAKm7bsUARa7fv02XHh4IBBw4ZCwAOlQ0MgpCLBYAbm5EAF9k1M5OCGR8PEQAVRwdDhTgsFMQaAdiDRgAN3woLERgGHo6ADl8chMGJjRVOsbmlDyobt7afuZ-TJSAAWjsPHjiAHIAQQgICgHWkGRkSax1lhS1EAAjZBgIRFkDo5PifxSePgEhRAADABJ2FAABYwHARNodCY9LCpRAA4GgqLjE6pH7JHiZeblOiIEDFeiIAC8iDAWAA7oV8cQAEQYaQwPHU1TUgBCCDQ0igOGpSSy2LCkWixDxOnBh2O0N5QA" rel="noopener ugc nofollow" target="_blank">这里是上面例子的打字稿操场</a>。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="4490" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个非常简单的例子。但是Typescript decorators可能更有用，也更复杂。有五种装饰者:</p><ul class=""><li id="3485" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr nv nw nx ny bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-class-decorators-afd9043d41f6"> <strong class="ky ir">类装修工</strong> </a></li><li id="adc7" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-method-decorators-dd87b0897d5e"> <strong class="ky ir">方法装饰者</strong> </a></li><li id="5e6a" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">访问器装饰器</strong></li><li id="7257" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">物业装修工</strong></li><li id="bda7" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr nv nw nx ny bi translated"><strong class="ky ir">参数装饰器</strong></li></ul><p id="70ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我看来，详细查看每种类型的装饰器是有意义的，因为Typescript装饰器是更复杂的特性之一。在这篇文章中，我们将仔细观察<strong class="ky ir">访问器装饰器</strong>和<strong class="ky ir"> </strong>做一个代码挑战来内在化这个特性。</p><p id="5468" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在接下来的文章中，我们将会看到我在这里链接的其他类型的装饰者。你也可以只<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>我的故事，以免错过。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="eb9b" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">访问器装饰器</h1><p id="4699" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">在前面的例子中，我们已经看到了一个非常简单的<strong class="ky ir">访问器</strong>装饰器。让我们创建一个更有用的。</p><p id="55d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想要将我们的<code class="fe om on oo op b">fullName</code>访问器值调整到一个特定的字符数。我们将构建自己的<code class="fe om on oo op b">@trimString(maxLength)</code>装饰器来检查给定的值是否比给定的长度长，并返回一个经过修整的版本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="f938" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，我们再次用一个<strong class="ky ir">装饰工厂</strong>包围了原始的访问器。这一次，它包含了给定字符串的<code class="fe om on oo op b">maxLength</code>参数。</p><p id="a031" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里棘手的部分是我们通过访问<code class="fe om on oo op b">PropertyDescriptor</code>的<code class="fe om on oo op b">get</code>属性来修改原始的<code class="fe om on oo op b">fullName</code>访问器。现在，我们用修改后的函数覆盖原来的<code class="fe om on oo op b">get</code>访问器。在这个函数中，我们访问访问器的原始<code class="fe om on oo op b">fullName</code>值，并检查它是否比允许的<code class="fe om on oo op b">maxLength</code>字符长。如果没有，我们简单地返回原始值，否则我们修剪字符串，并在它的末尾放三个点。</p><p id="395d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以通过像这样注释我们的<code class="fe om on oo op b">fullName</code>访问器来使用装饰函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="b331" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当我们在任何<code class="fe om on oo op b">User</code>对象上访问<code class="fe om on oo op b">fullName</code>时，它会将返回值修剪为10个字符。另外，请注意，将多个decorators分配给一个访问器没有问题。</p><p id="8f77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，调用<code class="fe om on oo op b">user.fullName</code>时，日志看起来是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/6298cd346f16db7f3a4f81372f126a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*Z9tPlr5hIXNaujLYH8YIfA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Logs</figcaption></figure><p id="014e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4&amp;ssl=32&amp;ssc=4&amp;pln=28&amp;pc=1#code/GYVwdgxgLglg9mABAGzgcwLIFMDOOCGaWAFALa4FEBciOUATjGGgJSIDeAUIovVlCHpJQkWAkTEo+ekSg18YAJ4AaRAAd6cNVnpRFAaSyKadRs1UATXBEZqocejQAKm7bsUARa7fv02XHh4IBBw4ZCwAOlQ0MgpCLBYAbm5EAF9k1M5OEWh4JAYYUgBlAuYyfAAPABksZigACxowEFIAIx1-FL4BIUQcsSRJaVl5JVUNLR09Q2NaUrRLbxg7B2dXKc8llb8OFJ49xGCwOkQHGDQmfGQAcX5EAF5EKxwbZd8I2WSD59ftj7vHv08hJOoFAgcgiEoKdGBcwFcAGIgZDIABy+HIDxh50uN34AH4IhArshJPUYDgklkwTwYMAJGc4YjkWiMZFwnV6ogAHyIUiVGqc0E0njdQRIAAGABJ2IzcUiUejyBEcCBWqZiAAGVT86q1NANFipCImiUQtLmsW9OXw5AK1nkL5g9IpF2ZTgQZD4PCIACqOB0u0hxwYIGgDmIGhgADd8FAsH0YPQ6EqsCZ5uNGLH4yhvVBU+mzKwOO6eAABaLYPDxYgAcgAghAIBQmGg+izU7WWCkywVivNiABGTXdnhqNXIGAQRCyduKtnEYWi-jixDS9gNCkRYBJlNs1KIGWbnBRPOp1IS5I8TLuo4nEAB+hYsBYADufsfxAARBhpDAH1+qhfgAQggaDSFAOBflSHohGE7LoMQD46NuHZslSQA" rel="noopener ugc nofollow" target="_blank">这里是访问器装饰器示例的类型脚本playground </a>。</p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="b246" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">代码挑战💻</h1><p id="82cf" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我们已经为我们的<code class="fe om on oo op b">User</code>类创建了一个<code class="fe om on oo op b">trimString</code>装饰器。现在我们向类中添加了一个新的<code class="fe om on oo op b">password</code>访问器。对于这个属性，我们想要创建一个<code class="fe om on oo op b">@validatePassword(minLength)</code>装饰器，每当调用我们的<code class="fe om on oo op b">password</code>属性的<code class="fe om on oo op b">set</code>访问器时，它简单地检查给定的密码是否具有最小字符长度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">User.ts</figcaption></figure><p id="23a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，如果我们执行上面的代码，并且正确地实现了我们的<code class="fe om on oo op b">@validatePassword(minLength)</code>装饰器，输出应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/3e1f79c5955c5c371ea22d9cc176cf5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*n5Y1aCbGl-BM-3HtOX92mA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Expected log output</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="6dec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">小旁注</strong>:在生产环境中存储密码时，有两个简单的规则:</p><ol class=""><li id="b83d" class="nq nr iq ky b kz la lc ld lf ns lj nt ln nu lr ot nw nx ny bi translated">不要以纯文本格式存储密码</li><li id="c847" class="nq nr iq ky b kz nz lc oa lf ob lj oc ln od lr ot nw nx ny bi translated">不要以纯文本格式存储密码</li></ol><p id="69eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总是在数据库中散列密码。但是让我们忽略这个简单的例子。继续，创建<code class="fe om on oo op b">validatePassword</code> decorator函数并解决所有的Typescript错误。</p><h2 id="0e17" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">密码</h2><p id="1386" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">下面是本次练习的<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/GYVwdgxgLglg9mABAGzgcwLIFMDOOCGaWAFALa4FEBciOUATjGGgJSIDeAUIovVlCHpJQkWAkTEo+ekSg18YAJ4AaRAAd6cNVnpRFAaSyKadRs1UATXBEZqocejQAKm7bsUARa7fv02XHh4IBBw4ZCwAOlQ0MgpCLBYAbm5EAF9k1M5OEWh4JAYYUgBlAuYyfAAPABksZigACxowEFIAIx1-FL4BIUQcsSRJaVl5JVUNLR09Q2NaUrRLbxg7B2dXKc8llb8OLMDEYLA6RAcYNCZ8ZABxfkQAXkQrHBtl3wjZZJSeJ5ft99uHv08hJOl9AodjqdzmBLgAxEDIZAAOXw5HuJ0Y0MuNygAH4IhBLshJPUYDgknt9ogYMAJFCLsh4YiUeQorU0A1EAA+RCkSo1Or1TpUwLdQRIAAGABJ2PSYYyEcjUZEcCBWqZiAAGVR86rshosVIRY0SsE8TIisW9OVwxUsrCffbpFLOzKcCDIfB4RAAVRwOl2PA0MAAbvgoFhEPUvfUsBYnAB3CwmebogDkacdBxCDBA0AcxGDYYjfRg9Do9pTZgW6kYxcjnoryqrTFYHDSlIAAtFsHh4sQ0wBBCAQCitvp25VplgpTsFYrzYgARk1M6DauQMAgiFkE+ZyuIwtF-HFiGl7AaZIiwDLTfIqUQMsvOCiXqg9tSEuS5spag3W53W41C9HAEwcCxD0DY8enyUkX2jHBY3jJNvw7Wcw03CxwywJwQLA+gIJXNd1H-bd-SgdQ8PAwskxbZgjx4Z8IgQpDEwsdE1BQl1ODdCEKJAf16HRMAsATX1BOIAAiDBpBgATJNUSSACEEDQaQoBwSSKU4ASdAiYC8Hw9iHjTAzQPAkpNGYABRMA4BANB6iXAAmABmTN3RCMJImiYhdPofSqII7SAHoQsQIp6ns5B2MQuAxOs+hNCE9pCV06kKLJRB7DgWgot0HTBMCwzwPTMyjI8iFvKidA-KK8rwIpIA" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">起始码</strong> </a>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Starter Code</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="73aa" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">解决办法</h2><p id="f185" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">下面是<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4#code/GYVwdgxgLglg9mABAGzgcwLIFMDOOCGaWAFALa4FEBciOUATjGGgJSIDeAUIovVlCHpJQkWAkTEo+ekSg18YAJ4AaRAAd6cNVnpRFAaSyKadRs1UATXBEZqocejQAKm7bsUARa7fv02XHh4IBBw4ZCwAOlQ0MgpCLBYAbm5EAF9k1M5OEWh4JAYYUgBlAuYyfAAPABksZigACxowEFIAIx1-FL4BIUQcsSRJaVl5JVUNLR09Q2NaUrRLbxg7B2dXKc8llb8OLMDEYLA6RAcYNCZ8ZABxfkQAXkQrHBtl3wjZZJSeJ5ft99uHv08hJOl9AodjqdzmBLgAxEDIZAAOXw5HuJ0Y0MuNygAH4IhBLshJPUYDgknt9ogYMAJFCLsh4YiUeQorU0A1EAA+RCkSo1Or1TpUwLdQRIAAGABJ2PSYYyEcjUZEcCBWqZiAAGVR86rshosVIRY0SsE8TIisW9OVwxUsrCffbpFLOzLZcC5cQAN0uMAs+CgWCc+DwAHcHBYyEwBRzGohmm0OrseFbhB6BhIpDJ+KMVOp1u4ZiZ5otnj5VogXJN3F4y68HMLwSEoBizgzsA04BZ0T9y-QIjh+I7Ar36-3By3AengcRjRFhjgaABtUxMNAAXUb+whLbUIZw4fo3YeC6XmvXw+3zfU+8PFgAkjgAGq+483sMRtmC7kPUjR-X1JegQ0hIACEe4fkej4vsgfpblSEJhJEOiaPQxASlcMBerU74HhGEgyhBeFHqkbBkvGcAtqYCBoIgtRwCAaD1AA5BEEoUiKKb8OKyQihaVKpq2WLIB29Rdvi+BqGoyCKCSZKqAuFJgs65oZFkEDIPuiAAKqDvQyb5lhAZYIg9QhvUWAWE4oYWMWZi0Q8zHMcOO70CA0AOMQGhGYGfQwPQdD2nZa7jIwPq+ZpgXKsFzD+GklIAALRNgeDxMQzEAIIQBAFBrn0drKsxLApAlBTFPMxAAIyasVPBqGqsEQIgsj5cyyrEPBgnSuwDRkhEwD+VF5CpIgMq9TgUQhlA9qpBKvHxSk9WtI1zW3ERd4dQZXE9PkpITWZOAWVZNnzW6PAJT6sH+oGwaQZG1W1eoDUwE1E64Rtag2TFrBbYg40RAdR3WW+n0WKdnBujuiAgHp6JgFgoY6XpxAAEQYNIMAwyjqgowAQjR0hQDgKNKTDOgROt+GOZTR4lJozAAKJgAxTGVQATAAzM5nCIeEUToMQZP9jTFhKQA9GLiBFGJCLdodcCIwz9CoYg7SEmT1ItuR9hwLQYm6JwQsU7eVOIMxIvc7zkTRILenG3dFJAA" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">解</strong> </a>为练习题:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Solution Code</figcaption></figure></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h1 id="f8fd" class="mt mu iq bd mv mw mx my mz na nb nc nd jw ne jx nf jz ng ka nh kc ni kd nj nk bi translated">最后的想法</h1><p id="4696" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我希望你喜欢阅读这篇文章。我总是乐于回答问题，并乐于接受批评。随时欢迎联系我！通过<strong class="ky ir"/><a class="ae kv" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir">，</strong>关注我<strong class="ky ir"/><a class="ae kv" href="https://twitter.com/MariusBongarts" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Twitter</strong></a>或<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>通过电子邮件获取我的故事。</p><p id="7d66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="ky ir">这里是无限制访问介质上每一个内容的链接</strong> </a>。如果你注册使用这个链接，我会赚一小笔钱，不需要你额外付费。</p><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pg l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="4bee" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">关于作者</h2><p id="206e" class="pw-post-body-paragraph kw kx iq ky b kz nl jr lb lc nm ju le lf nn lh li lj no ll lm ln np lp lq lr ij bi translated">我是埃森哲软件工程分析师宋。我们一直在寻找最好的开发人员，所以如果你有兴趣加入我们，请随时联系我们！</p><p id="3fe5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最驱动我的是我想创造一些对他人有帮助和改变生活的东西的冲动🙌比如你是否厌倦了浏览自己的历史来寻找前几天看到的信息？我的<a class="ae kv" href="https://chrome.google.com/webstore/detail/web-highlights-%20-bookmark/hldjnlbobkdkghfidgoecgmklcemanhm" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">网站重点介绍Chrome扩展</strong> </a>覆盖了你，并将通过以结构化和高效的方式组织你的研究来提高你的生产力。就像你在书和文章上做的那样，突出显示任何网页或PDF上的文本。你的精彩片段会直接同步到web-highlights.com<a class="ae kv" href="https://web-highlights.com/" rel="noopener ugc nofollow" target="_blank">的网络应用上，你可以在任何地方找到它们。</a></p></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><h2 id="c891" class="ou mu iq bd mv ov ow dn mz ox oy dp nd lf oz pa nf lj pb pc nh ln pd pe nj pf bi translated">进一步阅读</h2><div class="lu lv gp gr lw lx"><a rel="noopener  ugc nofollow" target="_blank" href="/advanced-typescript-with-code-challenges-class-decorators-afd9043d41f6"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">具有代码挑战的高级类型脚本:类装饰器</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">装饰器提供了一种为类声明和成员添加注释的方法。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mg l"><div class="ph l mi mj mk mg ml kp lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://medium.com/@mariusbongarts/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">我的第一个9.99美元之旅与我的副业</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Chrome扩展带来的被动收入</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="pi l mi mj mk mg ml kp lx"/></div></div></a></div></div><div class="ab cl mm mn hu mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="ij ik il im in"><p id="66ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oi">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">说白了就是io </em> </strong> </a> <em class="oi">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">免费周报</em> </strong> </a> <em class="oi">。关注我们关于</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">推特</em> </strong> </a>，<a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">领英</em> </strong> </a> <em class="oi">，</em><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">YouTube</em></strong></a><em class="oi"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="oi">不和</em> </strong> </a> <em class="oi">。对增长黑客感兴趣？检查</em> <a class="ae kv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="oi">电路</em> </strong> </a> <em class="oi">。</em></p></div></div>    
</body>
</html>