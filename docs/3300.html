<html>
<head>
<title>4 Quick Fixes for the “Cannot Read Property ‘length’ of Undefined” Error in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中“无法读取未定义的属性‘长度’”错误的4个快速修复</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-cannot-read-property-length-of-undefined-f959b43159b2?source=collection_archive---------7-----------------------#2022-08-16">https://javascript.plainenglish.io/javascript-cannot-read-property-length-of-undefined-f959b43159b2?source=collection_archive---------7-----------------------#2022-08-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6c45" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">多种方法轻松解决JavaScript中的“无法读取未定义的属性‘长度’”错误</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/dbc18e395b7514f699a4dfd4e468f7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJGwiheFxNOiiyJvvl-K2Q.png"/></div></div></figure><p id="79ca" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你在JavaScript中遇到过“无法读取未定义的属性‘长度’”错误吗？当您试图从值为<code class="fe lk ll lm ln b">undefined</code>的变量访问<code class="fe lk ll lm ln b">length</code>属性时，会出现此错误。</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="3dc1" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="c0d4" class="ls lt in ln b gy ly lv l lw lx">// TypeError: Cannot read properties of undefined (reading 'length')<br/>const length = arr.length;</span><span id="4644" class="ls lt in ln b gy ly lv l lw lx">console.log(length);</span></pre><p id="4d1e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要修复“无法读取未定义的属性‘长度’”错误，在从变量访问<code class="fe lk ll lm ln b">length</code>属性之前，对变量执行<code class="fe lk ll lm ln b">undefined</code>检查。有多种方法可以做到这一点，我们将在本文中介绍其中的4种。</p><h1 id="143b" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">1.使用if语句</h1><p id="b04e" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">在访问<code class="fe lk ll lm ln b">length</code>属性之前，我们可以使用<code class="fe lk ll lm ln b">if</code>语句来检查变量是否为真:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="9e20" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="2e97" class="ls lt in ln b gy ly lv l lw lx">let arrLength = undefined;</span><span id="a5ba" class="ls lt in ln b gy ly lv l lw lx">// Check if "arr" is truthy<br/>if (arr) {<br/>  arrLength = arr.length;<br/>}</span><span id="26ec" class="ls lt in ln b gy ly lv l lw lx">console.log(arrLength); // undefined<br/></span><span id="0520" class="ls lt in ln b gy ly lv l lw lx">const str = undefined;</span><span id="b818" class="ls lt in ln b gy ly lv l lw lx">let strLength = undefined;</span><span id="356a" class="ls lt in ln b gy ly lv l lw lx">// Check if "str" is truthy<br/>if (str) {<br/>  strLength = str.length;<br/>}</span><span id="5181" class="ls lt in ln b gy ly lv l lw lx">console.log(strLength); // undefined</span></pre><h1 id="868e" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">2.使用可选链接</h1><p id="cb0f" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">我们可以使用<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank">可选链接操作符</a> ( <code class="fe lk ll lm ln b">?.</code>)返回<code class="fe lk ll lm ln b">undefined</code>，如果变量为null(<code class="fe lk ll lm ln b">null</code>或<code class="fe lk ll lm ln b">undefined</code>)，则阻止方法调用:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="2484" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="fbc7" class="ls lt in ln b gy ly lv l lw lx">// Use optional chaining on "arr" variable<br/>const arrLength = arr?.length;</span><span id="1b37" class="ls lt in ln b gy ly lv l lw lx">console.log(arrLength); // undefined<br/></span><span id="197e" class="ls lt in ln b gy ly lv l lw lx">const str = undefined;</span><span id="c10b" class="ls lt in ln b gy ly lv l lw lx">// Use optional chaining on "str" variable<br/>const strLength = str?.length;</span><span id="9cf2" class="ls lt in ln b gy ly lv l lw lx">console.log(strLength); // undefined</span></pre><h1 id="7fed" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">3.访问回退值的长度属性</h1><p id="c967" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">我们可以使用<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator" rel="noopener ugc nofollow" target="_blank"> nullish合并操作符</a> ( <code class="fe lk ll lm ln b">??</code>)来提供一个回退值，以便从其访问<code class="fe lk ll lm ln b">length</code>属性。</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="cfc4" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="1ba0" class="ls lt in ln b gy ly lv l lw lx">// Providing an empty array fallback<br/>const arrLength = (arr ?? []).length;</span><span id="587a" class="ls lt in ln b gy ly lv l lw lx">console.log(arrLength); // 0<br/></span><span id="4dc2" class="ls lt in ln b gy ly lv l lw lx">const str = undefined;</span><span id="666c" class="ls lt in ln b gy ly lv l lw lx">// Providing an empty string fallback<br/>const strLength = (str ?? '').length;</span><span id="1c0e" class="ls lt in ln b gy ly lv l lw lx">console.log(strLength); // 0</span></pre><p id="24e1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果不是<code class="fe lk ll lm ln b">null</code>或<code class="fe lk ll lm ln b">undefined</code>，则nullish合并运算符(<code class="fe lk ll lm ln b">??</code>)返回其左侧的值。如果是，那么<code class="fe lk ll lm ln b">??</code>返回其右边的值。</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="0b4d" class="ls lt in ln b gy lu lv l lw lx">console.log(2 ?? 5); // 2<br/>console.log(undefined ?? 5); // 5</span></pre><p id="a322" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们还可以使用<a class="ae mv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR" rel="noopener ugc nofollow" target="_blank">逻辑OR </a> (||)操作符来提供一个回退值，从这个值可以访问<code class="fe lk ll lm ln b">length</code>属性。</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="cda9" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="0873" class="ls lt in ln b gy ly lv l lw lx">// Providing an empty array fallback<br/>const arrLength = (arr || []).length;</span><span id="8edf" class="ls lt in ln b gy ly lv l lw lx">console.log(arrLength); // 0</span><span id="0587" class="ls lt in ln b gy ly lv l lw lx">const str = undefined;</span><span id="3dcf" class="ls lt in ln b gy ly lv l lw lx">// Providing an empty string fallback<br/>const strLength = (str || '').length;</span><span id="10df" class="ls lt in ln b gy ly lv l lw lx">console.log(strLength); // 0</span></pre><p id="85dc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">与<code class="fe lk ll lm ln b">??</code>操作符一样，<code class="fe lk ll lm ln b">||</code>如果不是<code class="fe lk ll lm ln b">null</code>或<code class="fe lk ll lm ln b">undefined</code>，则返回其左侧的值。如果是，那么<code class="fe lk ll lm ln b">||</code>返回它右边的值。</p><h1 id="4806" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">4.使用回退值而不是访问length属性</h1><p id="6cbe" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">我们还可以组合可选的链接操作符(<code class="fe lk ll lm ln b">?.</code>)和无效合并操作符(<code class="fe lk ll lm ln b">??</code>)来提供一个回退值作为结果，而不是从<code class="fe lk ll lm ln b">undefined</code>值访问<code class="fe lk ll lm ln b">length</code>属性。</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="c78c" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="6f99" class="ls lt in ln b gy ly lv l lw lx">// Using "0" as a fallback value<br/>const arrLength = arr?.length ?? 0;</span><span id="b014" class="ls lt in ln b gy ly lv l lw lx">console.log(arrLength); // 0<br/></span><span id="f377" class="ls lt in ln b gy ly lv l lw lx">const str = undefined;</span><span id="288f" class="ls lt in ln b gy ly lv l lw lx">// Using "0" as a fallback value<br/>const strLength = str?.length ?? 0;</span><span id="0c8d" class="ls lt in ln b gy ly lv l lw lx">console.log(strLength); // 0</span></pre><p id="79c1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">正如我们之前看到的，逻辑OR运算符(<code class="fe lk ll lm ln b">||</code>)可以在以下情况下代替<code class="fe lk ll lm ln b">??</code>运算符:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="6245" class="ls lt in ln b gy lu lv l lw lx">const arr = undefined;</span><span id="c0cd" class="ls lt in ln b gy ly lv l lw lx">// Using "0" as a fallback value<br/>const arrLength = arr?.length || 0;</span><span id="798e" class="ls lt in ln b gy ly lv l lw lx">console.log(arrLength); // 0</span><span id="b51b" class="ls lt in ln b gy ly lv l lw lx">const str = undefined;</span><span id="9dab" class="ls lt in ln b gy ly lv l lw lx">// Using "0" as a fallback value<br/>const strLength = str?.length || 0;</span><span id="271a" class="ls lt in ln b gy ly lv l lw lx">console.log(strLength); // 0</span></pre></div><div class="ab cl mw mx hr my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ig ih ii ij ik"><p id="b35d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nd">原载于</em><a class="ae mv" href="https://cbdev.link/2f5285" rel="noopener ugc nofollow" target="_blank"><em class="nd">codingbeautydev.com</em></a></p><h1 id="2469" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">ES13中11个惊人的新JavaScript特性</h1><p id="bfde" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">本指南将带您快速了解ECMAScript 13中添加的所有最新功能。这些强大的新特性将会用更短、更富于表现力的代码来更新您的JavaScript。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/75a56482761ab63cfc081ad691d70d61.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*WqVjQY7sKZh3wld5WzkfTw.png"/></div></figure><p id="b288" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae mv" href="https://cbdev.link/900477" rel="noopener ugc nofollow" target="_blank">报名</a>立即免费领取一份。</p></div></div>    
</body>
</html>