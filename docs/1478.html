<html>
<head>
<title>7 One-Liners to Improve TypeScript Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进打字稿开发的7个一行程序</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-one-liners-to-improve-typescript-development-6c9daadb7825?source=collection_archive---------0-----------------------#2022-03-28">https://javascript.plainenglish.io/7-one-liners-to-improve-typescript-development-6c9daadb7825?source=collection_archive---------0-----------------------#2022-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dd2e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">像专家一样写出更好的打字稿代码。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b17bbe9d6281fe075f6ff8c173dc322d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4jkPoaN-Z_iO2aiN7h0bg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image by Author</figcaption></figure><p id="d68f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">更少的代码通常意味着更好的代码。在本文中，我将向您介绍TypeScript的7种单行代码，其中有许多高级用法，如泛型、断言等。希望能帮到你。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="bab8" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">1.基于特定的键将数组转换为单个对象</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/9818a07920ee29d33cc6031e2a6a0e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*srT1YuJiw6oE35Gsk7lOlA.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="1e84" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const toSingleObject = &lt;<br/>  T extends Record&lt;PropertyKey, unknown&gt;,<br/>  K extends keyof T,<br/>&gt;(<br/>  arr: T[]<br/>  key: K,<br/>): Record&lt;string, T&gt; =&gt;<br/>  Object.fromEntries(arr.map((item) =&gt; [item[key], item]));</strong></span><span id="b40e" class="mw lz iq ms b gy nb my l mz na">// {<br/>//   '1': { id: 1, name: 'Bravo', gender: 'Male' },<br/>//   '3': { id: 3, name: 'Charlie', gender: 'Female' }<br/>// }<br/>console.log(<br/>  toSingleObject(<br/>    [<br/>      {<br/>        type: 'vegetable',<br/>        name: 'carrot',<br/>      },<br/>      {<br/>        type: 'fruit',<br/>        name: 'apple',<br/>      },<br/>    ],<br/>    'type',<br/>  ),<br/>);</span></pre><h1 id="a310" class="ly lz iq bd ma mb nc md me mf nd mh mi jw ne jx mk jz nf ka mm kc ng kd mo mp bi translated"><strong class="ak"> 2。将十进制转换成二进制</strong></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/d4d33dd953eaa4aa4a16c528f8f9a9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHAhZ6whFKXzjDirhtJ66Q.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="affc" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const decimalToBinary = (num: number): number =&gt;<br/>  num === 0 ? 0 : (num % 2) + 10 * decimalToBinary(~~(num / 2));</strong></span><span id="a56c" class="mw lz iq ms b gy nb my l mz na">// 10<br/>console.log(decimalToBinary(2));<br/>// 10100<br/>console.log(decimalToBinary(20));</span></pre><h1 id="194a" class="ly lz iq bd ma mb nc md me mf nd mh mi jw ne jx mk jz nf ka mm kc ng kd mo mp bi translated">3.生成假IP</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/940b8e85f8ed30916e4808fa74d8e107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BVtKEeS8vD-57-UYvFM3rg.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="2589" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const randomIp = (): string =&gt;<br/>  [...new Array(4)]<br/>    .map((_, index) =&gt; Math.floor(Math.random() * 255) + Number(Boolean(index)))<br/>    .join('.');</strong></span><span id="a6d0" class="mw lz iq ms b gy nb my l mz na">// 223.145.14.11<br/>console.log(randomIp());</span></pre><h1 id="5ba8" class="ly lz iq bd ma mb nc md me mf nd mh mi jw ne jx mk jz nf ka mm kc ng kd mo mp bi translated">4.检查代码是否在Node.js中运行</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/be0b2dd8fbc0109b1d9ad5253247274c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bJKLBzhHMrnA6SLWAsUKxw.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d3c0" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const isNode = (): boolean =&gt;<br/>  typeof process !== 'undefined' &amp;&amp;<br/>  Object.prototype.toString.call(process) === '[object process]';</strong></span><span id="bf01" class="mw lz iq ms b gy nb my l mz na">console.log(isNode());</span></pre><h1 id="a0e6" class="ly lz iq bd ma mb nc md me mf nd mh mi jw ne jx mk jz nf ka mm kc ng kd mo mp bi translated">5.检查一个值是否是一个普通对象</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/16ca8df59185eb639eda14b0fd0671a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N0NKy8OW_f1sOIY0YvUTmg.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="ca06" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const isPlainObject = (val: unknown): val is Record&lt;string, any&gt; =&gt;<br/>  Object.prototype.toString.call(val) === '[object Object]' &amp;&amp;<br/>  [Object.prototype, null].includes(Object.getPrototypeOf(val));</strong></span><span id="051b" class="mw lz iq ms b gy nb my l mz na">const test = {<br/>  name: 1,<br/>};</span><span id="0ca0" class="mw lz iq ms b gy nb my l mz na">if (isPlainObject(test)) {<br/>  // ✅<br/>  console.log(test.name);<br/>} else {<br/>  // ❌ Property 'name' does not exist on type 'never'.<br/>  console.log(test.name);<br/>}</span></pre><h1 id="0518" class="ly lz iq bd ma mb nc md me mf nd mh mi jw ne jx mk jz nf ka mm kc ng kd mo mp bi translated">6.将秒格式化为hh:mm:ss</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/cab2a6345e285efa8be6205b47e663d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uqLDVzFHLeXKW4asUcQI0A.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="a66f" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const formatSeconds = (s: number): string =&gt;<br/>  new Date(s * 1000).toISOString().slice(11, 19);</strong></span><span id="092b" class="mw lz iq ms b gy nb my l mz na">// 00:01:40<br/>console.log(formatSeconds(100));<br/>// 00:05:00<br/>console.log(formatSeconds(300));</span></pre><h1 id="29a2" class="ly lz iq bd ma mb nc md me mf nd mh mi jw ne jx mk jz nf ka mm kc ng kd mo mp bi translated">7.获取数组的所有子集</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/51858602c8c1187c268c274a36c39e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EjJ_HqtEJyfjUWykJbpxQA.png"/></div></div></figure><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e197" class="mw lz iq ms b gy mx my l mz na"><strong class="ms ir">const getSubsets = &lt;T&gt;(arr: T[]): T[][] =&gt;<br/>  arr.reduce(<br/>    (acc, cur) =&gt; acc.concat(acc.map((k) =&gt; k.concat(cur))),<br/>    [[] as T[]],<br/>  );</strong></span><span id="ddc1" class="mw lz iq ms b gy nb my l mz na">// [<br/>//   [],       [ 1 ],<br/>//   [ 2 ],    [ 1, 2 ],<br/>//   [ 3 ],    [ 1, 3 ],<br/>//   [ 2, 3 ], [ 1, 2, 3 ]<br/>// ]<br/>console.log(getSubsets([1, 2, 3]));</span></pre></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="b697" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nn">今天就到这里。我是Zachary，我会继续输出与web开发相关的故事，如果你喜欢这样的故事并想支持我，请考虑成为</em> <a class="ae no" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="nn">中级会员</em> </a> <em class="nn">。每月5美元，你可以无限制地访问媒体内容。如果你通过</em> <a class="ae no" href="https://medium.com/@islizeqiang/membership" rel="noopener"> <em class="nn">我的链接</em> </a> <em class="nn">报名，我会得到一点佣金。</em></p><p id="f348" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你的支持对我来说非常重要——谢谢。</p><p id="67c4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nn">更多内容看</em> <a class="ae no" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nn">说白了。报名参加我们的</em> <a class="ae no" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nn">免费每周简讯</em> </strong> </a> <em class="nn">。关注我们</em> <a class="ae no" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nn">推特</em> </strong> </a> <em class="nn">和</em><a class="ae no" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nn">LinkedIn</em></strong></a><em class="nn">。加入我们的</em> <a class="ae no" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nn">社区不和谐</em> </strong> </a> <em class="nn">。</em></strong></a></p></div></div>    
</body>
</html>