<html>
<head>
<title>6 Useful JavaScript Code Snippets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">6ä¸ªæœ‰ç”¨çš„JavaScriptä»£ç ç‰‡æ®µ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/6-useful-javascript-code-snippets-part-ii-1b30b79bcb0f?source=collection_archive---------18-----------------------#2022-01-27">https://javascript.plainenglish.io/6-useful-javascript-code-snippets-part-ii-1b30b79bcb0f?source=collection_archive---------18-----------------------#2022-01-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7b10" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ç¬¬2éƒ¨åˆ†:é’ˆå¯¹å¸¸è§ç”¨ä¾‹çš„JavaScriptä¸€è¡Œç¨‹åºå’Œå‡½æ•°çš„ç¼–è¯‘åˆ—è¡¨ã€‚æ²¡æœ‰æ’ä»¶ã€‚ä»…é¦™è‰JSã€‚</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cb0c3fdf2254dee29b1776e7a7243b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4A4IZCWi3n1upqiS"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@juanjodev02?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Juanjo Jaramillo</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3b00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œå½“æˆ‘åœ¨ä¸šä½™æ—¶é—´å¼€å‘ç¦»çº¿æµè§ˆå™¨å·¥å…·æ—¶ï¼Œæˆ‘å‘ç°è‡ªå·±åœ¨æˆ‘æ”¶è—çš„<code class="fe ls lt lu lv b">.js</code>æ–‡ä»¶ä¸­åå¤æœç´¢ï¼Œä»¥æ£€ç´¢æ—§çš„ä»£ç ç‰‡æ®µã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºä½¿ç”¨ä¸‹é¢çš„ç»å¸¸ä½¿ç”¨çš„JavaScriptæ–¹æ³•åˆ—è¡¨ä½œä¸ºå‚è€ƒï¼Œå¯èƒ½å¯¹ä¸æˆ‘æœ‰ç›¸ä¼¼ç”¨ä¾‹çš„å…¶ä»–äººæœ‰ç›Šã€‚</p><h2 id="0bff" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">ä»…ä¾›å‚è€ƒâ€”â€”å…³äºâ6å®ç”¨JavaScriptä»£ç Snippetsâçš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œè¯·å‚è€ƒ:</h2><div class="mp mq gp gr mr ms"><a rel="noopener  ugc nofollow" target="_blank" href="/6-useful-javascript-code-snippets-91424efd1c55"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">6ä¸ªæœ‰ç”¨çš„JavaScriptä»£ç ç‰‡æ®µ</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">è¿™ä¸ªåˆ—è¡¨å¯èƒ½å¾ˆä¸»è§‚ï¼Œä½†æˆ‘è¿˜æ˜¯åˆ†äº«äº†æˆ‘è‡ªå·±çš„ç‰ˆæœ¬ã€‚ç¤ºä¾‹å’Œä»£ç ã€‚</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng kp ms"/></div></div></a></div><h2 id="f5fb" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">1.é€šçŸ¥æœªä¿å­˜çš„æ›´æ”¹</h2><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="2d1c" class="nl lx iq lv b be nm nn l no np">window.addEventListener('beforeunload', (event) =&gt; {<br/>  event.preventDefault();<br/>  event.returnValue = '';<br/>});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/9d113ca3eea60552a042915474970a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*oH67zfkgSN1tyDiV7LvM9Q.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Screencapture by Author | Demo of the code snippet below i.e. A â€œdouble confirmationâ€ is necessary before a browser page closed.</figcaption></figure><p id="8b47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å½“ç”¨æˆ·åœ¨è¾“å…¥å­—æ®µä¸­è¾“å…¥äº†æœªä¿å­˜çš„æ•°æ®ï¼Œå¹¶ä¸”å¦‚æœé¡µé¢è¢«å¸è½½ï¼Œè¿™äº›æ•°æ®å°†ä¼šä¸¢å¤±æ—¶ï¼Œä¸Šé¢çš„ä»£ç ç‰‡æ®µç‰¹åˆ«æœ‰ç”¨ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œç”¨æˆ·ä¸Šä¼ äº†å‡ ä¸ªå›¾åƒæ–‡ä»¶åï¼Œæµè§ˆå™¨ä¼šç»§ç»­æç¤ºç”¨æˆ·æ˜¯å¦ä¿å­˜äº†å›¾åƒè¾“å‡ºä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</p><h2 id="ea8d" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">2.å¼‚æ­¥ä¸Šä¼ å¤šä¸ªæ–‡ä»¶</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="2b50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸Šé¢çš„ä»£ç ç‰‡æ®µç¡®ä¿åœ¨æµè§ˆå™¨ç»§ç»­æ‰§è¡Œæ³¨é‡Šåçš„ä»£ç é€»è¾‘ä¹‹å‰ï¼Œæ‰€æœ‰ä¸Šä¼ çš„å›¾åƒæ–‡ä»¶å·²ç»è¢«ç¼–ç æˆBase64å­—ç¬¦ä¸²(<code class="fe ls lt lu lv b">fileredr.<strong class="ky ir">readAsDataURL</strong>(file);</code>):</p><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="ad3a" class="nl lx iq lv b be nm nn l no np">/* TO DO LOGIC HERE */</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/13822a87bc57c2866f448b86c253eac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Us3AqDj2PHG7KpvLqkWLbQ.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Screencapture by Author | The above executes the code logic below the comment | An image node is created for each image file uploaded and appended to the &lt;body&gt;&lt;/body&gt; of the HTML document.</figcaption></figure><h2 id="666f" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">3.insertAdjacentHTMLâ€”before begin | after begin | before end | after end</h2><p id="4e74" class="pw-post-body-paragraph kw kx iq ky b kz nt jr lb lc nu ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">å›å¤´å‚è€ƒ<strong class="ky ir">ç‚¹1) </strong>ä¸­çš„æˆªå±ï¼Œå¯ä»¥é€šè¿‡<code class="fe ls lt lu lv b"><strong class="ky ir">insertAdjacentHTML(&lt;position&gt;,&lt;HTML String&gt;)</strong></code>å°†HTMLæ·»åŠ åˆ°å…ƒç´ ä¸­:</p><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="6b6c" class="nl lx iq lv b be nm nn l no np">&lt;Element&gt;.insertAdjacentHTML('beforeend'|'afterbegin'|'beforeend'|'afterend', &lt;HTML String&gt;);</span></pre><p id="00ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸‹å›¾è¯´æ˜äº†æ¯ä¸ªé€‰é¡¹ç›¸å¯¹äº<code class="fe ls lt lu lv b">&lt;Element&gt;</code>(å³<code class="fe ls lt lu lv b">&lt;p&gt;&lt;/p&gt;</code>)çš„ä½ç½®:</p><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="8886" class="nl lx iq lv b be nm nn l no np">&lt;!-- beforebegin --&gt;<br/>&lt;p&gt;<br/>  &lt;!-- afterbegin --&gt;<br/>  foo<br/>  &lt;!-- beforeend --&gt;<br/>&lt;/p&gt;<br/>&lt;!-- afterend --&gt;</span></pre><p id="4b57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç”±äºåœ¨<strong class="ky ir">ç‚¹1) </strong>ä¸­ï¼Œç›®æ ‡æ˜¯é™„åŠ é¢å¤–çš„è¡¨æ ¼è¡Œ(<code class="fe ls lt lu lv b">&lt;tr&gt;&lt;/tr&gt;</code>)ï¼Œæ‰€ä»¥ä½¿ç”¨äº†ä½ç½®<code class="fe ls lt lu lv b">beforeend</code>ã€‚</p><h2 id="75ef" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">4.æ£€æŸ¥JSONå­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆ</h2><p id="9374" class="pw-post-body-paragraph kw kx iq ky b kz nt jr lb lc nu ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">ç”±äºæˆ‘åœ¨ä¸šä½™æ—¶é—´åˆ›å»ºçš„å¤§å¤šæ•°ç¦»çº¿æµè§ˆå™¨å®ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨æˆ·ä¸Šä¼ æ•°æ®æ–‡ä»¶ï¼Œå…¶ä¸­ä¸€äº›æ–‡ä»¶éœ€è¦æ˜¯JSONæ ¼å¼çš„ï¼Œæ‰€ä»¥å¯¹JSONæ–‡ä»¶è¿›è¡Œæ•°æ®æ ¼å¼éªŒè¯æ£€æŸ¥çš„ä¸€ç§ç®€å•è€Œç›´æ¥çš„æ–¹æ³•æ˜¯:</p><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="3edc" class="nl lx iq lv b be nm nn l no np">function isValidJSON(str) {<br/>  try {<br/>    JSON.parse(str);<br/>    return true;<br/>  } catch (e) {<br/>    return false;<br/>  }<br/>}<br/>// returns a Boolean</span></pre><h2 id="df95" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">5.å°†åŸå§‹HTMLå­—ç¬¦ä¸²ç¼–ç æˆUnicodeå®ä½“</h2><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="dc05" class="nl lx iq lv b be nm nn l no np">function encodeHTMLChars(rawStr) {<br/>  return rawStr.replace(/[\u00A0-\u9999&lt;&gt;\&amp;]/g, ((i) =&gt; `&amp;#${i.charCodeAt(0)};`));<br/>}</span></pre><p id="5528" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¦åœ¨HTMLé¡µé¢ä¸Šæ˜¾ç¤ºæ–‡æœ¬<strong class="ky ir"> &lt; img &gt; </strong>ï¼Œå­—ç¬¦ä¸²å¿…é¡»ç¼–ç å¦‚ä¸‹:</p><pre class="kg kh ki kj gt nh lv ni bn nj nk bi"><span id="7dbf" class="nl lx iq lv b be nm nn l no np">var inputHTMLStr='&lt;img&gt;';<br/>var encodedHTMLStr=encodeHTMLChars(inputHTMLStr);<br/>console.log(encodedHTMLStr); <br/>// Output: &amp;#60;img&amp;#62;</span></pre><p id="3dba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å½“éœ€è¦åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºHTMLä»£ç ç‰‡æ®µæ—¶ï¼Œè¿™é€šå¸¸å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºå…¶åŸå§‹å½¢å¼ï¼Œå³<strong class="ky ir"> " &lt; img &gt; " </strong>è¢«æµè§ˆå™¨è‡ªåŠ¨è§£é‡Šä¸ºHTML DOMå…ƒç´ ï¼Œè€Œä¸æ˜¯ç”¨äºæ˜¾ç¤ºçš„åŸå§‹æ–‡æœ¬ã€‚</p><h2 id="da50" class="lw lx iq bd ly lz ma dn mb mc md dp me lf mf mg mh lj mi mj mk ln ml mm mn mo bi translated">6.å°†XMLè½¬æ¢æˆJSON</h2><p id="394e" class="pw-post-body-paragraph kw kx iq ky b kz nt jr lb lc nu ju le lf nv lh li lj nw ll lm ln nx lp lq lr ij bi translated">2ä¸ªåˆ©ç”¨ç‡æœ€ä½çš„JavaScript APIsåŒ…æ‹¬:<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser" rel="noopener ugc nofollow" target="_blank"> DOMParser() </a>å’Œ<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString" rel="noopener ugc nofollow" target="_blank">DOM parser . parsefromstring()</a></p><p id="f1bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å³ä½¿åƒ<a class="ae kv" href="https://www.npmjs.com/package/xml-js" rel="noopener ugc nofollow" target="_blank"> xml-js </a>å’Œ<a class="ae kv" href="https://www.npmjs.com/package/xml2js" rel="noopener ugc nofollow" target="_blank"> xml2js </a>è¿™æ ·çš„npmåŒ…å¾ˆå®¹æ˜“è·å¾—ï¼Œè¿™ä¸ªé€»è¾‘ä¹Ÿå¯ä»¥é€šè¿‡æ™®é€šçš„JavaScriptå®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="e205" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">å…è´£å£°æ˜:</strong>ä»¥ä¸Šä»£ç é€»è¾‘æœ€åˆç”±<a class="ae kv" href="https://davidwalsh.name/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">David Walsh</strong></a><strong class="ky ir">åœ¨</strong> <a class="ae kv" href="https://davidwalsh.name/convert-xml-json" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">å°†XMLè½¬æ¢ä¸ºJSON </strong> </a>å®ç°ã€‚</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="5273" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘çš„æ–‡ç« åˆ°æ­¤ç»“æŸï¼éå¸¸æ„Ÿè°¢ä½ åšæŒåˆ°æœ€åï¼â¤å¸Œæœ›ä½ è§‰å¾—è¿™å¾ˆæœ‰ç”¨ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šä¸ç½‘ç»œç›¸å…³çš„å†…å®¹ï¼Œè¯·éšæ—¶å…³æ³¨æˆ‘çš„<a class="ae kv" href="https://medium.com/@geek-cc" rel="noopener"> Medium </a>åœ°ç†ç©ºé—´åˆ†æ&amp;æ•°æ®åˆ†æã€‚ä¼šéå¸¸æ„Ÿæ¿€â€”ğŸ˜€</p><p id="9b6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">â€” ğŸŒ®è¯·ç»™æˆ‘ä¹°ä¸€ä»½ç‰ç±³å·ğŸ€Ë¶â›â—¡â›)</p><div class="mp mq gp gr mr ms"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥çµåª’â€”â€”ææ€æ¬£Â·å´”</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">è·å¾—ææ€æ¬£Â·å´”å’Œå…¶ä»–ä½œå®¶åœ¨åª’ä½“ä¸Šçš„æ‰€æœ‰å¸–å­ï¼ğŸ˜ƒæ‚¨çš„ä¼šå‘˜è´¹ç›´æ¥â€¦</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">geek-cc.medium.com</p></div></div><div class="nb l"><div class="of l nd ne nf nb ng kp ms"/></div></div></a></div><p id="938f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="og">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="og">plain English . io</em></strong></a><em class="og">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="og">å…è´¹æ¯å‘¨ç®€è®¯</em> </strong> </a> <em class="og">ã€‚åœ¨æˆ‘ä»¬çš„</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="og">ç¤¾åŒº</em> </strong> </a> <em class="og">è·å–ç‹¬å®¶å†™ä½œæœºä¼šå’Œå»ºè®®ã€‚</em></p></div></div>    
</body>
</html>