<html>
<head>
<title>Learn JavaScript with Program Templates: An Introduction to the Advanced Features of Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用程序模板学习JavaScript:函数高级特性介绍</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/learn-javascript-with-program-templates-an-introduction-to-the-advanced-features-of-functions-be19364dd859?source=collection_archive---------22-----------------------#2022-02-16">https://javascript.plainenglish.io/learn-javascript-with-program-templates-an-introduction-to-the-advanced-features-of-functions-be19364dd859?source=collection_archive---------22-----------------------#2022-02-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a2b5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">高效编程函数的一些高级特性介绍。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0db6e78d5f6e698a06cf7e76bc95b377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8t-z_pVghfgROGHy"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@heylagostechie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lagos Techie</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2620" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我回到通过程序模板学习JavaScript之前，我还有一篇关于函数的文章要写。在本文中，我将向您介绍一些函数的高级特性，这些特性可以帮助您使您的程序更易于阅读、调试和提高效率。让我们开始吧。</p><h1 id="0d01" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">参数对象</h1><p id="e5e4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">每次创建函数时，都会创建一个名为<code class="fe mp mq mr ms b">arguments</code>的内置对象。这个对象是一个数组，它的元素是你提供给函数的参数。使用这个对象，即使函数定义只有一个参数，也可以调用具有不同数量参数的函数。</p><p id="0b33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过一个例子来看看这是如何工作的。下面的函数允许用户输入不同数量的参数(数字)，函数计算并返回所有参数的总和。下面是函数定义和使用该函数的一个简短程序:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="8377" class="mx lt iq ms b gy my mz l na nb">function sum(numbers) {<br/>  let total = 0;<br/>  for (let i = 0; i &lt; arguments.length; i++) {<br/>    total += arguments[i];<br/>  }<br/>  return total;<br/>}</span><span id="6e74" class="mx lt iq ms b gy nc mz l na nb">print(sum(1,2,3));<br/>print(sum(1,2,3,4,5,6,7,8,9,10));</span></pre><p id="f7f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个程序的输出是:</p><p id="2531" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6 <br/> 55</p><p id="41a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您应该注意到arguments对象类似于数组，但不是真正的JavaScript数组。</p><h1 id="b733" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">默认参数</h1><p id="7b4c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">有时，您希望函数为用户提供一个默认参数，在调用函数时使用该参数，而在函数调用中不使用该参数。以这种方式定义的参数被称为<em class="nd">默认参数</em>。</p><p id="502a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们检查默认参数的一种用法。下面的函数返回雇员的工资总额，忽略任何扣减。这两个参数是工资率和工作时间。在这家公司，大多数员工每周工作40小时，所以我们可以使用40作为计算薪水的默认参数。</p><p id="89af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是函数定义和一个演示如何使用该函数的小程序:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="c150" class="mx lt iq ms b gy my mz l na nb">function grossPay(rate, hours = 40.0) {<br/>  return rate * hours;<br/>}</span><span id="fff5" class="mx lt iq ms b gy nc mz l na nb">let rate1 = 23.00;<br/>print("Gross pay for 40 hours is:", grossPay(rate1));<br/>let rate2 = 33.10;<br/>let hours1 = 35;<br/>print("Gross pay for 35 hours is:",grossPay(rate2, hours1));</span></pre><p id="310d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在第一个<code class="fe mp mq mr ms b">print</code>语句中，因为工作的小时数是40，所以省略了第二个参数，让默认值用于计算。在第二个<code class="fe mp mq mr ms b">print</code>语句中，调用了第二个参数，覆盖了默认值。</p><p id="a81c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个警告—默认参数需要是参数列表中的最后一个参数。如果不是这样，您的代码将产生不好的结果，尽管它不会导致错误。</p><p id="1b79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了演示这一点，我重写了<code class="fe mp mq mr ms b">grossPay</code>函数，将默认参数放在第二个参数之前。下面是函数定义和一个简短的程序:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="b4de" class="mx lt iq ms b gy my mz l na nb">function grossPay(hours = 40.0, rate) {<br/>  return rate * hours;<br/>}</span><span id="3898" class="mx lt iq ms b gy nc mz l na nb">print(grossPay(23));<br/>print(grossPay(23, 39));</span></pre><p id="a8a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个程序的输出是:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="a8f6" class="mx lt iq ms b gy my mz l na nb">NaN<br/>897</span></pre><p id="9652" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过修改函数定义来显示函数内部的参数，从而进一步研究这一点:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="7d36" class="mx lt iq ms b gy my mz l na nb">function grossPay(hours = 40.0, rate) {<br/>  print("hours, rate:", hours, rate)<br/>  return rate * hours;<br/>}</span><span id="0750" class="mx lt iq ms b gy nc mz l na nb">print(grossPay(23));<br/>print(grossPay(23, 39));</span></pre><p id="fdd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是输出:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="8b90" class="mx lt iq ms b gy my mz l na nb">hours, rate: 23 undefined<br/>NaN<br/>hours, rate: 23 39<br/>897</span></pre><p id="7dd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过将缺省参数放在第一位，导致函数输出值NaN(不是数字),这是无效的输出。这里的寓意是始终将默认参数作为参数列表中的最后一个参数。</p><h1 id="750d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">休息参数</h1><p id="9b94" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">另一种编写参数数量可变的函数的方法是将一个参数设为<em class="nd"> rest </em>参数。休止符参数通过在参数名称前放置三个点来表示。以下是带有rest参数的定义的函数模板:</p><p id="c975" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">函数func-name(…rest-parameter) { <br/>函数体；<br/> } </em></p><p id="027d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您使用rest参数编写函数时，rest参数被实现为一个数组，您可以像访问标准数组一样访问该数组。下面是一个例子，我们使用rest参数代替arguments对象重写了前面的<code class="fe mp mq mr ms b">sum</code>函数:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="5643" class="mx lt iq ms b gy my mz l na nb">function sum(...numbers) {<br/>  let total = 0;<br/>  for (let i = 0; i &lt; numbers.length; i++) {<br/>    total += numbers[i];<br/>  }<br/>  return total;<br/>}</span><span id="a33b" class="mx lt iq ms b gy nc mz l na nb">print(sum(1,2,3,4,5,6,7,8,9,10)); // displays 55</span></pre><p id="1ce2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用rest参数比使用arguments对象更容易理解，但是它们的执行方式是一样的。</p><h1 id="09de" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">扩展运算符</h1><p id="db9c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">与rest参数类似的是<em class="nd">扩展运算符</em>。spread运算符允许您将数组指定为参数，数组的每个元素都作为参数传递给另一个函数调用或运算符。spread运算符不在参数列表中使用，而是在函数体中使用。</p><p id="acf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在第一个例子中，一个分数数组被传递给函数<code class="fe mp mq mr ms b">Math.max</code>，数组中最高的分数被返回:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="e38b" class="mx lt iq ms b gy my mz l na nb">function maxGrade(grades) {<br/>  return Math.max(...grades);<br/>}</span><span id="9c0b" class="mx lt iq ms b gy nc mz l na nb">let grades = [81, 77, 82, 79, 92, 88];<br/>print("Highest grade:", maxGrade(grades));</span></pre><p id="d9be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出是:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="cf95" class="mx lt iq ms b gy my mz l na nb">Highest grade: 92</span></pre><p id="ef92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您还可以提供一个外部值以及要展开的数组。这里有一个例子:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="bfaf" class="mx lt iq ms b gy my mz l na nb">function maxGrade(grades) {<br/>  return Math.max(...grades, 99);<br/>}</span><span id="b5f1" class="mx lt iq ms b gy nc mz l na nb">let grades = [81, 77, 82, 79, 92, 88];<br/>print("Highest grade:", maxGrade(grades));</span></pre><p id="f353" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的输出是:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="fadd" class="mx lt iq ms b gy my mz l na nb">Highest grade: 99</span></pre><p id="7c11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为外部的值是最大的值，包括数组内部的值。</p><h1 id="8901" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">箭头功能</h1><p id="1270" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我将以对<em class="nd">箭头功能</em>的简短讨论来结束本文。箭头函数，有时也称为粗箭头函数，不需要使用function关键字，而是让您将函数定义赋给变量。您还可以使用箭头函数来定义匿名函数，以便与数组函数(如every)一起使用。</p><p id="1c10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">arrow函数还有其他更技术性的特性，但是现在我将集中讨论这个简单的用法。</p><p id="a050" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将箭头函数分配给变量的语法模板是:</p><p id="ac2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">设var-name = (parameter-list) = &gt;函数体；</em></p><p id="a389" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的示例分配一个函数定义，该函数定义将其参数平方为一个变量。代码如下:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="062e" class="mx lt iq ms b gy my mz l na nb">let square = (x) =&gt; x * x;<br/>print(square(2)); // displays 4</span></pre><p id="e6f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个带有两个参数的示例:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="2317" class="mx lt iq ms b gy my mz l na nb">let power =<br/>  (base, exp) =&gt; {let product = 1;<br/>    for (let i = 1; i &lt;= exp; i++) {<br/>      product *= base;<br/>    }<br/>    return product;<br/>  }</span><span id="e7ec" class="mx lt iq ms b gy nc mz l na nb">print(power(2,3)); // displays 8</span></pre><p id="3da4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以使用箭头函数来定义匿名函数，作为另一个函数调用的一部分来调用。例如，数组函数映射将函数应用于数组的每个元素。函数映射调用可以是数组函数。</p><p id="377c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个例子，其中数组的每个元素都是平方的:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="92db" class="mx lt iq ms b gy my mz l na nb">let nums = [1,2,3,4,5];<br/>let numsquared = nums.map(x =&gt; x * x);<br/>print(numsquared);</span></pre><p id="3766" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出是:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="8b22" class="mx lt iq ms b gy my mz l na nb">1,4,9,16,25</span></pre><p id="0fc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">箭头函数的内容比我在这里展示的要多得多，但是这些主题需要留待更高级的文章来讨论。</p><h1 id="a661" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">最后的想法</h1><p id="1e74" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">函数是每种编程语言的重要组成部分，你应该花额外的时间来掌握它们。在本文中，我强调了JavaScript函数的一些额外特性，您可以利用这些特性使您的程序变得更好。</p><p id="67c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请回复这篇文章或发邮件给我，告诉我你的意见和建议。</p><p id="0df8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">plain English . io</em></strong></a><em class="nd">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">社区</em> </strong> </a> <em class="nd">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>