<html>
<head>
<title>What is the Nullish Coalescing (or ??) Operator in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是零聚合(或？？JavaScript中的)运算符</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-the-nullish-coalescing-or-operator-in-javascript-465419a44269?source=collection_archive---------12-----------------------#2022-07-12">https://javascript.plainenglish.io/what-is-the-nullish-coalescing-or-operator-in-javascript-465419a44269?source=collection_archive---------12-----------------------#2022-07-12</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="e585" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在Javascript中，nullish合并运算符，或？?'运算符可用于定义默认值。让我们看看它是如何工作的。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/57b3af3eab8559ffa7576669a0e75513.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jiI5wB6mZlDGV_VoQZenyw.png"/></div></div></figure><p id="5621" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在Javascript中，每当左侧为<code class="fe lk ll lm ln b">null</code>或<code class="fe lk ll lm ln b">undefined</code>时，nullish合并操作符或<code class="fe lk ll lm ln b">??</code>操作符用于返回右侧。为了更好地理解，我们来看几个例子:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="2c1f" class="ls lt in ln b gy lu lv l lw lx">// Is set to 0<br/>let x = 0 ?? "hello";</span><span id="20ba" class="ls lt in ln b gy ly lv l lw lx">// Is set to goodbye<br/>let y = undefined ?? "goodbye";</span><span id="b9f8" class="ls lt in ln b gy ly lv l lw lx">// Is set to hello<br/>let z = null ?? "hello";</span><span id="31e3" class="ls lt in ln b gy ly lv l lw lx">// Is set to false<br/>let a = false ?? "goodbye";</span></pre><p id="328d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> nullish合并</strong>操作符在某些情况下很有用，可以作为<code class="fe lk ll lm ln b">null</code>或<code class="fe lk ll lm ln b">undefined</code>返回，帮助我们精简代码。例如，在某些情况下返回undefined的函数可以提供一个默认的<strong class="kq io">值:</strong></p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="f3d6" class="ls lt in ln b gy lu lv l lw lx">let myFunction = (a) =&gt; {<br/>    if(a &gt;= 5) {<br/>        return "hello world";<br/>    }<br/>}</span><span id="ca5f" class="ls lt in ln b gy ly lv l lw lx">// Will return "goodbye world", since `myFunction(4)` returns undefined.<br/>let runFunction = myFunction(4) ?? "goodbye world";</span></pre><h1 id="3d2d" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">逻辑或运算符之间的区别</h1><p id="50b1" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">过去，我们通常使用逻辑运算符<strong class="kq io">或</strong> ( <code class="fe lk ll lm ln b">||</code>)在Javascript中设置默认的值。它具有相同的功能，如果左边的第一个值不满足特定的标准，它就会设置一个值。然而，如果左边的值是任何值<strong class="kq io"> falsy </strong>，那么<code class="fe lk ll lm ln b">||</code>操作符将返回右边的值，并且有很多<strong class="kq io"> falsy </strong>值，如下表所示。</p><h1 id="9f94" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">虚伪的价值观</h1><ul class=""><li id="0106" class="mv mw in kq b kr mq ku mr kx mx lb my lf mz lj na nb nc nd bi translated"><code class="fe lk ll lm ln b">false</code></li><li id="7626" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated"><code class="fe lk ll lm ln b">0</code>或<code class="fe lk ll lm ln b">-0</code>或<code class="fe lk ll lm ln b">0n</code></li><li id="559e" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated">任何空字符串，即<code class="fe lk ll lm ln b">""</code></li><li id="9996" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated"><code class="fe lk ll lm ln b">null</code></li><li id="08af" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated"><code class="fe lk ll lm ln b">undefined</code></li><li id="cce2" class="mv mw in kq b kr ne ku nf kx ng lb nh lf ni lj na nb nc nd bi translated"><code class="fe lk ll lm ln b">NaN</code></li></ul><p id="426a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">就像</strong>一样，使用<code class="fe lk ll lm ln b">||</code>操作符意味着如果一个函数返回值<code class="fe lk ll lm ln b">0</code>，而我们确实想使用<code class="fe lk ll lm ln b">0</code>值，我们将无法使用——因为<code class="fe lk ll lm ln b">0</code>是falsy。使用无效合并运算符(<code class="fe lk ll lm ln b">??</code>)，<code class="fe lk ll lm ln b">0</code>是一个有效值，因为它仅在值为<code class="fe lk ll lm ln b">null</code>或<code class="fe lk ll lm ln b">undefined</code>时触发:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="ff97" class="ls lt in ln b gy lu lv l lw lx">// Is set to 0<br/>let x = 0 ?? 5;</span><span id="8196" class="ls lt in ln b gy ly lv l lw lx">// Is set to 5<br/>let y = 0 || 5;</span></pre><p id="a735" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">类似地，如果一个字符串是空的，<code class="fe lk ll lm ln b">||</code>操作符将默认位于右边——这并不总是我们想要的行为。操作符让我们避免了这种情况:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="9d29" class="ls lt in ln b gy lu lv l lw lx">// Is set to ""<br/>let x = "" ?? "default text";</span><span id="9ab6" class="ls lt in ln b gy ly lv l lw lx">// Is set to "default text"<br/>let x = "" || "default text";</span></pre><h1 id="0d8b" class="lz lt in bd ma mb mc md me mf mg mh mi jt mj ju mk jw ml jx mm jz mn ka mo mp bi translated">链接零化合并运算符</h1><p id="7a0a" class="pw-post-body-paragraph ko kp in kq b kr mq jo kt ku mr jr kw kx ms kz la lb mt ld le lf mu lh li lj ig bi translated">还可以链接nullish合并运算符，如下所示:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="bbc8" class="ls lt in ln b gy lu lv l lw lx">// Is set to "default text"<br/>let x = null ?? undefined ?? "default text";</span></pre><p id="8a9f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是不能用逻辑运算符<code class="fe lk ll lm ln b">||</code>将它链接起来，除非用括号:</p><pre class="kd ke kf kg gt lo ln lp lq aw lr bi"><span id="5b44" class="ls lt in ln b gy lu lv l lw lx">// Errors out:<br/>let x = 0 || undefined ?? "default text";</span><span id="1e7c" class="ls lt in ln b gy ly lv l lw lx">// Returns "default text";<br/>let y = (0 || undefined) ?? "default text";</span></pre><p id="e042" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是了。感谢您的阅读。</p><p id="847b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nj">更多内容尽在</em> <a class="ae nk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nj">说白了. io </em> </strong> </a> <em class="nj">。报名参加我们的</em> <a class="ae nk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nj">免费周报</em> </strong> </a> <em class="nj">。关注我们关于</em> <a class="ae nk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nj">推特</em></strong></a><strong class="kq io"><em class="nj"/></strong><em class="nj">和</em><a class="ae nk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nj">LinkedIn</em></strong></a><em class="nj">。查看我们的</em> <a class="ae nk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nj">社区不和谐</em> </strong> </a> <em class="nj">加入我们的</em> <a class="ae nk" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nj">人才集体</em> </strong> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>