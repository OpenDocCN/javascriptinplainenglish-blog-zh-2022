<html>
<head>
<title>How to leverage GitHub and semantic release to reduce vulnerabilities in your packages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åˆ©ç”¨GitHubå’Œè¯­ä¹‰å‘å¸ƒæ¥å‡å°‘åŒ…ä¸­çš„æ¼æ´</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/how-to-leverage-github-and-semantic-release-to-reduce-vulnerabilities-in-your-packages-c517403e339c?source=collection_archive---------8-----------------------#2022-12-16">https://javascript.plainenglish.io/how-to-leverage-github-and-semantic-release-to-reduce-vulnerabilities-in-your-packages-c517403e339c?source=collection_archive---------8-----------------------#2022-12-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><figure class="im in gp gr io ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi il"><img src="../Images/97af07c88bee11ccf83e3ed9913b5f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UTnYjwMydrCp0nedr5YQ8Q.png"/></div></div></figure><div class=""/><p id="87df" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä½ å¾ˆå¯èƒ½ä»ä¸ªäººç»éªŒä¸­çŸ¥é“ï¼Œå¦‚ä»Šè®¸å¤šé¡¹ç›®éœ€è¦ä¸€å †ä¾èµ–é¡¹æ¥å¼€å‘ã€ç¼–è¯‘æˆ–è¿è¡Œã€‚</p><p id="4561" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ‚¨æ˜¯å¦æ³¨æ„åˆ°ï¼Œå½“æ‚¨å®‰è£…é¡¹ç›®çš„ä¾èµ–é¡¹æ—¶ï¼Œnpmè¿˜ä¼šæŠ¥å‘Šè¿™äº›ä¾èµ–é¡¹ä¸­çš„å·²çŸ¥æ¼æ´ï¼Ÿ</p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi kt"><img src="../Images/e3307522e4e31d23f874a808c000a918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yz1QRuo2RpiMHeRlbTkqsQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">`npm install` reporting vulnerabilities</figcaption></figure><p id="133d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å³ä½¿ä½ çš„é¡¹ç›®åªä½¿ç”¨äº†å°‘é‡çš„ç›´æ¥ä¾èµ–é¡¹ï¼Œè¿™äº›ä¾èµ–é¡¹æœ¬èº«ä¹Ÿæœ‰ä¼ é€’ä¾èµ–é¡¹ï¼Œç­‰ç­‰â€¦ä½ æ˜ç™½æˆ‘çš„æ„æ€äº†å§ã€‚</p><p id="b6aa" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è®©æˆ‘ä»¬çœ‹çœ‹<a class="ae lc" href="https://github.com/Th3S4mur41/demo-auto-security-release/network/dependencies" rel="noopener ugc nofollow" target="_blank">æ¼”ç¤ºé¡¹ç›®</a>çš„ä¾èµ–å…³ç³»æ ‘â€¦</p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi ld"><img src="../Images/cb4cbe5bfe840338591ae3726ea91835.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UutH7l2vwVX1fXhIuUPzEQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">List of dependencies and their vulnerabilities in both package.json and package-lock.json</figcaption></figure><p id="3326" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è™½ç„¶é¡¹ç›®æœ¬èº«â€œä»…ä»…â€æœ‰å…«(8)ä¸ªç›´æ¥ä¾èµ–é¡¹åœ¨å®ƒçš„<a class="ae lc" href="https://github.com/Th3S4mur41/demo-auto-security-release/blob/main/package.json" rel="noopener ugc nofollow" target="_blank"> <em class="le"> package.json </em> </a>ä¸­è¢«å¼•ç”¨ï¼Œä½†æ˜¯æ•´ä¸ªä¾èµ–é¡¹æ ‘æ€»å…±åŒ…å«533ä¸ªåŒ…ã€‚</p><p id="9c2d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ‰‹åŠ¨è·Ÿè¸ªæ‰€æœ‰è¿™äº›ä¾èµ–é¡¹åŠå…¶æ¼æ´å¾ˆå¿«å°±å˜æˆäº†ä¸€é¡¹ä¹å‘³çš„ä»»åŠ¡ï¼Œå¦‚æœä¸æ˜¯ä¸å¯èƒ½çš„è¯ã€‚</p><p id="a819" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™å°±æ˜¯GitHub å¯ä»¥å¸®å¿™çš„åœ°æ–¹ã€‚</p></div><div class="ab cl lf lg hr lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ig ih ii ij ik"><p id="3782" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="le">ä»¥ä¸‹æ‰€æœ‰ä»£ç ç‰‡æ®µéƒ½å¯ä»¥ä»GitHub </em>  <em class="le">ä¸Šçš„</em><a class="ae lc" href="https://github.com/Th3S4mur41/demo-auto-security-release" rel="noopener ugc nofollow" target="_blank"><em class="le">demoèµ„æºåº“ä¸­æ´¾ç”Ÿå‡ºæ¥ã€‚</em></a></p><h1 id="08e9" class="lm ln iy bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">å¼€æºä»£ç åº“</h1><p id="8cbc" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">Githubæœ€è¿‘å‘å¸ƒäº†ä¸€ä»½å‡å°‘OWASPæ¼æ´çš„æœ€ä½³å®è·µåˆ—è¡¨ã€‚</p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mp"><img src="../Images/4225337898a2e71a18be2f5bb2aa347e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fMrp413gu07gcZXYv38GAQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Explore how GitHub Advanced Security can help address several of the OWASP Top 10 vulnerabilities</figcaption></figure><p id="aa26" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å…¶ä¸­ä¸€ä¸ªæŠ€å·§æ˜¯åˆ©ç”¨<a class="ae lc" href="https://github.blog/2022-05-25-how-we-use-dependabot-to-secure-github/" rel="noopener ugc nofollow" target="_blank">dependent bot</a>æ¥æé†’å¼€å‘è€…ä¾èµ–å…³ç³»ä¸­çš„å·²çŸ¥æ¼æ´ï¼Œå¹¶æ½œåœ¨åœ°å°†è¿™äº›ä¾èµ–å…³ç³»æ›´æ–°åˆ°ä¸€ä¸ªè¡¥ä¸ç‰ˆæœ¬ã€‚</p><p id="5b84" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç¬¬ä¸€æ­¥æ˜¯æ¿€æ´»Dependabotè­¦æŠ¥å’Œå®‰å…¨æ›´æ–°ã€‚è¿™å¯ä»¥åœ¨<em class="le">ä»£ç å®‰å…¨å’Œåˆ†æ</em>ä¸‹çš„å­˜å‚¨åº“è®¾ç½®ä¸­è½»æ¾å®Œæˆï¼Œæ­£å¦‚ä½ åœ¨ä¸‹é¢çš„æˆªå›¾ä¸­çœ‹åˆ°çš„ã€‚</p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi mq"><img src="../Images/1d1c8778b639e3aa26902b6ab0cf0abe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V2pahwtpfSCKa2qgkyttXQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Githubâ€™s â€œCode security and analysisâ€ repository settings with Dependabot alerts &amp; Dependabot security updates enabled</figcaption></figure><h2 id="0413" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">ä¾èµ–æœºå™¨äººè­¦æŠ¥</h2><p id="1932" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">ç¬¬ä¸€ä¸ªè®¾ç½®å°†åœ¨æ‚¨ä½¿ç”¨çš„ä¾èµ–å…³ç³»ä¸­å­˜åœ¨å·²çŸ¥æ¼æ´æ—¶æé†’æ‚¨ï¼Œå°±åƒè¿è¡Œ<code class="fe nd ne nf ng b">npm audit</code>ä¸€æ ·ï¼Œä½†å®ƒä¹Ÿå°†å¸®åŠ©æ‚¨è·Ÿè¸ªå’Œç®¡ç†è¿™äº›æ¼æ´ã€‚</p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nh"><img src="../Images/2684b6d6654839a5a99aa84ef54bf295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yuJLNnRGx3fUZSq4klfuAQ.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">The dependabot alerts page showing a single moderate vulnerability</figcaption></figure><h2 id="d8f0" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">ä¾èµ–æœºå™¨äººå®‰å…¨æ›´æ–°</h2><p id="ff74" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">ç¬¬äºŒä¸ªè®¾ç½®å°†ä½¿dependabotèƒ½å¤Ÿå°è¯•å¹¶è‡ªåŠ¨ä¿®å¤æ¼æ´ã€‚å¦‚æœä¾èµ–é¡¹çš„ä¸€ä¸ªå›ºå®šç‰ˆæœ¬å¯ç”¨å¹¶ä¸”ä¸æ‚¨çš„å­˜å‚¨åº“å…¼å®¹ï¼ŒDependabotå°†æ‰“å¼€ä¸€ä¸ªpullè¯·æ±‚æ¥æ›´æ–°å—å½±å“çš„åŒ…ã€‚</p><h2 id="e360" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">Dependabotç‰ˆæœ¬æ›´æ–°</h2><p id="4aab" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">ä½†æ˜¯ä¸ºä»€ä¹ˆå°±æ­¤æ‰“ä½å‘¢ï¼Ÿç¬¬ä¸‰ä¸ªé€‰é¡¹æ˜¯<em class="le">dependent botç‰ˆæœ¬æ›´æ–°</em>ï¼Œå®ƒå°†å¸®åŠ©æ‚¨åˆ›å»ºä¸€ä¸ªdependent boté…ç½®æ¥è‡ªåŠ¨æ›´æ–°æ‚¨çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚</p><p id="3e37" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸‹é¢çš„ä»£ç æ˜¯æœ€åŸºæœ¬çš„dependent boté…ç½®ï¼Œç”¨äºæ¯å‘¨æ›´æ–°æ‚¨çš„npmä¾èµ–é¡¹ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªç”¨æˆ·æˆ–å›¢é˜Ÿä½œä¸ºdependent botå°†åˆ›å»ºçš„æ‰€æœ‰æ‹‰è¯·æ±‚çš„å®¡æŸ¥è€…ã€‚</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="e395" class="nm ln iy ng b be nn no l np nq"># .github/dependabot.yml<br/>version: 2<br/>updates:<br/>  - package-ecosystem: "npm"<br/>    directory: "/" # Location of package manifests<br/>    schedule:<br/>      interval: "weekly"<br/>    reviewers:<br/>      - "&lt;user or team name&gt;"</span></pre><p id="b51e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨<a class="ae lc" href="https://docs.github.com/en/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹ä¾èµ–æœºå™¨äººæ–‡æ¡£</a>ä¹‹åï¼Œç‰ˆæœ¬æ›´æ–°å¯ä»¥ä»¥å¤šç§æ–¹å¼è¿›ä¸€æ­¥å®šåˆ¶ã€‚</p><h2 id="e110" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">[å¥–é‡‘]è®©æ‚¨çš„CIä¿æŒæœ€æ–°</h2><p id="a54d" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">è™½ç„¶è¿™ä¸æ‚¨çš„ä¾èµ–é¡¹æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä½†ä¹Ÿå¯èƒ½æœ‰åŠ©äºä¿æŒæ‚¨çš„CIå®‰å…¨ã€‚é€šè¿‡åœ¨dependent bot . ymlä¸­æ·»åŠ å‡ è¡Œä»£ç ï¼Œæ‚¨è¿˜å¯ä»¥å¯¹å…¶è¿›è¡Œé…ç½®ï¼Œä½¿æ‚¨çš„Githubæ“ä½œä¿æŒæœ€æ–°ã€‚æ‚¨åªéœ€æ·»åŠ ç¬¬äºŒä¸ªè½¯ä»¶åŒ…ç”Ÿæ€ç³»ç»Ÿï¼Œä»£ç å¦‚ä¸‹:</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="a3e5" class="nm ln iy ng b be nn no l np nq">- package-ecosystem: "github-actions"<br/>    directory: "/"<br/>    schedule:<br/>      interval: "daily"</span></pre></div><div class="ab cl lf lg hr lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ig ih ii ij ik"><p id="3d92" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><a class="ae lc" href="https://github.com/Th3S4mur41/demo-auto-security-release/blob/main/.github/dependabot.yml" rel="noopener ugc nofollow" target="_blank">æ¼”ç¤ºåº“çš„dependaboté…ç½®</a>è¢«è®¾ç½®ä¸ºæ¯å¤©æ›´æ–°npmåŒ…å’ŒGithubåŠ¨ä½œã€‚</p><h2 id="fb4f" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">è‡ªåŠ¨åˆå¹¶ä»å±æœºå™¨äººPR</h2><p id="1370" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">åœ¨æœ‰å¾ˆå¤šä¾èµ–é¡¹çš„é¡¹ç›®ä¸­ï¼Œç”±Dependabotç”Ÿæˆçš„pullè¯·æ±‚çš„æ•°é‡ä¼šå¾ˆå¿«æˆä¸ºå®¡æŸ¥å’Œåˆå¹¶çš„è´Ÿæ‹…ã€‚å¦‚æœæ‚¨æœ‰ä¸€ä¸ªæµ‹è¯•è‡ªåŠ¨åŒ–æ¥éªŒè¯æ‚¨çš„æ‹‰è¯·æ±‚ï¼Œè¿™æ˜¯æ‚¨ä¸å†æƒ³è¦æ‰‹åŠ¨åšçš„äº‹æƒ…ã€‚</p></div><div class="ab cl lf lg hr lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ig ih ii ij ik"><p id="8481" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">âš ï¸ <strong class="jx iz">åœ¨å®æ–½è¿™ä¸€æ­¥éª¤ä¹‹å‰ï¼Œè¯·ç¡®ä¿è®¾ç½®åˆ†æ”¯ä¿æŠ¤å’Œæ‚¨å¯ä»¥ä¿¡ä»»çš„CI(æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²),å› ä¸ºæ‚¨å°†ä¸å†æ‰‹åŠ¨éªŒè¯è¿™äº›æ›´æ”¹ã€‚</strong></p><figure class="ku kv kw kx gt ip gh gi paragraph-image"><div role="button" tabindex="0" class="iq ir di is bf it"><div class="gh gi nr"><img src="../Images/541524be51594e83071fe662ff0c4500.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XOgrG-oDEdAUzuOqMPJvLw.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Make sure that PR need to be approved and your relevant CI workflows are successful before allowing pull requests to be merged</figcaption></figure></div><div class="ab cl lf lg hr lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ig ih ii ij ik"><p id="cd0a" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">é€šè¿‡åˆ©ç”¨Github APIåˆ›å»ºä¸€ä¸ªå·¥ä½œæµï¼Œå¯ä»¥è‡ªåŠ¨åˆå¹¶Dependabot pullè¯·æ±‚â€¦</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="5cdb" class="nm ln iy ng b be nn no l np nq"># .github/workflows/dependabot-automation.yml<br/>name: Depandabot automation<br/>on: <br/> pull_request_target:    <br/>  types: [opened, synchronize, reopened]<br/>permissions:<br/>  pull-requests: write<br/>  contents: write<br/>jobs:<br/>  dependabot-auto:<br/>    name: 'ğŸ¤– Dependabot Automation'<br/>    runs-on: ubuntu-latest<br/>    # Only run if PR was opened by dependabot<br/>    if: ${{ github.actor == 'dependabot[bot]' }}<br/>    steps:<br/>      - name: Dependabot metadata<br/>        id: metadata<br/>        uses: dependabot/fetch-metadata@v1<br/>          with:<br/>            github-token: '${{ secrets.GITHUB_TOKEN }}'<br/>      - name: Enable auto-merge for Dependabot PRs<br/>        continue-on-error: true<br/>        # Auto merge dependencies with patch or minor updates<br/>        # Major versions still must be merged manually<br/>        if: ${{(steps.metadata.outputs.update-type == 'version-update:semver-patch') || (steps.metadata.outputs.update-type == 'version-update:semver-minor')}}<br/>        run: gh pr merge --auto --squash "$PR_URL"<br/>        env:<br/>          PR_URL: ${{github.event.pull_request.html_url}}<br/>          # GH_TOKEN needed to trigger follow up worlflow: https://github.com/fastify/github-action-merge-dependabot/issues/134<br/>          GITHUB_TOKEN: ${{ secrets.GH_TOKEN || secrets.GITHUB_TOKEN }} </span></pre><p id="27f1" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å¦‚æœæ‚¨çš„åˆ†æ”¯è¢«é…ç½®ä¸ºåœ¨åˆå¹¶å‰éœ€è¦æ‰¹å‡†ï¼Œæ‚¨è¿˜éœ€è¦å°†ä»¥ä¸‹æ­¥éª¤æ·»åŠ åˆ°å‰é¢çš„å·¥ä½œæµä¸­æ¥å¤„ç†è¿™ä¸€é—®é¢˜ã€‚</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="8477" class="nm ln iy ng b be nn no l np nq">- name: Approve a PR<br/>    continue-on-error: true<br/>    run: gh pr review --approve "$PR_URL"<br/>    env:<br/>      PR_URL: ${{github.event.pull_request.html_url}}<br/>      # GH_TOKEN needed to approve PR as code owner on protected branches<br/>      GITHUB_TOKEN: ${{ secrets.GH_TOKEN || secrets.GITHUB_TOKEN }} </span></pre><p id="660c" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ä¾èµ–Githubçš„åŠ¨ä½œï¼Œæ¯”å¦‚<a class="ae lc" href="https://github.com/marketplace/actions/dependabot-auto-merge" rel="noopener ugc nofollow" target="_blank">dependent bot Auto Merge</a>æ¥ç®€åŒ–å·¥ä½œæµç¨‹ï¼Œç±»ä¼¼äº<a class="ae lc" href="https://github.com/Th3S4mur41/demo-auto-security-release/blob/main/.github/workflows/on_dependabot.yml" rel="noopener ugc nofollow" target="_blank">åœ¨æ¼”ç¤º</a>ä¸­å®ç°çš„è§£å†³æ–¹æ¡ˆã€‚</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="8e14" class="nm ln iy ng b be nn no l np nq"><br/># This is the workflow to automatically approve and merge dependabot PRs<br/>#<br/>name: Dependabot automation<br/><br/>on:<br/>  pull_request_target:<br/>    types: [opened, synchronize, reopened]<br/><br/>  # Allows you to run this workflow manually from the Actions tab<br/>  workflow_dispatch:<br/><br/>jobs:<br/>  dependabot:<br/>    name: 'ğŸ¤– Dependabot Automation'<br/>    runs-on: ubuntu-latest<br/>    if: ${{ github.actor == 'dependabot[bot]' }}<br/><br/>    steps:<br/>      - uses: actions/checkout@v3<br/>        with:<br/>          ref: ${{ github.event.pull_request.head.sha }}<br/><br/>      - uses: ahmadnassri/action-dependabot-auto-merge@v2<br/>        with:<br/>          target: minor<br/>          github-token: ${{ secrets.DEPENDABOT_TOKEN  }}<br/>          command: squash and merge</span></pre><h2 id="99b2" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">é¿å…å¼•å…¥å…·æœ‰æ–°ä¾èµ–æ€§çš„æ¼æ´</h2><p id="4539" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">Githubå›¢é˜Ÿæœ€è¿‘å‘å¸ƒäº†ä¸€ä¸ªåä¸º<a class="ae lc" href="https://github.com/actions/dependency-review-action" rel="noopener ugc nofollow" target="_blank">dependency-review-action</a>çš„æ–°æ“ä½œï¼Œå®ƒå¯ä»¥é€šè¿‡æ‰«æpullè¯·æ±‚å¹¶åœ¨æ˜“å—æ”»å‡»çš„ä¾èµ–é¡¹å‡ºç°åœ¨ä»£ç ä¸­ä¹‹å‰é˜»æ­¢å®ƒä»¬çš„æ·»åŠ ï¼Œæ¥è¿›ä¸€æ­¥å¸®åŠ©å‡å°‘æ˜“å—æ”»å‡»çš„ä¾èµ–é¡¹ã€‚</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="bf58" class="nm ln iy ng b be nn no l np nq">name: Check Dependencies<br/><br/>on:<br/>  pull_request:<br/>    types: [opened, synchronize, reopened]<br/><br/>permissions:<br/>  contents: read<br/><br/>jobs:<br/>  dependency-review:<br/>    name: 'â›“ï¸ Dependency Review'<br/>    runs-on: ubuntu-latest<br/><br/>    steps:<br/>      - name: 'â˜ï¸ Checkout repository'<br/>        uses: actions/checkout@v3<br/><br/>      - name: 'ğŸ›¡ï¸ Dependency Review'<br/>        uses: actions/dependency-review-action@v3</span></pre></div><div class="ab cl lf lg hr lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ig ih ii ij ik"><p id="d6fb" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æœ‰äº†è¿™äº›ï¼Œæ‚¨å·²ç»å‡å°‘äº†ä»£ç ä¸­çš„æ¼æ´ã€‚ä½†æ˜¯åœ¨ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ä¹‹å‰ï¼Œä½ çš„åŒ…ä»ç„¶ä¼šå—åˆ°å½±å“ã€‚</p><p id="3925" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¿™é€šå¸¸æ˜¯é—ç•™åŒ…æˆ–è€…æ²¡æœ‰è¢«ä¸»åŠ¨æˆ–å®šæœŸç»´æŠ¤çš„åŒ…çš„é—®é¢˜ã€‚ä¸€æ—¦ä½ è¿›å…¥ä¸‹ä¸€ä¸ªé¡¹ç›®ï¼Œè¿™ä¸æ˜¯ä½ æƒ³å‘ç”Ÿåœ¨ä½ çš„åŒ…ä¸Šçš„äº‹æƒ…ï¼</p><h1 id="de45" class="lm ln iy bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">è¯­ä¹‰é‡Šæ”¾</h1><p id="2a85" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated"><a class="ae lc" href="https://semantic-release.gitbook.io/semantic-release/" rel="noopener ugc nofollow" target="_blank"> semantic-release </a>æ˜¯ä¸€ä¸ªå¸®åŠ©ä½ è‡ªåŠ¨åŒ–ä½ çš„åŒ…çš„å‘å¸ƒè¿‡ç¨‹çš„å·¥å…·ï¼ŒåŒ…æ‹¬æ›´æ–°ç‰ˆæœ¬å·ï¼Œç”Ÿæˆå‘å¸ƒè¯´æ˜å’Œå˜æ›´æ—¥å¿—ï¼Œå°†åŒ…å‘å¸ƒåˆ°æ³¨å†Œè¡¨ã€‚</p><h2 id="a039" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">æäº¤æ ¼å¼</h2><p id="c185" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">ä¸ºäº†è®©è¯­ä¹‰å‘å¸ƒèƒ½å¤Ÿç¡®å®šè¦ç¢°æ’è¯­ä¹‰ç‰ˆæœ¬çš„å“ªä¸€éƒ¨åˆ†ï¼Œæ‚¨çš„æäº¤éœ€è¦éµå¾ªæäº¤çº¦å®šã€‚</p><p id="b77e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¸¦æœ‰é»˜è®¤è®¾ç½®çš„<a class="ae lc" href="https://github.com/Th3S4mur41/demo-auto-security-release/blob/main/commitlint.config.js" rel="noopener ugc nofollow" target="_blank">æ‰©å±•çš„</a><a class="ae lc" href="https://commitlint.js.org/#/" rel="noopener ugc nofollow" target="_blank">æäº¤åˆ—è¡¨</a>ï¼Œä»¥ç¡®ä¿è¯­ä¹‰å‘å¸ƒèƒ½å¤Ÿä½¿ç”¨å®ƒä»¬ã€‚</p><h2 id="0f60" class="mr ln iy bd lo ms mt dn ls mu mv dp lw kg mw mx ma kk my mz me ko na nb mi nc bi translated">è‡ªåŠ¨å‘å¸ƒå®‰å…¨ä¿®å¤ç¨‹åº</h2><p id="6d37" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">æ‚¨è¿˜éœ€è¦é…ç½®è¯­ä¹‰å‘å¸ƒâ€¦</p><p id="8291" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">æ­¤å¤–ï¼Œè¦é€‰æ‹©å“ªä¸ªåˆ†æ”¯åº”è¯¥è§¦å‘å‘å¸ƒï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦æ·»åŠ ä¸€äº›æ’ä»¶æ¥ç”Ÿæˆå‘å¸ƒè¯´æ˜å’Œchangelogï¼Œå‘å¸ƒæ‚¨çš„åŒ…å¹¶ç”ŸæˆGitHubæ ‡ç­¾ã€‚</p><p id="f8f3" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä»¥ä¸‹è®¾ç½®è¿˜å°†ç¡®ä¿ç”Ÿæˆçš„changelogä»¥åŠå¸¦æœ‰æ–°ç‰ˆæœ¬çš„åŒ…é…ç½®è¢«æäº¤åˆ°æ‚¨çš„å­˜å‚¨åº“ä¸­ã€‚</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="1f18" class="nm ln iy ng b be nn no l np nq">{<br/> "branches": ["main"],<br/> "plugins": [<br/>  "@semantic-release/commit-analyzer",<br/>  "@semantic-release/release-notes-generator",<br/>  "@semantic-release/changelog",<br/>  "@semantic-release/npm",<br/>  [<br/>   "@semantic-release/git",<br/>   {<br/>    "assets": ["CHANGELOG.md", "package.json", "package-lock.json"]<br/>   }<br/>  ],<br/>  "@semantic-release/github"<br/> ]<br/>}</span></pre><p id="2ee7" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å°±è¿™æ ·ï¼Ÿ</p><p id="1a40" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä¸å®Œå…¨æ˜¯ã€‚æ¥è‡ªdependabotçš„é»˜è®¤æäº¤æ¶ˆæ¯ä¸ä¼šè§¦å‘æ–°çš„å‘å¸ƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä»ç„¶éœ€è¦åšä¸€äº›äº‹æƒ…ã€‚</p><p id="3d67" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">Matt Rathbun å†™äº†ä¸€ä¸ª<a class="ae lc" href="https://rathbun.dev/posts/semantic-release-dependabot/#approach-2---configure-semantic-release-to-understand-dependabot-commits" rel="noopener ugc nofollow" target="_blank">ç›´æˆªäº†å½“çš„æŒ‡å—</a>æ¥æ›´æ–°ä½ çš„è¯­ä¹‰å‘å¸ƒé…ç½®ï¼Œä»¥è‡ªåŠ¨è§¦å‘ä¾èµ–å…³ç³»æ›´æ–°çš„æ–°è¡¥ä¸å‘å¸ƒã€‚</p><p id="9401" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">è¯¥é…ç½®åŒ…å«ä¸¤é¡¹æ›´æ”¹:</p><ul class=""><li id="3f8d" class="ns nt iy jx b jy jz kc kd kg nu kk nv ko nw ks nx ny nz oa bi translated">æ›´æ–°æäº¤åˆ†æå™¨ä»¥å‘å¸ƒç”¨äºâ€œæ„å»º(deps)â€æäº¤çš„æ–°è¡¥ä¸</li><li id="143c" class="ns nt iy jx b jy ob kc oc kg od kk oe ko of ks nx ny nz oa bi translated">æ›´æ–°å‘å¸ƒè¯´æ˜ç”Ÿæˆå™¨ï¼Œåœ¨GitHubå‘å¸ƒè¯´æ˜ä¸­åŒ…å«è¿™äº›æäº¤çš„è¯¦ç»†ä¿¡æ¯</li></ul><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="82d1" class="nm ln iy ng b be nn no l np nq">"release": <br/>  // ...<br/>  "plugins": [<br/>    [<br/>      "@semantic-release/commit-analyzer",<br/>      {<br/>        "preset": "conventionalcommits",<br/>        "releaseRules": [<br/>          {<br/>            "type": "build",<br/>            "scope": "deps",<br/>            "release": "patch"<br/>          }<br/>        ]<br/>      }<br/>    ],<br/>    [<br/>      "@semantic-release/release-notes-generator",<br/>      {<br/>        "preset": "conventionalcommits",<br/>        "presetConfig": {<br/>          "types": [<br/>            {<br/>              "type": "feat",<br/>              "section": "Features"<br/>            },<br/>            {<br/>              "type": "fix",<br/>              "section": "Bug Fixes"<br/>            },<br/>            {<br/>              "type": "build",<br/>              "section": "Dependencies and Other Build Updates",<br/>              "hidden": false<br/>            }<br/>          ]<br/>        }<br/>      }<br/>    ]<br/>    // ...<br/>  ]<br/>}{</span></pre><p id="e470" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">å‰©ä¸‹è¦åšçš„å°±æ˜¯åœ¨ä¸»åˆ†æ”¯ä¸Šçš„æ¯ä¸€æ¬¡æ¨åŠ¨éƒ½è§¦å‘è¯­ä¹‰é‡Šæ”¾ã€‚</p><pre class="ku kv kw kx gt ni ng nj bn nk nl bi"><span id="809c" class="nm ln iy ng b be nn no l np nq">name: 'Semantic release'<br/><br/>on:<br/>  push:<br/>    branches: [main]<br/><br/>jobs:<br/>  # jobs to check your code come here<br/><br/>  release:<br/>    name: 'ğŸ·ï¸ Release'<br/>    runs-on: ubuntu-latest<br/><br/>    environment:<br/>      name: production<br/>      url: https://github.com/${{ github.repository }}/releases/tag/v${{ steps.release.outputs.version }}<br/><br/>    outputs:<br/>      version: ${{ steps.release.outputs.version }}<br/><br/>    steps:<br/>      - name: 'â˜ï¸ Checkout repository'<br/>        uses: actions/checkout@v3<br/>        with:<br/>          fetch-depth: 0<br/>          persist-credentials: false<br/><br/>      - name: 'âš™ï¸ Use Node.js'<br/>        uses: actions/setup-node@v3<br/>        with:<br/>          check-latest: true<br/>          cache: 'npm'<br/><br/>      - name: 'â›“ï¸ Install dependencies'<br/>        run: npm ci --omit=optional --audit=false --prefer-offline --progress=false<br/><br/>      - name: 'ğŸ“¦ Release'<br/>        id: release<br/>        env:<br/>          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}<br/>          GH_TOKEN: ${{ secrets.GH_TOKEN || secrets.GITHUB_TOKEN }} # Needed to push to GitHub<br/>        run: |<br/>          npx semantic-release<br/>          echo "::set-output name=version::$(npm run env | grep npm_package_version | cut -d '=' -f 2)"n::$(npm run env | grep npm_package_version | cut -d '=' -f 2)"</span></pre><p id="8d37" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ç°åœ¨ï¼Œæ¯æ¬¡Dependabotä¿®å¤æ‚¨çš„ä¾èµ–å…³ç³»ä¸­çš„æ¼æ´æ—¶ï¼ŒCIéƒ½ä¼šå‘å¸ƒä¸€ä¸ªåŒ…å«ä¿®å¤çš„è½¯ä»¶åŒ…çš„æ–°ç‰ˆæœ¬ã€‚</p><h1 id="459b" class="lm ln iy bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">ç»“è®º</h1><p id="4a33" class="pw-post-body-paragraph jv jw iy jx b jy mk ka kb kc ml ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">é€šè¿‡ç»“åˆè¿™ä¸¤ä¸ªå·¥å…·ï¼Œæ‚¨å¯ä»¥å‡å°‘æ‚¨çš„åŒ…ä¸­çš„æ¼æ´çš„é£é™©ï¼Œè€Œä¸ç”¨èŠ±è´¹æ‚¨çš„ä¸€åˆ†é’Ÿæ—¶é—´â€¦æˆ‘è¦è¯´ï¼Œè¿™ç»å¯¹å€¼å¾—èŠ±è´¹æœ€åˆçš„åŠªåŠ›æ¥åšä¸€ç‚¹é…ç½®ã€‚</p><p id="0495" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ä½ æ€ä¹ˆæƒ³å‘¢?</p><p id="266d" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="le">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae lc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="le">plain English . io</em></strong></a><em class="le">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae lc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx iz"> <em class="le">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="le">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae lc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="le">Twitter</em></strong></a><a class="ae lc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="le">LinkedIn</em></strong></a><em class="le"/><a class="ae lc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="le">YouTube</em></strong></a><em class="le"/><a class="ae lc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="jx iz"><em class="le">ä¸å’Œ</em> </strong> </a> <strong class="jx iz"> <em class="le">ã€‚</em>T49ã€‘</strong></p><p id="d21e" class="pw-post-body-paragraph jv jw iy jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx iz"> <em class="le">å¯¹ç¼©æ”¾æ‚¨çš„è½¯ä»¶å¯åŠ¨æ„Ÿå…´è¶£</em> </strong> <em class="le">ï¼Ÿæ£€æŸ¥</em> <a class="ae lc" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="jx iz"> <em class="le">ç”µè·¯</em> </strong> </a> <em class="le">ã€‚</em></p></div></div>    
</body>
</html>