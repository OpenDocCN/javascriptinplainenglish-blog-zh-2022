<html>
<head>
<title>JavaScript Rest Parameter Simplified</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化的JavaScript Rest参数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-rest-parameter-simplified-2054d7c49238?source=collection_archive---------13-----------------------#2022-05-18">https://javascript.plainenglish.io/javascript-rest-parameter-simplified-2054d7c49238?source=collection_archive---------13-----------------------#2022-05-18</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="da36" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">深入探究rest参数——理解为什么以及如何使用它们。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/0a41ca0989783e7ae29ccb7a1d829c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vbIkN52JTlAk7SeN"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@sincerelymedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sincerely Media</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fdb2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ES6引入了几个特性，让JavaScript开发人员的生活变得更加简单。其中一个特性是rest参数。今天，在本文中，我们深入研究rest参数，并试图理解如何使用它们以及为什么要使用它们。</p><p id="656c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">那么，我们开始吧。</p><h2 id="97e2" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">什么是休息参数？</strong></h2><p id="6ff9" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">顾名思义，rest参数用于访问传递给函数的参数，并对传递的参数进行任何操作。</p><p id="3171" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在使用rest参数之前，开发人员习惯使用arguments对象进行相同的操作。让我们看看这个arguments对象是什么，以及为什么使用rest参数比arguments对象更好。</p><p id="b934" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">请看下面的片段:</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="543a" class="lp lq in mo b gy ms mt l mu mv">function argumentExample(a, b) {</span><span id="1111" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of A', a);</span><span id="2094" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of B', b);</span><span id="7336" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of C', arguments);</span><span id="d8be" class="lp lq in mo b gy mw mt l mu mv">}</span><span id="8346" class="lp lq in mo b gy mw mt l mu mv">argumentExample(1, 2, 3, 4);</span><span id="6dc8" class="lp lq in mo b gy mw mt l mu mv">Value of A 1<br/>Value of B 2<br/>Value of C [Arguments] { '0': 1, '1': 2, '2': 3, '3': 4 }</span></pre><p id="997f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，正如你所看到的，arguments变量保存了传递给函数的所有参数。现在，问题可能会出现，如果我们已经有了这个arguments对象，那么使用rest参数的目的是什么。</p><p id="3aea" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">因此，以下是arguments对象的一些缺点:</p><ol class=""><li id="0ca3" class="mx my in kv b kw kx kz la lc mz lg na lk nb lo nc nd ne nf bi translated">arguments对象保存所有传递的参数(一个赋给变量，另一个赋给左边的变量)。因此，如果需要获得关于其余参数的信息，我们必须进行额外的计算。</li><li id="f2d0" class="mx my in kv b kw ng kz nh lc ni lg nj lk nk lo nc nd ne nf bi translated">默认情况下，arguments对象无权访问数组方法/属性。因此，如果我们不得不对参数迭代地执行任何操作，那么它们将会失败。</li></ol><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="4d7e" class="lp lq in mo b gy ms mt l mu mv">function argumentExample(a, b) {</span><span id="9587" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of A', a);</span><span id="51d2" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of B', b);</span><span id="b34c" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of C', typeof arguments);</span><span id="f481" class="lp lq in mo b gy mw mt l mu mv">arguments.map((elem) =&gt; {</span><span id="4e97" class="lp lq in mo b gy mw mt l mu mv">console.log(elem);</span><span id="9412" class="lp lq in mo b gy mw mt l mu mv">});</span><span id="b55a" class="lp lq in mo b gy mw mt l mu mv">}</span><span id="f390" class="lp lq in mo b gy mw mt l mu mv">argumentExample(1, 2, 3, 4);</span></pre><p id="2043" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这里，如果我们尝试使用带有参数的map操作符，我们将得到如下所示的错误:</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="9206" class="lp lq in mo b gy ms mt l mu mv">TypeError: arguments.map is not a function<br/>    at argumentExample (D:\Blog_Topic\Destructure\rest.js:13:13)<br/>    at Object.&lt;anonymous&gt; (D:\Blog_Topic\Destructure\rest.js:18:1)<br/>    at Module._compile (node:internal/modules/cjs/loader:1103:14)<br/>    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10)<br/>    at Module.load (node:internal/modules/cjs/loader:981:32)<br/>    at Function.Module._load (node:internal/modules/cjs/loader:822:12)<br/>    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12)<br/>    at node:internal/main/run_main_module:17:47</span></pre><p id="eceb" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">剩下的唯一解决方案是首先将参数转换为数组。</p><p id="1d9f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">3.arguments对象在arrow函数中不能很好地工作。</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="77d0" class="lp lq in mo b gy ms mt l mu mv">const argumentExample = (a, b) =&gt; {</span><span id="7826" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of A', a);</span><span id="02b8" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of B', b);</span><span id="0ed3" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of C', arguments);</span><span id="20cd" class="lp lq in mo b gy mw mt l mu mv">};</span><span id="94d3" class="lp lq in mo b gy mw mt l mu mv">argumentExample(1, 2, 3, 4);</span><span id="e0db" class="lp lq in mo b gy mw mt l mu mv">Value of A 1<br/>Value of B 2<br/>Value of C [Arguments] {<br/>  '0': {},<br/>  '1': [Function: require] {<br/>    resolve: [Function: resolve] { paths: [Function: paths] },<br/>    main: Module {<br/>      id: '.', .....</span></pre><p id="c54b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的代码片段中，arguments对象的值是一些奇怪的值。</p><p id="f68c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">基本上，箭头函数没有自己的参数对象。它们可以访问最近的非箭头父函数的arguments对象，因此这里输出了相同的值。</p><p id="eec1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了避免上面提到的缺点，最好改用rest参数。让我们详细了解一下。</p><p id="6fcc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">基本用法</strong></p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="0a25" class="lp lq in mo b gy ms mt l mu mv">function restExample(a, b, ...c) {   <br/>console.log('Value of A', a);<br/>console.log('Value of B', b);<br/>console.log('Value of C', c);<br/>}<br/>restExample(1, 2, 3, 4);<br/>// Output<br/>Value of A 1<br/>Value of B 2<br/>Value of C [ 3, 4 ]</span></pre><p id="b8be" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在函数定义中，我们将函数参数定义为(a，b，…c)。这里(…c)是我们定义rest参数的方式，即三个点后跟变量名。在幕后，JavaScript将参数一对一地分配给函数中传递的参数，一旦遇到rest参数，它就将所有其余的参数分配给用变量名定义的变量。</p><p id="c21b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里需要注意的重要一点是，rest parameter可以访问数组属性和方法，因此可以利用它们来进行任何计算。让我们来看一个片段:</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="80a8" class="lp lq in mo b gy ms mt l mu mv">function restExample(a, b, ...c) {</span><span id="c322" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of A', a);</span><span id="09e3" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of B', b);</span><span id="70ed" class="lp lq in mo b gy mw mt l mu mv">c.map((elem) =&gt; {</span><span id="ec4e" class="lp lq in mo b gy mw mt l mu mv">console.log('Elem', elem);</span><span id="d7c3" class="lp lq in mo b gy mw mt l mu mv">});</span><span id="6bcc" class="lp lq in mo b gy mw mt l mu mv">}</span><span id="f23c" class="lp lq in mo b gy mw mt l mu mv">restExample(1, 2, 3, 4);</span><span id="cec6" class="lp lq in mo b gy mw mt l mu mv">Value of A 1<br/>Value of B 2<br/>Elem 3<br/>Elem 4</span></pre><h2 id="623a" class="lp lq in bd lr ls lt dn lu lv lw dp lx lc ly lz ma lg mb mc md lk me mf mg mh bi translated"><strong class="ak">使用rest参数时的一些问题</strong></h2><p id="a41c" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated"><strong class="kv io">rest参数应该是你的最后一个参数:</strong></p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="87b7" class="lp lq in mo b gy ms mt l mu mv">function restExample(a, ...c, b) {</span><span id="e528" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of A', a);</span><span id="ec11" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of B', b);</span><span id="5c78" class="lp lq in mo b gy mw mt l mu mv">c.map((elem) =&gt; {</span><span id="5155" class="lp lq in mo b gy mw mt l mu mv">console.log('Elem', elem);</span><span id="357a" class="lp lq in mo b gy mw mt l mu mv">});</span><span id="d0d0" class="lp lq in mo b gy mw mt l mu mv">}</span><span id="132e" class="lp lq in mo b gy mw mt l mu mv">restExample(1, 2, 3, 4);</span><span id="2e0f" class="lp lq in mo b gy mw mt l mu mv">function restExample(a, ...c, b) {<br/>                            ^</span><span id="2221" class="lp lq in mo b gy mw mt l mu mv">SyntaxError: Rest parameter must be last formal parameter</span></pre><p id="d65b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果我们试图在中间使用rest参数，我们将遇到一个错误，解释它应该是最后一个参数。</p><p id="56b8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">函数中必须有一个rest参数:</strong></p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="3f25" class="lp lq in mo b gy ms mt l mu mv">function restExample(...a, ...c) {</span><span id="d17f" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of A', a);</span><span id="b965" class="lp lq in mo b gy mw mt l mu mv">console.log('Value of B', c);</span><span id="c750" class="lp lq in mo b gy mw mt l mu mv">}</span><span id="266f" class="lp lq in mo b gy mw mt l mu mv">restExample(1, 2, 3, 4);</span><span id="6f1d" class="lp lq in mo b gy mw mt l mu mv">function restExample(...a, ...c) {<br/>                         ^</span><span id="dbea" class="lp lq in mo b gy mw mt l mu mv">SyntaxError: Rest parameter must be last formal parameter</span></pre><p id="15fe" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在上面的例子中，我们尝试使用2个rest参数，但是在那种情况下，我们也收到了一个错误。</p><p id="2997" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">简而言之，这就是rest参数。希望你现在能更好地理解它。如果您有任何疑问或担忧，请在回复中告知我。</p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="090d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">关于我——我是一个编程爱好者，喜欢阅读和写作前端设计、JavaScript和UI/UX相关的东西。点击<a class="ae ks" href="https://medium.com/@avinash.dev21987" rel="noopener">这里</a>阅读我所有的文章，并让我知道你的反馈。</p><p id="b6ec" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="ns">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ns">说白了就是</em> </strong> </a> <em class="ns">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ns">免费周报</em> </strong> </a> <em class="ns">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="ns">Twitter</em></strong></a><em class="ns">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="ns">LinkedIn</em></strong></a><em class="ns">。查看我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ns">社区不和谐</em> </strong> </a> <em class="ns">加入我们的</em> <a class="ae ks" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="ns">人才集体</em> </strong> </a> <em class="ns">。</em></p></div></div>    
</body>
</html>