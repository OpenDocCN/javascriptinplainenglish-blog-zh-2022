<html>
<head>
<title>Execute Custom JavaScript on Mobile Browsers Without Developer Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无需开发人员工具，即可在移动浏览器上执行自定义JavaScript</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/execute-custom-javascript-on-mobile-browsers-without-developer-tools-dda075feba95?source=collection_archive---------6-----------------------#2022-08-16">https://javascript.plainenglish.io/execute-custom-javascript-on-mobile-browsers-without-developer-tools-dda075feba95?source=collection_archive---------6-----------------------#2022-08-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="369b" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用书签在网站上执行定制的JavaScript代码，并在您的移动浏览器上向网站注入定制的cookies。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4e8864873614552e1538b59a51c3d61e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ugG7fu6VS9Zo6MfJ"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@martinsanchez" rel="noopener ugc nofollow" target="_blank">Martin Sanchez</a> on Unsplash</figcaption></figure><p id="3c6a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如今，大多数现代浏览器都支持开发者工具功能，这使我们能够通过控制台分析网页并在这些页面上运行定制的JavaScript。</p><p id="dff1" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">然而，几乎所有的移动浏览器都缺少这一功能。如果我们想在我们的移动设备上执行自定义JavaScript，我们将不得不使用另一个看似无关的浏览器功能:书签。</p><p id="f6bf" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这一系列文章中，我将向您展示如何使用书签在网站上执行自定义JavaScript代码，以及如何使用书签在移动浏览器上将自定义cookies注入网站。我们开始吧！</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><h1 id="9ba2" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">制作和编辑我们的书签</h1><p id="cc99" class="pw-post-body-paragraph kt ku in kv b kw mo jo ky kz mp jr lb lc mq le lf lg mr li lj lk ms lm ln lo ig bi translated">从添加书签开始。根据您使用的浏览器，方法会有所不同；我将使用Safari浏览本教程。在您选择的任何网页上按下“共享”按钮，然后选择“添加书签”。给书签和适当的名称，然后按“保存”。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/976d3cd76a356c3ad172d6b469030d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Y0rSq6Uy7S_H5lwmw-i-g.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Adding the bookmark</figcaption></figure><p id="7426" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您将它添加到哪个页面并不重要，因为为了执行我们的JavaScript代码，我们将更改书签的地址属性。</p><p id="924e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">完成所有这些后，按下“Book”按钮，导航到书签所在的位置。在右下角，你会发现一个写着“编辑”的按钮。单击它并选择您刚刚创建的书签。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mu"><img src="../Images/bdeb1fe97e45a5546ed35a0787491851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfLq6QzjOiWgA7LVGL-NIg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Editing the bookmark</figcaption></figure><p id="8df0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在是有趣的部分！在书签的地址栏中，输入<code class="fe mv mw mx my b">javascript:</code>,然后输入您想要执行的JavaScript。</p><h1 id="7610" class="lw lx in bd ly lz mz mb mc md na mf mg jt nb ju mi jw nc jx mk jz nd ka mm mn bi translated">代码语法</h1><p id="9bb6" class="pw-post-body-paragraph kt ku in kv b kw mo jo ky kz mp jr lb lc mq le lf lg mr li lj lk ms lm ln lo ig bi translated">现在，代码的语法将变得非常重要:您放入该字段的字符必须都是URL可以包含的字符。这意味着没有空格，没有换行符，没有括号，没有花括号，没有双引号，等等。</p><p id="0ed5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">要解决这个问题，我们可以遵循新的语法规则，用逗号替换分号，用圆括号替换大括号等等，或者我们可以在将代码放入书签的地址部分之前，简单地通过encodeURIComponent函数运行代码。</p><p id="9fb5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">例如，<code class="fe mv mw mx my b">alert("Hello world?!");</code>可以写成<code class="fe mv mw mx my b">alert(decodeURIComponent('Hello%20World%3F!'));</code>，也可以写成<code class="fe mv mw mx my b">alert(%22Hello%20world%3F!%22)%3B</code>。无论你喜欢哪一个。</p><p id="a009" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您使用Safari，您可以简单地将整个JavaScript代码粘贴为一行(确保在必要时使用分号)，当您按下save时，Safari会自动为您格式化。</p><h1 id="aa1d" class="lw lx in bd ly lz mz mb mc md na mf mg jt nb ju mi jw nc jx mk jz nd ka mm mn bi translated">JavaScript代码示例</h1><p id="f030" class="pw-post-body-paragraph kt ku in kv b kw mo jo ky kz mp jr lb lc mq le lf lg mr li lj lk ms lm ln lo ig bi translated">我将把下面这段代码存储在我的书签中:</p><pre class="kd ke kf kg gt ne my nf ng aw nh bi"><span id="0326" class="ni lx in my b gy nj nk l nl nm">javascript:tagNames='main---header---footer---body'.split('---');for(i=0;i!=4;i++)(element=document.getElementsByTagName(tagNames.at(i)).item(0),element&amp;&amp;(element.style.backgroundColor=decodeURIComponent('%23DDDDDD')));</span></pre><p id="89a4" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">看起来有点混乱，但这是格式化后的版本:</p><pre class="kd ke kf kg gt ne my nf ng aw nh bi"><span id="de2c" class="ni lx in my b gy nj nk l nl nm">javascript:<br/>tagNames = 'main---header---footer---body'.split('---');<br/>for(i = 0; i != 4; i++) (<br/>    element = document.getElementsByTagName(tagNames.at(i)).item(0),<br/>    element &amp;&amp; (<br/>        element.style.backgroundColor = <br/>            decodeURIComponent('%23DDDDDD')<br/>    )<br/>);</span></pre><p id="7237" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当您执行代码时，它将选择它在页面上遇到的第一个<code class="fe mv mw mx my b">main</code>、<code class="fe mv mw mx my b">header</code>、<code class="fe mv mw mx my b">footer</code>和<code class="fe mv mw mx my b">body</code>元素，如果它存在，则将背景颜色设置为漂亮的灰色。如果你遇到一个很长的网页，它只支持纯白背景的光线模式，这对于保护你的眼睛和电池寿命都很方便。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/d61ec608dae30558c02aba7efe167e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y8XGJqUxmfQIbBfiWXnqJQ.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Inserting the code</figcaption></figure><p id="389f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你可以在这里看到之前和之后:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nn"><img src="../Images/9d725356d412a033bf3500dde08cccaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-XMfUOua4bvPjq3sT1T6Q.png"/></div></div></figure><p id="9474" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当然，现在你可以做的不仅仅是改变一些背景颜色。如果屏蔽掉特定的元素，就可以修改DOM树的整个部分。您甚至可以发送请求和设置定制cookies，后者我们将在本系列的下一篇文章中探讨。</p><p id="b61a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">敬请期待！</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="64fc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="no">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">说白了就是</em> </strong> </a> <em class="no">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">免费周报</em> </strong> </a> <em class="no">。关注我们关于</em> <a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">推特</em> </strong> </a>，<a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">领英</em> </strong> </a> <em class="no">，</em><a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="no">YouTube</em></strong></a><em class="no">，以及</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="no">不和</em> </strong> </a> <em class="no">。</em></p></div></div>    
</body>
</html>