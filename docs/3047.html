<html>
<head>
<title>How to Add 1 Year to a Date in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中给日期加上1年</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-add-1-year-to-date-5bb325016f83?source=collection_archive---------2-----------------------#2022-07-26">https://javascript.plainenglish.io/javascript-add-1-year-to-date-5bb325016f83?source=collection_archive---------2-----------------------#2022-07-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="957d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解在JavaScript中轻松添加1年至今对象的多种方法。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/d7f6f8fe06be5038503a89d13a7b9fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ClIwBqnAWy3FzRLfFramFQ.png"/></div></div></figure><p id="f546" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们来看看在JavaScript中给一个<code class="fe lk ll lm ln b">Date</code>对象添加1年的一些方法。</p><h1 id="54ef" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">1.Date setFullYear()和getFullYear()方法</h1><p id="9117" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">要给日期加上1年，调用日期上的<code class="fe lk ll lm ln b">getFullYear(</code>方法得到年份，然后调用日期上的<code class="fe lk ll lm ln b">setFullYear()</code>方法，传递<code class="fe lk ll lm ln b">getFullYear()</code>和<code class="fe lk ll lm ln b">1</code>之和作为参数，即<code class="fe lk ll lm ln b">date.setFullYear(date.getFullYear() + 1)</code>。</p><p id="3586" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如:</p><pre class="kd ke kf kg gt ml ln mm mn aw mo bi"><span id="51af" class="mp lp in ln b gy mq mr l ms mt">function addOneYear(date) {<br/>  date.setFullYear(date.getFullYear() + 1);<br/>  return date;<br/>}</span><span id="7ed0" class="mp lp in ln b gy mu mr l ms mt">// April 20, 2022<br/>const date = new Date('2022-04-20T00:00:00.000Z');</span><span id="ef63" class="mp lp in ln b gy mu mr l ms mt">const newDate = addOneYear(date);</span><span id="9e78" class="mp lp in ln b gy mu mr l ms mt">// April 20, 2023<br/>console.log(newDate); // 2023-04-20T00:00:00.000Z</span></pre><p id="ce82" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们的<code class="fe lk ll lm ln b">addOneYear()</code>函数接受一个<code class="fe lk ll lm ln b">Date</code>对象，并返回相同的<code class="fe lk ll lm ln b">Date</code>，其中年份增加1。</p><p id="ab97" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">Date</code> <code class="fe lk ll lm ln b">getFullYear()</code>方法返回一个表示特定日期的年份的数字。</p><p id="cd59" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">Date</code> <code class="fe lk ll lm ln b">setFullYear()</code>方法将日期的年份设置为一个指定的数字。</p><h2 id="8ed0" class="mp lp in bd lq mv mw dn lu mx my dp ly kx mz na ma lb nb nc mc lf nd ne me nf bi translated">避免副作用</h2><p id="fef8" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated"><code class="fe lk ll lm ln b">setFullYear()</code>方法改变了它所调用的<code class="fe lk ll lm ln b">Date</code>对象。这在我们的<code class="fe lk ll lm ln b">addOneYear()</code>函数中引入了一个<a class="ae ng" href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" rel="noopener ugc nofollow" target="_blank">副作用</a>。为了避免修改传递的<code class="fe lk ll lm ln b">Date</code>并创建一个纯函数，制作一个<code class="fe lk ll lm ln b">Date</code>的副本并在这个副本上调用<code class="fe lk ll lm ln b">setFullYear()</code>，而不是原始的。</p><pre class="kd ke kf kg gt ml ln mm mn aw mo bi"><span id="2042" class="mp lp in ln b gy mq mr l ms mt">function addOneYear(date) {<br/>  // Making a copy with the Date() constructor<br/>  const dateCopy = new Date(date);</span><span id="da6c" class="mp lp in ln b gy mu mr l ms mt">  dateCopy.setFullYear(dateCopy.getFullYear() + 1);</span><span id="01c1" class="mp lp in ln b gy mu mr l ms mt">  return dateCopy;<br/>}</span><span id="989e" class="mp lp in ln b gy mu mr l ms mt">// April 20, 2022<br/>const date = new Date('2022-04-20T00:00:00.000Z');</span><span id="f637" class="mp lp in ln b gy mu mr l ms mt">const newDate = addOneYear(date);</span><span id="4b8e" class="mp lp in ln b gy mu mr l ms mt">// April 20, 2023<br/>console.log(newDate); // 2023-04-20T00:00:00.000Z</span><span id="f030" class="mp lp in ln b gy mu mr l ms mt">// Original not modified<br/>console.log(date); // 2022-04-20T00:00:00.000Z</span></pre><p id="e135" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">不修改外部状态的函数(即纯函数)更容易预测，也更容易推理。这使得限制程序中副作用的数量成为一个好习惯。</p><h1 id="6a60" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">2.date-fns addYears()函数</h1><p id="df73" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">或者，我们可以使用<a class="ae ng" href="https://www.npmjs.com/package/date-fns" rel="noopener ugc nofollow" target="_blank"> date-fns </a> NPM包中的纯<code class="fe lk ll lm ln b">addYears()</code>函数快速地将一年加到一个日期上。</p><pre class="kd ke kf kg gt ml ln mm mn aw mo bi"><span id="ccf0" class="mp lp in ln b gy mq mr l ms mt">import { addYears } from 'date-fns';</span><span id="d6bd" class="mp lp in ln b gy mu mr l ms mt">// April 20, 2022<br/>const date = new Date('2022-04-20T00:00:00.000Z');</span><span id="be40" class="mp lp in ln b gy mu mr l ms mt">const newDate = addYears(date, 1);</span><span id="6c53" class="mp lp in ln b gy mu mr l ms mt">// April 20, 2023<br/>console.log(newDate); // 2023-04-20T00:00:00.000Z</span><span id="1447" class="mp lp in ln b gy mu mr l ms mt">// Original not modified<br/>console.log(date); // 2022-04-20T00:00:00.000Z</span></pre><p id="0f57" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">该函数将一个<code class="fe lk ll lm ln b">Date</code>对象和要添加的年数作为参数，并返回一个新的带有新添加的年数的<code class="fe lk ll lm ln b">Date</code>对象。它不会修改传递给它的原始日期。</p></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="4817" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="no">更新于:</em><a class="ae ng" href="https://cbdev.link/5959a4" rel="noopener ugc nofollow" target="_blank"><em class="no">codingbeautydev.com</em></a></p><h1 id="ef1b" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi np"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae ng" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>