<html>
<head>
<title>Why do We Use JavaScript Bundlers?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我们要使用JavaScript Bundlers？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-do-we-use-javascript-bundlers-e8935dc362c3?source=collection_archive---------10-----------------------#2022-02-14">https://javascript.plainenglish.io/why-do-we-use-javascript-bundlers-e8935dc362c3?source=collection_archive---------10-----------------------#2022-02-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="51c3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">找出使用JavaScript bundlers背后的原因。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a8c4f2b43b3b4972d0664db77faf67a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dsXMR71rbhflvqz4ziDnSA.jpeg"/></div></div></figure><p id="c4e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">JavaScript是一种解释型语言，不需要编译。您的浏览器可以执行您编写的相同代码。那么我们为什么要使用JavaScript bundlers呢？</p><h1 id="2c7e" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">更少的JS文件</h1><p id="0549" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">从历史上看，一个网站使用的JS文件的数量是至关重要的，因为拥有许多小文件会降低性能。浏览器用单独的HTTP请求加载每个文件。每个请求都需要浏览器和服务器之间的连接，而这需要时间来建立。多亏了HTTP/2，现在文件的数量不再是问题了。尽管如此，将文件捆绑在一起还是有意义的。每个请求都是单独缓存的，因此拥有大量文件使得确保浏览器不会从缓存中获取过时代码变得更加困难。</p><p id="fadc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">除此之外，直到2018年，很多浏览器都不支持es模块。您只是从HTML中加载了许多文件，它们都共享相同的全局范围。JavaScript捆绑器解决了这两个问题，因为它们:</p><ul class=""><li id="7eda" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">允许您将代码库分成许多定义明确的文件</li><li id="4677" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">将代码打包成大文件进行部署。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/1e02967e39c427f61ce6e22edea9374a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ynVSsMLRgGyoQT3"/></div></div></figure><h1 id="c66a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">从<code class="fe mz na nb nc b">node_modules</code>轻松导入</h1><p id="3bf3" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bundlers为您提供了一种导入依赖项的方式，这比将它们作为es模块加载要好得多。要从浏览器使用节点包，您需要:</p><ul class=""><li id="ea5a" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">将<code class="fe mz na nb nc b">node_modules</code>部署到您的生产服务器上，并且</li><li id="3185" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">使用从文件到要导入的文件的相对路径</li></ul><p id="a1d8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">相对路径是一个大问题，因为它迫使您根据文件夹结构的深度编写稍微不同的导入。因此，要使用Lodash，您需要:</p><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="e30f" class="nh lo iq nc b gy ni nj l nk nl">var _ = require('../node_modules/lodash/lodash.js'); var _ = require('../../node_modules/lodash/lodash.js');</span></pre><p id="66f0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">捆绑器允许您简单地书写:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/f370deb0a0ad801510a1df62d3c22e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DEL8tNxFO4vM6CpS"/></div></div></figure><h1 id="eeff" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">导入其他文件类型</h1><p id="2bdd" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">你的代码库不仅仅是JavaScript。当您按组件或路径组织代码时，每个组件或路径都有自己的模板和样式。原生ES模块不允许导入JS以外的资源类型。这种限制会使您从HTML导入CSS，而组件的其余部分是用JavaScript导入的——从而迫使您保持两个不相关的文件同步。JavaScript bundlers通过让您直接从JS文件中管理所有这些依赖关系来解决这个问题:</p><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="9580" class="nh lo iq nc b gy ni nj l nk nl">import './core.js'; import './style.css'; const template = require('./view.html');</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/2f753b6bde62bb93da2068d03f5c564b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pcuZdxZVtbsBjSNO"/></div></div></figure><h1 id="a0dd" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">传输码</h1><p id="9a4a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">很多JavaScript不是简单的JavaScript；它用TypeScript等语言编写，然后编译成JavaScript。这种代码到代码的编译称为transpilation。出于几个原因，大部分JavaScript都是透明的。</p><h1 id="70f3" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">代码精简</h1><p id="9c95" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">如果您按照您应该做的那样编写代码，那么您正在做以下事情:</p><ul class=""><li id="3174" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">给变量起有意义的名字</li><li id="39e5" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">缩进代码</li><li id="f4bd" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">给其他开发者留下评论</li></ul><p id="d5d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这对解释者来说毫无意义。缩小是减小有效载荷尺寸的第一步。它会删除对您的应用程序没有影响的所有内容。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/d5a3cd22dca7a0406f47c8e600e6b8b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CtjFD7YqpRNaLAmA"/></div></div></figure><h1 id="9a92" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">旧浏览器降级</h1><p id="3b05" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">随着语言接受新的特征，有一个时期</p><ul class=""><li id="4620" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">开发人员已经想使用它了，而且</li><li id="4595" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">不是所有的浏览器都支持它。</li></ul><p id="eff9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">幸运的是，由于evergreen浏览器的出现，这段时间变得非常短，但是仍然需要像Babel这样的项目。Babel允许你在编码时使用最新的语言版本，并将其转换成旧版本浏览器能够理解的版本。</p><h1 id="ac68" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">JavaScript风格</h1><p id="005a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">除了普通的JavaScript，您还可以使用它的许多风格:</p><ul class=""><li id="cd59" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">以打字打的文件</li><li id="0883" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">纯脚本</li><li id="2c6b" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">榆树</li><li id="6863" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">咖啡脚本</li></ul><p id="357b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">JavaScript bundlers甚至可以处理一个项目中不同风格的混合——这听起来是个坏主意，直到您最终使用遗留代码，并且需要很大的灵活性来选择正确的优先级。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/384f0034848e28027fd6dcd73010e472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9ZXFk-rCJK6wBEhm"/></div></div></figure><h1 id="8e4d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">不同用例的单独构建</h1><p id="e53a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">一旦你开始用捆绑器编译你的代码，新的可能性就会出现。从一开始，您很可能以一种方式编译代码用于生产，以另一种方式编译用于本地开发。如果你写单元测试，也许你有兴趣知道它们如何覆盖你的代码。有代码覆盖工具可以做到这一点。它们需要一个专门的构建，包括在测试执行期间对每一行代码的访问进行计数的工具。</p><h1 id="08c6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">你呢？</h1><p id="59e9" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">你计划在你的下一个项目中使用什么JavaScript bundler？在<a class="ae nm" href="https://strawpoll.com/2gpdcr2g3" rel="noopener ugc nofollow" target="_blank">投票</a>中让我知道，这样我就知道哪个应该在这个博客上得到更多关注:</p><h1 id="3c7a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">下一步是什么？</h1><p id="12cd" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">你可以看看我写的关于使用<a class="ae nm" href="https://how-to.dev/how-to-use-native-es-modules" rel="noopener ugc nofollow" target="_blank">本地ES模块</a>的文章，或者:</p><ul class=""><li id="f142" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><a class="ae nm" href="https://bit.ly/esbuild-course" rel="noopener ugc nofollow" target="_blank">我的esbuild视频课程</a></li><li id="740f" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae nm" href="https://bit.ly/WebpackCourse" rel="noopener ugc nofollow" target="_blank">我的webpack视频课程</a></li></ul></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="dd28" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">最初发布于</em><a class="ae nm" href="https://how-to.dev/why-do-we-use-javascript-bundlers" rel="noopener ugc nofollow" target="_blank"><em class="nu">https://how-to . dev</em></a><em class="nu">。</em></p><p id="b1f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nu">更多内容请看</em> <a class="ae nm" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">说白了就是</em> </strong> </a> <em class="nu">。报名参加我们的</em><strong class="kt ir"><em class="nu"/></strong><a class="ae nm" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nu">免费每周简讯</em> </strong> </a> <em class="nu">。在我们的</em> <a class="ae nm" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nu">社区</em> </strong> </a> <em class="nu">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>