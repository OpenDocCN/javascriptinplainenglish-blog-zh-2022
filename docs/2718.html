<html>
<head>
<title>Error Handling in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的错误处理</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-error-handling-3ec6729ad83e?source=collection_archive---------2-----------------------#2022-06-29">https://javascript.plainenglish.io/javascript-error-handling-3ec6729ad83e?source=collection_archive---------2-----------------------#2022-06-29</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2ed7" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">如何处理JavaScript中的错误</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/d8a4f36078b65a9808d247bd34e5900c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IscBrQgY2BNca5uHLJBOxw.png"/></div></div></figure><p id="d8c2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">你好，朋友们，我祝你们身体健康，永远成功。这次我们将讨论JavaScript中的错误处理。</p><p id="8a3f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我们制作一个应用程序时，我们总是会发现错误。是因为我们在编写代码时的错误还是用户的输入错误？一个好的应用程序会在代码执行时创建一个错误消息作为选项，因为这将使我们更容易处理发生的错误。</p><p id="9cb9" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">还可以学习其他JavaScript教程。</p><p id="a44c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://temanngoding.com/tutorial-javascript-convert-waktu-am-pm-to-24-jam/" rel="noopener ugc nofollow" target="_blank"> Javascript教程:将时间am pm转换为24小时</a></p><p id="92dc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://temanngoding.com/membuat-loading-saat-memuat-halaman/" rel="noopener ugc nofollow" target="_blank">加载页面时进行加载</a></p><p id="a00c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae lk" href="https://temanngoding.com/tutorial-javascript-part1-mengenal-javascript/" rel="noopener ugc nofollow" target="_blank"> JavaScript教程Part1 ~认识Javascript </a></p><p id="7edc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如何处理错误信息以防止崩溃。好吧，让我们直接进入教程。</p><h1 id="0f78" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">试着抓住</h1><p id="5820" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">要处理JavaScript错误，请使用try and catch。编写处理错误的try-catch代码如下:</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="6dee" class="mn lm in mj b gy mo mp l mq mr">try {<br/>    // code<br/>} catch (error) {<br/>    // error handling<br/>}</span></pre><p id="e84c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在上面的代码中，我们已经创建了代码，第一个try代码是为try代码提供一个被catch代码块捕获和处理的机会。同时，如果代码中没有错误，catch块将被忽略。</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="8d1c" class="mn lm in mj b gy mo mp l mq mr">try {<br/>    console.log("first blok try");<br/>    console.log("last blok try");<br/>} catch (error) {<br/>    console.log("No error occurs, then this code is ignored");<br/>}<br/> <br/>/* output<br/>first blok try<br/>last blok try<br/>*/</span></pre><p id="ceb0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">上面的try块中的代码不会返回错误，因此catch块中的代码将被忽略并且不被执行。下面是生成错误的代码示例:</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="895b" class="mn lm in mj b gy mo mp l mq mr">try {<br/>    console.log("First blok try");   // (1)<br/>    errorCode;                      // (2)<br/>    console.log("Last blok try");  // (3)<br/>} catch (error) {<br/>    console.log("An error occurred!");  // (4)<br/>}<br/> <br/>/* output<br/>First blok try<br/>An error occurred!<br/>*/</span></pre><p id="8bc8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">代码行(2)将产生一个错误。try块内的代码执行将被停止，因此代码行(3)将不被执行。然后代码将继续到第(4)行或catch块。</p><p id="2205" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在考虑catch块。catch有一个名为error的参数(变量名可以更改)。错误变量是存储所发生错误的详细信息的对象。</p><p id="efd7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">错误对象中有几个主要属性，即:</p><p id="45ba" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io">名称</strong>:发生的错误的名称。<br/> <strong class="kq io">消息</strong>:关于错误详情的消息。<br/>堆栈:关于导致错误的事件序列的信息。通常用于调试，因为它包含哪一行导致了错误的信息。<br/>现在让我们尝试修改代码并显示上面的错误属性。</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="10ea" class="mn lm in mj b gy mo mp l mq mr">try {<br/>    console.log("First blok try");   // (1)<br/>    errorCode;                      // (2)<br/>    console.log("Last blok try");  // (3)<br/>} catch (error) {<br/>    console.log(error.name);<br/>    console.log(error.message);<br/>    console.log(error.stack);<br/>}<br/> <br/>/* output<br/>Awal blok try<br/>ReferenceError<br/>errorCode is not defined<br/>ReferenceError: errorCode is not defined<br/>    at file:///home/dicoding/Playground/javascript/CoffeeMachine/error.js:3:5<br/>    at ModuleJob.run (internal/modules/esm/module_job.js:152:23)<br/>    at async Loader.import (internal/modules/esm/loader.js:166:24)<br/>    at async Object.loadESM (internal/process/esm_loader.js:68:5)<br/>*/</span></pre><p id="6cbc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">从上面的信息中，我们可以知道出现的错误是ReferenceError，因为errorCode被认为是一个未定义的变量或值。</p><h1 id="d28b" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">尝试-捕捉-最终</h1><p id="f688" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">除了try and catch，JavaScript的错误处理机制中还有一个模块，即finally。不管try-catch块的结果如何，finally块仍将执行。</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="76c0" class="mn lm in mj b gy mo mp l mq mr">try {<br/>    console.log("First blok try");<br/>    console.log("Last blok try");<br/>} catch (error) {<br/>    console.log("This line is ignored");<br/>} finally {<br/>    console.log("Will still be executed");<br/>}<br/> <br/>/* output<br/>First blok try<br/>Last blok try<br/>Will still be executed<br/>*/</span></pre><h1 id="4847" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">投掷错误</h1><p id="9c12" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">现在我们将尝试一个更常见的情况。请注意以下代码:</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="0b18" class="mn lm in mj b gy mo mp l mq mr">let json = '{ "name": "Johon", "age": 20 }';<br/> <br/>try {<br/>    let user = JSON.parse(json);<br/> <br/>    console.log(user.name);<br/>    console.log(user.age);<br/>} catch (error) {<br/>    console.log(error.name);<br/>    console.log(error.message);<br/>}</span></pre><p id="786d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在上面的代码中，JSON.parse函数将JSON变量(字符串)解析或转换成一个对象。当我们向API发出请求时，我们会遇到许多类似上面的场景。</p><p id="79c6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在文本编辑器中运行上面的代码。应用程序应该运行顺畅，不会导致错误。</p><p id="f3b2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">那么，JSON字符串和JavaScript对象格式不匹配怎么办？</p><pre class="kd ke kf kg gt mi mj mk ml aw mm bi"><span id="6a83" class="mn lm in mj b gy mo mp l mq mr">try {<br/>    let user = JSON.parse(json);<br/> <br/>    console.log(user.name);<br/>    console.log(user.age);<br/>} catch (error) {<br/>    console.log(error.name);<br/>    console.log(error.message);<br/>}<br/> <br/> <br/>/* output<br/>SyntaxError<br/>Unexpected token b in JSON at position 2<br/>*/</span></pre><p id="0dc2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果JSON与格式不匹配，那么JSON.parse将导致错误。catch块将捕获该错误，并执行其中的代码。</p><p id="5152" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，这次的教程可能对你们所有人都有用。</p><p id="2b85" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> <em class="ms">谢了。</em>T3】</strong></p><p id="d734" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="ms">更多内容看</em> <a class="ae lk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ms">说白了就是</em> </strong> </a> <em class="ms">。报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ms">免费周报</em> </strong> </a> <em class="ms">。关注我们关于</em><a class="ae lk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ms">Twitter</em></strong></a><em class="ms">和</em><a class="ae lk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ms">LinkedIn</em></strong></a><em class="ms">。查看我们的</em> <a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ms">社区不和谐</em> </strong> </a> <em class="ms">加入我们的</em> <a class="ae lk" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ms">人才集体</em> </strong> </a> <em class="ms">。</em></p></div></div>    
</body>
</html>