<html>
<head>
<title>Dark &amp; Light Mode in NEXTJS using TailwindCSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NEXTJS中使用TailwindCSS的明暗模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/light-dark-mode-in-nextjs-using-tailwindcss-2b39ce1d6fac?source=collection_archive---------0-----------------------#2022-11-19">https://javascript.plainenglish.io/light-dark-mode-in-nextjs-using-tailwindcss-2b39ce1d6fac?source=collection_archive---------0-----------------------#2022-11-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/a3f4398a2a69f1f5619cd0411245bf7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x0HTlzv7Uv_w1YZB"/></div></div></figure><p id="40fa" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你一定遇到过一些支持明暗模式的奇特网站。这是一个非常巧妙的功能，真正增强了你的应用程序。</p><p id="1e95" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将看到如何使用NextJS和TailwindCSS实现黑暗模式</p><p id="1c75" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">但是…</p><h2 id="300a" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">什么是NextJS？</h2><p id="ef50" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">NextJS是一个开源的react框架，由vercel开发，支持基于react的应用程序，具有诸如服务器端渲染和静态站点生成等功能(您可以从我专门为其解释的这篇文章中了解更多关于后者的信息)。NextJS还提供了搜索引擎优化的特性，这样你就不用从头开始写了。</p><h2 id="83a1" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">什么是TailwindCSS？</h2><p id="0053" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">Tailwind CSS是一个实用的CSS框架，可以用低级别的CSS快速构建高度可定制的用户界面，这很棒，因为它提供了一种简单的方法来实现你的网页设计，并且它只装载网页上正在使用的CSS，这使得整个应用程序更加轻便高效。</p></div><div class="ab cl lr ls hr lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ig ih ii ij ik"><p id="26c0" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们深入主题！</p><h2 id="b433" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">注意:本教程已经考虑到我们已经设置了NextJs项目并安装了TailwindCSS。</h2><h2 id="1810" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">1.让我们安装项目中需要的所有依赖项</h2><pre class="ly lz ma mb gt mc md me mf aw mg bi"><span id="d490" class="kt ku in md b gy mh mi l mj mk">npm install next-themes react-icons --save</span></pre><p id="3a24" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">I)下一个主题将允许我们实现亮暗模式</p><p id="b26c" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">ii)反应图标将使我们能够在我们即将创建的组件上使用图标。</p><h2 id="b70a" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">2.为我们的应用添加黑暗模式支持</h2><p id="bb45" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">在pages文件夹中，转到your _app.js文件，复制并粘贴以下内容:</p><pre class="ly lz ma mb gt mc md mm bn mn mo bi"><span id="9bb1" class="mp ku in md b be mq mr l ms mk">import '../styles/globals.css';<br/>import { ThemeProvider } from 'next-themes';<br/><br/>function MyApp({ Component, pageProps }) {<br/>  return (<br/>    &lt;ThemeProvider enableSystem={true} attribute="class"&gt;<br/>      &lt;Component {...pageProps} /&gt;<br/>    &lt;/ThemeProvider&gt;<br/>  );<br/>}<br/><br/>export default MyApp;</span></pre><p id="7784" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">接下来，在您的<em class="ml"> tailwind.config.js </em>文件中的内容数组后添加<strong class="jx io"> darkMode : 'class' </strong>，如下所示:</p><pre class="ly lz ma mb gt mc md mm bn mn mo bi"><span id="9420" class="mp ku in md b be mq mr l ms mk">/** @type {import('tailwindcss').Config} */<br/>module.exports = {<br/>  content: [<br/>    "./app/**/*.{js,ts,jsx,tsx}",<br/>    "./pages/**/*.{js,ts,jsx,tsx}",<br/>    "./components/**/*.{js,ts,jsx,tsx}",<br/>  ],<br/>  darkMode: 'class',<br/>  theme: {<br/>    extend: {},<br/>  },<br/>  plugins: [],<br/>}</span></pre><h2 id="fb1b" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">3.创建我们的ThemeToggler.js组件</h2><p id="2e03" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">在项目的根目录下创建一个组件文件夹，然后在其中创建一个“ThemeToggler.js”文件，或者根据项目文件配置创建一个“ThemeToggler.js”组件。</p><p id="1ff7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">这个文件将是负责从亮模式切换到暗模式的组件，反之亦然。</p><pre class="ly lz ma mb gt mc md mm bn mn mo bi"><span id="93e4" class="mp ku in md b be mq mr l ms mk">import React from 'react'<br/>import { BsFillSunFill, BsFillMoonFill } from "react-icons/bs";<br/>import { useTheme } from 'next-themes';<br/>import { useState, useEffect } from 'react';<br/><br/>export default function ThemeToggler() {<br/>const { theme, setTheme } = useTheme();<br/>const [mounted, setMounted] = useState(false);<br/>useEffect(() =&gt; setMounted(true), []);<br/>if (!mounted) return null;<br/><br/><br/>return (<br/><br/>&lt;button className='w-8 h-8 rounded-lg dark:bg-slate-800 flex items-center justify-center border'&gt;<br/>{theme === 'light' ? &lt;BsFillMoonFill onClick={() =&gt; {setTheme('dark')}} /&gt;: &lt;BsFillSunFill onClick={() =&gt; {setTheme('light')}}/&gt; }<br/>&lt;/button&gt;<br/>)<br/>}</span></pre><p id="cb76" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我们看看它是如何工作的:</p><ul class=""><li id="3758" class="mt mu in jx b jy jz kc kd kg mv kk mw ko mx ks my mz na nb bi translated">usetheme挂钩来自我们之前安装的next-theme包。当主题变量为亮时，我们处于亮模式，当主题变量为暗时，我们处于暗模式。</li><li id="5d05" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">因为我们不知道服务器上的<code class="fe nh ni nj md b">theme</code>，所以从<code class="fe nh ni nj md b">useTheme</code>返回的许多值将是<code class="fe nh ni nj md b">undefined</code>，直到被装载到客户机上。这意味着如果你试图在客户端挂载之前基于当前主题渲染UI，你会看到一个水合不匹配错误。这就是为什么我们在上面的代码中添加了第8行到第10行的内容(不要担心，你可以在<a class="ae nk" href="https://www.npmjs.com/package/next-themes" rel="noopener ugc nofollow" target="_blank">下一个主题文档</a>中了解更多)</li><li id="bcef" class="mt mu in jx b jy nc kc nd kg ne kk nf ko ng ks my mz na nb bi translated">最后，我们使用一个三元运算符来检查当前模式，以便在UI上显示正确的按钮</li></ul><h2 id="ca57" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">4.为黑暗模式添加顺风实用程序类</h2><p id="5d4e" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">假设我们想给一个段落文本添加一个实用程序类，这就是我们要做的。</p><pre class="ly lz ma mb gt mc md mm bn mn mo bi"><span id="06ab" class="mp ku in md b be mq mr l ms mk">&lt;p className="text-slate-800 dark:text-slate-300"<br/>&gt;<br/>Hello my brothers and sisters!<br/>&lt;/p&gt;</span></pre><p id="5bbf" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们可以观察到<em class="ml"> dark </em>实用程序类的增加，我们现在将指定段落在切换到深色模式时将采用的颜色(文本白色)</p><h2 id="9322" class="kt ku in bd kv kw kx dn ky kz la dp lb kg lc ld le kk lf lg lh ko li lj lk ll bi translated">5.将ThemeToggler组件导入到我们选择的页面</h2><p id="8414" class="pw-post-body-paragraph jv jw in jx b jy lm ka kb kc ln ke kf kg lo ki kj kk lp km kn ko lq kq kr ks ig bi translated">对于这一部分，假设我们有一个简单的<em class="ml"> index.js </em>文件，它包含以下内容，只是为了向您展示它是如何工作的</p><pre class="ly lz ma mb gt mc md mm bn mn mo bi"><span id="7c7b" class="mp ku in md b be mq mr l ms mk">import ThemeToggler from '../Components/ThemeToggler'<br/><br/>export default function Home() {<br/>  return (<br/>    &lt;div className="flex justify-center items-center flex-col"&gt;<br/>{/* Importing ThemeToggler.js Component}<br/>      &lt;span className='rounded-xl p-4'&gt;&lt;ThemeToggler /&gt;&lt;/span&gt;<br/>      &lt;h1 className=' dark:text-white text-2xl ease-in'&gt;Hello my brothers and sisters!&lt;/h1&gt;<br/>      &lt;div className="flex justify-center mt-4"&gt;<br/>  &lt;div className="rounded-lg shadow-2xl bg-white max-w-sm dark:bg-slate-800 ease-in"&gt;<br/>    &lt;a href="#!" data-mdb-ripple="true" data-mdb-ripple-color="light"&gt;<br/>      &lt;img className="rounded-lg w-full" src="https://mdbootstrap.com/img/new/standard/nature/184.jpg" alt=""/&gt;<br/>    &lt;/a&gt;<br/>    &lt;div className="p-6"&gt;<br/>      &lt;h5 className="text-gray-900 text-xl font-medium mb-2 dark:text-white ease-in"&gt;Dark Mode Tutorial!&lt;/h5&gt;<br/>      &lt;p className="text-gray-700 dark:text-gray-300 text-base mb-4"&gt;<br/>        Some quick example text to build on the card title and make up the bulk of the card's<br/>        content.<br/>      &lt;/p&gt;<br/>      &lt;button type="button" className=" inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out"&gt;Button&lt;/button&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;<br/>        &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="4237" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们的最终结果:</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/5d3df7e2d79f7414dc12ff978b2f0530.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/1*fQpLKY51Wjx1isn-Nu5S9g.gif"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Final result</figcaption></figure><p id="bd14" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">如果你撒了谎，请鼓掌并分享这个帖子！；-)</p><p id="74d7" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">坚持住！🚀</p><figure class="ly lz ma mb gt jo gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/563f72efe20c50629349cbaf14ea7a38.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*OlHM7oeOLnhJJ6PtewTOew.gif"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk">gif from giphy</figcaption></figure><p id="c01a" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="ml">更多内容看</em> <a class="ae nk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ml">说白了就是</em> </strong> </a> <em class="ml">。报名参加我们的</em> <a class="ae nk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ml">免费周报</em> </strong> </a> <em class="ml">。关注我们关于</em> <a class="ae nk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ml">推特</em> </strong> </a>，<a class="ae nk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ml">LinkedIn</em></strong></a><em class="ml">，</em><a class="ae nk" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jx io"><em class="ml">YouTube</em></strong></a><em class="ml">，以及</em> <a class="ae nk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ml">不和</em> </strong> </a> <strong class="jx io"> <em class="ml">。</em>T53】</strong></p><p id="6da3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><strong class="jx io"> <em class="ml">对缩放您的软件启动感兴趣</em> </strong> <em class="ml">？检查出</em> <a class="ae nk" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="ml">电路</em> </strong> </a> <em class="ml">。</em></p></div></div>    
</body>
</html>