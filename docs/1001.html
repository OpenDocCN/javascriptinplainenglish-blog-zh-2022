<html>
<head>
<title>Fast and Furious Images — Web Performance Tuning Tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">速度与激情的图像— Web性能调整技巧</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/fast-and-furious-images-web-performance-tuning-tips-89a629cdc6a0?source=collection_archive---------9-----------------------#2022-02-25">https://javascript.plainenglish.io/fast-and-furious-images-web-performance-tuning-tips-89a629cdc6a0?source=collection_archive---------9-----------------------#2022-02-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8da7" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">优化图像加载的一些技巧。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/ae99cb302d0545e646a6342eb26a8a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9Pd7ZRDqRQ6gnCoVheQ5Q.jpeg"/></div></div></figure><p id="3273" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">一个包含一些图片加载优化技巧的列表。对于现在的你和我，在未来的某个地方，当我忘记它的时候。</p><p id="0882" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">先是一些<a class="ae lk" href="https://youtu.be/3shMD13Y2uU?t=14" rel="noopener ugc nofollow" target="_blank">主题调音音乐</a>🤟。</p><p id="d154" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们开始吧🚀。</p><h1 id="a806" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">装货</h1><p id="3a18" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">加速图像加载的最简单方法是给图像添加一个<a class="ae lk" href="https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading" rel="noopener ugc nofollow" target="_blank">加载属性</a>:</p><ul class=""><li id="7b34" class="mi mj in kq b kr ks ku kv kx mk lb ml lf mm lj mn mo mp mq bi translated">不必立即加载的图像(不在视图、页脚等中)。)应该有<code class="fe mr ms mt mu b">loading="lazy"</code></li><li id="5aa1" class="mi mj in kq b kr mv ku mw kx mx lb my lf mz lj mn mo mp mq bi translated">那些需要提前加载的(在视图或LCP图像中)应该有<code class="fe mr ms mt mu b">loading="eager"</code></li></ul><p id="d730" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果一个图像被标记为一个<a class="ae lk" href="https://sortable.com/blog/ad-ops/what-is-largest-contentful-paint-lcp/" rel="noopener ugc nofollow" target="_blank"> LCP </a>元素，它不应该被惰性加载。</p><p id="3711" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当一个图像被延迟加载时，确保为该图像准备好空间，这样就不会导致不必要的<a class="ae lk" href="https://web.dev/optimize-cls/" rel="noopener ugc nofollow" target="_blank">布局偏移</a>。你可以设置宽度和高度属性或者使用<a class="ae lk" href="https://css-tricks.com/preventing-content-reflow-from-lazy-loaded-images/" rel="noopener ugc nofollow" target="_blank">填充顶部</a>技巧。</p><h1 id="457c" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">重要</h1><p id="3b19" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated"><a class="ae lk" href="https://developers.google.com/web/updates/2019/02/priority-hints" rel="noopener ugc nofollow" target="_blank">重要性属性</a>简单来说就是说<a class="ae lk" href="https://twitter.com/addyosmani/status/1087614725809160192?lang=cs" rel="noopener ugc nofollow" target="_blank">下载过程应该在什么时候开始</a>。这尤其可以改善LCP图像的加载。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi na"><img src="../Images/0c4f5ab9ce127f81d37fadf616d72ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/0*GKI13lBXHygSEIdw.png"/></div></div></figure><h1 id="e27d" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">解码</h1><p id="1000" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">当一个图像有一个<a class="ae lk" href="https://twitter.com/addyosmani/status/938078402430382080" rel="noopener ugc nofollow" target="_blank"> decoding="async" </a>属性时，当找到这样的图像时，渲染过程不会暂停，而是继续进行，并且图像被异步解码。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/13806d35ada55c82e5717667d1658c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/0*rs2l2o5vAKzVBqnA.png"/></div></figure><h1 id="e2a6" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">格式</h1><p id="9715" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">可能的话，使用<a class="ae lk" href="https://avif.io/blog/comparisons/avif-vs-webp/" rel="noopener ugc nofollow" target="_blank"> AVIF </a>。不然至少webp。T21的压缩率远远高于普通的JPG。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/64a965b3a5f380ff8b95b3552a340059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SLYSdESfAfRKK9Y1.png"/></div></div></figure><h1 id="fd75" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">大小</h1><p id="f085" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">加载大图片时，尽量从手机加载到桌面不同大小。尺寸应该在宽度或高度上相差200像素左右。你可以用<a class="ae lk" href="https://developers.google.com/web/fundamentals/design-and-ux/responsive/images#art_direction_in_responsive_images_with_picture" rel="noopener ugc nofollow" target="_blank">像素</a>来代替它。</p><h1 id="9c26" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">预加载</h1><p id="48dc" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">最好的做法是<a class="ae lk" href="https://twitter.com/addyosmani/status/1283295232633659392" rel="noopener ugc nofollow" target="_blank">预加载应该尽快加载的</a>图像。<br/>但是不要对页面上的每一张图片都使用它。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/dbe4ef2f21730de065023cfc93a15888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/0*Jj3j7n6OpsxEesrV.png"/></div></figure><h1 id="897b" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">背景</h1><p id="046a" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">当你加载一些需要尽快加载的大背景图片时<a class="ae lk" href="https://twitter.com/csswizardry/status/1276854595382325248" rel="noopener ugc nofollow" target="_blank">添加一个隐藏的图片元素</a>和背景的路径。它提高了优先级，图像加载速度更快。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/1b7aa0a0524259cfe8899917ba862627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/0*tWtv_N03KPTYUyX5.png"/></div></figure><p id="195c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">不需要立即加载的背景应该是lazyloaded。您可以使用<a class="ae lk" href="https://blog.logrocket.com/lazy-loading-using-the-intersection-observer-api/" rel="noopener ugc nofollow" target="_blank">交集观察器</a>来判断带有背景的元素是否可见，然后添加一个类似<code class="fe mr ms mt mu b">s-visible</code>的状态类。然后在CSS中添加以下内容:</p><pre class="kd ke kf kg gt nf mu ng nh aw ni bi"><span id="fef5" class="nj lm in mu b gy nk nl l nm nn">.image-background.s-loaded {<br/>  /* <br/>    Image will be loaded only <br/>    if the element has the s-loaded class <br/>  */<br/>}</span></pre><h1 id="d0c1" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">核标准情报中心</h1><p id="ecce" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">如果你有多个小图片(像图片一样的图标)在整个网站上使用，你可以使用像<a class="ae lk" href="https://icomoon.io/" rel="noopener ugc nofollow" target="_blank"> Icomoon App </a>这样的应用将它们捆绑在一起。这将减少请求数量和总大小。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi no"><img src="../Images/617ad7031798836b7f99e9202da83dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/0*w_viX0SXD9-vooPz.png"/></div></figure><h1 id="6275" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">挽救（saving的简写）</h1><p id="8228" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">如果标题中的第一张图片是你的logo，并且是SVG图片，直接把它添加到页面上。这样就不会减慢装载速度。<br/>然而，也有这种方式:</p><ol class=""><li id="c3b6" class="mi mj in kq b kr ks ku kv kx mk lb ml lf mm lj np mo mp mq bi translated">在第一次请求时直接加载它</li><li id="bca3" class="mi mj in kq b kr mv ku mw kx mx lb my lf mz lj np mo mp mq bi translated">当页面被加载时，通过javascript将该图像的链接元素添加到页面中，因此它在后台加载并被缓存</li><li id="0a7c" class="mi mj in kq b kr mv ku mw kx mx lb my lf mz lj np mo mp mq bi translated">在另一个请求中，通过img元素加载它。</li></ol><h1 id="9e84" class="ll lm in bd ln lo lp lq lr ls lt lu lv jt lw ju lx jw ly jx lz jz ma ka mb mc bi translated">分享你的小技巧！</h1><p id="cac3" class="pw-post-body-paragraph ko kp in kq b kr md jo kt ku me jr kw kx mf kz la lb mg ld le lf mh lh li lj ig bi translated">如果你有任何关于图片加载优化的建议，请在评论中分享。我很乐意了解它们，它肯定会帮助那些寻找如何提高他们的web性能的信息的其他web开发人员🙂。</p></div><div class="ab cl nq nr hr ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ig ih ii ij ik"><p id="5cfc" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">保持联系:<br/>👉<a class="ae lk" href="https://twitter.com/8machy" rel="noopener ugc nofollow" target="_blank"> @8machy </a> <br/>👉<a class="ae lk" href="https://stylify.dev/" rel="noopener ugc nofollow" target="_blank">stylify . dev</a>T19】👉<a class="ae lk" href="https://dev.to/machy8" rel="noopener ugc nofollow" target="_blank">dev.to/machy8</a>T22】👉<a class="ae lk" href="https://medium.com/@8machy" rel="noopener">medium.com/@8machy</a></p><p id="e027" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nx">更多内容请看</em><a class="ae lk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nx">plain English . io</em></strong></a><em class="nx">。报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nx">免费周报</em> </strong> </a> <em class="nx">。关注我们关于</em><a class="ae lk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nx">Twitter</em></strong></a><em class="nx">和</em><a class="ae lk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nx">LinkedIn</em></strong></a><em class="nx">。加入我们的</em> <a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nx">社区不和谐</em> </strong> </a> <em class="nx">。</em></p></div></div>    
</body>
</html>