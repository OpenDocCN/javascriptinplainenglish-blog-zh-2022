<html>
<head>
<title>How to Set Up ESLint and Prettier in React or Next.js Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React或Next.js项目中设置ESLint和beautiful</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-set-up-eslint-and-prettier-in-react-or-next-js-246eb33a1405?source=collection_archive---------0-----------------------#2022-04-16">https://javascript.plainenglish.io/how-to-set-up-eslint-and-prettier-in-react-or-next-js-246eb33a1405?source=collection_archive---------0-----------------------#2022-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b803" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用VS代码自动格式化代码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9e10ec623a3aa1571b7d64ca3b19f1b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gZgqR-J-zC_MkrWe"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@alwihafizh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">alwi hafizh Almumtaz</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="94b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ESLint让我们可以轻松地捕捉React或Next.js项目中的错误和不良实践。</p><p id="2aec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更漂亮的让我们通过遵循一些定义好的规则来自动格式化我们的代码。</p><p id="a7a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将了解如何在React或Next.js项目中设置ESLint和appearliet，并在VS代码中使用appearliet在保存时自动格式化代码。</p><h1 id="7537" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">入门指南</h1><p id="d645" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，我们必须在React或Next.js项目中安装几个包。</p><p id="6ccf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要安装所有这些组件，我们运行:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="31cb" class="mu lt iq mq b gy mv mw l mx my">npm i -D babel-eslint eslint eslint-config-airbnb eslint-config-prettier eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-prettier eslint-plugin-react eslint-plugin-react-hooks prettier</span></pre><p id="84dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">-D</code>标志将把包作为开发依赖项安装。</p><p id="8f85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在VS代码中，我们安装ESLint和更漂亮的扩展。</p><p id="a160" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最简单的方法是按Ctrl+Shift+P，然后在命令搜索框中搜索“安装扩展”。</p><p id="c514" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在左侧的扩展窗格中输入扩展的名称。</p><p id="dc8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以配置ESLint和Prettier来搜索问题和格式化我们的代码。</p><h1 id="0b77" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">配置ESLint</h1><p id="f206" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">要配置ESLint，我们可以在项目文件夹的根目录下添加一个<code class="fe mz na nb mq b">.eslintrc.json</code>文件，并添加:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="ae88" class="mu lt iq mq b gy mv mw l mx my">{<br/>  "root": true,<br/>  "parser": "babel-eslint",<br/>  "extends": [<br/>    "eslint:recommended",<br/>    "plugin:react/recommended",<br/>    "plugin:import/errors",<br/>    "plugin:import/warnings",<br/>    "plugin:react-hooks/recommended",<br/>    "airbnb-base",<br/>    "airbnb-base/rules/strict",<br/>    "airbnb/rules/react",<br/>    "plugin:prettier/recommended"<br/>  ],<br/>  "env": {<br/>    "browser": true,<br/>    "commonjs": true,<br/>    "es6": true,<br/>    "node": true<br/>  },<br/>  "parserOptions": {<br/>    "ecmaVersion": 2021,<br/>    "sourceType": "module",<br/>    "ecmaFeatures": {<br/>      "jsx": true<br/>    }<br/>  },<br/>  "settings": {<br/>    "react": {<br/>      "version": "detect"<br/>    }<br/>  },<br/>  "plugins": [],<br/>  "rules": {<br/>    "react/react-in-jsx-scope": "off",<br/>    "react/jsx-props-no-spreading": "off",<br/>    "react/jsx-filename-extension": [<br/>      1,<br/>      {<br/>        "extensions": [<br/>          ".js",<br/>          ".jsx"<br/>        ]<br/>      }<br/>    ],<br/>    "prettier/prettier": [<br/>      "error",<br/>      {},<br/>      {<br/>        "usePrettierrc": true<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><p id="3b65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们扩展了希望ESLint在<code class="fe mz na nb mq b">extends</code>部分检查的规则集。</p><p id="b16f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe mz na nb mq b">rules</code>部分，我们配置或关闭一些规则。</p><p id="831f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">'off'</code>把它们关掉。</p><p id="606a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其余的规则设置为默认值。</p><p id="713d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">ecmaVersion</code>设置为2021，检查截至2021年的最新JavaScript语法。</p><h1 id="2f03" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">配置更漂亮</h1><p id="381f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了配置得更漂亮，我们在项目文件夹根目录下创建一个<code class="fe mz na nb mq b">.prettierc</code>文件，并添加:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="d906" class="mu lt iq mq b gy mv mw l mx my">{<br/>  "semi": true,<br/>  "tabWidth": 2,<br/>  "printWidth": 100,<br/>  "trailingComma": "all",<br/>  "jsxBracketSameLine": true<br/>}</span></pre><p id="2d8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们添加了一些规则，使代码按照我们想要的方式格式化。</p><p id="831c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">printWidth</code>设置最大线宽。</p><p id="e801" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让beauty在允许的地方添加尾随逗号。</p><p id="8fad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在应该有分号的地方添加分号，比如行尾。</p><p id="8488" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">tabWidth</code>根据空格设置标签的宽度。2表示制表符有两个空格。</p><p id="1547" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">jsxBracketSameLine</code>将多行JSX元素的右括号放在最后一行的末尾，而不是下一行。</p><p id="5fd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我们需要确保更漂亮地格式化我们编写的代码文件，而不是包或自动生成的文件。</p><p id="e78d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们向项目文件夹根目录添加一个<code class="fe mz na nb mq b">.prettierignore</code>文件，并编写:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="a467" class="mu lt iq mq b gy mv mw l mx my">.next<br/>node_modules<br/>.vscode<br/>package.json<br/>package-lock.json<br/>dist</span></pre><p id="0b13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">.next</code>是包含已构建文件的Next.js特定文件夹。</p><p id="d714" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">dist</code>已建文件。</p><p id="6cf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mz na nb mq b">.vscode</code>有VS工作区的代码设置。</p><h1 id="efb0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">配置VS代码在保存时格式化文件，并自动修复ESLint问题</h1><p id="a3a7" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了用更漂亮的格式格式化代码，并修复可以自动修复的ESLint问题，我们将以下内容添加到<code class="fe mz na nb mq b">.vscode/settings.json</code>:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="1f2f" class="mu lt iq mq b gy mv mw l mx my">{<br/>  "editor.codeActionsOnSave": {<br/>    "source.fixAll.eslint": true<br/>  },<br/>  "editor.formatOnSave": true,<br/>  "eslint.alwaysShowStatus": true<br/>}</span></pre><p id="d36f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过按Ctrl+Shift+P将默认格式化程序设置为更漂亮，然后搜索“格式文档”,按Enter，然后选择“配置默认格式化程序”,然后我们可以选择更漂亮。</p><h1 id="9f41" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="6d7d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以修复React和Next.js项目中的许多代码问题，用ESLint让我们的代码更整洁、更漂亮。</p><p id="c0da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nc">更多内容尽在</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nc">说白了. io </em> </strong> </a> <em class="nc">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。关注我们关于</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nc">推特</em> </strong> </a> <em class="nc">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nc">LinkedIn</em></strong></a><em class="nc">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nc">社区不和谐</em> </strong> </a> <em class="nc">。</em></p></div></div>    
</body>
</html>