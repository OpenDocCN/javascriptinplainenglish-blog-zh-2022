<html>
<head>
<title>CSS Nesting is Coming to Chrome!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS嵌套要来Chrome了！</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/css-nesting-is-coming-to-chrome-f4b46184c592?source=collection_archive---------2-----------------------#2022-12-18">https://javascript.plainenglish.io/css-nesting-is-coming-to-chrome-f4b46184c592?source=collection_archive---------2-----------------------#2022-12-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7a54" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">完美的圣诞节？一项期待已久的功能即将上线。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/11ab0f05ab8ebb7b71bb2de65fa41b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IvByw5kKU5_GRMhw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/fr/@harold?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Harold Wijnholds</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="055a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为前端开发人员，我们已经等待CSS嵌套很久了。当然，预处理器在很久以前就使之成为可能。但是，唉，感觉不对。</p><p id="e041" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我开始开发网站时，你只需要一个编辑器和一个HTML文件。如今，你必须为你的发展建立一个完整的环境。例如，在一个简单的React应用程序中，您可能会使用ESLint、appelliter、TypeScript、React、PostCSS、CSS模块、Rollup或Webpack之类的捆绑包以及您喜欢的其他web助手来配置VSCode。给PostCSS添加额外的插件或者其他工具来预处理你的CSS可能不会再让你有任何感觉了——这让我很恼火。</p><p id="3862" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，现在时代已经变了，我们已经习惯了设置所有的构建过程。但是，只要能去掉一个构建步骤，我就喜欢，我期待未来能有原生的现代CSS和JavaScript。</p><h2 id="b2b2" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">筑巢不再是一件大事了</h2><p id="4288" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">正如我在文章标题中所说的:嵌套是一个期待已久的特性。现在，在某些情况下，它可能会变成一种反模式。</p><p id="5e9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着我们以基于组件的方式开发，我们的风格也变成了模块。在我写的很多应用中，我都有一个CSS文件属于一个模板(某个部分HTML)，这个CSS文件就是一个模块。这意味着在构建过程中，我的类获得了一个惟一的名称，因此它们不会与该模块外部声明的任何类名冲突。现在很明显，在这种情况下，嵌套可能不是一个好主意。组织大型模块可能会有所帮助，但话说回来，就架构而言，创建子模块可能是更好的解决方案，但这取决于您正在工作的团队或您的个人偏好。CSS文件变得比以前更扁平了。</p><p id="a544" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">事实上，并不是所有的应用程序都是以这种方式开发的。我知道打开一个随机WordPress主题的CSS文件的感觉。因此，嵌套仍然是CSS的一个很好的补充。前端开发人员应该意识到，仅仅因为这个特性很棒就过度使用它可能不是一个好主意。</p><p id="a79f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于那些不熟悉WordPress CSS样式的人来说，最流行的主题之一(赫斯缇雅)有超过6000行的未混合CSS(https://WP-themes . com/WP-content/themes/hestia/style . min . CSS？ver=3.0.24)。我的一些客户有超过20，000行CSS的单个文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/e02ce5f0cd6172d5192399559bc46ae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jvV6yYfVenPVkCle.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Me when I open a random WordPress theme CSS file.</figcaption></figure><p id="93a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，嵌套是游戏规则的改变者还是仅仅是一个旁注取决于你当前正在编写的应用程序。</p><h2 id="5e33" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">浏览器什么时候可以使用嵌套？</h2><p id="e80e" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">简而言之:短期内不会。它将从v109开始在Chrome中提供，并于2023年1月10日登陆Chrome stable。据我所知，Safari和Firefox并没有就实现这一功能的日期进行沟通。</p><p id="4b75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想玩这个功能，你可以得到谷歌Chrome的v109+,激活“实验网络平台功能标志”Chrome://flags/# enable-Experimental-we b-Platform-Features</p><p id="dbb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了您的方便，这里是犬舍的网站:【https://caniuse.com/css-nesting<a class="ae kv" href="https://caniuse.com/css-nesting" rel="noopener ugc nofollow" target="_blank"/></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/4fe3838ef56db882219bd9eb0bd4b09f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BAaxaQ02yOMWSu1KhoIySA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">At the time of writing (12/2022), browser support for CSS nesting looks bleak.</figcaption></figure><h2 id="0ed4" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">原生CSS嵌套会是什么样子？</h2><p id="42ba" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">如果您已经在SCSS或PostCSS中使用了嵌套，那么您不需要学习任何新东西。最简单的形式是，CSS中的嵌套如下所示:</p><pre class="kg kh ki kj gt ms mt mu bn mv mw bi"><span id="e7d9" class="mx lt iq mt b be my mz l na nb">&lt;style&gt;<br/>.foo {<br/>  color: blue;<br/>  &amp; &gt; .bar { color: red; }<br/>}<br/>&lt;/style&gt;<br/><br/>&lt;div class="foo"&gt;<br/>  foo<br/>  &lt;div class="bar"&gt;<br/>    bar<br/>  &lt;/div&gt;<br/>&lt;/div&gt;<br/>baz</span></pre><p id="a3ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了方便起见，这里有一把小提琴:【https://jsfiddle.net/72ptgq4j/】T4</p><p id="2230" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果CSS嵌套在您的浏览器中可用，它应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/dc2bd1d75abbc8e05aa9023080ab2aed.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*Fd__4L-pQoV_8vgksRW6bA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">HTML Result with CSS Nesting</figcaption></figure><h2 id="26ac" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">新的@nest规则</h2><p id="008f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">根据CSS规范，<code class="fe nd ne nf mt b">@nest</code>规则应该用于更复杂的情况。例如，当嵌套类不是第一个简单选择器时:</p><pre class="kg kh ki kj gt ms mt mu bn mv mw bi"><span id="e0f2" class="mx lt iq mt b be my mz l na nb">.foo {<br/>  color: red;<br/>  @nest .parent &amp; {<br/>    color: blue;<br/>  }<br/>}</span></pre><p id="0e16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目前，Chrome实现似乎缺乏对<code class="fe nd ne nf mt b">@nest</code>规则的支持。新At-Rule的WPT测试也缺少测试用例(参见:<a class="ae kv" href="https://wpt.fyi/results/css/css-nesting?label=experimental&amp;label=master&amp;aligned" rel="noopener ugc nofollow" target="_blank">https://wpt.fyi/results/css/css-nesting?label=experimental&amp;标签=主&amp;对齐</a>)。</p><p id="3582" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">至少对我来说，这在Chrome里行不通。你可以在这里找到这个例子的官方规格:<a class="ae kv" href="https://www.w3.org/TR/css-nesting-1/#at-nest" rel="noopener ugc nofollow" target="_blank">https://www.w3.org/TR/css-nesting-1/#at-nest</a></p><p id="9c6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果对你有用，请随时在评论中更新我们的信息。</p><p id="6425" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这些了，伙计们！感谢您的阅读。</p><p id="7d92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ng">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ng">plain English . io</em></strong></a><em class="ng">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ng">免费周报</em> </strong> </a> <em class="ng">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ng">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ng">LinkedIn</em></strong></a><em class="ng"/><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ng">YouTube</em></strong></a><em class="ng"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ng">不和</em> </strong> </a> <strong class="ky ir"> <em class="ng">。</em>T49】</strong></p><p id="81d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ng">对缩放您的软件启动感兴趣</em> </strong> <em class="ng">？检查</em> <a class="ae kv" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ng">电路</em> </strong> </a> <em class="ng">。</em></p></div></div>    
</body>
</html>