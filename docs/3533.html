<html>
<head>
<title>Create a Simple React Custom Hook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactè‡ªå®šä¹‰æŒ‚é’©</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/create-a-simple-react-custom-hook-fc733d7b977a?source=collection_archive---------13-----------------------#2022-09-05">https://javascript.plainenglish.io/create-a-simple-react-custom-hook-fc733d7b977a?source=collection_archive---------13-----------------------#2022-09-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="a33e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">å…³äºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactè‡ªå®šä¹‰é’©å­çš„æ•™ç¨‹</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/6fb040af088fd64e49aa398ca5ba780c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MX5FNwNh_E86u7gwEg4SSQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">å­¦è€Œæ—¶ä¹ ä¹‹ï¼Œä¸äº¦è¯´ä¹ â€” learn from time to time</figcaption></figure><p id="e5ce" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">åœ¨ç¼–å†™ReactåŠŸèƒ½ç»„ä»¶æ—¶ï¼Œå¦‚æœæƒ³é‡ç”¨ç»„ä»¶çš„éƒ¨åˆ†é€»è¾‘ï¼Œå¯ä»¥è€ƒè™‘ç¼–å†™<strong class="ku io"> <em class="lo">è‡ªå®šä¹‰é’©å­</em> </strong>ã€‚</p><p id="2032" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹Reacté’©å­ã€‚é’©å­åªæ˜¯JavaScriptå‡½æ•°ï¼Œä½†æ˜¯åœ¨Reactä¸­ä½¿ç”¨å®ƒä»¬æ—¶ï¼Œæ‚¨éœ€è¦éµå¾ª<a class="ae lp" href="https://reactjs.org/docs/hooks-rules.html" rel="noopener ugc nofollow" target="_blank">è§„åˆ™</a>:</p><ul class=""><li id="7986" class="lq lr in ku b kv kw ky kz lb ls lf lt lj lu ln lv lw lx ly bi translated">åªè°ƒç”¨é¡¶å±‚çš„é’©å­</li><li id="a4c4" class="lq lr in ku b kv lz ky ma lb mb lf mc lj md ln lv lw lx ly bi translated">ä»…ä»Reactå‡½æ•°è°ƒç”¨æŒ‚é’©</li></ul><p id="540b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ğŸ‘‰ç¬¬ä¸€ç‚¹å’ŒReact Hookçš„å®ç°åŸç†æœ‰å…³ã€‚ç¬¬ä¸€æ¬¡æ‰§è¡Œå‡½æ•°ç»„ä»¶æ—¶ï¼Œreactåˆ†é…ä¸€ä¸ªå¯¹è±¡ï¼Œé€ä¸ªè°ƒç”¨é’©å­æ—¶ï¼Œå°†å¾—åˆ°çš„ç»“æœä¾æ¬¡æ”¾å…¥ä¸€ä¸ªæœ‰åºè¡¨ä¸­ï¼Œç„¶åå­˜å‚¨åœ¨å¯¹è±¡ä¸­ã€‚</p><p id="d3cb" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">å¯¹äºåç»­çš„æ‰§è¡Œï¼Œè¿™äº›é’©å­çš„æ‰§è¡Œé¡ºåºå¿…é¡»æ˜¯ç›¸åŒçš„ï¼Œä»¥ä¾¿æ¯”è¾ƒä¾èµ–å…³ç³»ï¼Œå¹¶ä¸å…ˆå‰æ¸²æŸ“çš„çŠ¶æ€è¿›è¡Œæ¯”è¾ƒã€‚</p><p id="4d87" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">å¦‚æœé’©å­å‡ºç°åœ¨å¾ªç¯ã€æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­â€¦ä¸èƒ½ä¿è¯é’©å­çš„æ‰§è¡Œé¡ºåºä¿æŒä¸å˜ã€‚</p><p id="32ce" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ğŸ‘‰ç¬¬äºŒç‚¹æ„å‘³ç€ä½ åº”è¯¥æ€»æ˜¯ä»<strong class="ku io"> Reactå‡½æ•°ç»„ä»¶</strong>è€Œä¸æ˜¯<strong class="ku io">ç±»ç»„ä»¶</strong>æˆ–è€…<strong class="ku io">å¸¸è§„JavaScriptå‡½æ•°</strong>ä¸­è°ƒç”¨é’©å­ï¼Œä½†æ˜¯å¦‚æœæ˜¯<strong class="ku io">è‡ªå®šä¹‰é’©å­</strong>ï¼Œ<em class="lo">ä»å…¶ä¸­è°ƒç”¨é’©å­ä¹Ÿæ˜¯åˆæ³•çš„</em>ã€‚</p><p id="67c4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="lo">è‡ªå®šä¹‰é’©å­æ˜¯ä¸€ä¸ªJavaScriptå‡½æ•°ï¼Œå…·æœ‰å”¯ä¸€çš„å‘½åçº¦å®šï¼Œè¦æ±‚å‡½æ•°åä»¥</em> <code class="fe me mf mg mh b"><em class="lo">use</em></code> <em class="lo">å¼€å¤´ï¼Œå¹¶ä¸”èƒ½å¤Ÿè°ƒç”¨å…¶ä»–é’©å­ã€‚</em></p><p id="033b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">è¿™å¬èµ·æ¥å¾ˆéº»çƒ¦ï¼Œæˆ‘ä¼šç”¨ä¸€ä¸ªç®€å•çš„Reactä¾‹å­æ¥è§£é‡Šæ¸…æ¥šã€‚åœ¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨ç»„ä»¶ä¸­è·å–å¹¶æ˜¾ç¤ºimage/gifã€‚ğŸˆ</p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="22e4" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºçš„æœ€ç»ˆç»“æœï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç»„ä»¶ï¼Œé¡¶éƒ¨çš„ç»„ä»¶åä¸º<strong class="ku io"> RandomGif </strong>å’Œ<strong class="ku io"> </strong>ï¼Œåº•éƒ¨çš„ç»„ä»¶åä¸º<strong class="ku io"> SearchImgã€‚* </strong> <em class="lo">æ—¢ç„¶æœ¬æ–‡çš„ç›®çš„æ˜¯ä»‹ç»è‡ªå®šä¹‰é’©å­ï¼Œå°±ä¸åšå¤ªå¤šé€ å‹äº†ã€‚</em></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mp"><img src="../Images/e6bd7424d61b9468bb28f11aa11b9a95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYO0H2hVGjtqRdlU9Z5kfA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">end result</figcaption></figure><p id="7cc0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">è¿™ä¸¤ä¸ªç»„ä»¶éƒ½åœ¨App.jsä¸­:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mq"><img src="../Images/0bbd6c719755d626e1904451330587d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvte_vKw5tnUYqXrs43rZg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">RandomGif and SearchImg components</figcaption></figure><p id="4e48" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ç»„ä»¶åç§°è¯´æ˜äº†ä¸€åˆ‡ï¼Œ<strong class="ku io"> RandomGif </strong>æ˜¾ç¤ºéšæœºGifï¼Œ<strong class="ku io"> SearchImg </strong>è®©ç”¨æˆ·å¯ä»¥ä½¿ç”¨è¾“å…¥å­—æ®µå€¼æœç´¢å›¾åƒã€‚<strong class="ku io"> </strong>æˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ä¸ªAPIç«¯ç‚¹(<a class="ae lp" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io">gi phy</strong></a><strong class="ku io"/>å’Œ<strong class="ku io"/><a class="ae lp" href="https://pixabay.com/de/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io">pix abay</strong></a>)ï¼Œè®¿é—®å¯†é’¥å°†åœ¨æˆ‘ä»¬æ³¨å†Œæ—¶è‡ªåŠ¨ç”Ÿæˆã€‚</p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="e82f" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ç°åœ¨ï¼Œä»<strong class="ku io"> RandomGif </strong>ç»„ä»¶å¼€å§‹ï¼Œ<em class="lo">*ä¸‹é¢çš„API_KEYå­˜å‚¨åœ¨ã€‚ç¯å¢ƒæ–‡ä»¶ã€‚</em></p><pre class="kd ke kf kg gt mr mh ms mt aw mu bi"><span id="0b6f" class="mv mw in mh b gy mx my l mz na">import { useState, useEffect } from "react";<br/><br/>const RandomGif = () =&gt; {<br/>   const [gif, setGif] = useState(null);</span><span id="50d0" class="mv mw in mh b gy nb my l mz na">ğŸ‘‰ const <strong class="mh io">fetchGif</strong> = () =&gt;<br/>    fetch(<br/>      `https://api.giphy.com/v1/gifs/random?  api_key=${RANDOM_API_KEY}&amp;tag=&amp;rating=g`<br/>    )<br/>      .then((res) =&gt; res.json())<br/>      .then((data) =&gt; setGif(data))<br/>      .catch((e) =&gt; console.error(e));<br/><br/>  useEffect(() =&gt; {<br/>      fetchGif();<br/>    }, []);<br/><br/>  const <strong class="mh io">getRandomGif</strong> = () =&gt; fetchGif();<br/><br/>return (<br/>    &lt;&gt;<br/>      &lt;button onClick={<strong class="mh io">getRandomGif</strong>}&gt;Get random Gifs&lt;/button&gt;<br/>      {gif ? (<br/>        &lt;img src={gif?.data?.images?.preview_gif?.url} alt={`${gif?.data?.username}`} /&gt;<br/>      ) : (<br/>        "Oops, no GIF found"<br/>      )}<br/>    &lt;/&gt;<br/>  );<br/>};<br/>export default RandomGif;</span></pre><p id="c21e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">æœç´¢</strong>ç»„ä»¶:</p><pre class="kd ke kf kg gt mr mh ms mt aw mu bi"><span id="6417" class="mv mw in mh b gy mx my l mz na">import { useState, useEffect } from "react";</span><span id="d559" class="mv mw in mh b gy nb my l mz na">const SearchImg = () =&gt; {<br/>    const [searchText, setSearchText] = useState("dog");<br/>    const [img, setImg] = useState(null);<br/>    <br/>  ğŸ‘‰ const <strong class="mh io">fetchImg</strong> = () =&gt;<br/>       fetch(<br/>`https://pixabay.com/api/key=${SEARCH_API_KEY}&amp;q=${searchText}&amp;image_type=photo`<br/>    )<br/>      .then((res) =&gt; res.json())<br/>      .then((data) =&gt; setImg(data))<br/>      .catch((e) =&gt; console.error(e));<br/><br/>useEffect(() =&gt; {<br/>    fetchImg();<br/>  }, []);<br/><br/>const <strong class="mh io">getQueryImage</strong>= () =&gt; <strong class="mh io">fetchImg</strong>();<br/><br/> const hit = gif?.hits[Math.floor(Math.random() * gif?.hits?.length)];<br/><br/>  return (<br/>    &lt;&gt;<br/>      &lt;input<br/>        type="text"<br/>        value={searchText}<br/>        onChange={(e) =&gt; setSearchText(e.target.value)}<br/>      /&gt;<br/>      &lt;button onClick={<strong class="mh io">getQueryImage</strong>}&gt;Search&lt;/button&gt;<br/>      &lt;p&gt;{search text}&lt;/p&gt;<br/>      {match?.previewURL ? (<br/>        &lt;img src={hit?.previewURL} alt={`${hit?.id}`} /&gt;<br/>      ) : (<br/>        "Oops, no image found"<br/>      )}<br/>    &lt;/&gt;<br/>  );<br/>};<br/>export default SearchImg;</span></pre><p id="73c6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œ<strong class="ku io"> RandomGif </strong>å’Œ<strong class="ku io"> SearchImg </strong>ä¹‹é—´çš„é€»è¾‘åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯æˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ªä¸åŒçš„ç«¯ç‚¹ï¼Œå¹¶ä¸”åœ¨<strong class="ku io"> SearchImg </strong>ç»„ä»¶ä¸­æœ‰ä¸€ä¸ª<strong class="ku io">è¾“å…¥</strong>å­—æ®µå’Œä¸€ä¸ª<strong class="ku io"> onChange </strong>äº‹ä»¶å¤„ç†ç¨‹åºï¼Œè¯¥äº‹ä»¶å¤„ç†ç¨‹åºé’ˆå¯¹è¾“å…¥å€¼å¹¶ä¸ºç”¨æˆ·æä¾›äº†é€šè¿‡å€¼æŸ¥è¯¢æ¥æœç´¢å›¾åƒçš„èƒ½åŠ›ï¼Œæ›´å®¹æ˜“è§£é‡Šçš„æ˜¯ï¼Œå†…æœ‰ä¸åŒçš„<strong class="ku io">å‚æ•°</strong></p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="6d79" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">åˆ›å»ºè¿™æ ·çš„ç»„ä»¶å¾ˆç®€å•ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰æ›´å¤šçš„ç»„ä»¶ï¼Œå…¶ä¸­æˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„å‚æ•°è¿›è¡Œç›¸åŒçš„APIè°ƒç”¨ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å¤åˆ¶ç›¸åŒçš„ä»£ç å¹¶å°†å…¶ç²˜è´´åˆ°æ¯ä¸ªç»„ä»¶ä¸­ï¼Œå¯¹å—ï¼Ÿ</p><p id="166c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯<em class="lo">å®šåˆ¶</em>ä¸€ä¸ªé’©å­æ¥å°è£…å’Œå…±äº«ç»„ä»¶ä¹‹é—´ç›¸åŒçš„é€»è¾‘ï¼Œå¦‚<a class="ae lp" href="https://reactjs.org/docs/hooks-custom.html" rel="noopener ugc nofollow" target="_blank"> Reacté’©å­ä»‹ç»</a>æ‰€ç¤º:</p><p id="e7e2" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io"> <em class="lo">è‡ªå®šä¹‰é’©å­æ˜¯ä¸€ä¸ªJavaScriptå‡½æ•°ï¼Œåå­—ä»¥â€œuseâ€å¼€å¤´ï¼Œå¯èƒ½ä¼šè°ƒç”¨å…¶ä»–é’©å­ã€‚</em> </strong> <em class="lo">(ä¾‹å¦‚:</em> <code class="fe me mf mg mh b"><em class="lo">useFetch</em></code> <em class="lo"> ) </em></p><p id="8301" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">è®©æˆ‘ä»¬ä¸ºä¸Šé¢çš„ä¾‹å­åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é’©å­ï¼Œæˆ‘å°†å®ƒå‘½åä¸º<strong class="ku io"> useFetchğŸ‘</strong></p><pre class="kd ke kf kg gt mr mh ms mt aw mu bi"><span id="11b1" class="mv mw in mh b gy mx my l mz na">// <strong class="mh io">useFetch</strong> custom Hook<br/>import { useState } from "react";<br/><br/>const useFetch = (url) =&gt; {<br/>  const [img, setImg] = useState(null);<br/>  const <strong class="mh io">fetchImg</strong> = () =&gt;<br/>    fetch (url)<br/>      .then((res) =&gt; res.json())<br/>      .then((data) =&gt; setImg(data))<br/>      .catch((e) =&gt; console.error(e));<br/>  return <strong class="mh io">[{ img }, fetchImg]</strong>;<br/>};<br/>export default useFetch;</span></pre><p id="a710" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code class="fe me mf mg mh b">useFetch.js</code>çš„æ–°æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå‡½æ•°<code class="fe me mf mg mh b">useFetch</code>ï¼Œè¯¥å‡½æ•°åŒ…å«äº†è·å–æ•°æ®æ‰€éœ€çš„æ‰€æœ‰é€»è¾‘ã€‚é€»è¾‘æ˜¯ä»ç»„ä»¶(<strong class="ku io"> fetchGif / fetchImg </strong>)ä¸­å¤åˆ¶çš„ï¼Œæˆ‘ä»¬åªæ˜¯ç§»é™¤äº†ç¡¬ç¼–ç çš„URLï¼Œå¹¶ç”¨ä¸€ä¸ªå¯ä»¥ä¼ é€’ç»™è‡ªå®šä¹‰é’©å­çš„<code class="fe me mf mg mh b">url</code>å˜é‡æ¥æ›¿æ¢å®ƒä»¬ã€‚</p><p id="22a7" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">è‡ªå®šä¹‰é’©å­ä¸éœ€è¦æœ‰ç‰¹å®šçš„ç­¾åï¼Œæˆ‘ä»¬å¯ä»¥å†³å®šå®ƒæ¥å—ä»€ä¹ˆä½œä¸º<strong class="ku io">å‚æ•°</strong>ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå®ƒåº”è¯¥<strong class="ku io">è¿”å›ä»€ä¹ˆ</strong>ï¼Œåœ¨æœ¬ä¾‹ä¸­:<strong class="ku io"> (url) </strong>å’Œ<code class="fe me mf mg mh b"><strong class="ku io">return</strong> <strong class="ku io">[{ img }, fetchImg]</strong></code></p><ul class=""><li id="8b20" class="lq lr in ku b kv kw ky kz lb ls lf lt lj lu ln lv lw lx ly bi translated">è¿”å›å€¼{ <strong class="ku io"> img </strong> }æ˜¯åˆå§‹åŒ–ä¸ºnullçš„imgçŠ¶æ€ï¼Œå°†è¢«å¯¼å…¥å¹¶åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨</li><li id="75c2" class="lq lr in ku b kv lz ky ma lb mb lf mc lj md ln lv lw lx ly bi translated">å‡½æ•°<strong class="ku io"> fetchImg </strong>å°†è¢«å¯¼å…¥å¹¶åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨</li></ul><p id="2e15" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">åŒæ ·å¦‚é’©å­ä»‹ç»ä¸­æ‰€ç¤ºï¼Œ<em class="lo">ä»è‡ªå®šä¹‰é’©å­ä¸­è°ƒç”¨é¢„å®šä¹‰çš„Reactåº“é’©å­æ˜¯åˆæ³•çš„ï¼Œ</em>æ‰€ä»¥<em class="lo"> </em>æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº†<strong class="ku io"> useState </strong>é’©å­ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶ä¸­çš„é’©å­æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚</p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="5459" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥æ›´æ–°è¿™ä¸¤ä¸ªç»„ä»¶ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰æŒ‚é’©:</p><pre class="kd ke kf kg gt mr mh ms mt aw mu bi"><span id="0449" class="mv mw in mh b gy mx my l mz na">// <strong class="mh io">RandomGif </strong><br/>import { useEffect } from "react";<br/><strong class="mh io">import useFetch from "../useFetch";</strong> =&gt; <strong class="mh io"><em class="lo">import custom hook</em></strong><br/><br/>const RandomGif = () =&gt; {<br/><br/>  ğŸ‘‰ const <strong class="mh io">[{ img }, fetchImg]</strong> = <strong class="mh io">useFetch</strong>(<br/>       "https://api.giphy.com/v1/gifs/random<br/>api_key=${RANDOM_API_KEY}&amp;tag=&amp;rating=g"<br/>       );<br/><br/>    useEffect(() =&gt; {<br/>      fetchImg();<br/>    }, []);<br/><br/>  const getRandomGif = () =&gt; <strong class="mh io">fetchImg</strong>();<br/><br/>  return (<br/>    &lt;&gt;<br/>      &lt;button onClick={getRandomGif}&gt;Get random gifs&lt;/button&gt;<br/>          {img? (<br/>        &lt;img src={<strong class="mh io">img</strong>?.data?.images?.preview_gif?.url}<br/>             alt={`${img?.data?.username}`} /&gt;<br/>           ) : (<br/>             "Oops, no GIF found"<br/>           )}<br/>    &lt;/&gt;<br/>  );<br/>};<br/>export default RandomGif;</span><span id="001e" class="mv mw in mh b gy nb my l mz na">// <strong class="mh io">SearchImg </strong><br/>import { useState, useEffect } from "react";<br/><strong class="mh io">import useFetch from "../useFetch";<br/></strong><br/>const SearchImg = () =&gt; {<br/>  const [searchText, setSearchText] = useState("dog");<br/>  const<strong class="mh io"> [{ img }, fetchImg]</strong> = <strong class="mh io">useFetch</strong>(<br/>    `https://pixabay.com/api/?key=${SEARCH_API_KEY}&amp;q=${searchText}&amp;image_type=photo`<br/>  );<br/><br/>  useEffect(() =&gt; {<br/>    fetchImg();<br/>  }, []);<br/><br/>  const SearchImg = () =&gt; <strong class="mh io">fetchImg</strong>();<br/>  const hit = <strong class="mh io">img</strong>?.hits[Math.floor(Math.random() * gif?.hits?.length)];<br/><br/>  return (<br/>    &lt;&gt;<br/>      &lt;input<br/>        type="text"<br/>        value={searchText}<br/>        onChange={(e) =&gt; setSearchText(e.target.value)}<br/>      /&gt;<br/>      &lt;button onClick={SearchImg}&gt;Search&lt;/button&gt;<br/>      &lt;p&gt;{search text}&lt;/p&gt;<br/>      {hit?.previewURL ? (<br/>        &lt;img src={hit?.previewURL} alt={`${hit?.tags}`} /&gt;<br/>      ) : (<br/>        "Oops, no image found"<br/>      )}<br/>    &lt;/&gt;<br/>  );<br/>};<br/>export default SearchImg;</span></pre><p id="5105" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">ä¸Šé¢çš„ä»£ç è§£é‡Šé“:</p><ul class=""><li id="dd2d" class="lq lr in ku b kv kw ky kz lb ls lf lt lj lu ln lv lw lx ly bi translated">æˆ‘ä»¬è¿›å£æˆ‘ä»¬çš„å®šåˆ¶æŒ‚é’©</li></ul><pre class="kd ke kf kg gt mr mh ms mt aw mu bi"><span id="ffac" class="mv mw in mh b gy mx my l mz na"><strong class="mh io">import useFetch from "../useFetch";</strong></span></pre><ul class=""><li id="67f5" class="lq lr in ku b kv kw ky kz lb ls lf lt lj lu ln lv lw lx ly bi translated">ä½¿ç”¨ä»æˆ‘ä»¬çš„è‡ªå®šä¹‰é’©å­è¿”å›çš„çŠ¶æ€å’Œè·å–å‡½æ•°</li></ul><pre class="kd ke kf kg gt mr mh ms mt aw mu bi"><span id="08fa" class="mv mw in mh b gy mx my l mz na"><strong class="mh io">const [{ img }, fetchImg]</strong> = <strong class="mh io">useFetch</strong>(...)</span></pre><p id="0e86" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">æ³¨æ„è¿™é‡Œçš„<strong class="ku io"> fetchImg </strong>å‡½æ•°ä¸æ˜¯ç”¨æ¥æ›´æ–°â€œImgâ€çŠ¶æ€çš„ï¼Œå®ƒæ˜¯æ¥è‡ªuseFetchè‡ªå®šä¹‰é’©å­çš„fetchå‡½æ•°ï¼Œå¯ä»¥åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨è°ƒç”¨ï¼Œåœ¨æœ¬ä¾‹ä¸­ä¸º"<em class="lo">const search img =()=&gt;</em><strong class="ku io">fetchImg</strong><em class="lo">()"</em>" const getRandomGif =()=&gt;<strong class="ku io">fetchImg</strong><em class="lo">()"ã€T35ã€‘</em></p></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="745b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåº”ç”¨ç¨‹åºä¸­æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶ä¸­é‡ç”¨è¿™ä¸ªè‡ªå®šä¹‰é’©å­æ¥ä»ä»»ä½•URLè·å–æ•°æ®ï¼Œåªè¦å®ƒä»¬ä½¿ç”¨ç›¸åŒçš„é€»è¾‘ã€‚é€šè¿‡å®šåˆ¶é’©å­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç»„ä»¶é€»è¾‘æå–åˆ°å¯é‡ç”¨çš„åŠŸèƒ½ä¸­ã€‚</p><p id="f50e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">å°±æ˜¯è¿™æ ·ï¼æ„Ÿè°¢æ‚¨çš„å®è´µæ—¶é—´ï¼â°</p><p id="0821" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">å¦‚æœä½ ä¹Ÿå¯¹æˆ‘çš„å…¶ä»–æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæœ‰ä¸€äº›é“¾æ¥:</p><div class="nc nd gp gr ne nf"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-simple-express-server-node-js-for-react-application-e2b2bd0c7e93"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">ä¸ºReactåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªç®€å•çš„ExpressæœåŠ¡å™¨(Node.js)</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">å…³äºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ExpressæœåŠ¡å™¨(Node.js)ã€å°†å…¶è¿æ¥åˆ°Reactåº”ç”¨ç¨‹åºä»¥åŠè§£å†³é”™è¯¯çš„æ•™ç¨‹â€¦</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="no l"><div class="np l nq nr ns no nt km nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a rel="noopener  ugc nofollow" target="_blank" href="/use-session-storage-to-persist-state-within-a-react-component-206867ef2269"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">ä½¿ç”¨ä¼šè¯å­˜å‚¨æ¥ä¿æŒReactç»„ä»¶ä¸­çš„çŠ¶æ€</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">å½“é¡µé¢ä¼šè¯ç»“æŸæ—¶ï¼ŒsessionStorageä¸­çš„æ•°æ®å°†è¢«æ¸…é™¤ã€‚</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="no l"><div class="nu l nq nr ns no nt km nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a rel="noopener  ugc nofollow" target="_blank" href="/use-session-storage-to-persist-state-within-a-react-component-206867ef2269"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">ä½¿ç”¨ä¼šè¯å­˜å‚¨æ¥ä¿æŒReactç»„ä»¶ä¸­çš„çŠ¶æ€</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">å½“é¡µé¢ä¼šè¯ç»“æŸæ—¶ï¼ŒsessionStorageä¸­çš„æ•°æ®å°†è¢«æ¸…é™¤ã€‚</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="no l"><div class="nu l nq nr ns no nt km nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a href="https://medium.com/geekculture/hide-and-replace-sticky-element-on-scrolling-in-a-react-way-8bc3f04e2a81" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">ä»¥ååº”æ–¹å¼éšè—å’Œæ›¿æ¢æ»šåŠ¨æ—¶çš„ç²˜æ€§å…ƒç´ </h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">â€”æ£˜æ‰‹ä½†æœ‰è¶£ğŸ¡</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="nv l nq nr ns no nt km nf"/></div></div></a></div><div class="nc nd gp gr ne nf"><a href="https://enlear.academy/create-responsive-iframe-embed-in-a-react-way-f52075bf3b04" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd io gy z fp nk fr fs nl fu fw im bi translated">åˆ›å»ºä»¥ååº”æ–¹å¼åµŒå…¥çš„å“åº”iframe</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">â€”ä»¤äººæƒŠè®¶çš„æ˜¯ï¼ŒYouTubeæ²¡æœ‰ç›¸åº”çš„åµŒå…¥ä»£ç ğŸ¦„ï¼Œæˆ‘ä»¬æ¥ç©csså§â€¦</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">enlear .å­¦é™¢</p></div></div><div class="no l"><div class="nw l nq nr ns no nt km nf"/></div></div></a></div></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="db2b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="lo">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae lp" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">plain English . io</em></strong></a><em class="lo">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae lp" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="lo">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="lo">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae lp" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">Twitter</em></strong></a><a class="ae lp" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">LinkedIn</em></strong></a><em class="lo"/><a class="ae lp" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">YouTube</em></strong></a><em class="lo"/><a class="ae lp" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="lo">ä¸å’Œ</em> </strong> </a> <em class="lo">ã€‚</em></p></div></div>    
</body>
</html>