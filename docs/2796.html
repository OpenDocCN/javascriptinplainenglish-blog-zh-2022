<html>
<head>
<title>Array. length Can Lead to Unexpected Errors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数组。长度可能会导致意外错误</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/array-length-can-lead-to-unexpected-errors-ce4fbfa74fc5?source=collection_archive---------5-----------------------#2022-07-05">https://javascript.plainenglish.io/array-length-can-lead-to-unexpected-errors-ce4fbfa74fc5?source=collection_archive---------5-----------------------#2022-07-05</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="59d4" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">你得到的数组长度是否比你实际看到或预期的要长？</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/256f67c13c796e29bd7dab0f57e4debe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*waI3peG3JoyTO_Bw"/></div></div></figure><p id="bd9e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果你得到的数组长度比你实际看到的或预期的要长，这可能是因为你使用了<code class="fe lk ll lm ln b">Array.length</code>来寻找长度。</p><p id="a422" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是如果我告诉你<code class="fe lk ll lm ln b">Array. length</code>不是在JavaScript中寻找数组长度的最佳方法呢？</p><p id="c08b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是为什么呢？这是因为JavaScript很疯狂还是我们理解不够好？</p><p id="550c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我想想。</p><p id="3967" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在JavaScript中，数组不是原语，而是对象。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/5496266e79e97edce7d81786ff3ba1a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*EW282FWfx2dv6xF0AjMqpA.png"/></div></figure><p id="00a7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这意味着数组的方括号声明可能作为声明数组的语法糖，但实际上，在幕后，创建一个对象，将索引(从0开始)作为键，将数组内容作为各自的值。</p><blockquote class="lp lq lr"><p id="7118" class="ko kp ls kq b kr ks jo kt ku kv jr kw lt ky kz la lu lc ld le lv lg lh li lj ig bi translated">假设我们使用<code class="fe lk ll lm ln b">𝚍𝚎𝚕𝚎𝚝𝚎 𝚊𝚛𝚛[𝚒]</code>从你的数组中删除一个元素，但是现在如果我们运行<code class="fe lk ll lm ln b">arr.length</code>，我们会得到4——比如whaaaat？</p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lw"><img src="../Images/abcae2e27bc2d2e16a77a34a049a7385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYEuFsrDwp-qNpmVyNrS_Q.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">Delete operation on an array item</figcaption></figure><p id="347c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这是因为delete不会修改原始数组，而是在指定的索引处放置一个<br/> 𝚎𝚖𝚙t𝚢值。</p><p id="ad48" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，要获得数组中非空项的数量，应该使用<code class="fe lk ll lm ln b">𝙾𝚋𝚓𝚎𝚌𝚝.𝚔𝚎𝚢𝚜()</code>方法，它给出一个对象中键的数组。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mb"><img src="../Images/968562b1370f7ec9c64db10f71654485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ysvNUGl6T54ebP8yXyvLiA.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">Result of delete operator on an array</figcaption></figure></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><h1 id="edea" class="mj mk in bd ml mm mn mo mp mq mr ms mt jt mu ju mv jw mw jx mx jz my ka mz na bi translated">额外的</h1><p id="96d2" class="pw-post-body-paragraph ko kp in kq b kr nb jo kt ku nc jr kw kx nd kz la lb ne ld le lf nf lh li lj ig bi translated">想想看，如果JavaScript中的数组是对象，那么我们应该能够使用点符号(<code class="fe lk ll lm ln b">arr.0</code>)和方括号符号(<code class="fe lk ll lm ln b">arr[0]</code>)来访问数组项。</p><p id="7364" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是<code class="fe lk ll lm ln b">arr.0</code>抛出了一个语法错误:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ng"><img src="../Images/5e0ad7c92f817d386032b73025db1b56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aYbPc2bECtu0-2vULxDccQ.png"/></div></div></figure><p id="0860" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">嗯，这是因为JavaScript语法的一般规则要求使用<a class="ae nh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects#objects_and_properties" rel="noopener ugc nofollow" target="_blank">括号符号</a>而不是<a class="ae nh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors" rel="noopener ugc nofollow" target="_blank">点符号</a>来访问以数字开头的属性。</p><p id="b264" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">您可以查看<a class="ae nh" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="noopener ugc nofollow" target="_blank">详细文档</a>以获得进一步的说明。</p></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><p id="0f03" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">希望我的解释有助于你理解这个概念。然而，我对这个概念的理解可能是错误的，所以我愿意接受各种反馈。你可以在<a class="ae nh" href="https://www.linkedin.com/in/jainlokesh318/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> <em class="ls">上轻松联系到我。</em></p></div><div class="ab cl mc md hr me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ig ih ii ij ik"><p id="a6b2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="ls">更多内容请看</em><a class="ae nh" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ls">plain English . io</em></strong></a><em class="ls">。报名参加我们的</em> <a class="ae nh" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ls">免费周报</em> </strong> </a> <em class="ls">。关注我们关于</em><a class="ae nh" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ls">Twitter</em></strong></a><em class="ls">和</em><a class="ae nh" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ls">LinkedIn</em></strong></a><em class="ls">。查看我们的</em> <a class="ae nh" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ls">社区不和谐</em> </strong> </a> <em class="ls">加入我们的</em> <a class="ae nh" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ls">人才集体</em> </strong> </a> <em class="ls">。</em></p></div></div>    
</body>
</html>