<html>
<head>
<title>How to Fix the “Cannot find name ‘describe’” Error in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何修复TypeScript中的“找不到名称' describe '”错误</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/typescript-cannot-find-name-describe-b72f3009ea86?source=collection_archive---------10-----------------------#2022-09-26">https://javascript.plainenglish.io/typescript-cannot-find-name-describe-b72f3009ea86?source=collection_archive---------10-----------------------#2022-09-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="55ba" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解如何轻松修复TypeScript中的“找不到name 'describe '错误”。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/2b9a7957df91f653930c002a779c1af1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xUYWJCKN6z6mwFuYcvRfEA.png"/></div></div></figure><p id="cc1d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要修复“找不到name 'describe '”错误，请为您的测试框架安装类型定义，然后将定义添加到您的<code class="fe lk ll lm ln b">tsconfig.json</code>文件中的<code class="fe lk ll lm ln b">types</code>数组。</p><p id="8a06" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当您尝试在TypeScript文件中使用<code class="fe lk ll lm ln b">describe()</code>函数，但TypeScript找不到包的类型定义时，会出现此错误。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lo"><img src="../Images/ed9b2ceb170fdad9dfe9dc201815f858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IIS6Zq7DY1iR9m3J.png"/></div></div></figure><p id="60cd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">index.ts</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="d8ae" class="lt lu in ln b gy lv lw l lx ly">/* Cannot find name 'it'. Do you need to install type<br/> definitions for a test runner? Try<br/> `npm i --save-dev @types/jest` or<br/> `npm i --save-dev @types/mocha`. ts(2582) */</span><span id="9a2a" class="lt lu in ln b gy lz lw l lx ly">describe('example', () =&gt; {<br/>  it('adds two numbers together', () =&gt; {<br/>    expect(2 + 2).toBe(4);<br/>  });<br/>});</span></pre><p id="fc6c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">通过在项目目录的根目录下运行以下命令之一，为您正在使用的测试框架安装类型定义。</p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="1b58" class="lt lu in ln b gy lv lw l lx ly"># 👇 Jest<br/>npm i -D @types/jest jest</span><span id="b8f5" class="lt lu in ln b gy lz lw l lx ly"># 👇 Mocha<br/>npm i -D @types/mocha mocha</span><span id="3f1c" class="lt lu in ln b gy lz lw l lx ly"># Yarn<br/># 👇 Jest<br/>yarn add --dev @types/jest jest</span><span id="fc3a" class="lt lu in ln b gy lz lw l lx ly"># 👇 Mocha<br/>yarn add --dev @types/mocha mocha</span></pre><h1 id="a580" class="ma lu in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">向<code class="fe lk ll lm ln b">tsconfig.json</code>中的<code class="fe lk ll lm ln b">types</code>数组添加类型</h1><p id="b94e" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">在某些情况下，这就是修复错误所需的全部内容。但是如果它持续存在，您可能需要将新安装的类型添加到您的<code class="fe lk ll lm ln b">tsconfig.json</code>文件的<code class="fe lk ll lm ln b">types</code>数组中。</p><p id="a486" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，如果您正在使用Jest，您将向<code class="fe lk ll lm ln b">types</code>数组添加一个<code class="fe lk ll lm ln b">jest</code>字符串，然后您的<code class="fe lk ll lm ln b">tsconfig.json</code>文件将如下所示:</p><p id="404e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="3708" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {<br/>    "types": [<br/>      // ... other types<br/>      "jest"<br/>    ]<br/>    // ..other settings<br/>  }<br/>}</span></pre><p id="3ede" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">类似地，如果您正在使用Mocha，您将向<code class="fe lk ll lm ln b">types</code>数组添加一个<code class="fe lk ll lm ln b">mocha</code>字符串。</p><p id="6a8f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="515f" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {<br/>    "types": [<br/>      // ... other types<br/>      "mocha"<br/>    ]<br/>    // ..other settings<br/>  }<br/>}</span></pre><h1 id="cdc4" class="ma lu in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">包括测试文件</h1><p id="e7e3" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">如果这样做后错误仍然没有消失，请确保TypeScript没有忽略包含测试文件的目录。如果您已经在您的<code class="fe lk ll lm ln b">tsconfig.json</code>文件中设置了<code class="fe lk ll lm ln b">include</code>数组，请确保该数组中指定的模式与您的测试文件所在的目录相匹配。</p><p id="7352" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如，如果您的测试文件位于一个<code class="fe lk ll lm ln b">src</code>目录中，TypeScript将使用如下配置来检测它们:</p><p id="0d08" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="c7ae" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {},<br/>  "include": ["src/**/*"],<br/>}</span></pre><p id="619a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">但是如果它们位于一个<code class="fe lk ll lm ln b">tests</code>目录中，我们将需要添加一个额外的glob模式来让TypeScript检测它们:</p><p id="a30c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="094b" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {},<br/>  "include": [<br/>    "src/**/*",<br/>    "tests/**/*"<br/>  ],<br/>}</span></pre><p id="cde3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们还可以包含glob模式来匹配具有特定结尾或扩展名的文件。例如，我们可以用以下配置包含所有以<code class="fe lk ll lm ln b">.spec.ts</code>和<code class="fe lk ll lm ln b">.test.ts</code>结尾的文件:</p><p id="c710" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="98df" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {},<br/>  "include": [<br/>    "src/**/*",<br/>    "**/*.spec.ts",<br/>    "**/*.test.ts"<br/>  ],<br/>}</span></pre><p id="b755" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果您已经在您的<code class="fe lk ll lm ln b">tsconfig.json</code>文件中设置了<code class="fe lk ll lm ln b">exclude</code>数组，请确保数组中没有任何模式与包含测试文件的目录相匹配，因为这将防止TypeScript检测到它们。</p><p id="6b78" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如，在下面的<code class="fe lk ll lm ln b">tsconfig.json</code>文件中，以<code class="fe lk ll lm ln b">.spec.ts</code>结尾的文件已被排除，因此TypeScript将忽略它们，当您试图在其中使用<code class="fe lk ll lm ln b">describe()</code>时，将出现错误。</p><p id="7541" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="94a3" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {},<br/>  "include": [<br/>    "src/**/*"<br/>  ],<br/>  "exclude": [<br/>    "**/*.test.ts"<br/>  ],<br/>}</span></pre><p id="237b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们将通过简单地将模式字符串从<code class="fe lk ll lm ln b">exclude</code>移动到<code class="fe lk ll lm ln b">include</code>来解决这个问题:</p><p id="88ad" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">tsconfig.json</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="a338" class="lt lu in ln b gy lv lw l lx ly">{<br/>  "compilerOptions": {},<br/>  "include": [<br/>    "src/**/*",<br/>    "**/*.test.ts"<br/>  ],<br/>}</span></pre><h1 id="97e2" class="ma lu in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">在文件中导入模块</h1><p id="d130" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">除了将类型添加到<code class="fe lk ll lm ln b">types</code>数组，您还可以在使用<code class="fe lk ll lm ln b">describe()</code>的文件顶部导入它们。</p><p id="8575" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，如果我们使用Jest，我们将在文件的开头添加一个<code class="fe lk ll lm ln b">import 'jest'</code>行。</p><p id="d36b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">index.ts</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="2a74" class="lt lu in ln b gy lv lw l lx ly">// 👇<br/>import 'jest';</span><span id="c123" class="lt lu in ln b gy lz lw l lx ly">// ✅ No error<br/>describe('example', () =&gt; {<br/>  it('adds two numbers together', () =&gt; {<br/>    expect(2 + 2).toBe(4);<br/>  });<br/>});</span></pre><p id="28bf" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">类似地，如果我们使用Mocha，我们将添加一行<code class="fe lk ll lm ln b">import 'mocha'</code>:</p><p id="68d7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">index.ts</code></p><pre class="kd ke kf kg gt lp ln lq lr aw ls bi"><span id="5403" class="lt lu in ln b gy lv lw l lx ly">// 👇<br/>import 'mocha';</span><span id="0418" class="lt lu in ln b gy lz lw l lx ly">// ✅ No error<br/>describe('example', () =&gt; {<br/>  it('adds two numbers together', () =&gt; {<br/>    expect(2 + 2).toBe(4);<br/>  });<br/>});</span></pre><h1 id="659c" class="ma lu in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">重新启动IDE</h1><p id="d7f6" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">如果完成所有这些操作后错误仍然存在，重新启动IDE可能会有所帮助。</p></div><div class="ab cl mw mx hr my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="ig ih ii ij ik"><p id="df44" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nd">原载于</em><a class="ae ne" href="https://cbdev.link/2d96dc" rel="noopener ugc nofollow" target="_blank"><em class="nd">codingbeautydev.com</em></a></p><h1 id="9f1a" class="ma lu in bd mb mc md me mf mg mh mi mj jt mk ju ml jw mm jx mn jz mo ka mp mq bi translated">ES13中11个惊人的新JavaScript特性</h1><p id="bfde" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">本指南将带您快速了解ECMAScript 13中添加的所有最新功能。这些强大的新特性将会用更短、更富于表现力的代码来更新您的JavaScript。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/75a56482761ab63cfc081ad691d70d61.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*WqVjQY7sKZh3wld5WzkfTw.png"/></div></figure><p id="b288" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae ne" href="https://cbdev.link/900477" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>