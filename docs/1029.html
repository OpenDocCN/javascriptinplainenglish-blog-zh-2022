<html>
<head>
<title>It’s Time to Meet Object.hasOwn() with ES2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是时候通过ES2022了解Object.hasOwn()了</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/its-time-to-meet-object-hasown-4a26c9de76a?source=collection_archive---------8-----------------------#2022-02-28">https://javascript.plainenglish.io/its-time-to-meet-object-hasown-4a26c9de76a?source=collection_archive---------8-----------------------#2022-02-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="37df" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">并向hasOwnProperty()挥手告别</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/3005cc1ec169ce6eea0de3ce25194809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-rNXkgsSLnEpH_iD"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pankaj Patel</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2c91" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">ES2022即将推出，随之推出的特性之一是<code class="fe lp lq lr ls b">Object.hasOwn()</code>。它旨在取代<code class="fe lp lq lr ls b">hasOwnProperty()</code>方法，并且在ECMAScript的新版本之前已经被大多数浏览器支持。要了解它是什么以及它提供的优势，让我们来看看它将取代的方法。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lt"><img src="../Images/8602805fad4161ea32deb6316caa2537.png" data-original-src="https://miro.medium.com/v2/resize:fit:604/format:webp/1*wyvkT7HUp7JxuV5muaVgWw.png"/></div></div></figure><p id="3acc" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript使用可以从原型链继承方法的对象，而不是纯粹的类构造。JavaScript中的大多数对象都是<code class="fe lp lq lr ls b">Object</code>类的实例，每个实例都有一个到原型对象的链接。历史上，<code class="fe lp lq lr ls b">hasOwnProperty()</code>一直是检查对象的属性是否被继承的方法。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="3aac" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果属性是直接的，则<code class="fe lp lq lr ls b">hasOwnProperty() </code>方法返回<code class="fe lp lq lr ls b">true</code>，如果属性是继承的或未声明的，则返回<code class="fe lp lq lr ls b">false</code>。其实<code class="fe lp lq lr ls b">hasOwnProperty()</code>是继承了<code class="fe lp lq lr ls b">Object.prototype</code>的。考虑到上面的例子，让我们来看看它是如何工作的。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="599f" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这里可以看到原型链的运行，因为<code class="fe lp lq lr ls b">dwyer</code>从<code class="fe lp lq lr ls b">musician</code>继承了<code class="fe lp lq lr ls b">sayHello</code>，两个对象都从<code class="fe lp lq lr ls b">Object</code>继承了<code class="fe lp lq lr ls b">hasOwnProperty</code>。这让我们想到了<code class="fe lp lq lr ls b">hasOwnProperty</code>的一个问题。许多继承的属性可以重新实现，<code class="fe lp lq lr ls b">hasOwnProperty</code>也不例外。覆盖它会导致麻烦。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="6b34" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用<code class="fe lp lq lr ls b">Object.create()</code>创建新对象时，会出现另一个问题。因为该方法接受一个现有对象作为新对象的原型，如果原型为空，它实际上不会继承<code class="fe lp lq lr ls b">hasOwnProperty()</code>方法。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="7cb6" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">为了避免这些问题，设置<code class="fe lp lq lr ls b">Object.hasOwn()</code>代替<code class="fe lp lq lr ls b">hasOwnProperty()</code>。不受<code class="fe lp lq lr ls b">hasOwnProperty</code>被改写的影响。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="63fe" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">它也可以和<code class="fe lp lq lr ls b">Object.create(null)</code>一起正常工作，因为它不是一个继承的方法。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="2373" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">准备好和<code class="fe lp lq lr ls b">hasOwnProperty</code>说再见，因为它很快就会消失在夕阳中。它运行良好，但现在是说再见的时候了。<code class="fe lp lq lr ls b">Object.hasOwn()</code>已经与大多数浏览器兼容，随着最新ECMAScript版本的迅速发布，现在熟悉它是一个好主意。</p><p id="fbca" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lw">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lw">说白了。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lw">免费周报</em> </strong> </a> <em class="lw">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lw">Twitter</em></strong></a><em class="lw">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lw">LinkedIn</em></strong></a><em class="lw">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lw">社区</em> </strong> </a> <em class="lw">。</em></strong></a></p></div></div>    
</body>
</html>