<html>
<head>
<title>Let’s Create a Pagination Data Table with React and an External API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用React和外部API创建一个分页数据表</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/lets-create-a-pagination-datatable-with-react-and-an-external-api-61b69f0af674?source=collection_archive---------2-----------------------#2022-01-27">https://javascript.plainenglish.io/lets-create-a-pagination-datatable-with-react-and-an-external-api-61b69f0af674?source=collection_archive---------2-----------------------#2022-01-27</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/583b815603e16279b5d55ede7d249172.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGCymXtRbwF08Nfltn86ww.png"/></div></div></figure><p id="4717" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在本教程中，我们将演示如何使用<a class="ae kt" href="https://github.com/jbetancur/react-data-table-component" rel="noopener ugc nofollow" target="_blank">React-data-table-component</a>和来自<a class="ae kt" href="https://www.mecallapi.com/" rel="noopener ugc nofollow" target="_blank">MeCallAPI.com</a>的外部<strong class="jx io"> API </strong>用React创建分页数据表。</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ku"><img src="../Images/a0b5c4c6b6f6823a04b7d7a14c3f6ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C98znuVkWpFByrwfdwiEbw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><a class="ae kt" href="https://www.mecallapi.com/" rel="noopener ugc nofollow" target="_blank">MeCallAPI.com</a></figcaption></figure><p id="77ab" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">你可以通过简单地从URL请求来尝试调用一个API:<a class="ae kt" href="https://www.mecallapi.com/api/attractions?page=1&amp;per_page=10" rel="noopener ugc nofollow" target="_blank">https://www.mecallapi.com/api/attractions?page=1&amp;per _ page = 10</a></p><h1 id="b5b8" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">软件安装</h1><ul class=""><li id="990f" class="mb mc in jx b jy md kc me kg mf kk mg ko mh ks mi mj mk ml bi translated"><strong class="jx io">node . js</strong>T10】https://nodejs.org</li></ul><h1 id="f808" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们开始吧！</h1><p id="c247" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">创建一个初始<strong class="jx io">反应</strong>项目:</p><pre class="kv kw kx ky gt mp mq mr ms aw mt bi"><span id="7609" class="mu le in mq b gy mv mw l mx my">npx create-react-app react-datatable<br/>cd react-datatable</span></pre><p id="bc53" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">安装<a class="ae kt" href="https://github.com/jbetancur/react-data-table-component" rel="noopener ugc nofollow" target="_blank">反应数据表组件</a>:</p><pre class="kv kw kx ky gt mp mq mr ms aw mt bi"><span id="d447" class="mu le in mq b gy mv mw l mx my">npm install react-data-table-component</span></pre><p id="5b88" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">启动<strong class="jx io">反应</strong> app:</p><pre class="kv kw kx ky gt mp mq mr ms aw mt bi"><span id="b037" class="mu le in mq b gy mv mw l mx my">npm start</span></pre><p id="0fa5" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在网络浏览器上访问http://localhost:3000 以查看结果:</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/6fab19c5b077d2ac989f1aaf52b9d9cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ad3-mndlotyk4R-2xgieKw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><a class="ae kt" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></figcaption></figure><p id="8260" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">编辑App.js</p><figure class="kv kw kx ky gt jo"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="dcd9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">让我解释一下代码:</p><ul class=""><li id="5e12" class="mb mc in jx b jy jz kc kd kg nc kk nd ko ne ks mi mj mk ml bi translated"><strong class="jx io">列</strong>(第4–36行)是定义为数据表列的数组。</li><li id="77be" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">定义<strong class="jx io">状态</strong>(第42行)<strong class="jx io">项</strong>和一个用于给<strong class="jx io">项</strong>设置值的函数<strong class="jx io"> setItems </strong>。我们将调用一个API并将响应数据存储在<strong class="jx io">项</strong>中。</li><li id="7fcd" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">定义<strong class="jx io">状态</strong>(第43和44行)<strong class="jx io"> totalRows </strong>来存储来自API的行数/数据，定义<strong class="jx io"> perPage </strong>来存储每页显示的行数。</li><li id="54c1" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">将函数<strong class="jx io"> useEffect </strong>(第46–48行)定义为<a class="ae kt" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">效果钩子</strong> </a>在组件加载时调用。我们还将<strong class="jx io"> perPage </strong>作为React Hook <strong class="jx io"> useEffect </strong>的依赖项，当<strong class="jx io"> perPage </strong>值改变时，将调用该函数。在我们的例子中，函数<strong class="jx io"> fetchData </strong>将被调用。</li><li id="7be9" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">定义函数<strong class="jx io"> fetchData </strong>(第50–64行)<strong class="jx io"> </strong>调用API，例如:【https://www.mecallapi.com/api/attractions?page=1】&amp;per _ page = 10在React中检索<strong class="jx io"> items State </strong>中存储的景点列表。</li><li id="90fc" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">定义数据表中页面改变时要执行的函数<strong class="jx io"> handlePageChange </strong>(第66–68行)。</li><li id="d17f" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">定义当数据表中每页的行数改变时要执行的函数<strong class="jx io"> handlePerRowsChange </strong>(第70–72行)。</li><li id="bf2b" class="mb mc in jx b jy nf kc ng kg nh kk ni ko nj ks mi mj mk ml bi translated">组件<strong class="jx io">数据表</strong>呈现在第80–89行，带有启用远程分页的选项(<strong class="jx io">分页服务器</strong>)。</li></ul><p id="98a8" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">结果是:</p><figure class="kv kw kx ky gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi nk"><img src="../Images/dbf14531b8dfc79e22a22a43dc5795dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GrP74hQX-4VF8sZgQA49OA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Pagination datatable</figcaption></figure><h1 id="d2ba" class="ld le in bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="361e" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mm ki kj kk mn km kn ko mo kq kr ks ig bi translated">就是这样。希望它能帮助你理解<strong class="jx io"> React </strong>的基础知识以及如何在API中使用数据表。下篇见！</p><p id="431e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nl">朗西特大学数字创新技术学院博士Karn Yongsiriwit的文章</em></p><p id="e2b3" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="nl">更多内容请看</em> <a class="ae kt" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nl">说白了就是</em> </strong> </a> <em class="nl">。报名参加我们的</em> <a class="ae kt" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nl">免费每周简讯</em> </strong> </a> <em class="nl">。在我们的</em> <a class="ae kt" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io"> <em class="nl">社区</em> </strong> </a> <em class="nl">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>