<html>
<head>
<title>Dynamic Component Loading in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以角度表示的动态分量载荷</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/dynamic-component-loading-4945ce73ad1?source=collection_archive---------2-----------------------#2022-07-20">https://javascript.plainenglish.io/dynamic-component-loading-4945ce73ad1?source=collection_archive---------2-----------------------#2022-07-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="312e" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用角度指令的动态组件加载。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/435a5ff029da3de81c11f001653fdbc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*fivxqDjLNALXi9JB07O1fg.jpeg"/></div></figure><p id="5997" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">Angular为在运行时加载新组件提供了一个漂亮的特性。动态组件加载可以通过各种方式实现，包括结构指令，如ngSwitchCase、ngIf、ngFor和router-outlet。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lg"><img src="../Images/27b590286834f2b129f9bec522771abc.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*KbRijDLHrX-1EWfwS0zJUQ.gif"/></div></figure><p id="0e58" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">然而今天，我想看一个有趣的使用指令简化的例子。该指令将起到锚的作用。在这种情况下，anchor指令定义了动态加载的组件在DOM中的插入位置。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lh li l"/></div></figure><p id="89d4" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">该指令注入viewContainerRef，它将用于访问用来承载动态组件的元素。</p><p id="6bd5" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">anchor指令是由ng-template提升的，因为ng-template不在DOM树上呈现任何额外的节点，并且在它没有值的情况下，它将不会被呈现，从而也减小了总的包大小。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lh li l"/></div></figure><p id="aa0f" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在放置指令的组件上，我们使用viewChild decorator来定位指令。</p><p id="e8ff" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">在父组件上，我们可以创建一个函数来加载组件。视图containerRef包含方法createComponent()，该方法返回对组件的引用。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="lh li l"/></div></figure><p id="9a04" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">这两个组件都有一个名为“image”的公共变量，用于传递URL。这是说明动态组件加载的一种简单方式。数据可以从服务中加载。在结构相同的情况下，一个组件可以与不同的数据一起重用。</p><p id="4bd7" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">我们的最终结果将显示，在运行时，单击一个按钮就可以加载不同的组件。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/f40698af65f08498f007781228bb8d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/1*ttfnUAO5a5ZThgMpAsnsHw.gif"/></div></figure><p id="24a6" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated">再次感谢阅读！</p></div><div class="ab cl lk ll hr lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ig ih ii ij ik"><p id="6aad" class="pw-post-body-paragraph kk kl in km b kn ko jo kp kq kr jr ks kt ku kv kw kx ky kz la lb lc ld le lf ig bi translated"><em class="lr">更多内容请看</em><a class="ae ls" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="km io"><em class="lr">plain English . io</em></strong></a><em class="lr">。报名参加我们的</em> <a class="ae ls" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="lr">免费周报</em> </strong> </a> <em class="lr">。关注我们关于</em><a class="ae ls" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="km io"><em class="lr">Twitter</em></strong></a><em class="lr">和</em><a class="ae ls" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="km io"><em class="lr">LinkedIn</em></strong></a><em class="lr">。查看我们的</em> <a class="ae ls" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="lr">社区不和谐</em> </strong> </a> <em class="lr">加入我们的</em> <a class="ae ls" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="km io"> <em class="lr">人才集体</em> </strong> </a> <em class="lr">。</em></p></div></div>    
</body>
</html>