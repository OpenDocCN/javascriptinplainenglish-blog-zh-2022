<html>
<head>
<title>5 Killer JavaScript Functions for Efficient Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个用于高效开发的黑仔JavaScript函数</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-javascript-killer-functions-for-efficient-development-f9d2400f1df7?source=collection_archive---------2-----------------------#2022-02-28">https://javascript.plainenglish.io/5-javascript-killer-functions-for-efficient-development-f9d2400f1df7?source=collection_archive---------2-----------------------#2022-02-28</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="6ac3" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用这些杀手级的JavaScript函数来加速你的开发过程。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/44755bf04db8b61a12d9255daad647ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*b8R3oCn50Sbet9hi"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@juanjodev02?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Juanjo Jaramillo</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c677" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">JavaScript是Web开发最关键的部分，加快JS开发意味着加快下班时间。</p><p id="8176" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">本文包含没有任何副作用的代码片段，可以安全地复制和使用。</p><h1 id="10a6" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">1.验证元素是否在可见区域内</h1><p id="42e7" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">当开发网页时，通常需要知道元素是否在视口中，即用户是否能看到它。这可以通过使用<strong class="kv io">intersect observer</strong>API来完成。</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="d093" class="ms lr in mo b gy mt mu l mv mw">const callback = (entries) =&gt; {<br/>  entries.forEach((entry) =&gt; {<br/>    if (entry.isIntersecting) {<br/>      // `entry.target` 是 dom 元素<br/>      console.log(`${entry.target.id} is visible`);<br/>    }<br/>  });<br/>};</span><span id="e8da" class="ms lr in mo b gy mx mu l mv mw">const options = {<br/>  threshold: 1.0,<br/>};</span><span id="0c92" class="ms lr in mo b gy mx mu l mv mw">const observer = new IntersectionObserver(callback, options);</span><span id="567f" class="ms lr in mo b gy mx mu l mv mw">const btn = document.getElementById( btn );<br/>const bottomBtn = document.getElementById( bottom-btn );</span><span id="a6d0" class="ms lr in mo b gy mx mu l mv mw">observer.observe(btn);<br/>observer.observe(bottomBtn);</span></pre><p id="bc0b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">选项</strong>参数定制观察者的行为。threshold属性通常用于定义当观察者被触发时需要在可见区域中可见的元素的百分比。</p><h1 id="a16d" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">2.识别设备</h1><p id="1d8d" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">我们通常使用window.navigator.userAgent来获取当前设备的详细信息进行识别</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="365b" class="ms lr in mo b gy mt mu l mv mw">onst detectDeviceType = () =&gt;<br/>  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(<br/>    navigator.userAgent<br/>  )<br/>    ?  Mobile <br/>    :  Desktop ;</span><span id="1943" class="ms lr in mo b gy mx mu l mv mw">console.log(detectDeviceType());</span></pre><h1 id="3dec" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">3.隐藏元素</h1><p id="6031" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">CSS有两种隐藏元素的常用方法。</p><ol class=""><li id="35b8" class="my mz in kv b kw kx kz la lc na lg nb lk nc lo nd ne nf ng bi translated">可以使用style.visibility切换元素的可见性。</li><li id="aa93" class="my mz in kv b kw nh kz ni lc nj lg nk lk nl lo nd ne nf ng bi translated">如果要从整个呈现流中移除元素，请使用style.display属性。</li></ol><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="92ac" class="ms lr in mo b gy mt mu l mv mw">const hideElement = (element, removeFromFlow = false) =&gt; {<br/>  removeFromFlow<br/>    ? (element.style.display =  none )<br/>    : (element.style.visibility =  hidden );<br/>};</span></pre><p id="3001" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">如果您不从渲染流中移除元素，而只是隐藏可见性，这些元素仍将被绘制并占用视图空间。</p><p id="89b9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在呈现长列表时，使用style.display属性隐藏不在可见区域中的元素，与上面的IntersectionObserver API结合使用，可以大大提高呈现性能。</p><h1 id="b089" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">4.获取URL上的查询参数</h1><p id="70d9" class="pw-post-body-paragraph kt ku in kv b kw mi jo ky kz mj jr lb lc mk le lf lg ml li lj lk mm lm ln lo ig bi translated">建议使用URL对象。URL接口用于解析、构造、规范化和编码URL，并且很容易获得链接上的查询参数。</p><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="0991" class="ms lr in mo b gy mt mu l mv mw">const url = new URL(window.location.href);<br/>const paramValue = url.searchParams.get( paramName );<br/>console.log(paramValue);</span></pre><h1 id="4f7b" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">5.简单深层拷贝</h1><pre class="kd ke kf kg gt mn mo mp mq aw mr bi"><span id="911e" class="ms lr in mo b gy mt mu l mv mw">const deepCopy = (obj) =&gt; JSON.parse(JSON.stringify(obj));</span></pre><p id="c611" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">现在你知道了。感谢您的阅读。</p><p id="645b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lp">更多内容看</em> <a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">说白了就是io </em> </strong> </a> <em class="lp">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">免费周报</em> </strong> </a> <em class="lp">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lp">Twitter</em></strong></a><em class="lp">和</em><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="lp">LinkedIn</em></strong></a><em class="lp">。加入我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="lp">社区</em> </strong> </a> <em class="lp">。</em></p></div></div>    
</body>
</html>