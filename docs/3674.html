<html>
<head>
<title>React Functional Components Using Refs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨å¼•ç”¨å¯¹åŠŸèƒ½ç»„ä»¶è¿›è¡Œååº”</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://javascript.plainenglish.io/react-functional-components-using-refs-a5ad1d2817d4?source=collection_archive---------2-----------------------#2022-09-16">https://javascript.plainenglish.io/react-functional-components-using-refs-a5ad1d2817d4?source=collection_archive---------2-----------------------#2022-09-16</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="d460" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">forwardRefå’ŒuseImperativeHandleçš„ç¤ºä¾‹</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/be348ed520b4d053aaa9e0c6d1e8b9d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjuZnAsQiGFIuE_-X-wGPQ.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">é€†å¢ƒä¸­æˆé•¿ â€” grow in adversity</figcaption></figure></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="d35a" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">æˆ‘ä¸€ç›´ä¸æ¸…æ¥š<em class="lv"> ref </em>å’Œ<em class="lv"> forwardRef </em>ï¼Œåœ¨åšäº†ä¸€äº›ç ”ç©¶åï¼Œæˆ‘æƒ³å†™ä¸€ç¯‡æ–‡ç« ï¼Œç”¨ä¸¤ä¸ªå°ä¾‹å­æ¥è®°å½•è¿™ä¸ªå­¦ä¹ è¿‡ç¨‹ã€‚</p><p id="236b" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ç°åœ¨æˆ‘ä»¬å¼€é—¨è§å±±å§ï¼</p><p id="e3dd" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨Reactçš„å…¸å‹æ•°æ®æµä¸­ï¼Œ<strong class="lb io">é“å…·</strong>æ˜¯çˆ¶å­ç»„ä»¶äº¤äº’çš„å”¯ä¸€æ–¹å¼ï¼Œè¦ä¿®æ”¹ä¸€ä¸ªå­©å­ï¼Œä½ ç”¨æ–°çš„é“å…·é‡æ–°æ¸²æŸ“ã€‚</p><p id="5d21" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å½“ç„¶ï¼Œå¦‚<a class="ae lw" href="https://reactjs.org/docs/getting-started.html" rel="noopener ugc nofollow" target="_blank"> Reactå®˜ç½‘</a>æ‰€è¿°ï¼Œé™¤äº†Reactå…¸å‹çš„æ•°æ®æµï¼Œåœ¨æŸäº›æƒ…å†µä¸‹(ä¾‹å¦‚ï¼Œèšç„¦ä¸€ä¸ªDOMå…ƒç´ ç­‰ã€‚)ä¸ºäº†ä¿®æ”¹å­ç»„ä»¶ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¦ä¸€ç§æ–¹å¼:<strong class="lb io"> Ref </strong>æ–¹å¼ã€‚Refsæä¾›äº†ä¸€ç§è®¿é—®DOMèŠ‚ç‚¹æˆ–Reactå…ƒç´ çš„æ–¹æ³•ã€‚</p><p id="ba81" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lv">*ç”±äºæœ¬æ–‡ä½¿ç”¨äº†åŠŸèƒ½ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘å°†é‡ç‚¹ä»‹ç»å®ƒä»¬ã€‚</em></p><p id="49f8" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è®©æˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªä¾‹å­å¼€å§‹ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ç†è§£ã€‚</p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="c5ab" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="lb io">ä¾‹ä¸€:ç„¦ç‚¹è¾“å…¥</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/55e3e48f6238ffa81ec961b0e8fc6e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*8IqanvZtylmFBWuUrZS72A.png"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ly"><img src="../Images/b223ac69f4dbd5a50aef93c48e9f1ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NXnSEgIyTxlcvzSlRv_OUA.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">cursor focused on input when a user clicks a button</figcaption></figure><p id="5a78" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¾“å…¥å­—æ®µï¼Œå½“ç”¨æˆ·å¼€å§‹è¾“å…¥æˆ–ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å…‰æ ‡èšç„¦åœ¨å®ƒä¸Šé¢ã€‚æ›´æœ‰æ„ä¹‰çš„æ˜¯åªä¿®æ”¹<strong class="lb io">è¾“å…¥å­—æ®µ</strong>ï¼Œè€Œä¸æ˜¯æ”¹å˜çŠ¶æ€(é€šè¿‡<em class="lv"> props </em>)å¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿™å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªå¼•ç”¨æ¥å®Œæˆã€‚</p><p id="2853" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<em class="lv"> useRef() </em>é’©å­æ¥åˆ›å»ºä¸€ä¸ªRefï¼Œå®ƒè¿”å›ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œå…¶<strong class="lb io"> current </strong>å±æ€§è®¾ç½®ä¸ºæˆ‘ä»¬ä¼ é€’ç»™é’©å­çš„åˆå§‹å€¼ï¼Œå¹¶åœ¨DOMå…ƒç´ &lt;è¾“å…¥&gt;ä¸Šä½¿ç”¨å®ƒ:</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="2d88" class="me mf in ma b gy mg mh l mi mj">const inputRef = <strong class="ma io">useRef</strong>(null);</span><span id="f1a8" class="me mf in ma b gy mk mh l mi mj">&lt;input ref={<strong class="ma io">inputRef</strong>} type=â€textâ€ /&gt;</span><span id="98a7" class="me mf in ma b gy mk mh l mi mj">inputRef.current.focus() =&gt; focus input</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ml"><img src="../Images/733852025feea2ed103fb67d1495ec94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-J7qHQGYgHD0JlJ8Q9hUw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">console.log(inputRef)</figcaption></figure><p id="c9f9" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">éå¸¸ç®€å•ï¼Œå½“ç”¨æˆ·å¼€å§‹è¾“å…¥æ—¶ï¼Œè¾“å…¥å­—æ®µä¼šè·å¾—ç„¦ç‚¹ï¼Œä½†æ˜¯å‡è®¾ç”±äºæŸç§åŸå› ï¼Œå½“ç”¨æˆ·å•å‡»æŒ‰é’®æ—¶ï¼Œè¿™ä¸ªè¾“å…¥å­—æ®µä¹Ÿåº”è¯¥è·å¾—ç„¦ç‚¹ï¼Œæˆ‘ä»¬çš„è¾“å…¥å­—æ®µä½äºåä¸º<strong class="lb io"> InputWrapper </strong>çš„reactå­ç»„ä»¶ä¸­ã€‚</p><p id="4781" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä¹Ÿè®¸æˆ‘ä»¬ä¼šè¯•ç€è¿™æ ·åš:</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="e72f" class="me mf in ma b gy mg mh l mi mj">const <strong class="ma io">Input</strong><strong class="ma io">Wrapper</strong> = <!-- -->({ref,...}) =&gt; &lt;&gt;<!-- -->&lt;input ref={<strong class="ma io">ref</strong>} .../&gt;...&lt;/&gt;</span><span id="d1b4" class="me mf in ma b gy mk mh l mi mj">export default function <strong class="ma io">App</strong>() {<br/>   const <strong class="ma io">inputRef</strong> = useRef(null);<br/>   const focusInput = () =&gt; inputRef.current.focus();<br/>   <!-- -->return (<br/>     // This will <strong class="ma io">NOT</strong> work!ğŸ’¥<br/>     &lt;<strong class="ma io">Input</strong><strong class="ma io">Wrapper</strong> ref={<strong class="ma io">inputRef</strong>}&gt;<br/>        <!-- -->&lt;button onClick={focusInput}&gt;...&lt;/button&gt;<br/>     &lt;/<strong class="ma io">Input</strong><strong class="ma io">Wrapper&gt;</strong>   <br/>)}}</span></pre><p id="4dba" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ‘‰è¿™æ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œå¼•ç”¨åªåœ¨æœ¬åœ°HTMLå…ƒç´ ä¸­èµ·ä½œç”¨ï¼Œæˆ‘ä»¬ä¸èƒ½æä¾›ä¸€ä¸ªå¼•ç”¨ç»™Reactç»„ä»¶(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯<strong class="lb io"> InputWrapper) </strong>ï¼Œè€Œä¸”ç”±äºå‡½æ•°ç»„ä»¶æ²¡æœ‰å®ä¾‹ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½åœ¨å®ƒä¸Šé¢ä½¿ç”¨<code class="fe mm mn mo ma b">ref</code>å±æ€§ï¼Œè¿™æ„å‘³ç€:</p><blockquote class="mp mq mr"><p id="1ad5" class="kz la lv lb b lc ld jo le lf lg jr lh ms lj lk ll mt ln lo lp mu lr ls lt lu ig bi translated">å¸¸è§„å‡½æ•°æˆ–ç±»ç»„ä»¶ä¸æ¥æ”¶<code class="fe mm mn mo ma b">ref</code>å‚æ•°ï¼Œrefåœ¨<strong class="lb io"> props </strong>ä¸­ä¹Ÿä¸å¯ç”¨ã€‚</p></blockquote><p id="81be" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„InputWrapper <strong class="lb io"> </strong>ä¼ é€’ç»™<em class="lv"> forwardRef </em>ï¼Œå®ƒæ¥æ”¶propså’Œä¼ é€’ç»™åŠŸèƒ½ç»„ä»¶çš„refsï¼Œå¹¶è¿”å›JSXã€‚å®ƒçš„å…ƒç´ ã€‚</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="cb04" class="me mf in ma b gy mg mh l mi mj">const InputWrapper = forwardRef((props, ref) =&gt; {â€¦})</span></pre><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mv"><img src="../Images/c8bcdac1fcb9c6d831274bf1dd2afb91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQxg6JI1XU5671-1CiKMDg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">create and pass ref to InputWrapper inside App component</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/d44a26c54426ae39ef8eeade608f52dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N04EDKERR_COx7eBpINwJw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">button event handler inside App which triggers focus</figcaption></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/33565ba7b708c0f9f853bb35a3b1ac38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWagJHiJiKsGF7eLtbGy5A.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">forwarding ref to input DOM element</figcaption></figure><p id="2620" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">é€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬å‘Šè¯‰Reactè¿™ä¸ªç»„ä»¶å¯ä»¥æ¥å—ä¸€ä¸ªrefï¼Œæˆ‘ä»¬çš„ç¬¬äºŒä¸ªå‚æ•°<code class="fe mm mn mo ma b">InputWrapper</code>å°†æ˜¯ä¼ å…¥çš„refã€‚ğŸ‘‰å½“æˆ‘ä»¬ç”¨<code class="fe mm mn mo ma b">forwardRef</code>è°ƒç”¨å®šä¹‰ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œç¬¬äºŒä¸ª<code class="fe mm mn mo ma b">ref</code>å‚æ•°<strong class="lb io">åªæœ‰</strong>å­˜åœ¨ã€‚</p><p id="84b9" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lv">*å¼•ç”¨è½¬å‘åœ¨ç±»ç»„ä»¶</em>ä¸Šä¹Ÿæ˜¯å¯èƒ½çš„</p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="fe22" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><strong class="lb io">ä¾‹äºŒ:æ’­æ”¾/æš‚åœè§†é¢‘å’Œç„¦ç‚¹è¾“å…¥</strong></p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi my"><img src="../Images/a96f68a1198443d8256293e7c39c59e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*fN_Eg9klA0Jsf0nrQNq7WA.png"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">using useImperativeHandle for multiple refs</figcaption></figure><p id="478e" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè§†é¢‘æ’­æ”¾å™¨å’Œä¸¤ä¸ªæŒ‰é’®<strong class="lb io">æ’­æ”¾/æš‚åœ</strong>è§†é¢‘ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›åœ¨å•å‡»æ’­æ”¾æŒ‰é’®æ—¶<strong class="lb io">èšç„¦</strong>ä¸‹é¢çš„è¾“å…¥å­—æ®µï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†æœ‰å¤šä¸ªå¼•ç”¨(è§†é¢‘ã€è¾“å…¥)ã€‚</p><p id="8f60" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å¦‚ä½•è½¬å‘å¤šä¸ªå¼•ç”¨ï¼Ÿ</p><p id="d0c2" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ¦‹ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ:æˆ‘ä»¬å¯ä»¥åˆ›å»ºrefså¹¶æŠŠå®ƒä»¬ä¼ é€’ç»™ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åä½¿ç”¨ä¸ä¸Šé¢ä¾‹å­ä¸­ç›¸åŒçš„é€»è¾‘ã€‚</p><p id="7444" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">çˆ¶åº”ç”¨ç¨‹åº:</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="631d" class="me mf in ma b gy mg mh l mi mj">export default function <strong class="ma io">App</strong>() {<br/>       const <strong class="ma io">videoRef</strong> = useRef();<br/>       const <strong class="ma io">focusRef</strong> = useRef();</span><span id="cc0e" class="me mf in ma b gy mk mh l mi mj">const focusInput = () =&gt; inputRef.current.focus();<br/>       const handlePlay = () =&gt; {<br/>           videoRef.current.play();<br/>           focusRef.current.focus();<br/>       };<br/>       const handlePause = () =&gt; {<br/>           videoRef.current.pause();<br/>       };</span><span id="c12f" class="me mf in ma b gy mk mh l mi mj">return (<br/>      &lt;<strong class="ma io">VideoWrapper</strong> <strong class="ma io">ref={{ videoRef, focusRef }}</strong>&gt; // ğŸ‘‰ pass refs<br/>         &lt;button onClick={handlePlay}&gt;Play&lt;/button&gt;<br/>         &lt;button onClick={handlePause}&gt;Pause&lt;/button&gt;<br/>      &lt;/<strong class="ma io">VideoWrapper</strong>&gt;<br/>   )</span></pre><p id="d399" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å­è§†é¢‘åŒ…è£…:</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="1bb2" class="me mf in ma b gy mg mh l mi mj">function VideoWrapper(props, ref) {<br/>      <strong class="ma io">const { videoRef, focusRef } = ref; // ğŸ‘‰ </strong>destructure refs<br/>      return (<br/>       &lt;&gt; <br/>          &lt;video<br/>             ref={<strong class="ma io">videoRef</strong>}<br/>             width="..."<br/>             height="..."<br/>             controls<br/>             src={"..."}<br/>          /&gt;<br/>          {props.children}<br/>          &lt;input ref={<strong class="ma io">focusRef</strong>} ... /&gt;<br/>        &lt;/&gt;<br/>      );<br/>export default <strong class="ma io">forwardRef</strong>(VideoWrapper);</span></pre></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="8f9e" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ¦‹ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ:ä½¿ç”¨Reacté’©å­<code class="fe mm mn mo ma b">useImperativeHandle</code></p><blockquote class="mp mq mr"><p id="cbfa" class="kz la lv lb b lc ld jo le lf lg jr lh ms lj lk ll mt ln lo lp mu lr ls lt lu ig bi translated">useImperativeHandleå®šåˆ¶ä½¿ç”¨refæ—¶æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼ï¼Œåº”è¯¥ä¸<strong class="lb io"> forwardRef </strong>ä¸€èµ·ä½¿ç”¨ã€‚</p></blockquote><p id="e74d" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">è¿™å¬èµ·æ¥å¯èƒ½ä»¤äººå›°æƒ‘ï¼Œè®©æˆ‘ä»¬é¦–å…ˆæ›´æ–°ç»„ä»¶:</p><p id="aa53" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨åˆ›å»ºä¸€ä¸ªrefï¼Œå¹¶å°†å…¶ä¼ é€’ç»™VideoWrapper:</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="85ac" class="me mf in ma b gy mg mh l mi mj">export default function App() {<br/><strong class="ma io">     const ref = useRef(null);<br/></strong>     const handlePlay = () =&gt; {<br/>        ref.current.<strong class="ma io">playVideo</strong>(); // ğŸ‘‰ exposed method <em class="lv"><br/>        </em>ref.current.<strong class="ma io">focusThisInput</strong>();<br/>      };<br/>     const handlePause = () =&gt; ref.current.<strong class="ma io">pauseMe</strong>();<br/>   return (<br/>     &lt;<strong class="ma io">VideoWrapper</strong> <strong class="ma io">ref={ref}</strong>&gt; // ğŸ‘‰ pass ref<br/>        &lt;button onClick={handlePlay}&gt;Play&lt;/button&gt;<br/>        &lt;button onClick={handlePause}&gt;Pause&lt;/button&gt;<br/>     &lt;/<strong class="ma io">VideoWrapper</strong>&gt;<br/>  )}</span></pre><p id="c76d" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">åœ¨VideoWrapperç»„ä»¶å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<strong class="lb io">useImperativeHandle</strong>Hookç¡®å®šå“ªäº›å±æ€§å°†åœ¨refä¸Šå…¬å¼€(ä½ å¯ä»¥éšæ„ç§°å‘¼å®ƒä»¬:<em class="lv"> playVideo </em>ã€<em class="lv"> focusThisInputã€pauseMe </em>ç­‰ã€‚)</p><pre class="kd ke kf kg gt lz ma mb mc aw md bi"><span id="b728" class="me mf in ma b gy mg mh l mi mj">import { forwardRef, useImperativeHandle, useRef } from "react";</span><span id="c84c" class="me mf in ma b gy mk mh l mi mj">function VideoWrapper(props, ref) {<br/>    const <strong class="ma io">videoRef</strong> = useRef();<br/>    const <strong class="ma io">inputRef</strong> = useRef();</span><span id="40f7" class="me mf in ma b gy mk mh l mi mj"><strong class="ma io">    useImperativeHandle</strong>(<strong class="ma io">ref</strong>, () =&gt; ({<br/>        ğŸ‘‡ <em class="lv">you can call them whatever you like<br/></em>         <strong class="ma io">playVideo</strong>: () =&gt; { <br/>             videoRef.current.play();<br/>       },<br/>         <strong class="ma io">pauseMe</strong>: () =&gt; {<br/>             videoRef.current.pause();<br/>       },<br/>         <strong class="ma io">focusThisInput</strong>: () =&gt; {<br/>             inputRef.current.focus();<br/>       }<br/>   }),[]);</span><span id="c302" class="me mf in ma b gy mk mh l mi mj">   return (<br/>      &lt;&gt;<br/>          &lt;video<br/>             ref={<strong class="ma io">videoRef</strong>}<br/>             width="..."<br/>             height="..."<br/>             controls<br/>             src={"..."}<br/>          /&gt;<br/>           {props.children}<br/>          &lt;input ref={<strong class="ma io">inputRef</strong>} .../&gt;<br/>      &lt;/&gt;<br/>  );<br/>}<br/>export default <strong class="ma io">forwardRef</strong>(VideoWrapper);</span></pre><p id="b1e1" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä¸Šé¢çš„ä»£ç æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘ä»¬åœ¨<code class="fe mm mn mo ma b">useImperativeHandle</code>é’©å­å†…éƒ¨æ·»åŠ æ–¹æ³•ï¼Œç„¶åå®ƒä»¬å°†è¢«å…¶çˆ¶çº§å…¬å¼€å’Œä½¿ç”¨ã€‚ğŸ™Œ</p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="e204" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å¦‚ä¸Šé¢çš„ä¾‹å­æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é’©å­<em class="lv"> forwardRef </em>è®¿é—®ReactåŠŸèƒ½å­ç»„ä»¶çš„åº•å±‚DOMå…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†å¤šä¸ªå¼•ç”¨ï¼Œç”šè‡³å¯ä»¥é€šè¿‡ä½¿ç”¨<em class="lv"> useImperativeHandleå°†å¼•ç”¨ä¼ é€’ç»™å…¶å­ç»„ä»¶æ¥ä¿®æ”¹çˆ¶ç»„ä»¶å¯ä»¥è®¿é—®çš„å¼•ç”¨ã€‚</em></p><p id="7c9e" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ğŸ’¡æ³¨æ„:<em class="lv"> useImperativeHandle </em>å¯ç”¨å‘½ä»¤å¼ä»£ç ï¼Œè¿™è¿èƒŒäº†Reactçš„å£°æ˜æ€§æœ¬è´¨ï¼Œè¿™ä½¿å¾—Reactéå¸¸ç‹¬ç‰¹ã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œé™¤éç»å¯¹éœ€è¦ï¼Œä¸€èˆ¬å»ºè®®é¿å…è¿™ä¸ªé’©å­ã€‚</p><p id="e19d" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ç»“æœå¹¶å°è¯•ä¸€ä¸‹<a class="ae lw" href="https://codesandbox.io/s/ref-fowardref-2ocgbh?file=/src/App.js:1226-1250" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="5b92" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å°±æ˜¯è¿™æ ·ï¼æˆ‘ç›¸ä¿¡æœ‰æ›´å¥½çš„æ–¹æ³•å’Œè§£å†³æ–¹æ¡ˆï¼Œè¿™é‡Œæˆ‘åªæ˜¯æƒ³åˆ†äº«æˆ‘åˆ°ç›®å‰ä¸ºæ­¢å­¦åˆ°çš„ä¸œè¥¿ï¼Œå¸Œæœ›ä½ å¯¹è¿™äº›ä¾‹å­æ„Ÿå…´è¶£ã€‚æ„Ÿè°¢æ‚¨çš„å®è´µæ—¶é—´ï¼â°</p><p id="d49f" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated">å¦‚æœä½ ä¹Ÿå¯¹æˆ‘çš„å…¶ä»–æ–‡ç« æ„Ÿå…´è¶£ï¼Œè¿™é‡Œæœ‰ä¸€äº›é“¾æ¥:</p><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-simple-express-server-node-js-for-react-application-e2b2bd0c7e93"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">ä¸ºReactåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªç®€å•çš„ExpressæœåŠ¡å™¨(Node.js)</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">å…³äºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ExpressæœåŠ¡å™¨(Node.js)ã€å°†å…¶è¿æ¥åˆ°Reactåº”ç”¨ç¨‹åºä»¥åŠè§£å†³é”™è¯¯çš„æ•™ç¨‹â€¦</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nl l"><div class="nm l nn no np nl nq km nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/use-session-storage-to-persist-state-within-a-react-component-206867ef2269"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">ä½¿ç”¨ä¼šè¯å­˜å‚¨æ¥ä¿æŒReactç»„ä»¶ä¸­çš„çŠ¶æ€</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">å½“é¡µé¢ä¼šè¯ç»“æŸæ—¶ï¼ŒsessionStorageä¸­çš„æ•°æ®å°†è¢«æ¸…é™¤ã€‚</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nl l"><div class="nr l nn no np nl nq km nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://medium.com/geekculture/hide-and-replace-sticky-element-on-scrolling-in-a-react-way-8bc3f04e2a81" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">ä»¥ååº”æ–¹å¼éšè—å’Œæ›¿æ¢æ»šåŠ¨æ—¶çš„ç²˜æ€§å…ƒç´ </h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">â€”æ£˜æ‰‹ä½†æœ‰è¶£ğŸ¡</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">medium.com</p></div></div><div class="nl l"><div class="ns l nn no np nl nq km nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://enlear.academy/create-responsive-iframe-embed-in-a-react-way-f52075bf3b04" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">åˆ›å»ºä»¥ååº”æ–¹å¼åµŒå…¥çš„å“åº”iframe</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">â€”ä»¤äººæƒŠè®¶çš„æ˜¯ï¼ŒYouTubeæ²¡æœ‰ç›¸åº”çš„åµŒå…¥ä»£ç ğŸ¦„ï¼Œæˆ‘ä»¬æ¥ç©csså§â€¦</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">enlear .å­¦é™¢</p></div></div><div class="nl l"><div class="nt l nn no np nl nq km nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a rel="noopener  ugc nofollow" target="_blank" href="/create-a-simple-react-custom-hook-fc733d7b977a"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactè‡ªå®šä¹‰æŒ‚é’©</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">å…³äºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactè‡ªå®šä¹‰é’©å­çš„æ•™ç¨‹</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nl l"><div class="nu l nn no np nl nq km nc"/></div></div></a></div></div><div class="ab cl ks kt hr ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ig ih ii ij ik"><p id="4970" class="pw-post-body-paragraph kz la in lb b lc ld jo le lf lg jr lh li lj lk ll lm ln lo lp lq lr ls lt lu ig bi translated"><em class="lv">æ›´å¤šå†…å®¹è¯·çœ‹</em><a class="ae lw" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lv">plain English . io</em></strong></a><em class="lv">ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„</em> <a class="ae lw" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="lv">å…è´¹å‘¨æŠ¥</em> </strong> </a> <em class="lv">ã€‚å…³æ³¨æˆ‘ä»¬å…³äº</em><a class="ae lw" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lv">Twitter</em></strong></a><a class="ae lw" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lv">LinkedIn</em></strong></a><em class="lv"/><a class="ae lw" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lv">YouTube</em></strong></a><em class="lv"/><a class="ae lw" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="lv">ä¸å’Œ</em> </strong> </a> <em class="lv">ã€‚å¯¹å¢é•¿é»‘å®¢æ„Ÿå…´è¶£ï¼Ÿæ£€æŸ¥</em> <a class="ae lw" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="lv">ç”µè·¯</em> </strong> </a> <em class="lv">ã€‚</em></p></div></div>    
</body>
</html>