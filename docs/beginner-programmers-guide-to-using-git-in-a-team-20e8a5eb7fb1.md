# 在团队中使用 Git 的初级程序员指南

> 原文：<https://javascript.plainenglish.io/beginner-programmers-guide-to-using-git-in-a-team-20e8a5eb7fb1?source=collection_archive---------11----------------------->

## Git 是最常见的版本控制系统，用于管理各种规模团队的代码库。

![](img/0351dd3c3eb40836571da69656e3c81d.png)

Illustration by the author

当你开始编程时，你会立刻听到你应该学习 Git。这是个好建议。Git 是我们行业中的一个基本工具——它是最常见的版本控制系统，用于管理各种规模团队的代码库。

作为一个学习编程的人，您将只体验 Git 的一部分:针对单独开发人员的版本控制。当您独自参与项目时，您的日常 Git 使用可以限制在:

*   `git add`，
*   `git commit`，
*   `git push`

您可以尝试不同的分支，但这是最重要的。一旦开始在团队中工作，使用 Git 的哪些方面会让你感到惊讶？

# 忙音遥控器

首先也是最重要的:远程存储库源将忙于其他开发人员的更改。你不仅要推动自己的改变，还需要获得他人的改变。这将需要您使用其他 Git 命令，例如:

*   `git fetch` —从远程存储库中获取更改，*而不*更改本地工作副本
*   `git rebase`—从开始的地方移动整个分支，并在另一个提交的基础上重新应用更改。这改变了分支历史，并且在冲突的情况下会引起麻烦，但是它允许保持历史的线性。
*   `git merge` —合并两个分支。这样做保持了分支历史的完整性并产生了较少的冲突，但是它产生了一个更复杂的 git 树。

另一个经常使用的命令是`git pull`。根据您的设置，它只是以下各项的组合:

*   `git fetch`和`git merge`—缺省值，或者
*   `git fetch`和`git rebase`—可以通过设置切换到其中一个:

```
$ git config --global pull.rebase true
```

# 迷路了？在这里叙旧

如果你对我上面提到的命令有点不知所措，你可以赶上[LearnGitBranching](https://learngitbranching.js.org)——这是一个很棒的免费课程，它用视觉上令人愉快的界面解释这些命令:

![](img/f46900d2cc97d2987f14239f4e424851.png)

# 分支

分支是 Git 中的基本概念之一。在技术层面上，它们只是对提交的引用，但是团队使用它们来组织存储库中的变更。一种常见的模式是拥有一个主要分支——通常称为 main、master 或 development——这或多或少是稳定的，新的工作是在分支中完成的。

多亏了分支，您可以让多个人并行处理不同的特性。随着每个特性变得稳定，它们被合并到主分支中，项目向前推进。

你可以在一个独奏项目中使用分支，但通常情况下，没有太多的必要。最多，您可以使用分支对代码进行一些实验，并保留更改以便以后恢复。

# 代码审查

单独的分支对于进行代码评审非常有用。在组织良好的团队中，除了变更的作者之外，每个变更都会被其他开发人员阅读。这样做的目标是:

*   在错误合并到稳定分支之前捕获它们
*   让团队中的另一个人了解最新的变化
*   让开发人员讨论实现的技术细节
*   让新同事跟上团队的指导方针

作为一名新的开发人员，代码评审是一个加速学习的好方法。对于所有级别的人来说，这是保持代码一致并确保人们在需要时可以共享工作负载的好方法。

代码审查通常是 Git 托管服务提供的一个特性。根据 git 托管提供者的不同，这个过程可能被称为:

*   *pull requests*—在 GitHub 和其他许多网站上通常缩写为 PRs，
*   *合并请求* —或 MRs，在 GitLab 上

# 冲突

当你让很多人更改同一个代码库时，会有一些 Git 无法自动解决的更改。在这些情况下，一些开发人员将需要在其中一个分支中手动集成变更。当你在团队中工作时，在某些时候你需要学习如何自己做。

有一些技巧可以最大限度地降低冲突的风险:

*   使用工具[自动应用代码样式](https://how-to.dev/how-to-make-your-code-prettier)，
*   快速合并分支
*   尽量避免与其他同事同时进行重叠的更改

# 其他团队成员关心什么

当您第一次加入一个已建立的编程团队时，您可能会惊讶于其他人对 Git 存储库中发生的事情的关注程度。这一开始可能会令人困惑，但是有一个很好的理由来关心 Git 历史看起来如何。在编程生涯中，你经常需要调查几年前你从未谋面的人对代码库所做的更改。因此，在这些情况下，拥有一个清晰的 Git 历史会有很大的不同。

# 提交消息

一个 [lot](https://www.conventionalcommits.org/en/v1.0.0/) [已经被](https://gist.github.com/joshbuchea/6f47e86d2510bce28f8e7f42ae84c716) [写成](https://cbea.ms/git-commit/)关于 Git 消息的模式。您甚至拥有自动验证提交消息的项目。如果说人们关心信息是如何书写的，这是一种保守的说法。

例如，我在工作中提供了关于以下方面的反馈:

*   邮件第一行的长度
*   使提交消息跨越多行的可能性
*   将正在处理的消息编辑成一个一致的提交消息，同时将多个提交压缩成一个
*   动词应该出现在消息中的位置
*   消息中使用的语法“人称”(例如，第一人称对第三人称)和时态

当第一次发生在你身上时，所有这些可能会有点令人震惊。

# 文件末尾的新行

Unix 有一个以新行结束文本文件的惯例——当像`cat`这样的工具一个接一个地显示许多文件时，这个惯例很好。大多数文本编辑器不显示这个换行符，但是它们把它保存在文件中。如果您的编辑器删除了这一行，Git 会将其识别为更改，并将更改显示为:

```
+++ b/hello
@@ -0,0 +1 @@
+Hello
\ No newline at end of file
```

如果您将它添加到存储库中，很可能有人会要求您在那里添加新行；并更改编辑器的配置。

# 在一次提交中混合不相关的更改

好的提交是原子提交:包含与项目中应该发生的变更相关的所有代码变更的提交，除此之外别无其他。因此，举例来说，混合一些不相关的变化(固定登录逻辑和按钮的颜色)将会破坏这个规则。

为什么重要？如果您需要恢复某些更改，您不会希望进行不必要的恢复。因此，在我们的示例中，您不需要仅仅因为登录逻辑必须返回到之前的位置就恢复按钮的颜色。

在团队环境中，通常是更资深的人在做恢复工作——他们会坚持让年轻的人以一种必要的方式来做清理工作。

另一个常见的诱惑是将代码风格的变化与逻辑中有意义的变化混合在一起。这可能会导致上面讨论的问题，而且很可能会导致冲突。

# 你的树枝看起来怎么样

对您的变更进行代码审查的人可能不知道您在做什么以及为什么做。让他们跟上进度的最简单的方法是让你的分支讲述一个故事——例如，用这样的消息进行多次提交:

*   做一些重构的准备工作
*   解决逻辑中的一个小问题
*   实现逻辑中的主要变化
*   修复相关的样式问题

有了分支历史，理解每一个变更的原因就变得很容易了。

# 分支是如何命名的

有些团队有分支命名模式，你需要遵循。我在项目中看到的事情:

*   `<ticket-reference>`
*   `<name>/<ticket-reference>`
*   `[feature|bugfix|doc]/[description]`

如果你有一个有很多人参与的项目，并且这个项目持续了很多年，那么这些东西会很有帮助。

# 保守秘密

你不应该公布你的密码或任何其他类型的秘密。如果您将 AWS 密钥、主机密码、ssh 密钥或任何其他东西添加到存储库中，并将其推出，那么您应该假设这个秘密已经泄露，并且应该重新创建它。在私人项目中，这是一个令人头痛的问题，但是在公司中，这可能既危险又昂贵——通常有许多集成依赖于一个给定的秘密，并且它并不总是被记录下来。

仅仅从存储库中删除值，或者甚至是它的历史是不够的——从安全性的角度来看是不够的。

# 阻止本地配置

没有必要让我们都看到你的代码编辑器的本地设置，你的操作系统创建的临时文件，或者任何其他与项目无关的东西。您应该创建`.gitignore`文件，让这些东西远离存储库。我在[的上一篇文章](https://how-to.dev/how-to-set-up-gitignore-for-your-javascript-project)中提到过。

# Git 工作流

Git 是一个强大的工具，它为您在项目中的使用提供了大量的选项。为了将所有这些可能性组织起来，有许多 Git 工作流——在团队中如何使用分支的方法。在本文的[中，您可以找到对其中一些方法的很好的总结。](https://www.atlassian.com/git/tutorials/comparing-workflows)

一些开发人员对工作流有强烈的看法或偏好。作为一个初学者，或者仅仅是一个更实际的开发人员，你不必太关心他们——只需使用你的团队的工作流作为应该如何做事情的指南。

# 摘要

Git 是一个解决技术问题的编程工具。然而，一旦你开始在一个团队中工作，它就会呈现出一个社会的方面。当你开始和其他人一起使用 Git 时，什么让你感到惊讶？

*最初发布于*[*https://how-to . dev*](https://how-to.dev/beginner-programmers-guide-to-using-git-in-a-team)*。*

*更多内容请看*[***plain English . io***](https://plainenglish.io/)*。报名参加我们的* [***免费周报***](http://newsletter.plainenglish.io/) *。关注我们关于*[***Twitter***](https://twitter.com/inPlainEngHQ)[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*[***YouTube***](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*[***不和***](https://discord.gg/GtDtUAvyhW) *。对增长黑客感兴趣？检查* [***电路***](https://circuit.ooo/) *。***