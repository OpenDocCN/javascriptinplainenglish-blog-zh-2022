# é¢å‘åˆå­¦è€…çš„ JavaScript é«˜é˜¶å‡½æ•°ç®€ä»‹

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/an-introduction-to-higher-order-functions-in-javascript-for-beginners-100dc6e148a?source=collection_archive---------5----------------------->

## é«˜é˜¶å‡½æ•°æ˜¯ JavaScript ä¸­å¹¿æ³›ä½¿ç”¨çš„å‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µã€‚è®©æˆ‘ä»¬äº†è§£å®ƒä»¬æ˜¯ä»€ä¹ˆåŠå…¶å¥½å¤„ã€‚

![](img/3775da9fe3c1b0e97d2fe9bb5f0c23a2.png)

# JavaScript å‡½æ•°

å‡½æ•°æ˜¯è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼ŒJavaScript ä¹Ÿä¸ä¾‹å¤–ã€‚åœ¨ JavaScript ä¸­ï¼Œ`functions`æ˜¯ä¸€ç­‰å…¬æ°‘ã€‚æ‚¨åˆ›å»ºå®ƒä»¬ï¼Œå°†å®ƒä»¬ä½œä¸ºå€¼åˆ†é…ï¼Œå°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œè¿˜å°†å®ƒä»¬ä½œä¸ºå‡½æ•°çš„å€¼è¿”å›ã€‚

è¿™äº›çµæ´»æ€§æœ‰åŠ©äºä»£ç çš„å¯é‡ç”¨æ€§ã€å¹²å‡€çš„ä»£ç å’Œå¯ç»„åˆæ€§ã€‚ä»Šå¤©æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨ JavaScript ä¸­å……åˆ†åˆ©ç”¨å‡½æ•°ã€‚

å¦‚æœæ‚¨ä¹Ÿæƒ³ä»è§†é¢‘å†…å®¹ä¸­å­¦ä¹ ï¼Œæœ¬æ–‡ä¹Ÿå¯ä½œä¸ºè§†é¢‘æ•™ç¨‹åœ¨æ­¤å¤„æä¾›:ğŸ™‚

*ä¸è¦å¿˜è®°* [*è®¢é˜…*](https://www.youtube.com/tapasadhikary?sub_confirmation=1) *è·å–æœªæ¥å†…å®¹ã€‚*

# ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿ

`Higher-Order Function`æ˜¯ä¸€ä¸ªå¸¸è§„å‡½æ•°ï¼Œå®ƒå°†ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”/æˆ–è€…ä»ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ä½œä¸ºå€¼ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä»¥å‡½æ•°ä¸ºå‚æ•°çš„å‡½æ•°ç¤ºä¾‹ã€‚

```
// Define a function that takes a function as an argument.
function getCapture(camera) {
  // Invoke the passed function
  camera();
}// Invoke the function by passing a function as an argument
getCapture(function(){
  console.log('Canon');
});
```

ç°åœ¨è®©æˆ‘ä»¬å–å¦ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚

```
// Define a function that returns a function
function returnFunc() {
  return function() {
    console.log('Hi');
  }
}// Take the returned function in a variable.
const fn = returnFunc();
// Now invoke the returned function.
fn(); // logs 'Hi' in the console// Alternatively - A bit odd syntax but good to know
returnFunc()(); // logs 'Hi' in the console
```

ä»¥ä¸Šä¸¤ä¸ªä¾‹å­éƒ½æ˜¯é«˜é˜¶å‡½æ•°çš„ä¾‹å­ã€‚å‡½æ•°`getCapture()`ã€`returnFunc()`ä¸ºé«˜é˜¶å‡½æ•°ã€‚ä»–ä»¬è¦ä¹ˆæ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¦ä¹ˆè¿”å›å‡½æ•°ã€‚

è¯·æ³¨æ„,`Higher-Order function`ä¸æ˜¯å¿…é¡»åŒæ—¶æ¥å—ä¸€ä¸ªå‚æ•°å’Œè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚æ‰§è¡Œä»»ä¸€æ“ä½œéƒ½ä¼šä½¿è¯¥å‡½æ•°æˆä¸ºé«˜é˜¶å‡½æ•°ã€‚

# ä¸ºä»€ä¹ˆä½¿ç”¨é«˜é˜¶å‡½æ•°ï¼Ÿå¦‚ä½•åˆ›å»ºé«˜é˜¶å‡½æ•°ï¼Ÿ

æ‰€ä»¥ï¼Œæˆ‘ä»¬çŸ¥é“äº†é«˜é˜¶å‡½æ•°æ˜¯ä»€ä¹ˆã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç†è§£ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä»¥åŠå¦‚ä½•åˆ›å»ºå®ƒï¼Ÿç”¨å‡ ä¸ªç®€å•çš„ä¾‹å­æ€ä¹ˆæ ·ï¼Ÿ

## é—®é¢˜:ä»£ç æ±¡æŸ“å’Œæ°”å‘³

è®©æˆ‘ä»¬æ¥çœ‹ä¸€ç»„æ•°å­—:

```
const data = [12, 3, 50];
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç¼–å†™ä»£ç ï¼Œå°†æ¯ä¸ªæ•°ç»„å…ƒç´ å¢åŠ ä¸€ä¸ªæ•°å­—ï¼Œå¹¶è¿”å›ä¿®æ”¹åçš„æ•°ç»„ã€‚ä½ å¯ä»¥è€ƒè™‘æŠŠå®ƒå†™æˆä¸€ä¸ªå‡½æ•°ã€‚

```
function incrArr(arr, n) {
  let result = [];// Iterate through each elements and
  // add the number
  for (const elem of arr) {
    result.push(elem + n);
  }return result;
}
```

æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·åš:

```
incrArr(data, 2);
```

è¾“å‡ºå¦‚ä¸‹:

```
[14, 5, 52]
```

åˆ°ç›®å‰ä¸ºæ­¢å¾ˆå¥½ã€‚ç°åœ¨ï¼Œå¦‚æœæˆ‘è¦æ±‚ä½ å†™ä»£ç å°†`data`æ•°ç»„çš„æ¯ä¸ªå…ƒç´ å‡å°‘ä¸€ä¸ªæ•°å­—ï¼Œå¹¶è¿”å›ä¿®æ”¹åçš„æ•°ç»„ï¼Ÿæ‚¨å¯ä»¥è€ƒè™‘ç”¨å‡ ç§ç®€å•çš„æ–¹æ³•æ¥è§£å†³å®ƒã€‚é¦–å…ˆï¼Œæ‚¨å¯ä»¥ç¼–å†™å¦‚ä¸‹å‡½æ•°:

```
function decrArr(arr, n) {
  let result = [];for (const elem of arr) {
    result.push(elem - n);
  }return result;
}
```

ä½†è¿™æ˜¯å¤§é‡çš„ä»£ç é‡å¤ã€‚æˆ‘ä»¬å·²ç»åœ¨`decrArr()`å‡½æ•°ä¸­å†™å…¥äº†`incrArr()`å‡½æ•°çš„å‡ ä¹æ¯ä¸€è¡Œã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹è¿™é‡Œçš„å¯é‡ç”¨æ€§ã€‚

ç°åœ¨ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä¼˜åŒ–ä»£ç ï¼Œè®©ä¸€ä¸ªå‡½æ•°æœ‰æ¡ä»¶åœ°æ‰§è¡Œè¿™ä¸¤ç§æ“ä½œã€‚

```
function doOperations(arr, n, op) {
  let result = [];for (const elem of arr) {
    if (op === 'incr') {
      result.push(elem + n);  
    } else if (op === 'decr') {
      result.push(elem - n);
    }
  }return result;
}
```

æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬ä¾é ç¬¬ä¸‰ä¸ªå‚æ•°æ¥å†³å®šæ“ä½œæ˜¯å¢åŠ è¿˜æ˜¯å‡å°‘æ•°ç»„çš„ç¼–å·ã€‚ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœæˆ‘ç°åœ¨è®©ä½ æŠŠæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½ä¹˜ä»¥ä¸€ä¸ªæ•°ä¼šæ€ä¹ˆæ ·ï¼Ÿä½ å¯ä»¥è€ƒè™‘åœ¨`doOperations()`å‡½æ•°ä¸­å†å¢åŠ ä¸€ä¸ª`else-if`ã€‚ä½†è¿™å¹¶ä¸é…·ã€‚

å¯¹äºæ¯ä¸ªæ–°çš„æ“ä½œï¼Œæ‚¨éœ€è¦æ”¹å˜æ ¸å¿ƒåŠŸèƒ½çš„é€»è¾‘ã€‚å®ƒä½¿ä½ çš„åŠŸèƒ½å—åˆ°æ±¡æŸ“ï¼Œå¹¶ä¼šå¢åŠ `code smells`çš„å‡ ç‡ã€‚è®©æˆ‘ä»¬ç”¨`Higher-Order`å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

## è§£å†³æ–¹æ¡ˆ:é«˜é˜¶å‡½æ•°

é¦–å…ˆè¦åšçš„æ˜¯ä¸ºé€’å¢å’Œé€’å‡æ“ä½œåˆ›å»ºçº¯å‡½æ•°[ã€‚è¿™äº›å‡½æ•°åº”è¯¥ä¸€æ¬¡åªåšä¸€é¡¹å·¥ä½œã€‚](https://blog.greenroots.info/what-are-pure-functions-and-side-effects-in-javascript)

```
// Increment the number by another number
function incr(num, pad) {
  return num + pad;
}// Decrement the number by another number
function decr(num, pad) {
  return num - pad;
}
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç¼–å†™æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°çš„`Higher-Order function`ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼ é€’çš„å‡½æ•°å°†æ˜¯ä¸Šé¢å®šä¹‰çš„çº¯å‡½æ•°ä¹‹ä¸€ã€‚

```
function smartOperation(data, operation, pad) {
  // Check is the passed value(pad) is not a number.
  // If so, handle it by assigning to the zero value.
  pad = isNaN(pad) ? 0 : pad;let result = [];
  for (const elem of data) {
    result.push(operation(elem, pad));
  }
  return result;
}
```

è¯·ä»”ç»†è§‚å¯Ÿä¸Šè¿°åŠŸèƒ½ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦å¤„ç†çš„æ•°ç»„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ“ä½œæœ¬èº«ã€‚è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä¼ é€’å‡½æ•°ã€‚æœ€åä¸€ä¸ªå‚æ•°æ˜¯è¦é€’å¢æˆ–é€’å‡çš„æ•°å­—ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬è°ƒç”¨å‡½æ•°å°†æ•°ç»„å…ƒç´ å¢åŠ  3ã€‚

```
const data = [12, 3, 50];
const result = smartOperation(data, incr, 3);
console.log(result);
```

è¾“å‡ºå¦‚ä¸‹:

```
[15, 6, 53]
```

ç°åœ¨è¯•è¯•å‡é‡æ“ä½œæ€ä¹ˆæ ·ï¼Ÿ

```
const data = [12, 3, 50];
const result = smartOperation(data, decr, 2);
console.log(result);
```

è¾“å‡º:

```
[10, 1, 48]
```

æ‚¨æ˜¯å¦æ³¨æ„åˆ°ï¼Œè¿™æ¬¡æˆ‘ä»¬æ²¡æœ‰å¯¹å‡½æ•°è¿›è¡Œä»»ä½•æ›´æ”¹æ¥é€‚åº”æ–°çš„æ“ä½œï¼Ÿè¿™å°±æ˜¯ä½¿ç”¨é«˜é˜¶å‡½æ•°çš„ç¾å¦™ä¹‹å¤„ã€‚ä½ çš„ä»£ç æ˜¯æ— å‘³æ— æ±¡æŸ“çš„ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬ç°åœ¨å¦‚ä½•é€‚åº”ä¹˜æ³•è¿ç®—å‘¢ï¼Ÿç®€å•ï¼Œè®©æˆ‘çœ‹çœ‹ã€‚

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œä¹˜æ³•ã€‚

```
function mul(num, pad) {
  return num * pad;
}
```

æ¥ä¸‹æ¥ï¼Œé€šè¿‡ä¼ é€’ä¹˜æ³•è¿ç®—å‡½æ•°`mul()`è°ƒç”¨é«˜é˜¶å‡½æ•°ã€‚

```
const data = [12, 3, 50];
const result = smartOperation(data, mul, 3);
console.log(result);
```

è¾“å‡º:

```
[36, 9, 150]
```

å¤ªä¸å¯æ€è®®äº†ã€‚`Higher-Order functions`ä¸‡å²ã€‚

# JavaScript ä¸­å†…ç½®çš„é«˜é˜¶å‡½æ•°

åœ¨ JavaScript ä¸­ï¼Œæœ‰å¤§é‡é«˜é˜¶å‡½æ•°çš„ç”¨æ³•ã€‚ä½ å¯èƒ½åœ¨ä¸çŸ¥é“å®ƒä»¬æ˜¯é«˜é˜¶å‡½æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨å®ƒä»¬ã€‚

ä¾‹å¦‚ï¼Œé‡‡ç”¨æµè¡Œçš„æ•°ç»„æ–¹æ³•ï¼Œå¦‚ã€`map()`ã€`filter()`ã€`reduce()`ã€`find()`ç­‰ç­‰ã€‚æ‰€æœ‰è¿™äº›å‡½æ•°éƒ½å°†å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°åº”ç”¨äºæ•°ç»„çš„å…ƒç´ ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ª`filter()`æ–¹æ³•çš„ä¾‹å­ï¼Œå®ƒæ ¹æ®æˆ‘ä»¬ä½œä¸ºå‡½æ•°å‚æ•°çš„ä¸€éƒ¨åˆ†ä¼ é€’ç»™å®ƒçš„æ¡ä»¶è¿‡æ»¤æ•°ç»„å…ƒç´ ã€‚

```
const data = [1, 23, 45, 67, 8, 90, 43];const result = data.filter(function(num){
    return (num % 2 === 0);
});console.log(result); // [8, 90]
```

# é«˜é˜¶å‡½æ•°ä¸å›è°ƒå‡½æ•°

é«˜é˜¶å‡½æ•°å’Œå›è°ƒå‡½æ•°ä¹‹é—´æ€»æ˜¯æœ‰äº›æ··æ·†ã€‚é«˜é˜¶å‡½æ•°(HoF)å’Œå›è°ƒå‡½æ•°(CB)æ˜¯ä¸åŒçš„ã€‚

*   é«˜é˜¶å‡½æ•°(HoF):ä»¥å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºè‡ªå˜é‡å’Œ/æˆ–ä»¥å€¼çš„å½¢å¼è¿”å›ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ã€‚
*   å›è°ƒå‡½æ•°(CB):ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ã€‚

# ç»“è®º

æ€»ä¹‹ï¼Œ`Higher-Order function`æ˜¯ JavaScript è¯­è¨€ä¸­çš„ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æœºä¼šåœ¨æˆ‘ä»¬çš„ç¼–ç å®è·µä¸­å°½å¯èƒ½å¤šåœ°åˆ©ç”¨å®ƒã€‚é«˜é˜¶å‡½æ•°ä¸ pure å‡½æ•°çš„ç»“åˆå°†æœ‰åŠ©äºä¿æŒä»£ç çš„æ•´æ´å’Œæ— å‰¯ä½œç”¨ã€‚

æˆ‘å°†ç•™ç»™ä½ è¿™ç¯‡å…³äº JavaScript ä¸­çš„`Pure Function`å’Œ`Side Effects`çš„æ–‡ç« ã€‚æˆ‘å¸Œæœ›ä½ ä¹Ÿå–œæ¬¢é˜…è¯»å®ƒã€‚

[](https://blog.greenroots.info/what-are-pure-functions-and-side-effects-in-javascript) [## JavaScript ä¸­æœ‰å“ªäº›çº¯å‡½æ•°å’Œå‰¯ä½œç”¨ï¼Ÿ

### å‡½æ•°å…è®¸æˆ‘ä»¬é€»è¾‘åœ°æ”¾ç½®ä»£ç æ¥æ‰§è¡Œä»»åŠ¡ã€‚å‡½æ•°æ˜¯ JavaScript ä¸­çš„ä¸€ç­‰å…¬æ°‘â€¦

blog.greenroots.info](https://blog.greenroots.info/what-are-pure-functions-and-side-effects-in-javascript) 

æ‚¨å¯ä»¥åœ¨è¿™ä¸ª stackblitz é¡¹ç›®ä¸­æ‰¾åˆ°æœ¬æ–‡ä¸­ä½¿ç”¨çš„æ‰€æœ‰æºä»£ç ã€‚

æˆ‘å¸Œæœ›ä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¾ˆæœ‰è§åœ°ã€‚æ„Ÿè°¢é˜…è¯»ã€‚è¯·ç‚¹èµ/åˆ†äº«ï¼Œè¿™æ ·å…¶ä»–äººä¹Ÿèƒ½æ”¶åˆ°ã€‚

*æˆ‘ä»¬æ¥è¿çº¿ã€‚æˆ‘ä¹Ÿåœ¨è¿™äº›å¹³å°ä¸Šåˆ†äº«æˆ‘åœ¨ JavaScriptã€ç½‘ç»œå¼€å‘ã€èŒä¸šå’Œå†…å®¹æ–¹é¢çš„å­¦ä¹ ï¼Œ*

*   [*åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘*](https://twitter.com/tapasadhikary)
*   [*è®¢é˜…æˆ‘çš„ YouTube é¢‘é“*](https://www.youtube.com/tapasadhikary?sub_confirmation=1)
*   [*GitHub ä¸Šçš„ä¾§é¡¹ç›®*](https://github.com/atapas)

*æœ€åˆå‘å¸ƒäº*[*https://blog . greenroots . info*](https://blog.greenroots.info/higher-order-functions-in-javascript)*ã€‚*

*æ›´å¤šå†…å®¹è¯·çœ‹*[***plain English . io***](http://plainenglish.io/)*ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„* [***å…è´¹æ¯å‘¨ç®€è®¯***](http://newsletter.plainenglish.io/) *ã€‚åœ¨æˆ‘ä»¬çš„* [***ç¤¾åŒºã€ä¸å’Œè°ã€‘***](https://discord.gg/GtDtUAvyhW) *è·å¾—ç‹¬å®¶è·å¾—å†™ä½œæœºä¼šå’Œå»ºè®®ã€‚*