<html>
<head>
<title>How To Build a Simple HTML Highlighter with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript构建一个简单的HTML荧光笔</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/building-a-simple-html-highlighter-with-javascript-8703b7836147?source=collection_archive---------6-----------------------#2022-07-01">https://javascript.plainenglish.io/building-a-simple-html-highlighter-with-javascript-8703b7836147?source=collection_archive---------6-----------------------#2022-07-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/d7241d8dc0603673f86f6bc8d8b0e5f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*klIBgvJraUk79T1KwLtmYQ.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Image by Estée Janssens on Unsplash</figcaption></figure><p id="12a1" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在我今天的文章中，我将向您展示如何在字符串中搜索子字符串，以及如何通过搜索字符串的一个或多个匹配项，然后用HTML标记替换它来构建一个简单的荧光笔。</p><p id="183d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我将按如下方式分解流程:</p><ul class=""><li id="2203" class="kx ky in kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated">使用match()方法</li><li id="8171" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">构造正则表达式</li><li id="cb83" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">执行区分大小写的搜索</li><li id="dbd8" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">执行不区分大小写的搜索</li></ul><h1 id="fa4c" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">使用match()方法</h1><p id="bd8f" class="pw-post-body-paragraph jz ka in kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated"><code class="fe mo mp mq mr b">match()</code>方法将字符串与正则表达式进行匹配，然后返回匹配的<code class="fe mo mp mq mr b">array</code>，如果没有找到匹配的，则返回<code class="fe mo mp mq mr b">null</code>。</p><p id="4100" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果您提供一个字符串作为搜索值，它将被转换成一个正则表达式。</p><p id="b4b2" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这里有一个使用这种方法的快速示例。</p><p id="3ab4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我有一个字符串，我想在其中搜索我名字的出现。以下是我将如何使用<code class="fe mo mp mq mr b">match()</code>方法来实现这一点。</p><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="7210" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是结果</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi my"><img src="../Images/ea5d6100abc6743a2c0962b896806257.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/0*DXpjRKuGTt2ONrKT.png"/></div></figure><p id="e62d" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">使用上面的方法，您将对字符串执行区分大小写的搜索。如果我们想搜索“西蒙”(大写)，这将是结果。</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mz"><img src="../Images/f07532be64855731b5e1b696e111ae5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jPqhHxpf83WatVTf.png"/></div></div></figure><p id="f537" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">无效！因为我们执行了区分大小写的搜索，但没有找到匹配项。</p><p id="c8fc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">我们也可以传入自定义正则表达式，而不是传入字符串作为搜索值。</p><blockquote class="na nb nc"><p id="e0d1" class="jz ka nd kb b kc kd ke kf kg kh ki kj ne kl km kn nf kp kq kr ng kt ku kv kw ig bi translated"><em class="in">请注意，使用正则表达式时，不必将它们作为字符串提供。这是因为JavaScript引擎本身就能识别正则表达式。</em></p></blockquote><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="82cc" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是结果</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/b1ed9e78fbb8f3e39e4e550a404b1171.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/0*CeHZqQt9I93iyMn2.png"/></div></figure><h1 id="7ea4" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">构造正则表达式</h1><p id="6f87" class="pw-post-body-paragraph jz ka in kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">让我们做一些不同的事情。这一次，我将使用搜索词构造一个正则表达式，并将其作为参数传递给match()方法。</p><p id="d6c3" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">为了构造一个正则表达式，我们需要使用RegExp构造函数，并传入字符串作为第一个参数，任何修饰符作为第二个参数。</p><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="ad1e" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是结果</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/dedc8fe03ebc9ec9f7f2cd6884ebd487.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/0*9WRvUaFv_MxALxp9.png"/></div></figure><h1 id="4ede" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">区分大小写且不区分大小写的搜索</h1><p id="43de" class="pw-post-body-paragraph jz ka in kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">在不提供<code class="fe mo mp mq mr b">i</code>修饰符的情况下，正则表达式执行区分大小写的搜索。所以这意味着使用修饰符<code class="fe mo mp mq mr b">i</code>将使搜索不区分大小写。</p><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="69a4" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">所以我搜索了“Simon”(大写)，它只返回了我需要的结果。</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/ed92268a580f733eb5b5600abab65072.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/0*qZmmNUZ7kSUmI-1u.png"/></div></figure><h1 id="4f6a" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">让我们构建一个小函数</h1><p id="58da" class="pw-post-body-paragraph jz ka in kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">为了确保您了解如何在字符串中搜索子字符串，我将构建一个接受两个参数的函数。</p><ul class=""><li id="e0c1" class="kx ky in kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated">第一个参数是搜索词</li><li id="cebf" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">第二个参数是替换</li></ul><p id="a1db" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">该函数将执行不区分大小写的搜索，并使用replace all()方法替换所有出现的搜索项。</p><p id="2069" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">在使用<strong class="kb io"> replaceAll() </strong>方法时，我们需要向<em class="nd">正则表达式构造函数</em>函数<code class="fe mo mp mq mr b">g</code>添加另一个修饰符，这意味着正则表达式在找到搜索词的第一个匹配项时不会停止，而是会继续找出其他匹配项，直到到达字符串的末尾。</p><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="3655" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是结果</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/405fe314487b63c030a687b0c24972f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/0*YTUM3iZIsFd_h29R.png"/></div></figure><h1 id="e4e5" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">最终功能</h1><p id="846e" class="pw-post-body-paragraph jz ka in kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">了解了基础知识之后，我们现在可以构建一个函数，在网页中搜索某个单词，如果找到，就高亮显示该单词。</p><figure class="ms mt mu mv gt jo"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="2212" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">所以我有一个测试网页</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/e08322e812282499edab46a347a3bf2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/0*WfjMSzH3568cHN68.png"/></div></figure><p id="3b56" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">这是当我调用该函数来突出显示“Simon”时，网页看起来的样子。</p><figure class="ms mt mu mv gt jo gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/435dc25805f02132d22df65d80d6ebd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/0*M0qORK0_YhW5jIZJ.png"/></div></figure><h1 id="6d4c" class="ll lm in bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">最后的想法</h1><p id="3e3e" class="pw-post-body-paragraph jz ka in kb b kc mj ke kf kg mk ki kj kk ml km kn ko mm kq kr ks mn ku kv kw ig bi translated">以下是我今天文章的摘录。</p><ul class=""><li id="1e4f" class="kx ky in kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated">您可以向match()方法传递一个正则表达式，并根据您想要实现的结果提供任何修饰符。</li><li id="71f3" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">如果您希望查找搜索词的多次出现，请使用<code class="fe mo mp mq mr b">g</code>修饰符。</li><li id="ee49" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">如果您希望执行不区分大小写的搜索，请使用<code class="fe mo mp mq mr b">i</code>修饰符。</li><li id="4f4c" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">使用<code class="fe mo mp mq mr b">replaceAll()</code>方法时，必须使用<code class="fe mo mp mq mr b">g</code>正则表达式修饰符</li></ul><p id="687a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">如果你想制作一个更大的HTML荧光笔，这里有一些你需要的提示。</p><ul class=""><li id="abab" class="kx ky in kb b kc kd kg kh kk kz ko la ks lb kw lc ld le lf bi translated">您需要转义特殊字符</li><li id="c428" class="kx ky in kb b kc lg kg lh kk li ko lj ks lk kw lc ld le lf bi translated">你需要检查换行</li></ul><p id="7e1a" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">你今天已经到了我文章的结尾。</p><p id="1e7c" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated">谢谢你。</p><p id="612f" class="pw-post-body-paragraph jz ka in kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ig bi translated"><em class="nd">更多内容看</em> <a class="ae nn" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> <em class="nd">说白了。报名参加我们的</em> <a class="ae nn" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。关注我们</em> <a class="ae nn" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> <em class="nd">推特</em> </strong> </a> <em class="nd">和</em><a class="ae nn" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kb io"><em class="nd">LinkedIn</em></strong></a><em class="nd">。查看我们的</em> <a class="ae nn" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> <em class="nd">社区不和谐</em> </strong> </a> <em class="nd">加入我们的</em> <a class="ae nn" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kb io"> <em class="nd">人才集体</em> </strong> </a> <em class="nd">。</em></strong></a></p></div></div>    
</body>
</html>