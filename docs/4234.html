<html>
<head>
<title>4 Electron Features I Found Useful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我发现有用的4个电子特征</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-electron-features-i-found-useful-a425ffb48b6d?source=collection_archive---------5-----------------------#2022-11-11">https://javascript.plainenglish.io/4-electron-features-i-found-useful-a425ffb48b6d?source=collection_archive---------5-----------------------#2022-11-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1065" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">在使用电子JS时，我发现一些有用的电子特性列表</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/5dcec10defefff0348324931cf8e1b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XRykib6BFUtEUVdY"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://unsplash.com/@altumcode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">AltumCode</a> on <a class="ae ks" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dc50" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我一直在寻找一种工具或框架来帮助我开发跨平台的桌面应用程序。我想到的另一件事是，这个工具应该提供与硬件设备交互的方式。在那里我找到了电子，它满足了我的两个要求。</p><p id="81f8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">在这篇文章中，我将回顾一些我在使用电子时发现有用的特性。我希望你也会发现它们对你的发展有所帮助。我们最喜欢的代码编辑器Visual studio代码也有电子做后盾！</p><p id="c10e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">使用electron，我们可以创建在Windows、Mac和Linux上运行的跨平台应用程序。它将拥有自己的Chromium浏览器来呈现用户界面。我假设您对JavaScript、HTML和CSS有很好的了解，并且知道如何创建基本的电子应用程序。所以我就直接跳到特色了。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><ol class=""><li id="eab8" class="lw lx in kv b kw kx kz la lc ly lg lz lk ma lo mb mc md me bi translated"><strong class="kv io">将网页载入电子浏览器窗口。</strong></li></ol><p id="99ce" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以利用<code class="fe mf mg mh mi b">createWindow()</code>函数将网页加载到新的<code class="fe mf mg mh mi b">BrowserWindow </code>实例中。我们可以用默认的宽度和高度初始化窗口。当app准备好时，我们可以调用<code class="fe mf mg mh mi b">createWindow() </code>函数，因为我们可以利用<code class="fe mf mg mh mi b">app.whenReady().</code>一旦这个承诺被解决，它将调用创建窗口函数。</p><p id="f190" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><code class="fe mf mg mh mi b">app.whenReady().then(() =&gt; { createWindow()})</code></p><p id="b1d0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以使用<code class="fe mf mg mh mi b"><strong class="kv io">setFullScreen</strong></code>将浏览器窗口设置为<strong class="kv io">全屏</strong>。</p><pre class="kd ke kf kg gt mj mi mk ml aw mm bi"><span id="f0ce" class="mn mo in mi b gy mp mq l mr ms">const win = new BrowserWindow({ /* props */})<br/>win.<!-- -->setFullScreen(true);</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="64e2" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> 2。IPC —进程间通信</strong></p><p id="27d9" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">IPC在电子应用程序开发中起着重要的作用，因为它提供了主进程和呈现器进程之间的网关。</p><p id="40e7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可能会遇到这样的情况，我们必须根据来自电子主进程文件的响应将数据加载到网页中，或者我们需要根据用户与您的应用程序的交互来调用电子主进程中的任何子进程。这些情况可以通过使用IPC通道来处理。</p><p id="587a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">从渲染器与主进程通信(例如从您的。js或者。苗条的文件)</strong></p><p id="6257" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以使用<code class="fe mf mg mh mi b"><strong class="kv io">ipcRenderer.send </strong></code>发送目标为<code class="fe mf mg mh mi b"><strong class="kv io">ipcMain.on</strong></code>的消息</p><pre class="kd ke kf kg gt mj mi mk ml aw mm bi"><span id="85ba" class="mn mo in mi b gy mp mq l mr ms">ipcRenderer.send('function_name', arg)   //from renderer process</span><span id="3237" class="mn mo in mi b gy mt mq l mr ms"><br/>// inside main process<br/>ipcMain.on('function_name', (event, arg) =&gt; {<br/>console.log(arg)<br/>})</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="bf3c" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">您也可以使用<code class="fe mf mg mh mi b"><strong class="kv io">webContents.send</strong></code>调用渲染器进程中的函数</p><pre class="kd ke kf kg gt mj mi mk ml aw mm bi"><span id="959c" class="mn mo in mi b gy mp mq l mr ms">// Inside main process</span><span id="0567" class="mn mo in mi b gy mt mq l mr ms">const win = new BrowserWindow({ /* props */}) win.webContents.send('function_name'); </span><span id="6af9" class="mn mo in mi b gy mt mq l mr ms">// Inside renderer process for accepting the function</span><span id="64ce" class="mn mo in mi b gy mt mq l mr ms">ipcRenderer.on('function_name', () =&gt; {<br/> /* functional logic */<br/>})</span></pre></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="56c0" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> 3。从电子主窗口创建子窗口</strong></p><p id="f99b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">可能会遇到这样的情况，我们必须集成拥有自己UI的第三方库。我们可以从主窗口创建一个新窗口，并将UI加载到新窗口(子窗口)中。<br/>例如，如果我们正在集成支付API库，一旦用户验证完成，我们可以在新窗口中打开包含用户名和密码的支付表单。这样会给用户更好的UI体验。付款流程完成后，新窗口(子窗口)将关闭并返回主窗口。</p><pre class="kd ke kf kg gt mj mi mk ml aw mm bi"><span id="fa00" class="mn mo in mi b gy mp mq l mr ms">const childWin = {};<br/>childWin[WINDOW_ID] = new BrowserWindow({</span><span id="9680" class="mn mo in mi b gy mt mq l mr ms">//Props<br/>});</span></pre><p id="8b39" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我们可以通过使用电子版提供的<code class="fe mf mg mh mi b">ipcMain </code>和<code class="fe mf mg mh mi b">ipcRenderer </code>来完成renderer文件和main.js文件之间的通信。</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="8b50" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io"> 4。包装电子应用</strong></p><p id="89e8" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">我更喜欢用电子生成器来打包电子应用程序。电子生成器附带了许多其他功能，可以简化您的工作。</p><p id="a390" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">我试着创建一个包含安装文件的文件夹，这样在安装电子应用程序时，这个文件夹也会被执行，可执行文件也会被安装在客户端系统上。</strong>构建完成后，我面临着保存文件和访问它们的问题。我的想法是获取客户机上的文件夹路径，并使用cmd执行文件。我通过使用<code class="fe mf mg mh mi b">extraResources </code>属性解决了这个问题。感谢电子建造者。</p><p id="0433" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">通过使用<code class="fe mf mg mh mi b">extraResources, </code>,我可以保存一个包含可执行文件的文件夹，并通过cmd获得执行它们的路径。请按照以下步骤操作。</p><ol class=""><li id="ea90" class="lw lx in kv b kw kx kz la lc ly lg lz lk ma lo mb mc md me bi translated">在项目目录中创建一个与package.json相邻的文件夹，并将所有需要的文件保存在该文件夹中。</li><li id="7bce" class="lw lx in kv b kw mu kz mv lc mw lg mx lk my lo mb mc md me bi translated">在package.json. <br/>下面添加<code class="fe mf mg mh mi b">“build”: { “ extraResources ” : [ “ ./Folder_name/** ” ] }</code></li><li id="31f8" class="lw lx in kv b kw mu kz mv lc mw lg mx lk my lo mb mc md me bi translated">使用<code class="fe mf mg mh mi b">__dirname + '/../Folder_name'</code>获取文件夹的路径</li><li id="23e6" class="lw lx in kv b kw mu kz mv lc mw lg mx lk my lo mb mc md me bi translated">使用此路径通过cmd执行文件，cmd可以通过节点子进程运行。</li></ol></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="78fe" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这就是本文的全部内容。如果你觉得这篇文章有帮助，请不要忘记检查我的其他文章！</p></div><div class="ab cl lp lq hr lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ig ih ii ij ik"><p id="c6dd" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="mz">更多内容请看</em><a class="ae ks" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">plain English . io</em></strong></a><em class="mz">。报名参加我们的</em> <a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">免费周报</em> </strong> </a> <em class="mz">。关注我们关于</em><a class="ae ks" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">Twitter</em></strong></a><a class="ae ks" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">LinkedIn</em></strong></a><em class="mz"/><a class="ae ks" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">YouTube</em></strong></a><em class="mz"/><a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kv io"><em class="mz">不和</em> </strong> </a> <em class="mz">。对增长黑客感兴趣？检查</em> <a class="ae ks" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv io"> <em class="mz">电路</em> </strong> </a> <em class="mz">。</em></p></div></div>    
</body>
</html>