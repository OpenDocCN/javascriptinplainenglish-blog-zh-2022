# å¦‚ä½•åœ¨ JavaScript ä¸­ä½¿ç”¨ Spread è¿ç®—ç¬¦

> åŸæ–‡ï¼š<https://javascript.plainenglish.io/how-to-use-the-spread-operator-in-javascript-3bcd757e664d?source=collection_archive---------4----------------------->

![](img/f79f551412ea90ab8f158b8f28b81c02.png)

Photo by [insung yoon](https://unsplash.com/@insungyoon?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit) / [Unsplash](https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit)

JavaScript è¯­è¨€ä¸­æœ€æœ‰ç”¨çš„æ“ä½œç¬¦ä¹‹ä¸€ä¹Ÿæ˜¯æœ€éš¾ç†è§£çš„ã€‚JavaScript ä¸­çš„ spread æ“ä½œç¬¦è¡¨ç¤ºä¸º`...`ï¼Œå®ƒå…è®¸æ‚¨*å°±åœ°æ‰©å±•*æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ï¼Œå¹¶å¯ä»¥å¸®åŠ©æ‚¨ä»¥å‡ ç§ä¸åŒçš„æ–¹å¼ç¼–å†™æ›´å¹²å‡€ã€æ›´ç®€æ´çš„ä»£ç ã€‚

å°½ç®¡ä»æ¦‚å¿µä¸Šè®²ï¼Œspread è¿ç®—ç¬¦æ€»æ˜¯ç”¨äºâ€œæ‰©å±•â€æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ï¼Œä½†å®é™…ç”¨æ³•å’Œè¡Œä¸ºä¼šå› ä¸Šä¸‹æ–‡è€Œæœ‰æ‰€ä¸åŒã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹ JavaScript çš„ spread æ“ä½œç¬¦ï¼Œä»¥åŠå®ƒçš„è®¸å¤šä¸åŒç”¨æ³•ã€‚

# JavaScript ä¸­çš„ Spread è¿ç®—ç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ

ç®€å•åœ°è¯´ï¼ŒJavaScript ä¸­çš„ spread æ“ä½œç¬¦æ‰©å±•äº†æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ã€‚å®ƒå¯ä»¥ç”¨æ¥è§£å†³å‡ ä¸ªä¸åŒçš„é—®é¢˜:

*   ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼
*   å¤åˆ¶æ•°ç»„å’Œå¯¹è±¡
*   æ·»åŠ æˆ–åˆ é™¤å…ƒç´ 
*   ç”¨æ•°ç»„ä¸­çš„å‚æ•°è°ƒç”¨å‡½æ•°
*   ç”¨å¯å˜å‚æ•°å®šä¹‰å‡½æ•°ã€‚

è™½ç„¶è¿™äº›ç”¨ä¾‹åœ¨æ¦‚å¿µä¸Šéƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œä½†æ˜¯å¦‚ä½•åº”ç”¨ spread æ“ä½œç¬¦çš„å…·ä½“ç»†èŠ‚åœ¨ä¸åŒçš„ç”¨ä¾‹ä¹‹é—´æœ‰æ‰€ä¸åŒã€‚

æ³¨æ„ï¼Œspread æ“ä½œç¬¦å¤„ç†æ•°ç»„å’Œ*å¯è¿­ä»£*å¯¹è±¡ã€‚è™½ç„¶ JavaScript ä¸­å¯èƒ½é‡åˆ°çš„å¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯å¯è¿­ä»£çš„(åŒ…æ‹¬åƒ`value = {a: 1, b: 2, c: 3}`è¿™æ ·çš„å¯¹è±¡æ–‡å­—)ï¼Œä½†æ˜¯ä¸€äº› API å¯èƒ½ä¼šè¿”å›ä¸å¯è¿­ä»£çš„å¯¹è±¡ã€‚åœ¨æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†ï¼Œå½“æˆ‘ä»¬æåˆ°*å¯¹è±¡*å¹¶ä½¿ç”¨ spread æ“ä½œç¬¦æ—¶ï¼Œæˆ‘ä»¬ç‰¹æŒ‡*å¯è¿­ä»£*å¯¹è±¡ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œè®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ä½¿ç”¨ spread æ“ä½œç¬¦çš„å„ç§æ–¹æ³•ï¼

## ä»å¯¹è±¡æˆ–æ•°ç»„ä¸­æå–å€¼

spread è¿ç®—ç¬¦é€šå¸¸ä¸å¯¹è±¡æˆ–æ•°ç»„*ææ„ä¸€èµ·ä½¿ç”¨ã€‚*ææ„æ˜¯æŒ‡æˆ‘ä»¬ä½¿ç”¨ç‰¹æ®Šçš„èµ‹å€¼è¯­æ³•æ¥è§£åŒ…å¯¹è±¡æˆ–æ•°ç»„çš„å…ƒç´ ã€‚

åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬*å°†*ä¸€ä¸ª 5 å…ƒç´ æ•°ç»„ææ„ä¸º 3 ä¸ªå˜é‡:ç¬¬ä¸€ä¸ªå€¼èµ‹ç»™`a`ï¼Œç¬¬äºŒä¸ªå€¼èµ‹ç»™`b`ï¼Œåˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†èµ‹ç»™`rest`:

```
> array = [10, 20, 30, 40, 50] 
> let [a, b, ...rest] = array 
> a 
10 
> b 
20 
> rest 
[ 30, 40, 50 ]
```

æˆ‘ä»¬å¯ä»¥å¯¹å¯¹è±¡åšä¸€äº›éå¸¸ç±»ä¼¼çš„äº‹æƒ…:æˆ‘ä»¬å¯ä»¥é€šè¿‡é”®æå–ç‰¹å®šçš„å€¼ï¼Œå¹¶å°†å¯¹è±¡çš„å‰©ä½™éƒ¨åˆ†æå–åˆ°ä¸åŒçš„å˜é‡ä¸­:

```
> values = {x: 10, y: 20, z: 30} 
> let { x: xValue, ...rest } = values 
> xValue 
10 
> rest 
{ y: 20, z: 30 }
```

æ³¨æ„æ‰©å±•æ“ä½œç¬¦å’Œâ€œå‰©ä½™â€å‚æ•°å®é™…ä¸Šå¹¶ä¸æ˜¯ææ„æ‰€éœ€è¦çš„ T21â€”â€”ä½†æ˜¯å®ƒä»¬å¾ˆå¸¸è§ã€‚å¦‚æœæ‚¨å®é™…ä¸Šä¸å…³å¿ƒå¯¹è±¡æˆ–æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥åœ¨æ²¡æœ‰ spread è¿ç®—ç¬¦çš„æƒ…å†µä¸‹è¿›è¡Œææ„:

```
> array = [10, 20, 30] 
> [a] = array 
> a 
1 

> values = {x: 10, y: 20, z: 30} 
> let { x: xValue } = values 
> xValue 
10
```

å¦‚æœæ‚¨ä½¿ç”¨ Reactï¼Œæ‚¨å¯èƒ½ä¼šçœ‹åˆ°è¿™ç§æ¨¡å¼è¢«ç”¨æ¥ä»`props`å¯¹è±¡ä¸­æå–æŸäº›*å±æ€§*ï¼Œå¹¶ä¼ é€’å…¶ä½™çš„å±æ€§ã€‚è€ƒè™‘ä¸€ä¸ªç®€å•çš„`WrappedImage`ç»„ä»¶ï¼Œå®ƒåªæ˜¯åœ¨`img`æ ‡ç­¾å‘¨å›´åº”ç”¨äº†ä¸€ä¸ª`Wrapper`:

```
const WrappedImage = ({ backgroundColor, ...rest }) => { 
  return ( 
    <Wrapper color={backgroundColor}>
      <img {...rest} /> 
    </Wrapper> 
  ) 
}
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æå–`Wrapper`çš„`backgroundColor`é“å…·ï¼Œå¹¶å°†æ‰€æœ‰å‰©ä½™çš„å±æ€§ä¼ é€’ç»™`img`ã€‚æˆ‘ä»¬ä¸å…³å¿ƒè§£å¼€ä¸€ä¸ª`img`æ ‡ç­¾å¯ä»¥æ¥å—çš„æ‰€æœ‰å±æ€§â€”â€”é™¤äº†`backgroundColor`ä¹‹å¤–ï¼Œä»»ä½•ä¼ å…¥æˆ‘ä»¬ç»„ä»¶çš„å†…å®¹éƒ½å°†åŸå°ä¸åŠ¨åœ°é€šè¿‡ã€‚

# ä»æ•°ç»„æˆ–å¯¹è±¡ä¸­ç§»é™¤å€¼

ç»†å¿ƒçš„è¯»è€…ä¼šæ³¨æ„åˆ°ï¼Œä¸Šé¢çš„ä»£ç é€šè¿‡ç”¨ spread æ“ä½œç¬¦æå–â€œrestâ€å€¼ï¼Œä¹Ÿå…·æœ‰ç”Ÿæˆç§»é™¤äº†å…ƒç´ çš„æ•°ç»„å’Œå¯¹è±¡çš„æ•ˆæœ:

```
> let array = [1, 2, 3] 
> let [ _value, ...rest ] = array 
> rest
[2, 3]
```

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªå‚æ•°æå–åˆ°ä¸€ä¸ªåä¸º`_value`çš„å˜é‡ä¸­ã€‚ä¸‹åˆ’çº¿æ˜¯çº¦å®šä¿—æˆçš„ç”¨æ³•ï¼Œè¡¨ç¤ºæˆ‘ä»¬å¹¶ä¸çœŸæ­£å…³å¿ƒä¸€ä¸ªå€¼â€”â€”å®ƒåªæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚

# å‘æ•°ç»„æˆ–å¯¹è±¡æ·»åŠ å€¼

ä½¿ç”¨ spread æ“ä½œç¬¦çš„å¦ä¸€ç§æ–¹æ³•æ˜¯å°†*å…ƒç´ æ·»åŠ åˆ°ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„ä¸­ã€‚*

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªå€¼:

```
> let numbers = [1, 2, 3] 
> newNumbers = [...numbers, 4] 
[ 1, 2, 3, 4 ]
```

æˆ‘ä»¬å¯ä»¥åœ¨æ•°ç»„çš„å¼€å¤´æˆ–ç»“å°¾éƒ½è¿›è¡Œæ‰©å±•â€”â€”ç”šè‡³å¯ä»¥åŒæ—¶åœ¨ä¸¤ä¸ªåœ°æ–¹è¿›è¡Œæ‰©å±•ï¼

```
> let numbers = [1, 2, 3] [ 1, 2, 3 ] 
> newNumbers = [0, ...numbers, 4] 
[ 0, 1, 2, 3, 4 ]
```

ç”šè‡³å¯ä»¥ä½¿ç”¨å¤šä¸ªæ‰©å±•è¿ç®—ç¬¦æ¥ç»„åˆæ•°ç»„:

```
> let n1 = [ 1, 2, 3 ] 
> let n2 = [ 4, 5, 6 ] 
> [ ...n1, ...n2 ] 
[ 1, 2, 3, 4, 5, 6 ]
```

åŒæ ·çš„æŠ€æœ¯ä¹Ÿé€‚ç”¨äºå¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åº”ç”¨ spread æ“ä½œç¬¦æ¥æ‰©å±•å¯¹è±¡ï¼Œç„¶åæä¾›é™„åŠ çš„é”®å’Œå€¼:

```
> values = {x: 10, y: 20, z: 30} 
> newValues = {...values, a: 10} 
{ x: 10, y: 20, z: 30, a: 10 }
```

ç„¶è€Œï¼Œå¯¹äºå¯¹è±¡ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œé‚£å°±æ˜¯é‡å¤é”®çš„é¡ºåºå¾ˆé‡è¦ã€‚å½“å¯†é’¥é‡å¤æ—¶ï¼Œå³è¾¹çš„ä¼˜å…ˆ:

```
> values = {x: 10, y: 20, z: 30} 

> // The new value for x takes precedence: 
> newValues = { ...values, x: 50} 
{ x: 50, y: 20, z: 30 } 

> // The old value for x takes precedence: 
> newValues = { x: 50, ...values } 
{ x: 10, y: 20, z: 30 }
```

å°±åƒæ•°ç»„ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ spread æ“ä½œç¬¦çš„å¤šä¸ªå®ä¾‹æ¥ç»„åˆå¯¹è±¡ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œåœ¨å‡ºç°é‡å¤é”®çš„æƒ…å†µä¸‹ï¼Œé”®çš„æœ€å³è¾¹çš„å€¼ä¼˜å…ˆ:

```
> v1 = {x: 10, y: 20, z: 30} 
> v2 = {w: 40, y: 50} 
> { ...v1, ...v2 } 
{ x: 10, y: 50, z: 30, w: 40 }
```

# å¤åˆ¶æ•°ç»„æˆ–å¯¹è±¡

ä»¥åŒæ ·çš„æ–¹å¼ï¼Œä½¿ç”¨æ‰©å±•æ“ä½œç¬¦æå–å€¼çš„*å¯ä»¥æœ‰æ•ˆåœ°ç”¨äºä»æ•°ç»„æˆ–å¯¹è±¡ä¸­ç§»é™¤å…ƒç´ ï¼Œæ‰©å±•æ“ä½œç¬¦ä¹Ÿå¯ä»¥ç”¨äº*å¤åˆ¶*æ•°ç»„æˆ–å¯¹è±¡ã€‚è¿™åœ¨ä½ å¤„ç†ä¸åº”è¯¥è¢«ä¿®æ”¹çš„ä¸å¯å˜çš„ T21 æ•°æ®æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚*

ä¾‹å¦‚ï¼ŒçŠ¶æ€ç®¡ç†åº“ Redux æŒ‡å®š:

> *ã€å‡é€Ÿå™¨ã€‘ä¸å…è®¸ä¿®æ”¹å·²æœ‰çš„* `*state*` *ã€‚ç›¸åï¼Œä»–ä»¬å¿…é¡»é€šè¿‡å¤åˆ¶ç°æœ‰çš„* `*state*` *å¹¶å¯¹å¤åˆ¶çš„å€¼â€œ*â€è¿›è¡Œæ›´æ”¹ï¼Œæ¥è¿›è¡Œä¸å¯å˜æ›´æ–°

*è€ƒè™‘ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¢«è®¾è®¡æˆä»¥ä¸å¯å˜çš„æ–¹å¼å¢åŠ å¯¹è±¡ä¸­çš„å€¼ã€‚spread è¿ç®—ç¬¦å¯ç”¨äºè½»æ¾å¤åˆ¶å’Œæ›´æ–°å€¼ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å®ƒ:*

```
*// ğŸš« Don't modify the existing state 
const incrementValue = (state) => { state[value] += 1 return state } 

// âœ… Use the spread operator to copy the state 
const incrementValue = (state) => { return {...state, state.value + 1} }*
```

# *ä½¿ç”¨æ•°ç»„ä¸­çš„å‚æ•°è°ƒç”¨å‡½æ•°*

*spread è¿ç®—ç¬¦ä¹Ÿå¯ç”¨äºå°†å‚æ•°ä»æ•°ç»„ä¼ é€’ç»™å‡½æ•°ã€‚è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬å°†æƒ³è¦ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­:*

```
*> function add(x, y, z) { return x + y + z } 
> numbers = [1, 2, 3] 
> add(...numbers) 
6*
```

*åƒ spread æ“ä½œç¬¦çš„ä¸€äº›å…¶ä»–ç”¨æ³•ä¸€æ ·ï¼Œè¿™ä¸æ˜¯ä»æ•°ç»„ä¸­ä¼ é€’å‚æ•°å‡½æ•°çš„å”¯ä¸€æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è§£åŒ…è¿™äº›å€¼ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªå‡½æ•°ä¸Šä½¿ç”¨ *apply* æ–¹æ³•æ¥å®ŒæˆåŒæ ·çš„äº‹æƒ…:*

```
*> // manually unpack the values from an array 
> add(numbers[0], numbers[1], numbers[2]) 

> // use apply() to pass in arguments from an Array 
> add.apply(null, numbers)*
```

# *å®šä¹‰å…·æœ‰å¯å˜å‚æ•°çš„å‡½æ•°*

*æœ€åï¼Œspread è¿ç®—ç¬¦å¯ç”¨äºå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°é‡‡ç”¨å¯å˜æ•°é‡çš„å‚æ•°ã€‚å‡è®¾æˆ‘ä»¬æƒ³è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è¢«ç§°ä¸º`f(1)`ã€`f(1,2)`ã€`f(1,2,3)`ï¼Œç­‰ç­‰ã€‚åœ¨å‡½æ•°å®šä¹‰ä¸­ä½¿ç”¨ spread è¿ç®—ç¬¦ï¼Œå°†æ‰€æœ‰å‚æ•°æ‰“åŒ…åˆ°ä¸€ä¸ªæ•°ç»„ä¸­:*

```
*> function f(...args) { console.log(args) } 
> f(1, 2, 3) 
[ 1, 2, 3 ]*
```

*ä¸ spread è¿ç®—ç¬¦çš„å…¶ä»–ç”¨æ³•ç±»ä¼¼ï¼Œå®ƒå¯ä»¥å‡ºç°åœ¨å…¶ä»–å‚æ•°åˆ—è¡¨çš„æœ«å°¾:*

```
*> function f(x, ...args) { console.log(args) } 
> f(1, 2, 3) 
[ 2, 3 ]*
```

*spread è¿ç®—ç¬¦çš„è¿™ç§ç”¨æ³•ä¸å¤ªå¸¸è§ï¼Œä½†æ˜¯å¯¹äºæŸäº› API éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼ŒJavaScript çš„`console.log()`å‡½æ•°æ¥å—å¯å˜æ•°é‡çš„å‚æ•°ï¼Œè®©æˆ‘ä»¬åœ¨ä¸€æ¬¡è°ƒç”¨ä¸­è®°å½•å¤šä¸ªå€¼ã€‚*

*å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå˜é‡å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°å†…éƒ¨å¯ç”¨çš„ç‰¹æ®Šçš„`arguments`å¯¹è±¡æ¥å®ç°ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ¯ä¸ªæ¥å—å˜é‡å‚æ•°çš„å‡½æ•°éƒ½ä½¿ç”¨ spread è¿ç®—ç¬¦ã€‚*

# *æƒ³äº†è§£æ›´å¤šï¼Ÿ*

*å¦‚æœæ‚¨æƒ³å¿«é€Ÿå‚è€ƒ JavaScript ä¸­çš„ spread æ“ä½œç¬¦ï¼Œè¯·åŠ¡å¿…æŸ¥çœ‹æˆ‘ä»¬çš„ [JavaScript è§†é¢‘å¤‡å¿˜å•](https://www.youtube.com/channel/UCOw1-AGy_tHnbjiwC4EdFVw)ä¸»é¢˜:*

*   *æŸ¥çœ‹æˆ‘ä»¬å…³äº JavaScript æ•°ç»„çš„ `[map()](https://blixtdev.com/javascript-video-cheatsheets-map-and-reduce-with-arrays/)` [å’Œ](https://blixtdev.com/javascript-video-cheatsheets-map-and-reduce-with-arrays/) `[reduce()](https://blixtdev.com/javascript-video-cheatsheets-map-and-reduce-with-arrays/)` [çš„](https://blixtdev.com/javascript-video-cheatsheets-map-and-reduce-with-arrays/)[è§†é¢‘å¤‡å¿˜å•](https://blixtdev.com/javascript-video-cheatsheets-map-and-reduce-with-arrays/)*
*   *çœ‹çœ‹[æˆ‘ä»¬æœ€å–œæ¬¢çš„ JavaScript ä¹¦ç±ä¹‹ä¸€](https://amzn.to/3jgxPiD)*
*   *æŸ¥çœ‹æˆ‘ä»¬çš„ä¸€äº›[å…¶ä»– JavaScript æ–‡ç« ](https://blixtdev.com/tag/javascript/)*

**åŸè½½äº 2022 å¹´ 12 æœˆ 20 æ—¥*[](https://blixtdev.com/how-to-use-the-spread-operator-in-javascript/)**ã€‚è¿™ç¯‡æ–‡ç« å¯èƒ½åŒ…å«é™„å±é“¾æ¥ã€‚***

***æ›´å¤šå†…å®¹çœ‹* [***è¯´ç™½äº†ã€‚æŠ¥åå‚åŠ æˆ‘ä»¬çš„***](https://plainenglish.io/) **[***å…è´¹å‘¨æŠ¥***](http://newsletter.plainenglish.io/) *ã€‚å…³æ³¨æˆ‘ä»¬å…³äº* [***æ¨ç‰¹***](https://twitter.com/inPlainEngHQ) ï¼Œ[***LinkedIn***](https://www.linkedin.com/company/inplainenglish/)*ï¼Œ*[***YouTube***](https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw)*ï¼Œä»¥åŠ* [***ä¸å’Œ***](https://discord.gg/GtDtUAvyhW) ***ã€‚*******

*****æœ‰å…´è¶£ç¼©æ”¾ä½ çš„è½¯ä»¶å¯åŠ¨*** *ï¼Ÿæ£€æŸ¥å‡º* [***ç”µè·¯***](https://circuit.ooo?utm=publication-post-cta) *ã€‚***