<html>
<head>
<title>Promises and async/await are powerful tools for handling asynchronous code in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Promises和async/await是JavaScript中处理异步代码的强大工具</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/promises-and-async-await-are-powerful-tools-for-handling-asynchronous-code-in-javascript-cf3463a4def8?source=collection_archive---------7-----------------------#2022-12-16">https://javascript.plainenglish.io/promises-and-async-await-are-powerful-tools-for-handling-asynchronous-code-in-javascript-cf3463a4def8?source=collection_archive---------7-----------------------#2022-12-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b88aaca1f020202a8e55151474f111a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JSKbwzgQBFMzCTmDfWvLgg.png"/></div></div></figure><div class="jy jz gp gr ka kb"><a href="https://www.youtube.com/channel/UCw7mp55bjIqhSeAVwir7fXg" rel="noopener  ugc nofollow" target="_blank"><div class="kc ab fo"><div class="kd ab ke cl cj kf"><h2 class="bd ir gy z fp kg fr fs kh fu fw ip bi translated">简易网站</h2><div class="ki l"><h3 class="bd b gy z fp kg fr fs kh fu fw dk translated">朋友们好，欢迎来到我们的频道“易网站”。我创建这个频道的目的是帮助你学习网站…</h3></div><div class="kj l"><p class="bd b dl z fp kg fr fs kh fu fw dk translated">www.youtube.com</p></div></div><div class="kk l"><div class="kl l km kn ko kk kp jw kb"/></div></div></a></div><p id="2af3" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">Promises和async/await是JavaScript中处理异步代码的强大工具，在使用Node.js时尤其有用。下面是如何在Node.js中使用Promise和async/await的简要指南:</p><ol class=""><li id="5b99" class="lo lp iq ks b kt ku kx ky lb lq lf lr lj ls ln lt lu lv lw bi translated">承诺:承诺是表示异步操作最终完成或失败的对象。您可以使用promise来包装一个异步函数，并在它准备好的时候处理它的结果。</li></ol><p id="fca8" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">下面是一个在Node.js中如何使用promise的例子:</p><pre class="lx ly lz ma gt mb mc md bn me mf bi"><span id="4a81" class="mg mh iq mc b be mi mj l mk ml">function asyncFunction() {<br/>  return new Promise((resolve, reject) =&gt; {<br/>    setTimeout(() =&gt; {<br/>      resolve('Async function completed');<br/>    }, 1000);<br/>  });<br/>}<br/><br/>asyncFunction().then(result =&gt; {<br/>  console.log(result); // 'Async function completed'<br/>});</span></pre><p id="f943" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">2.Async/await: Async/await是一种语法，允许您以更同步的方式编写异步代码。它建立在承诺的基础上，使得使用异步函数和处理它们的结果变得更加容易。</p><p id="d0a0" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">下面是一个如何在Node.js中使用async/await的例子:</p><pre class="lx ly lz ma gt mb mc md bn me mf bi"><span id="6de3" class="mg mh iq mc b be mi mj l mk ml">async function asyncFunction() {<br/>  return new Promise((resolve, reject) =&gt; {<br/>    setTimeout(() =&gt; {<br/>      resolve('Async function completed');<br/>    }, 1000);<br/>  });<br/>}<br/><br/>async function main() {<br/>  const result = await asyncFunction();<br/>  console.log(result); // 'Async function completed'<br/>}<br/><br/>main();</span></pre><p id="966c" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">正如您所看到的，使用async/await使得使用异步函数和处理它们的结果变得更加简单。只要确保在<code class="fe mm mn mo mc b">async</code>函数中使用<code class="fe mm mn mo mc b">await</code>关键字，并用<code class="fe mm mn mo mc b">await</code>关键字包装你调用的任何异步函数。</p><p id="5852" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">下面是一个在Node.js中使用async/await调用API的例子:</p><pre class="lx ly lz ma gt mb mc md bn me mf bi"><span id="2815" class="mg mh iq mc b be mi mj l mk ml">const axios = require('axios');<br/><br/>async function getData() {<br/>  try {<br/>    const response = await axios.get('https://example.com/api/endpoint');<br/>    return response.data;<br/>  } catch (error) {<br/>    console.error(error);<br/>  }<br/>}<br/><br/>async function main() {<br/>  const data = await getData();<br/>  console.log(data);<br/>}<br/><br/>main();</span></pre><p id="3797" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">这段代码使用<code class="fe mm mn mo mc b">axios</code>库向指定的API端点发出HTTP GET请求。<code class="fe mm mn mo mc b">await</code>关键字用于暂停<code class="fe mm mn mo mc b">main()</code>函数的执行，直到API请求完成。如果请求成功，API返回的数据将被记录到控制台。如果请求失败，控制台会记录一个错误。</p><p id="87f4" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">请记住，这只是一个基本的例子，您可能需要根据您的API和您想要的用例的具体需求来修改它。例如，您可能需要包含身份验证头、传递查询参数或表单数据，或者处理分页。</p><p id="5ffa" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">我希望这有助于您了解如何使用async/await调用Node.js中的API。</p><p id="2c98" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">使用async/await的另一篇文章示例</p><div class="jy jz gp gr ka kb"><a href="https://easywebsify.medium.com/how-to-return-response-from-an-asynchronous-call-in-javascript-ee70abb1c51" rel="noopener follow" target="_blank"><div class="kc ab fo"><div class="kd ab ke cl cj kf"><h2 class="bd ir gy z fp kg fr fs kh fu fw ip bi translated">如何在JavaScript中从异步调用返回响应</h2><div class="ki l"><h3 class="bd b gy z fp kg fr fs kh fu fw dk translated">您可以使用async/await语法使foo函数异步，如下所示:</h3></div><div class="kj l"><p class="bd b dl z fp kg fr fs kh fu fw dk translated">easywebsify.medium.com</p></div></div><div class="kk l"><div class="mp l km kn ko kk kp jw kb"/></div></div></a></div><p id="c6b0" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><em class="mq">更多内容请看</em><a class="ae mr" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ks ir"><em class="mq">plain English . io</em></strong></a><em class="mq">。报名参加我们的</em> <a class="ae mr" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ks ir"> <em class="mq">免费周报</em> </strong> </a> <em class="mq">。关注我们关于</em><a class="ae mr" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ks ir"><em class="mq">Twitter</em></strong></a><a class="ae mr" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ks ir"><em class="mq">LinkedIn</em></strong></a><em class="mq"/><a class="ae mr" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ks ir"><em class="mq">YouTube</em></strong></a><em class="mq"/><a class="ae mr" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ks ir"><em class="mq">不和</em> </strong> </a> <strong class="ks ir"> <em class="mq">。</em>T49】</strong></p><p id="136f" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated"><strong class="ks ir"> <em class="mq">对缩放您的软件启动感兴趣</em> </strong> <em class="mq">？检查</em> <a class="ae mr" href="https://circuit.ooo?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank"> <strong class="ks ir"> <em class="mq">电路</em> </strong> </a> <em class="mq">。</em></p></div></div>    
</body>
</html>