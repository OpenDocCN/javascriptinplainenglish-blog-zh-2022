<html>
<head>
<title>Sticky Smooth Sliding Navbar on Scroll | JavaScript — CoderFact</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">粘性平滑滑动滚动条| JavaScript — CoderFact</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/sticky-smooth-sliding-navbar-on-scroll-javascript-coderfact-e0a12cb313d1?source=collection_archive---------15-----------------------#2022-02-09">https://javascript.plainenglish.io/sticky-smooth-sliding-navbar-on-scroll-javascript-coderfact-e0a12cb313d1?source=collection_archive---------15-----------------------#2022-02-09</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0f6d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">使用这个功能，你的导航栏不会与页眉、页脚或任何其他容器重叠。</h2></div><p id="6836" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">如果你是一名开发人员，你肯定面临过粘性标题的问题。不是吗？</p><p id="d2ef" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这是一个导航条的解决方案，在滚动条上有一个光滑的粘性标题。使用这个功能，你的导航栏不会与页眉、页脚或任何其他容器重叠，而且它会尽可能地停留在容器上。</p><p id="2250" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当您滚动时，它会平滑地转到不同的部分，并突出显示相应的选项卡。</p><figure class="kz la lb lc gt ld gh gi paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="gh gi ky"><img src="../Images/7033976c22dd4953726e9f4891719fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ka5MTdXgWIbtw3Zy.gif"/></div></div></figure><p id="8f3c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的预览中，你可以看到有5个标签(JavaScript，TypeScipt，Html，Css，其他)，当我们向下或向上滚动固定在顶部的导航条时，相应的标签带下划线，相应的部分就会显示出来。</p><p id="7248" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">整个设计是基于一个单页网站，有多个部分，你可以通过点击导航栏或上下滚动来导航。这是一个响应式设计。我使用flexbox来实现响应。</p><p id="c75c" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">让我们看看代码:</p><figure class="kz la lb lc gt ld"><div class="bz fp l di"><div class="lk ll l"/></div></figure><p id="01da" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">整个项目由JavaScript，HTML，CSS创建。</p><p id="e850" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JS正在处理功能部分。所有滚动和滑动下划线的粘性功能都由JavaScript处理。我使用函数<strong class="ke io">checkTabContainerPosition</strong>来检查容器位置，在此基础上添加一个st-tabs-container-top CSS类来固定navbar位置。</p><p id="3966" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">类似地，另一个函数findCurrentTabSelector正在计算当前活动的选项卡，然后我向带下划线的滑块添加width和left。</p><h1 id="da14" class="lm ln in bd lo lp lq lr ls lt lu lv lw jt lx ju ly jw lz jx ma jz mb ka mc md bi translated">超文本标记语言</h1><p id="d3c9" class="pw-post-body-paragraph kc kd in ke b kf me jo kh ki mf jr kk kl mg kn ko kp mh kr ks kt mi kv kw kx ig bi translated">创建一个名为index.html的HTML文件。</p><pre class="kz la lb lc gt mj mk ml mm aw mn bi"><span id="8c55" class="mo ln in mk b gy mp mq l mr ms">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;<br/>    &lt;title&gt;Sticky Slider&lt;/title&gt;<br/>    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"&gt;&lt;/script&gt;<br/>    &lt;script src="sticky.js"&gt;&lt;/script&gt;<br/>    &lt;link rel="stylesheet" href="app.css" /&gt;<br/>    &lt;link<br/>      href="https://fonts.googleapis.com/css?family=Lato:400,700"<br/>      rel="stylesheet"<br/>    /&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;!-- Hero --&gt;<br/>    &lt;section class="st-tabs"&gt;<br/>      &lt;h1&gt;Sticky, Smooth Header Nav&lt;/h1&gt;<br/>      &lt;h3&gt;Sliding content with sticky header nav&lt;/h3&gt;<br/>      &lt;div class="st-tabs-container"&gt;<br/>        &lt;a class="st-tab" href="#tab-js"&gt;JavaScript&lt;/a&gt;<br/>        &lt;a class="st-tab" href="#tab-ts"&gt;TypeScript&lt;/a&gt;<br/>        &lt;a class="st-tab" href="#tab-html"&gt;HTML&lt;/a&gt;<br/>        &lt;a class="st-tab" href="#tab-css"&gt;CSS&lt;/a&gt;<br/>        &lt;a class="st-tab" href="#tab-other"&gt;Other&lt;/a&gt;<br/>        &lt;span class="st-tab-slider"&gt;&lt;/span&gt;<br/>      &lt;/div&gt;<br/>    &lt;/section&gt;<br/><br/>    &lt;!-- Main --&gt;<br/>    &lt;main class="st-main"&gt;<br/>      &lt;section class="st-slide" id="tab-js"&gt;<br/>        &lt;h1&gt;JavaScript&lt;/h1&gt;<br/>        &lt;h3&gt;Play with JS&lt;/h3&gt;<br/>      &lt;/section&gt;<br/>      &lt;section class="st-slide" id="tab-ts"&gt;<br/>        &lt;h1&gt;TypeScript&lt;/h1&gt;<br/>        &lt;h3&gt;Play with TypeScript&lt;/h3&gt;<br/>      &lt;/section&gt;<br/>      &lt;section class="st-slide" id="tab-html"&gt;<br/>        &lt;h1&gt;HTML&lt;/h1&gt;<br/>        &lt;h3&gt;Play with HTML&lt;/h3&gt;<br/>      &lt;/section&gt;<br/>      &lt;section class="st-slide" id="tab-css"&gt;<br/>        &lt;h1&gt;CSS&lt;/h1&gt;<br/>        &lt;h3&gt;Play with CSS&lt;/h3&gt;<br/>      &lt;/section&gt;<br/>      &lt;section class="st-slide" id="tab-other"&gt;<br/>        &lt;h1&gt;Other&lt;/h1&gt;<br/>        &lt;h3&gt;anything else&lt;/h3&gt;<br/>      &lt;/section&gt;<br/>    &lt;/main&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="dba8" class="lm ln in bd lo lp lq lr ls lt lu lv lw jt lx ju ly jw lz jx ma jz mb ka mc md bi translated">半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h1><p id="4066" class="pw-post-body-paragraph kc kd in ke b kf me jo kh ki mf jr kk kl mg kn ko kp mh kr ks kt mi kv kw kx ig bi translated">然后给设计添加app.css</p><pre class="kz la lb lc gt mj mk ml mm aw mn bi"><span id="6d6b" class="mo ln in mk b gy mp mq l mr ms">body {<br/>  font-family: "Century Gothic", "Lato", sans-serif;<br/>}<br/><br/>a {<br/>  text-decoration: none;<br/>}<br/><br/>.st-tabs,<br/>.st-slide {<br/>  display: flex;<br/>  flex-direction: column;<br/>  justify-content: center;<br/>  align-items: center;<br/>  height: 100vh;<br/>  position: relative;<br/>  background: #ffe8d6;<br/>  text-align: center;<br/>  padding: 0 2em;<br/>}<br/>.st-tabs h1,<br/>.st-slide h1 {<br/>  font-size: 2rem;<br/>  margin: 0;<br/>  letter-spacing: 1rem;<br/>}<br/>.st-tabs h3,<br/>.st-slide h3 {<br/>  font-size: 1rem;<br/>  letter-spacing: 0.3rem;<br/>  opacity: 0.6;<br/>}<br/><br/>.st-tabs-container {<br/>  display: flex;<br/>  flex-direction: row;<br/>  position: absolute;<br/>  bottom: 0;<br/>  width: 100%;<br/>  height: 70px;<br/>  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);<br/>  background: #94d2bd;<br/>  z-index: 10;<br/>}<br/>.st-tabs-container--top {<br/>  position: fixed;<br/>  top: 0;<br/>}<br/><br/>.st-tab {<br/>  display: flex;<br/>  justify-content: center;<br/>  align-items: center;<br/>  flex: 1;<br/>  color: #ffffff;<br/>  letter-spacing: 0.1rem;<br/>  transition: all 0.5s ease;<br/>  font-size: 0.8rem;<br/>  font-weight: 900;<br/>}<br/>.st-tab:hover {<br/>  color: white;<br/>  background: #001219;<br/>  transition: all 0.5s ease;<br/>}<br/><br/>.current {<br/>  color: white;<br/>  background: #001219;<br/>  transition: all 0.5s ease;<br/>}<br/><br/>.st-tab-slider {<br/>  position: absolute;<br/>  bottom: 0;<br/>  width: 0;<br/>  height: 6px;<br/>  background: #001219;<br/>  transition: left 0.3s ease;<br/>}<br/><br/>@media (min-width: 800px) {<br/>  .st-tabs h1,<br/>.st-slide h1 {<br/>    font-size: 3rem;<br/>  }<br/>  .st-tabs h3,<br/>.st-slide h3 {<br/>    font-size: 1rem;<br/>  }<br/><br/>  .st-tab {<br/>    font-size: 1rem;<br/>  }<br/>}<br/>html {<br/>  scroll-behavior: smooth;<br/>}<br/><br/>/*# sourceMappingURL=app.css.map */</span></pre><h1 id="a5c1" class="lm ln in bd lo lp lq lr ls lt lu lv lw jt lx ju ly jw lz jx ma jz mb ka mc md bi translated">Java Script语言</h1><p id="1a35" class="pw-post-body-paragraph kc kd in ke b kf me jo kh ki mf jr kk kl mg kn ko kp mh kr ks kt mi kv kw kx ig bi translated">最后，添加sticky.js来实现所有功能</p><pre class="kz la lb lc gt mj mk ml mm aw mn bi"><span id="70b5" class="mo ln in mk b gy mp mq l mr ms"><em class="mt">class</em> StickyNavigation {<br/>	<br/>	constructor() {<br/>		this.currentId = null;<br/>		this.currentTab = null;<br/>		this.tabContainerHeight = 70;<br/>		let self = this;<br/>	<br/>		$(window).scroll(() =&gt; { this.onScroll(); });<br/>		$(window).resize(() =&gt; { this.onResize(); });<br/>	}<br/>	<br/>	onScroll() {<br/>		this.checkTabContainerPosition();<br/>    this.findCurrentTabSelector();<br/>	}<br/>	<br/>	onResize() {<br/>		if(this.currentId) {<br/>			this.setSliderCss();<br/>		}<br/>	}<br/>	<br/>	checkTabContainerPosition() {<br/>		let offset = $('.st-tabs').offset().top + $('.st-tabs').height() - this.tabContainerHeight;<br/>		if($(window).scrollTop() &gt; offset) {<br/>			$('.st-tabs-container').addClass('st-tabs-container--top');<br/>		} <br/>		else {<br/>			$('.st-tabs-container').removeClass('st-tabs-container--top');<br/>		}<br/>	}<br/>	<br/>	findCurrentTabSelector(element) {<br/>		let newCurrentId;<br/>		let newCurrentTab;<br/>		let self = this;<br/>		$('.st-tab').each(<em class="mt">function</em>() {<br/>			let id = $(this).attr('href');<br/>			let offsetTop = $(id).offset().top - self.tabContainerHeight;<br/>			let offsetBottom = $(id).offset().top + $(id).height() - self.tabContainerHeight;<br/>			if($(window).scrollTop() &gt; offsetTop &amp;&amp; $(window).scrollTop() &lt; offsetBottom) {<br/>				newCurrentId = id;<br/>				newCurrentTab = $(this);<br/>			}<br/>		});<br/>		if(this.currentId != newCurrentId || this.currentId === null) {<br/>			this.currentId = newCurrentId;<br/>			this.currentTab = newCurrentTab;<br/>			this.setSliderCss();<br/>		}<br/>	}<br/>	<br/>	setSliderCss() {<br/>		let width = 0;<br/>		let left = 0;<br/>		if(this.currentTab) {<br/>			width = this.currentTab.css('width');<br/>			left = this.currentTab.offset().left;<br/>		}<br/>		$('.st-tab-slider').css('width', width);<br/>		$('.st-tab-slider').css('left', left);<br/>	}<br/>	<br/>}<br/><br/>new StickyNavigation();</span></pre><p id="5c91" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">仅此而已。现在我希望你完全理解如何只用<strong class="ke io"> HTML CSS JavaScript </strong>创建<strong class="ke io">带滚动滑动的粘性导航条</strong>。如果您有任何疑问，请在下面评论。</p></div><div class="ab cl mu mv hr mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ig ih ii ij ik"><p id="6f38" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mt">原载于2022年2月9日https://coderfact.com</em><em class="mt"/><a class="ae nb" href="https://coderfact.com/projects/basic/sticky-smooth-sliding-navbar-on-scroll-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="mt">。</em></a></p><p id="1752" class="pw-post-body-paragraph kc kd in ke b kf kg jo kh ki kj jr kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="mt">更多内容看</em> <a class="ae nb" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="mt">说白了就是</em> </strong> </a> <em class="mt">。报名参加我们的</em> <a class="ae nb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="mt">免费周报</em> </strong> </a> <em class="mt">。在我们的</em> <a class="ae nb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ke io"> <em class="mt">社区不和谐</em> </strong> </a> <em class="mt">获得独家获取写作机会和建议。</em></p></div></div>    
</body>
</html>