<html>
<head>
<title>Step By Step Guide To Dockerize React App Created Using Vite</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vite创建的Dockerize React应用程序的分步指南</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/step-by-step-guide-to-dockerize-react-app-created-using-vite-90772423f7fb?source=collection_archive---------1-----------------------#2022-11-20">https://javascript.plainenglish.io/step-by-step-guide-to-dockerize-react-app-created-using-vite-90772423f7fb?source=collection_archive---------1-----------------------#2022-11-20</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><p id="5fca" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">反应|对接|邀请</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f8d38039322b6524c11325eec145bb78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*730bnEXvIl-4zp-qc__M6g.jpeg"/></div></div></figure><blockquote class="ku kv kw"><p id="1ef3" class="jk jl kx jm b jn jo jp jq jr js jt ju ky jw jx jy kz ka kb kc la ke kf kg kh ig bi translated"><em class="in">最初发布于—</em><a class="ae lb" href="https://www.nandhakumar.io/post/step-by-step-guide-to-dockerize-vite-react-app-in-dev-environment" rel="noopener ugc nofollow" target="_blank"><em class="in">https://www . nandhakumar . io/post/step-by-step-guide-to-dockerize-vite-react-app-in-dev-environment</em></a></p></blockquote><p id="2fd6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">嘿伙计们！</p><p id="82ea" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在这篇文章中，您将学习如何将使用Vite工具为开发环境创建的react应用程序dockerize</p><h1 id="1618" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">先决条件</h1><ul class=""><li id="46e4" class="ma mb in jm b jn mc jr md jv me jz mf kd mg kh mh mi mj mk bi translated">React的基础知识</li><li id="a765" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">对docker有基本的了解(我也会简单介绍一下)</li><li id="f8f5" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">本地系统上的Docker</li></ul><h1 id="fd1b" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">Docker是什么？</h1><p id="16b9" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">Docker是一个帮助创建开发、测试和生产的公共环境(在docker世界中称为<strong class="jm io">容器</strong>)的工具。</p><p id="b752" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">假设您正在本地环境中开发一个react应用程序(开发)</p><p id="6b22" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在，一旦您完成了开发，您需要将源代码移交给测试团队，如果测试团队没有与您的本地环境相同的环境，可能会有一些问题会阻碍测试。</p><p id="c2ae" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">生产也有类似的情况。</p><p id="1f7f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">那么，我们如何将环境运送到您运行应用程序的所有地方呢？</p><p id="f148" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Docker来了，它将为您的应用程序创建一个虚拟的运行环境，您可以在任何需要运行应用程序的地方创建和使用该环境。</p><p id="aaf6" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">很棒吧？</p><p id="3cb7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">这是Docker的一个简短摘要。</p><p id="6560" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果你想了解更多，请查看官方Docker网站</p><p id="9bb7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在让我们来看看如何对React应用程序进行Dockerize。</p></div><div class="ab cl mt mu hr mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ig ih ii ij ik"><h1 id="bb55" class="lc ld in bd le lf na lh li lj nb ll lm ln nc lp lq lr nd lt lu lv ne lx ly lz bi translated">步骤1:使用Vite创建react应用程序(如果您已经有React应用程序，请跳过这一步)</h1><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="c595" class="nk ld in ng b be nl nm l nn no">npm create vite@latest</span></pre><p id="36f2" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">你会被要求</p><ul class=""><li id="5f38" class="ma mb in jm b jn jo jr js jv np jz nq kd nr kh mh mi mj mk bi translated">应用名称</li><li id="f2b0" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">使用哪种框架，如React、Angular或Vue？选择反应</li><li id="fe10" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated">然后，Typescript或者Javascript。如你所愿选择</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/5e817d6cb119464e0bbb040fcd91ef08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/0*vqY_a4mTIkHdWWKJ.png"/></div><figcaption class="nt nu gj gh gi nv nw bd b be z dk">Vite Project Initialization</figcaption></figure><p id="2227" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在切换到项目目录</p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="4c4d" class="nk ld in ng b be nl nm l nn no">cd [your project name]</span></pre><h1 id="0cbd" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">第二步:更新<code class="fe nx ny nz ng b">vite.config</code>文件</h1><p id="66ba" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">这一步是在Docker容器和React应用程序之间映射端口所必需的</p><p id="9357" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">现在替换<code class="fe nx ny nz ng b">vite.config</code>中的这段代码</p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="20dd" class="nk ld in ng b be nl nm l nn no">export default defineConfig({<br/>  plugins: [react()],<br/>})</span></pre><p id="6bbe" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">到</p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="6c60" class="nk ld in ng b be nl nm l nn no">export default defineConfig({<br/>  plugins: [react()],<br/>  server: {<br/>    watch: {<br/>      usePolling: true,<br/>    },<br/>    host: true, // needed for the Docker Container port mapping to work<br/>    strictPort: true,<br/>    port: 5173, // you can replace this port with any port<br/>  }</span></pre><h1 id="2a50" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤3:创建Dockerfile文件</h1><p id="bd1e" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">在项目目录的根目录下创建一个名为<code class="fe nx ny nz ng b">Dockerfile</code>的文件，如下所示👇</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/9940a51ffb55352689cdd760bc119449.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/0*5ApOMvlbtNSjeJe0.png"/></div></figure><h1 id="9a57" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤4:向Dockerfile添加命令</h1><p id="ba40" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">将这些命令复制到您的docker文件中</p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="3634" class="nk ld in ng b be nl nm l nn no">FROM node<br/>WORKDIR /app<br/>COPY package.json .<br/>RUN npm i<br/>COPY . .<br/>## EXPOSE [Port you mentioned in the vite.config file]<br/>EXPOSE 5173<br/>CMD ["npm", "run", "dev"]</span></pre><p id="b5f7" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">如果您不知道这些命令是什么，请阅读解释👇</p><ul class=""><li id="5960" class="ma mb in jm b jn jo jr js jv np jz nq kd nr kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">FROM node</code> -将在容器中创建一个节点环境</li><li id="fbbe" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">WORKDIR /app</code> -将创建一个目录应用程序并切换到该目录</li><li id="490d" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">COPY package.json .</code> -将package.json文件复制到/app目录</li><li id="57a0" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">RUN npm i</code> -运行<code class="fe nx ny nz ng b">npm install</code>为你的应用程序创建node_modules</li><li id="5e0f" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">COPY . .</code> -将源代码复制到/app目录</li><li id="6974" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">EXPOSE 5173</code> -打开端口，从容器外部(即浏览器)访问应用程序</li><li id="3556" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">CMD ["npm", "run", "dev"]</code> -执行<code class="fe nx ny nz ng b">npm run dev</code>启动服务器</li></ul><h1 id="33a2" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤5:构建Dockerfile文件</h1><p id="da14" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">在终端中，导航到您的项目目录，然后执行</p><p id="c776" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe nx ny nz ng b">!! Remove the [ ] when executing</code></p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="7279" class="nk ld in ng b be nl nm l nn no">docker build -t [any name] .</span></pre><p id="9287" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">命令中使用的标志</strong></p><ul class=""><li id="80af" class="ma mb in jm b jn jo jr js jv np jz nq kd nr kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">-t</code> -标记集装箱(这将是您的集装箱名称)</li></ul><p id="aa52" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">构建完成后，将创建一个docker映像。</p><p id="61de" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">Docker图像是运行容器的模板。</p><p id="3d68" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要检查您的Docker映像，请执行</p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="ede6" class="nk ld in ng b be nl nm l nn no">docker images</span></pre><p id="5c13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将显示您系统上可用的图像列表</p><p id="3aef" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">检查运行<code class="fe nx ny nz ng b">docker build</code>命令时给出的图像名称是否在列表中。</p><h1 id="0ebc" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤6:运行Docker容器</h1><p id="fed2" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">在终端中执行该命令👇</p><p id="229f" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><code class="fe nx ny nz ng b">!! Remove the [ ] when executing</code></p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="5a7f" class="nk ld in ng b be nl nm l nn no">docker run -d --rm -p 5173:5173 --name [name of the container] [your docker image name]</span></pre><p id="1227" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><strong class="jm io">命令中使用的标志</strong></p><ul class=""><li id="d002" class="ma mb in jm b jn jo jr js jv np jz nq kd nr kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">-d</code> -在后台运行容器(分离模式)</li><li id="b7de" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">--rm</code> -删除容器，当你停止容器时</li><li id="5684" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">-p</code> -集装箱与外界之间的端口映射。</li><li id="d1a2" class="ma mb in jm b jn ml jr mm jv mn jz mo kd mp kh mh mi mj mk bi translated"><code class="fe nx ny nz ng b">5173:5173</code> -【从浏览器访问端口】:【从容器中暴露的端口】</li></ul><p id="ad5e" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">要检查docker容器是否正在运行，请执行</p><pre class="kj kk kl km gt nf ng nh bn ni nj bi"><span id="7fa3" class="nk ld in ng b be nl nm l nn no">docker ps</span></pre><p id="5cfd" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">它将显示在您的系统上运行的容器列表</p><p id="a215" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">检查运行<code class="fe nx ny nz ng b">docker run</code>命令时给出的容器名称是否在列表中。</p><h1 id="aa4a" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">步骤7:在浏览器中打开应用程序</h1><p id="7e89" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">打开浏览器并访问<code class="fe nx ny nz ng b">http://localhost:[Port you mentioned in the docker run command]</code>，根据我们目前所做的配置，它应该是<code class="fe nx ny nz ng b"><a class="ae lb" href="http://localhost:5173" rel="noopener ugc nofollow" target="_blank">http://localhost:5173</a></code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/29ce4d8e1262da35bde17f95d0eb1720.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FLGJYIN67ieh7gOn.png"/></div></div></figure><h1 id="69c2" class="lc ld in bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">感谢阅读！</h1><p id="c5be" class="pw-post-body-paragraph jk jl in jm b jn mc jp jq jr md jt ju jv mq jx jy jz mr kb kc kd ms kf kg kh ig bi translated">希望你今天学到了新东西😊。</p><p id="be90" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">在<a class="ae lb" href="https://twitter.com/nandhakumar_io" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae lb" href="https://www.instagram.com/nandhakumar.io/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>、<a class="ae lb" href="https://mailto:rsnk2013@gmail.com/" rel="noopener ugc nofollow" target="_blank"> Email </a>和<a class="ae lb" href="https://www.linkedin.com/in/nandhakumar-dev/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上关注并联系我，了解更多类似的有趣内容。</p><p id="4ecf" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">我的个人博客<a class="ae lb" href="https://www.nandhakumar.io/" rel="noopener ugc nofollow" target="_blank"> nandhakumar.io </a></p><p id="bf13" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated">干杯✌️</p><p id="871c" class="pw-post-body-paragraph jk jl in jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ig bi translated"><em class="kx">更多内容看</em> <a class="ae lb" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kx">说白了。报名参加我们的</em> <a class="ae lb" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kx">免费周报</em> </strong> </a> <em class="kx">。关注我们上</em> <a class="ae lb" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kx">推特</em></strong></a><a class="ae lb" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kx">领英</em></strong></a><strong class="jm io"><em class="kx"/></strong><a class="ae lb" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="jm io"><em class="kx">YouTube</em></strong></a><strong class="jm io"><em class="kx"/></strong><em class="kx">和</em> <a class="ae lb" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kx">不和</em> </strong> </a> </strong> <em class="kx">对成长黑客感兴趣？检查出</em> </a><a class="ae lb" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="jm io"> <em class="kx">电路</em> </strong> </a> <strong class="jm io"> <em class="kx">。</em> </strong></p></div></div>    
</body>
</html>