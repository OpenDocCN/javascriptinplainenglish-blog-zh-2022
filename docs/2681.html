<html>
<head>
<title>What If Linter Could Fix Runtime Errors?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果Linter可以修复运行时错误会怎么样？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-if-linter-could-fix-runtime-errors-666c1d6225b4?source=collection_archive---------1-----------------------#2022-06-25">https://javascript.plainenglish.io/what-if-linter-could-fix-runtime-errors-666c1d6225b4?source=collection_archive---------1-----------------------#2022-06-25</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><h1 id="540b" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">TypeError:常量变量的赋值</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/f62dee7dfc801cf3826ee61ae3c94aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*vhiCVGZMlGcKq0bB2J7Vyg.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">The <code class="fe ku kv kw kx b"><strong class="bd ky">TypeError</strong></code> object represents an error when attempting to modify a value that cannot be changed © MDN</figcaption></figure><p id="3c88" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">假设您编写了代码，一切都很好，但是当您在浏览器或节点中运行测试或执行它时，您会看到这样的错误。</p><p id="5d1d" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">这很容易修复，因为您声明了一个常数，然后试图改变它:</p><pre class="kj kk kl km gt lx kx ly lz aw ma bi"><span id="0612" class="mb jl in kx b gy mc md l me mf">const a = 5;<br/>a = 3;</span></pre><p id="068a" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">但是，等一下！为什么你需要为这样的事情烦恼？@ putout/convert-const-to-let会帮你做这类事情！它将搜索参考，如果变量值改变，<code class="fe ku kv kw kx b">const</code>将切换到<code class="fe ku kv kw kx b">let</code>。当一个变量没有理由成为<code class="fe ku kv kw kx b">let</code>时，它可以在ESLint的<code class="fe ku kv kw kx b"><a class="ae mg" href="https://eslint.org/docs/latest/rules/prefer-const" rel="noopener ugc nofollow" target="_blank">prefer-constant</a></code>的帮助下切换回<code class="fe ku kv kw kx b">const</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/927a9dd9b13be4e698466396d6cfa289.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/1*qr-D2UcxMdoaDjWlWWXlEA.gif"/></div></figure><p id="1d31" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">这是如何🐊<a class="ae mg" href="https://github.com/coderaiser/putout" rel="noopener ugc nofollow" target="_blank">输出</a>防止运行错误！</p><h1 id="6903" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">ReferenceError: hello未定义</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/7fa229a93fbcbd1c9fb2824efbef0958.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*pQwQlGtn8wZ5qlssJ7jZ1g.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">The <code class="fe ku kv kw kx b"><strong class="bd ky">ReferenceError</strong></code> object represents an error when a variable hasn't yet been initialized in the current scope is referenced. © MDN</figcaption></figure><p id="ee4f" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">假设您有一些代码:</p><pre class="kj kk kl km gt lx kx ly lz aw ma bi"><span id="0006" class="mb jl in kx b gy mc md l me mf">if (a)<br/>    hello();</span><span id="1bbc" class="mb jl in kx b gy mj md l me mf">const hello = () =&gt; ‘world’;</span></pre><p id="f378" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">你一定会收到<strong class="lb io"> ReferenceError </strong>！但是不要担心！🐊<strong class="lb io">输出</strong>在<code class="fe ku kv kw kx b"><a class="ae mg" href="https://github.com/coderaiser/putout/tree/master/packages/plugin-declare-before-reference#putoutplugin-declare-before-reference-" rel="noopener ugc nofollow" target="_blank">@putout/declare-before-reference</a></code>的帮助下解决了这个问题！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/9661777c0698c8ba6f561d7429f5a9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/1*-iT-YakZxIoeb2Uv-_y3IA.gif"/></div></figure><p id="6f18" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">好的，如果使用的东西没有声明呢？不要担心！</p><p id="40d8" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated"><code class="fe ku kv kw kx b"><a class="ae mg" href="https://github.com/coderaiser/putout/tree/master/packages/plugin-declare-undefined-variables#readme" rel="noopener ugc nofollow" target="_blank">@putout/plugin-declare-undefined-variables</a></code>轻松解决这一问题:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/9f6f39dc1a98067ab0a20a4c989be30d.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/1*NyCveRTnJktVtPDvwVinNw.gif"/></div></figure><h1 id="a762" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">如何设置？</h1><p id="f485" class="pw-post-body-paragraph kz la in lb b lc ml le lf lg mm li lj lk mn lm ln lo mo lq lr ls mp lu lv lw ig bi translated">用以下工具安装<a class="ae mg" href="https://eslint.org" rel="noopener ugc nofollow" target="_blank">扳手</a>和<code class="fe ku kv kw kx b"><a class="ae mg" href="https://github.com/coderaiser/putout/tree/master/packages/eslint-plugin-putout#safe-mode" rel="noopener ugc nofollow" target="_blank">eslint-plugin-putout</a></code>:</p><pre class="kj kk kl km gt lx kx ly lz aw ma bi"><span id="c785" class="mb jl in kx b gy mc md l me mf">npm i eslint eslint-plugin-putout -D</span></pre><p id="6965" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">然后将<code class="fe ku kv kw kx b">.eslintrc.json</code>加上:</p><pre class="kj kk kl km gt lx kx ly lz aw ma bi"><span id="bc6c" class="mb jl in kx b gy mc md l me mf">{<br/>    "extends": [<br/>        "plugin:putout/safe"<br/>    ],<br/>    "plugins": [<br/>        "putout"<br/>    ]<br/>}</span></pre><p id="c6bb" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">然后启用保存时修复lint:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/388406cee7cd46fcb0628618f23e5887.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*ee18-KNXEk6qIbcgZT8AmA.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Most IDE’s has ability to run fix lint on save</figcaption></figure><h1 id="8342" class="jk jl in bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">结论:用linter修复运行时错误是一件好事</h1><p id="1074" class="pw-post-body-paragraph kz la in lb b lc ml le lf lg mm li lj lk mn lm ln lo mo lq lr ls mp lu lv lw ig bi translated">今天就到这里，最后还有几件事:</p><p id="702f" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">☝️follow me on medium/@<a class="ae mg" href="https://medium.com/u/47c05fa2893e?source=post_page-----1782c6625d77--------------------------------" rel="noopener">code raiser</a>，了解如何改进您的编码😏。</p><p id="6827" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">☝️在GitHub上增加了明星⭐️，这很激励人！</p><p id="1cb1" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">如果你喜欢我正在做的事情，☝️会支持我。</p><p id="ffd9" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">☝️And:记住，我会一直在这里解决你对我提出的代码的任何问题😋。</p><p id="d662" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated">干杯🥤！</p></div><div class="ab cl mr ms hr mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ig ih ii ij ik"><p id="9391" class="pw-post-body-paragraph kz la in lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw ig bi translated"><em class="my">更多内容看</em> <a class="ae mg" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="my">说白了。报名参加我们的</em> <a class="ae mg" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="my">免费周报</em> </strong> </a> <em class="my">。关注我们关于</em><a class="ae mg" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="my">Twitter</em></strong></a><em class="my">和</em><a class="ae mg" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lb io"><em class="my">LinkedIn</em></strong></a><em class="my">。查看我们的</em> <a class="ae mg" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="my">社区不和谐</em> </strong> </a> <em class="my">，加入我们的</em> <a class="ae mg" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="lb io"> <em class="my">人才集体</em> </strong> </a> <em class="my">。</em></strong></a></p></div></div>    
</body>
</html>