<html>
<head>
<title>What’s the Result of '1'.valueOf.length + 2?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">' 1 '的结果是什么. valueOf.length + 2？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/whats-the-result-of-1-valueof-length-2-7957559e21e9?source=collection_archive---------10-----------------------#2022-05-23">https://javascript.plainenglish.io/whats-the-result-of-1-valueof-length-2-7957559e21e9?source=collection_archive---------10-----------------------#2022-05-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="35b5" class="pw-subtitle-paragraph jr ip iq bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">你能猜出正确答案吗？</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/b2cbcb9e4d872e585cfd04c9480ca3ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pyPiD8KvOzG_goQp"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a> on <a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="988a" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如题，你能猜出正确答案吗？</p><p id="f2d4" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">其实主要看<code class="fe jn jo jp jq b">'1'.valueOf.length</code>会返回什么。所以我们来分析一下:</p><p id="2b1e" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><code class="fe jn jo jp jq b">valueof</code>是<code class="fe jn jo jp jq b">String.prototype</code>上的一个方法。另一方面，对原始数据类型<code class="fe jn jo jp jq b">string</code>的调用会将其装箱，这样它就可以使用<code class="fe jn jo jp jq b">String.prototype</code>上的方法。</p><p id="686d" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">那么<code class="fe jn jo jp jq b">String.prototype.valueof.length</code>回报什么呢？</p><p id="4801" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">由于<code class="fe jn jo jp jq b">String.prototype.valueof</code>也是一个函数，那么我们需要知道函数的长度属性:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi lw"><img src="../Images/1fadaeeab76d7a45bd2dafed633a3d9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lnt7ZO6BF_6U_e5L7iH4oQ.png"/></div></div></figure><p id="5b98" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您可以看到函数对象的length属性只是可配置的。那么它的值等于什么呢？</p><blockquote class="lx ly lz"><p id="0729" class="la lb ma lc b ld le jv lf lg lh jy li mb lk ll lm mc lo lp lq md ls lt lu lv ij bi translated"><code class="fe jn jo jp jq b">length</code>是函数对象的一个属性，表示函数需要多少个参数，即形参的个数。这个数字不包括<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" rel="noopener ugc nofollow" target="_blank">剩余参数</a>，只包括第一个有默认值的参数之前的参数。</p></blockquote><p id="f6fb" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">以上描述来自<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/length#description" rel="noopener ugc nofollow" target="_blank"> MDN </a>。所以让我们来试试吧:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi me"><img src="../Images/d0c2a596277c511593af276061551fc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XV9iUG6K8wk0k9rDv7cGMA.png"/></div></div></figure><p id="bfd8" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">可以看出符合MDN的描述。除此之外，我认为还有一个特例，那就是函数构造函数:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ca"><img src="../Images/3aeb5b7c199d42f2efb934127b20b570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8ceTOnyA8sS_3Wyos4Crw.png"/></div></div></figure><p id="6e3a" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><code class="fe jn jo jp jq b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function" rel="noopener ugc nofollow" target="_blank">Function() constructor</a></code>可以动态创建一个函数对象。虽然在业务开发中不常使用，但在某些框架中它有很大的价值。比如用在Vue.js 的<a class="ae kz" href="https://github.com/vuejs/vue/blob/cca88b9919cb0773895bbcef649c61a206fd0a32/src/compiler/to-function.ts#L12" rel="noopener ugc nofollow" target="_blank">编译中。</a></p><p id="71d7" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">其语法如下:</p><pre class="kk kl km kn gt mf jq mg mh aw mi bi"><span id="59cb" class="mj mk iq jq b gy ml mm l mn mo">new Function(functionBody)<br/>new Function(arg1, functionBody)<br/>new Function(arg1, ... argN, functionBody)</span></pre><p id="eb4c" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">但是它的长度属性值是1。可能就是这么设计的吧。</p><p id="ae83" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">至此，我们来回答一下开头的问题:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mp"><img src="../Images/2f70d7559977d196246c516d27c92e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VBszV1y_D-_ii8fSKRyhBQ.png"/></div></div></figure><p id="4255" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">那么这个答案是你所期待的吗？</p><h2 id="7623" class="mj mk iq bd mq mr ms dn mt mu mv dp mw lj mx my mz ln na nb nc lr nd ne nf ng bi translated">延伸:和<code class="fe jn jo jp jq b">arguments.length</code>有什么不同？</h2><p id="826e" class="pw-post-body-paragraph la lb iq lc b ld nh jv lf lg ni jy li lj nj ll lm ln nk lp lq lr nl lt lu lv ij bi translated">事实上，<code class="fe jn jo jp jq b"><a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments/length" rel="noopener ugc nofollow" target="_blank">arguments.length</a></code>的值是传递给函数的实际参数数量。例如:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nm"><img src="../Images/28830a3d851516c311101b250399fd8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I8wvhF9Kmk5Rm9xIZSs4CQ.png"/></div></div></figure><p id="cd08" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">今天就到这里，感谢阅读。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="a97f" class="pw-post-body-paragraph la lb iq lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><em class="ma">更多内容请看</em><a class="ae kz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lc ir"><em class="ma">plain English . io</em></strong></a><em class="ma">。报名参加我们的</em> <a class="ae kz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir"> <em class="ma">免费周报</em> </strong> </a> <em class="ma">。关注我们关于</em><a class="ae kz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lc ir"><em class="ma">Twitter</em></strong></a><em class="ma">和</em><a class="ae kz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lc ir"><em class="ma">LinkedIn</em></strong></a><em class="ma">。查看我们的</em> <a class="ae kz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir"> <em class="ma">社区不和谐</em> </strong> </a> <em class="ma">加入我们的</em> <a class="ae kz" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir"> <em class="ma">人才集体</em> </strong> </a> <em class="ma">。</em></p></div></div>    
</body>
</html>