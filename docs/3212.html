<html>
<head>
<title>How Hooks Allow Us to Have Cleaner, Simpler Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">钩子如何让我们拥有更干净、更简单的组件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-hooks-allow-us-to-have-cleaner-simpler-components-34a773355282?source=collection_archive---------6-----------------------#2022-08-09">https://javascript.plainenglish.io/how-hooks-allow-us-to-have-cleaner-simpler-components-34a773355282?source=collection_archive---------6-----------------------#2022-08-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e027" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为什么您应该将您的逻辑导出到React挂钩中。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/74b70f35510fd239966af03a87b96506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UEmxwJGzUzD4Rfcr_cr1bg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by analogicus: <a class="ae kv" href="https://www.pexels.com/photo/colorful-metal-hooks-on-white-background-10665635/" rel="noopener ugc nofollow" target="_blank">https://www.pexels.com/photo/colorful-metal-hooks-on-white-background-10665635/</a></figcaption></figure><p id="312b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我喜欢钩子，我认为它们是React团队创造的最好的东西。然而，我可以看到，即使在今天，许多开发人员可能不愿意创建他们自己的定制挂钩，而更喜欢坚持使用React提供的挂钩，并根据逻辑而不是UI目的来拆分他们的组件。</p><p id="a90f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是钩子是使你的逻辑外部化和保持你的组件整洁的最好方法！我们一起来看看为什么。</p><blockquote class="ls"><p id="e546" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">本文将首先关注理论，然后在最后展示一个例子。敬请期待！</p></blockquote></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="746f" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">清洁剂成分</h1><p id="2aa1" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">React组件会很快变得一团糟。JSX格式在同一个文件中已经有了HTML和JS，100行代码可以很快找到。</p><p id="3fc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用钩子，可以通过创建定制的钩子来管理所有的业务逻辑，并且只返回UI格式的数据，从而分割逻辑。这样，您的组件应该只关心UI，而将逻辑/数据获取留给钩子。这就引出了我的第二点。</p><h1 id="f445" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">单一责任</h1><p id="c832" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">作为坚实原则的一部分，单一职责是使组件/功能/类更简单、更清晰、更易于测试和维护的重要部分。</p><p id="81f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">钩子能帮上忙。通过一个(或一些)钩子来整理逻辑，组件的职责将是显示数据，钩子将从API获取数据，处理数据，并返回可用的数据。</p><h1 id="3693" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">复用性</h1><p id="1900" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">反应是可重用性。整个组件系统就是这样工作的！钩子也不例外。通过将逻辑导出到一个或多个挂钩中，它允许您更好地控制您的逻辑，还可以将您的挂钩重用到多个组件或挂钩中！</p><h1 id="79b4" class="mj mk iq bd ml mm ng mo mp mq nh ms mt jw ni jx mv jz nj ka mx kc nk kd mz na bi translated">易测性</h1><p id="2965" class="pw-post-body-paragraph kw kx iq ky b kz nb jr lb lc nc ju le lf nd lh li lj ne ll lm ln nf lp lq lr ij bi translated">当使用包括数据获取在内的一系列逻辑测试React组件时，我们都有过这种挣扎的时刻。但是，如果我们能够将所有这些都隔离到一个易于测试、隔离并使嘲笑变得简单的地方，会怎么样呢？钩子！</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="ed4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们用一个例子来说明这一切。这是一个包含一些逻辑的组件:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/bb7a181718bd4cfcb99c5fe6a2b70d07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X8PJL-Tu5J7PDEhzgIz7mQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A component showing a counter and two buttons to change its value</figcaption></figure><p id="ba99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你已经阅读我的文章有一段时间了，你应该知道计数器是我最喜欢的例子！</p><p id="975d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，该组件将需要一些UI测试，以确保按钮正常工作，计数器正确地递增/递减，并从UI检查值是否是预期的值。</p><p id="c93f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不是那个，但可以改进！</p><p id="b0a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从这段代码中，我可以看到创建一个钩子来管理计数器的状态，并且只返回它的值和修改它的两个函数的可能性。你的新钩子应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/0adc4d8a5328ba70e892e49897a3e9db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pWFPMrdQJ96xFPZ_9Nhocg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Our useCounter hook</figcaption></figure><p id="608f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们的新钩子，几乎和以前的代码一样，但是我们排除了所有与前端相关的代码！</p><p id="42e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在对于我们的组件来说，我们只需要稍微修改一下就可以使用钩子返回的值了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/1e4db7f516fb3b4253bb40debe7bc200.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4n-Bjj2A9S019expcOYsQw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Our component with the usage of the hook</figcaption></figure><p id="406d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们到了。我们最终得到了两个更易测试的文件。您也可以决定在另一个组件中使用钩子，而不需要太多的重构！</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="dda6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你喜欢这篇文章，并希望更喜欢我们亲爱的钩子！</p><p id="91fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢，不要犹豫留下掌声或关注！</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="7281" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nm">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nm">plain English . io</em></strong></a><em class="nm">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nm">免费周报</em> </strong> </a> <em class="nm">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nm">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nm">LinkedIn</em></strong></a><em class="nm">，以及</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nm">不和</em> </strong> </a> <em class="nm">。</em></p></div></div>    
</body>
</html>