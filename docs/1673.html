<html>
<head>
<title>How the TypeScript Extract Type Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript提取类型如何工作</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-the-typescript-extract-type-works-651c7fcc1db4?source=collection_archive---------12-----------------------#2022-04-11">https://javascript.plainenglish.io/how-the-typescript-extract-type-works-651c7fcc1db4?source=collection_archive---------12-----------------------#2022-04-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="2e2d" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">简要看看Extract实用程序类型在TypeScript中是如何工作的。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/4d325e297a297a9411be901315375bf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bgvmL3sZ3e4AgEb2CEsbjw.png"/></div></div></figure><p id="bac3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">Extract</code>实用程序类型允许我们检查特定成员的联合类型，并根据剩余的内容返回新的类型。与 <code class="fe lk ll lm ln b"><a class="ae lo" href="https://fjolt.com/article/typescript-exclude-type" rel="noopener ugc nofollow" target="_blank">Exclude</a></code> <a class="ae lo" href="https://fjolt.com/article/typescript-exclude-type" rel="noopener ugc nofollow" target="_blank">型</a>格式颇为相似的<a class="ae lo" href="https://fjolt.com/article/typescript-exclude-type" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7fe4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们来看看它是如何工作的。</p><h1 id="e6c6" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">实用程序类型</h1><p id="1b2a" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">实用工具类型是在TypeScript中定义的用于解决特定问题的类型。如果您不熟悉在TypeScript中定义自定义类型，请在此处阅读我的定义自定义类型指南:</p><div class="mm mn gp gr mo mp"><a href="https://fjolt.com/article/typescript-creating-custom-types" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd io gy z fp mu fr fs mv fu fw im bi translated">在Typescript中创建自定义类型</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">Javascript是一种弱类型语言，这意味着我们通常不会考虑类型。Typescript是强类型的…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">fjolt.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd km mp"/></div></div></a></div><h1 id="93d8" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">提取类型如何在TypeScript中工作</h1><p id="230d" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">在TypeScript中，我们可以定义一个称为联合类型的特定类型。联合类型是某事物可能值的列表。下面显示了一个示例，其中类型myUnionType表示变量，其他输出只能是四个值之一:🥒,🥔,🌶或者🌽</p><pre class="kd ke kf kg gt ne ln nf ng aw nh bi"><span id="a384" class="ni lq in ln b gy nj nk l nl nm">type myUnionType = "🥒" | "🥔" | "🌶" | "🌽"</span><span id="b77c" class="ni lq in ln b gy nn nk l nl nm">// This works since 🥒 is a member of "🥒" | "🥔" | "🌶" | "🌽"<br/>let myFirstVariable:myUnionType = "🥒"</span><span id="2ca9" class="ni lq in ln b gy nn nk l nl nm">// This doesn't work since "my-string" is NOT member of "🥒" | "🥔" | "🌶" | "🌽"<br/>let mySecondVariable:myUnionType = "my-string"</span></pre><h1 id="2c58" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">提取类型</h1><p id="6e49" class="pw-post-body-paragraph ko kp in kq b kr mh jo kt ku mi jr kw kx mj kz la lb mk ld le lf ml lh li lj ig bi translated">如果我们想从一个联合类型中删除特定的元素，我们可以使用<code class="fe lk ll lm ln b"><a class="ae lo" href="https://fjolt.com/article/typescript-exclude-type" rel="noopener ugc nofollow" target="_blank">Exclude</a></code> <a class="ae lo" href="https://fjolt.com/article/typescript-exclude-type" rel="noopener ugc nofollow" target="_blank">类型</a>——但是还有其他方法可以操作联合类型。</p><p id="4e3f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><code class="fe lk ll lm ln b">Extract</code>类型让我们定义一个新的列表，如果列表中的任何项目存在于我们的原始类型中，则返回一个新的类型。</p><p id="a20d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们看一个简单的例子:</p><pre class="kd ke kf kg gt ne ln nf ng aw nh bi"><span id="33cc" class="ni lq in ln b gy nj nk l nl nm">type myUnionType = "🥒" | "🥔" | "🌶" | "🌽"</span><span id="d60a" class="ni lq in ln b gy nn nk l nl nm">let myFirstVariable:Extract&lt;myUnionType, "🥒" | "🥔"&gt; = "🥒"<br/>//  ^<br/>//  └ - - Type is "🥒" | "🥔"</span></pre><p id="8c67" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我们写<code class="fe lk ll lm ln b">Extract</code>时，它为<code class="fe lk ll lm ln b">"🥒" | "🥔"</code>检查<code class="fe lk ll lm ln b">myUnionType</code>。如果它们存在，它会创建一个新类型，包含存在的项。因为两者🥒和🥔存在于我们的联盟类型中，我们以一种新的类型结束——<code class="fe lk ll lm ln b">"🥒" | "🥔"</code>。</p><p id="4360" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果我们在我们的<code class="fe lk ll lm ln b">Extract</code>语句中定义了不存在于原始联合类型中的成员，那么它们将在新类型中被忽略。例如:</p><pre class="kd ke kf kg gt ne ln nf ng aw nh bi"><span id="da28" class="ni lq in ln b gy nj nk l nl nm">type myUnionType = "🥒" | "🥔" | "🌶" | "🌽"</span><span id="2bd6" class="ni lq in ln b gy nn nk l nl nm">let myFirstVariable:Extract&lt;myUnionType, "🥒" | "🥔" | "🍇"&gt; = "🥒"<br/>//  ^<br/>//  └ - - Type is STILL "🥒" | "🥔" since "🍇" is not in myUnionType</span></pre><p id="3548" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">使用<code class="fe lk ll lm ln b">Extract</code>并不影响原来的类型，所以如果我们愿意，还是可以使用:</p><pre class="kd ke kf kg gt ne ln nf ng aw nh bi"><span id="57bb" class="ni lq in ln b gy nj nk l nl nm">type myUnionType = "🥒" | "🥔" | "🌶" | "🌽"</span><span id="c3b7" class="ni lq in ln b gy nn nk l nl nm">let myFirstVariable:Extract&lt;myUnionType, "🥒" | "🥔" | "🍇"&gt; = "🥒"<br/>//  ^<br/>//  └ - - Type is "🥒" | "🥔"</span><span id="509e" class="ni lq in ln b gy nn nk l nl nm">let mySecondVariable:myUnionType = "🌶"<br/>//  ^<br/>//  └ - - Type is "🥒" | "🥔" | "🌶" | "🌽"</span></pre><p id="e984" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此，当我们希望将原始的联合类型限制为特定变量或输出的已定义成员数时，<code class="fe lk ll lm ln b">Extract</code>是一个很好的工具。它给了我们灵活性，让我们可以动态地定义类型，我们可以在代码中的任何地方使用它。</p><p id="029e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个题目到此为止。感谢您的阅读。</p><p id="4fe5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="no">更多内容请看</em><a class="ae lo" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="no">plain English . io</em></strong></a><em class="no">。报名参加我们的</em> <a class="ae lo" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="no">免费周报</em> </strong> </a> <em class="no">。关注我们关于</em><a class="ae lo" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="no">Twitter</em></strong></a><em class="no">和</em><strong class="kq io"><em class="no"/></strong><a class="ae lo" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="no">LinkedIn</em></strong></a><em class="no">。加入我们的</em> <a class="ae lo" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="no">社区</em> </strong> </a> <em class="no">。</em></p></div></div>    
</body>
</html>