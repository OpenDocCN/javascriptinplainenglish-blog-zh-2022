<html>
<head>
<title>Step-by-Step Tutorial: React Redux 2022 with Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分步教程:用钩子反应Redux 2022</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/step-by-step-tutorial-react-redux-2022-with-hooks-3b5d63b18be9?source=collection_archive---------0-----------------------#2022-04-07">https://javascript.plainenglish.io/step-by-step-tutorial-react-redux-2022-with-hooks-3b5d63b18be9?source=collection_archive---------0-----------------------#2022-04-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="835e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从头开始创建一个商店，并与挂钩整合。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b446ea433276fc5d21f57a806f6d524a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LzbzJ8qwJmv7PStdiz40xQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image made by author + <a class="ae kv" href="https://unsplash.com/photos/C-EO0Z9utn8" rel="noopener ugc nofollow" target="_blank">Sana</a></figcaption></figure><p id="d3a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本教程并不意味着教你任何最佳实践或生产代码；相反，它旨在向您展示Redux是如何工作的，以及如何将它与钩子集成在一起！</p><p id="9ec5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在任何真正的生产应用程序中，你几乎肯定会使用Redux Toolkit而不是基本的Redux，但是让我们开始吧！</p><h1 id="0069" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Redux解决管理全局状态的问题</h1><p id="2899" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">众所周知，在大型web应用程序中管理状态，甚至是不太复杂的小型应用程序，都是非常困难的。</p><p id="b5c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可能需要将道具从一个父组件转移到五个子组件，然后执行那些道具中可用的功能，等等。</p><p id="46f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个痛苦的跟踪，这就是所谓的<strong class="ky ir">道具钻井</strong>。调试并确保您在使用父组件状态的每个组件中都正确地做到这一点也很困难。</p><p id="0dc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是Redux本身对Redux的说法:</p><blockquote class="mp"><p id="b835" class="mq mr iq bd ms mt mu mv mw mx my lr dk translated">一个集中的地方来包含应用程序中的全局状态，以及在更新该状态以使代码可预测时要遵循的特定模式。</p></blockquote><p id="0c66" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我最近创建了一个加密web应用程序，它允许你跟踪加密，添加货币到你的收藏夹，设置闹钟，等等。</p><p id="ff26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将道具传递到每个组件中会很麻烦，而且会很快失控，因为我有一个navbar，它有一个profile组件，一个profile组件，以及一堆没有相同父组件的展开组件。</p><p id="406e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看组成Redux的各种组件以及它们的含义和作用。</p><p id="1292" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">先说数据是怎么流动的。假设我们在一个按钮组件中，我们想改变Redux中的状态。我们需要调用一个函数来完成，对吗？或者我们只是更新状态？不，我们调用函数来保存我们想要更新的信息以及我们想要更新的有效载荷。这种状态也不会直接变异。</p><p id="bc45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这里有一个简单的例子来说明数据是如何流动的:</strong></p><p id="2faf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们点击按钮组件中的一个按钮时，它应该将<code class="fe ne nf ng nh b">count</code>加1。因此，当我们单击它时，就会调用一个<code class="fe ne nf ng nh b">redux action </code>。</p><h2 id="dee8" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated"><strong class="ak">不同的部分:</strong></h2><h2 id="48f9" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated">1.商店</h2><p id="cdc4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们的Redux应用程序的状态和还原器存储在一个名为<code class="fe ne nf ng nh b">store</code>的对象中。</p><h2 id="4dbd" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated"><strong class="ak"> 2。减速器</strong></h2><p id="9856" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">reducer负责返回一个新的状态，它这样做取决于传递给它的动作。</p><p id="6473" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">reducer是一个将当前状态和动作对象作为输入并输出新状态的函数。根据文档，纯reducer函数用于对状态进行更改:</p><blockquote class="mp"><p id="21cd" class="mq mr iq bd ms mt mu mv mw mx my lr dk translated">要指定如何基于动作更新状态树，需要编写reducer函数。Reducers是纯函数，它接受前一个状态和一个动作，并返回下一个状态。像任何其他函数一样，您可以将reducer拆分成更小的函数来帮助完成工作，或者为常见任务编写可重用的reducer。</p></blockquote><h2 id="ceda" class="ni lt iq bd lu nj nu dn ly nl nv dp mc lf nw no me lj nx nq mg ln ny ns mi nt bi translated">3.行动</h2><p id="d904" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">动作指示reducer如何处理状态，比如将状态更改为我们从动作传递给reducer的值。reducer负责实际改变应用程序的状态，而action负责指定它应该如何改变。通过传递一个带有类型属性和有效负载属性的对象，这个动作描述了缩减器应该做什么。我们可以使用类型来检查缩减应该做什么。</p><p id="f66b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">reducer可能执行5种不同的事情，我们可以使用类型来指定它应该做什么。</p><p id="0a2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，更新用户的用户名。</p><h2 id="da88" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated">4.派遣</h2><p id="5c6a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">派遣是你行动的催化剂。它类似于发射火箭的按钮，在这种情况下就是动作。</p><p id="ac9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">需要记住的另一件事是，对于我们的Redux项目，更新状态的唯一方法是调用dispatch方法并传入action对象。</p><p id="17c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么我们不能改变现状呢？因为如果我们不分派一个动作，我们将能够从应用程序中的任何地方改变状态，并且我们将不能找出它来自哪里。</p><p id="3b26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，Redux知道它在何时、何地、以何种方式变异，并且我们能够更容易地用调试工具来调试它。</p><p id="bced" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也有助于我们有特定的方法来改变状态，而不是从头到尾都有不同的东西。</p><h2 id="7913" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated">5.中间件</h2><p id="6734" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">例如，当动作告诉缩减器做什么时，应该通知缩减器做什么，并给它一个参数，但如果动作是一个函数呢？</p><p id="5d0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，reducer将无法执行任何操作，因为它只接受<code class="fe ne nf ng nh b">objects, arrays, primitive values</code>等形式的参数，而不是必须运行才能返回的函数。</p><p id="1750" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们需要一个中间件来检测一个函数是否作为参数提供，如果是，就调用这个函数，并将函数产生的任何内容作为有效负载提供给reducer。</p><h1 id="41c0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">开始编码</h1><ol class=""><li id="e4c9" class="nz oa iq ky b kz mk lc ml lf ob lj oc ln od lr oe of og oh bi translated">用<code class="fe ne nf ng nh b">npx create-react-app projectname</code>旋转一个React app。</li><li id="1bcc" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">用<code class="fe ne nf ng nh b">npm i redux react-redux</code>安装Redux的依赖项。</li></ol><p id="f8e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们需要的东西都有了，那就开始吧。</p><p id="868e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将制作的应用程序将允许您从Redux状态更改用户名和年龄，并在我们的组件中显示它。</p><p id="c17b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们将创造什么:</strong></p><ol class=""><li id="a9ea" class="nz oa iq ky b kz la lc ld lf on lj oo ln op lr oe of og oh bi translated">包含我们商店及其所有部件的文件夹。</li><li id="23df" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">包含我们的<code class="fe ne nf ng nh b">reducers</code>的文件夹</li><li id="0507" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">一辆<code class="fe ne nf ng nh b">store.js</code>将与我们的减速器一起创建商店。</li><li id="2a4f" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">那将包含我们所有不同的行动。</li><li id="f15a" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated">在<code class="fe ne nf ng nh b">app.js</code>中，我们将使用商店的状态、减少者和行动。</li></ol><p id="3ebc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ne nf ng nh b">src</code>目录下，创建一个<code class="fe ne nf ng nh b">redux</code>文件夹。</p><p id="94f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在redux文件夹中，创建一个<code class="fe ne nf ng nh b">reducers</code>文件夹、一个<code class="fe ne nf ng nh b">actions</code>文件夹和一个<code class="fe ne nf ng nh b">store.js</code>文件。</p><p id="9c72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/5c57adbb1f823837dd80779e467010e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*1Epvm9wBmnm1Q2xrUok4ew.png"/></div></div></figure><h2 id="1045" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated">创建减速器</h2><p id="9c93" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在reducers文件夹中创建一个<code class="fe ne nf ng nh b">addUserReducer.js</code>；这是将返回用户对象的缩减器。</p><p id="ea93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">reducer只是一个函数，它根据动作类型和负载返回一个新的状态。</p><p id="0ff8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在这个<a class="ae kv" href="https://gist.github.com/antondevv/d00499e64d60becac73fd27570dbcbd5" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">文件</strong> </a>中，我们将创建一个函数，它接受一个状态和一个动作对象，检查动作对象中值的类型属性，并根据它包含的类型返回新的状态:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="8c8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们检查类型是否是<code class="fe ne nf ng nh b">CHANGEUSERNAME</code>，如果是，我们返回一个新的状态，并在有效载荷中传递一个新的用户名。</p><p id="89d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">解构主义呢？我们有我们的状态，它是一个可能包含也可能不包含用户的对象；无论哪种情况，我们都希望创建一个包含新用户数据的新对象，所以<code class="fe ne nf ng nh b">...state</code>将被析构为新对象中的内容，并且我们将从有效载荷向对象添加我们的用户详细信息。</p><p id="6d24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，因为我们也希望能够更改用户的年龄，所以让我们包括一个这样的案例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="7ed9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后导出缩减器。</p><p id="bd76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要一种方法来调用这个缩减器，这可以通过定义一个调度动作来实现。</p><h2 id="0f5b" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated">创建操作</h2><p id="555d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">添加用户的操作将是一个函数，它接受用户参数并返回一个类型和有效负载对象，这将是新的名称。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="a538" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要一种方法将这个动作从我们的React组件分派到reducer。</p><p id="26cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我们必须首先将减速器添加到存储中。Redux有一个<code class="fe ne nf ng nh b">createStore</code>方法，我们可以用它来发送我们的reducers、中间件等。</p><p id="078d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么让我们从商店开始吧。在我们的<code class="fe ne nf ng nh b">store.js</code>文件中，我们有以下代码:<a class="ae kv" href="https://gist.github.com/antondevv/7dab8163c180ce306781aa18083c09b4" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/antondevv/7 dab 8163 c 180 ce 306781 aa 18083 c 09 b 4</a></p><p id="88b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在导出之前，我们创建存储并将其传递给我们的reducer。我们现在可以通过将它导入React组件来使用它。</p><h2 id="358e" class="ni lt iq bd lu nj nk dn ly nl nm dp mc lf nn no me lj np nq mg ln nr ns mi nt bi translated">获取React组件中的状态</h2><p id="601d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">React Redux有一个叫做<code class="fe ne nf ng nh b">useSelector</code>的东西，它允许我们从应用程序的任何地方访问商店状态！</p><p id="a9df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使用它，我们必须将我们的React应用程序包装在一个<code class="fe ne nf ng nh b">store provider</code>中，它告诉React我们希望能够使用包装在提供者中的任何组件的Redux。我们在<code class="fe ne nf ng nh b">index.js</code>中通过导入我们创建的存储和react-redux提供者来实现这一点；你的<code class="fe ne nf ng nh b">index.js</code>应该是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="ef17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在我们的React应用程序中的任何地方，我们都可以访问商店。</p><p id="21dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以让我们从<code class="fe ne nf ng nh b">App.js</code>中的状态获取用户。</p><p id="b165" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们进口<code class="fe ne nf ng nh b">useSelector</code>:</p><pre class="kg kh ki kj gt ot nh ou ov aw ow bi"><span id="3ec4" class="ni lt iq nh b gy ox oy l oz pa"><em class="pb">import</em> { useSelector } <em class="pb">from</em> "react-redux";</span></pre><p id="8a38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简单地调用reducer，它会返回状态:</p><pre class="kg kh ki kj gt ot nh ou ov aw ow bi"><span id="e7de" class="ni lt iq nh b gy ox oy l oz pa">const<em class="pb"> user </em>=<em class="pb"> useSelector</em>((<em class="pb">state</em>)<em class="pb"> </em>=&gt;<em class="pb"> state.userReducer</em>);</span></pre><p id="9840" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们有了用户。</p><p id="2a8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我们来展示一下:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="c5e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们导入我们的操作:</p><pre class="kg kh ki kj gt ot nh ou ov aw ow bi"><span id="590e" class="ni lt iq nh b gy ox oy l oz pa"><em class="pb">import</em> { changeUsersName } <em class="pb">from</em> "./redux/actions/changeUsersName";</span><span id="e91c" class="ni lt iq nh b gy pc oy l oz pa"><em class="pb">import</em> { changeUsersAge } <em class="pb">from</em> "./redux/actions/changeUsersAge";</span></pre><p id="ecdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们导入触发动作的<code class="fe ne nf ng nh b">dispatch</code>:</p><pre class="kg kh ki kj gt ot nh ou ov aw ow bi"><span id="64f7" class="ni lt iq nh b gy ox oy l oz pa"><em class="pb">import</em> { useSelector, useDispatch } <em class="pb">from</em> "react-redux";</span></pre><p id="3975" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以通过将动作传递到分派中来触发动作，如下所示:</p><pre class="kg kh ki kj gt ot nh ou ov aw ow bi"><span id="39a8" class="ni lt iq nh b gy ox oy l oz pa"><em class="pb">dispatch</em>(<em class="pb">changeUsersName</em>("name"));</span></pre><p id="08ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，让我们添加2个输入字段，以便更新用户数据。</p><p id="542f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这是</strong> <code class="fe ne nf ng nh b"><strong class="ky ir">App.js</strong></code>的最终代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="a69d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">它应该是这样的:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/3120bc5256a98eddba33eb0573360481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2S4CdRo-TcGbG7A0cyi9g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image made by author</figcaption></figure><p id="879a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们都准备好了！而且我们应该可以在Redux状态下更新用户！</p><p id="90e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我包括我的GitHub回购，如果你想克隆它:<a class="ae kv" href="https://github.com/antondevv/Medium-redux" rel="noopener ugc nofollow" target="_blank">https://github.com/antondevv/Medium-redux</a></p><p id="214b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="pb">你好，如果你想体验灵媒，请考虑支持我和所有其他作家，注册成为</em> <a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir"> <em class="pb">会员</em> </strong> </a> <em class="pb">每月5美元以保持独立写作，在这里注册；)</em>  </p><p id="1171" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了支持他人，Medium还可以通过写作和在此安家的强大、积极参与的社区来支持你。</p><p id="62f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="pb">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pb">plain English . io</em></strong></a><em class="pb">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pb">免费周报</em> </strong> </a> <em class="pb">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pb">Twitter</em></strong></a><em class="pb">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="pb">LinkedIn</em></strong></a><em class="pb">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="pb">社区不和谐</em> </strong> </a> <em class="pb">。</em></p></div></div>    
</body>
</html>