<html>
<head>
<title>Fix: Cannot Read Property ‘constructor’ of undefined error in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">修复:无法读取JavaScript中未定义错误的属性“构造函数”</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-cannot-read-property-constructor-of-undefined-bb6bb6fd96a7?source=collection_archive---------3-----------------------#2022-06-14">https://javascript.plainenglish.io/javascript-cannot-read-property-constructor-of-undefined-bb6bb6fd96a7?source=collection_archive---------3-----------------------#2022-06-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/490a16117816fe79ef8a3c6ee4b2446f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qb_8F9pA6iO1x3SvJ4tGhg.png"/></div></div></figure><p id="4e0d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">当您试图访问变量<code class="fe kt ku kv kw b">undefined</code>的<code class="fe kt ku kv kw b">constructor</code>属性时，会出现“无法读取undefined的属性‘构造函数’”错误。要修复它，在尝试访问<code class="fe kt ku kv kw b">constructor</code>属性之前，对变量执行一个<code class="fe kt ku kv kw b">undefined</code>检查。</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="cee2" class="lf lg in kw b gy lh li l lj lk">const user = undefined;</span><span id="1463" class="lf lg in kw b gy ll li l lj lk">// TypeError: Cannot read properties of undefined (reading 'constructor')<br/>const User = user.constructor;<br/>const newUser = new User();</span></pre><p id="b726" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在这个例子中，<code class="fe kt ku kv kw b">user</code>变量是<code class="fe kt ku kv kw b">undefined</code>，所以当我们试图从它那里访问一个属性时会得到一个错误。我们通过在访问<code class="fe kt ku kv kw b">constructor</code>属性之前检查变量是否为nullish来修复它。我们可以用可选的链接操作符(<code class="fe kt ku kv kw b">?.</code>)来实现:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="511e" class="lf lg in kw b gy lh li l lj lk">const user = undefined;</span><span id="2b34" class="lf lg in kw b gy ll li l lj lk">// Optional chaining in if statement<br/>if (user?.constructor) {<br/>  const User = user?.constructor;<br/>  const newUser = new User();<br/>}</span></pre><p id="0b94" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">在变量上使用可选的链接操作符将返回<code class="fe kt ku kv kw b">undefined</code>，如果变量是nullish ( <code class="fe kt ku kv kw b">null</code>或<code class="fe kt ku kv kw b">undefined</code>)，将阻止属性访问。</p><p id="307d" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">我们还可以使用一个<code class="fe kt ku kv kw b">if</code>语句来检查变量是否真实:</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="5087" class="lf lg in kw b gy lh li l lj lk">const user = undefined;</span><span id="2ad2" class="lf lg in kw b gy ll li l lj lk">// Check if 'user' is truthy<br/>if (user &amp;&amp; user.constructor) {<br/>  const User = user.constructor;<br/>  const newUser = new User();<br/>}</span></pre><h2 id="208c" class="lf lg in bd lm ln lo dn lp lq lr dp ls kg lt lu lv kk lw lx ly ko lz ma mb mc bi translated">小费</h2><p id="07ae" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">在JavaScript中，实例对象的<code class="fe kt ku kv kw b">constructor</code>属性返回对创建该对象的<code class="fe kt ku kv kw b">Object</code>构造函数的引用。</p><pre class="kx ky kz la gt lb kw lc ld aw le bi"><span id="39b8" class="lf lg in kw b gy lh li l lj lk">let obj1 = {};<br/>obj1.constructor === Object; // -&gt; true</span><span id="8869" class="lf lg in kw b gy ll li l lj lk">let obj2 = new Object();<br/>obj2.constructor === Object; // -&gt; true</span><span id="dadb" class="lf lg in kw b gy ll li l lj lk">let arr1 = [];<br/>arr1.constructor === Array; // -&gt; true</span><span id="0408" class="lf lg in kw b gy ll li l lj lk">let arr2 = new Array();<br/>arr2.constructor === Array; // -&gt; true</span><span id="4db8" class="lf lg in kw b gy ll li l lj lk">let num = new Number(3)<br/>num.constructor === Number; // -&gt; true</span></pre></div><div class="ab cl mi mj hr mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ig ih ii ij ik"><p id="83d9" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated"><em class="mp">更新于:</em><a class="ae mq" href="https://cbdev.link/0b5c4b" rel="noopener ugc nofollow" target="_blank"><em class="mp">codingbeautydev.com</em></a></p><h1 id="595c" class="mr lg in bd lm ms mt mu lp mv mw mx ls my mz na lv nb nc nd ly ne nf ng mb nh bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph jv jw in jx b jy md ka kb kc me ke kf kg mf ki kj kk mg km kn ko mh kq kr ks ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kx ky kz la gt jo gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/c540b3073d35ba821d506504618c25a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*7xo67KTthQrCPU_TOVqbZA.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph jv jw in jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks ig bi translated">点击 免费获得<a class="ae mq" href="https://codingbeautydev.com/crazy-js-book/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx io">。</strong></a></p></div></div>    
</body>
</html>