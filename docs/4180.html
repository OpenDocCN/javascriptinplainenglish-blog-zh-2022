<html>
<head>
<title>Create Pixel Perfect, Scalable Designs Using CSS Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CSS变量创建像素完美、可扩展的设计</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-pixel-perfect-scalable-designs-using-css-variables-b2747c45f16c?source=collection_archive---------2-----------------------#2022-11-04">https://javascript.plainenglish.io/create-pixel-perfect-scalable-designs-using-css-variables-b2747c45f16c?source=collection_archive---------2-----------------------#2022-11-04</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="7c0c" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">一个全面的博客，涵盖所有你需要知道的CSS变量。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/adde51abbdc7e6f825ff6ddda0ca2934.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HrL92-HnJbAv89O0"/></div></div></figure><p id="1dfa" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">变量可以被认为是一种存储和重用值的手段。使用变量的核心优势是可重用性——使开发人员能够重用相同的值&amp;如果有意义地命名，变量可以增强代码的可读性。</p><p id="f03a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们也可以在CSS中使用这些变量，称为CSS变量——这些是开发人员声明的简单变量，用于在整个页面中全局或局部重用特定的CSS属性。语法非常简单:指定属性，<em class="lk">，比如— heading-size: 30px </em>，然后通过var()方法使用它。</p><p id="3a67" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">许多web开发人员甚至使用CSS预处理器<a class="ae ll" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"> SASS </a>，它作为CSS &amp;的扩展提供了更高级的属性。我们可以在SASS中指定变量，以及常规CSS中没有的各种附加功能。方法是相同的，但是我们使用<code class="fe lm ln lo lp b">$</code>符号而不是两个连字符来保存变量值。</p><p id="9764" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然而，由于SASS是一个预处理器，SASS变量在编译时会变成普通的CSS。因此，SASS变量不存在于生成的代码中，因此，您不能在浏览器中访问它们。与SASS相比，这使得在原生CSS中使用变量更有利于开发。</p><p id="bcd5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">另一方面，多亏了JavaScript，我们可以在浏览器内部访问CSS变量并修改它们的值。</p><p id="e76a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">为了正确理解CSS变量的好处，我们先来看看在使用它们之前是什么样子的。</p><h1 id="7973" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">声明不带变量的CSS属性</h1><p id="4fe9" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">更具体地说，我们可以在不声明CSS变量的情况下声明CSS属性。</p><p id="aa34" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">例如在<code class="fe lm ln lo lp b">index.html</code> :-</p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="b573" class="mr lr in lp b gy ms mt l mu mv">.home-page{  background-color: #2C2C2C; }</span></pre><p id="d4b5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">同样的，我们必须在内部定义<code class="fe lm ln lo lp b">about.html</code>或者<code class="fe lm ln lo lp b">project.html</code>文件。</p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="06a8" class="mr lr in lp b gy ms mt l mu mv">.about-page{  background-color: #2C2C2C; }</span></pre><p id="7185" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在不同的页面上复制相同的代码是一种不好的做法，而且还可能导致意外的错误。</p><p id="b011" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">所有这些问题都可以通过使用CSS变量解决。</p><h1 id="ab30" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">为什么使用CSS变量</h1><p id="19e2" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">现代应用程序往往有几个页面和屏幕，构建起来很复杂，因此在开始实际开发之前，有必要创建设计和原型。这些设计需要有统一的颜色、字体和风格来传达品牌身份&amp;主题。</p><p id="4c35" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当我们必须定义这些属性时，它变得越来越具有挑战性。因此，我们可以简单地通过建立一个依赖于页面的具有不同名称的变量来防止错误。</p><p id="6889" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">首先，为每个CSS属性使用CSS变量是没有意义的——您只需要将那些计划在应用程序中重用的属性转换为变量。</p><p id="e5fe" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">具体是什么时候？假设您为多个页面或部分指定了相同的背景或文本颜色。如果您使用相同的CSS属性，例如几个部分的背景颜色，在这种情况下采用CSS变量是一个明智的决定。这有助于在多个页面上建立相同的设计语言。</p><h1 id="cf7f" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">如何声明这些变量</h1><p id="11a5" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">我们已经讨论过CSS变量是具有唯一名称和值的自定义CSS属性。</p><p id="4ea7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">它的语法如下:var( —名称，值)</p><ol class=""><li id="3f4f" class="mw mx in kq b kr ks ku kv kx my lb mz lf na lj nb nc nd ne bi translated">—名称:变量名必须以两个破折号(—名称)开头。</li><li id="77fb" class="mw mx in kq b kr nf ku ng kx nh lb ni lf nj lj nb nc nd ne bi translated">值:它是可选的。</li></ol><p id="fcbd" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在让我们讨论创建CSS变量的两种方法:</p><ol class=""><li id="9c5c" class="mw mx in kq b kr ks ku kv kx my lb mz lf na lj nb nc nd ne bi translated">全局变量:这些变量可能在整个文档中被访问/使用；我们只需要在根选择器中定义它们。</li><li id="4839" class="mw mx in kq b kr nf ku ng kx nh lb ni lf nj lj nb nc nd ne bi translated">局部变量:另一方面，局部变量只能在声明它们的选择器中使用。</li></ol><p id="1650" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们用最简单的例子来解释。在body标签中，我们指定了两个标签。</p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="c85d" class="mr lr in lp b gy ms mt l mu mv">&lt;body&gt; <br/>&lt;h1&gt;Locofy&lt;/h1&gt; <br/>&lt;p&gt;One of the best no-code platform.&lt;/p&gt; <br/>&lt;/body&gt;</span></pre><p id="ded2" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在让我们全局定义CSS变量。</p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="57e1" class="mr lr in lp b gy ms mt l mu mv">/* Defining global variables  */ <br/>:root { <br/>--bg-color: blue; <br/>--text-color: white; <br/>}</span></pre><p id="c2ae" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在让我们将CSS变量设置为特定的HTML标签。</p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="069f" class="mr lr in lp b gy ms mt l mu mv">body { <br/>background-color: var(--bg-color);<br/>} <br/>h1 { <br/>color: var(--text-color); <br/>}</span></pre><p id="7e30" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">完整的代码如下所示:</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h1 id="eb39" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">用JavaScript改变CSS变量</h1><p id="3454" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">您也可以使用JavaScript动态更新CSS变量，比如改变按钮颜色或在输入字段周围显示红色边框来表示一些错误。</p><p id="956e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们以一个简单的网站页面为例，当按下按钮时，文本大小会增加。</p><p id="903a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> HTML </strong></p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="fbcc" class="mr lr in lp b gy ms mt l mu mv">&lt;p&gt;The below button will change my font size.&lt;/p&gt; <br/>&lt;button type="button" onclick="getFontSize()"&gt;Get font size&lt;/button&gt; &lt;button type="button" onclick="setFontSize()"&gt;Set font size&lt;/button&gt;</span></pre><p id="335e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这里我们定义了一个段落标签。接下来，我们定义了两个按钮:一个用来获取字体大小，另一个用来改变字体大小。</p><p id="cb3d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> CSS </strong></p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="688a" class="mr lr in lp b gy ms mt l mu mv">:root { <br/>--font-size: 30px; <br/>} <br/>p { <br/>font-size: var(--font-size); <br/>}</span></pre><p id="de06" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在，让我们在根选择器中定义一个全局变量。之后，我们将p标签的字体大小设置为。</p><p id="129a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在是时候在javascript的帮助下改变字体大小了。</p><p id="bd7b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> JavaScript </strong></p><pre class="kd ke kf kg gt mn lp mo mp aw mq bi"><span id="d918" class="mr lr in lp b gy ms mt l mu mv">var getProperties = document.querySelector(':root'); </span><span id="469e" class="mr lr in lp b gy nm mt l mu mv">function getFontSize() { <br/>var value = getComputedStyle(getProperties); <br/>alert("Font size is: "+ value.getPropertyValue('--font-size'));<br/>} </span><span id="b734" class="mr lr in lp b gy nm mt l mu mv">function setFontSize() { <br/>getProperties.style.setProperty('--font-size', '60px'); <br/>}</span></pre><p id="b000" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这里，我们定义了一个名为getProperties的变量，它将保存根选择器中存储的所有变量。</p><p id="c3be" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">后来，我们定义了两个函数:一个显示当前字体大小，另一个设置新的字体大小。</p><p id="fb40" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就是这样——段落标签的字体大小会从30px增加到60px。</p><h1 id="fa30" class="lq lr in bd ls lt lu lv lw lx ly lz ma jt mb ju mc jw md jx me jz mf ka mg mh bi translated">CSS变量可以用在哪里？</h1><p id="c78f" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">通过一个例子，我们了解了CSS变量以及如何用JavaScript修改CSS变量。</p><p id="26d1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在是时候把它放到你的项目中了。</p><p id="f961" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">所有的顶级框架，比如<a class="ae ll" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>，<a class="ae ll" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank">Angular</a>&amp;<a class="ae ll" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank">Vue</a>都支持CSS变量开箱即用。就像我们在这篇文章中看到的一样简单。</p><p id="026c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">CSS变量允许构建者重用他们的属性，并为他们的项目创建一个统一的、可扩展的设计系统。</p><p id="5322" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">然而，从您的设计文件到使用CSS变量的高质量代码不仅耗时，而且对开发人员来说也有点挑战，因为他们可能不完全了解哪些属性应该转换为变量。</p><p id="b758" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是<a class="ae ll" href="https://locofy.ai" rel="noopener ugc nofollow" target="_blank"> Locofy.ai </a>可以大有帮助的地方。使用Figma的Locofy.ai插件，你不仅可以将你的设计导出到React、React Native、HTML-CSS、Gatsby &amp; Next.js中的生产就绪代码，而且该插件还可以<a class="ae ll" href="https://guide.locofy.ai/enabling-css-variables-for-your-code-export" rel="noopener ugc nofollow" target="_blank">生成CSS变量</a>。</p><p id="b2a3" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">Locofy.ai引用你的<a class="ae ll" href="https://help.figma.com/hc/en-us/articles/360039238753-Styles-in-Figma" rel="noopener ugc nofollow" target="_blank"> Figma Styles </a>生成CSS变量。此外，它检测常用的重用变量，例如字体和填充，&amp;也将它们转换成CSS变量。</p></div><div class="ab cl nn no hr np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ig ih ii ij ik"><p id="8a31" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">希望你喜欢。</p><p id="18b0" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">就这样——谢谢。</p><p id="e829" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><a class="ae ll" href="https://nitinfab.medium.com/membership" rel="noopener"> <em class="lk">如果你喜欢看这样的故事，并想帮助我成为一名作家，考虑成为一名中等成员</em> </a> <em class="lk">。每月花费5美元，你可以无限制地访问媒体内容。如果你通过我的链接注册，我会得到一点佣金。</em></p><p id="4def" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">原载于</em><a class="ae ll" href="https://blog.locofy.ai/create-pixel-perfect-scalable-designs-using-css-variables" rel="noopener ugc nofollow" target="_blank"><em class="lk">https://blog . locofy . ai</em></a><em class="lk">。</em></p><p id="44e4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="lk">更多内容请看</em><a class="ae ll" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">plain English . io</em></strong></a><em class="lk">。报名参加我们的</em> <a class="ae ll" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="lk">免费周报</em> </strong> </a> <em class="lk">。关注我们关于</em><a class="ae ll" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">Twitter</em></strong></a><a class="ae ll" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">LinkedIn</em></strong></a><em class="lk"/><a class="ae ll" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">YouTube</em></strong></a><em class="lk"/><a class="ae ll" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="lk">不和</em> </strong> </a> <em class="lk">。对增长黑客感兴趣？检查</em> <a class="ae ll" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="lk">电路</em> </strong> </a> <em class="lk">。</em></p></div></div>    
</body>
</html>