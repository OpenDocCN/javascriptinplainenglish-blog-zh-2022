<html>
<head>
<title>5 Little-Known Techniques to Improve Your TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个鲜为人知的技术来改善你的打字稿</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/5-little-known-techniques-to-improve-your-typescript-5a4717b4b921?source=collection_archive---------14-----------------------#2022-01-25">https://javascript.plainenglish.io/5-little-known-techniques-to-improve-your-typescript-5a4717b4b921?source=collection_archive---------14-----------------------#2022-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="40ee" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">排名第一的JavaScript超集中的有用技巧</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3804896591c5289f9f5e60afafebc873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kbI3ux2Nx3TzvBpw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@cookiethepom?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Cookie the Pom</a> on <a class="ae kv" href="https://unsplash.com/s/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2c3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">自2012年由微软创建以来，TypeScript一直处于上升趋势。TypeScript最初是一个低调的项目，旨在提高普通JavaScript的可靠性，现在是专业开发人员使用第五多的编程语言。说TypeScript无处不在并不夸张。</p><p id="3b46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为TypeScript被如此迅速地采用，许多新开发人员每天都开始他们的TypeScript之旅。学习一门新语言需要很多问题和改进的空间。回头看看我前一年的TypeScript代码，我经常觉得它应该一起重构。所以，为了开始你的打字旅程，或者扩展你已经无懈可击的知识，这里有5个鲜为人知的技巧来提高你的打字水平。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="9136" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">1.不可变对象和数组</h2><p id="7a5d" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">对象和数组值总是可以被修改，即使被赋值给<code class="fe mx my mz na b">const</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="bc4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是如果您希望数组或对象的值保持不变呢？TypeScript提供了一个简单的解决方案:通过在声明后添加<code class="fe mx my mz na b">as const</code>,值和它们的顺序——在数组的情况下——变得不可变。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h2 id="70f4" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">2.完整的开关盒</h2><p id="e4a6" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated"><code class="fe mx my mz na b">Enums</code>非常适合开关箱。它们允许您根据一组常量轻松地检查一个值。在下面的例子中,<code class="fe mx my mz na b">Fruits</code>枚举用于查找箱子中的水果，并将其记录到控制台。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="2779" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是枚举倾向于扩展。如果我们喜欢另一种水果，比如橘子，会怎么样？我们可以将<code class="fe mx my mz na b">ORANGE</code>添加到枚举中，但是只要开关的情况保持不变，我们就永远不会将‘orange’记录到控制台中。</p><p id="a053" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了确保一个开关考虑到一个枚举的所有成员，我们可以添加一个详尽的检查。通过将案例中的<code class="fe mx my mz na b">default</code>值键入为<code class="fe mx my mz na b">never</code>，我们暗示该值永远不会达到。因此，当开关不完整，从而可能达到默认值时，将会出现编译错误。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h2 id="0b0a" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak"> 3。选择上方的'</strong><code class="fe mx my mz na b"><strong class="ak">unknown’</strong></code><strong class="ak">'</strong><code class="fe mx my mz na b"><strong class="ak">any’</strong></code></h2><p id="9f29" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">打字稿就像衣服上的“一刀切”:适用于任何情况，但不合身，也不讨人喜欢。<code class="fe mx my mz na b">any</code>的问题在于它不是类型安全的，这意味着可能会出现类型错误。</p><p id="885c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，假设我们有一个类型为<code class="fe mx my mz na b">any</code>的变量<code class="fe mx my mz na b">a</code>，它包含一个数字。由于没有类型安全，我们可以将这个数字赋给一个字符串类型的变量，或者称它为函数，这显然会引起问题。</p><p id="00c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mx my mz na b">unknown</code>是<code class="fe mx my mz na b">any</code>的类型安全对应。这意味着您可以将任何值赋给unknown，但是<em class="nd">不能将unknown赋给任何值。因此，虽然使用<code class="fe mx my mz na b">any</code>完全违背了类型脚本的目的，但是<code class="fe mx my mz na b">unknown</code>允许在不牺牲类型安全性的情况下处理不明确的类型。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h2 id="38be" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">4.动态验证对象键</h2><p id="8816" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">使用JavaScript意味着使用对象。事实上，这意味着处理大量的对象。因此，JS函数经常接受对象的键作为参数，以动态地从不同类型的对象中获取值。</p><p id="1aa1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是如何保证给定的密钥存在呢？假设您试图使用键<code class="fe mx my mz na b">createdAt</code>获得一个<code class="fe mx my mz na b">Date</code>值，但是这个键被命名为<code class="fe mx my mz na b">created</code>。这类错误会导致令人讨厌的错误和意想不到的行为。</p><p id="fe6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过利用<code class="fe mx my mz na b">generic</code>类型和<code class="fe mx my mz na b">keyof</code>属性的能力，您可以确保所提供的键名存在。在下面的例子中，我们将第二个参数<code class="fe mx my mz na b">dateKey</code>限制为所提供类型的有效键，消除了不存在键的风险。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://gist.github.com/pvaneveld/b9bac53e441411a2242273224a27b4c0" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/pvaneveld/b9bac53e441411a2242273224a27b4c0</a></figcaption></figure><h2 id="807f" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated"><strong class="ak"> 5。使用记录灵活打字</strong></h2><p id="d843" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">有时，键-值对的确切类型事先并不知道。由于缺乏信息，这使得接口的创建变得复杂。在这些情况下，TypeScript的<code class="fe mx my mz na b">Record</code>就派上了用场。</p><p id="6b86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mx my mz na b">Record</code>允许您通过提供允许键和值类型来定义类型。因此，例如，<code class="fe mx my mz na b">Record&lt;string, number&gt;</code>对应于具有字符串类型键和数字类型值的对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="539b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们完了。我希望你在这个过程中学到了一些东西。喜欢这篇文章吗？那么我相信你也会喜欢在我下面的文章中找到一些有用的东西。</p><div class="ne nf gp gr ng nh"><a rel="noopener  ugc nofollow" target="_blank" href="/7-little-known-techniques-to-improve-your-javascript-20a9e870a5fe"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">提高JavaScript的7个鲜为人知的技巧</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">世界上最著名的编码语言的隐藏宝石</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv kp nh"/></div></div></a></div><p id="3b0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nd">更多内容请看</em><a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nd">plain English . io</em></strong></a><em class="nd">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">免费周报</em> </strong> </a> <em class="nd">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nd">社区</em> </strong> </a> <em class="nd">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>