<html>
<head>
<title>Check if a Mouse Button is Kept Down After We Press It with JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript检查我们按下鼠标按钮后它是否被按住</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-check-if-a-mouse-button-is-kept-down-after-we-press-it-with-javascript-6dd13091d584?source=collection_archive---------7-----------------------#2022-08-31">https://javascript.plainenglish.io/how-to-check-if-a-mouse-button-is-kept-down-after-we-press-it-with-javascript-6dd13091d584?source=collection_archive---------7-----------------------#2022-08-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fe49" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个JavaScript教程，关于在我们按下鼠标按钮后检查它是否被按住。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/18a750f53f21e913f212ef66ec914e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UVubZmm-IV2JHUHB"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sweetmangostudios?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ricky Kharawala</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e4c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，我们想用JavaScript检查鼠标按钮按下后是否还在按下。</p><p id="25d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将看看如何用JavaScript来检查在我们按下鼠标按钮后它是否被按住。</p><h1 id="bc61" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">侦听mousedown和mouseup事件</h1><p id="798e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以监听<code class="fe mp mq mr ms b">mousedown</code>和<code class="fe mp mq mr ms b">mouseup</code>事件来检查在我们按下鼠标按钮后鼠标按钮是否被按住。</p><p id="b81a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们可以写:</p><pre class="kg kh ki kj gt mt ms mu mv aw mw bi"><span id="6bd7" class="mx lt iq ms b gy my mz l na nb">let mouseDown = 0;<br/>window.onmousedown = () =&gt; {<br/>  ++mouseDown;<br/>  if (mouseDown) {<br/>    console.log('mouse button down')<br/>  }<br/>}<br/>window.onmouseup = () =&gt; {<br/>  --mouseDown;<br/>  if (mouseDown) {<br/>    console.log('mouse button down')<br/>  }<br/>}</span></pre><p id="48e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将<code class="fe mp mq mr ms b">window.onmousedown</code>和<code class="fe mp mq mr ms b">window.onmouseup</code>属性设置为改变<code class="fe mp mq mr ms b">mouseDown</code>计数的函数，以监听整个选项卡上的<code class="fe mp mq mr ms b">mousedown</code>和<code class="fe mp mq mr ms b">mouseup</code>事件。</p><p id="1d5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果发出了<code class="fe mp mq mr ms b">mousedown</code>事件，我们递增<code class="fe mp mq mr ms b">mouseDown</code>。</p><p id="6b21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果发出了<code class="fe mp mq mr ms b">mouseup</code>事件，我们递减<code class="fe mp mq mr ms b">mouseDown</code>。</p><p id="4319" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mp mq mr ms b">mousedown</code>当我们按下鼠标按钮时发出事件。</p><p id="48f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们停止按下鼠标键时会发出<code class="fe mp mq mr ms b">mouseup</code>。</p><p id="1c9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，如果<code class="fe mp mq mr ms b">mouseDown</code>大于0，鼠标键保持按下。</p><h1 id="b6ea" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="5f21" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们可以通过监听<code class="fe mp mq mr ms b">mousedown</code>和<code class="fe mp mq mr ms b">mouseup</code>事件来检查鼠标按钮是否被按下，并记录鼠标按钮被按下或抬起的次数。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="c35d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nj">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">plain English . io</em></strong></a><em class="nj">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nj">免费周报</em> </strong> </a> <em class="nj">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">LinkedIn</em></strong></a><em class="nj"/><a class="ae kv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">YouTube</em></strong></a><em class="nj"/><a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nj">不和</em> </strong> </a> <em class="nj">。</em></p></div></div>    
</body>
</html>