<html>
<head>
<title>Advice from a Seasoned Dev: Keep Using the Implicit Else</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">来自经验丰富的开发人员的建议:继续使用隐含的Else</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/advice-from-a-seasoned-dev-keep-using-the-implicit-else-3e1b7c4695ec?source=collection_archive---------1-----------------------#2022-06-16">https://javascript.plainenglish.io/advice-from-a-seasoned-dev-keep-using-the-implicit-else-3e1b7c4695ec?source=collection_archive---------1-----------------------#2022-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="07aa" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不要接受媒体上任何人的编程建议。即使是经验丰富的专业人士有时也会给出糟糕的建议。这只是一个例子。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/40eb3f3b1f6e497eb1d2922da0d0d6ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*su6qkqj0Xdms4sfFPRpC4Q.png"/></div></div></figure><p id="4a6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">大约一个月前，我在Medium上读到一篇名为<a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/advice-from-a-senior-dev-stop-using-the-implicit-else-2a2ecf0a3583"> <em class="lo">的文章，来自一位资深开发者的建议:停止使用隐含的“else”</em></a><a class="ae ln" href="https://medium.com/@esskew213" rel="noopener">Sarah Q</a><em class="lo">。作者在她的文章中大错特错，所以湿湿的华夫饼干在这里拯救了这一天。</em></p><p id="f750" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请知道，我不是在抨击作者(因为她可能是一个初级开发人员)，但我会抨击高级开发人员给她的建议和文章本身。</p><p id="1aed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将分解文章的所有错误，从副标题开始。建议大家阅读<a class="ae ln" rel="noopener ugc nofollow" target="_blank" href="/advice-from-a-senior-dev-stop-using-the-implicit-else-2a2ecf0a3583"> <strong class="kt ir">原文</strong> </a>了解上下文。</p><h1 id="bdd4" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">副标题</h1><blockquote class="mh mi mj"><p id="d107" class="kr ks lo kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">“我认为有一种趋势——至少在初级开发人员中——认为代码越短越好。但事实并非总是如此。”</p><p id="7343" class="kr ks lo kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">~莎拉q。</p></blockquote><p id="7b5a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">代码越短越好。如果您可以将相同的代码重构为更少的代码行，那么它通常会提供以下优势:</p><ul class=""><li id="3fff" class="mn mo iq kt b ku kv kx ky la mp le mq li mr lm ms mt mu mv bi translated">较小的源尺寸</li><li id="c76a" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">增加可读性</li><li id="16a6" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">提高可维护性</li><li id="40fa" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">降低认知复杂性</li></ul><p id="fcc9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是作者在一个方面是正确的:<em class="lo">事实并非总是如此</em>。但是这篇文章并没有涵盖这些情况中的任何一种——相反，它涵盖了代码越短越好的情况。</p><h1 id="927b" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">作者对隐含的他者的解释</h1><p id="42af" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">这篇文章最精彩的部分是作者对隐含的else是什么的解释:</p><blockquote class="mh mi mj"><p id="10c9" class="kr ks lo kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">对if语句使用隐式else利用了这样一个事实，即<a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return" rel="noopener ugc nofollow" target="_blank">返回语句结束函数执行</a>。在某些情况下，这让我们消除了else语句，从而缩短了代码。</p></blockquote><p id="064f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作者到目前为止还不错。现在让我们看看她给我们提供的例子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/ed27096c89dc6c3ac75ede57096bec81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nn6hGcVM9CiEUlBZ"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Code provided in Sarah Q’s article (but cleaned up a bit)</figcaption></figure><p id="5c6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这一整节都很好；这里没问题。当作者提供更多的例子时，问题就出现了。</p><h1 id="b3dc" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">资深开发者是认真的吗？</h1><p id="ae0c" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">“高级开发人员”声称包含<strong class="kt ir">显式</strong> <code class="fe nl nm nn no b"><strong class="kt ir">else</strong></code>有两个主要原因:</p><blockquote class="mh mi mj"><p id="4172" class="kr ks lo kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">1.Elses有助于保持你的条件句清晰明了，这样它们就可以扩展并且容易被其他人理解(包括你未来的自己)。</p><p id="0c6f" class="kr ks lo kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">2.您可以使用最终的else作为一个总括，或者在传入一个您的函数无法处理的参数时处理错误。</p></blockquote><p id="361d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">第一点:<code class="fe nl nm nn no b">else</code>没有增加可读性或可维护性。使用<code class="fe nl nm nn no b">else</code>关键字对你的代码来说是不必要的。相反，它增加了应用程序的认知复杂性，从而使其他人更难理解。你可以在这篇关于代码环境的伟大文章中了解认知复杂性。</p><p id="ec07" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">第二点:当在一个<code class="fe nl nm nn no b">if</code>语句中返回时，你可以跳过使用else并在函数的底部抛出你的错误。</p><h1 id="dad5" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">可怕的例子</h1><p id="2d78" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">为了加强前面的观点，作者提供了一个可怕的代码示例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/08d535b131f7c50268ba4407d61a1214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4SVDGSK7uC-dl8i8"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Code from Sarah Q’s Article</figcaption></figure><p id="0135" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">她声称使用隐含的else不是好的做法。但是在返回英国的国家代码之前不检查<code class="fe nl nm nn no b">country</code>变量并不是一个好的做法。</p><p id="a4bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">编写这段代码的更好的方法是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/8325829cfbfce3eec5ae4876eb5a9e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G-t4DTKM6z3oKEf3"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">How validation of country names should be done.</figcaption></figure><p id="4019" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为什么这样更好？价值国不是真正的国家怎么办？如果用户输入<code class="fe nl nm nn no b">"Texas"</code>会怎样？那么该函数返回英国的国家代码，而不是德克萨斯的国家代码——这是一个主要的错误。</p><p id="726d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作者提供了一个使用<code class="fe nl nm nn no b">else</code>语句处理该函数不能处理的情况的例子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/5c164f02a8f9ac6096517c02172ee41e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OZIxQuHwBN0ox2BQ"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Code for Sarah Q’s article: Ugly code (using else and else-if when not required)</figcaption></figure><p id="c90c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你还记得之前的观点吗？通过省略隐含的else，您可能会忘记<code class="fe nl nm nn no b">+44</code>国家代码属于哪个国家——但是在这个例子中，她使用<code class="fe nl nm nn no b">if (country === “United Kingdom”)</code>使它变得简单明了。那么，她为什么要提出这样的观点呢？</p><p id="0c99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本例中，<code class="fe nl nm nn no b">else</code>提供了什么优势？没有。你可以忽略它，在函数的底部抛出错误。这种方式仍然清楚地表明，如果函数还没有返回任何内容，则发生了意外情况，并且函数应该抛出一个错误:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/e228617c732df522f372dceaede41c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FmVzrRk5UBXJlD3z"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Cleaned up code using <strong class="bd np">implicit</strong> else the correct way</figcaption></figure><p id="6701" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这不是干净多了吗？更容易阅读？简洁多了？更好的代码？</p><h1 id="3c0b" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">最后一个问题</h1><p id="8abb" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">为了确定是否应该使用隐式else，作者提出了以下问题:</p><blockquote class="mh mi mj"><p id="d6be" class="kr ks lo kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">省略左、右和中间的其他部分真的能让我的代码更容易理解吗？如果有一堆if…返回，然后在底部突然出现一个throw语句，其他人阅读起来会不会很直观？</p></blockquote><p id="f4d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">回答这个问题:省去<code class="fe nl nm nn no b">else</code>会更直观(尤其是在这个场景中)。</p><p id="36f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当你在条件语句中有一堆返回时，你想做什么就一目了然了。用一堆<code class="fe nl nm nn no b">else-ifs</code>和<code class="fe nl nm nn no b">else</code>块把你的代码弄得乱七八糟，会让你更难理解。如果一个<code class="fe nl nm nn no b">throw</code>语句在函数的底部，任何有理性的开发人员都知道每个条件都用尽了，从而抛出一个错误。</p><h1 id="1e18" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">湿漉漉的华夫饼</h1><p id="ec9a" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">这位作者使用的代码示例非常糟糕。还有更好的解决方案，比如使用switch语句。使代码真正可伸缩、可读和可维护的最好方法是使用对象映射:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/9c9c5e20cd0d4f7b3ac36ca4585651c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SnOx6fysuVjQ4si8RTyavg.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Creating a dictionary object mapping country names to country codes</figcaption></figure><ul class=""><li id="c313" class="mn mo iq kt b ku kv kx ky la mp le mq li mr lm ms mt mu mv bi translated"><strong class="kt ir">第1–6行</strong>:定义一个对象，将国家名称映射到国家代码</li><li id="03a3" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">第9行:检查<code class="fe nl nm nn no b">country</code>参数是否是<code class="fe nl nm nn no b">countryCodes</code>对象中的有效键</li><li id="e1b3" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated"><strong class="kt ir">第10行</strong>:通过<code class="fe nl nm nn no b">countryCodes</code>对象返回国家代码</li><li id="5deb" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated"><strong class="kt ir">第11行</strong>:如果第9行的条件为<code class="fe nl nm nn no b">false</code>则抛出错误</li></ul><p id="2b67" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作者说她是初级开发人员。我的问题不在于她，而在于给她建议的高级开发人员。她不知道如何反驳他的论点，所以她相信她同事的话。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><p id="8015" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用适当的知识武装自己是至关重要的，让你拒绝这些过时的想法。</p><p id="de81" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望你喜欢这篇文章。编码快乐！👍</p><p id="e73d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="lo">更多内容看</em> <a class="ae ln" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">说白了就是</em> </strong> </a> <em class="lo">。报名参加我们的</em> <a class="ae ln" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">免费每周简讯</em> </strong> </a> <em class="lo">。关注我们</em><a class="ae ln" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="lo">Twitter</em></strong></a><em class="lo">和</em><a class="ae ln" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="lo">LinkedIn</em></strong></a><em class="lo">。查看我们的</em> <a class="ae ln" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">社区不和谐</em> </strong> </a> <em class="lo">加入我们的</em> <a class="ae ln" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="lo">人才集体</em> </strong> </a> <em class="lo">。</em></p></div></div>    
</body>
</html>