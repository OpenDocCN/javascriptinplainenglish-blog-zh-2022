<html>
<head>
<title>How the TypeScript Exclude Type Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型脚本排除类型的工作方式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-the-typescript-exclude-type-works-dff4f429dc84?source=collection_archive---------19-----------------------#2022-04-11">https://javascript.plainenglish.io/how-the-typescript-exclude-type-works-dff4f429dc84?source=collection_archive---------19-----------------------#2022-04-11</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c323" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">简单看一下Exclude实用程序类型在TypeScript中是如何工作的。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/9eeed293a6e6798477042d86b2d97c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iYYhUz54UhhmEbOqLnmoPw.png"/></div></div></figure><p id="3bd6" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在TypeScript中，<code class="fe lk ll lm ln b">Exclude</code>实用程序类型允许我们从已经定义的联合类型中排除某些成员。这意味着我们可以获取一个现有的类型，并针对特定的情况从其中删除项目。</p><p id="4522" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们看看<code class="fe lk ll lm ln b">Exclude</code>实用程序类型在TypeScript中是如何工作的。</p><h1 id="ba44" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">实用程序类型</h1><p id="e843" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">实用工具类型是在TypeScript中定义的用于解决特定问题的类型。如果您不熟悉在TypeScript中定义自定义类型，请在此处阅读我的定义自定义类型指南:</p><div class="ml mm gp gr mn mo"><a href="https://fjolt.com/article/typescript-creating-custom-types" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd io gy z fp mt fr fs mu fu fw im bi translated">在Typescript中创建自定义类型</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">Javascript是一种弱类型语言，这意味着我们通常不会考虑类型。Typescript是强类型的…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">fjolt.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc km mo"/></div></div></a></div><h1 id="62f2" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">排除类型在TypeScript中的工作方式</h1><p id="ff40" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">在TypeScript中，我们可以定义一个称为联合类型的特定类型。联合类型是某事物可能值的列表。例如:</p><pre class="kd ke kf kg gt nd ln ne nf aw ng bi"><span id="3bf8" class="nh lp in ln b gy ni nj l nk nl">type myUnionType = "🍇" | "🍎" | "🫐" | "🍋"</span></pre><p id="7307" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">上图中，如果我们给某个东西一个myUnionType类型，那么它只能有4个值:🍇,🍎、🫐或🍋。例如:</p><pre class="kd ke kf kg gt nd ln ne nf aw ng bi"><span id="ecbb" class="nh lp in ln b gy ni nj l nk nl">type myUnionType = "🍇" | "🍎" | "🫐" | "🍋"</span><span id="722a" class="nh lp in ln b gy nm nj l nk nl">// This works!<br/>let myString:myUnionType = "🍇"</span><span id="e4fc" class="nh lp in ln b gy nm nj l nk nl">// This throws an error! "Type '"some-string"' is not assignable to type 'myUnionType'.<br/>let secondString:myUnionType = "some-string"</span></pre><p id="3947" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">现在我们已经介绍了工会类型如何工作的基本知识，让我们来谈谈<code class="fe lk ll lm ln b">Exclude</code>。</p><h1 id="aff4" class="lo lp in bd lq lr ls lt lu lv lw lx ly jt lz ju ma jw mb jx mc jz md ka me mf bi translated">排除类型</h1><p id="9baa" class="pw-post-body-paragraph ko kp in kq b kr mg jo kt ku mh jr kw kx mi kz la lb mj ld le lf mk lh li lj ig bi translated">假设我们有一种情况，我们想要使用<code class="fe lk ll lm ln b">myUnionType</code>，但是我们不想包含🍋在有效值列表中。这种情况在现实生活中的API响应中可能会发生——假设您有一个标准的API响应类型，但是您想要从该API类型中删除一个特定情况下的字段。</p><p id="cd05" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这就是我们可以使用<code class="fe lk ll lm ln b">Exclude</code>的地方。它的语法是<code class="fe lk ll lm ln b">Exclude&lt;UnionType, ExcludedMembers&gt;</code>。我们传入普通的联合类型，然后在第二个参数中说明我们想要从中移除哪些成员。</p><p id="ff2d" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们来试试:</p><pre class="kd ke kf kg gt nd ln ne nf aw ng bi"><span id="3a20" class="nh lp in ln b gy ni nj l nk nl">type myUnionType = "🍇" | "🍎" | "🫐" | "🍋"</span><span id="ea74" class="nh lp in ln b gy nm nj l nk nl">// This works!<br/>let lemon:myUnionType = "🍋"</span><span id="465f" class="nh lp in ln b gy nm nj l nk nl">// This throws an error! Type '"🍋"' is not assignable to type '"🍇" | "🍎" | "🫐"'.<br/>let noLemonsPlease:Exclude&lt;MyUnionType, "🍋"&gt; = "🍋"</span></pre><p id="bcee" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">第二个变量<code class="fe lk ll lm ln b">noLemonsPlease</code>抛出一个错误，因为我们使用了<code class="fe lk ll lm ln b">Exclude</code>来移除🍋这个特定变量的联合类型。这意味着我们可以在其他地方正常使用该类型，然后在需要时用<code class="fe lk ll lm ln b">Exclude</code>排除成员。</p><p id="b2e7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果我们想要删除多个成员，我们只需用<code class="fe lk ll lm ln b">|</code>将它们分开:</p><pre class="kd ke kf kg gt nd ln ne nf aw ng bi"><span id="0788" class="nh lp in ln b gy ni nj l nk nl">type myUnionType = "🍇" | "🍎" | "🫐" | "🍋"</span><span id="9f23" class="nh lp in ln b gy nm nj l nk nl">// This works!<br/>let lemon:myUnionType = "🍋"</span><span id="a50f" class="nh lp in ln b gy nm nj l nk nl">let noLemonsPlease:Exclude&lt;myUnionType, "🍋"&gt; = "🍇"<br/>//  ^<br/>//  └ - - Type is  "🍇" | "🍎" | "🫐"</span><span id="98c8" class="nh lp in ln b gy nm nj l nk nl">let noApplesOrLemons:Exclude&lt;myUnionType, "🍋" | "🍎"&gt; = "🍇";<br/>//  ^<br/>//  └ - - Type is  "🍇" | "🫐"</span><span id="f3bb" class="nh lp in ln b gy nm nj l nk nl">let onlyRaspberries:Exclude&lt;myUnionType, "🍋" | "🍎" | "🫐"&gt; = "🍇";<br/>//  ^<br/>//  └ - - Type is  "🍇"</span><span id="e081" class="nh lp in ln b gy nm nj l nk nl">let backToLemons:myUnionType = "🍋"<br/>//  ^<br/>//  └ - - Type is  "🍇" | "🍎" | "🫐" | "🍋"</span></pre><p id="bad4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">因此,<code class="fe lk ll lm ln b">Exclude</code>类型让我们可以灵活地在合适的时候删除特定的元素，并在需要的时候保留它们。</p><p id="856b" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">这个题目到此为止。感谢您的阅读。</p><p id="4fe5" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="nn">更多内容请看</em><a class="ae no" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nn">plain English . io</em></strong></a><em class="nn">。报名参加我们的</em> <a class="ae no" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nn">免费周报</em> </strong> </a> <em class="nn">。关注我们关于</em><a class="ae no" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nn">Twitter</em></strong></a><em class="nn">和</em><strong class="kq io"><em class="nn"/></strong><a class="ae no" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="nn">LinkedIn</em></strong></a><em class="nn">。加入我们的</em> <a class="ae no" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="nn">社区</em> </strong> </a> <em class="nn">。</em></p></div></div>    
</body>
</html>