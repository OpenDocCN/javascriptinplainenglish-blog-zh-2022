<html>
<head>
<title>7 JavaScript Object Traversal Methods You Should Know About</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的7种JavaScript对象遍历方法</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/7-javascript-object-traversal-methods-you-should-know-about-5b4da5edb61a?source=collection_archive---------1-----------------------#2022-09-14">https://javascript.plainenglish.io/7-javascript-object-traversal-methods-you-should-know-about-5b4da5edb61a?source=collection_archive---------1-----------------------#2022-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2d19af38d34b4240bdb6522025bf7779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*frj7vBKy6BhDRCIPn9z2vg.png"/></div></div></figure><p id="9bc7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们在工作中经常会遇到JavaScript对象遍历的场景，但是我们不知道合适的用法以及它们之间的区别。</p><p id="37df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以我系统整理了JavaScript对象遍历的常用方法，供大家参考。</p><h1 id="a26c" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">这是思维导图</h1><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/9803d866f4f04f42ce1c4b7394bc40ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-rVw3D3MSK6jHEvvu9bwBg.png"/></div></div></figure><h1 id="8ca9" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">1.为了…在</h1><ul class=""><li id="88d1" class="lz ma iq ka b kb mb kf mc kj md kn me kr mf kv mg mh mi mj bi translated">遍历对象自身和继承的可枚举属性的键名(不包括<code class="fe mk ml mm mn b">Symbol</code>属性)。</li><li id="0b3a" class="lz ma iq ka b kb mo kf mp kj mq kn mr kr ms kv mg mh mi mj bi translated">因为对象的属性没有顺序，<code class="fe mk ml mm mn b">for… in</code>会对每个属性返回一次，但是输出的属性顺序是不可预知的。</li></ul><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="794b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的<code class="fe mk ml mm mn b">var</code>运算符不是必须的，但是为了保证局部变量，建议使用上面的写法。</p><p id="2f16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在下面的代码中，<code class="fe mk ml mm mn b">for…in</code>属性遍历了<code class="fe mk ml mm mn b">tom</code>对象本身的对象和方法，以及从构造器Person的<code class="fe mk ml mm mn b">prototype</code>原型继承的属性和方法。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="937f" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated"><code class="fe mk ml mm mn b">for…in</code>用于数组遍历</h2><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="6b6b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">遍历数组的缺点:</p><p id="8336" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">a.数组的键名是一个数字，但是<code class="fe mk ml mm mn b">for…in</code>循环采用一个字符串作为键名“0”、“1”、“2”，以此类推。</p><p id="b4d2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">b.for… In循环不仅遍历数字键名，还遍历手动添加的其他键，甚至是原型链上的键。</p><p id="96df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">c.在某些情况下，<code class="fe mk ml mm mn b">for…in</code>循环会以任何顺序遍历键名。</p><p id="df35" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">d.<code class="fe mk ml mm mn b">for…in</code>循环主要用于遍历对象，而不是数组。</p><h2 id="24c5" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">使用<code class="fe mk ml mm mn b"> for…in</code>进行深度克隆</h2><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="5fda" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">2.Object.keys(obj)，Object.values(obj)，Object.entries(obj)</h1><p id="2bc5" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj nh kl km kn ni kp kq kr nj kt ku kv ij bi translated"><code class="fe mk ml mm mn b">Object.keys(obj)</code>、<code class="fe mk ml mm mn b"> Object.values(obj)</code>、<code class="fe mk ml mm mn b">Object.entries(obj) </code>都返回一个数组。区别在于数组成员不同(它们不包含<code class="fe mk ml mm mn b">Symbol</code>属性)。</p><ul class=""><li id="0dbc" class="lz ma iq ka b kb kc kf kg kj nk kn nl kr nm kv mg mh mi mj bi translated"><strong class="ka ir"> Object.keys(obj) </strong></li></ul><p id="cbf3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">返回一个数组，数组成员是参数对象本身所有可枚举属性的键名<strong class="ka ir">(无继承)。</strong></p><ul class=""><li id="44d6" class="lz ma iq ka b kb kc kf kg kj nk kn nl kr nm kv mg mh mi mj bi translated"><strong class="ka ir">对象.值(obj) </strong></li></ul><p id="2936" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">返回一个数组，数组成员是<strong class="ka ir">参数对象本身所有可枚举属性的键值</strong>(不包括继承)。</p><ul class=""><li id="94c1" class="lz ma iq ka b kb kc kf kg kj nk kn nl kr nm kv mg mh mi mj bi translated"><code class="fe mk ml mm mn b"><strong class="ka ir">Object.entries(obj)</strong></code></li></ul><p id="0b9a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">返回一个数组，数组成员是参数对象本身所有可枚举属性的键值对的<strong class="ka ir">数组(不包括继承)。</strong></p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="5421" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">用数组方法遍历对象属性</h2><ul class=""><li id="3be2" class="lz ma iq ka b kb mb kf mc kj md kn me kr mf kv mg mh mi mj bi translated">组合<code class="fe mk ml mm mn b">for…of</code>遍历</li></ul><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><ul class=""><li id="4b9c" class="lz ma iq ka b kb kc kf kg kj nk kn nl kr nm kv mg mh mi mj bi translated">组合<code class="fe mk ml mm mn b">Array.forEach()</code> | <code class="fe mk ml mm mn b">Array.filter()</code> | <code class="fe mk ml mm mn b">Array.map()</code> | <code class="fe mk ml mm mn b">Array.findIndex()</code> | <code class="fe mk ml mm mn b">Array.every()</code> | <code class="fe mk ml mm mn b">Array.some()</code>等。</li></ul><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="0359" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated"><code class="fe mk ml mm mn b">Object.entries(obj)</code>把物体变成真实的地图结构</h2><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="fe30" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">3.object . getownpropertymanames(obj)</h1><p id="6855" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj nh kl km kn ni kp kq kr nj kt ku kv ij bi translated"><code class="fe mk ml mm mn b">Object.getOwnPropertyNames(obj)</code>返回一个数组，数组成员包含对象本身所有属性的键名(不包括符号属性，但包括不可枚举属性)。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="1d0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用array方法可以遍历由<code class="fe mk ml mm mn b">Object.getOwnPropertyNames(obj)</code>返回的数组</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="c454" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">4.object . getownpropertymodals(obj)</h1><p id="3bcd" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj nh kl km kn ni kp kq kr nj kt ku kv ij bi translated"><code class="fe mk ml mm mn b">Object.getOwnPropertySymbols(obj) </code>返回一个数组，数组成员包含<strong class="ka ir">对象本身的所有符号属性</strong>的键名。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="9197" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">Object.getOwnPropertySymbols (obj)</code>与<code class="fe mk ml mm mn b">for…in</code>回路和<code class="fe mk ml mm mn b">Object.getOwnProperNames(obj)</code>的比较。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="9996" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里是一个<code class="fe mk ml mm mn b">Object.getOwnPropertySymbols(obj)</code>遍历对象的例子。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="da40" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">5.Reflect.ownKeys(obj)</h1><p id="70d4" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj nh kl km kn ni kp kq kr nj kt ku kv ij bi translated"><code class="fe mk ml mm mn b">Reflect.ownKeys(obj)</code>会返回一个数组，其成员包含<strong class="ka ir">对象本身的所有键名(不包括继承)</strong>，无论键名是<code class="fe mk ml mm mn b">Symbol</code>还是string，或者是否可枚举，都是<code class="fe mk ml mm mn b">Object. getOwnPropertyNames(obj)</code>和<code class="fe mk ml mm mn b">Object.getOwnPropertySymbols(obj)</code>之和。</p><figure class="lv lw lx ly gt jr"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="2402" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">其他的</h1><h2 id="bdb9" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">遍历对象属性的顺序规则</h2><p id="912f" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj nh kl km kn ni kp kq kr nj kt ku kv ij bi translated">上述遍历对象的方法都遵循相同的规则:</p><ul class=""><li id="a91d" class="lz ma iq ka b kb kc kf kg kj nk kn nl kr nm kv mg mh mi mj bi translated">首先，遍历所有的数字键，按升序排列。</li><li id="80b5" class="lz ma iq ka b kb mo kf mp kj mq kn mr kr ms kv mg mh mi mj bi translated">其次，遍历所有的字符串键，按照添加时间升序排列。</li><li id="35ef" class="lz ma iq ka b kb mo kf mp kj mq kn mr kr ms kv mg mh mi mj bi translated">最后遍历所有的<code class="fe mk ml mm mn b">Symbol</code>键，按照添加时间升序排列。</li></ul><h2 id="1824" class="mv kx iq bd ky mw mx dn lc my mz dp lg kj na nb lk kn nc nd lo kr ne nf ls ng bi translated">注意事项</h2><ul class=""><li id="f88c" class="lz ma iq ka b kb mb kf mc kj md kn me kr mf kv mg mh mi mj bi translated">ES6规定所有类原型的方法都是可枚举的。</li><li id="f0c8" class="lz ma iq ka b kb mo kf mp kj mq kn mr kr ms kv mg mh mi mj bi translated">在操作中引入继承属性会使问题复杂化。很多时候，我们只关心物体本身的属性。因此，尽量不要使用<code class="fe mk ml mm mn b">for…in</code>回路，而使用<code class="fe mk ml mm mn b">Object. keys(obj)</code>代替。</li></ul></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="8731" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nu">更多内容请看</em><a class="ae nv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nu">plain English . io</em></strong></a><em class="nu">。报名参加我们的</em> <a class="ae nv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="nu">免费周报</em> </strong> </a> <em class="nu">。关注我们关于</em><a class="ae nv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nu">Twitter</em></strong></a><a class="ae nv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nu">LinkedIn</em></strong></a><strong class="ka ir"><em class="nu"/></strong><a class="ae nv" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nu">YouTube</em></strong></a><strong class="ka ir"><em class="nu">，以及</em></strong><em class="nu"/><a class="ae nv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="nu">不和</em> </strong> </a>  <em class="nu">对成长黑客感兴趣？检查</em> <a class="ae nv" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="nu">电路</em> </strong> </a> <strong class="ka ir"> <em class="nu">。</em> </strong></p></div></div>    
</body>
</html>