<html>
<head>
<title>Use CSS to Achieve a Beautiful Lol Recall Special Effect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用CSS实现一个漂亮的Lol回忆特效</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/use-css-to-achieve-a-beautiful-lol-back-to-the-city-special-effect-2c90518ecb53?source=collection_archive---------6-----------------------#2022-12-06">https://javascript.plainenglish.io/use-css-to-achieve-a-beautiful-lol-back-to-the-city-special-effect-2c90518ecb53?source=collection_archive---------6-----------------------#2022-12-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6c978adeb8d00aae151f801a2fe98421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PysDNb9k6fwkCjbouVm6gw.png"/></div></div></figure><p id="5505" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为一个老LOL游戏玩家，一直想实现一个回忆的特效，但是水平有限，就简单实现了一下，哈哈哈。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kw"><img src="../Images/aec081168bdbf2a0f2e6d801b7d69452.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/1*hinn2llr8a4r3oI8udQU-Q.gif"/></div></div></figure><h1 id="c9a1" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">密码</h1><p id="2d55" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated">这里我们指的是游戏默认的回忆效果，两个嵌套的圆环，外加一点内影。</p><pre class="kx ky kz la gt me mf mg bn mh mi bi"><span id="0dec" class="mj lc iq mf b be mk ml l mm mn">// html<br/>&lt;div id="bottom-wrap"&gt;<br/>  &lt;div class="bottom-item"&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;<br/><br/>// css<br/>#bottom-wrap {<br/>  position: absolute;<br/>  width: 600px;<br/>  height: 600px;<br/>  left: 50%;<br/>  margin-left: -300px;<br/>  bottom: -300px;<br/>  border-radius: 50%;<br/>  transform-style: preserve-3d;<br/>  box-sizing: border-box;<br/>  transform: rotateX(90deg);<br/>  border: 5px solid #ffb9ff;<br/>  box-shadow: 0 0 50px 2px rgb(255 155 238 / 80%) inset;<br/>}<br/>.bottom-item {<br/>  border: 5px solid #ffb9ff;<br/>  box-shadow: 0 0 50px 2px rgb(255 155 238 / 80%) inset;<br/>  width: 75%;<br/>  height: 75%;<br/>  box-sizing: border-box;<br/>  border-radius: 50%;<br/>  left: 50%;<br/>  top: 50%;<br/>  position: absolute;<br/>  transform: translate(-50%, -50%);<br/>}</span></pre><p id="6e2b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来我们再加一个回城的光束，这样就不会让画面看起来那么单调了。我们直接把这个加到底盘上，用定位把它立起来，加个渐变，透明之类的。</p><pre class="kx ky kz la gt me mf mg bn mh mi bi"><span id="420e" class="mj lc iq mf b be mk ml l mm mn">&lt;div id="bottom-wrap"&gt;<br/>  &lt;div class="bottom-item"&gt;<br/>      &lt;div class="bottom-content"&gt;<br/>      &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;<br/><br/>.bottom-content {<br/>  position: absolute;<br/>  width: 100%;<br/>  height: 4500px;<br/>  opacity: .7;<br/>  background-image: linear-gradient(to right, transparent, rgb(255 151 247 / 60%) ,rgb(253 192 255), rgb(255 151 247 / 60%) 80%, transparent);<br/>  mask-image: linear-gradient(to bottom, transparent -10%,#fff 20%, #fff 80%, transparent);<br/>  -webkit-mask-image: linear-gradient(to bottom, transparent -10%,#fff 20%, #fff 80%, transparent);<br/>  bottom: 50%;<br/>}</span></pre><p id="69f2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那么我们再多加一点动态效果，给一个向上运动的圆环，我们可以直接复制内圈，然后给一个连续向上运动的动画</p><pre class="kx ky kz la gt me mf mg bn mh mi bi"><span id="aedd" class="mj lc iq mf b be mk ml l mm mn">// html<br/>&lt;div id="bottom-wrap"&gt;<br/>  &lt;div class="bottom-item"&gt;<br/>    &lt;div class="bottom-content"&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>  &lt;div class="bottom-item copy"&gt;&lt;/div&gt;<br/>&lt;/div&gt;<br/><br/>// css<br/>.bottom-item.copy {<br/>  animation: moveTop .5s linear infinite;<br/>}<br/><br/>@keyframes moveTop {<br/>  from{<br/>    opacity: 1;<br/>    transform: translate(-50%, -50%) translateZ(0);<br/>  } to{<br/>    opacity: 0;<br/>    transform: translate(-50%, -50%) translateZ(1200px);<br/>  }<br/>}</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/4e820d971f1e0c8d38d8b44dbc3d117a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/1*X4XrkuA4te_8OaJRCrf2EQ.gif"/></div></figure><p id="006c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们继续使用旋转光束效应。</p><pre class="kx ky kz la gt me mf mg bn mh mi bi"><span id="be84" class="mj lc iq mf b be mk ml l mm mn">// html<br/>&lt;div class="light-wrap one"&gt;<br/>  &lt;div class="light-item one"&gt;&lt;/div&gt;<br/>&lt;/div&gt;<br/>&lt;div class="light-wrap two"&gt;<br/>  &lt;div class="light-item two"&gt;&lt;/div&gt;<br/>&lt;/div&gt;<br/>// css<br/>.light-wrap {<br/>  position: absolute;<br/>  width: 800px;<br/>  height: 800px;<br/>  left: 50%;<br/>  bottom: -400px;<br/>  margin-left: -400px;<br/>  transform-style: preserve-3d;<br/>  transform: rotateX(0deg) rotateZ(30deg);<br/>  margin-bottom: 375px;<br/>}<br/>.light-wrap.one {<br/>  transform: rotateX(0deg) rotateZ(150deg);<br/>}<br/>.light-item {<br/>  width: 800px;<br/>  height: 800px;<br/>  border-radius: 50%;<br/>  box-sizing: border-box;<br/>  border: 10px solid #ffb9ff;<br/>  /* box-shadow: 0 0 3px 1px rgb(255 246 82) inset; */<br/>  mask-image: linear-gradient(to top, transparent 25%, #000 75%);<br/>  -webkit-mask-image: linear-gradient(to top, transparent 25%, #000 75%);<br/>  clip-path:polygon(0% 25%, 50% 50%, 0% 75%);<br/>  -webkit-clip-path:polygon(0% 25%, 50% 50%, 0% 75%);<br/>}<br/>.light-item.one {<br/>  animation: rotate-light 3s linear infinite;<br/>}<br/>.light-item.two {<br/>  /* margin-bottom: 450px; */<br/>  animation: rotate-light 3s linear infinite;<br/>}<br/>@keyframes rotate-light {<br/>  from{<br/>    transform: rotateY(360deg) rotateX(90deg);<br/>  } to{<br/>    transform: rotateY(0deg) rotateX(90deg);<br/>  }<br/>}</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/75a03d110fe8df8feb5d4857107214a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/1*OZas9mUPFWBR-2PyczRAhA.gif"/></div></figure><p id="0b3d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们给它加一点花瓣效果吧。</p><p id="472c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为这里我们需要让花瓣斜向下飘，来营造一种风的感觉，所以一定不能是直上直下的，所以给它一点倾斜的角度<code class="fe mp mq mr mf b">transform: rotateZ(30deg)</code>，当它飘起来的时候，一定不仅在水平方向它会倾斜，而且它自己也会旋转。这里我们给它一个旋转动画。注意我们需要添加<code class="fe mp mq mr mf b">transform-style: preserve-3d;</code>来管理3D透视图，效果如下。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/64dc025c7b1219effcd0b0afd8437609.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/1*oV3f0_hmJ7gLUx7Bi1Dd8A.gif"/></div></figure><p id="d431" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你有那种感觉吗？当然，我不会画立体的花瓣，所以看起来像是最后一张纸，但如果你不注意，你就能看到。之后，我们将使用js生成花瓣。关于我在下面的js代码中写了所有生成petals的细节，并做了详细的注释。</p><pre class="kx ky kz la gt me mf mg bn mh mi bi"><span id="d4a5" class="mj lc iq mf b be mk ml l mm mn">.flower-item {<br/>  position: absolute;<br/>  width: 15px;<br/>  height: 20px;<br/>  background-image: radial-gradient(#fdedff 40%, #ffb9ff);<br/>  box-shadow: 0 5px 10px 2px rgba(255, 255, 255, .8);<br/>  border-radius: 80% 80% 100% 100%;<br/>  transform-style: preserve-3d;<br/>  transform: rotateZ(30deg);<br/>  animation: rotate-flower 5s linear infinite;<br/>}<br/>@keyframes rotate-flower {<br/>  from{<br/>    transform: rotateZ(30deg) rotateY(0deg);<br/>  } to{<br/>    transform: rotateZ(30deg) rotateY(360deg);<br/>  }<br/>}</span></pre><pre class="mt me mf mg bn mh mi bi"><span id="a5ff" class="mj lc iq mf b be mk ml l mm mn">let lastflowerTime = 0, <br/>flowerFrequency = 2,<br/>screenWidth = document.documentElement.clientWidth,<br/>screenHeight = document.documentElement.clientHeight,<br/>flowerAngle = 60,<br/>flowerSpeed = 3,<br/>createflowerInterval = null<br/>function flowerStart () {<br/>  console.log(444);<br/>  let now = new Date().getTime()<br/>  if (now - lastflowerTime &gt; (1000 / flowerFrequency)) {<br/>    let flowerItem = document.createElement('div')<br/>    flowerItem.className = 'flower-item'<br/>    flowerItem.style.top = -flowerItem.offsetWidth + 'px'<br/>    let _left = (screenWidth + Math.tan(flowerAngle * Math.PI / 180) * screenHeight) * Math.random()<br/>    flowerItem.style.left = _left + 'px'<br/>    // flowerItem.style.opacity = Math.random()<br/>    document.body.appendChild(flowerItem)<br/>    flowerItem.flowerScale = Math.random() * 0.5 + 0.5<br/>    flowerItem.style.width = flowerItem.offsetWidth * flowerItem.flowerScale + 'px'<br/>    flowerItem.style.height = flowerItem.offsetHeight * flowerItem.flowerScale + 'px'<br/>    let flowerMove = () =&gt; {<br/>      let moveY = flowerSpeed * flowerItem.flowerScale<br/>      flowerItem.style.top = flowerItem.offsetTop + moveY + 'px'<br/><br/>      let moveX = Math.tan(flowerAngle * Math.PI / 180) * moveY<br/>      flowerItem.style.left = flowerItem.offsetLeft - moveX + 'px'<br/><br/>      if (flowerAngle &gt; 0) {<br/>        if (flowerItem.offsetLeft &lt; (-flowerItem.offsetWidth)) {<br/>          document.body.removeChild(flowerItem)<br/>          return<br/>        }<br/>      }<br/>      if (flowerItem.offsetTop &gt; screenHeight) {<br/>        document.body.removeChild(flowerItem)<br/>      } else {<br/>        requestAnimationFrame(flowerMove)<br/>      }<br/>    }<br/>    flowerMove()<br/>    lastflowerTime = now<br/>  }<br/>  createflowerInterval = requestAnimationFrame(flowerStart)<br/>}<br/>flowerStart()</span></pre><figure class="kx ky kz la gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="a9e0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">最后</h1><p id="40cc" class="pw-post-body-paragraph jy jz iq ka b kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr md kt ku kv ij bi translated"><strong class="ka ir">感谢阅读</strong>。期待您的关注，阅读更多高质量的文章。</p><div class="mw mx gp gr my"><div role="button" tabindex="0" class="ab bv gv cb fp mz na bn nb jw ex"><div class="nc l"><div class="ab q"><div class="l di"><img alt="omgzui" class="l de bw nd ne fe" src="../Images/113db82933227743d0067a68e250ac93.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*AmBIV4haXTWPO--EhE0Q1A.jpeg"/><div class="fb bw l nd ne fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@omgzui?source=post_page-----2c90518ecb53--------------------------------" rel="noopener follow" target="_top"> omgzui </a></p></div></div><div class="nh ni gw l"><h2 class="bd ir su sv fp sw fr fs sx fu fw ip bi translated">更好的编程</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi sy au sz ta tb pe tc an eh ei td te tf el em eo de bk ep" href="https://medium.com/@omgzui/list/better-programing-9b4c9bb174aa?source=post_page-----2c90518ecb53--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="tg l fo"><span class="bd b dl z dk">109 stories</span></div></div></div><div class="nu dh nv fp ab nw fo di"><div class="di nm bv nn no"><div class="dh l"><img alt="" class="dh" src="../Images/64fcf15e27c514ec49d62966b68dbc15.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*DbDdSUf5SchniJuq"/></div></div><div class="di nm bv np nq nr"><div class="dh l"><img alt="" class="dh" src="../Images/3e6ce891363c151131c5993ca0dcc526.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*7cAp-WibSblfO7hT"/></div></div><div class="di bv ns nt nr"><div class="dh l"><img alt="" class="dh" src="../Images/a7dd413de22f319a3c4729c9e737feb8.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*FcmHdVfoUOhlJlsG"/></div></div></div></div></div><div class="mw mx gp gr my"><div role="button" tabindex="0" class="ab bv gv cb fp mz na bn nb jw ex"><div class="nc l"><div class="ab q"><div class="l di"><img alt="omgzui" class="l de bw nd ne fe" src="../Images/113db82933227743d0067a68e250ac93.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*AmBIV4haXTWPO--EhE0Q1A.jpeg"/><div class="fb bw l nd ne fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@omgzui?source=post_page-----2c90518ecb53--------------------------------" rel="noopener follow" target="_top"> omgzui </a></p></div></div><div class="nh ni gw l"><h2 class="bd ir su sv fp sw fr fs sx fu fw ip bi translated">Java Script语言</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi sy au sz ta tb pe tc an eh ei td te tf el em eo de bk ep" href="https://medium.com/@omgzui/list/javascript-48bfc7b5f93c?source=post_page-----2c90518ecb53--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="tg l fo"><span class="bd b dl z dk">57 stories</span></div></div></div><div class="nu dh nv fp ab nw fo di"><div class="di nm bv nn no"><div class="dh l"><img alt="" class="dh" src="../Images/64fcf15e27c514ec49d62966b68dbc15.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*DbDdSUf5SchniJuq"/></div></div><div class="di nm bv np nq nr"><div class="dh l"><img alt="" class="dh" src="../Images/3e6ce891363c151131c5993ca0dcc526.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*7cAp-WibSblfO7hT"/></div></div><div class="di bv ns nt nr"><div class="dh l"><img alt="" class="dh" src="../Images/a7dd413de22f319a3c4729c9e737feb8.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*FcmHdVfoUOhlJlsG"/></div></div></div></div></div><div class="mw mx gp gr my"><div role="button" tabindex="0" class="ab bv gv cb fp mz na bn nb jw ex"><div class="nc l"><div class="ab q"><div class="l di"><img alt="omgzui" class="l de bw nd ne fe" src="../Images/113db82933227743d0067a68e250ac93.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*AmBIV4haXTWPO--EhE0Q1A.jpeg"/><div class="fb bw l nd ne fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://medium.com/@omgzui?source=post_page-----2c90518ecb53--------------------------------" rel="noopener follow" target="_top"> omgzui </a></p></div></div><div class="nh ni gw l"><h2 class="bd ir su sv fp sw fr fs sx fu fw ip bi translated">新闻</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi sy au sz ta tb pe tc an eh ei td te tf el em eo de bk ep" href="https://medium.com/@omgzui/list/news-67ec0a972660?source=post_page-----2c90518ecb53--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="tg l fo"><span class="bd b dl z dk">23 stories</span></div></div></div><div class="nu dh nv fp ab nw fo di"><div class="di nm bv nn no"><div class="dh l"><img alt="" class="dh" src="../Images/c3f36b36bf050f98fd5a8e3c89103cad.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*LISEmTdz19k7BAHY"/></div></div><div class="di nm bv np nq nr"><div class="dh l"><img alt="" class="dh" src="../Images/8459df5aae62dc00f04377e09544be88.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*RvBGLw3V9JZfn_HO"/></div></div><div class="di bv ns nt nr"><div class="dh l"><img alt="" class="dh" src="../Images/2864058bcedc8c1cd6492624ba9671c6.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*IUWVb3zTn1_HKV9P"/></div></div></div></div></div><p id="e7f6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ob">更多内容请看</em><a class="ae oc" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="ob">plain English . io</em></strong></a><em class="ob">。报名参加我们的</em> <a class="ae oc" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ob">免费周报</em> </strong> </a> <em class="ob">。关注我们关于</em><a class="ae oc" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="ob">Twitter</em></strong></a><a class="ae oc" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="ob">LinkedIn</em></strong></a><em class="ob"/><a class="ae oc" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="ob">YouTube</em></strong></a><em class="ob"/><a class="ae oc" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ka ir"><em class="ob">不和</em> </strong> </a> <em class="ob">。对增长黑客感兴趣？检查</em> <a class="ae oc" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="ob">电路</em> </strong> </a> <em class="ob">。</em></p></div></div>    
</body>
</html>