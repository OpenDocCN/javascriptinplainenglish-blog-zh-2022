<html>
<head>
<title>Software Design Patterns With TypeScript Examples: Decorator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有类型脚本示例的软件设计模式:装饰器</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9?source=collection_archive---------4-----------------------#2022-08-12">https://javascript.plainenglish.io/software-design-patterns-with-typescript-examples-decorator-cb6160ddbeb9?source=collection_archive---------4-----------------------#2022-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b072" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">装饰模式为扩展功能提供了子类化的灵活替代方案</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1c5d64c6bdca2acb01ce8015d31033f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ttDGQLJVL-juBbCE"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@angiereyes22?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Angelica Reyes</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="42a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">结构</strong> <strong class="ky ir">装饰</strong>模式非常强大，帮助我们防止子类的<strong class="ky ir">爆炸。</strong></p><p id="90ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将详细阐述该模式的目的和结构，并通过一个实际的、真实世界的<strong class="ky ir"> Starbucks </strong>示例解释如何使用它。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3f45" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是设计模式？</h1><p id="96b5" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">设计模式是针对不同环境中反复出现的问题的通用的、可重用的解决方案。在软件工程中，他们帮助你更快地写出更好的代码。使用这些通用解决方案可以节省我们的时间和工作，因为我们重用了许多其他开发人员积累的知识和经验。</p><p id="6660" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mw">“[……]我很少遇到没有听说过模式运动的开发人员”——Grady Booch在</em> <a class="ae kv" href="https://amzn.to/3i6iIIk" rel="noopener ugc nofollow" target="_blank"> <em class="mw">设计模式:可重用面向对象软件的元素</em> </a>中说</p><p id="9392" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也许你做了多年的程序员，却没有应用甚至不知道任何一种模式。我敢打赌，许多开发人员正是这样做的。如果是这样，我强烈推荐你先阅读这篇文章，让你的大脑相信软件设计模式是必不可少的。</p><div class="mx my gp gr mz na"><a rel="noopener  ugc nofollow" target="_blank" href="/why-you-must-learn-software-design-patterns-befd77f88713"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">为什么你必须学习软件设计模式</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">设计模式让你更快地写出更好的代码。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no kp na"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="41ea" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">模式的类别</h2><p id="47e9" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">1994年，四位作者出版了《设计模式:可重用面向对象软件的元素》一书:Erich Gamma、Richard Helm、Ralph Johnson和John Vlissides，也就是所谓的“四人组”</p><p id="72cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管这本书是在25年前出版的，但它仍然是与软件工程最相关的书籍之一。阅读它可能是丰富您的开发人员工具包的一笔可观的投资。如上所述，<strong class="ky ir">四人帮(GoF) </strong>定义了23种设计模式。为了组织他们，他们把他们分成三类:<strong class="ky ir">创造性的</strong>、<strong class="ky ir">结构性的</strong>和<strong class="ky ir">行为性的</strong>。</p><p id="7584" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mw"/><strong class="ky ir"><em class="mw">创造</em> </strong> <em class="mw">模式关注对象的创造过程。</em> <strong class="ky ir"> <em class="mw">结构化</em> </strong> <em class="mw">模式处理类或对象的组成。</em> <strong class="ky ir"> <em class="mw">行为</em> </strong> <em class="mw">模式表征了类或对象交互和分配责任的方式—设计模式:可重用面向对象软件的要素</em></p><p id="405b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里是由GoF定义的所有模式的概述。另外，看看我的其他文章，在表格中有链接。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="f580" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢通过视频课程学习，我推荐你去看看Skillshare上的<a class="ae kv" href="https://skillshare.eqcm.net/vnLkyj" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">打字稿设计模式课程</strong> </a>。它涵盖了所有23种GoF(四人帮)设计模式，并教你如何使用TypeScript实现它们。作为代销商，如果你通过这个链接注册，我会收到一小笔佣金。你的支持帮助我为你创造更多有价值的内容。</p><div class="mx my gp gr mz na"><a href="https://skillshare.eqcm.net/vnLkyj" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">TypeScript中的设计模式</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">解锁无限制访问此技能共享课程以及由来自世界各地的创作者讲授的数千门课程…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">skillshare.eqcm.net</p></div></div><div class="nj l"><div class="od l nl nm nn nj no kp na"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f216" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">装饰图案</h1><p id="f931" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">正如您从表中看到的，装饰器模式被归类到<strong class="ky ir">结构</strong>模式的类别中。考虑到这一点，它的目的必须在于描述类或对象如何交互和分配责任。</p><h2 id="2bfa" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">目的🎯</h2><p id="0877" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">装饰模式的目的是动态地给一个对象附加额外的责任，并为扩展功能提供一个灵活的子类化替代方案。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="2f23" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">适应性💡</h2><p id="94d2" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">装饰模式在许多用例中被广泛使用和应用。只要您想，就使用该模式:</p><ul class=""><li id="78a1" class="oe of iq ky b kz la lc ld lf og lj oh ln oi lr oj ok ol om bi translated">创建大量的子类。有时太多的子类是不切实际的，并导致子类的爆炸式增长来支持每一种组合。</li><li id="ef9e" class="oe of iq ky b kz on lc oo lf op lj oq ln or lr oj ok ol om bi translated">在不影响其他对象的情况下，动态地为单个对象<strong class="ky ir">添加职责</strong>。</li><li id="e3dd" class="oe of iq ky b kz on lc oo lf op lj oq ln or lr oj ok ol om bi translated">在运行时给对象<strong class="ky ir">分配额外的行为</strong>，而不破坏使用这些对象的代码。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="4c52" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">结构📐</h2><p id="3ba7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">装饰器的结构很简单。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/6c0b33944cfa2b61e9b703560f23fc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*ZuHxpsQ2hu8hy0ofced96A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image from <a class="ae kv" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank">Head First Design Patterns by Eric Freeman</a></figcaption></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="cf2f" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">参与者🚻</h2><p id="ffe0" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">从结构中，您可以派生出以下参与者:</p><ul class=""><li id="8229" class="oe of iq ky b kz la lc ld lf og lj oh ln oi lr oj ok ol om bi translated"><strong class="ky ir">组件</strong>:可以动态添加职责的对象的通用接口</li><li id="ef40" class="oe of iq ky b kz on lc oo lf op lj oq ln or lr oj ok ol om bi translated"><strong class="ky ir">具体组件</strong>:可以附加额外责任的对象</li><li id="c54b" class="oe of iq ky b kz on lc oo lf op lj oq ln or lr oj ok ol om bi translated"><strong class="ky ir">装饰器</strong>:包含一个对<code class="fe ot ou ov ow b">Component</code>对象的引用，并定义一个符合组件接口的接口</li><li id="72e0" class="oe of iq ky b kz on lc oo lf op lj oq ln or lr oj ok ol om bi translated">ConcreteDecorator :定义可以动态添加到组件中的额外行为。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="9822" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">真实世界的例子🗺</h2><p id="ebae" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">装饰模式是比较复杂的模式之一。看结构的时候，可能会有点混乱。但是，一旦您将该模式应用到现实世界的示例中，就更容易理解了。</p><p id="4665" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank"> <em class="mw">书中，头先设计</em> </a>，用<strong class="ky ir">星巴克</strong>举例说明了一个实际的例子。假设他们有四种饮料:<strong class="ky ir"> HouseBlend </strong>、<strong class="ky ir">dark bake</strong>、<strong class="ky ir"> Decaf </strong>和<strong class="ky ir"> Espresso </strong>。它们都是从主<code class="fe ot ou ov ow b">Beverage</code>界面延伸出来的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/150c23f8ac96367b512b437d50a9fdfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GLJPzwNoLTb4eneTK_Fy3Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image from: <a class="ae kv" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank">Head First Design Patterns by Eric Freeman</a></figcaption></figure><p id="de3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">目前，这看起来很好，也不复杂。但正如你所知，星巴克允许你点几种调味品，如蒸牛奶、大豆和摩卡咖啡，并在上面加鲜奶。</p><p id="0022" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，他们对这些都收费。这意味着我们每个班级都需要计算咖啡以及订单中其他调味品的价格。下面是使用继承的类图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/71d30d874689ecdfae3c0ae8344eff41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*sOcB4Je4XtLyPcW58CY3zw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Class explosion — Image from: <a class="ae kv" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank">Head First Design Patterns by Eric Freeman</a></figcaption></figure><p id="4fd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很明显，这个类图看起来像一个维护噩梦。它代表了一个<strong class="ky ir">级爆炸</strong>的完美例子。随着每一种新的饮料或调味品的出现，类图将呈指数增长。</p><p id="d430" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是正如我们所知，我们可以通过使用装饰模式来防止这个噩梦:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/d985d620f22ce1bda3a2f31d6f3ed0b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UPs-t8DEdVQAQ89eJB8r0w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image from:<a class="ae kv" href="https://amzn.to/3Q9O6Ch" rel="noopener ugc nofollow" target="_blank"> Head First Design Patterns by Eric Freeman</a></figcaption></figure><p id="4514" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以看到，我们将上面的装饰器结构应用到了示例中。<code class="fe ot ou ov ow b">Beverage</code>接口充当我们的<code class="fe ot ou ov ow b">Component</code>，四种不同的饮料是我们的<code class="fe ot ou ov ow b">ConcreteComponent</code>类。此外，我们有一个<code class="fe ot ou ov ow b">CondimentDecorator</code>类，它充当我们的<code class="fe ot ou ov ow b">Decorator</code>，并存储对一个<code class="fe ot ou ov ow b">Beverage</code>对象的引用。我们不同的调味品，如牛奶、摩卡咖啡等。从<code class="fe ot ou ov ow b">CondimentDecorator</code>扩展并作为我们的<code class="fe ot ou ov ow b">ConcreteDecorator</code>类。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="8e06" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">代码示例💻</h2><p id="519d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">让我们把上面的例子放到Typescript代码中。我们也可以通过使用Typescript的实验性装饰器来构建这个例子，但是让我们保留上面的基于类的结构。</p><p id="a1cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看一下代码。你也可以在<a class="ae kv" href="https://www.typescriptlang.org/play?ts=4.4.4&amp;ssl=85&amp;ssc=42&amp;pln=80&amp;pc=1#code/PTAEGEHsFsAdIHYFMEBcBQBDARgZ1QE6YDGqoxANprrqAEJIBuSRA5kqAN7qi+iwFIqJKSQATUGKS5iBAJaxUcxAEIAXKHzyErANw8+AoSOETikfOtAIArtGwt9ffjewU5xUO1RR8uABQAlBq29ixcBs68BEioNgQIoKgAFnK4AHTm+E58AL6RXrEAItKyCkqIQRFRfDFxCUmpGVIy8orKCDm8+fnoIBCIsrFIUHCIKBiU1LQAEpA2uEhuKBJIAB7CCGK0DMxsHNzOLWXtiKAAvKAA5HMLSxQrV13kFmSXAEzpAKz6+f1QCCGwlG8GQaHQUxooCKmAIAGsAEqQahkdabbb0JgsTDsap8Y5tCqJS5XGHwpEop4FLJvUCfADsvz6YABQJGMFBEwhVChAFFcAJpLhIKA0Ssdlj9njeATyh0Ltd+YKaJAqc4aQrPgBGJn-QZ1dljMGTHm0ErETAAM1FG3FmL2OIOBVlp2J13NVrVfA1H3S7yZzOhIkgRFQIaweEIJDIkNoALEcmgE3NIcwYYINvREoduMOhkEwlEEgcOaQGl22PY+mpiC0NlIIf8JcrZftLcC0qiuBssBYQWezhSaXSzall1HjoHfCHzVKhPl48ljvS3hKrTllUCU94M8yrwVE-YK9ivlQAS3BV6zlgrncnm8p-PITsDgzeZqdXiiV3h6Qx58rznqAADUjTDjSzz5Net4eIUqBricRJVO+USfg0AAGAAknA-kuR6rnOG4IEEuQgaA2G7i6RK5OhkHoL0eqAgaKahuGsagAAsnIFBwpmdrxomybBqxb7OoRroaFocg6AqVxcTxXq8DSz5hBmlwAAzfNWDEsvqwwsWmbGmpxkDEMkmB8VscaIAmSZoAZ6adlRHSSYQ0msLJHGmeZikvPgKmvgqmmMvRgassxwmGQQ3LTKAADKkAAJ6WRiAl2fBkWOShzmIK52geSSCWJb5ynWC+4QaekAAsuq6Ux+mZUZsUAOqpLAKXWVsgn2Y1olHOJRJ5e5smtQoJWvAFFWgJp-qheglo2ICRKSGksBUIlTZ4a2Fb7B2KHmAgwoPOkFCQKw-hYZwv7-gh86bqRAA+5FXVt-6PiRoCADUE6EXr0B34KKAoxCqCrIAA7qASrA8K-YQrWqJA0KkDNXIKTybxlzg5x3Fwv40jKsKF7-QjBPI6jyTowAglsXlmRZmNIBDtPmXjiMqijaM40T8OA6THMUzj1NiMzmBC6N7UMxD4us3z5NUzT3mYBe6AJgK60y9DZOczxQsi2LbXK+g6BAA" rel="noopener ugc nofollow" target="_blank">打字游戏场</a>里摆弄它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="8fea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以看到我们已经实现了一个抽象类<code class="fe ot ou ov ow b">Beverage</code>作为我们的基础<code class="fe ot ou ov ow b">Component</code>。对于每种饮料，我们都创建了一个<code class="fe ot ou ov ow b">ConcreteComponent</code>类:<code class="fe ot ou ov ow b">HouseBlend</code>、<code class="fe ot ou ov ow b">DarkRoast</code>、<code class="fe ot ou ov ow b">Espresso</code>和<code class="fe ot ou ov ow b">Decaf</code>。</p><p id="0119" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我们构建了一个<code class="fe ot ou ov ow b">CondimentDecorator</code>类作为我们的<code class="fe ot ou ov ow b">Decorator</code>。每种调味品都有一个<code class="fe ot ou ov ow b">ConcreteDecorator</code>类别:<code class="fe ot ou ov ow b">Milk</code>、<code class="fe ot ou ov ow b">Mocha</code>、<code class="fe ot ou ov ow b">Whip</code>和<code class="fe ot ou ov ow b">Soy</code>。</p><p id="aa1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了这种结构，我们可以轻松地创造出各种可能的饮料组合。下面是使用方法。</p><p id="9207" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设我们想要创建一个<strong class="ky ir">混合</strong>和<strong class="ky ir">牛奶</strong>的房子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="a235" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们只是创建了一个新的HouseBlend类，并将其包装到牛奶装饰器中。然后我们将它传递给可以接受任何类型为<code class="fe ot ou ov ow b">Beverage</code>的对象的<code class="fe ot ou ov ow b">display</code>函数。</p><p id="2eb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/deebd28363ce76be729d710e68276224.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h_V9uvWm4039LZUefNFpig.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Log output</figcaption></figure><p id="3f9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，我们不仅可以将简单的组件包装在decorators中。我们也可以放弃其他的装饰者。让我们用<strong class="ky ir">牛奶</strong>、<strong class="ky ir">摩卡</strong>和<strong class="ky ir">搅打</strong>制作一杯<strong class="ky ir">浓缩咖啡</strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="26fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/ea83cc753912445283a1d992c924c3c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNzxP9UyfrTLuVCM1OSyTQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Log output</figcaption></figure><p id="e0f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很棒，不是吗？我们可以创造每一种可能的组合，价格也是直接计算出来的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="01c5" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">相关设计模式🔗</h2><p id="606d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">软件设计模式通常显示不同模式之间的关系。下面是引用GoF的一些与装饰模式相关的设计模式:</p><p id="f2b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/design-patterns-with-real-life-typescript-examples-adapter-d183af1f1462" rel="noopener"> <strong class="ky ir"> <em class="mw">适配器</em> </strong> </a> <em class="mw">:装饰器与适配器的区别在于，装饰器只改变对象的职责，不改变其接口；适配器会给对象一个全新的接口。</em></p><p id="4c1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="mw">复合</em> </strong> <em class="mw">:一个装饰器可以看作是一个退化的复合，只有一个组件。然而，装饰器增加了额外的责任——它不是为对象聚合而设计的。</em></p><p id="e686" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/design-patterns-with-typescript-examples-strategy-1af9efda0fd0" rel="noopener"> <strong class="ky ir"> <em class="mw">策略</em> </strong> </a> <em class="mw">:一个装饰器让你改变一个物体的皮肤；策略让你改变勇气。这是改变对象的两种可选方式。</em></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8357" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">最后的想法</h1><p id="4696" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我希望你喜欢阅读这篇文章。我总是乐于回答问题，并乐于接受批评。随时欢迎联系我！通过<strong class="ky ir"/><a class="ae kv" href="https://www.linkedin.com/in/marius-bongarts-6b3638171/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">LinkedIn</strong></a><strong class="ky ir">，</strong>关注我<strong class="ky ir"/><a class="ae kv" href="https://twitter.com/MariusBongarts" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Twitter</strong></a>或<a class="ae kv" href="https://medium.com/subscribe/@mariusbongarts" rel="noopener"> <strong class="ky ir">订阅</strong> </a>通过电子邮件获取我的故事。</p><p id="7d66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://medium.com/@mariusbongarts/membership" rel="noopener"> <strong class="ky ir">这里是无限制访问介质</strong> </a>上每一个内容的链接。如果你注册使用这个链接，我会赚一小笔钱，不需要你额外付费。</p><div class="mx my gp gr mz na"><a href="https://medium.com/@mariusbongarts/membership" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">通过我的推荐链接加入Medium-Marius bong arts</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="pc l nl nm nn nj no kp na"/></div></div></a></div><p id="eeb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，如果你还没有，看看我的在线荧光笔铬扩展。使用<a class="ae kv" href="https://web-highlights.com/" rel="noopener ugc nofollow" target="_blank"> Web Highlights </a>，您可以在任何网页或PDF上高亮显示，创建标签并做笔记。</p><div class="mx my gp gr mz na"><a href="https://web-highlights.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">Web亮点— PDF和Web荧光笔</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">最佳网络荧光笔。就像你在书上做的那样，在任何网页或PDF上高亮显示，并做笔记。组织…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">web-highlights.com</p></div></div><div class="nj l"><div class="pd l nl nm nn nj no kp na"/></div></div></a></div><p id="74b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="mw">披露</em> </strong> <em class="mw">:本文包含附属链接。如果你通过这些链接之一购买，我可能会收到佣金。我只推荐我认为质量高、对你有益的产品。我感谢你的支持。</em></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="cfef" class="np ma iq bd mb nq nr dn mf ns nt dp mj lf nu nv ml lj nw nx mn ln ny nz mp oa bi translated">进一步阅读</h2><div class="mx my gp gr mz na"><a href="https://medium.com/@mariusbongarts/my-journey-to-the-first-9-99-with-my-side-project-3edc13dd1f2d" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">我的第一个9.99美元之旅与我的副业</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">Chrome扩展带来的被动收入</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="pe l nl nm nn nj no kp na"/></div></div></a></div><div class="mx my gp gr mz na"><a href="https://medium.com/@mariusbongarts11/showcase-your-medium-articles-with-web-components-part-1-basics-d2c6618e9482" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">用Web组件构建自己的博客组合:基础</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">第1部分—定制元素、阴影DOM和HTML模板</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="pf l nl nm nn nj no kp na"/></div></div></a></div><div class="mx my gp gr mz na"><a href="https://medium.com/@mariusbongarts11/will-web-components-replace-frontend-frameworks-535891d779ba" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd ir gy z fp nf fr fs ng fu fw ip bi translated">Web组件会取代前端框架吗？</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">它们是为解决不同的问题而构建的。</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="pg l nl nm nn nj no kp na"/></div></div></a></div></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="4f1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mw">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mw">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mw">免费周报</em> </strong> </a> <em class="mw">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mw">Twitter</em></strong></a><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="mw">LinkedIn</em></strong></a><em class="mw">，以及</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="mw">不和</em> </strong> </a> <em class="mw">。</em></strong></a></p></div></div>    
</body>
</html>