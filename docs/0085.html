<html>
<head>
<title>React Crash Course — Components, Pages and Props</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React速成班—组件、页面和道具</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/react-crash-course-components-pages-and-props-4650081684d0?source=collection_archive---------7-----------------------#2022-01-06">https://javascript.plainenglish.io/react-crash-course-components-pages-and-props-4650081684d0?source=collection_archive---------7-----------------------#2022-01-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="941d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第3部分:构建组件和使用数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/de52e1146746a9c568dc6aeaebda258e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k9nSGnRa96Iswa2M"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lautaro Andreani</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="255a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls"> Live dev笔记由</em><a class="ae kv" href="https://www.youtube.com/channel/UCTZRcDjjkVajGL6wd76UnGg" rel="noopener ugc nofollow" target="_blank"><em class="ls">Dennis Ivy</em></a><em class="ls">——</em><a class="ae kv" href="https://www.youtube.com/watch?v=6fM3ueN9nYM" rel="noopener ugc nofollow" target="_blank"><em class="ls">React JS速成班</em> </a></p><blockquote class="lt"><p id="f743" class="lu lv iq bd lw lx ly lz ma mb mc lr dk translated">在第3部分中，我们开始构建组件(借助快捷方式)，将它们嵌套到页面组件中，并通过props传递数据。</p></blockquote></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><p id="2adb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以参考我的Github repo:</p><div class="mk ml gp gr mm mn"><a href="https://github.com/emilyyleung/notesapp/tree/Part-3/Components-Pages-Props" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ir gy z fp ms fr fs mt fu fw ip bi translated">GitHub-Emily leung/notes app at Part-3/Components-Pages-Props</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">在GitHub上创建一个帐户，为Emily leung/notes app的开发做出贡献。</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">github.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kp mn"/></div></div></a></div></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="1745" class="nc nd iq bd ne nf ng nh ni nj nk nl nm jw nn jx no jz np ka nq kc nr kd ns nt bi translated">创建我们的第一个组件</h1><p id="c619" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">为了保持整洁和一致，我们将首先在<code class="fe nz oa ob oc b">src</code>文件夹中创建一个名为<code class="fe nz oa ob oc b">components</code>的文件夹。我们的第一个组件将是<code class="fe nz oa ob oc b">Header.js</code>。</p><blockquote class="od oe of"><p id="af0b" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated">注意它是一个在命名约定中使用大写字母的JavaScript文件。</p></blockquote><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="3667" class="on nd iq oc b gy oo op l oq or">notesapp<br/>├── public<br/>│   └── index.html<br/>└── src<br/>    ├── components // New folder<br/>    │    └── Header.js // New component<br/>    ├── App.css<br/>    ├── App.js<br/>    └── index.js</span></pre><p id="4294" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们使用函数来定义组件，所以有两种方法可以使用函数来创建组件:</p><ul class=""><li id="23d3" class="os ot iq ky b kz la lc ld lf ou lj ov ln ow lr ox oy oz pa bi translated">正则函数</li><li id="404b" class="os ot iq ky b kz pb lc pc lf pd lj pe ln pf lr ox oy oz pa bi translated">箭头功能</li></ul><blockquote class="od oe of"><p id="66c1" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated">在本教程中，我们所有的组件都将使用箭头函数，只有App组件将使用常规函数。当我们开始整合道具时，箭头功能会对我们有所帮助，稍后会有更多的介绍。</p></blockquote><p id="a5ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就像组件文件的名称一样，确保函数的名称以大写字母开头。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="7b7f" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; Header.js</span><span id="8a4f" class="on nd iq oc b gy pg op l oq or">const Header = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h1&gt;My Header&lt;/h1&gt;<br/>     &lt;/div&gt;<br/>    )<br/>}</span><span id="92e9" class="on nd iq oc b gy pg op l oq or">export default Header;</span></pre><p id="0db5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了将<code class="fe nz oa ob oc b">Header</code>组件引入我们的应用程序，我们首先需要导入它。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="efa5" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="d6d3" class="on nd iq oc b gy pg op l oq or">import './App.css';<br/>import Header from './components/Header' // Import component</span><span id="0104" class="on nd iq oc b gy pg op l oq or">function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Header /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="62ff" class="on nd iq oc b gy pg op l oq or">export default App;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/f47800b83918a68b95d7317d525a29f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/0*kubi1rZ1e44cVrT7"/></div></figure><p id="44d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，让我们创建一个<code class="fe nz oa ob oc b">Body.js</code>组件。这次我们将使用我们在第2部分中安装的ES7 React snippets插件提供的快捷方式。要创建具有箭头功能的react组件，请使用快捷键:</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="0298" class="on nd iq oc b gy oo op l oq or">rafce</span></pre><p id="075f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将创建以下代码片段供我们填写:</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="3aa5" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; Body.js</span><span id="d9d7" class="on nd iq oc b gy pg op l oq or">import React from 'react'</span><span id="f7a8" class="on nd iq oc b gy pg op l oq or">const Body = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            <br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="2533" class="on nd iq oc b gy pg op l oq or">export default Body</span></pre><blockquote class="od oe of"><p id="7227" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated">请注意，使用此快捷方式时，我们不再需要手动输入组件名称。它自动知道使用大写字母，因为它是从文件名中获取的。</p><p id="bebd" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated">此外，通过使用快捷方式，它将为React添加<code class="fe nz oa ob oc b">import</code>语句。因为我们使用create-react-app，所以不再需要该语句。因此，这可以删除。</p></blockquote><p id="e0df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用另一个快捷方式，我们可以通过使用下面的快捷方式在<code class="fe nz oa ob oc b">App.js</code>中导入我们的<code class="fe nz oa ob oc b">Body</code>组件:</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="8ec1" class="on nd iq oc b gy oo op l oq or">imp + tab</span></pre><p id="85e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一次，它将突出显示我们提供组件位置的占位符文本，准备好供我们覆盖。再次按下键盘上的tab键会将焦点转移到组件的名称上，以便我们声明我们想要导入哪个组件。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="9974" class="on nd iq oc b gy oo op l oq or">import moduleName from 'module'</span></pre><p id="b61c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导入后，我们可以将我们的<code class="fe nz oa ob oc b">Body</code>组件引入到应用程序中。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="eeb6" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="4c77" class="on nd iq oc b gy pg op l oq or">import './App.css';<br/>import Header from './components/Header'<br/>import Body from './components/Body' // Import component</span><span id="c589" class="on nd iq oc b gy pg op l oq or">function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Header /&gt;<br/>      &lt;Body /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="30a8" class="on nd iq oc b gy pg op l oq or">export default App;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/a8b9a80ee6b6c24ecf78cf3a87439544.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/0*deeJV4oeVUOTgIbL"/></div></figure><h1 id="b96d" class="nc nd iq bd ne nf pj nh ni nj pk nl nm jw pl jx no jz pm ka nq kc pn kd ns nt bi translated">构建组件时要记住的一些事情:</h1><ul class=""><li id="c4fd" class="os ot iq ky b kz nu lc nv lf po lj pp ln pq lr ox oy oz pa bi translated">每个组件必须有一个父元素来包装所有其他的组件</li><li id="b13e" class="os ot iq ky b kz pb lc pc lf pd lj pe ln pf lr ox oy oz pa bi translated">不使用<code class="fe nz oa ob oc b">&lt;div&gt;</code>作为父节点，你可以使用片段(例如<code class="fe nz oa ob oc b">&lt;&gt;&lt;/&gt;</code>)但是，片段不能有分配给它们的类</li></ul></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="ea01" class="nc nd iq bd ne nf ng nh ni nj nk nl nm jw nn jx no jz np ka nq kc nr kd ns nt bi translated">添加页面</h1><p id="6900" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">React中的页面与组件相同，但是为了跟踪它们，我们将它们放在自己的文件夹中。让我们在<code class="fe nz oa ob oc b">src</code>中创建一个名为<code class="fe nz oa ob oc b">pages</code>的新文件夹。在其中，我们将创建一个新的页面组件<code class="fe nz oa ob oc b">NotesListPage.js</code>，它将作为notes应用程序的主页。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="f321" class="on nd iq oc b gy oo op l oq or">notesapp<br/>├── public<br/>│   └── index.html<br/>└── src<br/>    ├── pages // New folder<br/>    │    └── NotesListPage.js // New file<br/>    ├── components<br/>    │    ├── Header.js<br/>    │    └── Body.js<br/>    ├── App.css<br/>    ├── App.js<br/>    └── index.js</span></pre><p id="00d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，我们将使用快捷键来创建导出组件:<code class="fe nz oa ob oc b">rafce</code></p><p id="78e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在页面组件内部，我们将赋予它一些内容。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="627f" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotesListPage.js</span><span id="584e" class="on nd iq oc b gy pg op l oq or">const NotesListPage = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            Notes<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="3c4a" class="on nd iq oc b gy pg op l oq or">export default NotesListPage</span></pre><p id="d2b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了向您展示互换组件是多么容易，我们可以简单地从<code class="fe nz oa ob oc b">App.js</code>中移除我们之前制作的<code class="fe nz oa ob oc b">Body</code>组件，并用新的页面组件替换它。确保将导入位置更改为指向<code class="fe nz oa ob oc b">pages</code>文件夹。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="483b" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; App.js</span><span id="8d4d" class="on nd iq oc b gy pg op l oq or">import './App.css';<br/>import Header from './components/Header'<br/>import NotesListPage from './pages/NotesListPage'</span><span id="3196" class="on nd iq oc b gy pg op l oq or">function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Header /&gt;<br/>      &lt;NotesListPage /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="ab2a" class="on nd iq oc b gy pg op l oq or">export default App;</span></pre></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="b024" class="nc nd iq bd ne nf ng nh ni nj nk nl nm jw nn jx no jz np ka nq kc nr kd ns nt bi translated">使用数据</h1><p id="8fa3" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">到目前为止，我们已经对notesapp的所有内容进行了硬编码。研究如何呈现存储在其他地方的数据将是一件好事。现在，我们将使用存储在本地数据文件中的数据。</p><p id="46d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个名为<code class="fe nz oa ob oc b">data.js</code>的新文件，它位于一个新文件夹<code class="fe nz oa ob oc b">assets</code>中</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="a6df" class="on nd iq oc b gy oo op l oq or">notesapp<br/>├── public<br/>│   └── index.html<br/>└── src<br/>    ├── assets // New folder<br/>    │    └── data.js // New file<br/>    ├── pages<br/>    │    └── NotesListPage.js<br/>    ├── components<br/>    │    ├── Header.js<br/>    │    └── Body.js<br/>    ├── App.css<br/>    ├── App.js<br/>    └── index.js</span></pre><p id="4ab9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe nz oa ob oc b">data.js</code>内部，我们将创建一个包含3个属性的note对象数组:<code class="fe nz oa ob oc b">id</code>、<code class="fe nz oa ob oc b">body</code>和<code class="fe nz oa ob oc b">updated</code></p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="6a3c" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; assets &gt; data.js</span><span id="a828" class="on nd iq oc b gy pg op l oq or">let notes = [<br/> {<br/>  id: 1,<br/>  body: "Todays Agenda\n\n- Walk Dog\n- Feed fish\n- Play basketball\n- Eat a salad",<br/>  updated: "2021-07-14T13:49:02.078653Z",<br/> },<br/> {<br/>  id: 2,<br/>  body: "Bob from bar down the \n\n- Take out trash\n- Eat food",<br/>  updated: "2021-07-13T20:43:18.550058Z",<br/> },<br/> {<br/>  id: 3,<br/>  body: "Wash car",<br/>  updated: "2021-07-13T19:46:12.187306Z",<br/> },<br/>];</span><span id="2c29" class="on nd iq oc b gy pg op l oq or">export default notes;</span></pre><p id="5184" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要访问<code class="fe nz oa ob oc b">data.js</code>，我们需要导入它。然后创建一个容器，通过JavaScript map函数列出所有注释的正文内容。</p><blockquote class="od oe of"><p id="30ef" class="kw kx ls ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated">注意花括号不仅用于插入JavaScript，还用于访问每个注释的属性。</p></blockquote><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="67ab" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotesListPage.js</span><span id="d7d6" class="on nd iq oc b gy pg op l oq or">import notes from '../assets/data' // Import data</span><span id="5c83" class="on nd iq oc b gy pg op l oq or">const NotesListPage = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;div className='notes-list'&gt;<br/>                {notes.map(note =&gt; (<br/>                    &lt;p&gt;{note.body}&lt;/p&gt;<br/>                ))}<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="6ce2" class="on nd iq oc b gy pg op l oq or">export default NotesListPage</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/8975bfeeef54319c6bccb87b55d07532.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/0*z-y0_AdAvWLGXMBw"/></div></figure><p id="2ad8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，<code class="fe nz oa ob oc b">NotesListPage</code>页面组件正在呈现数据。然而，我们想把每个音符变成它自己的组成部分。所以我们将创建一个新的组件<code class="fe nz oa ob oc b">ListItem.js</code>，我们可以从页面组件中单独定制它。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="43cc" class="on nd iq oc b gy oo op l oq or">notesapp<br/>├── public<br/>│   └── index.html<br/>└── src<br/>    ├── assets<br/>    │    └── data.js<br/>    ├── pages<br/>    │    └── NotesListPage.js<br/>    ├── components<br/>    │    ├── Header.js<br/>    │    └── ListItem.js // New file<br/>    ├── App.css<br/>    ├── App.js<br/>    └── index.js</span></pre><p id="a0db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在它里面，我们将创建并赋予它一个独特的价值，以区别于我们当前的元素。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="a15f" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; ListItem.js</span><span id="39e8" class="on nd iq oc b gy pg op l oq or">const ListItem = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h3&gt;List Item&lt;/h3&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="d72a" class="on nd iq oc b gy pg op l oq or">export default ListItem</span></pre><p id="0d03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将把<code class="fe nz oa ob oc b">ListItem</code>组件导入页面并替换段落标签。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="fb8c" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotesListPage.js</span><span id="5cca" class="on nd iq oc b gy pg op l oq or">import notes from '../assets/data'<br/>import ListItem from '../components/ListItem'</span><span id="61ca" class="on nd iq oc b gy pg op l oq or">const NotesListPage = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;div className='notes-list'&gt;<br/>                {notes.map(note =&gt; (<br/>                    <strong class="oc ir">&lt;ListItem/&gt;</strong><br/>                ))}<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="c7fd" class="on nd iq oc b gy pg op l oq or">export default NotesListPage</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/dfbbb0e1426d850786b82c6c4343c163.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/0*CT8fOdYtzNo5b2YP"/></div></figure></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="9b9d" class="nc nd iq bd ne nf ng nh ni nj nk nl nm jw nn jx no jz np ka nq kc nr kd ns nt bi translated">小道具</h1><p id="63db" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">目前，我们看不到我们的注释，因为没有数据传递给<code class="fe nz oa ob oc b">ListItem</code>组件。要做到这一点，我们需要使用一些叫做道具的东西。</p><p id="1ee4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在React中，有两种不同类型的数据:</p><ul class=""><li id="867f" class="os ot iq ky b kz la lc ld lf ou lj ov ln ow lr ox oy oz pa bi translated"><strong class="ky ir"> Props: </strong>是一种不可变的数据形式。这意味着一旦它被传递下来，就不能被修改</li><li id="e1aa" class="os ot iq ky b kz pb lc pc lf pd lj pe ln pf lr ox oy oz pa bi translated"><strong class="ky ir">状态:</strong>是我们可以更新的数据(稍后会详细介绍)</li></ul><p id="8026" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们使用函数来构建组件，所以props将充当属性或参数，我们可以将它们传递给每个子组件。类似于函数如何通过实参传递参数，我们在这里也可以这样做。</p><p id="d99a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看当我们在<code class="fe nz oa ob oc b">ListItem</code>组件中<code class="fe nz oa ob oc b">console.log</code>props对象时会发生什么。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="e371" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; ListItem.js</span><span id="e036" class="on nd iq oc b gy pg op l oq or">const ListItem = (props) =&gt; {<br/>		<br/>    <strong class="oc ir">console.log("PROPS:", props)</strong><br/>		<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h3&gt;List Item&lt;/h3&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="f875" class="on nd iq oc b gy pg op l oq or">export default ListItem</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/b4a26d48947613113c2924d125dd6b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p2nSMz65d1SC7GXJ"/></div></div></figure><p id="723d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您首先会注意到有一个警告错误。这个错误的原因是因为在<code class="fe nz oa ob oc b">NotesListPage.js</code>内部，我们循环遍历并返回每个<code class="fe nz oa ob oc b">ListItem</code>。然而，当我们这样做时，React需要识别虚拟DOM中的每个列表项。因此，每当我们更新一个项目，而不是更新每个项目，它会根据<code class="fe nz oa ob oc b">key</code>属性知道需要更改哪个项目。</p><p id="fbb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了解决这个问题，我们将通过在map函数中添加括号来提取索引，并将索引作为属性<code class="fe nz oa ob oc b">key</code>的值传递。索引将总是从0开始递增。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="b6d9" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotesListPage.js</span><span id="9a35" class="on nd iq oc b gy pg op l oq or">import notes from '../assets/data'<br/>import ListItem from '../components/ListItem'</span><span id="4fda" class="on nd iq oc b gy pg op l oq or">const NotesListPage = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;div className='notes-list'&gt;<br/>                <strong class="oc ir">{notes.map((note, index) =&gt; <br/>                    &lt;ListItem key={index} /&gt;<br/>                )}</strong><br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="67ed" class="on nd iq oc b gy pg op l oq or">export default NotesListPage</span></pre><p id="c7e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将注意到的第二件事是，对于每个列表项，props值是一个空对象。类似于<code class="fe nz oa ob oc b">key</code>属性，我们可以像添加自定义HTML属性一样传入注释内容。在这种情况下，由于我们已经通过map函数提取了注释，我们可以将注释对象传递给<code class="fe nz oa ob oc b">ListItem</code>来访问它的内容。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="bb53" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; pages &gt; NotesListPage.js</span><span id="fb89" class="on nd iq oc b gy pg op l oq or">import notes from '../assets/data'<br/>import ListItem from '../components/ListItem'</span><span id="9004" class="on nd iq oc b gy pg op l oq or">const NotesListPage = () =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;div className='notes-list'&gt;<br/>                {notes.map((note, index) =&gt; <br/>                    <strong class="oc ir">&lt;ListItem key={index} note={note}/&gt;</strong><br/>                )}<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="06dd" class="on nd iq oc b gy pg op l oq or">export default NotesListPage</span></pre><p id="898f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看一看我们的<code class="fe nz oa ob oc b">console.log</code>中的props，显示props不再是空的，而是返回每个note对象。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pt"><img src="../Images/88dae172c065ee71a332a7a421441428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*89SSPMUMC3Y9TqfS"/></div></div></figure><p id="ad6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了在子组件中呈现每个注释的内容，我们将跳回到<code class="fe nz oa ob oc b">ListItem.js</code>来指定我们希望从注释对象中得到哪个参数。</p><p id="314b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要访问该参数，程序如下:<br/> <code class="fe nz oa ob oc b">props</code> → <code class="fe nz oa ob oc b">attribute</code> → <code class="fe nz oa ob oc b">key/parameter of object</code></p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="f56f" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; ListItem.js</span><span id="01d9" class="on nd iq oc b gy pg op l oq or">const ListItem = (props) =&gt; {<br/>    console.log("PROPS:", props)<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h3&gt;<strong class="oc ir">{props.note.body}</strong>&lt;/h3&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="e575" class="on nd iq oc b gy pg op l oq or">export default ListItem</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pu"><img src="../Images/d5021afcbb87411a113430966363cd1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VejtB5bwFBvZxnmO"/></div></div></figure><h2 id="154c" class="on nd iq bd ne pv pw dn ni px py dp nm lf pz qa no lj qb qc nq ln qd qe ns qf bi translated">破坏道具</h2><p id="b97d" class="pw-post-body-paragraph kw kx iq ky b kz nu jr lb lc nv ju le lf nw lh li lj nx ll lm ln ny lp lq lr ij bi translated">使用props的一个快捷方式是析构对象。在这种情况下，我们用“note”替换props，这意味着我们不需要每次在开始时都键入“props”。</p><pre class="kg kh ki kj gt oj oc ok ol aw om bi"><span id="3a40" class="on nd iq oc b gy oo op l oq or">// notesapp &gt; src &gt; components &gt; ListItem.js</span><span id="afe2" class="on nd iq oc b gy pg op l oq or">const ListItem = <strong class="oc ir">({note})</strong> =&gt; {<br/>    return (<br/>        &lt;div&gt;<br/>            &lt;h3&gt;<strong class="oc ir">{note.body}</strong>&lt;/h3&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="b3ae" class="on nd iq oc b gy pg op l oq or">export default ListItem</span></pre><p id="b919" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容看</em> <a class="ae kv" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">说白了。报名参加我们的</em> </a><a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">免费每周简讯</em> </a> <em class="ls">。在我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="ls">社区</em> </a> <em class="ls">获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>