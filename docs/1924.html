<html>
<head>
<title>Why You Should Not Forget the JavaScript ‘switch’ Statement</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么不应该忘记JavaScript的“switch”语句</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/why-you-should-not-to-forget-about-the-javascript-switch-statement-466f4c6a1cb1?source=collection_archive---------11-----------------------#2022-04-29">https://javascript.plainenglish.io/why-you-should-not-to-forget-about-the-javascript-switch-statement-466f4c6a1cb1?source=collection_archive---------11-----------------------#2022-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b1a2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过使用“switch”语句，而不是使用带有多个“else-if”块的“if”语句，使您的代码更整洁。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/47be6b26656fd9fd08c1b0e37e26897e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*inj3JM0mRkFbWpjVUcL4XQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Source: <a class="ae kv" href="https://twitter.com/alicalimli_dev/status/1519948397024845824" rel="noopener ugc nofollow" target="_blank">https://twitter.com/alicalimli_dev/status/1519948397024845824</a></figcaption></figure><p id="4ae3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天我看到了这条推特:</p><p id="dbf2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">这里还有谁忘记了switch语句存在于JavaScript中？我老老实实做了</em> <br/>🐦推文:<a class="ae kv" href="https://twitter.com/alicalimli_dev/status/1519948397024845824" rel="noopener ugc nofollow" target="_blank"> alicalimli_dev </a></p><p id="1cd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我立刻觉得我能理解。我经常发现自己在应该使用<code class="fe lt lu lv lw b">switch</code>语句的地方使用<code class="fe lt lu lv lw b">if</code>语句，所以我想我应该写一篇简短的帖子来解释为什么你应该考虑使用<code class="fe lt lu lv lw b">switch</code>语句。</p><h1 id="e32e" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">1.清楚</h1><p id="fe9a" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">通常在编写代码时，我们可能有一个变量，它有多个状态需要您处理。一种编写方式是使用如下所示的<code class="fe lt lu lv lw b">if/else if</code>语句。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="0b36" class="my ly iq lw b gy mz na l nb nc">if (food === 'cake') {<br/>    console.log('I love cake')<br/>} else if (food === 'toast') {<br/>    console.log('I like toast')<br/>} else if (food === 'mushrooms') {<br/>    console.log('I hate mushrooms')<br/>}</span></pre><p id="9bfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们把这写成一个<code class="fe lt lu lv lw b">switch</code>声明，它看起来会干净得多:</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="c657" class="my ly iq lw b gy mz na l nb nc">switch(<em class="ls">food</em>) {<br/>  case 'cake':<br/><em class="ls">    </em>console.log('I love cake')<em class="ls"><br/></em>    break;<br/>  case 'toast':<br/><em class="ls">    </em>console.log('I like toast')<em class="ls"><br/></em>    break;<br/>  case 'mushrooms':<br/><em class="ls">    </em>console.log('I hate mushrooms')<em class="ls"><br/></em>    break;<br/>}</span></pre><p id="38c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然多占用了几行代码，但这可以更容易阅读，因为它删除了多余的代码。这也意味着如果你以后想更新被比较变量的名字，有一个地方可以这样做。</p><h1 id="e59f" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">2.表演</h1><p id="87aa" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">您应该考虑使用<code class="fe lt lu lv lw b">switch</code>语句而不是<code class="fe lt lu lv lw b">if</code>语句的第二个原因是性能问题。</p><p id="f64f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你考虑前面的If语句，你会发现如果<code class="fe lt lu lv lw b">food</code>的值等于<code class="fe lt lu lv lw b">mushrooms</code>，那么必须进行三次单独的比较。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="6887" class="my ly iq lw b gy mz na l nb nc">if (food === 'cake') {<br/>    console.log('I love cake')<br/>} else if (food === 'toast') {<br/>    console.log('I like toast')<br/>} else if (food === 'mushrooms') {<br/>    console.log('I hate mushrooms')<br/>}</span></pre><p id="d7ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们将此与<code class="fe lt lu lv lw b">switch</code>语句进行比较，JavaScript引擎的just in time编译器能够构建一个跳转表，这意味着它只需执行一次评估。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="877b" class="my ly iq lw b gy mz na l nb nc">switch(<em class="ls">food</em>) {<br/>  case 'cake':<br/><em class="ls">    </em>console.log('I love cake')<em class="ls"><br/></em>    break;<br/>  case 'toast':<br/><em class="ls">    </em>console.log('I like toast')<em class="ls"><br/></em>    break;<br/>  case 'mushrooms':<br/><em class="ls">    </em>console.log('I hate mushrooms')<em class="ls"><br/></em>    break;<br/>}</span></pre><p id="88d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这些例子中，评估是对两个字符串进行非常简单的比较，但是当有更复杂的比较或更多选项来比较时，<code class="fe lt lu lv lw b">if</code>语句和<code class="fe lt lu lv lw b">switch</code>语句之间的性能差异会变得更加明显。</p><p id="692a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">值得注意的是，在大多数情况下，switch语句的性能优势并不总是显而易见的。这是因为在你有足够复杂的比较或者足够多的选项来更快地使用<code class="fe lt lu lv lw b">switch</code>语句之前，你可能会重构你的代码来避免这个问题，以使它更具可读性。</p><h1 id="8a8d" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">奖金(打字稿)-使用枚举</h1><p id="a8a8" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">作为一个特别的奖励，我想我会在打字稿中特别提到枚举。</p><p id="f930" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">枚举允许您定义一组命名的常量，目的是记录意图或定义不同的情况。它们可用于数值和字符串值，是Switch语句的完美用例。</p><p id="8137" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在下面的例子中，我使用了一个带有方向的枚举，然后我使用了<code class="fe lt lu lv lw b">switch</code>语句来处理不同的代码路径。</p><pre class="kg kh ki kj gt mu lw mv mw aw mx bi"><span id="43b9" class="my ly iq lw b gy mz na l nb nc">enum Directions {<br/>  Up = "UP",<br/>  Down = "DOWN",<br/>  Left = "LEFT",<br/>  Right = "RIGHT",<br/>}</span><span id="607c" class="my ly iq lw b gy nd na l nb nc">const direction = String(Directions.Up);</span><span id="a128" class="my ly iq lw b gy nd na l nb nc">switch(direction) {<br/>  case Directions.Up:<br/>    console.log('Lets go up')<br/>    break;<br/>  case Directions.Down:<br/>    console.log('Lets go down')<br/>    break;<br/>  case Directions.Left:<br/>    console.log('Lets go left')<br/>    break;<br/>  case Directions.Right:<br/>    console.log('Lets go right')<br/>    break;<br/>}</span></pre><h1 id="54b2" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">概括起来</h1><p id="1caa" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">虽然你可能会经常看到<code class="fe lt lu lv lw b">if</code>语句继续出现在你的代码中，但是肯定有很多用例你应该考虑使用<code class="fe lt lu lv lw b">switch</code>语句来代替。</p><p id="7230" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这篇文章能帮助你思考这个问题，并且当你将来开始写带有多个<code class="fe lt lu lv lw b">else if</code>条件的<code class="fe lt lu lv lw b">if</code>语句时，你会考虑使用<code class="fe lt lu lv lw b">switch</code>语句来代替。</p><p id="078a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我要感谢阿里，他的推文启发了这篇文章，我同意人们很容易忘记它们，所以我想谈谈为什么它们真的很有用。</p><p id="28a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">说白了就是io </em> </strong> </a> <em class="ls">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费周报</em> </strong> </a> <em class="ls">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">Twitter</em></strong></a><em class="ls">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">LinkedIn</em></strong></a><em class="ls">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">社区</em> </strong> </a> <em class="ls">。</em></p></div></div>    
</body>
</html>