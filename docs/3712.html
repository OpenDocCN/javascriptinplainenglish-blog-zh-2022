<html>
<head>
<title>JavaScript Set Object — to Store Unique Values</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Set对象—存储唯一值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-set-object-to-store-unique-values-e330ab7a886c?source=collection_archive---------15-----------------------#2022-09-19">https://javascript.plainenglish.io/javascript-set-object-to-store-unique-values-e330ab7a886c?source=collection_archive---------15-----------------------#2022-09-19</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/3b2f8e008ee9ab537429e1339d9b200b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a-tXr1ntckOqUkYL"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@afgprogrammer?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mohammad Rahmani</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="05ea" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">JavaScript中的<code class="fe ky kz la lb b">Set</code>是一种特殊类型的对象，它允许我们存储唯一的值。它适用于原始和非原始数据类型的值。</p><p id="d365" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在存储大量数据时，我们总是可以选择数组。但是如果我们想要存储唯一的值，与数组相比，<code class="fe ky kz la lb b">Set</code>是一个更好的选择。虽然在数组中，我们可以手动过滤掉所有重复的值，或者我们可以在添加到集合时检查该值是否已经存在。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="d70a" class="lk ll in lb b be lm ln l lo lp">const set = new Set();</span></pre><p id="07e8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">Set()</code>构造函数创建一个新的<code class="fe ky kz la lb b">Set</code>对象。这个构造函数还接受一个可选参数，该参数必须是<a class="ae jz" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol" rel="noopener ugc nofollow" target="_blank">可迭代的</a>。如果我们传递任何参数，它将过滤掉所有不重复的值，并将它们添加到新的<code class="fe ky kz la lb b">Set</code>中。但如果我们一个都不通过，<code class="fe ky kz la lb b">Set</code>就空了。</p><p id="cdaa" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">内置可迭代的例子有数组、映射、字符串、生成器等。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="37a0" class="lk ll in lb b be lm ln l lo lp">const set1 = new Set();<br/>console.log(set1); // Set(0) {size: 0}<br/><br/>const set2 = new Set([2, 'x', 5, true, 2, 'x', true, 6]);<br/>console.log(set2); // Set(5) {2, 'x', 5, true, 6}<br/><br/>// checking for String<br/>const set3 = new Set('world');<br/>console.log(set3); // Set(5) {'w', 'o', 'r', 'l', 'd'}<br/><br/>// String with duplicate characters<br/>const set4 = new Set('madam');<br/>console.log(set4); // Set(3) {'m', 'a', 'd'}</span></pre><h1 id="dc97" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">实用方法和属性</h1><p id="296a" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated"><code class="fe ky kz la lb b">Set</code>对象提供了几个助手方法，我们可以用它们来添加/删除值，或者检查是否有值存在，等等。让我们把他们都找出来。</p><h2 id="33de" class="ms ll in bd lr mt mu dn lv mv mw dp lz kl mx my md kp mz na mh kt nb nc ml nd bi translated">add()方法</h2><p id="bd2b" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">该方法将值添加到<code class="fe ky kz la lb b">Set</code>对象的末尾。如果该值已经存在于<code class="fe ky kz la lb b">Set</code>中，它不会添加它。这个方法返回更新后的<code class="fe ky kz la lb b">Set</code>对象。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="6773" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add(10); // Set(1) {10}<br/>set.add('Hello'); // Set(2) {10, 'Hello'}<br/>set.add(10); // Set(2) {10, 'Hello'}<br/>set.add(20); // Set(3) {10, 'Hello', 20}<br/>set.add('Hello'); // Set(3) {10, 'Hello', 20}</span></pre><p id="4c45" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">当我们添加非原始值时，<code class="fe ky kz la lb b">Set</code>通过它们的引用而不是值来测试它们的唯一性。让我们看一个例子。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="df63" class="lk ll in lb b be lm ln l lo lp">const ob1 = { x: 2 };<br/>const ob2 = ob1;<br/>const ob3 = { x: 2 };<br/><br/>const set = new Set();<br/>set.add(ob1); // Set(1) {{...}}<br/>set.add(ob2); // Set(1) {{...}}<br/>set.add(ob3); // Set(2) {{...}, {...}}</span></pre><p id="d223" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这里<code class="fe ky kz la lb b">ob1</code>和<code class="fe ky kz la lb b">ob2</code>引用同一个对象，所以<code class="fe ky kz la lb b">Set</code>将<code class="fe ky kz la lb b">ob2</code>视为重复，没有添加。另一方面，<code class="fe ky kz la lb b">ob3</code>与<code class="fe ky kz la lb b">ob1</code>和<code class="fe ky kz la lb b">ob2</code>具有相同的值，但是它引用了不同的对象，因此<code class="fe ky kz la lb b">Set</code>将其视为唯一的并添加了它。</p><blockquote class="ne nf ng"><p id="90fa" class="ka kb nh kc b kd ke kf kg kh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw kx ig bi translated"><strong class="kc io">注意:</strong><code class="fe ky kz la lb b">Set</code>认为所有的<code class="fe ky kz la lb b">NaN</code>值都一样，尽管<code class="fe ky kz la lb b">NaN !== NaN</code>。</p></blockquote><p id="8c85" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><code class="fe ky kz la lb b">add()</code>方法是可链接的。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="9957" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add(8).add(null).add("Hello").add(NaN).add();<br/>// Set(5) {8, null, 'Hello', NaN, undefined}<br/><br/>set.add(NaN).add(undefined).add(null).add(false);<br/>// Set(6) {8, null, 'Hello', NaN, undefined, false}</span></pre><h2 id="ea26" class="ms ll in bd lr mt mu dn lv mv mw dp lz kl mx my md kp mz na mh kt nb nc ml nd bi translated">delete()方法</h2><p id="c046" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">这个方法从<code class="fe ky kz la lb b">Set</code>中删除值。它将值作为我们想要从<code class="fe ky kz la lb b">Set</code>中移除的参数。如果传递的值存在于<code class="fe ky kz la lb b">Set</code>中，<code class="fe ky kz la lb b">delete()</code>将其移除并返回<code class="fe ky kz la lb b">true</code>，否则返回<code class="fe ky kz la lb b">false</code>。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="edb8" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add(8); // Set(1) {8}<br/>set.add('Hello'); // Set(2) {8, 'Hello'}<br/>set.delete(8); // true<br/>set.delete('world'); // false<br/>console.log(set); // Set(1) {'Hello'}</span></pre><h2 id="baa0" class="ms ll in bd lr mt mu dn lv mv mw dp lz kl mx my md kp mz na mh kt nb nc ml nd bi translated">has()方法</h2><p id="89fe" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">该方法检查值是否出现在<code class="fe ky kz la lb b">Set</code>中。如果该值存在，则返回<code class="fe ky kz la lb b">true</code>，否则返回<code class="fe ky kz la lb b">false</code>。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="38a0" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add('Hello'); // Set(1) {'Hello'}<br/>set.add(8); // Set(2) {'Hello', 8}<br/>set.delete('Hello'); // Set(1) {8}<br/>console.log(set.has(8)); // true<br/>console.log(set.has('Hello')); // false</span></pre><h2 id="f227" class="ms ll in bd lr mt mu dn lv mv mw dp lz kl mx my md kp mz na mh kt nb nc ml nd bi translated">clear()方法</h2><p id="cb19" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">这个方法删除了所有出现在<code class="fe ky kz la lb b">Set</code>对象中的值。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="5d9e" class="lk ll in lb b be lm ln l lo lp">const set = new Set([2, "x", true, 10]);<br/>set.clear();<br/>console.log(set); // Set(0) {size: 0}</span></pre><h2 id="12d3" class="ms ll in bd lr mt mu dn lv mv mw dp lz kl mx my md kp mz na mh kt nb nc ml nd bi translated">大小属性</h2><p id="66f9" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">该属性返回出现在<code class="fe ky kz la lb b">Set</code>对象中的值的数量。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="8569" class="lk ll in lb b be lm ln l lo lp">const set = new Set([2, "x", 2, 5]);<br/>console.log(set.size); // 3</span></pre><h2 id="0f7a" class="ms ll in bd lr mt mu dn lv mv mw dp lz kl mx my md kp mz na mh kt nb nc ml nd bi translated">forEach()方法()</h2><p id="24ef" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">该方法遍历<code class="fe ky kz la lb b">Set</code>值，并为每个值调用提供的回调函数。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="f2d7" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add(5).add(8).add(2); // Set(3) {5, 8, 2}<br/>set.forEach((value) =&gt; {<br/>  console.log(value);<br/>});<br/>/*<br/>5<br/>8<br/>2<br/>*/</span></pre><p id="6628" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">我们也可以使用<code class="fe ky kz la lb b">for…of</code>循环来迭代<code class="fe ky kz la lb b">Set</code>。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="4fe2" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add(5).add(8).add(2); // Set(3) {5, 8, 2}<br/>for (const value of set) {<br/>  console.log(value);<br/>}<br/>/*<br/>5<br/>8<br/>2<br/>*/</span></pre><h1 id="63fc" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">将集合转换为数组</h1><p id="edc7" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">有许多方法可以将一个<code class="fe ky kz la lb b">Set</code>转换成一个数组，但是我们将只讨论最简单和最方便的方法。我们知道，<code class="fe ky kz la lb b">Set</code>是可迭代的，我们可以使用spread操作符或<code class="fe ky kz la lb b">Array.from()</code>方法从<code class="fe ky kz la lb b">Set</code>创建一个数组。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="fa62" class="lk ll in lb b be lm ln l lo lp">const set = new Set();<br/>set.add(5).add(10).add('Hello'); // Set(3) {5, 10, 'Hello'}<br/>const arr1 = [...set];<br/>const arr2 = Array.from(set);<br/>console.log(arr1); // [5, 10, 'Hello']<br/>console.log(arr2); // [5, 10, 'Hello']</span></pre><h1 id="6a55" class="lq ll in bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">使用Set从数组中删除重复项</h1><p id="ce62" class="pw-post-body-paragraph ka kb in kc b kd mn kf kg kh mo kj kk kl mp kn ko kp mq kr ks kt mr kv kw kx ig bi translated">要使用<code class="fe ky kz la lb b">Set</code>从数组中删除重复项，首先，我们可以从数组中创建一个<code class="fe ky kz la lb b">Set</code>对象，然后将<code class="fe ky kz la lb b">Set</code>转换回数组。</p><pre class="lc ld le lf gt lg lb lh bn li lj bi"><span id="6646" class="lk ll in lb b be lm ln l lo lp">const arr = [10, 5, 20, 10, 6, 5, 8, 5, 20];<br/>const set = new Set(arr);<br/>const newArr = [...set];<br/>console.log(newArr); // [10, 5, 20, 6, 8]<br/><br/>// shorthand<br/>console.log([...new Set(arr)]);</span></pre></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><h1 id="bb7b" class="lq ll in bd lr ls ns lu lv lw nt ly lz ma nu mc md me nv mg mh mi nw mk ml mm bi translated">你可能也喜欢</h1><ul class=""><li id="03ea" class="nx ny in kc b kd mn kh mo kl nz kp oa kt ob kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/map-in-javascript-and-how-it-is-better-than-object/" rel="noopener ugc nofollow" target="_blank">JavaScript中的地图，当它是比对象更好的选择时</a></li><li id="c642" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/play-audio-with-htmlaudioelement-api-in-javascript/" rel="noopener ugc nofollow" target="_blank">用JavaScript中的HTMLAudioElement API播放音频</a></li><li id="6598" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/the-urlsearchparams-api/" rel="noopener ugc nofollow" target="_blank">JavaScript中的URLSearchParams API</a></li><li id="f031" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/object-defineproperty-method-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript中的Object.defineProperty()方法</a></li><li id="490d" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/generator-functions-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript中的生成器函数</a></li><li id="f681" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/a-brief-guide-to-promises-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript中承诺的简要指南</a></li><li id="d746" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/the-vibration-api-in-javascript/" rel="noopener ugc nofollow" target="_blank">JavaScript中的震动API</a></li><li id="bfca" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/javascript-fetch-api-to-make-http-requests/" rel="noopener ugc nofollow" target="_blank"> JavaScript获取API进行HTTP请求</a></li><li id="250e" class="nx ny in kc b kd og kh oh kl oi kp oj kt ok kx oc od oe of bi translated"><a class="ae jz" href="https://jscurious.com/20-javascript-shorthand-techniques-that-will-save-your-time/" rel="noopener ugc nofollow" target="_blank"> 20+ JavaScript速记编码技巧和窍门</a></li></ul></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="cc9f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nh">感谢您的时间:)</em> <br/> <strong class="kc io"> <em class="nh">阿米塔夫·米什拉</em> </strong></p></div><div class="ab cl nl nm hr nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ig ih ii ij ik"><p id="8a53" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="nh">更多内容看</em> <a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nh">说白了就是</em> </strong> </a> <em class="nh">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nh">免费每周简讯</em> </strong> </a> <em class="nh">。关注我们</em> <a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nh">推特</em> </strong> </a>，<a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nh">领英</em> </strong> </a> <em class="nh">，</em><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="nh">YouTube</em></strong></a><em class="nh">，</em> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nh">不和</em> </strong> </a> <em class="nh">。对增长黑客感兴趣？检查出</em> <a class="ae jz" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="nh">电路</em> </strong> </a> <em class="nh">。</em></p></div></div>    
</body>
</html>