<html>
<head>
<title>Progressive Image Loading in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的渐进式图像加载</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/progressive-image-loading-in-react-754953449924?source=collection_archive---------7-----------------------#2022-08-12">https://javascript.plainenglish.io/progressive-image-loading-in-react-754953449924?source=collection_archive---------7-----------------------#2022-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f5a4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何在React中实现渐进式图像加载的指南。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/28fd671f6e54843f3deccd931305935a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXqh51JL-OLdYtPvlll0tg.jpeg"/></div></div></figure><p id="5252" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">图像是任何网站的重要组成部分，它们可以增强或破坏用户体验，这取决于它们是如何实现的。加载高质量的图像可能需要很长时间，这会对用户体验产生负面影响。为了解决这个问题，我们需要一些加载机制，不像spinners那样让用户感到美观。</p><p id="82fe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">进入渐进式加载。</p><p id="a2f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以我们可以从这里开始:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ln"><img src="../Images/233a8b56bb4d164e0a80be890cbbbf9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*B3RVU8TIFnpQoqYmXwiDbw.gif"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Without progressive loading</figcaption></figure><p id="5555" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果图像需要一些时间来渲染，请执行以下操作:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ln"><img src="../Images/c1b470d29ae570fbb9fa0bb770476ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GHXzGL9vx2kLlI2vVCJdqQ.gif"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">With progressive loading</figcaption></figure><p id="a37a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">实现它相对容易，可以通过以下步骤完成:</p><ul class=""><li id="94c5" class="ls lt iq kt b ku kv kx ky la lu le lv li lw lm lx ly lz ma bi translated">呈现占位符图像。</li><li id="30dc" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">在后台加载原始图像。</li><li id="e2f6" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">加载完成后，渲染图像以代替占位符。</li></ul><p id="1b61" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于占位符图像，您需要原始图像的一个小版本，最好≤ 2kb，您可以通过降低其尺寸和质量来进行试验，直到达到该大小。</p><p id="2c65" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，让我们从创建一个处理上述步骤的定制组件开始。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="e7f2" class="mn mo iq bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne nf bi translated">创建自定义图像组件</h2><p id="db4f" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">我们需要一个接收这些属性的组件:</p><ul class=""><li id="a5a3" class="ls lt iq kt b ku kv kx ky la lu le lv li lw lm lx ly lz ma bi translated">图像源</li><li id="7739" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">预览图像源(占位符)</li><li id="ae82" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">宽度</li><li id="8576" class="ls lt iq kt b ku mb kx mc la md le me li mf lm lx ly lz ma bi translated">高度</li></ul><p id="34c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要创建一个状态来保存当前正在使用的图像源，占位符最初就是在这里使用的。</p><p id="4249" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要一个加载原始图像的效果，然后在它完成加载时将它放入我们的状态中。</p><p id="8c83" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们来看看我们的组件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="3433" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还对我们的图像应用了一个自定义样式，当占位符被使用时，它会使图像变得模糊，当放置我们的原始图像时，它会消除模糊。和平滑模糊变化的过渡动画。</p><p id="f42d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以将<code class="fe nn no np nq b">blue(5px)</code>中的模糊和<code class="fe nn no np nq b">filter 0.1s ease-out</code>中的动画持续时间调整为适合您的值。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="3fc9" class="mn mo iq bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne nf bi translated">使用我们的定制组件</h2><p id="5842" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">现在，剩下的就是在需要的地方导入组件，并传入我们的图像、占位符、宽度和高度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="ca16" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就这样，我们的图像将会像上面的例子一样逐渐加载，你的用户在浏览你的网站时会有很好的体验。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="d835" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望这篇文章对你有所帮助，如果你有任何进一步的问题，请在评论区留言，我会尽力回答。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="c014" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nr">更多内容请看</em><a class="ae ns" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nr">plain English . io</em></strong></a><em class="nr">。报名参加我们的</em> <a class="ae ns" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nr">免费周报</em> </strong> </a> <em class="nr">。关注我们关于</em><a class="ae ns" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nr">Twitter</em></strong></a><a class="ae ns" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir"><em class="nr">LinkedIn</em></strong></a><em class="nr">，以及</em> <a class="ae ns" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> <em class="nr">不和</em> </strong> </a> <em class="nr">。</em></p></div></div>    
</body>
</html>