<html>
<head>
<title>State Management in Nuxt 3 with Pinia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带Pinia的Nuxt 3中的状态管理</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/nuxt-3-and-pinia-11e284ee16f0?source=collection_archive---------4-----------------------#2022-02-17">https://javascript.plainenglish.io/nuxt-3-and-pinia-11e284ee16f0?source=collection_archive---------4-----------------------#2022-02-17</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="c9c1" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">集成Pinia作为Nuxt 3应用程序的状态管理库。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/e12c8d5eae3b6ef3e500b9c3ca739604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C3E4JHoG-mMglKkp.png"/></div></div></figure><h1 id="d721" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">Nuxt 3和Pinia</h1><h2 id="f29b" class="lg kp in bd kq lh li dn ku lj lk dp ky ll lm ln la lo lp lq lc lr ls lt le lu bi translated">Vuex -&gt;皮尼亚</h2><p id="af6c" class="pw-post-body-paragraph lv lw in lx b ly lz jo ma mb mc jr md ll me mf mg lo mh mi mj lr mk ml mm mn ig bi translated">Vue的创造者尤雨溪曾说过“皮尼亚实际上是Vuex 5！在这一点上，这实际上是一个命名/品牌问题。”</p><p id="98a9" class="pw-post-body-paragraph lv lw in lx b ly mo jo ma mb mp jr md ll mq mf mg lo mr mi mj lr ms ml mm mn ig bi translated">就目前而言，最好还是关注Pinia的内容，而不是Vuex。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/f54625e9022111f5684f8c9a0aaba6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2_v1ydXsLgJO8MrR.png"/></div></div></figure><p id="5ad5" class="pw-post-body-paragraph lv lw in lx b ly mo jo ma mb mp jr md ll mq mf mg lo mr mi mj lr ms ml mm mn ig bi translated">我建议阅读VueJS的官方<a class="ae mu" href="https://vuejs.org/guide/scaling-up/state-management.html#pinia" rel="noopener ugc nofollow" target="_blank">帖子</a>来更好地理解为什么Pinia &gt; Vuex。</p><h2 id="515a" class="lg kp in bd kq lh li dn ku lj lk dp ky ll lm ln la lo lp lq lc lr ls lt le lu bi translated">在Nuxt 3中安装Pinia</h2><p id="840e" class="pw-post-body-paragraph lv lw in lx b ly lz jo ma mb mc jr md ll me mf mg lo mh mi mj lr mk ml mm mn ig bi translated">Pinia几乎为Nuxt 3提供了一流的支持。您需要安装两个软件包:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="437c" class="lg kp in mw b gy na nb l nc nd">yarn add pinia<br/>yarn add @pinia/nuxt</span></pre><h2 id="265f" class="lg kp in bd kq lh li dn ku lj lk dp ky ll lm ln la lo lp lq lc lr ls lt le lu bi translated">将Pinia添加到nuxt.config文件中</h2><p id="ce23" class="pw-post-body-paragraph lv lw in lx b ly lz jo ma mb mc jr md ll me mf mg lo mh mi mj lr mk ml mm mn ig bi translated">您需要将<code class="fe ne nf ng mw b">'@pinia/nuxt'</code>添加到buildModules数组中。</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="1c1b" class="lg kp in mw b gy na nb l nc nd">// nuxt.config.js<br/>import { defineNuxtConfig } from 'nuxt3'<br/><br/>export default defineNuxtConfig({<br/>  buildModules: ['@pinia/nuxt'],<br/>})</span></pre><h2 id="7d85" class="lg kp in bd kq lh li dn ku lj lk dp ky ll lm ln la lo lp lq lc lr ls lt le lu bi translated">建立您的Pinia商店</h2><p id="0874" class="pw-post-body-paragraph lv lw in lx b ly lz jo ma mb mc jr md ll me mf mg lo mh mi mj lr mk ml mm mn ig bi translated">现在构建一个命名商店。对于我的用例，我需要管理关于过滤器的状态，所以我的商店的框架如下所示:</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="174d" class="lg kp in mw b gy na nb l nc nd">// store/filters.js<br/>import { defineStore } from 'pinia'<br/><br/>export const useFiltersStore = defineStore({<br/>  id: 'filter-store',<br/>  state: () =&gt; {<br/>    return {<br/>      filtersList: ['youtube', 'twitch'],<br/>    }<br/>  },<br/>  actions: {},<br/>  getters: {<br/>    filtersList: state =&gt; state.filtersList,<br/>  },<br/>})</span></pre><p id="f344" class="pw-post-body-paragraph lv lw in lx b ly mo jo ma mb mp jr md ll mq mf mg lo mr mi mj lr ms ml mm mn ig bi translated">这只是展示了你的商店的总体结构。关键是<code class="fe ne nf ng mw b">defineStore</code>，并确保包含一个<code class="fe ne nf ng mw b">id</code>。在这种情况下，我使用<code class="fe ne nf ng mw b">'filter-store'</code>作为我的id，但它可以是您喜欢的任何东西。</p><p id="0e06" class="pw-post-body-paragraph lv lw in lx b ly mo jo ma mb mp jr md ll mq mf mg lo mr mi mj lr ms ml mm mn ig bi translated">通读Pinia的<a class="ae mu" href="https://pinia.vuejs.org/core-concepts/" rel="noopener ugc nofollow" target="_blank">文档</a>，更好地掌握如何正确使用Pinia。</p><h2 id="2231" class="lg kp in bd kq lh li dn ku lj lk dp ky ll lm ln la lo lp lq lc lr ls lt le lu bi translated">将Pinia引入Vue组件</h2><p id="238a" class="pw-post-body-paragraph lv lw in lx b ly lz jo ma mb mc jr md ll me mf mg lo mh mi mj lr mk ml mm mn ig bi translated">有了我们的商店，只需将它导入到您想要使用的组件中，就可以玩得开心了！</p><pre class="kd ke kf kg gt mv mw mx my aw mz bi"><span id="1c97" class="lg kp in mw b gy na nb l nc nd">&lt;template&gt;<br/>  &lt;div&gt;<br/>    {{ filtersList }}<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>// components/FilterMenu.vue<br/>&lt;script&gt;<br/>import { useFiltersStore } from '~/store/filters'<br/><br/>export default defineComponent({<br/>  setup() {<br/>    const filtersStore = useFiltersStore()<br/>    const filtersList = filtersStore.filtersList<br/><br/>    return { filtersList }<br/>  },<br/>})<br/>&lt;/script&gt;</span></pre><p id="f1c1" class="pw-post-body-paragraph lv lw in lx b ly mo jo ma mb mp jr md ll mq mf mg lo mr mi mj lr ms ml mm mn ig bi translated"><em class="nh">更多内容看</em> <a class="ae mu" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lx io"> <em class="nh">说白了。报名参加我们的</em> <a class="ae mu" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lx io"> <em class="nh">免费周报</em> </strong> </a> <em class="nh">。关注我们关于</em><a class="ae mu" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lx io"><em class="nh">Twitter</em></strong></a><em class="nh">和</em><a class="ae mu" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lx io"><em class="nh">LinkedIn</em></strong></a><em class="nh">。加入我们的</em> <a class="ae mu" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lx io"> <em class="nh">社区</em> </strong> </a> <em class="nh">。</em></strong></a></p></div></div>    
</body>
</html>