<html>
<head>
<title>How to Encode Image Files in Base64 with Plain JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用普通JavaScript在Base64中编码图像文件</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-encode-image-files-in-base64-with-plain-javascript-4927fa08e063?source=collection_archive---------12-----------------------#2022-02-08">https://javascript.plainenglish.io/how-to-encode-image-files-in-base64-with-plain-javascript-4927fa08e063?source=collection_archive---------12-----------------------#2022-02-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="03b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">代码实现&amp;链接到离线工具包括在内。</p><p id="9674" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去的几个月里，在创建可移植的、易于转移的基于浏览器的工具以提高工作效率的竞赛中，我经常发现自己转向在线工具，如<a class="ae kl" href="https://www.base64-image.de/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Base64 Image Encoder</strong></a>来将图像或网站徽标嵌入到一个HTML文件中。</p><blockquote class="km kn ko"><p id="8f8e" class="jn jo kp jp b jq jr js jt ju jv jw jx kq jz ka kb kr kd ke kf ks kh ki kj kk ij bi translated"><em class="iq">Base64编码的正式定义，请参考这个</em> <a class="ae kl" href="https://developer.mozilla.org/en-US/docs/Glossary/Base64" rel="noopener ugc nofollow" target="_blank"> <em class="iq">链接</em> </a> <em class="iq">。</em></p></blockquote><h2 id="6cda" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">用例示例:在Web应用程序上呈现地图标记</h2><p id="8046" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk ij bi translated"><em class="kp">仅供参考:我在本文中重点关注的Base64编码的具体实例将缩小到仅嵌入web图像的</em> <strong class="jp ir"> <em class="kp">。</em> </strong></p><p id="b74d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1将图像作为Base64字符串嵌入web应用程序的最大优势是<em class="kp">减少web应用程序每次部署所需的静态文件数量</em>。</p><p id="b3e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，在网络应用<a class="ae kl" href="https://sg-hdb-building-layer-in-three-d.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://sg-hdb-building-layer-in-three-d.netlify.app/</a>上，我选择在每栋建筑上放置一个可点击的地图标记，用于可选的工具提示显示:</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi lr"><img src="../Images/570b30621e72c3ac9907fe38b4b56c7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*msIrSXyVJVqViI2GAlj9AA.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Image by Author | The above illustrates the user clicking 1 of the buildings at a specific marker where the image “invisible_marker.gif” is positioned at. | Web app deployed at: <a class="ae kl" href="https://sg-hdb-building-layer-in-three-d.netlify.app/" rel="noopener ugc nofollow" target="_blank">https://sg-hdb-building-layer-in-three-d.netlify.app/</a></figcaption></figure><p id="7027" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而不是将图像<strong class="jp ir"> invisible_marker.gif </strong>作为单独的文件保存在:<a class="ae kl" href="https://github.com/incubated-geek-cc/sg-hdb-building-layer-in-3D-offline/blob/main/asset/img/invisible_marker.gif" rel="noopener ugc nofollow" target="_blank">https://github . com/孵育-geek-cc/SG-hdb-building-layer-in-3D-offline/blob/main/asset/img/invisible _ marker . gif</a></p><p id="b8df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">相反，我选择将文件嵌入为一个Base64字符串:</p><pre class="ls lt lu lv gt mh mi mj bn mk ml bi"><span id="312d" class="mm ku iq mi b be mn mo l mp mq">data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7</span></pre><blockquote class="mr"><p id="8031" class="ms mt iq bd mu mv mw mx my mz na kk dk translated">当web应用程序的静态文件数量混乱、分散且只使用一次时，将图像编码为base64字符串非常有用。</p></blockquote><p id="bc7a" class="pw-post-body-paragraph jn jo iq jp b jq nb js jt ju nc jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">因此，为了减少对外部web工具的依赖，如<a class="ae kl" href="https://www.base64-image.de/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Base64图像编码器</strong> </a>，我创建了一个本地的和不依赖于服务器的版本，如下所示:</p><figure class="ls lt lu lv gt lw gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/14b10cf85e57ad458bb5280231506e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*my-sQb4o3oO4ERyGo-3t5A.gif"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Screencapture by Author | Demonstrating usage of local browser tool to encode image file(s) into base64 formats.</figcaption></figure><h2 id="0a36" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">你可以在我的GitHub:<a class="ae kl" href="https://gist.githubusercontent.com/incubated-geek-cc/37322f04504b253f3f1e619be1f5fc0e/raw/8229cd209f6e04d068cc67386188b22a217a1bf0/encodeBase64.html" rel="noopener ugc nofollow" target="_blank">encodeBase64.html</a>或者在这个<a class="ae kl" href="https://incubated-geek-cc.github.io/encode-base64/" rel="noopener ugc nofollow" target="_blank">链接</a>尝试一下！</h2></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h2 id="0809" class="kt ku iq bd kv kw kx dn ky kz la dp lb jy lc ld le kc lf lg lh kg li lj lk ll bi translated">个人评论:</h2><p id="9575" class="pw-post-body-paragraph jn jo iq jp b jq lm js jt ju ln jw jx jy lo ka kb kc lp ke kf kg lq ki kj kk ij bi translated">请注意，并非所有用例都适合以编码状态呈现图像。当无法在浏览器的本地存储中缓存文件成为用户的一大负担时，由于web应用程序性能的降低，这种情况尤其明显。这种情况包括:</p><p id="5006" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> (1) </strong>图像文件很大(&gt; 1MB) <em class="kp"> (base64字符串的大小往往比其原始文件大小大~ 33%)</em></p><p id="db6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> (2) </strong>图像文件在不同的网页上渲染多次<em class="kp">(在这种情况下，缓存文件可以显著提高web应用程序的加载时间)</em></p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="731e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你知道了！非常感谢你坚持到这篇文章的结尾！❤希望你觉得这个指南有用，如果你想了解更多GIS、数据分析&amp; Web应用相关的内容，请随时<a class="ae kl" href="https://medium.com/@geek-cc" rel="noopener">关注我的Medium </a>。会非常感激—😀</p><p id="e77a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">— 🌮请给我买个玉米卷🎀˶❛◡❛)</p><div class="no np gp gr nq nr"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">通过我的推荐链接加入灵媒——李思欣·崔</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">获得李思欣·崔和其他作家在媒体上的所有帖子！😃您的会员费直接…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">geek-cc.medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of mb nr"/></div></div></a></div><p id="b683" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">这里有一些其他的离线工具，你可能会发现它们对你的日常工作很有用:</strong></p><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/an-offline-qr-code-generator-reader-built-in-100-vanilla-javascript-b7e8aec812e8"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">100%纯JavaScript内置的离线二维码生成器/阅读器</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">为什么每个人都应该准备好这个。包含工具链接。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oa l"><div class="og l oc od oe oa of mb nr"/></div></div></a></div><div class="no np gp gr nq nr"><a href="https://medium.com/geekculture/this-is-how-you-can-email-exe-or-bat-files-in-3-steps-in-the-year-2021-c0aa482e9e1" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">这是你发邮件的方式。exe或。2021年bat分三步申请</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">绕过谷歌和微软的电子邮件协议比大多数人想象的要容易——对技术和非技术行家来说都是如此。是否…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">medium.com</p></div></div><div class="oa l"><div class="oh l oc od oe oa of mb nr"/></div></div></a></div><p id="b72a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kp">更多内容看</em> <a class="ae kl" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kp">说白了就是</em> </strong> </a> <em class="kp">。报名参加我们的</em> <a class="ae kl" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kp">免费周报</em> </strong> </a> <em class="kp">。在我们的</em> <a class="ae kl" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="kp">社区不和谐</em> </strong> </a> <em class="kp">获得独家获取写作机会和建议。</em></p></div></div>    
</body>
</html>