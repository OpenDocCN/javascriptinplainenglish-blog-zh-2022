<html>
<head>
<title>Want to Understand Immediately Invoked Function Expressions (IIFEs)? You Can Start Now</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">想了解立即调用的函数表达式(IIFEs)吗？你现在可以开始了</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/want-to-understand-immediately-invoked-function-expressions-you-can-start-now-9afb9dc460c8?source=collection_archive---------21-----------------------#2022-01-03">https://javascript.plainenglish.io/want-to-understand-immediately-invoked-function-expressions-you-can-start-now-9afb9dc460c8?source=collection_archive---------21-----------------------#2022-01-03</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="0c01" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">Javascript有三种类型的函数:命名函数、匿名函数和生活函数。你知道区别吗？</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/d1f8f97ce56ba8b6475a78b75d343709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHW_tnJrpxY3T2GfokL1Yw.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Photo by <a class="ae ks" href="https://www.instagram.com/rodlong/" rel="noopener ugc nofollow" target="_blank">Rod Long</a></figcaption></figure><p id="d743" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">立即调用函数表达式，或IIFE，顾名思义。它们是在您定义它们之后立即被调用的函数。</p><p id="3f6a" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">以下面的示例代码为例:</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lp"><img src="../Images/267cbf8dfe46d6754ae0c1aadf03fda6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*96JXeK-2znc62wb1yqXmuA.png"/></div></div></figure><p id="0b5e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是名为 <code class="fe lr ls lt lu b">printSuccess</code>的<em class="lq">的函数声明。在这种情况下，除非您提供函数调用<code class="fe lr ls lt lu b">printSuccess()</code>，否则函数<code class="fe lr ls lt lu b">printSuccess</code>不会运行。</em></p><p id="1977" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">但是如果我们想让<code class="fe lr ls lt lu b">printSuccess</code>立即运行呢？编译器一遇到函数声明，我们就希望函数在没有函数调用的情况下执行。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lp"><img src="../Images/24b9b5bf45d49fa408d2b3cbe2be69d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oH2e_llCvJ8fNJDNMCwnMw.png"/></div></div></figure><p id="bcba" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这是我们实现这一目标的方法。如你所见，我们将一个<em class="lq">匿名</em>，未命名的函数放在括号中，后面跟着<code class="fe lr ls lt lu b">();</code></p><p id="47f5" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">当编译器遇到这个样本代码时，它会立即执行，并将<code class="fe lr ls lt lu b">success</code>打印到控制台。但是如果我们真的想一遍又一遍地使用这个函数呢？因为现在，上面的生命只会执行一次。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi lv"><img src="../Images/8550ad8a55e22c12ec136b5d633e8293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tk-WZRTOaiq0lmW0-_AJpg.png"/></div></div></figure><p id="5d36" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这就是我们如何实现这一目标。当编译器遇到这一行代码时，仍然会立即调用函数，并将<code class="fe lr ls lt lu b">success</code>打印到控制台。然而，这也将允许我们通过调用<code class="fe lr ls lt lu b">printSuccess();</code>来重用该函数</p><h1 id="8f16" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">找出问题所在</h1><p id="6ffd" class="pw-post-body-paragraph kt ku in kv b kw mo jo ky kz mp jr lb lc mq le lf lg mr li lj lk ms lm ln lo ig bi translated">这里有一个快速练习:</p><p id="045b" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最近，我在构建一个随机报价生成器，我使用一个API来生成这些报价。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/79477dbe0e7da1b13d3877db79d02385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FO23QOJQ7vi2RzulqcOXiA.png"/></div></div></figure><p id="2764" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">上面的代码代表了这个函数最初的样子。如您所见，我提供了一个函数定义，紧接着是一个函数调用。这似乎是一个生活的好机会。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/7a95aad28ce2f6042c560979408e90a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fHhlWAowC9SF1FzTpT2Uvg.png"/></div></div></figure><p id="af2d" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">最初，我是这样做的。但出于某种原因，它不起作用。你能发现问题吗？</p><p id="5343" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><strong class="kv io">注意</strong>:我们保留了最后一行，因为我们希望<code class="fe lr ls lt lu b">generateQuote</code>函数可以重用。当用户点击一个按钮时，我们希望用户能够生成新的报价，这意味着我们将不得不一次又一次地调用这个函数。</p><p id="42c7" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">你能想出快速解决办法吗？</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/775ba27ac8dd886dab08159ee22a9231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SkcOIYbnBH8JuemptaOdA.png"/></div></div></figure><p id="6c07" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这也不是答案。会出现错误。为什么？</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mt"><img src="../Images/7a95aad28ce2f6042c560979408e90a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fHhlWAowC9SF1FzTpT2Uvg.png"/></div></div></figure><p id="8eca" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated">这就是答案。在本例中，<code class="fe lr ls lt lu b">generateQuote</code>将被立即调用。并且在函数声明之后，我们可以随时重用<code class="fe lr ls lt lu b">generateQuote</code>函数。</p><h1 id="bdae" class="lw lx in bd ly lz ma mb mc md me mf mg jt mh ju mi jw mj jx mk jz ml ka mm mn bi translated">示例代码</h1><p id="1ba5" class="pw-post-body-paragraph kt ku in kv b kw mo jo ky kz mp jr lb lc mq le lf lg mr li lj lk ms lm ln lo ig bi translated">这里有一些您可以使用的示例代码。</p><pre class="kd ke kf kg gt mu lu mv mw aw mx bi"><span id="c844" class="my lx in lu b gy mz na l nb nc">(generateQuote = function (){<br/>    console.log("trip")<br/>})();</span><span id="8dc9" class="my lx in lu b gy nd na l nb nc">/*<br/>   <strong class="lu io">prints:</strong><br/>   trip<br/>*/</span><span id="753e" class="my lx in lu b gy nd na l nb nc">(  foo = function (){<br/>    let x =2;<br/>    let y =5;<br/>    console.log(x+y)<br/>})();</span><span id="8842" class="my lx in lu b gy nd na l nb nc">foo();<br/>/*<br/>   <strong class="lu io">prints:</strong><br/>   7<br/>   7<br/>*/</span><span id="058d" class="my lx in lu b gy nd na l nb nc">(function (){<br/>    let x =2;<br/>    let y =5;<br/>    console.log(x*y)<br/>})();<br/>/*<br/>   <strong class="lu io">prints:</strong><br/>   7<br/>*/</span><span id="53d7" class="my lx in lu b gy nd na l nb nc">(function (x = 0){<br/>    let y =5;<br/>    console.log(x*y)<br/>})();<br/>/*<br/>   <strong class="lu io">prints:</strong><br/>   0<br/>*/</span><span id="2bbf" class="my lx in lu b gy nd na l nb nc">(sum = function (x = 4){<br/>    let y =5;<br/>    console.log(x*y)<br/>})();</span><span id="3d61" class="my lx in lu b gy nd na l nb nc">sum(10);<br/>/*<br/>   <strong class="lu io">prints:</strong><br/>   20<br/>   50<br/>*/</span><span id="5721" class="my lx in lu b gy nd na l nb nc">let x = 4;<br/>let y = 2;<br/>(sum = function (){<br/>    let x = 0;<br/>    let y =5;<br/>    console.log(x*y)<br/>})();</span><span id="0ddf" class="my lx in lu b gy nd na l nb nc">sum();</span><span id="5d3f" class="my lx in lu b gy nd na l nb nc">/*<br/>    <strong class="lu io">prints</strong>:<br/>    0<br/>    0<br/>*/</span></pre><p id="ed8e" class="pw-post-body-paragraph kt ku in kv b kw kx jo ky kz la jr lb lc ld le lf lg lh li lj lk ll lm ln lo ig bi translated"><em class="lq">更多内容看</em> <a class="ae ks" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="lq">说白了。报名参加我们的</em> </a><a class="ae ks" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <em class="lq">免费每周简讯</em> </a> <em class="lq">。在我们的</em> <a class="ae ks" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <em class="lq">社区</em> </a> <em class="lq">获得独家写作机会和建议。</em></p></div></div>    
</body>
</html>