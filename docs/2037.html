<html>
<head>
<title>6 Killer Facts You Need to Know About the DOM as a Frontend Developer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为一名前端开发人员，你需要了解的关于DOM的6个黑仔事实</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/6-killer-facts-you-need-to-know-about-the-dom-as-a-frontend-developer-caf9872e4ae2?source=collection_archive---------6-----------------------#2022-05-09">https://javascript.plainenglish.io/6-killer-facts-you-need-to-know-about-the-dom-as-a-frontend-developer-caf9872e4ae2?source=collection_archive---------6-----------------------#2022-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e6cc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">#6.碎片，嗯？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2b193040c160f44161c657ea63de46d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzKJ8cazI1hPpwWK15MNiw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by author and <a class="ae kv" href="https://unsplash.com/photos/S9uB_IlDThw" rel="noopener ugc nofollow" target="_blank">King Lip</a> on <a class="ae kv" href="https://unsplash.com/photos/S9uB_IlDThw" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ab2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在https://twitter.com/antondevv<a class="ae kv" href="https://twitter.com/antondevv" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"/></a><strong class="ky ir">通过在Twitter上关注我，保持反应和打字的前沿。</strong></p><p id="2168" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">许多前端开发人员在使用库和框架时并不了解他们工作的基本原则，我就是其中之一。</p><p id="4075" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是因为无聊吗？还是认为这很难？或者仅仅是因为这些库和框架是如此的光滑和吸引人，以至于它们占据了教学空间，只有少数几个深入地覆盖了基本的核心主题。</p><p id="e2c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无论如何，在这篇文章中，我将回顾几个我认为重要的DOM方面！</p><h2 id="7bc9" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">1.HTML被解析成节点树</h2><p id="ce6d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">有些前端开发人员甚至不知道HTML页面只是一种标记，就像XML一样。实际上，浏览器正在将HTML代码解析成一种叫做DOM - document对象模型的东西。</p><p id="d52a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当浏览器加载网页时，它是HTML格式的。为了让浏览器与HTML进行交互，比如修改内容、点击内容并使其发生变化等等，必须有某种方法来设置HTML内容上的事件并轻松地改变内容等等。</p><p id="c713" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是为什么浏览器将HTML代码解析成一个包含节点对象的文档，该文档以树的格式构造，这被称为DOM。</p><p id="75ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">HTML页面中的每个元素，比如<code class="fe mq mr ms mt b">&lt;h1&gt;, &lt;div&gt;, &lt;header&gt;, &lt;head&gt; </code>等等，都被转换成自己的节点对象。</p><p id="b1dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">关于该流程如何工作的简短通知:</strong></p><ol class=""><li id="f08a" class="mu mv iq ky b kz la lc ld lf mw lj mx ln my lr mz na nb nc bi translated">它将HTML标记成标记。如果你以前做过任何ML的东西，把它想象成把一个文本标记成单词。</li><li id="a3bf" class="mu mv iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">有了这些标记，它就创建了一个解析树。</li><li id="5f7c" class="mu mv iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">通过解析树，它创建了DOM树。</li></ol><p id="c1f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就引出了下一点。👇</p><h2 id="217c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">2.每个HTML元素都是DOM中的一个节点对象</h2><p id="4f43" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">因此，正如我们所知，节点对象是HTML代码中不同元素的表示。所以节点基本上是表示不同HTML元素的对象。我们使用的最常见的节点有:</p><p id="433f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">元素节点、文本节点和文档节点。</strong></p><p id="a3df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，这个HTML代码<code class="fe mq mr ms mt b">&lt;a href="contact.html"&gt;Contact&lt;/a&gt;</code>是<code class="fe mq mr ms mt b">HTMLAnchorElement</code>的一个节点对象，它有一个文本节点<code class="fe mq mr ms mt b">Contact</code>。</p><p id="48dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有的节点类型来自哪里？浏览器有一个节点对象，该节点对象有DOM树继承的其他节点。</p><p id="968f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">下面是节点对象上可用的内容:</strong></p><pre class="kg kh ki kj gt ni mt nj nk aw nl bi"><span id="718a" class="ls lt iq mt b gy nm nn l no np">'ELEMENT_NODE', 'ATTRIBUTE_NODE', 'TEXT_NODE', 'CDATA_SECTION_NODE', 'ENTITY_REFERENCE_NODE', 'ENTITY_NODE', 'PROCESSING_INSTRUCTION_NODE', 'COMMENT_NODE', 'DOCUMENT_NODE', 'DOCUMENT_TYPE_NODE', 'DOCUMENT_FRAGMENT_NODE', 'NOTATION_NODE', 'DOCUMENT_POSITION_DISCONNECTED', 'DOCUMENT_POSITION_PRECEDING', 'DOCUMENT_POSITION_FOLLOWING', 'DOCUMENT_POSITION_CONTAINS', 'DOCUMENT_POSITION_CONTAINED_BY', 'DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC'</span></pre><p id="cf91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就引出了下一点。👇</p><h2 id="8f60" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">3.DOM树中的每个节点都继承自node对象</h2><p id="439d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">所有节点类型都继承自节点。</p><p id="d983" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另外，需要注意的重要一点是，节点是一个JavaScript构造函数。构造函数是初始化一个新对象并返回它的函数。</p><p id="cca2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，节点构造函数基本上是一个返回带有节点类型的对象的函数。</p><p id="6ac3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不同的节点对象共享相同的类型，因此您可以将其视为对象原型继承。</p><p id="fbb5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的意思是这只是对它的高级解释，而不是详细或准确的解释。如果你想要那个，我推荐你读读<a class="ae kv" href="http://domenlightenment.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">这个</strong> </a>。</p><h2 id="71c1" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">4.创建节点和向DOM添加节点的不同方法</h2><p id="0e9b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">因此，当浏览器加载时，它会解析HTML，并在构造DOM之前将每个元素转换为一个节点对象。</p><p id="b6f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">web APIs允许我们用JavaScript创建自己的DOM节点，并在DOM中添加、删除和更新节点。</p><p id="b3c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以像这样创建一个节点元素:<code class="fe mq mr ms mt b">document.createElement('div')</code>并且我们可以通过把它附加到主体节点来把它添加到DOM中。例如:</p><pre class="kg kh ki kj gt ni mt nj nk aw nl bi"><span id="ee4d" class="ls lt iq mt b gy nm nn l no np">document.querySelector('body')<br/>.appendChild(document.createElement('div'))</span></pre><p id="d8e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还有一些使用简单字符串创建和插入节点的方法和属性。</p><p id="5495" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mq mr ms mt b">document.querySelector('body').innerHTML = "&lt;div&gt;&lt;/div&gt;"</code>将用一个<code class="fe mq mr ms mt b">div</code>节点元素替换主体中的所有节点。</p><h2 id="432a" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">5.到底是干什么用的？</h2><p id="2c5e" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">一个HTML文档必须以声明开始，尽管它不再需要这样做了。但基本上，浏览器需要了解预期的文档类型，然后它可以将HTML文档解析为包含表示每个HTML元素的节点对象的文档。</p><p id="3855" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没有它，它不知道该怎么做，或者至少以前是这样，它还有一些其他的属性来使它正常工作。</p><h2 id="8bc9" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">6.碎片的魔力</h2><p id="4a6f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated"><code class="fe mq mr ms mt b">document.createFragment()</code>是一个节点对象，<em class="nq">但是</em>，它从来都不是DOM树的一部分；取而代之的是它的所有子节点，而碎片本身只是内存的一部分。</p><p id="422c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，因为片段不是DOM的一部分，它只存在于内存中，所以它实际上可以提高性能，因为当子元素附加到片段上时，它不会导致回流。</p><p id="841b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你用过React，你可能会认为它和React是一样的。片段，或&lt;&gt;，它可以帮助你避免破坏HTML的语义，这是可访问性的基础。但这不一样；事实上，反应过来。片段仅用于在需要时包装JSX元素，并帮助处理语义。React不调用createFragment，所以不一样。</p><p id="105c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nq">你好，如果你想自己体验媒介，请考虑支持我和所有其他作家，注册成为</em> <a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir"> <em class="nq">会员</em> </strong> </a> <em class="nq">每月5美元，以保持独立写作的活力，</em> <a class="ae kv" href="https://medium.com/@anton.franzen/membership" rel="noopener"> <strong class="ky ir"> <em class="nq">在此注册；</em> </strong> </a></p><p id="cb95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了支持他人，Medium还可以通过写作和在此安家的强大、积极参与的社区来支持你。</p><h1 id="13bd" class="nr lt iq bd lu ns nt nu lx nv nw nx ma jw ny jx md jz nz ka mg kc oa kd mj ob bi translated">如果你喜欢这件作品，我希望你也会喜欢:</h1><div class="oc od gp gr oe of"><a rel="noopener  ugc nofollow" target="_blank" href="/4-killer-ways-to-write-typescript-with-react-6a66b32764f1"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">用React编写打字稿的4种黑仔方法</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">4个黑仔打字稿，带反馈提示+ 1个额外提示</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oo l"><div class="op l oq or os oo ot kp of"/></div></div></a></div><div class="oc od gp gr oe of"><a rel="noopener  ugc nofollow" target="_blank" href="/5-typescript-lessons-that-will-pay-off-911d35974c8"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">将会有回报的5堂打字课</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">你知道第五条吗？</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="oo l"><div class="ou l oq or os oo ot kp of"/></div></div></a></div><div class="oc od gp gr oe of"><a href="https://betterprogramming.pub/callbacks-vs-promises-vs-async-await-a-step-by-step-guide-f93d13447604" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">回调vs .承诺vs .异步Await:逐步指南</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">引擎盖下也有点。</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">better编程. pub</p></div></div><div class="oo l"><div class="ov l oq or os oo ot kp of"/></div></div></a></div><p id="e756" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nq">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nq">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nq">免费每周简讯</em> </strong> </a> <em class="nq">。关注我们</em> <a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nq">推特</em> </strong> </a> <em class="nq">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nq">LinkedIn</em></strong></a><em class="nq">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="nq">社区不和谐</em> </strong> </a> <em class="nq">。</em></strong></a></p></div></div>    
</body>
</html>