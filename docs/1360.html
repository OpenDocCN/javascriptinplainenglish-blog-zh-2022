<html>
<head>
<title>How to Integrate Alan’s Speech-to-Text Engine into Doctor.ai</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将艾伦的语音转文本引擎集成到Doctor.ai中</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/integrate-alan-speech-to-text-to-doctor-ai-5f0b2f479cca?source=collection_archive---------0-----------------------#2022-03-19">https://javascript.plainenglish.io/integrate-alan-speech-to-text-to-doctor-ai-5f0b2f479cca?source=collection_archive---------0-----------------------#2022-03-19</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="64ad" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">通过高度精确的Alan AI改善Doctor.ai的语音识别</h2></div><p id="f80e" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="lc">黄四兴</em><a class="ae ld" href="https://github.com/herosql" rel="noopener ugc nofollow" target="_blank">T3】梁丽T5】</a></p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj le"><img src="../Images/4de4f97fac4def062101223df3ee3033.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9HamDYuG_LJZp-wdbNn5Gg.jpeg"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Photo by <a class="ae ld" href="https://unsplash.com/@gritte?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Gritte</a> on <a class="ae ld" href="https://unsplash.com/s/photos/speak?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="750a" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">对于一个语音聊天机器人来说，它准确捕捉说话者话语的能力可以决定用户体验的成败。和一个聪明的转录者交谈总是很有趣。这是一种生产力的提升，因为说话比打字快两到三倍。</p><p id="10bb" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">相比之下，像Chrome这样起伏不定的语音转文本引擎会很快让用户感到沮丧。在这种情况下，用户将很快意识到花在纠正上的时间比从听写中获得的时间要多。结果他就一直打字不说话。这就违背了语音聊天机器人的全部目的。</p><p id="39dd" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在我们开发医疗聊天机器人Doctor.ai ( <a class="ae ld" href="https://medium.com/p/8c09af65aabb" rel="noopener"> 1 </a>、<a class="ae ld" href="https://neo4j.com/blog/doctor-ai-a-voice-chatbot-for-healthcare-powered-by-neo4j-and-aws/" rel="noopener ugc nofollow" target="_blank"> 2 </a>、<a class="ae ld" href="https://towardsdatascience.com/transfer-knowledge-graphs-to-doctor-ai-cc21765fa8a6" rel="noopener" target="_blank"> 3 </a>、<a class="ae ld" href="https://dgg32.medium.com/from-symptoms-and-mutations-to-diagnoses-doctor-ai-as-a-diagnosis-tool-5b31ac7a16c3" rel="noopener"> 4 </a>、<a class="ae ld" href="https://towardsdatascience.com/gpt-3-for-doctor-ai-1396d1cd6fa5" rel="noopener" target="_blank"> 5 </a>和<a class="ae ld" href="https://dgg32.medium.com/can-doctor-ai-understand-german-chinese-and-japanese-gpt-3-answers-ja-%E5%8F%AF%E4%BB%A5-and-%E3%81%84%E3%81%84%E3%82%88-b63b10d67bf4" rel="noopener"> 6 </a>)的过程中，我们很早就注意到Chrome中的语音转文本引擎并不出色。它丢弃并曲解了单词。它形成了毫无意义的不连贯的句子。它在ai医生最需要的医学对话中的表现糟糕透顶。</p><p id="82da" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">我们一直在寻找更好的发动机。这个新的引擎不仅应该在正常对话中表现出色，还应该理解常见的医学术语，如疾病、药物和病原体的名称。我们的搜索得到了艾伦·艾的奖励。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj lu"><img src="../Images/5ed7da004bf990960f10eb852ae53f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*u5cGFHNWkpqM0rZj84dF3w.gif"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 1. Doctor.ai with Alan button in action. Image by the author.</figcaption></figure><div class="lf lg lh li gu ab cb"><figure class="lv lj lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><img src="../Images/abb53e85efcab35d6e4ee8f4fdf0aa05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*CjzoC1uHAxP2XggoxHSLjg.png"/></div></figure><figure class="lv lj lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><img src="../Images/172552b4d7bd8c71e724140d50b8421f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*MiYinoKectnJS4wIuvNYvQ.png"/></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk mb di mc md">Figure 2. Alan captures medical jargon, such as frontal sinus and Doxepin. Image by the author.</figcaption></figure></div><p id="7db2" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">据其网站介绍，Alan是一个对话式语音AI平台。它的口语理解(SLU)旨在处理自动语音识别(ASR)的易错输出。它有一个所谓的领域语言模型，可以更好地识别专业语言，动态适应用户的对话风格。</p><p id="9cb5" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">Alan高度准确的声音捕捉给我们留下了深刻的印象(图1)。在普通和技术对话中，它完全胜过Chrome。它航行通过许多生物医学术语，如“光合作用”、“额窦”、“多塞平”和“牛痘”(图2)。最让我们惊讶的是，正如你在图1中看到的，即使Alan在这里和那里有一些错误的单词，它也能够纠正错误，并最终形成连贯的句子。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj me"><img src="../Images/8cf29d95c01a19e7a2cf31f8a573d36a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqIjQdaqHuXEwZOxhtG0Gg.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 3. The architecture of Doctor.ai with Alan. Image by author.</figcaption></figure><p id="701d" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在本文中，我们将向您展示如何将Alan按钮集成到Doctor.ai的前端，以改善用户体验(图3)。它懂英语。如果你有艾伦的企业版，你也可以做一个德国版。该项目不需要花费艾伦的开发商计划的资金。这个项目的代码存放在GitHub仓库中。</p><div class="mf mg gq gs mh mi"><a href="https://github.com/dgg32/doctorai_alan" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fp"><div class="mk ab ml cl cj mm"><h2 class="bd is gz z fq mn fs ft mo fv fx iq bi translated">GitHub - dgg32/doctorai_alan</h2><div class="mp l"><h3 class="bd b gz z fq mn fs ft mo fv fx dk translated">这是面向Doctor.ai和Alan的React前端应用程序，将Alan语音转文本集成到Doctor.ai。在中运行该应用程序…</h3></div><div class="mq l"><p class="bd b dl z fq mn fs ft mo fv fx dk translated">github.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw lo mi"/></div></div></a></div><h1 id="696d" class="mx my ir bd mz na nb nc nd ne nf ng nh jx ni jy nj ka nk kb nl kd nm ke nn no bi translated">1.获取艾伦的SDK密钥</h1><p id="8e27" class="pw-post-body-paragraph kg kh ir ki b kj np js kl km nq jv ko kp nr kr ks kt ns kv kw kx nt kz la lb ik bi translated">去<a class="ae ld" href="https://studio.alan.app/register" rel="noopener ugc nofollow" target="_blank">艾伦的网站</a>报名。并按照<a class="ae ld" href="https://studio.alan.app/plans" rel="noopener ugc nofollow" target="_blank">说明</a>获取“开发者计划”。这个计划给你超过一万次的自由互动。一旦你进入艾伦工作室，点击<code class="fe nu nv nw nx b">Create Voice Assistant</code>并将其命名为<code class="fe nu nv nw nx b">doctorai_en</code>。</p><div class="lf lg lh li gu ab cb"><figure class="lv lj ny lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><img src="../Images/3b6aedc8ec99cab86c14df1ee95bced3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*X20TOcs1N05HWVpaw1t7vQ.png"/></div></figure><figure class="lv lj nz lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><img src="../Images/11e6cda54c9be7762680d7bfa3290047.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*9ecr3OrrQuD9N56EGrd4OQ.png"/></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk oa di ob md">Figure 4. How to create an Alan project. Image by author.</figcaption></figure></div><p id="93d4" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">进入工作室后，创建一个“Alan Integrations”项目。删除左侧面板上的所有原始脚本，并创建一个新脚本。将代码1复制并粘贴到内容中。这个脚本捕获用户的讲话并使Alan的语音响应静音。最后，点击<code class="fe nu nv nw nx b">&lt;/&gt; Integrations</code>按钮。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj oc"><img src="../Images/bbe67d6b8de1f330b746ab2bec0e29e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lFAp4NLt9npKNS6PfsNCQQ.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 5. How to edit the Alan script. Image by author.</figcaption></figure><figure class="lf lg lh li gu lj"><div class="bz fq l di"><div class="od oe l"/></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Code 1. The content for the Alan script.</figcaption></figure><p id="2a3a" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">进入<code class="fe nu nv nw nx b">Integration</code>页面后，将<code class="fe nu nv nw nx b">Microphone timeout</code>更改为<code class="fe nu nv nw nx b">3 sec</code>，这样艾伦就不会捕捉到来自Doctor.ai的语音响应。您也可以更改语言。最后，复制SDK密钥。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj oc"><img src="../Images/9928631e5061882c290d615aebc70eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KedQQUf4EY-Hrn7By88TxA.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 6. Configure the Integration parameters in Alan. Image by the author.</figcaption></figure><h1 id="5e1f" class="mx my ir bd mz na nb nc nd ne nf ng nh jx ni jy nj ka nk kb nl kd nm ke nn no bi translated">2.改变Doctor.ai的前端</h1><p id="72e6" class="pw-post-body-paragraph kg kh ir ki b kj np js kl km nq jv ko kp nr kr ks kt ns kv kw kx nt kz la lb ik bi translated">我们已经更新了Doctor.ai前端的代码，以容纳Alan按钮。您可以在资源库中找到这些新代码。以下是这些变化的简要概述。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj of"><img src="../Images/2fdf6360e5a65cf356115f8f86495aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hUp6X-mtKBrjozZev-T9Zw.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 7. Changes in Doctor.ai’s app.js. Image by the author.</figcaption></figure><p id="fa27" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">除了一个新的<code class="fe nu nv nw nx b">ref</code>之外，聊天机器人的初始化和以前的文章一样。接下来，我们使用Alan的<code class="fe nu nv nw nx b">parsed</code>事件来捕获讲话，并将脚本传输到聊天机器人的输入字段。最后，我们将Alan按钮添加到DOM中。</p><h1 id="6701" class="mx my ir bd mz na nb nc nd ne nf ng nh jx ni jy nj ka nk kb nl kd nm ke nn no bi translated">3.启动放大前端</h1><p id="0764" class="pw-post-body-paragraph kg kh ir ki b kj np js kl km nq jv ko kp nr kr ks kt ns kv kw kx nt kz la lb ik bi translated">现在，我们来设置放大器前端并测试Alan。将我们的存储库转到您自己的GitHub帐户。按照本文中<a class="ae ld" href="https://medium.com/p/1396d1cd6fa5" rel="noopener">的描述设置Doctor.ai。在安装过程中添加以下环境变量:</a></p><figure class="lf lg lh li gu lj"><div class="bz fq l di"><div class="od oe l"/></div></figure><p id="2c41" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">因此，在您的<code class="fe nu nv nw nx b">Configure build settings</code>页面中应该是这样的:</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj og"><img src="../Images/dcf23fbfcc9e7fa185d74d8a7fe02866.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CwIPv8w4U1uT-edUrMjSJw.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 8. Setting the environment variables in Amplify. Image by the author.</figcaption></figure><p id="bb7f" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">一旦Amplify完成设置，前往您的聊天机器人的网址，玩得开心！请注意，在Alan捕捉到您的发言后，文本将出现在输入字段中。您可以在将抄本发送到聊天机器人之前检查或更正抄本。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj oh"><img src="../Images/23e5a6587d95ebbfdd85303d907d1f95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lp1H_1IIFrizZVs52ggxow.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 9. Doctor.ai with Alan button in English. Image by the author.</figcaption></figure><h1 id="1011" class="mx my ir bd mz na nb nc nd ne nf ng nh jx ni jy nj ka nk kb nl kd nm ke nn no bi translated">4.德语版</h1><p id="d6a0" class="pw-post-body-paragraph kg kh ir ki b kj np js kl km nq jv ko kp nr kr ks kt ns kv kw kx nt kz la lb ik bi translated">如果你有艾伦的企业版，也可以轻松设置德语版。在Alan Studio中创建一个新项目，并将语言更改为<code class="fe nu nv nw nx b">de</code>(图10)。复制并保存SDK密钥。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj oi"><img src="../Images/f615a69ebd7283dfc32a5b15cd0811a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZSAYaMuO1keuxEuPnchOAg.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 10. Change the language in Alan to German. Image by the author.</figcaption></figure><p id="f663" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在Amplify中设置期间，不要忘记将<code class="fe nu nv nw nx b">REACT_APP_LANGUAGE</code>改为德语。</p><figure class="lf lg lh li gu lj gi gj paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gi gj oj"><img src="../Images/0d440a07e18ab107e110880477cab356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mwFqSGLEe2QrRaMU0zMg-Q.png"/></div></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Figure 11. Change the language to German in Amplify. Image by the author.</figcaption></figure><p id="d50e" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">现在，你也可以用德语聊天。</p></div><div class="ab cl ok ol hv om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="ik il im in io"><h1 id="d6e5" class="mx my ir bd mz na or nc nd ne os ng nh jx ot jy nj ka ou kb nl kd ov ke nn no bi translated">结论</h1><p id="8960" class="pw-post-body-paragraph kg kh ir ki b kj np js kl km nq jv ko kp nr kr ks kt ns kv kw kx nt kz la lb ik bi translated">在本文中，我们将向您展示如何将Alan的语音转文本引擎集成到Doctor.ai中，该引擎可以捕获我们的语音，成功率远高于Chrome。即使Alan有时会曲解一些单词，我们也可以在输入栏轻松纠正。这一增加提高了我们与Doctor.ai交互的效率。</p><p id="c623" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这个项目还显示了扩展Doctor.ai有多容易。Doctor.ai是模块化的，通过API进行通信。开发人员可以相应地切换各个组件。我们可以轻松地向其放大器前端添加元素，以增强用户体验。因此，我们鼓励您尝试Doctor.ai，并告诉我们您的使用体验。</p><p id="2136" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="lc">本文中文版为</em> <a class="ae ld" href="https://blog.csdn.net/qq_39576261/article/details/125688918?spm=1001.2014.3001.5502" rel="noopener ugc nofollow" target="_blank"> <em class="lc">此处为</em> </a> <em class="lc">。</em></p><div class="mf mg gq gs mh mi"><a href="https://dgg32.medium.com/membership" rel="noopener follow" target="_blank"><div class="mj ab fp"><div class="mk ab ml cl cj mm"><h2 class="bd is gz z fq mn fs ft mo fv fx iq bi translated">加入媒介与我的介绍链接-黄思兴</h2><div class="mp l"><h3 class="bd b gz z fq mn fs ft mo fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mq l"><p class="bd b dl z fq mn fs ft mo fv fx dk translated">dgg32.medium.com</p></div></div><div class="mr l"><div class="ow l mt mu mv mr mw lo mi"/></div></div></a></div><p id="0841" class="pw-post-body-paragraph kg kh ir ki b kj kk js kl km kn jv ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="lc">更多内容请看</em><a class="ae ld" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ki is"><em class="lc">plain English . io</em></strong></a><em class="lc">。报名参加我们的</em> <a class="ae ld" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ki is"> <em class="lc">免费周报</em> </strong> </a> <em class="lc">。关注我们关于</em><a class="ae ld" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ki is"><em class="lc">Twitter</em></strong></a><em class="lc">和</em><strong class="ki is"><em class="lc"/></strong><a class="ae ld" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ki is"><em class="lc">LinkedIn</em></strong></a><em class="lc">。加入我们的</em> <a class="ae ld" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ki is"> <em class="lc">社区</em> </strong> </a> <em class="lc">。</em></p></div></div>    
</body>
</html>