<html>
<head>
<title>Mastering React: Build Switchable Dark Mode with Styled-Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握React:用样式组件构建可切换的黑暗模式</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/mastering-react-build-switchable-dark-mode-with-styled-components-b54476ed7da?source=collection_archive---------5-----------------------#2022-04-01">https://javascript.plainenglish.io/mastering-react-build-switchable-dark-mode-with-styled-components-b54476ed7da?source=collection_archive---------5-----------------------#2022-04-01</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/ee3dfdf08c18b0fe9af204b03ec0e28d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmjXjuuSN6Lel_Gh1ETRHg.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Pic from <a class="ae jz" href="https://www.pexels.com/pl-pl/@pixabay" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure></div><div class="ab cl ka kb hr kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="ig ih ii ij ik"><h1 id="e1d6" class="kh ki in bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">✨简介</h1><p id="b7ab" class="pw-post-body-paragraph lf lg in lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ig bi translated">嘿！今天我将向你展示如何使用上下文API和样式组件来构建一个可切换的暗/亮主题。如果你读过我以前的文章，你会知道如何使用一个提供者来共享公共状态变量。让我们用上一课学到的知识做一些好东西吧！</p></div><div class="ab cl ka kb hr kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="ig ih ii ij ik"><h1 id="0e90" class="kh ki in bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">🚀构建应用程序主题上下文</h1><p id="342d" class="pw-post-body-paragraph lf lg in lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ig bi translated">首先，我们需要创建一个与上一课相似的主题上下文。让我们创建它，但这一次稍微干净一点。</p><p id="459c" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">在我们开始做具体的工作之前，我们需要创建主题上下文、主题和主题模式的类型。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/fc20ee93086e7a9f2d42eb58b0befe1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tVN9juvAM012Ovob-Vd-g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">types/theme.ts</figcaption></figure><p id="fe52" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">现在，我们可以用上下文消费者钩子创建确切的上下文提供者。我们走吧。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/b81f71a75a0d9ab81fcabe0be4bf6ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJdEKp-b0FnyxJT9XmDfVQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Theme Context and Provider</figcaption></figure><p id="a97c" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">好了，我们的主题上下文准备好了，但是接下来呢？现在我们需要安装<a class="ae jz" href="https://www.npmjs.com/package/styled-components" rel="noopener ugc nofollow" target="_blank">样式组件依赖</a>，创建全局应用程序样式并将其提供给样式组件包装器，当然，还要创建具有指定颜色的主题。我会告诉你怎么做。我们先来创建主题。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/8752fdb3ff1d852df21ad731e9a8ae34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2qAAnyASpJpe-2GLVJmEng.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Defined Themes</figcaption></figure><p id="6100" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">好了，我们现在已经定义了主题，所以我们只需要将它们提供给样式化组件包装器。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/e80fda860186a91f2cfe8c1caea846a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOGVPdUEijYaQz7dVtgRDg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Provided theme to the styled-components wrapper</figcaption></figure><p id="3bc8" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">好了，很好，现在我们得到了提供给样式化组件提供者的主题和提供给包装器子代的<strong class="lh io"> changeMode </strong>函数。现在，我们可以使用样式组件添加全局样式，以更改全局定义的颜色。但是为了更好地体验样式化组件主题，只需定义所提供主题的类型。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mq"><img src="../Images/82e288879e5fab70dda136f516b5de3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xwKYi1bmMgbcw_Q3vlKvEw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Declare styled-components theme type here</figcaption></figure><p id="ab96" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">好了，现在是最后两步了。就像这样定义全局样式。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mr"><img src="../Images/af4225466fc11f10c5198cea2758ddfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XMY0UjnOYHEf5z4YAP98SQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">GlobalStyles definition</figcaption></figure><p id="96c2" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">并将它们插入到我们的主题提供程序中。现在您可以访问<strong class="lh io"> changeMode </strong>功能并更改全局主题。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi ms"><img src="../Images/937e073bf0fd6a16a4e70d6e00cac98b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UKk6-sPUo2uw8XgbN83Buw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Theme toggling example</figcaption></figure></div><div class="ab cl ka kb hr kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="ig ih ii ij ik"><h1 id="90bb" class="kh ki in bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">🍟摘要</h1><p id="08fa" class="pw-post-body-paragraph lf lg in lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ig bi translated">不错！现在你的技术突飞猛进。当你理解了上下文API之后，你就可以用React应用做一些非常棒的事情了。</p><p id="c82e" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated">这个例子到CodeSandbox的链接是<a class="ae jz" href="https://codesandbox.io/s/adoring-roentgen-pmc56f?file=/src/App.tsx" rel="noopener ugc nofollow" target="_blank">这里是</a>。</p></div><div class="ab cl ka kb hr kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="ig ih ii ij ik"><h1 id="5755" class="kh ki in bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">👍谢谢你</h1><p id="1914" class="pw-post-body-paragraph lf lg in lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ig bi translated">希望你喜欢这一课。如果你想通过这种方式学习，就跟着我的简介吧！</p><p id="6370" class="pw-post-body-paragraph lf lg in lh b li md lk ll lm me lo lp lq mf ls lt lu mg lw lx ly mh ma mb mc ig bi translated"><em class="mt">更多内容请看</em><a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="lh io"><em class="mt">plain English . io</em></strong></a><em class="mt">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh io"> <em class="mt">免费周报</em> </strong> </a> <em class="mt">。关注我们关于</em><a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="lh io"><em class="mt">Twitter</em></strong></a><em class="mt">和</em><a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="lh io"><em class="mt">LinkedIn</em></strong></a><em class="mt">。加入我们的</em> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="lh io"> <em class="mt">社区不和谐</em> </strong> </a> <em class="mt">。</em></p></div></div>    
</body>
</html>