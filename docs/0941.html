<html>
<head>
<title>Getting the Largest, Smallest, and Average Array Element Value in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">获取JavaScript中最大、最小和平均的数组元素值</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/getting-the-largest-smallest-and-average-array-element-value-in-javascript-70624e117ee6?source=collection_archive---------8-----------------------#2022-02-22">https://javascript.plainenglish.io/getting-the-largest-smallest-and-average-array-element-value-in-javascript-70624e117ee6?source=collection_archive---------8-----------------------#2022-02-22</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/b39ade7a37b5b963794720dcb04b0b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EqSQPbyeWZ_B8gQs"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@juanjodev02?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Juanjo Jaramillo</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8bc1" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">应用程序通常需要找到列表中的最大值或最小值。事实上，基准测试工具用来寻找一种有效的方法来合并JavaScript 中的数组，需要获得最高和最低的运行时。在<em class="ky">这篇</em>文章中使用了一个类似的基准测试工具来确定一种以简单的<em class="ky">方式有效获取JavaScript数组中最大和最小值的方法。为了实现这个目标，必须首先识别数组元素的类型。</em></p><p id="5115" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">数组由包含原始值和/或对象的元素组成。出于这个原因，本文将讨论每种元素的主题。首先，您将看到如何有效地在原始值数组中找到最大值和最小值。然后，您将看到如何根据属性值获取对象数组中的最高值和最低值。最后，本文将提供一个结果分析，这让我很惊讶。如果你时间不够，这里有一些建议:</p><blockquote class="kz la lb"><p id="0a6a" class="ka kb ky kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">外卖(或TL；博士)</p><p id="0ef6" class="ka kb ky kc b kd ke kf kg kh ki kj kk lc km kn ko ld kq kr ks le ku kv kw kx ig bi translated">您需要确定在您的场景中速度和规模哪个更重要。最安全的方法是使用for语句。如果速度很关键，你应该<em class="in">考虑</em>使用JavaScript的数学。[max/min]函数适用于较小的阵列。但是这些函数不适用于更大的数组。因此，您应该用尽可能多的元素来测试您的方法，以避免意想不到的后果。</p></blockquote><p id="89a7" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">上面的要点是通过实现本文的<strong class="kc io"> 32 </strong>函数确定的。这篇文章的源repo可以在<a class="ae jz" href="https://github.com/ecofic/article-get-largest-and-smallest-array-value-in-javascript" rel="noopener ugc nofollow" target="_blank">这里</a>找到。该报告包括以下部分中显示的示例和一个基准工具。如果你觉得这些都有帮助，请<a class="ae jz" href="https://medium.com/@chad.campbell" rel="noopener">现在就跟我来</a>了解类似的内容。我们开始吧。</p><h1 id="e862" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">寻找原始值数组中的最大值和最小值</h1><p id="5e50" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">JavaScript使您能够以多种方式找到数组中的最大值和最小值。对于本文，我实现了16个函数，试图找到从原始值数组中获取这些值的“最佳”方法。在本文的上下文中，“最佳”意味着a)快速可读的实现b)健壮的实现，以及c)平均高效的执行。考虑到这些目标，创建了以下8个示例来查找数组中的最小值:</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/1e43528cb0c3eaa53a4e012e491fda13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BujVh0xol0XCAvLia5hL1Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 1</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/d89f8b28d170d483fa611294ad6e71b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gxvuLAb6YtnkRYyxGnT_7w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 2</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/1c716ed59bb65d2aebf816a3b81a8750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uF-0raYvkPlKEHwjVtBIWw.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 3</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/55a49ade6f95f0aaf47429fa7d4ab9a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uunC2RFKDKZsQnCFCAxJGA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 4</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/52ebc6f2507e8af698adcd5a2ed055bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5fOFlVEYDcRIKSoPYUhZg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 5</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/5051a8bdef6d8d7ca0bcd5a7928a10b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M5qgbFne0ZDqIYkQvIKg3Q.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 6</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/e2a65071ca5e939abd432451250234f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GymUyDPqCTmMX7K99CsJGQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 7</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mi"><img src="../Images/6fc1064a3f73f0662564c0ea6ae9ec5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dZtex9XxlPI7fmFF6HbrGA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 8</figcaption></figure><p id="b4e8" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">示例1–8显示了获取原始值数组中最低值的不同方法。如本文开头所述，简单是一个目标。因此，这些示例使用了内置的JavaScript特性。流行的计算机科学算法如分治法和组合配对法<em class="ky">不</em>包括在这个分析中。这些算法也不用于根据属性值获取对象数组中的最高值和最低值。</p><h1 id="39c2" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">根据一个属性值获取对象数组中的最高值和最低值</h1><p id="4f7b" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">JavaScript允许您以几种方式从数组中获取最大值和最小值。使用之前传达的相同目标，创建了以下8个样本来查找对象数组中的最低值:</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/533ceba5750aace1dfb078b1a0dbb852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XIHJaLnaYmf2f1Cno3x4sg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 9</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/72a843fabc31a2e2b757cf18000e9803.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EGNoEnHF-5qnrOkVn3IZeQ.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 10</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/9a41f8985c1f86e48d531c43e4f3a61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxOY0Yju_NrguPOD5qfxVg.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 11</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/8e341e96e6d29837cb74e8265cac99ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TwhHksSN4a37VUv3AWua3w.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 12</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mn"><img src="../Images/2809adda51c0fedd98782e5c4e4b5bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S4d92QK2H50EUvszJWUzpA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 13</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/0e063d8d87e69b64ab3a30c36b75c85f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NnMFjC4_qkDwuSU367cLww.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 14</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mp"><img src="../Images/359dcc6d606dfdef6586fc3fc1d441e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eg7joke3V53YufT-Mll1xA.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 15</figcaption></figure><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi mo"><img src="../Images/227c2b99429d8680000e6fec037fed25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mi62xGWYiczojkyTTP3Z7g.png"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">sample 16</figcaption></figure><p id="c01b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">示例9–16显示了获取对象数组中最小值的不同方法。这些图像与图像1–8几乎相同，只是有一些细微的差别。然而，当你分析性能时，事情变得有趣了。</p><h1 id="38ad" class="lf lg in bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">分析查找数组中最大值和最小值的性能</h1><p id="dc12" class="pw-post-body-paragraph ka kb in kc b kd md kf kg kh me kj kk kl mf kn ko kp mg kr ks kt mh kv kw kx ig bi translated">根据我的经验，没有什么比一些基准测试更能吸引工程师对代码块的注意了。基准测试和代码会立即被检查是否有任何不合适的地方或者可以改进的地方。这可能是一件好事。如果你有礼貌，我愿意😉。首先，这里是我在一台2020年的13英寸MacBook Air上运行本文的<a class="ae jz" href="https://github.com/ecofic/article-get-largest-and-smallest-array-value-in-javascript" rel="noopener ugc nofollow" target="_blank">源代码库</a>中的基准测试工具时观察到的结果，这台机器运行的是谷歌Chrome 96.0.4664.55中的macOS版本12.0.1。</p><figure class="mj mk ml mm gt jo gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/5ba2c15f7569a970422ca5aceeb05036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/0*OZxBgcwaRQ7d5jgZ"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">image 17 — benchmark results</figcaption></figure><p id="6918" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">图17显示了针对多个场景运行基准测试时的结果汇总。此摘要是其他四个表共享的结果<a class="ae jz" href="https://github.com/ecofic/article-get-largest-and-smallest-array-value-in-javascript/tree/live/images" rel="noopener ugc nofollow" target="_blank">此处</a>。每个场景用1、10、100、1，000、10，000、100，000和1，000，000个元素运行100次。根据这些测试运行和出现的数据，我得出了以下结论:</p><ul class=""><li id="9080" class="mr ms in kc b kd ke kh ki kl mt kp mu kt mv kx mw mx my mz bi translated">数学。[最大/最小]函数平均速度最快</li><li id="2e13" class="mr ms in kc b kd na kh nb kl nc kp nd kt ne kx mw mx my mz bi translated">数学。[max/min]在更大的数组上<em class="ky">不</em>工作。</li><li id="a3ad" class="mr ms in kc b kd na kh nb kl nc kp nd kt ne kx mw mx my mz bi translated">Array.map函数也不能在更大的数组上工作</li><li id="704b" class="mr ms in kc b kd na kh nb kl nc kp nd kt ne kx mw mx my mz bi translated">for…in语句是平均而言执行速度最慢的<em class="ky">方法。</em></li><li id="2078" class="mr ms in kc b kd na kh nb kl nc kp nd kt ne kx mw mx my mz bi translated">老式的for和while语句似乎是速度和安全性的最佳组合。</li></ul><p id="b33c" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了更准确地度量每种方法的效率，应该使用Big-O符号。如果你想学习大O记谱法，可以看看下面的关于教育的的附属<a class="ae jz" href="https://www.educative.io/courses/big-o-notation-for-interviews-and-beyond?aff=x4mY" rel="noopener ugc nofollow" target="_blank">大O记谱法课程。为了简化讨论，图17中使用了毫秒。</a></p><p id="6713" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">这些观察让我想到了本文开头分享的要点。我鼓励你自己运行基准，自己进行实验。就我个人而言，我希望你能记住这些观察，这样你就能创造更好的应用和服务。我写这篇文章的全部原因是因为我在一个应用程序中遇到了一个范围错误。RangeError显示消息:<em class="ky">超过了最大调用堆栈大小</em>。我继承的代码使用Math.min和Math.max作为源代码。虽然实现看起来是正确的，但这是一个细节出问题的例子。</p><p id="33ba" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在本文中，您看到了如何在JavaScript中获取最大和最小的数组元素值。如果你找到了更有效的方法，我希望你能在下面的评论中分享。如果你觉得这篇文章有帮助，请鼓掌👏，或者拍手，在下面。这让我和其他人知道您发现这篇文章很有用。如果你想了解类似的内容，我鼓励你<a class="ae jz" href="https://medium.com/@chad.campbell" rel="noopener">现在就跟我来</a>。感谢阅读。</p><p id="1567" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ky">更多内容看</em> <a class="ae jz" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">说白了就是io </em> </strong> </a> <em class="ky">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">免费周报</em> </strong> </a> <em class="ky">。在我们的</em> <a class="ae jz" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ky">社区获得独家访问写作机会和建议</em> </strong> </a> <em class="ky">。</em></p></div></div>    
</body>
</html>