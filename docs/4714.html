<html>
<head>
<title>Create A Responsive Navbar In Angular With Just CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">只用CSS在Angular中创建一个响应式导航条</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/create-a-responsive-navbar-in-angular-with-just-css-287bf6f76426?source=collection_archive---------1-----------------------#2022-12-27">https://javascript.plainenglish.io/create-a-responsive-navbar-in-angular-with-just-css-287bf6f76426?source=collection_archive---------1-----------------------#2022-12-27</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="a85a" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">在大屏幕上显示链接，在小屏幕上显示汉堡菜单。</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/3b1aa237504201064b4322c392371e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cu3etZ8m7ZYfGDGKMQUT4Q.jpeg"/></div></div></figure><p id="d5cd" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">你希望你的angular应用程序中有一个最小化的导航条，随着显示尺寸的减小，导航条变成汉堡包菜单吗？你很幸运！你知道你只用CSS就能做到吗？你甚至不需要棱角魔法来做到这一点。</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="lo lp l"/></div><figcaption class="lq lr gk gi gj ls lt bd b be z dk">Navbar in action</figcaption></figure><p id="a390" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">在本教程中，我们将使用TailwindCSS和<a class="ae lu" href="https://boxicons.com" rel="noopener ugc nofollow" target="_blank"> boxicons </a>图标库。但是您可以选择编写普通的CSS并使用另一个SVG图标库。那么，我们开始吧。</p><h2 id="9a8a" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">导航条组件</h2><p id="3319" class="pw-post-body-paragraph ks kt ir ku b kv mo js kx ky mp jv la lb mq ld le lf mr lh li lj ms ll lm ln ik bi translated">以一个有顺风支持的角度项目为例。创建一个navbar组件并将焦点放在模板上。我们想写一个移动优先的设计。</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="3cd0" class="my lw ir mu b be mz na l nb nc">&lt;header&gt;<br/>    &lt;div&gt;<br/>        &lt;a&gt; LOGO &lt;/a&gt;<br/>        &lt;button&gt; Menu Icon &lt;/button&gt;<br/>    &lt;/div&gt;<br/><br/>    &lt;div id="navigation"&gt; Links &lt;/div&gt;<br/>&lt;/header&gt;</span></pre><p id="b142" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">基本的想法是将徽标放在大屏幕的左边，链接放在右边。但是，当我们将它缩小到一个小屏幕时，徽标和菜单图标将可见，链接将堆叠在导航栏下，导航栏将展开或折叠。</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="3865" class="my lw ir mu b be mz na l nb nc">&lt;header class="block w-full bg-red-500 px-4 py-4 <br/>        sm:flex sm:items-center sm:justify-between"&gt;<br/>    &lt;!-- Logo &amp; menu icon. Flex in mobile, block in desktop --&gt;<br/>    &lt;div class="flex justify-between sm:block"&gt;<br/>        &lt;a [routerLink]="['/']" class="block text-2xl font-bold text-white"&gt;<br/>            MY APP<br/>        &lt;/a&gt;<br/><br/>        &lt;!-- Menu icon hidden in desktop --&gt;<br/>        &lt;button class="block bg-transparent sm:hidden"&gt;<br/>            &lt;input class="invisible appearance-none" type="checkbox" id="toggle" /&gt;<br/><br/>            &lt;label for="toggle"&gt;<br/>                &lt;i id="menu-icon" class="bx bx-menu cursor-pointer text-2xl text-white"&gt;&lt;/i&gt;<br/>                &lt;i id="close-icon" class="bx bx-x hidden cursor-pointer text-2xl text-white"&gt;&lt;/i&gt;<br/>            &lt;/label&gt;<br/>        &lt;/button&gt;<br/>    &lt;/div&gt;<br/>    <br/>    &lt;!-- Navlinks. Horizontal in desktop, vertical in mobile --&gt;<br/>    &lt;div id="navigation"&gt;&lt;/div&gt;<br/>&lt;/header&gt;</span></pre><h2 id="ca1f" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">在小屏幕上处理菜单图标</h2><p id="c2b7" class="pw-post-body-paragraph ks kt ir ku b kv mo js kx ky mp jv la lb mq ld le lf mr lh li lj ms ll lm ln ik bi translated">使用CSS的新的<code class="fe nd ne nf mu b">:has()</code>伪选择器，我们可以根据复选框输入的状态改变元素的样式。Tailwind的默认<code class="fe nd ne nf mu b">sm</code>断点从640像素开始。所以我们通过媒体查询把屏幕对准了下面的<code class="fe nd ne nf mu b">640px</code>。</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="15b7" class="my lw ir mu b be mz na l nb nc">// navbar.component.scss<br/><br/>:host {<br/>    display: block;<br/>}<br/><br/>@media screen and (max-width: 639px) {<br/>    header:has(#toggle:checked) #menu-icon {<br/>        display: none;<br/>    }<br/><br/>    header:has(#toggle:checked) #close-icon {<br/>        display: inline-block;<br/>    }<br/>}</span></pre><h2 id="e9ce" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">导航链接</h2><p id="ffe2" class="pw-post-body-paragraph ks kt ir ku b kv mo js kx ky mp jv la lb mq ld le lf mr lh li lj ms ll lm ln ik bi translated">现在，让我们来关注导航链接。在小屏幕上的初始状态，div的高度为0px。此外，链接将被堆叠使用<code class="fe nd ne nf mu b">flex-direction: column</code>小，但<code class="fe nd ne nf mu b">row</code>大。</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="4581" class="my lw ir mu b be mz na l nb nc">&lt;div<br/>    id="navigation"<br/>    class="flex h-0 flex-col items-center <br/>        gap-4 overflow-hidden text-white transition-all <br/>        duration-500 ease-in-out <br/>        sm:h-auto sm:flex-row sm:overflow-auto"<br/>&gt;<br/>    &lt;a [routerLink]="['/pricing']"&gt;Pricing&lt;/a&gt;<br/>    &lt;a [routerLink]="['/features']"&gt;Features&lt;/a&gt;<br/>    &lt;a [routerLink]="['/profile']"&gt;Profile&lt;/a&gt;<br/>&lt;/div&gt;</span></pre><p id="137b" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">为了很好地显示CSS过渡，我们需要一个初始高度值。</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="a9a5" class="my lw ir mu b be mz na l nb nc">@media screen and (max-width: 639px) {<br/>    header:has(#toggle:checked) #navigation {<br/>        height: 8rem;<br/>    }<br/>}</span></pre><p id="3cd5" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">如果你已经做到这一步，并在浏览器中运行，你会看到在小屏幕上，导航链接只是显示在一个<code class="fe nd ne nf mu b">8rem</code> div中，其余的链接被剪切掉。为了克服这一点，按照这个小技巧使用CSS变量设置高度:</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="e696" class="my lw ir mu b be mz na l nb nc">  &lt;div<br/>      id="navigation"<br/>      #linksDiv<br/>      style="--menu-height: {{ linksDiv.children.length * 2.5 }}rem"<br/>      class="..."<br/>  &gt;<br/>      &lt;!--Links --&gt;<br/>  &lt;/div&gt;</span></pre><p id="b99d" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">其思想是查询链接(子)的数量，并乘以一个合理的单位来构成div高度。由于我在链接之间使用了<code class="fe nd ne nf mu b">1rem</code>间隔，在我的测试中，每个链接2.5雷姆给了我一个好的结果。</p><p id="1b7b" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">在CSS中，将高度值更改为CSS变量。回退值将确保当变量未设置时，div的高度不会未定义。</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="2746" class="my lw ir mu b be mz na l nb nc">@media screen and (max-width: 639px) {<br/>    header:has(#toggle:checked) #navigation {<br/>        height: var(--menu-height, 8rem);<br/>    }<br/>}</span></pre><p id="917c" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated"><em class="ng">免责声明:使用这个技巧将会抛出臭名昭著的</em> <code class="fe nd ne nf mu b"><em class="ng">ExpressionChangedAfterChecked</em></code> <em class="ng">错误，因为您是在组件呈现时直接从开始访问</em> <code class="fe nd ne nf mu b"><em class="ng">linksDiv</em></code> <em class="ng"> ViewChildren，但是在第一次变化检测之前不久就发生了变化。但是这个错误只在角度开发模式下出现，在生产中不会出现。另外，你不能在这个组件中使用</em> <code class="fe nd ne nf mu b"><em class="ng">ChangeDetectionStrategy.OnPush</em></code> <em class="ng">，因为这样CSS变量将不会因为这个错误而更新。记住这一点。</em></p><h2 id="e161" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">完整代码</h2><p id="4638" class="pw-post-body-paragraph ks kt ir ku b kv mo js kx ky mp jv la lb mq ld le lf mr lh li lj ms ll lm ln ik bi translated">Stackblitz演示:</p><div class="nh ni gq gs nj nk"><a href="https://stackblitz.com/edit/angular-ivy-qbmvbm?file=src/app/navbar/navbar.component.ts" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd is gz z fq np fs ft nq fv fx iq bi translated">角度响应导航条堆栈</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">基于@angular/animations、@angular/compiler、@angular/core、@angular/common的angular-cli项目…</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">stackblitz.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kq nk"/></div></div></a></div><p id="0eb7" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">导航栏模板:</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="0749" class="my lw ir mu b be mz na l nb nc">&lt;header class="block w-full bg-red-500 px-4 py-4 sm:flex sm:items-center sm:justify-between"&gt;<br/>    &lt;div class="flex justify-between sm:block"&gt;<br/>        &lt;a [routerLink]="['/']" class="block text-2xl font-bold text-white"&gt;<br/>            MY APP<br/>        &lt;/a&gt;<br/><br/>        &lt;button class="block bg-transparent sm:hidden"&gt;<br/>            &lt;input class="invisible appearance-none" type="checkbox" id="toggle" /&gt;<br/><br/>            &lt;label for="toggle"&gt;<br/>                &lt;i id="menu-icon" class="bx bx-menu cursor-pointer text-2xl text-white"&gt;&lt;/i&gt;<br/>                &lt;i id="close-icon" class="bx bx-x hidden cursor-pointer text-2xl text-white"&gt;&lt;/i&gt;<br/>            &lt;/label&gt;<br/>        &lt;/button&gt;<br/>    &lt;/div&gt;<br/>    <br/>    &lt;div<br/>        #linksDiv<br/>        id="navigation"<br/>        style="--menu-height: {{ linksDiv.children.length * 2.5 }}rem"<br/>        class="flex h-0 flex-col items-center gap-4 overflow-hidden text-white transition-all duration-500 ease-in-out sm:h-auto sm:flex-row sm:overflow-auto"<br/>    &gt;<br/>            &lt;a [routerLink]="['/pricing']"&gt;Pricing&lt;/a&gt;<br/>            &lt;a [routerLink]="['/features']"&gt;Features&lt;/a&gt;<br/>            &lt;a [routerLink]="['/profile']"&gt;Profile&lt;/a&gt;<br/>            &lt;a [routerLink]="['/library']"&gt;Library&lt;/a&gt;<br/>            &lt;!-- for extra links --&gt;<br/>            &lt;ng-content&gt;&lt;/ng-content&gt;<br/>    &lt;/div&gt;<br/>&lt;/header&gt;</span></pre><p id="8178" class="pw-post-body-paragraph ks kt ir ku b kv kw js kx ky kz jv la lb lc ld le lf lg lh li lj lk ll lm ln ik bi translated">导航栏CSS:</p><pre class="kh ki kj kk gu mt mu mv bn mw mx bi"><span id="bb55" class="my lw ir mu b be mz na l nb nc">:host {<br/>    display: block;<br/>}<br/><br/>@media screen and (max-width: 639px) {<br/>    header:has(#toggle:checked) #navigation {<br/>        height: var(--menu-height, 10rem);<br/>    }<br/><br/>    header:has(#toggle:checked) #menu-icon {<br/>        display: none;<br/>    }<br/><br/>    header:has(#toggle:checked) #close-icon {<br/>        display: inline-block;<br/>    }<br/>}</span></pre><h2 id="8526" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">结论</h2><p id="a4fa" class="pw-post-body-paragraph ks kt ir ku b kv mo js kx ky mp jv la lb mq ld le lf mr lh li lj ms ll lm ln ik bi translated">这个基本的导航条会在很多时候派上用场——比如当你在做原型或者构建概念验证的时候。玩它，让我知道你是否能想到任何改进！感谢阅读。</p><h2 id="11ab" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">更多内容请访问<a class="ae lu" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> PlainEnglish.io </a>。</h2><p id="e8a0" class="pw-post-body-paragraph ks kt ir ku b kv mo js kx ky mp jv la lb mq ld le lf mr lh li lj ms ll lm ln ik bi translated"><em class="ng">报名参加我们的</em> <a class="ae lu" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku is"> <em class="ng">免费每周简讯</em> </strong> </a> <em class="ng">。关注我们关于</em><a class="ae lu" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="ng">Twitter</em></strong></a>，<a class="ae lu" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="ng">LinkedIn</em></strong></a><strong class="ku is"><em class="ng">，</em></strong><a class="ae lu" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="ng">YouTube</em></strong></a><strong class="ku is"><em class="ng">，以及</em></strong><em class="ng"/><a class="ae lu" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="ku is"><em class="ng">不和</em> </strong> </a> </p><h2 id="9278" class="lv lw ir bd lx ly lz dn ma mb mc dp md lb me mf mg lf mh mi mj lj mk ml mm mn bi translated">想扩大你的软件创业规模吗？检查<a class="ae lu" href="https://circuit.ooo/?utm=publication-post-cta" rel="noopener ugc nofollow" target="_blank">电路</a>。</h2></div></div>    
</body>
</html>