<html>
<head>
<title>Create a Dropdown Menu Using Next.js &amp; Headless UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Next.js和Headless UI创建下拉菜单</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/headlessui-menu-part-4-custom-button-bcacfa7a4e5d?source=collection_archive---------4-----------------------#2022-05-11">https://javascript.plainenglish.io/headlessui-menu-part-4-custom-button-bcacfa7a4e5d?source=collection_archive---------4-----------------------#2022-05-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bdc3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第4部分:创建一个自定义按钮来控制菜单的打开和关闭</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/287696c393068e8b8099336c1af17ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ozwt5ow4XohaxXtl"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="597e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将创建自己的按钮来控制菜单的打开和关闭。</p><p id="e2c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要添加反作用力后坐力。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="66a0" class="lx ly iq lt b gy lz ma l mb mc">yarn add recoil</span></pre><p id="738e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在_app.js中，从反冲导入反冲根，然后使用<recoilroot>组件包装<component>。</component></recoilroot></p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="063b" class="lx ly iq lt b gy lz ma l mb mc">import { RecoilRoot } from 'recoil'</span><span id="34ef" class="lx ly iq lt b gy md ma l mb mc">import '../styles/globals.css'</span><span id="4942" class="lx ly iq lt b gy md ma l mb mc">function MyApp({ Component, pageProps }) {</span><span id="510f" class="lx ly iq lt b gy md ma l mb mc">return (</span><span id="973e" class="lx ly iq lt b gy md ma l mb mc">&lt;RecoilRoot&gt;</span><span id="2415" class="lx ly iq lt b gy md ma l mb mc">&lt;Component {...pageProps} /&gt;</span><span id="419a" class="lx ly iq lt b gy md ma l mb mc">&lt;/RecoilRoot&gt;)</span><span id="67f5" class="lx ly iq lt b gy md ma l mb mc">}</span><span id="29bc" class="lx ly iq lt b gy md ma l mb mc">export default MyApp</span></pre><h2 id="61de" class="lx ly iq bd me mf mg dn mh mi mj dp mk lf ml mm mn lj mo mp mq ln mr ms mt mu bi translated">创建MenuAtom.js</h2><p id="a0e7" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">在“atoms文件夹”下创建menuAtom.js。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/d3735900f91e720bb2485816f325d2f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*nbWfqiAcntkZLkkYQLBLWQ.png"/></div></figure><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="ae77" class="lx ly iq lt b gy lz ma l mb mc">import { atom } from "recoil";</span><span id="0f55" class="lx ly iq lt b gy md ma l mb mc">export const openState = atom({</span><span id="9560" class="lx ly iq lt b gy md ma l mb mc">key: 'openState', // unique ID (with respect to other atoms/selectors)</span><span id="fe16" class="lx ly iq lt b gy md ma l mb mc">default: false, // truedefault value (aka initial value)</span><span id="7899" class="lx ly iq lt b gy md ma l mb mc">});</span></pre><p id="4f33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在MyDropdown.js中，导入useRecoilState和openState。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="b91a" class="lx ly iq lt b gy lz ma l mb mc">import { useRecoilState } from 'recoil'</span><span id="c960" class="lx ly iq lt b gy md ma l mb mc">import { openState } from '../atoms/menuAtom'</span><span id="681a" class="lx ly iq lt b gy md ma l mb mc">export default function MyDropdown() {</span><span id="3228" class="lx ly iq lt b gy md ma l mb mc">const items = [{ name: "account", disabled: false }, { name: "info", disabled: false }, { name: "signout", disabled: true }, { name: "register", disabled: false }]</span><span id="5cbe" class="lx ly iq lt b gy md ma l mb mc">const [isOpen, setIsOpen] = useRecoilState(openState)</span><span id="7dc0" class="lx ly iq lt b gy md ma l mb mc">return (</span><span id="c4ec" class="lx ly iq lt b gy md ma l mb mc">...</span></pre><p id="cd44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后进入index.js。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="9303" class="lx ly iq lt b gy lz ma l mb mc">import { useRecoilState } from 'recoil'</span><span id="da90" class="lx ly iq lt b gy md ma l mb mc">import { openState } from '../atoms/menuAtom'</span><span id="c88a" class="lx ly iq lt b gy md ma l mb mc">import MyDropdown from '../components/MyDropdown'</span><span id="e038" class="lx ly iq lt b gy md ma l mb mc">export default function Home() {</span><span id="d304" class="lx ly iq lt b gy md ma l mb mc">const [isOpen, setIsOpen] = useRecoilState(openState)</span><span id="1e23" class="lx ly iq lt b gy md ma l mb mc">return (</span><span id="ae6f" class="lx ly iq lt b gy md ma l mb mc">&lt;div className="bg-blue-100 h-screen"&gt;</span><span id="ad84" class="lx ly iq lt b gy md ma l mb mc">&lt;button onClick={()=&gt;setIsOpen(!isOpen)}&gt;custom button&lt;/button&gt;</span><span id="80f2" class="lx ly iq lt b gy md ma l mb mc">&lt;MyDropdown/&gt;</span><span id="117a" class="lx ly iq lt b gy md ma l mb mc">&lt;/div&gt;</span><span id="a8c9" class="lx ly iq lt b gy md ma l mb mc">)</span><span id="4598" class="lx ly iq lt b gy md ma l mb mc">}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/a00001e5587dec805908b6b3f32f5b98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*6ZKMJoyGS3GppM5tvmkD6g.gif"/></div></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="71f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这个故事，你可能也喜欢中等会员。一个月才5美元(一杯咖啡的价格！)但是它会在支持你最喜欢的作家的同时，给你无限的接触故事的机会。如果你注册使用<a class="ae kv" href="https://ckmobile.medium.com/membership" rel="noopener">这个链接</a>，我会赚一小笔佣金。谢谢！</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="ef6b" class="nj ly iq bd me nk nl nm mh nn no np mk jw nq jx mn jz nr ka mq kc ns kd mt nt bi translated">关注我们:<a class="ae kv" href="https://www.youtube.com/channel/UCu4-4FnutvSHVo9WHvq80Ww?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> YouTube </a>，<a class="ae kv" href="https://ckmobile.medium.com/" rel="noopener"> Medium </a>，<a class="ae kv" href="https://www.udemy.com/user/cyruschan2/" rel="noopener ugc nofollow" target="_blank"> Udemy </a>，<a class="ae kv" href="https://www.linkedin.com/company/ckmobi/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>，<a class="ae kv" href="https://twitter.com/ckmobilejavasc1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>，<a class="ae kv" href="https://www.instagram.com/ckmobile8050" rel="noopener ugc nofollow" target="_blank"> Instagram </a>，<a class="ae kv" href="https://app.gumroad.com/ckmobile" rel="noopener ugc nofollow" target="_blank"> Gumroad </a>，<a class="ae kv" href="https://ckmobile.quora.com/" rel="noopener ugc nofollow" target="_blank"> Quora </a>，<a class="ae kv" href="https://t.me/ckmobi" rel="noopener ugc nofollow" target="_blank"> Telegram </a></h1><p id="2f87" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">加入分支机构赚钱</p><div class="nu nv gp gr nw nx"><a href="https://ckmobile.gumroad.com/affiliates" rel="noopener  ugc nofollow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd ir gy z fp oc fr fs od fu fw ip bi translated">Gumroad</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">申请成为会员很容易。填写下表，让Ckmobile知道您将如何推广他们的…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">ckmobile.gumroad.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol kp nx"/></div></div></a></div><p id="a8e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="om">更多内容请看</em><a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="om">plain English . io</em></strong></a><em class="om">。报名参加我们的</em><strong class="ky ir"><em class="om"/></strong><a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="om">免费周报</em> </strong> </a> <em class="om">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="om">Twitter</em></strong></a><em class="om">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="om">LinkedIn</em></strong></a><em class="om">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="om">社区不和谐</em> </strong> </a> <em class="om">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="om">人才集体</em> </strong> </a> <em class="om">。</em></p></div></div>    
</body>
</html>