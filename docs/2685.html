<html>
<head>
<title>How JavaScript Works Under the Hood, Explained for Dummies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript如何在幕后工作，为傻瓜解释</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-javascript-works-under-the-hood-explained-for-dummies-216ce155183c?source=collection_archive---------3-----------------------#2022-06-26">https://javascript.plainenglish.io/how-javascript-works-under-the-hood-explained-for-dummies-216ce155183c?source=collection_archive---------3-----------------------#2022-06-26</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="1c46" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">通过理解JavaScript如何工作来编写更好的代码。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi kc"><img src="../Images/e6f60e9f805860aff3652a4d4ea663e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/0*UErecmJ-Qi12rXR2.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Wyvern | Model Engineer</figcaption></figure><p id="a294" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">当你每天写JavaScript时，你可能知道它是如何工作的，但是你有没有想过浏览器如何读取你写的代码，以及在幕后真正发生了什么，你在你的文本编辑器中写代码，但是它将如何变成零和一。作为开发人员，如果您熟悉JavaScript中的一些主题，可能会帮助您编写更好的代码。</p><p id="b397" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">JavaScript引擎做了很多工作，但最重要的是读取和执行我们的代码，为此我们需要一个存储和写入数据的地方，以及一个运行和跟踪逐行发生的事情的地方。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lk"><img src="../Images/dec30b74023b1038cce7fa65e16ef2e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pgLyQDVYWw6qS3L7ouk58Q.png"/></div></div></figure><p id="1cce" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">内存管理是JavaScript自己处理的事情之一，不需要你为函数和变量分配内存。这同样适用于了解堆、栈和调用栈是如何工作的。然而，了解它们以及它们是如何工作的，可以帮助你理解JavaScript是如何工作的，从而写出更好的代码。</p><h2 id="91e6" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">调用堆栈</strong></h2><p id="357c" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">JavaScript是一种单线程编程语言，这意味着它一次只能做一件事，并且只有一个遵循先入后出(FILO)的调用堆栈，这意味着第一个调用堆栈是最后一个弹出的调用堆栈，这是一种帮助JavaScript解释器跟踪脚本调用的函数的机制，其代码执行是同步的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mn"><img src="../Images/8ea77bccaacc5ce1cf85ddef304af3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PkT7QWALgM5PFqOTib_axw.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">JavaScript call stack</figcaption></figure><h2 id="b3e2" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">内存堆</strong></h2><p id="a5cc" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">它是JavaScript存储变量、对象和函数的空间或区域，在运行时是已知的。我们应该注意到，JavaScript将对象和函数存储在堆中，变量存储在堆栈中。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mn"><img src="../Images/43d214b261c4b12612dbc7f5a07101c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9qc5aFj51k5cl48iOmCjQ.png"/></div></div></figure><h2 id="dd55" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">堆栈溢出</strong></h2><p id="b24d" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">在这种情况下，一个函数递归地调用自己，浏览器将有一个最大的调用堆栈而没有出口点，在大多数情况下，这是因为递归而发生的。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mo mp l"/></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mn"><img src="../Images/37b593460dad31f0fd59ade1bcd9c3fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*elp7EuwjvARNHSYEty6e0Q.png"/></div></div></figure><h2 id="d2f3" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">垃圾收集</strong></h2><p id="fd61" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">JavaScript是一种垃圾收集语言，这意味着从已经声明但当前在应用程序的任何部分都没有使用的对象中取回并释放内存。</p><p id="6f28" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">与通过库实现垃圾收集的低级语言相比，大多数高级语言都有自己的垃圾收集器。垃圾收集为我们提供了一些安全问题，因为我们不需要担心内存管理。</p><p id="ba5f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在低级语言中，你控制内存的一部分，这在某些方面是危险的，但它是可以优化的，这就是为什么像C语言这样的语言速度极快，内存效率高。JavaScript中的垃圾收集是通过一种叫做<strong class="kq io">标记和清除</strong>的算法来控制的，在这种算法中，所有没有引用的对象都会从内存中删除。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/e41c9bfa314f4718970851ce136ee466.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*Z40bxfgsrNMdRQ37.gif"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">Mark and Sweep algorithm</figcaption></figure><p id="c617" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> 1。标记:</strong>标记仍有引用的对象。</p><p id="5cea" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> 2。Sweep: </strong>扫描内存中的所有对象，并删除所有未标记的对象。</p><h2 id="42b3" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">内存泄露</strong></h2><p id="3100" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">当系统无法管理其内存分配时，这被称为内存泄漏，它被视为导致性能下降和故障的错误，并且它是一种没有返回到操作系统或空闲内存池的内存。垃圾收集语言中内存泄漏的主要原因是<strong class="kq io">不需要的引用</strong>。最常见的内存泄漏类型可以分为:</p><p id="817a" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> 1。全局变量</strong> : JavaScript全局变量没有被垃圾收集，因为它们被根节点引用，所以只要应用程序运行，就会占用应用程序。</p><p id="88a4" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> 2。事件监听器</strong>:当大量对象引用被保存在回调函数中而没有正确处理时，事件监听器会导致内存泄漏，这在单页应用程序中更常见。</p><p id="87c7" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><strong class="kq io"> 3。setIntervals </strong>:每次你调用一个函数，setInterval可以在指定的时间内执行，一个新的堆栈帧被添加到堆中，因为setIntervals会一直运行，除非你停止，否则会导致内存泄漏。</p><h2 id="8c90" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak"> JavaScript运行时</strong></h2><p id="8334" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">正如我们已经提到的，JavaScript是一种<strong class="kq io"> </strong>单线程语言，它只有堆栈和堆，因此，如果另一个程序想要执行，它必须等待前一个程序完成其执行，这导致工作缓慢，这就是JavaScript运行时的用武之地。当同步JavaScript代码运行时，web浏览器在后台工作，web浏览器使用称为web APIs的东西与JS引擎通信。</p><p id="9413" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">浏览器使用低级语言如<strong class="kq io"> C/C++ </strong>在后台执行操作，这些API被称为<strong class="kq io">web API</strong>。它们就是我们所说的异步，这意味着我们可以指示它们在后台做一些事情，并在完成后返回数据。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mn"><img src="../Images/1acb51e85a5ab18ce4c8d69ebadd6016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Wc5goWTOoGEzNwbrz6wUQ.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk">window is an object from Browser not JavaScript that works as an API.</figcaption></figure><h2 id="4b43" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">回叫队列</strong></h2><p id="85ca" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">它是一种FIFO数据结构，异步代码被推入其中并等待执行。</p><h2 id="8443" class="lp lq in bd lr ls lt dn lu lv lw dp lx kx ly lz ma lb mb mc md lf me mf mg mh bi translated"><strong class="ak">事件循环</strong></h2><p id="d8e9" class="pw-post-body-paragraph ko kp in kq b kr mi jo kt ku mj jr kw kx mk kz la lb ml ld le lf mm lh li lj ig bi translated">它持续运行，查看调用堆栈和回调队列，如果调用堆栈为空，它将回调队列的第一个回调函数推送到调用堆栈。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mr"><img src="../Images/57ec3ae73b012b87b73483ef96580c14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L9xXi0dsAp2S5BUD.gif"/></div></div></figure><blockquote class="ms mt mu"><p id="5c5a" class="ko kp mv kq b kr ks jo kt ku kv jr kw mw ky kz la mx lc ld le my lg lh li lj ig bi translated">我是一名自由职业的全栈web开发人员和技术作家，请随时联系我🤓</p></blockquote><p id="5ed8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在GitHub上关注我:</p><div class="mz na gp gr nb nc"><a href="https://github.com/Ali11Mustafa?tab=repositories" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">Ali11Mustafa -存储库</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">github.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ki nc"/></div></div></a></div><p id="4214" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">在LinkedIn上关注我:</p><div class="mz na gp gr nb nc"><a href="https://www.linkedin.com/in/ali-mustafa-195a321a0/" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd io gy z fp nh fr fs ni fu fw im bi translated">阿里·穆斯塔法-网络开发者-自由职业者| LinkedIn</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">查看阿里穆斯塔法在全球最大的职业社区LinkedIn上的个人资料。阿里有4个工作列在他们的…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">www.linkedin.com</p></div></div><div class="nl l"><div class="nr l nn no np nl nq ki nc"/></div></div></a></div><p id="1d1f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="mv">更多内容请看</em><a class="ae ns" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mv">plain English . io</em></strong></a><em class="mv">。报名参加我们的</em> <a class="ae ns" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mv">免费周报</em> </strong> </a> <em class="mv">。关注我们关于</em><a class="ae ns" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mv">Twitter</em></strong></a><em class="mv">和</em><a class="ae ns" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="mv">LinkedIn</em></strong></a><em class="mv">。查看我们的</em> <a class="ae ns" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mv">社区不和谐</em> </strong> </a> <em class="mv">加入我们的</em> <a class="ae ns" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="mv">人才集体</em> </strong> </a> <em class="mv">。</em></p></div></div>    
</body>
</html>