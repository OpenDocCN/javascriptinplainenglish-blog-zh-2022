<html>
<head>
<title>How to Store Different Datatypes in localStorage in JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JS的localStorage中存储不同的数据类型</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/storing-different-datatypes-in-localstorage-in-js-ee7f4c5318ff?source=collection_archive---------2-----------------------#2022-08-14">https://javascript.plainenglish.io/storing-different-datatypes-in-localstorage-in-js-ee7f4c5318ff?source=collection_archive---------2-----------------------#2022-08-14</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="ad32" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">关于在JavaScript的localStorage API中存储不同数据类型的教程</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/69b912f0460d20a4ae256f8249d566de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c7-Ca5_zOSAsVnyvwOGF7w.png"/></div></div></figure><p id="c763" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">让我们首先讨论本地存储，然后我们将讨论如何在其中存储不同的数据类型。localStorage是一个浏览器API，用于在浏览器中存储键值对。localStorage API是一个只读内存，其中的数据可以读取，但不能修改。要修改localStorage中的数据，我们需要检索实际的数据，修改它并插入具有相同键名的新数据，这将用最新的数据覆盖当前数据。本地存储是持久的，这意味着其中的数据不会被关闭标签和关闭浏览器等操作删除。应该显式修改或删除本地存储中的数据。</p><p id="5b9e" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">尽管JS语言中有各种数据类型，但是localStorage只能存储字符串数据类型的键和字符串数据类型的值。从字面上看，localStorage只能存储字符串。即使你需要存储一个整数，你也需要把它转换成一个字符串，并存储它。</p><p id="fca1" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">JS支持的不同数据类型有:</p><ul class=""><li id="2c32" class="lk ll in kq b kr ks ku kv kx lm lb ln lf lo lj lp lq lr ls bi translated">数字</li><li id="8152" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">线</li><li id="d421" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">布尔代数学体系的</li><li id="ff87" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">空</li><li id="c27c" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">目标</li><li id="bd16" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">排列</li><li id="6eee" class="lk ll in kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">自定义数据类型</li></ul><h2 id="f587" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">1.数字</h2><p id="41a5" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">数字代表各种数据类型，包括浮点、整数、bigInt等。数字可以直接存储，无需转换成字符串。因为localStorage隐式地将数字转换为字符串。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/dff737b6db564ba269e451cbf72cd0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1tRW8-2W4qKVpyL4Df8P-A.png"/></div></div></figure><p id="8ce8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们也可以将数字显式转换成字符串并存储。在检索时，我们必须将它转换成一个数字。JSON.stringify方法可用于将JSON支持的任何数据类型转换为字符串形式并存储。在检索时，我们将解析数据，将字符串转换成它的实际形式。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mx"><img src="../Images/ff7dcadfc43324f68f66197d85eb4507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3bnnSGFwVWPCVJJgiYka3Q.png"/></div></div></figure><p id="2588" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">我们也可以使用Number.toString()方法代替JSON方法来实现同样的事情。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi my"><img src="../Images/64b66a71aff9ce6ec68f4f2c59368027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HzP_T9NE1XKxaWUMVVfYsw.png"/></div></div></figure><h2 id="dfe8" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">2.线</h2><p id="a4cf" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">LocalStorage只专门存储字符串。因此，在存储和检索字符串时，不需要任何类型的转换。与任何其他数据类型相比，存储字符串是最简单的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mz"><img src="../Images/ddf46377cd1259961da3a376b45d9403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wqp95kyUmZ7dqvle0yFYfQ.png"/></div></div></figure><h2 id="eebe" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">3.布尔代数学体系的</h2><p id="5384" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">当存储任何布尔值时，它被转换成一个字符串，为了检索布尔值，我们必须将字符串转换成一个布尔值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mw"><img src="../Images/7a33e34d96f46b28bc1a04739d34aad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q26sictwiu1wptqBoTuh_g.png"/></div></div></figure><h2 id="cba1" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">4.空</h2><p id="e036" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">在本地存储中存储空值是没有用的，但有时我们可能需要检查一些条件，存储空值可以在条件循环中使用。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi na"><img src="../Images/a1571111b67d7bb40c1cc610e52e470d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RcLP-K0s996L1gKKLTWuPQ.png"/></div></div></figure><h2 id="6e21" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">5.目标</h2><p id="ef15" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">大多数情况下，我们将在本地存储中存储一个对象，因为一个对象也是一个键值对数据结构，我们可以在一个键中存储多个键值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nb"><img src="../Images/765277d3dcdce3d03af2f29e1943e430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0qEhSAep_L0x5ze4smRzeQ.png"/></div></div></figure><p id="da9c" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">如果我们直接存储一个没有字符串化的对象，我们就不能在控制台(应用程序选项卡)中查看内容。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/ca536b1ee3a5581fb48209171f4ebf1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mic99nXVimDBs4Ss1pCdBQ.png"/></div></div></figure><p id="a4d8" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">要解决这个问题，我们必须将数据字符串化，这样我们就可以在控制台中查看数据，并且在检索数据时，我们应该解析数据，将其转换为实际的对象。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nd"><img src="../Images/5a2f3a59ac77db6523f7119972ef8b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iw2Q6tOavwUKiQiv-dD0SA.png"/></div></div></figure><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi ne"><img src="../Images/6adf65113c11201fa43feaf28f6ef71a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSrl9Q8DzNOwX32qHCyCng.png"/></div></div></figure><h2 id="6805" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">6.排列</h2><p id="5ef3" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">数组不能用存储对象的方法直接存储，因为数组也是JavaScript中的对象。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nc"><img src="../Images/e07ca757db546c242a70ee0b47fb9787.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UaDA10Wp28CkHyCWeOectA.png"/></div></div></figure><h2 id="9a18" class="ly lz in bd ma mb mc dn md me mf dp mg kx mh mi mj lb mk ml mm lf mn mo mp mq bi translated">7.自定义对象(用户定义)</h2><p id="fe33" class="pw-post-body-paragraph ko kp in kq b kr mr jo kt ku ms jr kw kx mt kz la lb mu ld le lf mv lh li lj ig bi translated">假设我正在创建一个带有值和左右指针的树节点。然后我实例化一个值为3的对象。我可以使用JSON.stringify方法存储对象，并且可以通过JSON.parse方法检索值。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi nf"><img src="../Images/08028c41da29f09490815f35de01cdfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4wxWqIaNeWKRBEIJTFoloA.png"/></div></div></figure><p id="959f" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated">最后，在将任何东西存储到本地存储之前，只需对其进行字符串化，在检索之后，使用JSON.parse方法对其进行解析。这也适用于会话存储。</p></div><div class="ab cl nh ni hr nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ig ih ii ij ik"><p id="4f23" class="pw-post-body-paragraph ko kp in kq b kr ks jo kt ku kv jr kw kx ky kz la lb lc ld le lf lg lh li lj ig bi translated"><em class="ng">更多内容看</em> <a class="ae no" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ng">说白了。报名参加我们的</em> <a class="ae no" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ng">免费周报</em> </strong> </a> <em class="ng">。关注我们关于</em> <a class="ae no" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kq io"> <em class="ng">推特</em></strong></a><a class="ae no" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ng">LinkedIn</em></strong></a><em class="ng"/><a class="ae no" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ng">YouTube</em></strong></a><em class="ng"/><a class="ae no" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"><strong class="kq io"><em class="ng">不和</em> </strong> </a> <em class="ng">。</em></strong></a></p></div></div>    
</body>
</html>