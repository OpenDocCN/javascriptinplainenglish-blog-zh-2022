<html>
<head>
<title>What is TypeScript and Why Should You Use it?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是TypeScript，为什么要使用它？</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/what-is-typescript-and-why-should-you-use-it-bb16d0c1ac77?source=collection_archive---------6-----------------------#2022-07-03">https://javascript.plainenglish.io/what-is-typescript-and-why-should-you-use-it-bb16d0c1ac77?source=collection_archive---------6-----------------------#2022-07-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4509" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">TypeScript是JavaScript的超集，主要提供可选的静态类型、类和接口。</h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi kg"><img src="../Images/f21065e6e431f962cc5731ecdd0e5c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/0*yGU4y4owhwLstj_N"/></div></figure><p id="ccf4" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><a class="ae lk" href="http://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> TypeScript </em> </a> <em class="ll">是JavaScript的超集，主要提供可选的静态类型、类和接口。最大的好处之一是使ide能够提供一个更丰富的环境，在您键入代码时发现常见的错误。</em></p><p id="d74f" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">任何工具都可能是好的，这取决于你的团队、当前项目、客户团队等。好吧，但为什么是打字稿？因为它可以帮助你的项目或你的团队。让我们来看看它的核心特性，并了解它如何帮助您。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="cd79" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">TL；吉斯特博士</h1><p id="ce60" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">TypeScript—JavaScript的超集，符合最新的ECMAScript标准，并向下编译为符合其中一个es标准的JavaScript。</p><p id="778a" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">它提供:</p><ol class=""><li id="5aad" class="mq mr iq kq b kr ks ku kv kx ms lb mt lf mu lj mv mw mx my bi translated"><strong class="kq ir">支持现代JavaScript特性</strong></li><li id="a6e4" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj mv mw mx my bi translated"><strong class="kq ir">高级类型系统</strong></li><li id="feb9" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj mv mw mx my bi translated"><strong class="kq ir">增强的开发人员工具支持</strong></li><li id="4260" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj mv mw mx my bi translated"><strong class="kq ir">严格的空值检查</strong></li><li id="bae5" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj mv mw mx my bi translated"><strong class="kq ir">与JavaScript的互操作性</strong></li></ol><p id="06d4" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">关于采用和流行的一些事实:</p><ul class=""><li id="55c5" class="mq mr iq kq b kr ks ku kv kx ms lb mt lf mu lj ne mw mx my bi translated">在<a class="ae lk" href="https://insights.stackoverflow.com/survey/2017#technology" rel="noopener ugc nofollow" target="_blank"> 2017 StackOverflow开发者调查</a>中，TypeScript是最受欢迎的JavaScript transpiler(总排名第9)，并在最受喜爱的编程语言类别中获得第三名。</li><li id="019b" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在<a class="ae lk" href="https://2018.stateofjs.com/javascript-flavors/conclusion/" rel="noopener ugc nofollow" target="_blank">2018 js状态调查</a>中，TypeScript被宣布为JavaScript风格类别中的两大赢家之一(另一个是ES6)。</li><li id="e10e" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在<a class="ae lk" href="https://insights.stackoverflow.com/survey/2019" rel="noopener ugc nofollow" target="_blank"> 2019 StackOverflow开发者调查</a>中，TypeScript在专业开发者中最受欢迎的语言中排名第九，超过了C和C++。它再次成为最受欢迎的语言中的第三名。</li><li id="84ca" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在2020年StackOverflow开发者调查中，TypeScript是第二受欢迎的技术。</li><li id="127e" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在2020年js调查中，TypeScript被宣布为JavaScript风格类的赢家。</li></ul></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><p id="7701" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">同时，很高兴知道这是一种由微软开发和维护的语言。你也可以在微软网站上了解更多信息。</p><div class="nf ng gp gr nh ni"><a href="https://docs.microsoft.com/en-us/shows/web-wednesday/what-is-typescript" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">什么是TypeScript？</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">TypeScript是JavaScript的超集，旨在帮助简化JavaScript的编写。但是它到底是什么…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">docs.microsoft.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw km ni"/></div></div></a></div></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><p id="a899" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">下面的图表可能清楚地描述了TypeScript和JavaScript之间的关系。如果你不知道什么是ES，那就是JavaScript符合的一个标准。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/24b07201000c305bbd5f69f0e9191097.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*dc-AukkZQ3A4_GCm.png"/></div></figure><p id="bba9" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">JavaScript是一种由ECMA技术委员会开发的编程语言，该委员会由许多不同的利益相关者组成。TC39是由<a class="ae lk" href="https://www.ecma-international.org/" rel="noopener ugc nofollow" target="_blank"> ECMA </a>主持的委员会:一个内部标准组织。JavaScript有许多不同的实现，由许多不同的供应商提供(例如，Google、Microsoft、Oracle等。).JavaScript的目标是成为网络的通用语言。</p><p id="4af2" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">TypeScript是JavaScript语言的超集，它只有一个开源编译器，主要由一个供应商开发:微软。<strong class="kq ir">TypeScript的目标是通过类型系统帮助及早发现错误，并使JavaScript开发更加高效</strong>。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="c1c2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="9850" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">JavaScript已经停滞了很长一段时间，直到2015年发布了一个新标准，俗称ES6。从那以后，新的标准每年都会发布，并且很快会被浏览器跟进。但是，您不必担心TypeScript支持。尽管一些现代浏览器支持typescript调试，但您的浏览器看不到TypeScript。TypeScript在发布之前被编译成普通的JavaScript或ES模块。</p><p id="58c5" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">以下是一些人收集的引语和观点:</p><div class="nf ng gp gr nh ni"><a href="https://dev.to/thejaredwilcurt/quotes-about-typescript-2ohf" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">关于TypeScript的引用</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">我在这个行业已经有一段时间了，有幸与不同公司的许多人交谈过，在…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">开发到</p></div></div><div class="nr l"><div class="ny l nt nu nv nr nw km ni"/></div></div></a></div><p id="6e29" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">对于大多数高级前端开发人员来说，TypeScript似乎限制了像JavaScript这样的松散类型语言的真正潜力，或者是可以通过良好的测试实践来避免的不必要的复杂性。尽管大多数后端开发人员或来自其他语言的开发人员认为TypeScript是他们的救星——最终他们可以使用JavaScript而不用太担心。</p><p id="3045" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">显然，TypeScript也有它的优势。随着应用程序的增长，这些是显而易见的。其中包括:</p><ul class=""><li id="6338" class="mq mr iq kq b kr ks ku kv kx ms lb mt lf mu lj ne mw mx my bi translated">严格的空值检查 —空值是最臭名昭著的错误来源。</li><li id="e24c" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">静态类型——这在某种意义上让JavaScript失去了松散的类型需求。例如，您可以在一个JavaScript数组中存储多种类型的变量，但TypeScript会抱怨这一点。但是这也防止了你无意中的错误，并使你的代码更具可读性。</li><li id="dfb7" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">静态类型声明大有帮助——它们是使用您代码的其他人的自然文档。他们可以很容易地看到你的函数所期望的参数。所以，你不必出去记录变量<code class="fe nz oa ob oc b">a</code>应该是一个数字，而<code class="fe nz oa ob oc b">b</code>应该是一个字符串，等等。</li><li id="bdc8" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">静态类型使您的ide更加智能。在类型信息的帮助下，ide可以更好地进行智能感知，发现错误等。</li><li id="1f5d" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">TypeScript也支持注释</li><li id="905b" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">TypeScript可以与JavaScript互操作，但是，对于某些JS库，您可能需要正确的类型定义，才能将它们用于TypeScript。</li><li id="327c" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">但是在大多数情况下，您可以安全地一起使用TypeScript和JavaScript，并逐步进行迁移</li></ul><p id="9bb4" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果您习惯于没有类型的JavaScript，最初熟悉TypeScript确实会有些困难。但这是值得的。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="bf59" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">TypeScript是如何实现其目标的？</h1><p id="c4e2" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">基本上，TypeScript通过三种方式实现其目标:</p><ol class=""><li id="55cf" class="mq mr iq kq b kr ks ku kv kx ms lb mt lf mu lj mv mw mx my bi translated"><strong class="kq ir">支持现代JavaScript特性</strong>—JavaScript语言(而非运行时)通过<a class="ae lk" href="https://en.wikipedia.org/wiki/ECMAScript" rel="noopener ugc nofollow" target="_blank"> ECMAScript </a>标准实现标准化。并非所有的浏览器和JavaScript运行时都支持所有ECMAScript标准的所有特性。TypeScript允许使用许多最新的ECMAScript特性，并将它们翻译成您选择的旧ECMAScript目标(参见<code class="fe nz oa ob oc b">--target</code>编译器选项下的<a class="ae lk" href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" rel="noopener ugc nofollow" target="_blank">编译目标</a>列表)。这意味着您可以安全地使用新特性，如模块、lambda函数、类、spread运算符和析构，同时保持与旧浏览器和JavaScript运行时的向后兼容。</li><li id="49b8" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj mv mw mx my bi translated"><strong class="kq ir">高级类型系统</strong> —类型支持不是ECMAScript标准的一部分，并且可能永远不会是由于JavaScript的解释性质而不是编译性质。TypeScript的类型系统非常丰富，包括接口、枚举、混合类型、泛型、联合/交集类型、访问修饰符等等。TypeScript的<a class="ae lk" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">官网</a>给出了这些特性的概述。Typescript的类型系统与大多数其他类型语言不相上下，而且在某些情况下可能更强大。</li><li id="e9a8" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj mv mw mx my bi translated"><strong class="kq ir">开发人员工具支持</strong> — TypeScript的编译器可以作为后台进程运行，以支持增量编译和IDE集成，这样您可以更轻松地导航、识别问题、检查可能性并重构您的代码库。</li></ol></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="6ea0" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">TypeScript是一个安全的选择:TypeScript与其他JavaScript目标语言的关系</h1><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="oe of di og bf oh"><div class="gh gi od"><img src="../Images/92020d62ec5aeefa2d9e0d8c74f0dac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z9-CCBjI-p6yrUAQ.jpg"/></div></div></figure><p id="1077" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">与编译成JavaScript的其他语言相比，TypeScript有一种独特的理念。JavaScript代码是有效的类型脚本代码；TypeScript是JavaScript的超集。您几乎可以将您的<code class="fe nz oa ob oc b">.js</code>文件重命名为<code class="fe nz oa ob oc b">.ts</code>文件，并开始使用TypeScript(参见下面的“JavaScript互操作性”)。TypeScript文件被编译成可读的JavaScript，因此可以向后迁移，理解编译后的TypeScript一点也不困难。TypeScript建立在JavaScript的成功之上，同时改进了它的缺点。</p><p id="ac32" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">一方面，您拥有面向未来的工具，这些工具采用现代ECMAScript标准，并将其编译成旧的JavaScript版本，其中Babel是最流行的版本。</p><p id="045b" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">另一方面，有些语言可能与针对JavaScript的JavaScript完全不同，比如CoffeeScript、Clojure、Dart、Elm、Haxe、Scala.js，以及更多其他语言(参见这个<a class="ae lk" href="https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS" rel="noopener ugc nofollow" target="_blank">列表</a>)。尽管这些语言可能比JavaScript的未来更好，但它们面临着更大的风险，即无法找到足够多的应用来保证它们的未来。你可能也很难找到有经验的开发人员来开发这些语言，尽管你会发现他们可能更有热情。与JavaScript的互操作性也可能更复杂一些，因为它们与JavaScript的实际情况相去甚远。</p><p id="82c5" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">TypeScript位于这两个极端之间，因此平衡了风险。从任何标准来看，TypeScript都不是一个冒险的选择。如果您熟悉JavaScript，那么很容易就能适应，因为它并不是一种完全不同的语言，具有出色的JavaScript互操作性支持，并且几年来已经被广泛采用。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="08d8" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">尽早捕捉bug:可选的静态类型和类型推断</h1><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/7fc1ac4299b3c8e596a60a16517d2073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*2nmmxWzeeSxdItPh.gif"/></div><figcaption class="oj ok gj gh gi ol om bd b be z dk">JavaScript Bugs can be hard to catch</figcaption></figure><p id="2a5f" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">JavaScript是动态类型的。这意味着JavaScript不知道变量是什么类型，直到它在运行时被实例化。这也意味着可能为时已晚。TypeScript为JavaScript添加了类型支持，并在编译JavaScript的过程中捕捉类型错误。如果你处理得当(你键入代码的严格程度或者你是否键入代码完全取决于你)，由某些变量是某种类型的错误假设引起的错误可以被完全根除。</p><p id="eab6" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">通过使用类型推断，TypeScript使键入变得简单了一些，也不那么显式了。例如:TypeScript中的<code class="fe nz oa ob oc b">var x = "hello"</code>与<code class="fe nz oa ob oc b">var x : string = "hello"</code>相同。类型只是从它的用途推断出来的。即使您没有显式地对类型进行类型化，它们仍然存在，以避免您做一些否则会导致运行时错误的事情。</p><p id="c82c" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">默认情况下，可以选择键入TypeScript。例如，<code class="fe nz oa ob oc b">function divideByTwo(x) { return x / 2 }</code>是TypeScript中的一个有效函数，可以用<em class="ll">任何</em>类型的参数调用，即使用字符串调用它显然会导致<em class="ll">运行时</em>错误。就像你在JavaScript中习惯的那样。这是可行的，因为当没有显式分配类型并且无法推断类型时，如在divideByTwo示例中，TypeScript将隐式分配类型<code class="fe nz oa ob oc b">any</code>。这意味着divideByTwo函数的类型签名自动变成了<code class="fe nz oa ob oc b">function divideByTwo(x : any) : any</code>。有一个编译器标志不允许这种行为:<code class="fe nz oa ob oc b">--noImplicitAny</code>。启用此标志可以提高安全性，但也意味着您将需要输入更多内容。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="35af" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">额外的努力是值得的</h1><p id="d84d" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">类型有与之相关的成本。首先，有一个学习曲线，其次，当然，使用适当的严格类型建立一个代码库会花费你更多的时间。在你与他人分享的任何严肃的代码库上，这些成本都是完全值得的。<a class="ae lk" href="https://cs.uwaterloo.ca/~m2nagapp/courses/CS846/1171/papers/ray_fse14.pdf" rel="noopener ugc nofollow" target="_blank">Github</a>中对编程语言和代码质量的大规模研究表明<em class="ll">“一般来说，静态类型的语言比动态类型更不容易出现缺陷，在这方面，强类型比弱类型更好”。</em></p><p id="a93f" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">有趣的是，这篇论文发现，TypeScript比JavaScript更不容易出错:</p><p id="c9cf" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">对于那些具有正系数的语言，我们可以预期，在其他条件相同的情况下，这种语言会有更多的缺陷修复。这些语言包括C、C++、 JavaScript <em class="ll">、Objective-C、Php和Python。Clojure、Haskell、Ruby、Scala和</em> TypeScript <em class="ll">这些语言都有负系数，这意味着这些语言比平均水平更不可能导致缺陷修复提交。</em></p><h1 id="75fd" class="lt lu iq bd lv lw on ly lz ma oo mc md jw op jx mf jz oq ka mh kc or kd mj mk bi translated">增强的IDE支持</h1><p id="2551" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">与JavaScript相比，TypeScript的开发体验是一大进步。TypeScript编译器实时通知IDE其丰富的类型信息。这提供了几个主要的优势。例如，使用TypeScript，您可以安全地在整个代码库中进行像重命名这样的重构。通过代码完成，您可以获得关于库可能提供的任何函数的内联帮助。不再需要记住它们或在网上查阅它们。当您忙于编码时，编译错误会直接在IDE中用红色曲线报告。总而言之，与使用JavaScript相比，这可以显著提高生产率。人们可以花更多的时间编码，花更少的时间调试。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi os"><img src="../Images/247786fd06040d76f9cc985d498107fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*fqfglvL3Kp_QtcBB.gif"/></div></figure><p id="0784" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">有各种各样的ide都非常支持TypeScript，比如Visual Studio Code、WebStorm、Atom和崇高。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="c056" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">严格的null检查</h1><p id="bd3a" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">表单<code class="fe nz oa ob oc b">cannot read property 'x' of undefined</code>或<code class="fe nz oa ob oc b">undefined is not a function</code>的运行时错误通常是由JavaScript代码中的错误引起的。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/815c84dbb01338aa8c085fa53a06a584.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/0*EcWoBNVKShXzetZH.gif"/></div></figure><p id="5655" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现成的类型脚本已经降低了这类错误发生的概率，因为人们不能使用类型脚本编译器不知道的变量(除了<code class="fe nz oa ob oc b">any</code>类型变量的属性)。但仍有可能错误地使用设置为<code class="fe nz oa ob oc b">undefined</code>的变量。但是，在2.0版的TypeScript中，您可以通过使用不可为空的类型来完全消除这些类型的错误。其工作原理如下:</p><p id="b930" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在启用严格空值检查的情况下(<code class="fe nz oa ob oc b">--strictNullChecks</code>编译器标志)，TypeScript编译器将不允许将<code class="fe nz oa ob oc b">undefined</code>分配给变量，除非您明确声明它是可空类型。例如，<code class="fe nz oa ob oc b">let x : number = undefined</code>将导致编译错误。这完全符合类型理论，因为<code class="fe nz oa ob oc b">undefined</code>不是一个数字。可以将<code class="fe nz oa ob oc b">x</code>定义为<code class="fe nz oa ob oc b">number</code>和<code class="fe nz oa ob oc b">undefined</code>的和类型，以更正:<code class="fe nz oa ob oc b">let x : number | undefined = undefined</code>。</p><p id="63b7" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">一旦知道一个类型是可空的，这意味着它的类型也可以是值<code class="fe nz oa ob oc b">null</code>或<code class="fe nz oa ob oc b">undefined</code>，TypeScript编译器就可以通过基于控制流的类型分析来确定您的代码是否可以安全地使用一个变量。换句话说，当您通过例如<code class="fe nz oa ob oc b">if</code>语句检查变量为<code class="fe nz oa ob oc b">undefined</code>时，TypeScript编译器将推断代码控制流的该分支中的类型不再可为空，因此可以安全地使用。这里有一个简单的例子:</p><pre class="kh ki kj kk gt ou oc ov ow aw ox bi"><span id="5ad2" class="oy lu iq oc b gy oz pa l pb pc">let x: number | undefined;<br/>if (x !== undefined) x += 1; // this line will compile, because x is checked.<br/>x += 1; // this line will fail compilation, because x might be undefined.</span></pre><p id="7f77" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在构建过程中，TypeScript 2016会议联合设计师安德斯·海尔斯伯格对该功能进行了详细的说明和演示:<a class="ae lk" href="https://channel9.msdn.com/Events/Build/2016/B881" rel="noopener ugc nofollow" target="_blank">视频</a>(44:30-56:30)。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="0022" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">汇编</h1><p id="f90d" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">要使用TypeScript，您需要一个编译过程来编译成JavaScript代码。构建过程通常只需要几秒钟，当然这取决于项目的大小。TypeScript编译器支持增量编译(<code class="fe nz oa ob oc b">--watch</code>编译器标志)，因此所有后续更改都可以以更快的速度编译。</p><p id="6c8e" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">TypeScript编译器可以将源映射信息内联到生成的。js文件或创建单独的。地图文件。Chrome DevTools和其他ide之类的调试工具可以使用源映射信息将JavaScript中的行与TypeScript中生成它们的行联系起来。这使您可以在运行时直接在TypeScript代码上设置断点和检查变量。</p><p id="73fa" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">源映射信息工作得很好，在TypeScript之前很久就有了，但是调试TypeScript通常不如直接使用JavaScript时好。以<code class="fe nz oa ob oc b">this</code>关键字为例。由于自ES2015以来围绕闭包的<code class="fe nz oa ob oc b">this</code>关键字的语义发生了变化，<code class="fe nz oa ob oc b">this</code>实际上可能在运行时作为一个名为<code class="fe nz oa ob oc b">_this</code>的变量存在(参见<a class="ae lk" href="https://stackoverflow.com/questions/30056593/visual-studio-shows-wrong-value-for-this-in-typescript/30070859#30070859" rel="noopener ugc nofollow" target="_blank">本答案</a>)。这可能会让您在调试过程中感到困惑，但如果您了解它或检查JavaScript代码，这通常不是问题。应该指出的是，巴别塔遭受完全相同的问题。</p><p id="dfe2" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">TypeScript编译器还可以做一些其他的技巧，比如基于<a class="ae lk" href="https://stackoverflow.com/q/29775830/1860591" rel="noopener ugc nofollow" target="_blank">decorator</a>生成拦截代码，为不同的模块系统生成模块加载代码，以及解析<a class="ae lk" href="https://github.com/Microsoft/TypeScript/wiki/JSX" rel="noopener ugc nofollow" target="_blank"> JSX </a>。但是，除了Typescript编译器之外，您可能还需要一个构建工具。例如，如果您想要压缩您的代码，您将不得不在您的构建过程中添加其他工具来这样做。</p><p id="9d8a" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">有适用于<a class="ae lk" href="https://github.com/TypeStrong/ts-loader" rel="noopener ugc nofollow" target="_blank"> Webpack </a>、<a class="ae lk" href="https://www.npmjs.com/package/gulp-typescript" rel="noopener ugc nofollow" target="_blank"> Gulp </a>、<a class="ae lk" href="https://www.npmjs.com/package/grunt-typescript" rel="noopener ugc nofollow" target="_blank"> Grunt </a>和几乎所有其他JavaScript构建工具的类型脚本编译插件。TypeScript文档中有一节是关于<a class="ae lk" href="https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html" rel="noopener ugc nofollow" target="_blank">与构建工具</a>集成的，涵盖了所有这些工具。如果你想要更多的构建时间检查，一个<a class="ae lk" href="https://www.npmjs.com/package/tslint" rel="noopener ugc nofollow" target="_blank">棉绒</a>也是可用的。也有大量的种子项目将帮助您结合Angular 2、React、Ember、SystemJS、Webpack、Gulp等其他技术开始使用TypeScript。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="4612" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">JavaScript互操作性</h1><p id="7789" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">由于TypeScript与JavaScript的关系非常密切，因此它具有很强的互操作性，但是在TypeScript中使用JavaScript库还需要做一些额外的工作。<a class="ae lk" href="https://www.typescriptlang.org/docs/handbook/namespaces.html" rel="noopener ugc nofollow" target="_blank">需要类型脚本定义</a>，以便类型脚本编译器理解像<code class="fe nz oa ob oc b">_.groupBy</code>或<code class="fe nz oa ob oc b">angular.copy</code>或<code class="fe nz oa ob oc b">$.fadeOut</code>这样的函数调用实际上不是非法语句。这些功能的定义放在<code class="fe nz oa ob oc b">.d.ts</code>文件中。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/eee2c387da98a2337870443ae245f8c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/0*HsA9X4MQp3N1bwGq.gif"/></div></figure><p id="35b4" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">定义可以采取的最简单的形式是允许以任何方式使用标识符。例如，当使用<a class="ae lk" href="https://lodash.com/" rel="noopener ugc nofollow" target="_blank"> Lodash </a>时，一个单行定义文件<code class="fe nz oa ob oc b">declare var _ : any</code>将允许你在<code class="fe nz oa ob oc b">_</code>上调用任何你想要的函数，但是，当然，你仍然可能出错:<code class="fe nz oa ob oc b">_.foobar()</code>将是一个合法的类型脚本调用，但是，当然，在运行时是一个非法的调用。如果你想要正确的类型支持和代码完成，你的定义文件需要更加精确(见<a class="ae lk" href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/lodash" rel="noopener ugc nofollow" target="_blank"> lodash定义</a>的例子)。</p><p id="08dd" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">TypeScript编译器自动理解预打包有自己的类型定义的Npm模块(参见<a class="ae lk" href="https://www.typescriptlang.org/docs/handbook/typings-for-npm-packages.html" rel="noopener ugc nofollow" target="_blank">文档</a>)。对于几乎所有其他不包含自己定义的半流行JavaScript库，已经有人通过另一个npm模块提供了类型定义。这些模块以“@types/”为前缀，来自一个名为<a class="ae lk" href="https://github.com/DefinitelyTyped/DefinitelyTyped#how-do-i-get-them" rel="noopener ugc nofollow" target="_blank">的Github存储库，它是明确类型化的</a>。</p><p id="4c3e" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">有一个警告:类型定义必须与运行时使用的库版本相匹配。如果它们不匹配，TypeScript可能会禁止您调用一个函数或取消引用一个已存在的变量，或者允许您调用一个不存在的函数或取消引用一个不存在的变量，只是因为这些类型在编译时与运行时不匹配。因此，请确保为您正在使用的正确版本的库加载正确版本的类型定义。</p><p id="e708" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">老实说，这有一点麻烦，这可能是你不选择TypeScript的原因之一，而是选择像Babel这样根本不需要类型定义的东西。另一方面，如果你知道你在做什么，你可以很容易地克服由不正确或缺少定义文件引起的任何问题。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="f932" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">从JavaScript转换为TypeScript</h1><p id="fb41" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">任何<code class="fe nz oa ob oc b">.js</code>文件都可以被重命名为<code class="fe nz oa ob oc b">.ts</code>文件，并通过TypeScript编译器获得与输出在语法上相同的JavaScript代码(如果它在语法上是正确的)。即使当TypeScript编译器出现编译错误时，它仍然会生成一个<code class="fe nz oa ob oc b">.js</code>文件。它甚至可以接受带有<code class="fe nz oa ob oc b">--allowJs</code>标志的<code class="fe nz oa ob oc b">.js</code>文件作为输入。这允许您立即开始使用TypeScript。不幸的是，编译错误很可能在一开始就出现。需要记住的是，这些错误不像你在其他编译器中所习惯的那样，是会停止显示的错误。</p><p id="49f2" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">将JavaScript项目转换为TypeScript项目时，一开始出现的编译错误是由TypeScript的特性决定的，这是不可避免的。TypeScript检查<em class="ll">所有</em>代码的有效性，因此它需要知道所有使用的函数和变量。因此，所有类型都需要有类型定义，否则肯定会出现编译错误。正如上一章提到的，对于几乎所有的JavaScript框架来说，安装<a class="ae lk" href="https://github.com/DefinitelyTyped/DefinitelyTyped#how-do-i-get-them" rel="noopener ugc nofollow" target="_blank">明确类型化的包</a>可以很容易地获得<code class="fe nz oa ob oc b">.d.ts</code>文件。</p><p id="6aa7" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">然而，可能是您使用了一些不知名的库，没有可用的TypeScript定义，或者您填充了一些JavaScript原语。在这种情况下，您必须为这些位提供类型定义，以消除编译错误。只需创建一个<code class="fe nz oa ob oc b">.d.ts</code>文件，并将其包含在tsconfig.json的<code class="fe nz oa ob oc b">files</code>数组中，这样TypeScript编译器就会一直考虑它。在其中，将TypeScript不知道的那些位声明为类型<code class="fe nz oa ob oc b">any</code>。一旦你消除了所有的错误，你就可以根据你的需要逐渐地在这些部分引入打字。</p><p id="2738" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了将TypeScript放入构建管道，还需要对构建管道进行一些(重新)配置工作。正如在编译一章中提到的，那里有很多好的资源，我鼓励你寻找那些使用你想要使用的工具组合的种子项目。</p><p id="3c12" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">最大的障碍是学习曲线。我鼓励你先尝试一个小项目。看看它是如何工作的，它是如何构建的，它使用哪些文件，它是如何配置的，它在您的IDE中是如何工作的，它是如何构造的，它使用哪些工具，等等。当您知道自己在做什么时，将大型JavaScript代码库转换为TypeScript是可行的。阅读这篇博客的例子<a class="ae lk" href="https://www.lucidchart.com/techblog/2017/11/16/converting-600k-lines-to-typescript-in-72-hours/" rel="noopener ugc nofollow" target="_blank">在72小时内将60万行代码转换成打字稿</a>。在你开始之前，确保你已经很好的掌握了这门语言。</p><h1 id="dcee" class="lt lu iq bd lv lw on ly lz ma oo mc md jw op jx mf jz oq ka mh kc or kd mj mk bi translated">采用</h1><p id="aee3" class="pw-post-body-paragraph ko kp iq kq b kr ml jr kt ku mm ju kw kx mn kz la lb mo ld le lf mp lh li lj ij bi translated">TypeScript是开源的(Apache 2许可的，见<a class="ae lk" href="https://github.com/Microsoft/TypeScript" rel="noopener ugc nofollow" target="_blank"> GitHub </a>)并由微软支持。<a class="ae lk" href="https://en.wikipedia.org/wiki/Anders_Hejlsberg" rel="noopener ugc nofollow" target="_blank">C #的首席架构师安德斯·海尔斯伯格</a>正在牵头这个项目。这是一个非常活跃的项目。在过去的几年中，TypeScript团队已经发布了许多新功能，并且许多伟大的功能仍在计划之中(参见<a class="ae lk" href="https://github.com/Microsoft/TypeScript/wiki/Roadmap" rel="noopener ugc nofollow" target="_blank">路线图</a>)。</p><p id="1b7f" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">关于采用和流行的一些事实:</p><ul class=""><li id="96fd" class="mq mr iq kq b kr ks ku kv kx ms lb mt lf mu lj ne mw mx my bi translated">在<a class="ae lk" href="https://insights.stackoverflow.com/survey/2017#technology" rel="noopener ugc nofollow" target="_blank"> 2017 StackOverflow开发者调查</a>中，TypeScript是最受欢迎的JavaScript transpiler(总排名第9)，并在最受喜爱的编程语言类别中获得第三名。</li><li id="8efb" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在<a class="ae lk" href="https://2018.stateofjs.com/javascript-flavors/conclusion/" rel="noopener ugc nofollow" target="_blank">2018 js状态调查</a>中，TypeScript被宣布为JavaScript风格类别中的两大赢家之一(另一个是ES6)。</li><li id="ece7" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在<a class="ae lk" href="https://insights.stackoverflow.com/survey/2019" rel="noopener ugc nofollow" target="_blank"> 2019 StackOverflow开发者调查</a>中，TypeScript在专业开发者中最受欢迎的语言中排名第九，超过了C和C++。它再次成为最受欢迎的语言中的第三名。</li><li id="616e" class="mq mr iq kq b kr mz ku na kx nb lb nc lf nd lj ne mw mx my bi translated">在<a class="ae lk" href="https://insights.stackoverflow.com/survey/2020#most-loved-dreaded-and-wanted" rel="noopener ugc nofollow" target="_blank"> 2020 StackOverflow开发者调查</a>中，TypeScript是第二受欢迎的技术。</li></ul><p id="0fb0" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果您对TypeScript感兴趣，并希望开始将TypeScript与React和Next.js等现代web框架和库一起使用，您可能会有兴趣参加以下课程:</p><p id="3caf" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><a class="ae lk" href="https://www.udemy.com/course/react-and-next-js-with-typescript/?referralCode=7202184A1E57C3DCA8B2" rel="noopener ugc nofollow" target="_blank">https://www . udemy . com/course/react-and-next-js-with-typescript/？referral code = 7202184 a1 e 57 C3 dca8b 2</a></p><p id="b3af" class="pw-post-body-paragraph ko kp iq kq b kr ks jr kt ku kv ju kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="ll">更多内容看</em> <a class="ae lk" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq ir"> <em class="ll">说白了. io </em> </strong> </a> <strong class="kq ir"> <em class="ll">。</em> </strong> <em class="ll">报名参加我们的</em> <a class="ae lk" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kq ir"> <em class="ll">免费周报</em> </strong> </a> <em class="ll">。关注我们关于</em> <a class="ae lk" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kq ir"> <em class="ll">推特</em></strong></a><strong class="kq ir"><em class="ll"/></strong><em class="ll">和</em><a class="ae lk" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kq ir"><em class="ll">LinkedIn</em></strong></a><em class="ll">。查看我们的</em> <a class="ae lk" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kq ir"> <em class="ll">社区不和谐</em> </strong> </a> <em class="ll">加入我们的</em> <a class="ae lk" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kq ir"> <em class="ll">人才集体</em> </strong> </a> <em class="ll">。</em></p></div></div>    
</body>
</html>