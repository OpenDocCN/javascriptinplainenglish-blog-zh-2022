<html>
<head>
<title>Supabase for Persistence &amp; Server-to-Client Push in Vanilla HTML/JS Web App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在普通HTML/JS Web应用程序中支持持久性和服务器到客户端的推送</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/supabase-for-persistence-and-server-to-client-push-in-vanilla-html-javascript-web-application-a-99ddd9e4e307?source=collection_archive---------1-----------------------#2022-06-05">https://javascript.plainenglish.io/supabase-for-persistence-and-server-to-client-push-in-vanilla-html-javascript-web-application-a-99ddd9e4e307?source=collection_archive---------1-----------------------#2022-06-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="244f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在普通的HTML/JavaScript web应用程序中使用Supabase进行持久化和服务器到客户端推送的分步指南。</h2></div><p id="a827" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Supabase为web应用程序提供基于云的后端服务。这意味着任何(静态)web应用程序都可以使用Supabase进行用户认证和数据持久化。Supabase提供服务器到客户端的推送通知服务，它具有服务器端的无服务器功能，例如，可以处理webhooks(来自许多不同互联网服务的触发器)。本文描述了我使用Supabase和一个仅包含HTML和JavaScript的简单web应用程序的初步尝试。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/1a572ccbe2cd667d813d9a7c7887df17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DQ3DG9kIgCkq2GAp.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Vanilla HTML &amp; JavaScript web application directly interacting with Supabase backend for data persistence and real-time data update notifications</figcaption></figure><p id="2569" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我的目标是:使用普通的HTML和JavaScript创建一个web应用程序，并将其连接到Supabase后端，以便为应用程序的数据提供持久性，并在数据库更新时实时更新应用程序。我将首先创建一个连接、插入、查询和订阅[通知]的简单节点应用程序。一旦我掌握了这一点，我将创建做类似事情的客户端。</p><p id="3ec2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一位同事最近提醒我注意Supabase:一种为web应用程序提供后端的服务，包括用户管理和认证、数据持久化、实时数据推送、文件存储和无服务器(edge)功能。数据持久性由托管PostgreSQL数据库提供。Supabase允许我们从他们的免费层开始——也可以在本地运行平台——独立于云后端。Supabase被定位为Firebase的替代产品。但是，我对Firebase不够了解，无法进行任何比较。</p><p id="8155" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看过一些文章，浏览过网站。我还没有尝试过Supabase，也不知道如何开始。我很快就会找到答案，并在本文中分享我的经历。</p><h1 id="e927" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">Supabase项目</h1><p id="50d3" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">Supabase组织项目中的资源。每个项目都有自己的数据库实例、自己的一组数据库策略、用户和身份验证规则。要使用Supabase，注册是第一步，项目的创建紧随其后。</p><p id="aefb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">前往<a class="ae mo" href="https://app.supabase.com/" rel="noopener ugc nofollow" target="_blank">https://app.supabase.com/</a></p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/47f16d3167889d3fa09b944a37909072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*UP8RtYDYnahqHH8-.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Sign up with GitHub on Supabase homepage</figcaption></figure><p id="cbac" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用GitHub登录。出现提示时，在GitHub上授权Supabase。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/74bd2cbae757257d28dd9457315f9654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*jmEIjq4qHeOoAOwr.png"/></div></figure><p id="0573" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击新建项目。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mq"><img src="../Images/3d7c09921777b7c12e390795806a591a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*I1VvjnpxlaWDg3rO.png"/></div></div></figure><p id="aa1e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为项目提供一个名称，并为数据库访问设置密码。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mr"><img src="../Images/b8ad42fc54a3ea3e409d33e318f7ec9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Gaa0LFeZCc1Cxdh4.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Provide project details — such as name, password for database account, region and plan</figcaption></figure><p id="d5fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择区域并选择计划(免费可能是一个好的开始)。</p><p id="b950" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击创建新项目。</p><p id="7ddb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建项目后，转到数据库区域的SQL编辑器。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ms"><img src="../Images/40f89a84303d6bcf8448fa3d2dee8bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YHVVgCmesBmZhFJg.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Navigate to the SQ:L Editor</figcaption></figure><p id="91a7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击创建表格。</p><p id="88a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">稍微编辑一下提议的表定义——将其名称改为<em class="mt"> app_state </em>。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/1f24a542513a39ba792a71af890d1057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*Sxm7VcXItNBL8UAq.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Select the Create Table snippet</figcaption></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/4ce53057f4e58eb71ca4465e062cfd82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*cXvSTIQk7PfV6cMP.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Edit the proposed Create Table statement</figcaption></figure><p id="4519" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单击Run在数据库中创建表。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mu"><img src="../Images/d1ecca6d05631d709d6cff71bc5e975f.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/0*HeGtVQJ5ogeBmd3W.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Feedback after running the create table command</figcaption></figure><p id="d553" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">REST API现在也生成了。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mv"><img src="../Images/11cfe1e01240fc86558dc836ac36a327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VyGdR32_i1QoK4lb.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Details on the REST API that is created for accessing the project’s database backend</figcaption></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/b0df69f928ed548bcb6cca2ee77103ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*8sRa92y8PrCGLDqG.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">The situation at this point: a database with one table (APP_STATE) and a REST API that can be accessed to query and manipulate data</figcaption></figure><p id="4b32" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">成功创建表后，切换到API选项卡。这里提供了与为表生成的API进行交互的说明。</p><p id="2293" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在后端已经创建好了，是时候创建一个应用程序来与之交互了。</p><h1 id="067b" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">本地开发—节点应用程序</h1><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi mw"><img src="../Images/3ec92e420e6bf2eed415a44c0dd9b191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4NM4FCT3PkfzINWb.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Overview of a local Node application interacting with Supabase project</figcaption></figure><p id="7387" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了体验与REST API的交互，我首先创建了一个简单的节点应用程序，它使用Supabase JavaScript SDK与后端进行交互。应用程序建立连接，从APP_STATE表中读取记录，并在该表中创建新记录。在第二次迭代中，我将添加对APP_STATE表中的更改的订阅，任何更改都将作为推送通知报告给节点应用程序。</p><p id="8036" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意:本文中显示的所有代码都可以从GitHub Repo获得:<a class="ae mo" href="https://github.com/lucasjellema/supabase-lab/tree/main/lab1" rel="noopener ugc nofollow" target="_blank">https://github.com/lucasjellema/supabase-lab/tree/main/lab1</a></p><p id="38a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的本地开发环境——Lucas-lab中创建一个新文件夹。在命令行上，执行:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="be8e" class="nc ls iq my b gy nd ne l nf ng">npm init</span></pre><p id="051a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在随后的对话框中接受所有默认值。</p><p id="9ef5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在执行:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/97534d51bed6cc4881c3d1f63661a0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*75567cdCgN5PkLlG.png"/></div></figure><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="ed7b" class="nc ls iq my b gy nd ne l nf ng">npm install -save @supabase/supabase-js</span></pre><p id="f733" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建文件index.js并复制以下代码:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="9fd6" class="nc ls iq my b gy nd ne l nf ng">const { createClient } = require('<a class="ae mo" href="http://twitter.com/supabase/supabase-js" rel="noopener ugc nofollow" target="_blank">@supabase/supabase-js</a>')</span><span id="d77b" class="nc ls iq my b gy nh ne l nf ng">const supabaseUrl = '<a class="ae mo" href="https://bctbxcxnehetetyatkfw.supabase.co'" rel="noopener ugc nofollow" target="_blank">https://bctbnehetetyatkfw.supabase.co'</a><br/>const supabaseKey = process.env.SUPABASE_KEY<br/>const supabase = createClient(supabaseUrl, supabaseKey)</span><span id="dbb5" class="nc ls iq my b gy nh ne l nf ng">const main = async () =&gt; {</span><span id="d675" class="nc ls iq my b gy nh ne l nf ng">let { data, error } = await supabase</span><span id="8bee" class="nc ls iq my b gy nh ne l nf ng">.from('app_state')</span><span id="d962" class="nc ls iq my b gy nh ne l nf ng">.select('name, data')</span><span id="ee34" class="nc ls iq my b gy nh ne l nf ng">.range(0,10)</span><span id="3eac" class="nc ls iq my b gy nh ne l nf ng">if (error) {</span><span id="5665" class="nc ls iq my b gy nh ne l nf ng">console.error(error)</span><span id="299f" class="nc ls iq my b gy nh ne l nf ng">return</span><span id="23cf" class="nc ls iq my b gy nh ne l nf ng">}</span><span id="607a" class="nc ls iq my b gy nh ne l nf ng">console.log(data)<br/>```</span></pre><p id="d29d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这段代码只是从Supabase项目后端的APP_STATE表中查询前10条记录，并将检索到的数据写入控制台。</p><p id="b189" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用“设置-API-项目API密钥”中的值设置环境变量SUPABASE_KEY和SUPABASE_URL。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="e0d8" class="nc ls iq my b gy nd ne l nf ng">export SUPABASE_KEY="&lt;key value&gt;"</span><span id="2518" class="nc ls iq my b gy nh ne l nf ng">export SUPABASE_URL="&lt;url value&gt;"</span></pre><p id="46e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者在Windows Powershell下:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="4248" class="nc ls iq my b gy nd ne l nf ng">$Env:SUPABASE_KEY = '&lt;key value&gt;'</span><span id="1336" class="nc ls iq my b gy nh ne l nf ng">$Env:SUPABASE_URL = '&lt;url value&gt;'</span></pre><p id="b645" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">(当然，对于只在我的本地环境中运行的代码，我也可以直接在源代码中设置“const supabaseKey”和“const supabaseUrl”的值)。</p><p id="7926" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用以下内容运行此应用程序:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="fe99" class="nc ls iq my b gy nd ne l nf ng">node index.js</span></pre><p id="f0f4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">输出结果可能并不令人印象深刻，但却很有意义:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ni"><img src="../Images/ec94dc125e91e7751c419b6f11488cfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/0*b-LlPrrZ3J3_1kyf.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Output from running index.js with no data yet in table APP_STATE</figcaption></figure><p id="212f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">建立到Supabase API的连接，并从表中检索数据。只是现在不多。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nj"><img src="../Images/13e2afb4d9c6ec5bbd2a3e74235071db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kO3uDvWhQPRaxOOZ.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Adding a record to table APP_STATE in the SQL Editor</figcaption></figure><p id="c6b1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我使用表编辑器在客户机UI中向表APP_STATE添加了一条记录。</p><p id="3e16" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我再次运行该应用程序，效果稍微好一点:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/0615702b5ab3645ed1d52d4d43401a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/0*A67uemesXS-Y1w6y.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Running index.js again — this time showing a single record from table APP_STATE</figcaption></figure><p id="bd47" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将下面的代码片段添加到应用程序中。这构成了对Supabase后端的调用，以在表APP_STATE中创建新记录，列名设置为“新列表”，数据设置为带有属性<em class="mt">商店</em>的对象的JSON表示。</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="5a63" class="nc ls iq my b gy nd ne l nf ng">let { dataI, errorI } = await supabase</span><span id="9393" class="nc ls iq my b gy nh ne l nf ng">.from('app_state')</span><span id="d1a4" class="nc ls iq my b gy nh ne l nf ng">.insert([</span><span id="7df2" class="nc ls iq my b gy nh ne l nf ng">{ name: 'New List', data: {shop:{name:"AH", total:267.12}} }</span><span id="dd55" class="nc ls iq my b gy nh ne l nf ng">])</span></pre><p id="8500" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">添加为main函数中的第一个条目。</p><p id="6235" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行这段代码的输出:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/db1504720ea90bf945188f52efb2b9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/0*XFkStA0bHlwOqYIr.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Running index.js again — two records are shown — one is inserted by the application just prior to querying the data</figcaption></figure><p id="b9ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显示从表中检索到了一条新记录——这条记录是通过我刚才添加的insert语句添加的。</p><p id="0040" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是Supabase web控制台中的表格编辑器(也包含新记录):</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/45453997902342faf98ca3acd792f888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/0*Jf72weZaTRjtaE3F.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">New record inserted in Node application showing in Supabase Table Editor</figcaption></figure><h1 id="39b4" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">实时—服务器向客户端推送表更改通知</h1><p id="d14a" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">Supabase可以通知客户端应用程序所选表中数据的任何变化。我们需要做两件事来实现这一目标:</p><ol class=""><li id="0041" class="nn no iq kh b ki kj kl km ko np ks nq kw nr la ns nt nu nv bi translated">确保在Supabase后端，对相关表的更改包含在复制机制中</li><li id="0d4e" class="nn no iq kh b ki nw kl nx ko ny ks nz kw oa la ns nt nu nv bi translated">为客户端应用程序中的函数订阅指定表中的相关更改</li></ol><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ob"><img src="../Images/91e4e1fb48dddeeb3a78a37a620c8293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Nua7rZM2hrsXkB3x.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Two things to get Real Time (notifications) for APP_STATE to work: add table to replication set and subscribe to changes</figcaption></figure><p id="77af" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">1.将表添加到复制:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi oc"><img src="../Images/85c1a784dd15dbce6901f17cf9c65de4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MZQRqQNg3t1pIHWa.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Enabling Database Replication and drilling down to table set</figcaption></figure><p id="0b5c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">点击侧边栏中的数据库。然后在复制时；复制很可能已经启用。如果不是，那么现在就启用它。要将表APP_STATE添加到已发布更改的表集中，请单击标题*Source*下的图标，该图标指示当前正在复制的表的数量。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi od"><img src="../Images/7b6bbe72c636a41533350ff1ddf6b29c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/0*EG9gVLqGGhvgs5OX.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Enable replication for table APP_STATE</figcaption></figure><p id="b859" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从可用的表中选择表APP_STATE。</p><p id="5d48" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.为客户端订阅实时数据更改</p><p id="26dc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">应用程序订阅表APP_STATE中的实时更改是通过下面的代码片段完成的，在function main中的某个位置:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="af94" class="nc ls iq my b gy nd ne l nf ng">subscription1 = supabase</span><span id="beab" class="nc ls iq my b gy nh ne l nf ng">.from('app_state')</span><span id="a707" class="nc ls iq my b gy nh ne l nf ng">.on('UPDATE', (v) =&gt; console.log('UPDATE on app_state', v))</span><span id="c00d" class="nc ls iq my b gy nh ne l nf ng">.on('INSERT', (v) =&gt; console.log('INSERT on app_state', v))</span><span id="876a" class="nc ls iq my b gy nh ne l nf ng">.subscribe((change) =&gt; console.log('app_state changed', change))<br/>await sleep(30000)</span><span id="21a1" class="nc ls iq my b gy nh ne l nf ng">supabase.removeSubscription(subscription1);</span></pre><p id="5a2f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">需要添加函数sleep()，以暂停处理节点应用程序，让我们有时间在Supabase表编辑器中进行更改，并查看推送到客户端应用程序的更改:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="b166" class="nc ls iq my b gy nd ne l nf ng">function sleep(time) {</span><span id="08b5" class="nc ls iq my b gy nh ne l nf ng">  return new Promise(resolve =&gt; setTimeout(resolve, time));</span><span id="6c28" class="nc ls iq my b gy nh ne l nf ng">}</span></pre><p id="262c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行节点应用程序。当它开始时，您有30秒的时间通过表编辑器对表APP_STATE中的数据进行更改，并在控制台上看到效果。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/ba8b64a917fe8cca68200a5637660969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*S-hqO1vbew8ZYnZT.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Make a change in a table record in the Table Editor in Supabase web console</figcaption></figure><p id="37b1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">节点应用程序的输出:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/881585c0a50d350b63cbf3926d935a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/0*h8fJrKzMcYmbbc-o.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Report on the change made in the backend table as handled by the Node application</figcaption></figure><p id="cc29" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是强大的东西。通过几行代码，该应用程序可以保存其状态、检索状态并订阅更改中的更改——从任何基于云的后端工作的客户端进行操作。</p><h1 id="af91" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">普通的HTML和JavaScript Web应用程序</h1><p id="15f6" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">比从服务器端节点应用程序利用Supabase更有用的是从浏览器中运行的web应用程序直接访问Supabase的能力，在服务器端节点应用程序中，我们可以轻松访问各种后端服务。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi of"><img src="../Images/aa874533c0d931b1480eca8eebd3c11c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x8Kr0lDOLg-RyBE-.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">The real objective of this article: a static web application that only runs JavaScript — interacting with Supabase backend</figcaption></figure><p id="55f8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">图中仍然显示了Node——但只是为了向浏览器提供静态web应用程序(也可以是nginx或apache httpd ),与Supabase的所有交互都发生在客户端——浏览器中的JavaScript代码。</p><p id="159c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我创建了节点文件web-server.js，它只做一件事:为子目录<em class="mt"> web </em>中的文件index.html提供服务:</p><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="3131" class="nc ls iq my b gy nd ne l nf ng">const http = require('http')</span><span id="ea0e" class="nc ls iq my b gy nh ne l nf ng">const fs = require('fs')</span><span id="6b2d" class="nc ls iq my b gy nh ne l nf ng">const PORT = 3100</span><span id="6ae4" class="nc ls iq my b gy nh ne l nf ng">// create an HTTP server that handles HTTP requests; it is handed two parameters: the request and response objects</span><span id="8bed" class="nc ls iq my b gy nh ne l nf ng">const server = http.createServer((req, resp) =&gt; {</span><span id="587a" class="nc ls iq my b gy nh ne l nf ng">fs.readFile("web/index.html", function (error, page) {</span><span id="66e4" class="nc ls iq my b gy nh ne l nf ng">if (error) {</span><span id="64af" class="nc ls iq my b gy nh ne l nf ng">resp.writeHead(404);</span><span id="9ad3" class="nc ls iq my b gy nh ne l nf ng">resp.write('Contents you are looking are Not Found');</span><span id="3766" class="nc ls iq my b gy nh ne l nf ng">} else {</span><span id="205d" class="nc ls iq my b gy nh ne l nf ng">resp.writeHead(200, { 'Content-Type': 'text/html' });</span><span id="0826" class="nc ls iq my b gy nh ne l nf ng">resp.write(page);</span><span id="0eb2" class="nc ls iq my b gy nh ne l nf ng">}</span><span id="9a90" class="nc ls iq my b gy nh ne l nf ng">resp.end();</span><span id="2482" class="nc ls iq my b gy nh ne l nf ng">})</span><span id="91ba" class="nc ls iq my b gy nh ne l nf ng">})</span><span id="8a2f" class="nc ls iq my b gy nh ne l nf ng">server.listen(PORT);</span><span id="29bf" class="nc ls iq my b gy nh ne l nf ng">console.log(`HTTP Server is listening at port ${PORT} for HTTP GET requests`)</span></pre><p id="addb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">index.html文件是这里有趣的一个。它在浏览器中显示APP_STATE表的内容:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi og"><img src="../Images/7b69f157fad7a2314df3e28812deff50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/0*Dun0idpsOTuLSIhj.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">index.html — this IS the vanilla HTML &amp; JavaScript web application powered by a Supabase persistent and pushing backend</figcaption></figure><p id="f06e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代码的简短指南:</p><ol class=""><li id="bb21" class="nn no iq kh b ki kj kl km ko np ks nq kw nr la ns nt nu nv bi translated">加载Supabase JavaScript客户端(SDK)(这一行类似于package.json中的“@supabase/supabase-js”依赖项和节点应用程序中index.js中的require(<a class="ae mo" href="mailto:'@supabase/supabase-js'" rel="noopener ugc nofollow" target="_blank">' @ supa base/supa base-js '</a>)的组合)</li><li id="023c" class="nn no iq kh b ki nw kl nx ko ny ks nz kw oa la ns nt nu nv bi translated">Supabase密钥和URL不是硬编码的；相反，它们是在运行时从URL查询参数中学习的</li><li id="465b" class="nn no iq kh b ki nw kl nx ko ny ks nz kw oa la ns nt nu nv bi translated">当文档加载到浏览器中时，将执行此功能，并初始化Supabase客户端，随后从表APP_STATE中查询数据</li><li id="aacc" class="nn no iq kh b ki nw kl nx ko ny ks nz kw oa la ns nt nu nv bi translated">就像在节点应用程序中一样，调用Supabase REST API(通过客户端SDK)从指定的表APP_STATE中查询多达10条记录</li><li id="01bf" class="nn no iq kh b ki nw kl nx ko ny ks nz kw oa la ns nt nu nv bi translated">对于从Supabase检索的数据中的每条记录，都会在HTML表中添加一个新行</li></ol><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/d1124705cfa423dcb15db66d7d12dd4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*CIHG7Xj6FhqYeJN_.png"/></div></figure><p id="4552" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行节点应用程序web-server.js</p><p id="80ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae mo" href="http://localhost:3100/?SUPABASE_URL=bctaasdsaqwfw&amp;SUPABASE_KEY=eyJhqams" rel="noopener ugc nofollow" target="_blank"> http://localhost:3100/？supa base _ URL = bctaasdsaqwfw&amp;supa base _ KEY = eyJhqams</a></p><p id="9ba0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后使用以下URL在本地浏览器中打开web应用程序:</p><p id="9e57" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查询参数SUPABASE_URL的值是URL中的第一个路径段(不包括前导的https://也不包括一般的. supabase.co后缀)。</p><p id="a6e5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">浏览器会打开——我没有说它会很漂亮——并显示一个表，其中包含从APP_STATE后端表中检索到的数据:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/b6fc0aff16ca11560ff353118bfa44ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*J2SLNrSVYa2qpcM5.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Vanilla Web Application in browser — showing data retrieved from Supabase backend</figcaption></figure><h1 id="5031" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">Web应用程序中的实时变更报告—实时服务器到客户端推送</h1><p id="0eea" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">当在APP_STATE表中进行更改并且刷新浏览器时，将显示数据的最新状态。我们可以做得更好——至少是一个——使用实时服务器向客户端发送通知。</p><p id="cc57" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">向index.html页面添加一小段HTML代码——就在<table>元素下面:</table></p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/0b08140f845fda68182ed6d6e46b305a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/0*yNZWag0Ce9yGVF-8.png"/></div></figure><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="5c1a" class="nc ls iq my b gy nd ne l nf ng">&lt;h3&gt;Latest Change&lt;/h3&gt;<br/>&lt;div id=”breakingNews”&gt;&lt;/div&gt;<br/>&lt;br /&gt;&lt;br /&gt;<br/>&lt;button id=”refresh” onclick=”refreshData()”&gt;Refresh&lt;/button&gt;</span></pre><p id="3554" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后将函数<em class="mt"> subscribeAppState </em>添加到index . html中的&lt;脚本&gt;部分，并在为<em class="mt"> DOMContentLoaded </em>事件注册的函数中包含对该函数的调用:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/279b39cfdfda4029a792a6b02eca7742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*vGW9E_KD3N4t6-k1.png"/></div></figure><pre class="lc ld le lf gt mx my mz na aw nb bi"><span id="bbb8" class="nc ls iq my b gy nd ne l nf ng">function subscribeAppState() {</span><span id="9641" class="nc ls iq my b gy nh ne l nf ng">subscription1 = supabaseClient</span><span id="a9de" class="nc ls iq my b gy nh ne l nf ng">.from('app_state')</span><span id="7ead" class="nc ls iq my b gy nh ne l nf ng">.on('UPDATE', (v) =&gt; { console.log('UPDATE on app_state', v); reportDataChange(v) })</span><span id="6361" class="nc ls iq my b gy nh ne l nf ng">.on('INSERT', (v) =&gt; { console.log('INSERT on app_state', v); reportDataChange(v) })</span><span id="ab78" class="nc ls iq my b gy nh ne l nf ng">.on('DELETE', (v) =&gt; { console.log('DELETE on app_state', v); reportDataChange(v) })</span><span id="0049" class="nc ls iq my b gy nh ne l nf ng">.subscribe((change) =&gt; console.log('app_state changed', change))</span><span id="395d" class="nc ls iq my b gy nh ne l nf ng">}</span></pre><p id="9a5f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">保存文件index.html。刷新浏览器。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/40528e682395a35fa79ac1b5de46b097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*o2CB96riRrucp4Lq.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Changes in Web Application to support Real-Time Data Change Notifications</figcaption></figure><p id="0615" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该表仍然显示，还有一个标题<em class="mt">最新更改</em>和一个标记为<em class="mt">刷新</em>的按钮。控制台显示一条消息，指示订阅已经发生。</p><p id="b7ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我现在在Supabase表格编辑器中进行更改，例如删除一条记录:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi oj"><img src="../Images/710bfc864280e67b91edafd81115ecef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kb8IR4-EKYPNYC94.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Delete a record from the Table APP_STATE through the Supabase Table Editor</figcaption></figure><p id="d50a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，浏览器几乎会立即报告这一更改。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/07fe745321c844ba1bff16439e9766ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*mev5rWXNA2Sk7KHv.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">The deletion of the record from the table is reported to the web application</figcaption></figure><p id="4a33" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">按下按钮<em class="mt">刷新</em>后，表格也会更新，以反映表格APP_STATE中的当前情况。</p><h1 id="2e26" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">在GitHub页面上运行Web应用程序</h1><p id="8ceb" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">web应用程序现在在我的笔记本电脑上本地运行，使用的是Node web服务器应用程序。这是可行的，但不是理想的情况。理想情况下，我不需要运行任何东西来访问应用程序，尤其是为了让您访问我的应用程序。当然，在这种情况下，我需要分发Supabase密钥和应用程序的Url，以便您可以使用——但也许我会这样做。那么，我如何才能使这个静态web应用程序(运行应用程序只需将静态的、不可更改的web资源一次性下载到浏览器中)对任何人都可用呢？</p><p id="dbfc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是GitHub Pages的用武之地。<a class="ae mo" href="https://pages.github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub Pages </a>旨在托管来自GitHub存储库的个人、组织或项目页面。这就是我使应用程序可访问的全部内容。</p><p id="7ede" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我将转到GitHub存储库控制台并启用GitHub页面——指定可发布资产所在的分支和目录:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi of"><img src="../Images/d36886d22b698691e9fb531ac5ebf476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YhwxOnmD6mX25OVR.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Enable GitHub Pages for the Repository containing the Supabase Lab sources</figcaption></figure><p id="a7b0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">保存这些更改后，将出现以下消息:</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/a9b5e9343413b809793d72a4494f1752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*w4Ooepls88F0d5X1.png"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Instruction for accessing GitHub Pages</figcaption></figure><p id="7190" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完成发布可能需要几分钟时间。届时，我和您都可以通过以下网址访问该应用:<a class="ae mo" href="https://lucasjellema.github.io/supabase-lab/lab1/web/index.html" rel="noopener ugc nofollow" target="_blank">https://lucasjellema . github . io/supabase-lab/lab 1/web/index . html</a>。当然，需要添加查询参数SUPABASE_KEY和SUPABASE_URL。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ok"><img src="../Images/6246fac4d991c1e1ea3abc4f0c1ff03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mh7-dSJt9cyCrixN.png"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">Running the web application from GitHub Pages; anyone in the world can access the application. However, they need the SUPABASE_KEY and SUPABASE_URL to make good use of it</figcaption></figure><h1 id="0d4b" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">资源</h1><p id="e51e" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">本文中显示的所有代码都可以从GitHub Repo获得:【https://github.com/lucasjellema/supabase-lab/tree/main/lab1 T2】</p><p id="87b7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Supabase JS客户端库—<a class="ae mo" href="https://supabase.com/docs/reference/javascript/supabase-client" rel="noopener ugc nofollow" target="_blank">https://supabase . com/docs/reference/JavaScript/supabase—客户端</a>和<a class="ae mo" href="https://github.com/supabase/supabase-js" rel="noopener ugc nofollow" target="_blank">https://github.com/supabase/supabase-js</a>和(数据库相关命令)<a class="ae mo" href="https://supabase.com/docs/reference/javascript/insert" rel="noopener ugc nofollow" target="_blank">https://supabase.com/docs/reference/javascript/insert</a></p><p id="c584" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">阅读关于如何为表启用实时变更发布的描述:<a class="ae mo" href="https://supabase.com/docs/guides/database/replication" rel="noopener ugc nofollow" target="_blank">https://supabase.com/docs/guides/database/replication</a></p></div><div class="ab cl ol om hu on" role="separator"><span class="oo bw bk op oq or"/><span class="oo bw bk op oq or"/><span class="oo bw bk op oq"/></div><div class="ij ik il im in"><p id="f65c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mt">原载于2022年6月5日</em><a class="ae mo" href="https://technology.amis.nl/frontend/supabase-for-persistence-and-server-to-client-push-in-vanilla-html-javascript-web-application-a-step-by-step-guide/" rel="noopener ugc nofollow" target="_blank"><em class="mt">https://technology . amis . nl</em></a><em class="mt">。</em></p><p id="ffec" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="mt">更多内容请看</em><a class="ae mo" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="mt">plain English . io</em></strong></a><em class="mt">。报名参加我们的</em> <a class="ae mo" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mt">免费周报</em> </strong> </a> <em class="mt">。关注我们关于</em><a class="ae mo" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="mt">Twitter</em></strong></a><em class="mt">和</em><strong class="kh ir"><em class="mt"/></strong><a class="ae mo" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kh ir"><em class="mt">LinkedIn</em></strong></a><em class="mt">。查看我们的</em> <a class="ae mo" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mt">社区不和谐</em> </strong> </a> <em class="mt">加入我们的</em> <a class="ae mo" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="mt">人才集体</em> </strong> </a> <em class="mt">。</em></p></div></div>    
</body>
</html>