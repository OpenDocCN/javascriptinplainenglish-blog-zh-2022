<html>
<head>
<title>4 Differences Between ‘let’ and ‘var’ in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中“let”和“var”的4个区别</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/4-difference-between-let-and-var-in-js-621cc77d60cb?source=collection_archive---------19-----------------------#2022-03-29">https://javascript.plainenglish.io/4-difference-between-let-and-var-in-js-621cc77d60cb?source=collection_archive---------19-----------------------#2022-03-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="58ec" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">每个JavaScript开发者都应该知道的“let”和“var”的4个区别</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6321faec34aeccfab6aa89094ea0a08a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R--itg2tdifDWGnyeUGGDg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Credit due to Andrea Piacquadio</figcaption></figure><p id="5e8c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在JavaScript开发中，我们经常使用<code class="fe lr ls lt lu b">var</code>和<code class="fe lr ls lt lu b">let</code>关键字，但是有些开发人员并不是很清楚这两者的区别。这篇文章详细解释了它们的区别，你将能够完全区分这些关键词！</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h2 id="6831" class="mc md iq bd me mf mg dn mh mi mj dp mk le ml mm mn li mo mp mq lm mr ms mt mu bi translated"><strong class="ak"> 1。范围:</strong></h2><p id="f83b" class="pw-post-body-paragraph kv kw iq kx b ky mv jr la lb mw ju ld le mx lg lh li my lk ll lm mz lo lp lq ij bi translated"><code class="fe lr ls lt lu b">let</code>和<code class="fe lr ls lt lu b">var</code>的范围很不一样。<code class="fe lr ls lt lu b">var</code>关键字的作用域是当前函数体，而<code class="fe lr ls lt lu b">let</code>关键字的作用域在它的括号内更小。简单地说，这意味着<code class="fe lr ls lt lu b">var</code>变量在整个函数中都是可见的，而<code class="fe lr ls lt lu b">let</code>变量只对封闭的<code class="fe lr ls lt lu b">{}</code>可见。请参见下面的示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="7dde" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在示例中，我们定义了<code class="fe lr ls lt lu b">a,b,c,d</code> 4个变量。由于<code class="fe lr ls lt lu b">a,c</code>是通过<code class="fe lr ls lt lu b">var</code>关键字定义的，我们将知道即使<code class="fe lr ls lt lu b">c</code>是在右括号中定义的，它们在整个函数中都是可访问的。另一方面，由于<code class="fe lr ls lt lu b">d</code>是由<code class="fe lr ls lt lu b">let</code>定义的，并且是在结束括号内定义的，如果我们试图在结束上下文之外访问它，我们会得到一个错误，因为JavaScript编译器不会看到它是在<code class="fe lr ls lt lu b">{}</code>之外定义的。很简单，不是吗？这种差异直接导致了一些后果:定义变量时要小心:如果你不希望这个变量存在于<code class="fe lr ls lt lu b">block</code>之外，比如<code class="fe lr ls lt lu b">for(let i = 0; ..)</code>，你最好不要使用<code class="fe lr ls lt lu b">var</code>。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h2 id="f1f4" class="mc md iq bd me mf mg dn mh mi mj dp mk le ml mm mn li mo mp mq lm mr ms mt mu bi translated">2.<strong class="ak">吊装:</strong></h2><p id="e942" class="pw-post-body-paragraph kv kw iq kx b ky mv jr la lb mw ju ld le mx lg lh li my lk ll lm mz lo lp lq ij bi translated">你们中的一些人可能对上面的例子感到疑惑:你说<code class="fe lr ls lt lu b">a,c</code>在整个函数中都有定义。那么如果你试图在括号<code class="fe lr ls lt lu b">{}</code>中定义<code class="fe lr ls lt lu b">c</code>之前调用它会发生什么？好问题，让我们看看会发生什么:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="1da6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如你所见，将会是<code class="fe lr ls lt lu b">undefined</code>。这实际上是<code class="fe lr ls lt lu b">let</code>和<code class="fe lr ls lt lu b">var</code>的一大区别。既然带有<code class="fe lr ls lt lu b">var</code>的东西对整个函数块都是可见的，那么在声明之前<code class="fe lr ls lt lu b">var</code>的值是多少呢？答案是JavaScript将为变量赋值<code class="fe lr ls lt lu b">undefined</code>，直到它被声明。这叫吊装。另一方面，如果我们试图访问一个在声明前通过<code class="fe lr ls lt lu b">let</code>定义的变量，JavaScript会抱怨:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="6162" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如你所见，编译器会抛出一个<code class="fe lr ls lt lu b">ReferenceError</code>。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h2 id="3e44" class="mc md iq bd me mf mg dn mh mi mj dp mk le ml mm mn li mo mp mq lm mr ms mt mu bi translated">3.<strong class="ak">全局状态:</strong></h2><p id="e5f4" class="pw-post-body-paragraph kv kw iq kx b ky mv jr la lb mw ju ld le mx lg lh li my lk ll lm mz lo lp lq ij bi translated">正如我们在第一节中暗示的，全局状态有些模糊。我们可以通过<code class="fe lr ls lt lu b">let</code>和<code class="fe lr ls lt lu b">var</code>在函数之外定义变量。然而，不同的声明导致不同的结果。用<code class="fe lr ls lt lu b">var</code>定义的变量是全局对象属性的一部分，可以作为<code class="fe lr ls lt lu b">glocalThis</code>访问，而通过<code class="fe lr ls lt lu b">let</code>定义的变量则不是这样。注意<code class="fe lr ls lt lu b">globalThis</code>可以有不同形式，这取决于您执行JavaScript的位置。它可以是您的JavaScript程序中的关键字，如<code class="fe lr ls lt lu b">self</code>、<code class="fe lr ls lt lu b">window</code>或<code class="fe lr ls lt lu b">global</code>。因此，为了避免混淆，我不会在这里放一个代码片段，但是您已经明白了。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><h2 id="a741" class="mc md iq bd me mf mg dn mh mi mj dp mk le ml mm mn li mo mp mq lm mr ms mt mu bi translated">4.重新声明:</h2><p id="adfc" class="pw-post-body-paragraph kv kw iq kx b ky mv jr la lb mw ju ld le mx lg lh li my lk ll lm mz lo lp lq ij bi translated">最后，<code class="fe lr ls lt lu b">var</code>和<code class="fe lr ls lt lu b">let</code>有一个很大的区别。在<code class="fe lr ls lt lu b">var</code>中，我们可能会使用相同的名称重新声明变量，而在<code class="fe lr ls lt lu b">let</code>中不会发生这种情况，否则将会抛出错误。请参见以下代码片段:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="a0b8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上面的例子中，在<code class="fe lr ls lt lu b">a</code>上有三个使用<code class="fe lr ls lt lu b">var</code>的声明，它运行得很好，但是只要我们声明两个<code class="fe lr ls lt lu b">b</code>，JavaScript就会像你看到的那样抱怨。</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="245f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这就是JavaScript中关键字<code class="fe lr ls lt lu b">let</code>和<code class="fe lr ls lt lu b">var</code>的4个不同之处。请注意它们区别，并在定义变量时小心谨慎。尤其是，仔细考虑你希望你的变量在什么范围内。快乐学习，快乐编码！</p><p id="1663" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nc">更多内容请看</em><a class="ae nd" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nc">plain English . io</em></strong></a><em class="nc">。报名参加我们的</em> <a class="ae nd" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nc">免费周报</em> </strong> </a> <em class="nc">。关注我们关于</em><a class="ae nd" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nc">Twitter</em></strong></a><em class="nc">和</em><a class="ae nd" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir"><em class="nc">LinkedIn</em></strong></a><em class="nc">。加入我们的</em> <a class="ae nd" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> <em class="nc">社区不和谐</em> </strong> </a> <em class="nc">。</em></p></div></div>    
</body>
</html>