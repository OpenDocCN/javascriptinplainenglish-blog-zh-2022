<html>
<head>
<title>How to Create a Simple Dialog Box with Angular Material</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建一个简单的对话框</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-create-a-simple-dialog-box-with-angular-material-8cd68440ddd1?source=collection_archive---------3-----------------------#2022-07-26">https://javascript.plainenglish.io/how-to-create-a-simple-dialog-box-with-angular-material-8cd68440ddd1?source=collection_archive---------3-----------------------#2022-07-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2432" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你不必成为一个CSS大师来创建漂亮的对话框。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e06ec4bb8f79c85062b78ad43e1341b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F_lacS8nVQe52TBd.jpg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://pixabay.com/illustrations/silhouettes-person-human-man-woman-776670/" rel="noopener ugc nofollow" target="_blank">Image by geralt in Pixabay</a></figcaption></figure><p id="cc9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在web应用程序中，对话框是与用户交互的方便工具。如果使用得当，它可以吸引用户的注意力，并使你的网页看起来整洁。如果你想从头开始创建一个对话框，这需要一些高级的CSS知识。然而，使用Angular这样的框架，创建对话框是一项非常简单的任务，即使对于不是CSS专家的人来说也是如此。在这篇文章中，我们将演示如何用Angular创建一个简单的对话框。所有的细节以及一些注意事项都包括在内，这对你的实际工作会有帮助。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="5dd2" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">准备</h2><p id="2811" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果你还没有安装Angular CLI，你可能想看看<a class="ae kv" href="https://angular.io/cli" rel="noopener ugc nofollow" target="_blank">这个指南</a>。首先，您需要安装<a class="ae kv" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> node.js </a>，因为我们需要使用<a class="ae kv" href="https://nodejs.org/en/knowledge/getting-started/npm/what-is-npm/" rel="noopener ugc nofollow" target="_blank"> npm工具</a>来安装<a class="ae kv" href="https://angular.io/cli#installing-angular-cli" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>。</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="f895" class="lz ma iq my b gy nc nd l ne nf">$ npm install -g <a class="ae kv" href="http://twitter.com/angular/cli" rel="noopener ugc nofollow" target="_blank">@angular/cli</a></span></pre><p id="e847" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者，如果您不想在本地完成，您可以在<a class="ae kv" href="https://stackblitz.com/" rel="noopener ugc nofollow" target="_blank"> StackBlitz </a>中创建项目。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="2947" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">创建所需的工作空间和组件</h2><p id="ef9a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">角度应用是在角度工作空间的背景下开发的。我们需要首先创建一个:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="b4f6" class="lz ma iq my b gy nc nd l ne nf">$ ng new mydialog</span></pre><p id="c364" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">工作区基本上是一个包含各种样板代码的项目文件夹。目前，您还不需要检查代码。如果您使用StackBlitz，当您选择Angular框架时，默认情况下会为您创建一个工作空间。</p><p id="d8fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将为我们创建一个默认的<code class="fe ng nh ni my b">NgModule</code> ( <code class="fe ng nh ni my b">AppModule</code>)，它包括应用程序的模块、组件、服务等。此外，还创建了一个默认组件(<code class="fe ng nh ni my b">AppComponent</code>)，作为应用程序的入口点。</p><p id="9cbc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要创建一个新组件来处理对话框的逻辑:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="63dc" class="lz ma iq my b gy nc nd l ne nf">$ ng generate component add-cart</span></pre><p id="8d77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将在新组件(<code class="fe ng nh ni my b">AddCartComponent</code>)的<code class="fe ng nh ni my b">app</code>文件夹内创建一个新文件夹，其中包括该组件的文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/2e2caa95fa0a4eb8d0b9b85ffead0dc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*KUBEJy1433NLFkf89Os0dA.png"/></div></div></figure><p id="7aef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要被这里显示的大量文件吓到，我们通常只关注上面显示的红框中的文件。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="6dac" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">安装角形材料</h2><p id="7191" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在这篇文章中，我们将关注功能和数据逻辑，而不是样式。尽管如此，我们将使用<a class="ae kv" href="https://material.angular.io/" rel="noopener ugc nofollow" target="_blank">棱角分明的材料</a>来赋予我们的按钮和输入表单一些易于应用的漂亮样式。最重要的是，我们将使用<code class="fe ng nh ni my b">MatDialog</code>服务打开带有材质设计风格和动画的模态对话框。</p><p id="52ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在您的项目中安装Angular materiall，请使用Angular CLI运行以下命令:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="0ca2" class="lz ma iq my b gy nc nd l ne nf">$ ng add <a class="ae kv" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a></span></pre><p id="5b17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在安装过程中，我们可以保留默认选择。您的项目文件如<code class="fe ng nh ni my b">package.json</code>、<code class="fe ng nh ni my b">index.html</code>和<code class="fe ng nh ni my b">styles.css</code>将自动更新以应用角度材质样式。</p><p id="8aa7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在StackBlitz中，我们需要添加角度材料的依赖关系:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/e937cc729744f048ea2b6f5b06ec19dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dgpIxs17Y5Q8q7GH3n5oHw.png"/></div></div></figure><p id="9706" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按照上图所示的说明添加角度材料的依赖性。此外，我们需要在<code class="fe ng nh ni my b"><a class="ae kv" href="https://github.com/lynnkwong/angular-dialog-demo/blob/main/src/styles.css" rel="noopener ugc nofollow" target="_blank">styles.css</a></code>中导入一个主题，让棱角分明的材质在StackBlitz中正常工作。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="0137" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">导入角度材料模块</h2><p id="df85" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在上一步中，Angular CLI仅设置角度材料的全局配置。我们需要手动导入将在<code class="fe ng nh ni my b">app.module.ts</code>的应用程序中使用的模块:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="9b2b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">创建一个按钮来触发对话框</h2><p id="43e0" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">首先，我们需要创建一些可以作为打开对话框的触发器的东西。在这种情况下，最好使用<a class="ae kv" href="https://material.angular.io/components/button/overview" rel="noopener ugc nofollow" target="_blank">按钮</a>。</p><p id="55a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ng nh ni my b">app.component.html</code>中添加以下代码来创建按钮。此外，一旦对话框关闭，我们还将显示购物车数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="c98a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据逻辑包含在模型文件<code class="fe ng nh ni my b">app.compnent.ts</code>中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2c17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码应该是不言自明的，尤其是带有注释的代码。它可能看起来很简单，但是如果你想让它正常工作，没有错误，你需要非常小心所有的细节。这是我的第一篇前端帖子，我发现它比数据或后端帖子更难写😅。尽管如此，这篇文章还是包含了一些对你的工作有帮助的技巧，尤其是当你从后端切换到前端的时候。它可以用从实际项目中学到的一些实践经验来补充官方文档。</p><p id="eb8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想要这个例子中显示的精确样式，你需要写一些CSS代码，可以在<a class="ae kv" href="https://github.com/lynnkwong/angular-dialog-demo/blob/main/src/app/app.component.css" rel="noopener ugc nofollow" target="_blank">这个repo </a>中找到。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="341b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">更新对话框模型和寺庙文件</h2><p id="67b1" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">让我们首先创建模型文件，它比模板文件简单。将以下代码添加到<code class="fe ng nh ni my b">add-cart.component.ts</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="6c11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里值得一提的是，我们可以使用<code class="fe ng nh ni my b">@Inject(MAT_DIALOG_DATA)</code>语法将一些数据注入对话框组件。数据从打开对话框的组件中传递，如上所示，使用<code class="fe ng nh ni my b">data</code>配置。</p><p id="0350" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而且模板文件稍微复杂一点，需要一些角和角材的基础知识，特别是<a class="ae kv" href="https://material.angular.io/components/form-field/overview" rel="noopener ugc nofollow" target="_blank"> mat-form-field </a>和<a class="ae kv" href="https://material.angular.io/components/dialog/overview" rel="noopener ugc nofollow" target="_blank"> MatDialog </a>，还有<a class="ae kv" href="https://angular.io/guide/forms" rel="noopener ugc nofollow" target="_blank">模板驱动的表单</a>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="f540" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，如果您想要获得本例中所示的精确样式，您需要编写一些CSS代码，这些代码可以在<a class="ae kv" href="https://github.com/lynnkwong/angular-dialog-demo/blob/main/src/app/add-cart/add-cart.component.css" rel="noopener ugc nofollow" target="_blank">本报告</a>中找到。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="9038" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">启动应用程序并修复一个烦人的bug</h2><p id="5c23" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">实际上，我们可以也应该在开发阶段的最开始就加速应用程序的运行，这样你就可以实时看到结果并修复错误。</p><p id="01ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用以下命令加速应用程序:</p><pre class="kg kh ki kj gt mx my mz na aw nb bi"><span id="d57f" class="lz ma iq my b gy nc nd l ne nf">$ ng serve --open</span></pre><p id="1fd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">浏览器会自动为您打开。当您点击“添加到购物车”按钮时，您将看到如下对话框:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/8639c36d48b66db0565fd0910ec00025.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*txjD4DsWaaSLgaHFW_XYFA.png"/></div></figure><p id="ad59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们看到的，输入框和前缀没有正确对齐。这是<a class="ae kv" href="https://github.com/angular/components/issues/12803" rel="noopener ugc nofollow" target="_blank">一个已知的错误</a>，应该被明确地修复。我们需要将下面的CSS代码添加到<strong class="ky ir"> <em class="no">全局</em> </strong>样式表<code class="fe ng nh ni my b"><a class="ae kv" href="https://github.com/lynnkwong/angular-dialog-demo/blob/main/src/styles.css" rel="noopener ugc nofollow" target="_blank">styles.css</a></code>中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="822f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们需要将<code class="fe ng nh ni my b">fix-prefix</code> CSS类添加到<code class="fe ng nh ni my b">mat-form-field</code>中，并为输入框添加一个前缀:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="0910" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，应用程序应该看起来不错，正确的，干杯！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/9d90d6c26259e20b9eaf54e9118f4dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*Zwik6m6FX6JYvNlaDor2xA.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="88db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">强烈建议你在本地下载这篇文章的回购协议，或者在stack blitz中使用T2现有的回购协议，以便更好地理解代码。试着改变代码，破坏它，然后修复它。当你开始编码时，你将学到比仅仅阅读文档或视频更多的东西。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="f3e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="no">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="no">说白了就是</em> </strong> </a> <em class="no">。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="no">免费周报</em> </strong> </a> <em class="no">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="no">Twitter</em></strong></a><em class="no">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="no">LinkedIn</em></strong></a><em class="no">。查看我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="no">社区不和谐</em> </strong> </a> <em class="no">加入我们的</em> <a class="ae kv" href="https://inplainenglish.pallet.com/talent/welcome" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="no">人才集体</em> </strong> </a> <em class="no">。</em></p></div></div>    
</body>
</html>