<html>
<head>
<title>How to Extract a Number from a String in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript从字符串中提取一个数字</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/javascript-extract-number-from-string-9b13aef29463?source=collection_archive---------8-----------------------#2022-06-30">https://javascript.plainenglish.io/javascript-extract-number-from-string-9b13aef29463?source=collection_archive---------8-----------------------#2022-06-30</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="8061" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">了解在JavaScript中从字符串中轻松提取数字的多种方法。</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/dcca33a680ed283af5c0bcd7410c1090.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ad9NCQrY_Yw-IR7BtnqHAw.png"/></div></div></figure><h1 id="23ed" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">1.字符串替换()方法</h1><p id="111c" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">要在JavaScript中从字符串中提取一个数字，用正则表达式调用字符串上的<code class="fe mc md me mf b">replace()</code>方法来替换原始字符串中的所有非数字字符。例如:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="a85a" class="mk kp in mf b gy ml mm l mn mo">const str = 'The number 345 has three digits';</span><span id="607e" class="mk kp in mf b gy mp mm l mn mo">const replaced = str.replace(/\D/g, '');<br/>console.log(replaced); // 345</span></pre><p id="0433" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">String</code> <code class="fe mc md me mf b">replace()</code>方法返回一个新的字符串，其中匹配的模式被替换。我们传递一个匹配所有非数字字符的正则表达式，这样我们就可以用一个空字符串(<code class="fe mc md me mf b">''</code>)来替换它们，从而删除它们。</p><p id="0236" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">\D</code>正则表达式元字符匹配字符串中的任何非数字字符。</p><p id="ec95" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">g</code>(全局)标志指定字符串中出现的每一个非数字字符都应该由正则表达式进行匹配。</p><p id="9bd8" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">如果我们没有传递全局标志，那么只有输入字符串中的第一个非数字字符会被匹配和替换:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="c520" class="mk kp in mf b gy ml mm l mn mo">const str = 'The number 345 has three digits';</span><span id="95a0" class="mk kp in mf b gy mp mm l mn mo">// No 'g' flag in regex<br/>const replaced = str.replace(/\D/, '');</span><span id="d0f9" class="mk kp in mf b gy mp mm l mn mo">console.log(replaced); // he number 345 has three digits</span></pre><h1 id="69c8" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">2.字符串匹配()方法</h1><p id="ab57" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">为了从字符串中提取一个数字，我们还可以在字符串上调用<code class="fe mc md me mf b">match()</code>方法，传递一个匹配连续数字序列的正则表达式。例如:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="31b7" class="mk kp in mf b gy ml mm l mn mo">const str = 'The number 345 has three digits';</span><span id="da36" class="mk kp in mf b gy mp mm l mn mo">const matches = str.match(/\d+/);<br/>const numStr = matches[0];</span><span id="48ae" class="mk kp in mf b gy mp mm l mn mo">console.log(numStr); // 345</span></pre><p id="84d0" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">String</code> <code class="fe mc md me mf b">match()</code>方法根据正则表达式匹配字符串并返回结果。在我们的例子中，匹配的数字是数组的第一项，所以我们用括号符号访问<code class="fe mc md me mf b">0</code>属性来获取它。</p><p id="c19c" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><code class="fe mc md me mf b">\d</code>元字符用于查找字符串中的数字。我们将<code class="fe mc md me mf b">+</code>与<code class="fe mc md me mf b">\d</code>相加，以找到一个连续的数字序列。</p><p id="3a4a" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated">当试图分别提取字符串中的每个数字时，第二种方法更好，因为它将连续的数字序列视为单独的匹配。为了分别提取每个数字，我们需要添加<code class="fe mc md me mf b">g</code>标志:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="8970" class="mk kp in mf b gy ml mm l mn mo">const str = 'The numbers 345 and 847 have three digits';</span><span id="e564" class="mk kp in mf b gy mp mm l mn mo">const matches = str.match(/\d+/g);<br/>console.log(matches); // [ '345', '847' ]</span></pre><h2 id="a927" class="mk kp in bd kq mv mw dn ku mx my dp ky lp mz na la lt nb nc lc lx nd ne le nf bi translated">注意</h2><p id="750f" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">当找不到数字时，<code class="fe mc md me mf b">match()</code>方法将返回<code class="fe mc md me mf b">null</code>:</p><pre class="kd ke kf kg gt mg mf mh mi aw mj bi"><span id="7118" class="mk kp in mf b gy ml mm l mn mo">const str = 'There are no numbers in this string';</span><span id="0e99" class="mk kp in mf b gy mp mm l mn mo">const matches = str.match(/\d+/g);<br/>console.log(matches); // null</span></pre></div><div class="ab cl ng nh hr ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ig ih ii ij ik"><p id="bcf9" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><em class="nn">更新于:</em><a class="ae no" href="https://cbdev.link/50bc41" rel="noopener ugc nofollow" target="_blank"><em class="nn">codingbeautydev.com</em></a></p><h1 id="aa4e" class="ko kp in bd kq kr ks kt ku kv kw kx ky jt kz ju la jw lb jx lc jz ld ka le lf bi translated">JavaScript做的每一件疯狂的事情</h1><p id="9a76" class="pw-post-body-paragraph lg lh in li b lj lk jo ll lm ln jr lo lp lq lr ls lt lu lv lw lx ly lz ma mb ig bi translated">一本关于JavaScript微妙的警告和鲜为人知的部分的迷人指南。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi np"><img src="../Images/143ee152ba78025ea8643ba5b9726a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*YS5Oub8REWy8vnOEqBnsyQ.png"/></div></figure><p id="7d6e" class="pw-post-body-paragraph lg lh in li b lj mq jo ll lm mr jr lo lp ms lr ls lt mt lv lw lx mu lz ma mb ig bi translated"><a class="ae no" href="https://cbdev.link/d3c4eb" rel="noopener ugc nofollow" target="_blank"> <strong class="li io">报名</strong> </a>立即免费领取一份。</p></div></div>    
</body>
</html>