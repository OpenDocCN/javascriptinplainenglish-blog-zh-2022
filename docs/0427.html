<html>
<head>
<title>Automatically Tweet Popular Articles from DEV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从DEV自动发布热门文章</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/automatically-tweet-popular-articles-from-dev-46da29c7a20c?source=collection_archive---------28-----------------------#2022-01-24">https://javascript.plainenglish.io/automatically-tweet-popular-articles-from-dev-46da29c7a20c?source=collection_archive---------28-----------------------#2022-01-24</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><div class=""><h2 id="b357" class="pw-subtitle-paragraph jk im in bd b jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb dk translated">开源工具，自动发布你的热门文章</h2></div><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi kc"><img src="../Images/39c44936e3ca3c3afd1e03fb107b6cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQnTQkCpkt2vHcPytl9Jwg.jpeg"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Tweet my articles</figcaption></figure><p id="bcf0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">大家好，上周我已经建立了这个项目，它将自动从开发我的热门帖子。它在<a class="ae lo" href="https://tma.theanshuman.dev" rel="noopener ugc nofollow" target="_blank"> Tweet我的文章</a>上直播，你也可以从<a class="ae lo" href="https://github.com/Anshuman71/tweet-my-articles" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上转发。</p><h1 id="1589" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">发我的文章</h1><p id="0ba7" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">这是一个开源工具，用于自动将著名的DEV帖子发布到作者的Twitter帐户。</p><h1 id="ceb9" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">动机</h1><p id="c8b8" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">我是DEV的技术博客作者。最近，我的帖子在平台上获得了很多牵引，对我来说，这是值得与世界分享的新闻。所以，我开始在推特上发布里程碑事件，比如1000次浏览等等。</p><p id="c42e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">开始时，这很好，但是有一天Daily.dev <a class="ae lo" href="https://dev.to/dailydevtips1" rel="noopener ugc nofollow" target="_blank"> @dailydevtips1 </a>在这条推文中给我加了标签。</p><figure class="kd ke kf kg gt kh"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">DailyDev tagged Anshuman</figcaption></figure><p id="d39c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这让我想到“如果他们能自动化，我也能”。</p><p id="0611" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我的朋友们就是这样开始启动这个项目的。</p><h1 id="5b8b" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">技术问题陈述</h1><p id="ef80" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">当关于DEV的文章X跨越预定义的里程碑时，我们希望发送一条tweet。</p><h1 id="1404" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">故障</h1><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="gh gi mo"><img src="../Images/73e903d9d1088beb72b8aefbcf039d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yDlUIxb-6BNjrOjUehvuWg.png"/></div></div><figcaption class="ko kp gj gh gi kq kr bd b be z dk">Breakdown of technical flow</figcaption></figure><h1 id="dc37" class="lp lq in bd lr ls lt lu lv lw lx ly lz jt ma ju mb jw mc jx md jz me ka mf mg bi translated">技术堆栈</h1><p id="80a7" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">这个项目是一个爱好项目，为一个非营利组织。这里使用的所有工具都是免费和公开的。</p><ol class=""><li id="36a4" class="mp mq in ku b kv kw ky kz lb mr lf ms lj mt ln mu mv mw mx bi translated"><strong class="ku io"> Next.js </strong>:这个项目是使用Next.js引导的。</li><li id="54d3" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated">GitHub :用于源代码管理和使用GitHub动作运行cron作业。</li><li id="8050" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated"><strong class="ku io"> Vercel </strong>:作为平台。我们使用他们的“无服务器和边缘功能”。</li><li id="a969" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated"><strong class="ku io"> MongoDB Atlas </strong>:用作数据库提供者来保存每篇文章的里程碑信息。</li><li id="7ef9" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated"><strong class="ku io">更名</strong>:作为链接缩短服务</li></ol></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><h1 id="daa6" class="lp lq in bd lr ls nk lu lv lw nl ly lz jt nm ju mb jw nn jx md jz no ka mf mg bi translated">我如何使用这个项目？</h1><h2 id="1ed8" class="np lq in bd lr nq nr dn lv ns nt dp lz lb nu nv mb lf nw nx md lj ny nz mf oa bi translated">第一步</h2><p id="ca06" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">从<a class="ae lo" href="https://github.com/Anshuman71/tweet-my-articles" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中派生这个项目</p><h2 id="e3c4" class="np lq in bd lr nq nr dn lv ns nt dp lz lb nu nv mb lf nw nx md lj ny nz mf oa bi translated">第二步</h2><p id="2db3" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">在上创建帐户</p><ul class=""><li id="8240" class="mp mq in ku b kv kw ky kz lb mr lf ms lj mt ln ob mv mw mx bi translated">韦尔塞尔</li><li id="595a" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln ob mv mw mx bi translated">Twitter开发者</li><li id="97df" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln ob mv mw mx bi translated">阿特拉斯</li><li id="ada6" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln ob mv mw mx bi translated">重新划分</li></ul><h2 id="d136" class="np lq in bd lr nq nr dn lv ns nt dp lz lb nu nv mb lf nw nx md lj ny nz mf oa bi translated">第三步</h2><p id="6a2b" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">从每个平台设置并获取以下凭据</p><p id="1fd6" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">开发</strong></p><pre class="kd ke kf kg gt oc od oe of aw og bi"><span id="7d6a" class="np lq in od b gy oh oi l oj ok">DEV_USERNAME=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>DEV_API_URL=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>DEV_API_KEY=&lt;xxxxxxxxxxxxxxxxxx&gt;</span></pre><p id="ed50" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">您可以从设置&gt;帐户&gt;开发者社区API密钥中获取<code class="fe ol om on od b">API_KEY</code></p><p id="4173" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这需要在Vercel环境变量中指定。</p><p id="536b" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">韦尔塞尔</strong></p><p id="e982" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">使用您的GitHub注册以允许持续部署。</p><p id="4325" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">推特</strong></p><p id="c0d9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">注册参加推特开发者项目。</p><p id="47da" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">请阅读那里的所有说明，以确保你获得API访问权来代表你的帐户发布tweet。</p><p id="d819" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">创建新项目&gt;创建新应用程序&gt;允许Oauth1.0具有读写权限。</p><p id="0e42" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">然后得到以下内容:</p><pre class="kd ke kf kg gt oc od oe of aw og bi"><span id="3535" class="np lq in od b gy oh oi l oj ok">CONSUMER_KEY=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>CONSUMER_KEY_SECRET=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>TWITTER_ACCESS_TOKEN=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>TWITTER_ACCESS_TOKEN_SECRET=&lt;xxxxxxxxxxxxxxxxxx&gt;</span></pre><p id="1b62" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这需要在Vercel环境变量中指定。</p><p id="3d7c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io"> MongoDB图集</strong></p><p id="fa44" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><a class="ae lo" href="https://www.mongodb.com/atlas/database" rel="noopener ugc nofollow" target="_blank">在Atlas上注册</a>，创建一个新集群，点击连接&gt;使用应用程序连接。</p><pre class="kd ke kf kg gt oc od oe of aw og bi"><span id="b3dc" class="np lq in od b gy oh oi l oj ok">DB_NAME=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>ATLAS_URI_PROD=&lt;xxxxxxxxxxxxxxxxxx&gt;</span></pre><p id="82e1" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">DB_NAME应该与连接URI中指定的相同。</p><p id="370c" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这是一个URI的样本</p><pre class="kd ke kf kg gt oc od oe of aw og bi"><span id="d92d" class="np lq in od b gy oh oi l oj ok">mongodb+srv://&lt;user&gt;:&lt;password&gt;@cluster0.mongodb.net/&lt;database-name&gt;?retryWrites=true&amp;w=majority</span></pre><p id="7ab9" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这需要在Vercel环境变量中指定。</p><p id="4cfd" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">更名</strong></p><p id="8b05" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">在那里注册你的自定义域名。然后获取一个API密钥。</p><pre class="kd ke kf kg gt oc od oe of aw og bi"><span id="f3a3" class="np lq in od b gy oh oi l oj ok">SHORTNER_API_KEY=&lt;xxxxxxxxxxxxxxxxxx&gt;<br/>SHORTNER_DOMAIN=&lt;xxxxxxxxxxxxxxxxxx&gt;</span></pre><p id="22af" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这需要在Vercel环境变量中指定。</p><p id="9d75" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><strong class="ku io">安全API密钥</strong></p><p id="919e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我们还希望保护我们自己的API免受未授权用户的攻击。让我们生成一个足够长的随机字符串，作为我们服务的API_KEY。使用此密钥的请求将被拒绝。</p><pre class="kd ke kf kg gt oc od oe of aw og bi"><span id="e65c" class="np lq in od b gy oh oi l oj ok">API_KEY=&lt;xxxxxxxxxxxxxxxxxx&gt;</span></pre><p id="508e" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">这需要在中指定</p><ol class=""><li id="a769" class="mp mq in ku b kv kw ky kz lb mr lf ms lj mt ln mu mv mw mx bi translated">Vercel环境变量</li><li id="e879" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated">GitHub环境变量(供操作使用)</li></ol><h2 id="2423" class="np lq in bd lr nq nr dn lv ns nt dp lz lb nu nv mb lf nw nx md lj ny nz mf oa bi translated">使用Vercel一键部署</h2><p id="c3f0" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">如果你只是想使用工具，这就是你需要做的。</p><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/bb232fc856173947d53e50aea64d7e09.png" data-original-src="https://miro.medium.com/v2/resize:fit:184/0*YdKeACt-nJ3BpQAd"/></div></figure><h2 id="1df8" class="np lq in bd lr nq nr dn lv ns nt dp lz lb nu nv mb lf nw nx md lj ny nz mf oa bi translated">第四步</h2><p id="2494" class="pw-post-body-paragraph ks kt in ku b kv mh jo kx ky mi jr la lb mj ld le lf mk lh li lj ml ll lm ln ig bi translated">出于开发目的，将相同的凭证复制到一个<code class="fe ol om on od b">.env.local</code>文件中。repo中有一个示例文件<code class="fe ol om on od b">.env.development</code>用于帮助。</p><h2 id="bcf2" class="np lq in bd lr nq nr dn lv ns nt dp lz lb nu nv mb lf nw nx md lj ny nz mf oa bi translated">第五步</h2><ol class=""><li id="3ed8" class="mp mq in ku b kv mh ky mi lb op lf oq lj or ln mu mv mw mx bi translated">在repo中运行<code class="fe ol om on od b">yarn</code>来安装依赖项。</li><li id="1225" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated">运行<code class="fe ol om on od b">yarn dev</code>运行本地服务器。</li><li id="3bbf" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated">推送到GitHub上的远程repo，自动部署到Vercel。</li></ol></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><h1 id="cef1" class="lp lq in bd lr ls nk lu lv lw nl ly lz jt nm ju mb jw nn jx md jz no ka mf mg bi translated">常见问题</h1><ol class=""><li id="ef57" class="mp mq in ku b kv mh ky mi lb op lf oq lj or ln mu mv mw mx bi translated">为什么我们需要缩短链接？DEV提供的默认URL有时太长，Twitter无法加载预览，如果没有预览，文章看起来不会很好。所以我用了一个快捷键来解决这个问题。Rebrandly提供多达500个链接的免费自定义域名使用，这对于我们的用例来说已经足够好了。</li><li id="893c" class="mp mq in ku b kv my ky mz lb na lf nb lj nc ln mu mv mw mx bi translated">为什么不做一个SAAS？嗯，我很乐意。但是因为这个项目包含了很多像Twitter API密钥这样的敏感信息，所以让人们拥有他们的数据会让我感觉更好。这样每个人都有责任保证他们项目的安全。</li></ol><p id="43bd" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">本文到此为止，我将把这篇文章扩展成一个系列，详细解释每一步。请跟我来获取这方面的更新。</p><p id="edbe" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated">我希望你喜欢读这篇文章，就像我喜欢写这篇文章一样！如果是这样，就留下一个❤️吧！如果您有任何反馈或问题，请随时在下面的评论中提出。我很想听听他们的想法并为之努力。</p><blockquote class="ot ou ov"><p id="f8ac" class="ks kt os ku b kv kw jo kx ky kz jr la ow lc ld le ox lg lh li oy lk ll lm ln ig bi translated"><em class="in">直到下一次</em></p></blockquote><figure class="kd ke kf kg gt kh gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/27d15731acda6bd22123754013568458.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/0*Psj8FK-OyhsAQHTz.gif"/></div></figure></div><div class="ab cl nd ne hr nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ig ih ii ij ik"><p id="c221" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="os">原载于2022年1月24日</em><a class="ae lo" href="https://theanshuman.dev/articles/automatically-tweet-popular-article-from-dev-246f" rel="noopener ugc nofollow" target="_blank"><em class="os">https://theanshuman . dev</em></a><em class="os">。</em></p><p id="2da0" class="pw-post-body-paragraph ks kt in ku b kv kw jo kx ky kz jr la lb lc ld le lf lg lh li lj lk ll lm ln ig bi translated"><em class="os">更多内容请看</em><a class="ae lo" href="http://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ku io"><em class="os">plain English . io</em></strong></a><em class="os">。报名参加我们的</em> <a class="ae lo" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="os">免费周报</em> </strong> </a> <em class="os">。在我们的</em> <a class="ae lo" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ku io"> <em class="os">社区</em> </strong> </a> <em class="os">获得独家获得写作机会和建议。</em></p></div></div>    
</body>
</html>