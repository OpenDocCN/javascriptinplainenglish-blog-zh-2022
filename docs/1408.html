<html>
<head>
<title>How to Configure Commitlint and Generate Useful CHANGELOGs From Git Commit Messages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何配置Commitlint并从Git提交消息中生成有用的CHANGELOGs</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/how-to-configure-commitlint-and-generate-useful-changelogs-from-git-commit-messages-baa50764da4b?source=collection_archive---------10-----------------------#2022-03-22">https://javascript.plainenglish.io/how-to-configure-commitlint-and-generate-useful-changelogs-from-git-commit-messages-baa50764da4b?source=collection_archive---------10-----------------------#2022-03-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="daac" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从git提交消息中配置和生成有用的变更日志</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0d3670e075588adbb731cea4043d7cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RJT-MHqcyZMaafWQ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@brina_blum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Brina Blum</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9d70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在整个软件开发生命周期(SDLC)过程中，软件开发包含了各种模式、实践和约定。在整个SDLC过程中实施的实践总是很方便，并对最终产品产生重大影响。像特性一样，环境可能会迫使某些约定在开发的早期或后期被合并。</p><p id="15d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实施和采用这些约定带来了许多好处，这些好处取代了缺点。一些好处包括减少错误的发生，提高效率和软件质量。</p><p id="f602" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇短文将介绍如何通过实施提交林挺来编写更好的提交消息。我们将在一个项目中配置commitlint来实现<a class="ae kv" href="https://www.conventionalcommits.org/en/v1.0.0/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">常规提交格式</em> </strong> </a> <strong class="ky ir">。</strong>在软件项目中实现传统的提交格式有很多好处，比如:</p><ul class=""><li id="4b6a" class="lt lu iq ky b kz la lc ld lf lv lj lw ln lx lr ly lz ma mb bi translated">对开发人员、团队和公众有用的变更的流线型本质。</li><li id="3f3a" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">自动生成变更日志(发行说明)。</li><li id="74e9" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated">对您的项目做出更方便、更有效的贡献。</li></ul><p id="24fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">配置提交信息</strong></p><p id="9bec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Commitlint，顾名思义，在提交消息被注册到git提交历史之前，lints提交消息并确保它们遵守<a class="ae kv" href="https://www.conventionalcommits.org/en/v1.0.0/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">常规提交格式</em></strong></a><strong class="ky ir"><em class="ls"/></strong>。配置commitlint使更改的性质变得透明，并且更加直观地说明了更改的必要性和原因。</p><p id="57df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将在基于JavaScript的环境中配置commitlint。</p><p id="4585" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">安装commitlint cli和常规配置</strong></p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="a239" class="mm mn iq mi b gy mo mp l mq mr">yarn add --dev @commitlint/{config-conventional,cli}</span></pre><p id="1576" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您的项目中已经有了commitlint，我们需要配置它来使用传统的配置。传统配置采用如下所示的模式。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="f64d" class="mm mn iq mi b gy mo mp l mq mr"><br/>type(scope?): subject</span><span id="93f1" class="mm mn iq mi b gy ms mp l mq mr">// scope is optional to include</span></pre><p id="9374" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">commitlint默认支持的类型有:<strong class="ky ir"> <em class="ls"> (build，chore，ci，docs，feat，fix，perf，refactor，revert，style，test)。</em> </strong>类型可以根据您的偏好和项目需求的范围进行修改。您可以查看<a class="ae kv" href="https://github.com/conventional-changelog/commitlint#config" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">配置提交类型。</em> </strong> </a></p><p id="c7f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">配置哈士奇</strong></p><p id="9438" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在lint提交被注册到git提交历史之前，我们利用Husky中的<strong class="ky ir"> <em class="ls"> commit-msg </em> </strong>钩子来处理lint提交。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="2e49" class="mm mn iq mi b gy mo mp l mq mr">yarn add husky</span></pre><p id="ccdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加<strong class="ky ir">T5【提交-消息】T6</strong>钩子。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="b49d" class="mm mn iq mi b gy mo mp l mq mr">yarn husky add .husky/commit-msg 'yarn commitlint --edit $1'</span></pre><p id="5d46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您需要在package.json中设置<strong class="ky ir"><em class="ls">" post install ":" husky install "</em></strong>，以便在安装后自动启用git挂钩。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="29d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，您应该已经在您的开发环境中成功配置了commitlint，并准备好体验它所提供的强大功能。</p><p id="d049" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，每当您提交更改时，都会检查提交消息，以确保为给定的更改提供了类型(<strong class="ky ir"> <em class="ls">、构建、任务、配置项、文档、功能、修复、性能、重构、恢复、样式和测试</em> </strong>)。如果我们提供一个没有类型的提交消息，commitlint将抛出如下所示的错误。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/f3f2d706691acdc60d2e9940b8f25c37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4samy6WhB1OiBVmW-upNTw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Screenshot by Author</figcaption></figure><p id="329c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正确提交消息的一个例子是。</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="5232" class="mm mn iq mi b gy mo mp l mq mr">fix: mobile styling</span></pre><p id="f777" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">生成变更日志</strong></p><p id="47cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Changelogs是一个包含特定时间点(通常是在发布之后)的变更记录(错误修复、特性、样式、增强)的文件。这样的变更记录对于软件开发团队跟踪交付给产品的内容非常有益。</p><blockquote class="mw mx my"><p id="3d12" class="kw kx ls ky b kz la jr lb lc ld ju le mz lg lh li na lk ll lm nb lo lp lq lr ij bi translated">“变更日志是对项目进行的所有显著变更的日志或记录。该项目通常是一个网站或软件项目，变更日志通常包括诸如错误修复、新功能等变更的记录。”—维基百科</p></blockquote><p id="adc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据不同的发布版本，您可以检索到描述项目变更的优秀的提交历史。这些信息对于团队成员、公众和其他利益相关者交流项目变更的不同性质是非常有益的。</p><p id="e6ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要生成变更日志，我们需要在项目中添加标准版本。标准版本使用<a class="ae kv" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">SEM ver</em></strong></a>进行版本控制和由常规提交支持的变更日志生成。</p><p id="5624" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="ls">安装标准版</em> </strong></p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="e7ba" class="mm mn iq mi b gy mo mp l mq mr">yarn add --dev standard-version</span></pre><p id="5d28" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以在package.json上创建一个运行脚本，并随时运行该脚本来自动生成变更日志。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="f328" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要自动生成CHANGELOGs，需要运行命令<strong class="ky ir"> <em class="ls">纱运行释放</em> </strong>。</p><h2 id="4e74" class="mm mn iq bd nc nd ne dn nf ng nh dp ni lf nj nk nl lj nm nn no ln np nq nr ns bi translated"><strong class="ak">资源</strong></h2><ul class=""><li id="9ff2" class="lt lu iq ky b kz nt lc nu lf nv lj nw ln nx lr ly lz ma mb bi translated"><a class="ae kv" href="https://github.com/conventional-changelog/standard-version" rel="noopener ugc nofollow" target="_blank">标准版。</a></li><li id="d7e1" class="lt lu iq ky b kz mc lc md lf me lj mf ln mg lr ly lz ma mb bi translated"><a class="ae kv" href="https://github.com/conventional-changelog/commitlint" rel="noopener ugc nofollow" target="_blank">提交信息</a></li></ul><h2 id="2ddd" class="mm mn iq bd nc nd ne dn nf ng nh dp ni lf nj nk nl lj nm nn no ln np nq nr ns bi translated"><strong class="ak">最终想法</strong></h2><p id="ae2d" class="pw-post-body-paragraph kw kx iq ky b kz nt jr lb lc nu ju le lf ny lh li lj nz ll lm ln oa lp lq lr ij bi translated">在SDLC流程中实现commitlint可以更有效地执行编写提交消息的更好约定。类似地，它使得从您的提交中自动生成CHANGELOG变得更加容易，使得其他涉众能够更容易地快速识别为什么以及每个项目发布中发生了什么变化。</p><p id="34c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每周三，我都会发送一封独家邮件，里面有我发现的有用的、与技术写作相关的技巧、文章、应用、书籍和想法。</p><p id="d53a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://artisanal-thinker-2556.ck.page/6e2ba71172" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">加入像你一样想提高写作技巧的人。</em> </strong> </a></p><h2 id="eee9" class="mm mn iq bd nc nd ne dn nf ng nh dp ni lf nj nk nl lj nm nn no ln np nq nr ns bi translated"><strong class="ak">更读</strong></h2><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-create-api-documentation-eb4561ab6f4f"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">如何创建API文档</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">第2部分:设置您的第一个API文档</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="oo l op oq or on os kp oe"/></div></div></a></div><div class="ob oc gp gr od oe"><a rel="noopener  ugc nofollow" target="_blank" href="/5-no-code-tools-you-need-to-try-out-b8e7859a1c14"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd ir gy z fp oj fr fs ok fu fw ip bi translated">你需要尝试的5种无代码工具</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">开发人员友好的无代码工具，你需要检查</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="on l"><div class="ot l op oq or on os kp oe"/></div></div></a></div><p id="48cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">更多内容看</em> <a class="ae kv" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">说白了。报名参加我们的</em> <a class="ae kv" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">免费周报</em> </strong> </a> <em class="ls">。关注我们关于</em><a class="ae kv" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">Twitter</em></strong></a><em class="ls">和</em><a class="ae kv" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="ls">LinkedIn</em></strong></a><em class="ls">。加入我们的</em> <a class="ae kv" href="https://discord.gg/GtDtUAvyhW" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> <em class="ls">社区</em> </strong> </a> <em class="ls">。</em></strong></a></p></div></div>    
</body>
</html>