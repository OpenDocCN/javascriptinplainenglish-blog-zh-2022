<html>
<head>
<title>Event Flow in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的事件流</h1>
<blockquote>原文：<a href="https://javascript.plainenglish.io/event-flow-in-javascript-7327fb9f178b?source=collection_archive---------7-----------------------#2022-11-21">https://javascript.plainenglish.io/event-flow-in-javascript-7327fb9f178b?source=collection_archive---------7-----------------------#2022-11-21</a></blockquote><div><div class="fc ib ic id ie if"/><div class="ig ih ii ij ik"><div class=""/><figure class="gl gn jl jm jn jo gh gi paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="gh gi jk"><img src="../Images/32b9894e4b72ae103d15c2d6ca26c302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DWtu0k55sDbZ2e72mU7qOA.jpeg"/></div></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">Photo by <a class="ae jz" href="https://unsplash.com/@sandrokatalina?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Sandro Katalina</a> on <a class="ae jz" href="https://unsplash.com/s/photos/neon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c73b" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在这篇文章中，我们将通过例子来理解JavaScript中的事件以及事件在JavaScript中是如何流动的。所以，不要浪费太多时间，让我们开始吧。</p><h1 id="e0aa" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">JavaScript事件</h1><p id="2aa7" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">JavaScript事件只不过是来自基于用户动作的输入设备的信号。它可以是鼠标点击、键盘上的按钮按压或者甚至仅仅是鼠标移动被认为是事件。</p><p id="129f" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">事件流或事件传播是在DOM节点上触发事件的顺序。根据事件流的方向，有两种类型的事件:</p><ol class=""><li id="112c" class="mb mc in kc b kd ke kh ki kl md kp me kt mf kx mg mh mi mj bi translated"><strong class="kc io">事件冒泡</strong></li><li id="4d37" class="mb mc in kc b kd mk kh ml kl mm kp mn kt mo kx mg mh mi mj bi translated"><strong class="kc io">事件捕捉</strong></li></ol><h1 id="4658" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">事件冒泡</h1><p id="ab52" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">这是一种事件传播类型，事件首先在最里面的目标元素上触发，然后在目标元素的父元素上连续触发，直到到达最外面的DOM元素。</p><p id="9f21" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">流向:<strong class="kc io">子</strong> <strong class="kc io"> →父</strong></p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">event bubbling example</figcaption></figure><p id="3e0e" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的例子中，您可以看到有3个嵌套的div。当你点击子div(点击我！)你会注意到在<code class="fe mv mw mx my b">console.log</code>中，首先打印的是<code class="fe mv mw mx my b">child</code> get，然后是<code class="fe mv mw mx my b">parent</code>和<code class="fe mv mw mx my b">grandparent</code>。这里的事件从子节点流向父节点，即使事件只在子div上执行。事件冒泡是浏览器使用的事件传播的默认行为。</p><h1 id="e2d7" class="ky kz in bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">事件捕获</h1><p id="42d5" class="pw-post-body-paragraph ka kb in kc b kd lw kf kg kh lx kj kk kl ly kn ko kp lz kr ks kt ma kv kw kx ig bi translated">这是一种事件传播类型，事件首先被最外面的元素捕获，然后在目标元素的子元素上连续触发，直到到达最里面的DOM元素。</p><p id="b888" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">流向:<strong class="kc io">上级→下级</strong></p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">event capturing example</figcaption></figure><p id="2f87" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码示例中，你会注意到当我们点击子元素<code class="fe mv mw mx my b">Click Me!</code>时。在运行子事件处理程序时，首先运行最顶层的div <code class="fe mv mw mx my b">grandparent</code>事件处理程序，然后运行子事件处理程序。由于捕获不是事件传播的默认模式，我们必须显式地允许事件捕获。我们可以通过将处理程序选项<code class="fe mv mw mx my b">capture</code>设置为<code class="fe mv mw mx my b">true</code>来实现这一点，如下所示</p><pre class="mp mq mr ms gt mz my na bn nb nc bi"><span id="0a01" class="nd kz in my b be ne nf l ng nh">element.addEventListener(..., {capture: true})<br/><br/>// or, just "true" is an alias to {capture: true}<br/>element.addEventListener(..., true)</span></pre><p id="f1a9" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">为了阻止事件传播到不同的DOM节点，我们可以使用<code class="fe mv mw mx my b">event.stopPropagation()</code>方法。在DOM节点上执行Stop propagation方法将阻止冒泡和捕获事件传播。应该小心使用方法，因为改变事件传播的默认行为可能会在我们的web应用程序中导致一些意想不到的结果。下面是使用<code class="fe mv mw mx my b">event.stopPropagation()</code>的代码片段。</p><figure class="mp mq mr ms gt jo"><div class="bz fp l di"><div class="mt mu l"/></div><figcaption class="jv jw gj gh gi jx jy bd b be z dk">even stop propagation example</figcaption></figure><p id="fb78" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">在上面的代码中，<code class="fe mv mw mx my b">child</code>事件处理程序正在执行<code class="fe mv mw mx my b">event.stopPropagation</code>方法，这将中断事件流，因此只有<code class="fe mv mw mx my b">child</code>将被打印在<code class="fe mv mw mx my b">console</code>中。</p><p id="a2fc" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated">感谢您阅读这篇文章。欢迎在评论区分享你的想法。快乐阅读！</p><p id="ed68" class="pw-post-body-paragraph ka kb in kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ig bi translated"><em class="ni">更多内容看</em> <a class="ae jz" href="https://plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ni">说白了就是</em> </strong> </a> <em class="ni">。报名参加我们的</em> <a class="ae jz" href="http://newsletter.plainenglish.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ni">免费周报</em> </strong> </a> <em class="ni">。关注我们关于</em> <a class="ae jz" href="https://twitter.com/inPlainEngHQ" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ni">推特</em> </strong> </a>，<a class="ae jz" href="https://www.linkedin.com/company/inplainenglish/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ni">领英</em> </strong> </a> <strong class="kc io"> <em class="ni">，</em></strong><a class="ae jz" href="https://www.youtube.com/channel/UCtipWUghju290NWcn8jhyAw" rel="noopener ugc nofollow" target="_blank"><strong class="kc io"><em class="ni">YouTube</em></strong></a><strong class="kc io"><em class="ni">，</em> </strong> <em class="ni">和</em><strong class="kc io"><em class="ni">不和</em> </strong>   <em class="ni">对成长黑客感兴趣？检查出</em> <a class="ae jz" href="https://circuit.ooo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kc io"> <em class="ni">电路</em> </strong> </a> <strong class="kc io"> <em class="ni">。</em>T71】</strong></p></div></div>    
</body>
</html>